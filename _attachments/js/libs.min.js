/*! jQuery v2.1.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m=a.document,n="2.1.0",o=function(a,b){return new o.fn.init(a,b)},p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};o.fn=o.prototype={jquery:n,constructor:o,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=o.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return o.each(this,a,b)},map:function(a){return this.pushStack(o.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},o.extend=o.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||o.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(o.isPlainObject(d)||(e=o.isArray(d)))?(e?(e=!1,f=c&&o.isArray(c)?c:[]):f=c&&o.isPlainObject(c)?c:{},g[b]=o.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},o.extend({expando:"jQuery"+(n+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===o.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isPlainObject:function(a){if("object"!==o.type(a)||a.nodeType||o.isWindow(a))return!1;try{if(a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=o.trim(a),a&&(1===a.indexOf("use strict")?(b=m.createElement("script"),b.text=a,m.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":k.call(a)},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?o.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),o.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||o.guid++,f):void 0},now:Date.now,support:l}),o.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=o.type(a);return"function"===c||o.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a)return d;if(1!==(i=b.nodeType)&&9!==i)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--)m[j]=q+pb(m[j]);u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},z=b?function(a,b){if(a===b)return j=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b)return j=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return ib(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)k.unshift(c);while(h[d]===k[d])d++;return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=jb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=kb(b);function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[qb(rb(m),c)];else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++)if(d.relative[a[e].type])break;return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){n=0;while(o=a[n++])if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++])o(r,s,g,i);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=E.call(j));s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=ob(a)),c=b.length;while(c--)f=ub(b[c]),f[s]?d.push(f):e.push(f);f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++)db(a,b[d],c);return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b)return e;a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type])break;if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&pb(i),!a)return G.apply(e,f),e;break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);o.find=t,o.expr=t.selectors,o.expr[":"]=o.expr.pseudos,o.unique=t.uniqueSort,o.text=t.getText,o.isXMLDoc=t.isXML,o.contains=t.contains;var u=o.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(o.isFunction(b))return o.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return o.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return o.filter(b,a,c);b=o.filter(b,a)}return o.grep(a,function(a){return g.call(b,a)>=0!==c})}o.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?o.find.matchesSelector(d,a)?[d]:[]:o.find.matches(a,o.grep(b,function(a){return 1===a.nodeType}))},o.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(o(a).filter(function(){for(b=0;c>b;b++)if(o.contains(e[b],this))return!0}));for(b=0;c>b;b++)o.find(a,e[b],d);return d=this.pushStack(c>1?o.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?o(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=o.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof o?b[0]:b,o.merge(this,o.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:m,!0)),v.test(c[1])&&o.isPlainObject(b))for(c in b)o.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=m.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=m,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):o.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(o):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),o.makeArray(a,this))};A.prototype=o.fn,y=o(m);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};o.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&o(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),o.fn.extend({has:function(a){var b=o(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(o.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?o(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&o.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?o.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(o(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(o.unique(o.merge(this.get(),o(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}o.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return o.dir(a,"parentNode")},parentsUntil:function(a,b,c){return o.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return o.dir(a,"nextSibling")},prevAll:function(a){return o.dir(a,"previousSibling")},nextUntil:function(a,b,c){return o.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return o.dir(a,"previousSibling",c)},siblings:function(a){return o.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return o.sibling(a.firstChild)},contents:function(a){return a.contentDocument||o.merge([],a.childNodes)}},function(a,b){o.fn[a]=function(c,d){var e=o.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=o.filter(d,e)),this.length>1&&(C[a]||o.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return o.each(a.match(E)||[],function(a,c){b[c]=!0}),b}o.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):o.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){o.each(b,function(b,c){var d=o.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&o.each(arguments,function(a,b){var c;while((c=o.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?o.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},o.extend({Deferred:function(a){var b=[["resolve","done",o.Callbacks("once memory"),"resolved"],["reject","fail",o.Callbacks("once memory"),"rejected"],["notify","progress",o.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return o.Deferred(function(c){o.each(b,function(b,f){var g=o.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&o.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?o.extend(a,d):d}},e={};return d.pipe=d.then,o.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&o.isFunction(a.promise)?e:0,g=1===f?a:o.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&o.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;o.fn.ready=function(a){return o.ready.promise().done(a),this},o.extend({isReady:!1,readyWait:1,holdReady:function(a){a?o.readyWait++:o.ready(!0)},ready:function(a){(a===!0?--o.readyWait:o.isReady)||(o.isReady=!0,a!==!0&&--o.readyWait>0||(H.resolveWith(m,[o]),o.fn.trigger&&o(m).trigger("ready").off("ready")))}});function I(){m.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),o.ready()}o.ready.promise=function(b){return H||(H=o.Deferred(),"complete"===m.readyState?setTimeout(o.ready):(m.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},o.ready.promise();var J=o.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===o.type(c)){e=!0;for(h in c)o.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,o.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(o(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};o.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=o.expando+Math.random()}K.uid=1,K.accepts=o.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,o.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(o.isEmptyObject(f))o.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,o.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{o.isArray(b)?d=b.concat(b.map(o.camelCase)):(e=o.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!o.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?o.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}o.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),o.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;
while(c--)d=g[c].name,0===d.indexOf("data-")&&(d=o.camelCase(d.slice(5)),P(f,d,e[d]));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=o.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),o.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||o.isArray(c)?d=L.access(a,b,o.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=o.queue(a,b),d=c.length,e=c.shift(),f=o._queueHooks(a,b),g=function(){o.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:o.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),o.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?o.queue(this[0],a):void 0===b?this:this.each(function(){var c=o.queue(this,a,b);o._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&o.dequeue(this,a)})},dequeue:function(a){return this.each(function(){o.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=o.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===o.css(a,"display")||!o.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=m.createDocumentFragment(),b=a.appendChild(m.createElement("div"));b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";l.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return m.activeElement}catch(a){}}o.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=o.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof o!==U&&o.event.triggered!==b.type?o.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n&&(l=o.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=o.event.special[n]||{},k=o.extend({type:n,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&o.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),o.event.global[n]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],n=q=h[1],p=(h[2]||"").split(".").sort(),n){l=o.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||o.removeEvent(a,n,r.handle),delete i[n])}else for(n in i)o.event.remove(a,n+b[j],c,d,!0);o.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,p=[d||m],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||m,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+o.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[o.expando]?b:new o.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:o.makeArray(c,[b]),n=o.event.special[q]||{},e||!n.trigger||n.trigger.apply(d,c)!==!1)){if(!e&&!n.noBubble&&!o.isWindow(d)){for(i=n.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||m)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:n.bindType||q,l=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),l&&l.apply(g,c),l=k&&g[k],l&&l.apply&&o.acceptData(g)&&(b.result=l.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||n._default&&n._default.apply(p.pop(),c)!==!1||!o.acceptData(d)||k&&o.isFunction(d[q])&&!o.isWindow(d)&&(h=d[k],h&&(d[k]=null),o.event.triggered=q,d[q](),o.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=o.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=o.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=o.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((o.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?o(e,this).index(i)>=0:o.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||m,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[o.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new o.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=m),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&o.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return o.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=o.extend(new o.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?o.event.trigger(e,null,b):o.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},o.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},o.Event=function(a,b){return this instanceof o.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.getPreventDefault&&a.getPreventDefault()?Z:$):this.type=a,b&&o.extend(this,b),this.timeStamp=a&&a.timeStamp||o.now(),void(this[o.expando]=!0)):new o.Event(a,b)},o.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Z,this.stopPropagation()}},o.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){o.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!o.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.focusinBubbles||o.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){o.event.simulate(b,a.target,o.event.fix(a),!0)};o.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),o.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return o().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=o.guid++)),this.each(function(){o.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,o(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){o.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){o.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?o.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return o.nodeName(a,"table")&&o.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)o.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=o.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&o.nodeName(a,b)?o.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}o.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=o.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||o.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===o.type(e))o.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;o.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===o.inArray(e,d))&&(i=o.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f,g,h=o.event.special,i=0;void 0!==(c=a[i]);i++){if(o.acceptData(c)&&(f=c[L.expando],f&&(b=L.cache[f]))){if(d=Object.keys(b.events||{}),d.length)for(g=0;void 0!==(e=d[g]);g++)h[e]?o.event.remove(c,e):o.removeEvent(c,e,b.handle);L.cache[f]&&delete L.cache[f]}delete M.cache[c[M.expando]]}}}),o.fn.extend({text:function(a){return J(this,function(a){return void 0===a?o.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?o.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||o.cleanData(ob(c)),c.parentNode&&(b&&o.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(o.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return o.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(o.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,o.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,n=k-1,p=a[0],q=o.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(c=o.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=o.map(ob(c,"script"),kb),g=f.length;k>j;j++)h=c,j!==n&&(h=o.clone(h,!0,!0),g&&o.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,o.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&o.contains(i,h)&&(h.src?o._evalUrl&&o._evalUrl(h.src):o.globalEval(h.textContent.replace(hb,"")))}return this}}),o.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){o.fn[a]=function(a){for(var c,d=[],e=o(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),o(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d=o(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:o.css(d[0],"display");return d.detach(),e}function tb(a){var b=m,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||o("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||o.contains(a.ownerDocument,a)||(g=o.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",e=m.documentElement,f=m.createElement("div"),g=m.createElement("div");g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",f.appendChild(g);function h(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",e.appendChild(f);var d=a.getComputedStyle(g,null);b="1%"!==d.top,c="4px"===d.width,e.removeChild(f)}a.getComputedStyle&&o.extend(l,{pixelPosition:function(){return h(),b},boxSizingReliable:function(){return null==c&&h(),c},reliableMarginRight:function(){var b,c=g.appendChild(m.createElement("div"));return c.style.cssText=g.style.cssText=d,c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.innerHTML="",b}})}(),o.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:0,fontWeight:400},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=o.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=o.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=o.css(a,"border"+R[f]+"Width",!0,e))):(g+=o.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=o.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===o.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):f[g]||(e=S(d),(c&&"none"!==c||!e)&&L.set(d,"olddisplay",e?c:o.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}o.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=o.camelCase(b),i=a.style;return b=o.cssProps[h]||(o.cssProps[h]=Fb(i,h)),g=o.cssHooks[b]||o.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(o.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||o.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]="",i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=o.camelCase(b);return b=o.cssProps[h]||(o.cssProps[h]=Fb(a.style,h)),g=o.cssHooks[b]||o.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||o.isNumeric(f)?f||0:e):e}}),o.each(["height","width"],function(a,b){o.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&zb.test(o.css(a,"display"))?o.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===o.css(a,"boxSizing",!1,e),e):0)}}}),o.cssHooks.marginRight=yb(l.reliableMarginRight,function(a,b){return b?o.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),o.each({margin:"",padding:"",border:"Width"},function(a,b){o.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(o.cssHooks[a+b].set=Gb)}),o.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(o.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=o.css(a,b[g],!1,d);return f}return void 0!==c?o.style(a,b,c):o.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?o(this).show():o(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}o.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(o.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?o.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=o.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){o.fx.step[a.prop]?o.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[o.cssProps[a.prop]]||o.cssHooks[a.prop])?o.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},o.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},o.fx=Kb.prototype.init,o.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(o.cssNumber[a]?"":"px"),g=(o.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(o.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,o.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=o.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k=this,l={},m=a.style,n=a.nodeType&&S(a),p=L.get(a,"fxshow");c.queue||(h=o._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,k.always(function(){k.always(function(){h.unqueued--,o.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],j=o.css(a,"display"),"none"===j&&(j=tb(a.nodeName)),"inline"===j&&"none"===o.css(a,"float")&&(m.display="inline-block")),c.overflow&&(m.overflow="hidden",k.always(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(n?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;n=!0}l[d]=p&&p[d]||o.style(a,d)}if(!o.isEmptyObject(l)){p?"hidden"in p&&(n=p.hidden):p=L.access(a,"fxshow",{}),f&&(p.hidden=!n),n?o(a).show():k.done(function(){o(a).hide()}),k.done(function(){var b;L.remove(a,"fxshow");for(b in l)o.style(a,b,l[b])});for(d in l)g=Ub(n?p[d]:0,d,k),d in p||(p[d]=g.start,n&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=o.camelCase(c),e=b[d],f=a[c],o.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=o.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=o.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:o.extend({},b),opts:o.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=o.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return o.map(k,Ub,j),o.isFunction(j.opts.start)&&j.opts.start.call(a,j),o.fx.timer(o.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}o.Animation=o.extend(Xb,{tweener:function(a,b){o.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),o.speed=function(a,b,c){var d=a&&"object"==typeof a?o.extend({},a):{complete:c||!c&&b||o.isFunction(a)&&a,duration:a,easing:c&&b||b&&!o.isFunction(b)&&b};return d.duration=o.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in o.fx.speeds?o.fx.speeds[d.duration]:o.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){o.isFunction(d.old)&&d.old.call(this),d.queue&&o.dequeue(this,d.queue)},d},o.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=o.isEmptyObject(a),f=o.speed(b,c,d),g=function(){var b=Xb(this,o.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=o.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&o.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=o.timers,g=d?d.length:0;for(c.finish=!0,o.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),o.each(["toggle","show","hide"],function(a,b){var c=o.fn[b];o.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),o.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){o.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),o.timers=[],o.fx.tick=function(){var a,b=0,c=o.timers;for(Lb=o.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||o.fx.stop(),Lb=void 0},o.fx.timer=function(a){o.timers.push(a),a()?o.fx.start():o.timers.pop()},o.fx.interval=13,o.fx.start=function(){Mb||(Mb=setInterval(o.fx.tick,o.fx.interval))},o.fx.stop=function(){clearInterval(Mb),Mb=null},o.fx.speeds={slow:600,fast:200,_default:400},o.fn.delay=function(a,b){return a=o.fx?o.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=m.createElement("input"),b=m.createElement("select"),c=b.appendChild(m.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=m.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var Yb,Zb,$b=o.expr.attrHandle;o.fn.extend({attr:function(a,b){return J(this,o.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){o.removeAttr(this,a)})}}),o.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?o.prop(a,b,c):(1===f&&o.isXMLDoc(a)||(b=b.toLowerCase(),d=o.attrHooks[b]||(o.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=o.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void o.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=o.propFix[c]||c,o.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&o.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?o.removeAttr(a,c):a.setAttribute(c,c),c}},o.each(o.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||o.find.attr;$b[b]=function(a,b,d){var e,f;
return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;o.fn.extend({prop:function(a,b){return J(this,o.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[o.propFix[a]||a]})}}),o.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!o.isXMLDoc(a),f&&(b=o.propFix[b]||b,e=o.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),l.optSelected||(o.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),o.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){o.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;o.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a))return this.each(function(b){o(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=o.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(o.isFunction(a))return this.each(function(b){o(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?o.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(o.isFunction(a)?function(c){o(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=o(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;o.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=o.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,o(this).val()):a,null==e?e="":"number"==typeof e?e+="":o.isArray(e)&&(e=o.map(e,function(a){return null==a?"":a+""})),b=o.valHooks[this.type]||o.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=o.valHooks[e.type]||o.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),o.extend({valHooks:{select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&o.nodeName(c.parentNode,"optgroup"))){if(b=o(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=o.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=o.inArray(o(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),o.each(["radio","checkbox"],function(){o.valHooks[this]={set:function(a,b){return o.isArray(b)?a.checked=o.inArray(o(a).val(),b)>=0:void 0}},l.checkOn||(o.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),o.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){o.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),o.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=o.now(),dc=/\?/;o.parseJSON=function(a){return JSON.parse(a+"")},o.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&o.error("Invalid XML: "+a),b};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=m.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[];function rc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(o.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function sc(a,b,c,d){var e={},f=a===oc;function g(h){var i;return e[h]=!0,o.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function tc(a,b){var c,d,e=o.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&o.extend(!0,a,d),a}function uc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function vc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}o.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":o.parseJSON,"text xml":o.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?tc(tc(a,o.ajaxSettings),b):tc(o.ajaxSettings,a)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=o.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?o(l):o.event,n=o.Deferred(),p=o.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=ic.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(n.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=o.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=mc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===ec[1]&&h[2]===ec[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=o.param(k.data,k.traditional)),sc(nc,k,b,v),2===t)return v;i=k.global,i&&0===o.active++&&o.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!kc.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=hc.test(d)?d.replace(hc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(o.lastModified[d]&&v.setRequestHeader("If-Modified-Since",o.lastModified[d]),o.etag[d]&&v.setRequestHeader("If-None-Match",o.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+pc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=sc(oc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=uc(k,v,f)),u=vc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(o.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(o.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?n.resolveWith(l,[r,x,v]):n.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--o.active||o.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return o.get(a,b,c,"json")},getScript:function(a,b){return o.get(a,void 0,b,"script")}}),o.each(["get","post"],function(a,b){o[b]=function(a,c,d,e){return o.isFunction(c)&&(e=e||d,d=c,c=void 0),o.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),o.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){o.fn[b]=function(a){return this.on(b,a)}}),o._evalUrl=function(a){return o.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},o.fn.extend({wrapAll:function(a){var b;return o.isFunction(a)?this.each(function(b){o(this).wrapAll(a.call(this,b))}):(this[0]&&(b=o(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(o.isFunction(a)?function(b){o(this).wrapInner(a.call(this,b))}:function(){var b=o(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=o.isFunction(a);return this.each(function(c){o(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){o.nodeName(this,"body")||o(this).replaceWith(this.childNodes)}).end()}}),o.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},o.expr.filters.visible=function(a){return!o.expr.filters.hidden(a)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;function Bc(a,b,c,d){var e;if(o.isArray(b))o.each(b,function(b,e){c||xc.test(a)?d(a,e):Bc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==o.type(b))d(a,b);else for(e in b)Bc(a+"["+e+"]",b[e],c,d)}o.param=function(a,b){var c,d=[],e=function(a,b){b=o.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=o.ajaxSettings&&o.ajaxSettings.traditional),o.isArray(a)||a.jquery&&!o.isPlainObject(a))o.each(a,function(){e(this.name,this.value)});else for(c in a)Bc(c,a[c],b,e);return d.join("&").replace(wc,"+")},o.fn.extend({serialize:function(){return o.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=o.prop(this,"elements");return a?o.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!o(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=o(this).val();return null==c?null:o.isArray(c)?o.map(c,function(a){return{name:b.name,value:a.replace(yc,"\r\n")}}):{name:b.name,value:c.replace(yc,"\r\n")}}).get()}}),o.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=o.ajaxSettings.xhr();a.ActiveXObject&&o(a).on("unload",function(){for(var a in Dc)Dc[a]()}),l.cors=!!Fc&&"withCredentials"in Fc,l.ajax=Fc=!!Fc,o.ajaxTransport(function(a){var b;return l.cors||Fc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Dc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Ec[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Dc[g]=b("abort"),f.send(a.hasContent&&a.data||null)},abort:function(){b&&b()}}:void 0}),o.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return o.globalEval(a),a}}}),o.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),o.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=o("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),m.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;o.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gc.pop()||o.expando+"_"+cc++;return this[a]=!0,a}}),o.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=o.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||o.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gc.push(e)),g&&o.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),o.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||m;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=o.buildFragment([a],b,e),e&&e.length&&o(e).remove(),o.merge([],d.childNodes))};var Ic=o.fn.load;o.fn.load=function(a,b,c){if("string"!=typeof a&&Ic)return Ic.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h),a=a.slice(0,h)),o.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&o.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?o("<div>").append(o.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},o.expr.filters.animated=function(a){return o.grep(o.timers,function(b){return a===b.elem}).length};var Jc=a.document.documentElement;function Kc(a){return o.isWindow(a)?a:9===a.nodeType&&a.defaultView}o.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=o.css(a,"position"),l=o(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=o.css(a,"top"),i=o.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),o.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},o.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){o.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,o.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Kc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===o.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),o.nodeName(a[0],"html")||(d=a.offset()),d.top+=o.css(a[0],"borderTopWidth",!0),d.left+=o.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-o.css(c,"marginTop",!0),left:b.left-d.left-o.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Jc;while(a&&!o.nodeName(a,"html")&&"static"===o.css(a,"position"))a=a.offsetParent;return a||Jc})}}),o.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;o.fn[b]=function(e){return J(this,function(b,e,f){var g=Kc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),o.each(["top","left"],function(a,b){o.cssHooks[b]=yb(l.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?o(a).position()[b]+"px":c):void 0})}),o.each({Height:"height",Width:"width"},function(a,b){o.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){o.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return o.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?o.css(b,c,g):o.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),o.fn.size=function(){return this.length},o.fn.andSelf=o.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return o});var Lc=a.jQuery,Mc=a.$;return o.noConflict=function(b){return a.$===o&&(a.$=Mc),b&&a.jQuery===o&&(a.jQuery=Lc),o},typeof b===U&&(a.jQuery=a.$=o),o});

/*! jQuery Migrate v1.2.1 | (c) 2005, 2013 jQuery Foundation, Inc. and other contributors | jquery.org/license */
jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty)try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return!o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i)for(c=function(e){return!e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++)e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length));return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return N.apply(this,arguments);r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;)a[o++].guid=i;return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);
/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash underscore exports="amd,commonjs,global,node" -o ./dist/lodash.underscore.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
;(function() {

  /** Used as a safe reference for `undefined` in pre ES5 environments */
  var undefined;

  /** Used to generate unique IDs */
  var idCounter = 0;

  /** Used internally to indicate various things */
  var indicatorObject = {};

  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */
  var keyPrefix = +new Date + '';

  /** Used to match "interpolate" template delimiters */
  var reInterpolate = /<%=([\s\S]+?)%>/g;

  /** Used to ensure capturing order of template delimiters */
  var reNoMatch = /($^)/;

  /** Used to match unescaped characters in compiled string literals */
  var reUnescapedString = /['\n\r\t\u2028\u2029\\]/g;

  /** `Object#toString` result shortcuts */
  var argsClass = '[object Arguments]',
      arrayClass = '[object Array]',
      boolClass = '[object Boolean]',
      dateClass = '[object Date]',
      funcClass = '[object Function]',
      numberClass = '[object Number]',
      objectClass = '[object Object]',
      regexpClass = '[object RegExp]',
      stringClass = '[object String]';

  /** Used to determine if values are of the language type Object */
  var objectTypes = {
    'boolean': false,
    'function': true,
    'object': true,
    'number': false,
    'string': false,
    'undefined': false
  };

  /** Used to escape characters for inclusion in compiled string literals */
  var stringEscapes = {
    '\\': '\\',
    "'": "'",
    '\n': 'n',
    '\r': 'r',
    '\t': 't',
    '\u2028': 'u2028',
    '\u2029': 'u2029'
  };

  /** Used as a reference to the global object */
  var root = (objectTypes[typeof window] && window) || this;

  /** Detect free variable `exports` */
  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;

  /** Detect free variable `module` */
  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;

  /** Detect the popular CommonJS extension `module.exports` */
  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;

  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */
  var freeGlobal = objectTypes[typeof global] && global;
  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {
    root = freeGlobal;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * The base implementation of `_.indexOf` without support for binary searches
   * or `fromIndex` constraints.
   *
   * @private
   * @param {Array} array The array to search.
   * @param {*} value The value to search for.
   * @param {number} [fromIndex=0] The index to search from.
   * @returns {number} Returns the index of the matched value or `-1`.
   */
  function baseIndexOf(array, value, fromIndex) {
    var index = (fromIndex || 0) - 1,
        length = array ? array.length : 0;

    while (++index < length) {
      if (array[index] === value) {
        return index;
      }
    }
    return -1;
  }

  /**
   * Used by `sortBy` to compare transformed `collection` elements, stable sorting
   * them in ascending order.
   *
   * @private
   * @param {Object} a The object to compare to `b`.
   * @param {Object} b The object to compare to `a`.
   * @returns {number} Returns the sort order indicator of `1` or `-1`.
   */
  function compareAscending(a, b) {
    var ac = a.criteria,
        bc = b.criteria,
        index = -1,
        length = ac.length;

    while (++index < length) {
      var value = ac[index],
          other = bc[index];

      if (value !== other) {
        if (value > other || typeof value == 'undefined') {
          return 1;
        }
        if (value < other || typeof other == 'undefined') {
          return -1;
        }
      }
    }
    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications
    // that causes it, under certain circumstances, to return the same value for
    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247
    //
    // This also ensures a stable sort in V8 and other engines.
    // See http://code.google.com/p/v8/issues/detail?id=90
    return a.index - b.index;
  }

  /**
   * Used by `template` to escape characters for inclusion in compiled
   * string literals.
   *
   * @private
   * @param {string} match The matched character to escape.
   * @returns {string} Returns the escaped character.
   */
  function escapeStringChar(match) {
    return '\\' + stringEscapes[match];
  }

  /**
   * Slices the `collection` from the `start` index up to, but not including,
   * the `end` index.
   *
   * Note: This function is used instead of `Array#slice` to support node lists
   * in IE < 9 and to ensure dense arrays are returned.
   *
   * @private
   * @param {Array|Object|string} collection The collection to slice.
   * @param {number} start The start index.
   * @param {number} end The end index.
   * @returns {Array} Returns the new array.
   */
  function slice(array, start, end) {
    start || (start = 0);
    if (typeof end == 'undefined') {
      end = array ? array.length : 0;
    }
    var index = -1,
        length = end - start || 0,
        result = Array(length < 0 ? 0 : length);

    while (++index < length) {
      result[index] = array[start + index];
    }
    return result;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Used for `Array` method references.
   *
   * Normally `Array.prototype` would suffice, however, using an array literal
   * avoids issues in Narwhal.
   */
  var arrayRef = [];

  /** Used for native method references */
  var objectProto = Object.prototype;

  /** Used to restore the original `_` reference in `noConflict` */
  var oldDash = root._;

  /** Used to resolve the internal [[Class]] of values */
  var toString = objectProto.toString;

  /** Used to detect if a method is native */
  var reNative = RegExp('^' +
    String(toString)
      .replace(/[.*+?^${}()|[\]\\]/g, '\\$&')
      .replace(/toString| for [^\]]+/g, '.*?') + '$'
  );

  /** Native method shortcuts */
  var ceil = Math.ceil,
      floor = Math.floor,
      hasOwnProperty = objectProto.hasOwnProperty,
      push = arrayRef.push,
      propertyIsEnumerable = objectProto.propertyIsEnumerable;

  /* Native method shortcuts for methods with the same name as other `lodash` methods */
  var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,
      nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,
      nativeIsFinite = root.isFinite,
      nativeIsNaN = root.isNaN,
      nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,
      nativeMax = Math.max,
      nativeMin = Math.min,
      nativeRandom = Math.random;

  /*--------------------------------------------------------------------------*/

  /**
   * Creates a `lodash` object which wraps the given value to enable intuitive
   * method chaining.
   *
   * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:
   * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,
   * and `unshift`
   *
   * Chaining is supported in custom builds as long as the `value` method is
   * implicitly or explicitly included in the build.
   *
   * The chainable wrapper functions are:
   * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,
   * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,
   * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,
   * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,
   * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,
   * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,
   * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,
   * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,
   * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,
   * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,
   * and `zip`
   *
   * The non-chainable wrapper functions are:
   * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,
   * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,
   * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,
   * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,
   * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,
   * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,
   * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,
   * `template`, `unescape`, `uniqueId`, and `value`
   *
   * The wrapper functions `first` and `last` return wrapped values when `n` is
   * provided, otherwise they return unwrapped values.
   *
   * Explicit chaining can be enabled by using the `_.chain` method.
   *
   * @name _
   * @constructor
   * @category Chaining
   * @param {*} value The value to wrap in a `lodash` instance.
   * @returns {Object} Returns a `lodash` instance.
   * @example
   *
   * var wrapped = _([1, 2, 3]);
   *
   * // returns an unwrapped value
   * wrapped.reduce(function(sum, num) {
   *   return sum + num;
   * });
   * // => 6
   *
   * // returns a wrapped value
   * var squares = wrapped.map(function(num) {
   *   return num * num;
   * });
   *
   * _.isArray(squares);
   * // => false
   *
   * _.isArray(squares.value());
   * // => true
   */
  function lodash(value) {
    return (value instanceof lodash)
      ? value
      : new lodashWrapper(value);
  }

  /**
   * A fast path for creating `lodash` wrapper objects.
   *
   * @private
   * @param {*} value The value to wrap in a `lodash` instance.
   * @param {boolean} chainAll A flag to enable chaining for all methods
   * @returns {Object} Returns a `lodash` instance.
   */
  function lodashWrapper(value, chainAll) {
    this.__chain__ = !!chainAll;
    this.__wrapped__ = value;
  }
  // ensure `new lodashWrapper` is an instance of `lodash`
  lodashWrapper.prototype = lodash.prototype;

  /**
   * An object used to flag environments features.
   *
   * @static
   * @memberOf _
   * @type Object
   */
  var support = {};

  (function() {
    var object = { '0': 1, 'length': 1 };

    /**
     * Detect if `Array#shift` and `Array#splice` augment array-like objects correctly.
     *
     * Firefox < 10, IE compatibility mode, and IE < 9 have buggy Array `shift()`
     * and `splice()` functions that fail to remove the last element, `value[0]`,
     * of array-like objects even though the `length` property is set to `0`.
     * The `shift()` method is buggy in IE 8 compatibility mode, while `splice()`
     * is buggy regardless of mode in IE < 9 and buggy in compatibility mode in IE 9.
     *
     * @memberOf _.support
     * @type boolean
     */
    support.spliceObjects = (arrayRef.splice.call(object, 0, 1), !object[0]);
  }(1));

  /**
   * By default, the template delimiters used by Lo-Dash are similar to those in
   * embedded Ruby (ERB). Change the following template settings to use alternative
   * delimiters.
   *
   * @static
   * @memberOf _
   * @type Object
   */
  lodash.templateSettings = {

    /**
     * Used to detect `data` property values to be HTML-escaped.
     *
     * @memberOf _.templateSettings
     * @type RegExp
     */
    'escape': /<%-([\s\S]+?)%>/g,

    /**
     * Used to detect code to be evaluated.
     *
     * @memberOf _.templateSettings
     * @type RegExp
     */
    'evaluate': /<%([\s\S]+?)%>/g,

    /**
     * Used to detect `data` property values to inject.
     *
     * @memberOf _.templateSettings
     * @type RegExp
     */
    'interpolate': reInterpolate,

    /**
     * Used to reference the data object in the template text.
     *
     * @memberOf _.templateSettings
     * @type string
     */
    'variable': ''
  };

  /*--------------------------------------------------------------------------*/

  /**
   * The base implementation of `_.bind` that creates the bound function and
   * sets its meta data.
   *
   * @private
   * @param {Array} bindData The bind data array.
   * @returns {Function} Returns the new bound function.
   */
  function baseBind(bindData) {
    var func = bindData[0],
        partialArgs = bindData[2],
        thisArg = bindData[4];

    function bound() {
      // `Function#bind` spec
      // http://es5.github.io/#x15.3.4.5
      if (partialArgs) {
        // avoid `arguments` object deoptimizations by using `slice` instead
        // of `Array.prototype.slice.call` and not assigning `arguments` to a
        // variable as a ternary expression
        var args = slice(partialArgs);
        push.apply(args, arguments);
      }
      // mimic the constructor's `return` behavior
      // http://es5.github.io/#x13.2.2
      if (this instanceof bound) {
        // ensure `new bound` is an instance of `func`
        var thisBinding = baseCreate(func.prototype),
            result = func.apply(thisBinding, args || arguments);
        return isObject(result) ? result : thisBinding;
      }
      return func.apply(thisArg, args || arguments);
    }
    return bound;
  }

  /**
   * The base implementation of `_.create` without support for assigning
   * properties to the created object.
   *
   * @private
   * @param {Object} prototype The object to inherit from.
   * @returns {Object} Returns the new object.
   */
  function baseCreate(prototype, properties) {
    return isObject(prototype) ? nativeCreate(prototype) : {};
  }
  // fallback for browsers without `Object.create`
  if (!nativeCreate) {
    baseCreate = (function() {
      function Object() {}
      return function(prototype) {
        if (isObject(prototype)) {
          Object.prototype = prototype;
          var result = new Object;
          Object.prototype = null;
        }
        return result || root.Object();
      };
    }());
  }

  /**
   * The base implementation of `_.createCallback` without support for creating
   * "_.pluck" or "_.where" style callbacks.
   *
   * @private
   * @param {*} [func=identity] The value to convert to a callback.
   * @param {*} [thisArg] The `this` binding of the created callback.
   * @param {number} [argCount] The number of arguments the callback accepts.
   * @returns {Function} Returns a callback function.
   */
  function baseCreateCallback(func, thisArg, argCount) {
    if (typeof func != 'function') {
      return identity;
    }
    // exit early for no `thisArg` or already bound by `Function#bind`
    if (typeof thisArg == 'undefined' || !('prototype' in func)) {
      return func;
    }
    switch (argCount) {
      case 1: return function(value) {
        return func.call(thisArg, value);
      };
      case 2: return function(a, b) {
        return func.call(thisArg, a, b);
      };
      case 3: return function(value, index, collection) {
        return func.call(thisArg, value, index, collection);
      };
      case 4: return function(accumulator, value, index, collection) {
        return func.call(thisArg, accumulator, value, index, collection);
      };
    }
    return bind(func, thisArg);
  }

  /**
   * The base implementation of `createWrapper` that creates the wrapper and
   * sets its meta data.
   *
   * @private
   * @param {Array} bindData The bind data array.
   * @returns {Function} Returns the new function.
   */
  function baseCreateWrapper(bindData) {
    var func = bindData[0],
        bitmask = bindData[1],
        partialArgs = bindData[2],
        partialRightArgs = bindData[3],
        thisArg = bindData[4],
        arity = bindData[5];

    var isBind = bitmask & 1,
        isBindKey = bitmask & 2,
        isCurry = bitmask & 4,
        isCurryBound = bitmask & 8,
        key = func;

    function bound() {
      var thisBinding = isBind ? thisArg : this;
      if (partialArgs) {
        var args = slice(partialArgs);
        push.apply(args, arguments);
      }
      if (partialRightArgs || isCurry) {
        args || (args = slice(arguments));
        if (partialRightArgs) {
          push.apply(args, partialRightArgs);
        }
        if (isCurry && args.length < arity) {
          bitmask |= 16 & ~32;
          return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);
        }
      }
      args || (args = arguments);
      if (isBindKey) {
        func = thisBinding[key];
      }
      if (this instanceof bound) {
        thisBinding = baseCreate(func.prototype);
        var result = func.apply(thisBinding, args);
        return isObject(result) ? result : thisBinding;
      }
      return func.apply(thisBinding, args);
    }
    return bound;
  }

  /**
   * The base implementation of `_.difference` that accepts a single array
   * of values to exclude.
   *
   * @private
   * @param {Array} array The array to process.
   * @param {Array} [values] The array of values to exclude.
   * @returns {Array} Returns a new array of filtered values.
   */
  function baseDifference(array, values) {
    var index = -1,
        indexOf = getIndexOf(),
        length = array ? array.length : 0,
        result = [];

    while (++index < length) {
      var value = array[index];
      if (indexOf(values, value) < 0) {
        result.push(value);
      }
    }
    return result;
  }

  /**
   * The base implementation of `_.flatten` without support for callback
   * shorthands or `thisArg` binding.
   *
   * @private
   * @param {Array} array The array to flatten.
   * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.
   * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.
   * @param {number} [fromIndex=0] The index to start from.
   * @returns {Array} Returns a new flattened array.
   */
  function baseFlatten(array, isShallow, isStrict, fromIndex) {
    var index = (fromIndex || 0) - 1,
        length = array ? array.length : 0,
        result = [];

    while (++index < length) {
      var value = array[index];

      if (value && typeof value == 'object' && typeof value.length == 'number'
          && (isArray(value) || isArguments(value))) {
        // recursively flatten arrays (susceptible to call stack limits)
        if (!isShallow) {
          value = baseFlatten(value, isShallow, isStrict);
        }
        var valIndex = -1,
            valLength = value.length,
            resIndex = result.length;

        result.length += valLength;
        while (++valIndex < valLength) {
          result[resIndex++] = value[valIndex];
        }
      } else if (!isStrict) {
        result.push(value);
      }
    }
    return result;
  }

  /**
   * The base implementation of `_.isEqual`, without support for `thisArg` binding,
   * that allows partial "_.where" style comparisons.
   *
   * @private
   * @param {*} a The value to compare.
   * @param {*} b The other value to compare.
   * @param {Function} [callback] The function to customize comparing values.
   * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.
   * @param {Array} [stackA=[]] Tracks traversed `a` objects.
   * @param {Array} [stackB=[]] Tracks traversed `b` objects.
   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
   */
  function baseIsEqual(a, b, stackA, stackB) {
    if (a === b) {
      return a !== 0 || (1 / a == 1 / b);
    }
    var type = typeof a,
        otherType = typeof b;

    if (a === a &&
        !(a && objectTypes[type]) &&
        !(b && objectTypes[otherType])) {
      return false;
    }
    if (a == null || b == null) {
      return a === b;
    }
    var className = toString.call(a),
        otherClass = toString.call(b);

    if (className != otherClass) {
      return false;
    }
    switch (className) {
      case boolClass:
      case dateClass:
        return +a == +b;

      case numberClass:
        return a != +a
          ? b != +b
          : (a == 0 ? (1 / a == 1 / b) : a == +b);

      case regexpClass:
      case stringClass:
        return a == String(b);
    }
    var isArr = className == arrayClass;
    if (!isArr) {
      var aWrapped = a instanceof lodash,
          bWrapped = b instanceof lodash;

      if (aWrapped || bWrapped) {
        return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, stackA, stackB);
      }
      if (className != objectClass) {
        return false;
      }
      var ctorA = a.constructor,
          ctorB = b.constructor;

      if (ctorA != ctorB &&
            !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&
            ('constructor' in a && 'constructor' in b)
          ) {
        return false;
      }
    }
    stackA || (stackA = []);
    stackB || (stackB = []);

    var length = stackA.length;
    while (length--) {
      if (stackA[length] == a) {
        return stackB[length] == b;
      }
    }
    var result = true,
        size = 0;

    stackA.push(a);
    stackB.push(b);

    if (isArr) {
      size = b.length;
      result = size == a.length;

      if (result) {
        while (size--) {
          if (!(result = baseIsEqual(a[size], b[size], stackA, stackB))) {
            break;
          }
        }
      }
    }
    else {
      forIn(b, function(value, key, b) {
        if (hasOwnProperty.call(b, key)) {
          size++;
          return !(result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, stackA, stackB)) && indicatorObject;
        }
      });

      if (result) {
        forIn(a, function(value, key, a) {
          if (hasOwnProperty.call(a, key)) {
            return !(result = --size > -1) && indicatorObject;
          }
        });
      }
    }
    stackA.pop();
    stackB.pop();
    return result;
  }

  /**
   * The base implementation of `_.random` without argument juggling or support
   * for returning floating-point numbers.
   *
   * @private
   * @param {number} min The minimum possible value.
   * @param {number} max The maximum possible value.
   * @returns {number} Returns a random number.
   */
  function baseRandom(min, max) {
    return min + floor(nativeRandom() * (max - min + 1));
  }

  /**
   * The base implementation of `_.uniq` without support for callback shorthands
   * or `thisArg` binding.
   *
   * @private
   * @param {Array} array The array to process.
   * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.
   * @param {Function} [callback] The function called per iteration.
   * @returns {Array} Returns a duplicate-value-free array.
   */
  function baseUniq(array, isSorted, callback) {
    var index = -1,
        indexOf = getIndexOf(),
        length = array ? array.length : 0,
        result = [],
        seen = callback ? [] : result;

    while (++index < length) {
      var value = array[index],
          computed = callback ? callback(value, index, array) : value;

      if (isSorted
            ? !index || seen[seen.length - 1] !== computed
            : indexOf(seen, computed) < 0
          ) {
        if (callback) {
          seen.push(computed);
        }
        result.push(value);
      }
    }
    return result;
  }

  /**
   * Creates a function that aggregates a collection, creating an object composed
   * of keys generated from the results of running each element of the collection
   * through a callback. The given `setter` function sets the keys and values
   * of the composed object.
   *
   * @private
   * @param {Function} setter The setter function.
   * @returns {Function} Returns the new aggregator function.
   */
  function createAggregator(setter) {
    return function(collection, callback, thisArg) {
      var result = {};
      callback = createCallback(callback, thisArg, 3);

      var index = -1,
          length = collection ? collection.length : 0;

      if (typeof length == 'number') {
        while (++index < length) {
          var value = collection[index];
          setter(result, value, callback(value, index, collection), collection);
        }
      } else {
        forOwn(collection, function(value, key, collection) {
          setter(result, value, callback(value, key, collection), collection);
        });
      }
      return result;
    };
  }

  /**
   * Creates a function that, when called, either curries or invokes `func`
   * with an optional `this` binding and partially applied arguments.
   *
   * @private
   * @param {Function|string} func The function or method name to reference.
   * @param {number} bitmask The bitmask of method flags to compose.
   *  The bitmask may be composed of the following flags:
   *  1 - `_.bind`
   *  2 - `_.bindKey`
   *  4 - `_.curry`
   *  8 - `_.curry` (bound)
   *  16 - `_.partial`
   *  32 - `_.partialRight`
   * @param {Array} [partialArgs] An array of arguments to prepend to those
   *  provided to the new function.
   * @param {Array} [partialRightArgs] An array of arguments to append to those
   *  provided to the new function.
   * @param {*} [thisArg] The `this` binding of `func`.
   * @param {number} [arity] The arity of `func`.
   * @returns {Function} Returns the new function.
   */
  function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {
    var isBind = bitmask & 1,
        isBindKey = bitmask & 2,
        isCurry = bitmask & 4,
        isCurryBound = bitmask & 8,
        isPartial = bitmask & 16,
        isPartialRight = bitmask & 32;

    if (!isBindKey && !isFunction(func)) {
      throw new TypeError;
    }
    if (isPartial && !partialArgs.length) {
      bitmask &= ~16;
      isPartial = partialArgs = false;
    }
    if (isPartialRight && !partialRightArgs.length) {
      bitmask &= ~32;
      isPartialRight = partialRightArgs = false;
    }
    // fast path for `_.bind`
    var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;
    return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);
  }

  /**
   * Used by `escape` to convert characters to HTML entities.
   *
   * @private
   * @param {string} match The matched character to escape.
   * @returns {string} Returns the escaped character.
   */
  function escapeHtmlChar(match) {
    return htmlEscapes[match];
  }

  /**
   * Gets the appropriate "indexOf" function. If the `_.indexOf` method is
   * customized, this method returns the custom method, otherwise it returns
   * the `baseIndexOf` function.
   *
   * @private
   * @returns {Function} Returns the "indexOf" function.
   */
  function getIndexOf() {
    var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;
    return result;
  }

  /**
   * Checks if `value` is a native function.
   *
   * @private
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.
   */
  function isNative(value) {
    return typeof value == 'function' && reNative.test(value);
  }

  /**
   * Used by `unescape` to convert HTML entities to characters.
   *
   * @private
   * @param {string} match The matched character to unescape.
   * @returns {string} Returns the unescaped character.
   */
  function unescapeHtmlChar(match) {
    return htmlUnescapes[match];
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Checks if `value` is an `arguments` object.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.
   * @example
   *
   * (function() { return _.isArguments(arguments); })(1, 2, 3);
   * // => true
   *
   * _.isArguments([1, 2, 3]);
   * // => false
   */
  function isArguments(value) {
    return value && typeof value == 'object' && typeof value.length == 'number' &&
      toString.call(value) == argsClass || false;
  }
  // fallback for browsers that can't detect `arguments` objects by [[Class]]
  if (!isArguments(arguments)) {
    isArguments = function(value) {
      return value && typeof value == 'object' && typeof value.length == 'number' &&
        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee') || false;
    };
  }

  /**
   * Checks if `value` is an array.
   *
   * @static
   * @memberOf _
   * @type Function
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is an array, else `false`.
   * @example
   *
   * (function() { return _.isArray(arguments); })();
   * // => false
   *
   * _.isArray([1, 2, 3]);
   * // => true
   */
  var isArray = nativeIsArray || function(value) {
    return value && typeof value == 'object' && typeof value.length == 'number' &&
      toString.call(value) == arrayClass || false;
  };

  /**
   * A fallback implementation of `Object.keys` which produces an array of the
   * given object's own enumerable property names.
   *
   * @private
   * @type Function
   * @param {Object} object The object to inspect.
   * @returns {Array} Returns an array of property names.
   */
  var shimKeys = function(object) {
    var index, iterable = object, result = [];
    if (!iterable) return result;
    if (!(objectTypes[typeof object])) return result;
      for (index in iterable) {
        if (hasOwnProperty.call(iterable, index)) {
          result.push(index);
        }
      }
    return result
  };

  /**
   * Creates an array composed of the own enumerable property names of an object.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {Object} object The object to inspect.
   * @returns {Array} Returns an array of property names.
   * @example
   *
   * _.keys({ 'one': 1, 'two': 2, 'three': 3 });
   * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)
   */
  var keys = !nativeKeys ? shimKeys : function(object) {
    if (!isObject(object)) {
      return [];
    }
    return nativeKeys(object);
  };

  /**
   * Used to convert characters to HTML entities:
   *
   * Though the `>` character is escaped for symmetry, characters like `>` and `/`
   * don't require escaping in HTML and have no special meaning unless they're part
   * of a tag or an unquoted attribute value.
   * http://mathiasbynens.be/notes/ambiguous-ampersands (under "semi-related fun fact")
   */
  var htmlEscapes = {
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;',
    '"': '&quot;',
    "'": '&#x27;'
  };

  /** Used to convert HTML entities to characters */
  var htmlUnescapes = invert(htmlEscapes);

  /** Used to match HTML entities and HTML characters */
  var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),
      reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');

  /*--------------------------------------------------------------------------*/

  /**
   * Assigns own enumerable properties of source object(s) to the destination
   * object. Subsequent sources will overwrite property assignments of previous
   * sources. If a callback is provided it will be executed to produce the
   * assigned values. The callback is bound to `thisArg` and invoked with two
   * arguments; (objectValue, sourceValue).
   *
   * @static
   * @memberOf _
   * @type Function
   * @alias extend
   * @category Objects
   * @param {Object} object The destination object.
   * @param {...Object} [source] The source objects.
   * @param {Function} [callback] The function to customize assigning values.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Object} Returns the destination object.
   * @example
   *
   * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });
   * // => { 'name': 'fred', 'employer': 'slate' }
   *
   * var defaults = _.partialRight(_.assign, function(a, b) {
   *   return typeof a == 'undefined' ? b : a;
   * });
   *
   * var object = { 'name': 'barney' };
   * defaults(object, { 'name': 'fred', 'employer': 'slate' });
   * // => { 'name': 'barney', 'employer': 'slate' }
   */
  function assign(object) {
    if (!object) {
      return object;
    }
    for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {
      var iterable = arguments[argsIndex];
      if (iterable) {
        for (var key in iterable) {
          object[key] = iterable[key];
        }
      }
    }
    return object;
  }

  /**
   * Creates a clone of `value`. If `isDeep` is `true` nested objects will also
   * be cloned, otherwise they will be assigned by reference. If a callback
   * is provided it will be executed to produce the cloned values. If the
   * callback returns `undefined` cloning will be handled by the method instead.
   * The callback is bound to `thisArg` and invoked with one argument; (value).
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to clone.
   * @param {boolean} [isDeep=false] Specify a deep clone.
   * @param {Function} [callback] The function to customize cloning values.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {*} Returns the cloned value.
   * @example
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36 },
   *   { 'name': 'fred',   'age': 40 }
   * ];
   *
   * var shallow = _.clone(characters);
   * shallow[0] === characters[0];
   * // => true
   *
   * var deep = _.clone(characters, true);
   * deep[0] === characters[0];
   * // => false
   *
   * _.mixin({
   *   'clone': _.partialRight(_.clone, function(value) {
   *     return _.isElement(value) ? value.cloneNode(false) : undefined;
   *   })
   * });
   *
   * var clone = _.clone(document.body);
   * clone.childNodes.length;
   * // => 0
   */
  function clone(value) {
    return isObject(value)
      ? (isArray(value) ? slice(value) : assign({}, value))
      : value;
  }

  /**
   * Assigns own enumerable properties of source object(s) to the destination
   * object for all destination properties that resolve to `undefined`. Once a
   * property is set, additional defaults of the same property will be ignored.
   *
   * @static
   * @memberOf _
   * @type Function
   * @category Objects
   * @param {Object} object The destination object.
   * @param {...Object} [source] The source objects.
   * @param- {Object} [guard] Allows working with `_.reduce` without using its
   *  `key` and `object` arguments as sources.
   * @returns {Object} Returns the destination object.
   * @example
   *
   * var object = { 'name': 'barney' };
   * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });
   * // => { 'name': 'barney', 'employer': 'slate' }
   */
  function defaults(object) {
    if (!object) {
      return object;
    }
    for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {
      var iterable = arguments[argsIndex];
      if (iterable) {
        for (var key in iterable) {
          if (typeof object[key] == 'undefined') {
            object[key] = iterable[key];
          }
        }
      }
    }
    return object;
  }

  /**
   * Iterates over own and inherited enumerable properties of an object,
   * executing the callback for each property. The callback is bound to `thisArg`
   * and invoked with three arguments; (value, key, object). Callbacks may exit
   * iteration early by explicitly returning `false`.
   *
   * @static
   * @memberOf _
   * @type Function
   * @category Objects
   * @param {Object} object The object to iterate over.
   * @param {Function} [callback=identity] The function called per iteration.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Object} Returns `object`.
   * @example
   *
   * function Shape() {
   *   this.x = 0;
   *   this.y = 0;
   * }
   *
   * Shape.prototype.move = function(x, y) {
   *   this.x += x;
   *   this.y += y;
   * };
   *
   * _.forIn(new Shape, function(value, key) {
   *   console.log(key);
   * });
   * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)
   */
  var forIn = function(collection, callback) {
    var index, iterable = collection, result = iterable;
    if (!iterable) return result;
    if (!objectTypes[typeof iterable]) return result;
      for (index in iterable) {
        if (callback(iterable[index], index, collection) === indicatorObject) return result;
      }
    return result
  };

  /**
   * Iterates over own enumerable properties of an object, executing the callback
   * for each property. The callback is bound to `thisArg` and invoked with three
   * arguments; (value, key, object). Callbacks may exit iteration early by
   * explicitly returning `false`.
   *
   * @static
   * @memberOf _
   * @type Function
   * @category Objects
   * @param {Object} object The object to iterate over.
   * @param {Function} [callback=identity] The function called per iteration.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Object} Returns `object`.
   * @example
   *
   * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {
   *   console.log(key);
   * });
   * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)
   */
  var forOwn = function(collection, callback) {
    var index, iterable = collection, result = iterable;
    if (!iterable) return result;
    if (!objectTypes[typeof iterable]) return result;
      for (index in iterable) {
        if (hasOwnProperty.call(iterable, index)) {
          if (callback(iterable[index], index, collection) === indicatorObject) return result;
        }
      }
    return result
  };

  /**
   * Creates a sorted array of property names of all enumerable properties,
   * own and inherited, of `object` that have function values.
   *
   * @static
   * @memberOf _
   * @alias methods
   * @category Objects
   * @param {Object} object The object to inspect.
   * @returns {Array} Returns an array of property names that have function values.
   * @example
   *
   * _.functions(_);
   * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]
   */
  function functions(object) {
    var result = [];
    forIn(object, function(value, key) {
      if (isFunction(value)) {
        result.push(key);
      }
    });
    return result.sort();
  }

  /**
   * Checks if the specified property name exists as a direct property of `object`,
   * instead of an inherited property.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {Object} object The object to inspect.
   * @param {string} key The name of the property to check.
   * @returns {boolean} Returns `true` if key is a direct property, else `false`.
   * @example
   *
   * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');
   * // => true
   */
  function has(object, key) {
    return object ? hasOwnProperty.call(object, key) : false;
  }

  /**
   * Creates an object composed of the inverted keys and values of the given object.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {Object} object The object to invert.
   * @returns {Object} Returns the created inverted object.
   * @example
   *
   * _.invert({ 'first': 'fred', 'second': 'barney' });
   * // => { 'fred': 'first', 'barney': 'second' }
   */
  function invert(object) {
    var index = -1,
        props = keys(object),
        length = props.length,
        result = {};

    while (++index < length) {
      var key = props[index];
      result[object[key]] = key;
    }
    return result;
  }

  /**
   * Checks if `value` is a boolean value.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.
   * @example
   *
   * _.isBoolean(null);
   * // => false
   */
  function isBoolean(value) {
    return value === true || value === false ||
      value && typeof value == 'object' && toString.call(value) == boolClass || false;
  }

  /**
   * Checks if `value` is a date.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is a date, else `false`.
   * @example
   *
   * _.isDate(new Date);
   * // => true
   */
  function isDate(value) {
    return value && typeof value == 'object' && toString.call(value) == dateClass || false;
  }

  /**
   * Checks if `value` is a DOM element.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.
   * @example
   *
   * _.isElement(document.body);
   * // => true
   */
  function isElement(value) {
    return value && value.nodeType === 1 || false;
  }

  /**
   * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a
   * length of `0` and objects with no own enumerable properties are considered
   * "empty".
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {Array|Object|string} value The value to inspect.
   * @returns {boolean} Returns `true` if the `value` is empty, else `false`.
   * @example
   *
   * _.isEmpty([1, 2, 3]);
   * // => false
   *
   * _.isEmpty({});
   * // => true
   *
   * _.isEmpty('');
   * // => true
   */
  function isEmpty(value) {
    if (!value) {
      return true;
    }
    if (isArray(value) || isString(value)) {
      return !value.length;
    }
    for (var key in value) {
      if (hasOwnProperty.call(value, key)) {
        return false;
      }
    }
    return true;
  }

  /**
   * Performs a deep comparison between two values to determine if they are
   * equivalent to each other. If a callback is provided it will be executed
   * to compare values. If the callback returns `undefined` comparisons will
   * be handled by the method instead. The callback is bound to `thisArg` and
   * invoked with two arguments; (a, b).
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} a The value to compare.
   * @param {*} b The other value to compare.
   * @param {Function} [callback] The function to customize comparing values.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
   * @example
   *
   * var object = { 'name': 'fred' };
   * var copy = { 'name': 'fred' };
   *
   * object == copy;
   * // => false
   *
   * _.isEqual(object, copy);
   * // => true
   *
   * var words = ['hello', 'goodbye'];
   * var otherWords = ['hi', 'goodbye'];
   *
   * _.isEqual(words, otherWords, function(a, b) {
   *   var reGreet = /^(?:hello|hi)$/i,
   *       aGreet = _.isString(a) && reGreet.test(a),
   *       bGreet = _.isString(b) && reGreet.test(b);
   *
   *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;
   * });
   * // => true
   */
  function isEqual(a, b) {
    return baseIsEqual(a, b);
  }

  /**
   * Checks if `value` is, or can be coerced to, a finite number.
   *
   * Note: This is not the same as native `isFinite` which will return true for
   * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is finite, else `false`.
   * @example
   *
   * _.isFinite(-101);
   * // => true
   *
   * _.isFinite('10');
   * // => true
   *
   * _.isFinite(true);
   * // => false
   *
   * _.isFinite('');
   * // => false
   *
   * _.isFinite(Infinity);
   * // => false
   */
  function isFinite(value) {
    return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));
  }

  /**
   * Checks if `value` is a function.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is a function, else `false`.
   * @example
   *
   * _.isFunction(_);
   * // => true
   */
  function isFunction(value) {
    return typeof value == 'function';
  }
  // fallback for older versions of Chrome and Safari
  if (isFunction(/x/)) {
    isFunction = function(value) {
      return typeof value == 'function' && toString.call(value) == funcClass;
    };
  }

  /**
   * Checks if `value` is the language type of Object.
   * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is an object, else `false`.
   * @example
   *
   * _.isObject({});
   * // => true
   *
   * _.isObject([1, 2, 3]);
   * // => true
   *
   * _.isObject(1);
   * // => false
   */
  function isObject(value) {
    // check if the value is the ECMAScript language type of Object
    // http://es5.github.io/#x8
    // and avoid a V8 bug
    // http://code.google.com/p/v8/issues/detail?id=2291
    return !!(value && objectTypes[typeof value]);
  }

  /**
   * Checks if `value` is `NaN`.
   *
   * Note: This is not the same as native `isNaN` which will return `true` for
   * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.
   * @example
   *
   * _.isNaN(NaN);
   * // => true
   *
   * _.isNaN(new Number(NaN));
   * // => true
   *
   * isNaN(undefined);
   * // => true
   *
   * _.isNaN(undefined);
   * // => false
   */
  function isNaN(value) {
    // `NaN` as a primitive is the only value that is not equal to itself
    // (perform the [[Class]] check first to avoid errors with some host objects in IE)
    return isNumber(value) && value != +value;
  }

  /**
   * Checks if `value` is `null`.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.
   * @example
   *
   * _.isNull(null);
   * // => true
   *
   * _.isNull(undefined);
   * // => false
   */
  function isNull(value) {
    return value === null;
  }

  /**
   * Checks if `value` is a number.
   *
   * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is a number, else `false`.
   * @example
   *
   * _.isNumber(8.4 * 5);
   * // => true
   */
  function isNumber(value) {
    return typeof value == 'number' ||
      value && typeof value == 'object' && toString.call(value) == numberClass || false;
  }

  /**
   * Checks if `value` is a regular expression.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.
   * @example
   *
   * _.isRegExp(/fred/);
   * // => true
   */
  function isRegExp(value) {
    return value && objectTypes[typeof value] && toString.call(value) == regexpClass || false;
  }

  /**
   * Checks if `value` is a string.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is a string, else `false`.
   * @example
   *
   * _.isString('fred');
   * // => true
   */
  function isString(value) {
    return typeof value == 'string' ||
      value && typeof value == 'object' && toString.call(value) == stringClass || false;
  }

  /**
   * Checks if `value` is `undefined`.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {*} value The value to check.
   * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.
   * @example
   *
   * _.isUndefined(void 0);
   * // => true
   */
  function isUndefined(value) {
    return typeof value == 'undefined';
  }

  /**
   * Creates a shallow clone of `object` excluding the specified properties.
   * Property names may be specified as individual arguments or as arrays of
   * property names. If a callback is provided it will be executed for each
   * property of `object` omitting the properties the callback returns truey
   * for. The callback is bound to `thisArg` and invoked with three arguments;
   * (value, key, object).
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {Object} object The source object.
   * @param {Function|...string|string[]} [callback] The properties to omit or the
   *  function called per iteration.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Object} Returns an object without the omitted properties.
   * @example
   *
   * _.omit({ 'name': 'fred', 'age': 40 }, 'age');
   * // => { 'name': 'fred' }
   *
   * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {
   *   return typeof value == 'number';
   * });
   * // => { 'name': 'fred' }
   */
  function omit(object) {
    var props = [];
    forIn(object, function(value, key) {
      props.push(key);
    });
    props = baseDifference(props, baseFlatten(arguments, true, false, 1));

    var index = -1,
        length = props.length,
        result = {};

    while (++index < length) {
      var key = props[index];
      result[key] = object[key];
    }
    return result;
  }

  /**
   * Creates a two dimensional array of an object's key-value pairs,
   * i.e. `[[key1, value1], [key2, value2]]`.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {Object} object The object to inspect.
   * @returns {Array} Returns new array of key-value pairs.
   * @example
   *
   * _.pairs({ 'barney': 36, 'fred': 40 });
   * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)
   */
  function pairs(object) {
    var index = -1,
        props = keys(object),
        length = props.length,
        result = Array(length);

    while (++index < length) {
      var key = props[index];
      result[index] = [key, object[key]];
    }
    return result;
  }

  /**
   * Creates a shallow clone of `object` composed of the specified properties.
   * Property names may be specified as individual arguments or as arrays of
   * property names. If a callback is provided it will be executed for each
   * property of `object` picking the properties the callback returns truey
   * for. The callback is bound to `thisArg` and invoked with three arguments;
   * (value, key, object).
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {Object} object The source object.
   * @param {Function|...string|string[]} [callback] The function called per
   *  iteration or property names to pick, specified as individual property
   *  names or arrays of property names.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Object} Returns an object composed of the picked properties.
   * @example
   *
   * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');
   * // => { 'name': 'fred' }
   *
   * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {
   *   return key.charAt(0) != '_';
   * });
   * // => { 'name': 'fred' }
   */
  function pick(object) {
    var index = -1,
        props = baseFlatten(arguments, true, false, 1),
        length = props.length,
        result = {};

    while (++index < length) {
      var key = props[index];
      if (key in object) {
        result[key] = object[key];
      }
    }
    return result;
  }

  /**
   * Creates an array composed of the own enumerable property values of `object`.
   *
   * @static
   * @memberOf _
   * @category Objects
   * @param {Object} object The object to inspect.
   * @returns {Array} Returns an array of property values.
   * @example
   *
   * _.values({ 'one': 1, 'two': 2, 'three': 3 });
   * // => [1, 2, 3] (property order is not guaranteed across environments)
   */
  function values(object) {
    var index = -1,
        props = keys(object),
        length = props.length,
        result = Array(length);

    while (++index < length) {
      result[index] = object[props[index]];
    }
    return result;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Checks if a given value is present in a collection using strict equality
   * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the
   * offset from the end of the collection.
   *
   * @static
   * @memberOf _
   * @alias include
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {*} target The value to check for.
   * @param {number} [fromIndex=0] The index to search from.
   * @returns {boolean} Returns `true` if the `target` element is found, else `false`.
   * @example
   *
   * _.contains([1, 2, 3], 1);
   * // => true
   *
   * _.contains([1, 2, 3], 1, 2);
   * // => false
   *
   * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');
   * // => true
   *
   * _.contains('pebbles', 'eb');
   * // => true
   */
  function contains(collection, target) {
    var indexOf = getIndexOf(),
        length = collection ? collection.length : 0,
        result = false;
    if (length && typeof length == 'number') {
      result = indexOf(collection, target) > -1;
    } else {
      forOwn(collection, function(value) {
        return (result = value === target) && indicatorObject;
      });
    }
    return result;
  }

  /**
   * Creates an object composed of keys generated from the results of running
   * each element of `collection` through the callback. The corresponding value
   * of each key is the number of times the key was returned by the callback.
   * The callback is bound to `thisArg` and invoked with three arguments;
   * (value, index|key, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Object} Returns the composed aggregate object.
   * @example
   *
   * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });
   * // => { '4': 1, '6': 2 }
   *
   * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);
   * // => { '4': 1, '6': 2 }
   *
   * _.countBy(['one', 'two', 'three'], 'length');
   * // => { '3': 2, '5': 1 }
   */
  var countBy = createAggregator(function(result, value, key) {
    (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);
  });

  /**
   * Checks if the given callback returns truey value for **all** elements of
   * a collection. The callback is bound to `thisArg` and invoked with three
   * arguments; (value, index|key, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @alias all
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {boolean} Returns `true` if all elements passed the callback check,
   *  else `false`.
   * @example
   *
   * _.every([true, 1, null, 'yes']);
   * // => false
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36 },
   *   { 'name': 'fred',   'age': 40 }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.every(characters, 'age');
   * // => true
   *
   * // using "_.where" callback shorthand
   * _.every(characters, { 'age': 36 });
   * // => false
   */
  function every(collection, callback, thisArg) {
    var result = true;
    callback = createCallback(callback, thisArg, 3);

    var index = -1,
        length = collection ? collection.length : 0;

    if (typeof length == 'number') {
      while (++index < length) {
        if (!(result = !!callback(collection[index], index, collection))) {
          break;
        }
      }
    } else {
      forOwn(collection, function(value, index, collection) {
        return !(result = !!callback(value, index, collection)) && indicatorObject;
      });
    }
    return result;
  }

  /**
   * Iterates over elements of a collection, returning an array of all elements
   * the callback returns truey for. The callback is bound to `thisArg` and
   * invoked with three arguments; (value, index|key, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @alias select
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array} Returns a new array of elements that passed the callback check.
   * @example
   *
   * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });
   * // => [2, 4, 6]
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36, 'blocked': false },
   *   { 'name': 'fred',   'age': 40, 'blocked': true }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.filter(characters, 'blocked');
   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]
   *
   * // using "_.where" callback shorthand
   * _.filter(characters, { 'age': 36 });
   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]
   */
  function filter(collection, callback, thisArg) {
    var result = [];
    callback = createCallback(callback, thisArg, 3);

    var index = -1,
        length = collection ? collection.length : 0;

    if (typeof length == 'number') {
      while (++index < length) {
        var value = collection[index];
        if (callback(value, index, collection)) {
          result.push(value);
        }
      }
    } else {
      forOwn(collection, function(value, index, collection) {
        if (callback(value, index, collection)) {
          result.push(value);
        }
      });
    }
    return result;
  }

  /**
   * Iterates over elements of a collection, returning the first element that
   * the callback returns truey for. The callback is bound to `thisArg` and
   * invoked with three arguments; (value, index|key, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @alias detect, findWhere
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {*} Returns the found element, else `undefined`.
   * @example
   *
   * var characters = [
   *   { 'name': 'barney',  'age': 36, 'blocked': false },
   *   { 'name': 'fred',    'age': 40, 'blocked': true },
   *   { 'name': 'pebbles', 'age': 1,  'blocked': false }
   * ];
   *
   * _.find(characters, function(chr) {
   *   return chr.age < 40;
   * });
   * // => { 'name': 'barney', 'age': 36, 'blocked': false }
   *
   * // using "_.where" callback shorthand
   * _.find(characters, { 'age': 1 });
   * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }
   *
   * // using "_.pluck" callback shorthand
   * _.find(characters, 'blocked');
   * // => { 'name': 'fred', 'age': 40, 'blocked': true }
   */
  function find(collection, callback, thisArg) {
    callback = createCallback(callback, thisArg, 3);

    var index = -1,
        length = collection ? collection.length : 0;

    if (typeof length == 'number') {
      while (++index < length) {
        var value = collection[index];
        if (callback(value, index, collection)) {
          return value;
        }
      }
    } else {
      var result;
      forOwn(collection, function(value, index, collection) {
        if (callback(value, index, collection)) {
          result = value;
          return indicatorObject;
        }
      });
      return result;
    }
  }

  /**
   * Examines each element in a `collection`, returning the first that
   * has the given properties. When checking `properties`, this method
   * performs a deep comparison between values to determine if they are
   * equivalent to each other.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Object} properties The object of property values to filter by.
   * @returns {*} Returns the found element, else `undefined`.
   * @example
   *
   * var food = [
   *   { 'name': 'apple',  'organic': false, 'type': 'fruit' },
   *   { 'name': 'banana', 'organic': true,  'type': 'fruit' },
   *   { 'name': 'beet',   'organic': false, 'type': 'vegetable' }
   * ];
   *
   * _.findWhere(food, { 'type': 'vegetable' });
   * // => { 'name': 'beet', 'organic': false, 'type': 'vegetable' }
   */
  function findWhere(object, properties) {
    return where(object, properties, true);
  }

  /**
   * Iterates over elements of a collection, executing the callback for each
   * element. The callback is bound to `thisArg` and invoked with three arguments;
   * (value, index|key, collection). Callbacks may exit iteration early by
   * explicitly returning `false`.
   *
   * Note: As with other "Collections" methods, objects with a `length` property
   * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`
   * may be used for object iteration.
   *
   * @static
   * @memberOf _
   * @alias each
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function} [callback=identity] The function called per iteration.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array|Object|string} Returns `collection`.
   * @example
   *
   * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');
   * // => logs each number and returns '1,2,3'
   *
   * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });
   * // => logs each number and returns the object (property order is not guaranteed across environments)
   */
  function forEach(collection, callback, thisArg) {
    var index = -1,
        length = collection ? collection.length : 0;

    callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);
    if (typeof length == 'number') {
      while (++index < length) {
        if (callback(collection[index], index, collection) === indicatorObject) {
          break;
        }
      }
    } else {
      forOwn(collection, callback);
    }
  }

  /**
   * This method is like `_.forEach` except that it iterates over elements
   * of a `collection` from right to left.
   *
   * @static
   * @memberOf _
   * @alias eachRight
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function} [callback=identity] The function called per iteration.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array|Object|string} Returns `collection`.
   * @example
   *
   * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');
   * // => logs each number from right to left and returns '3,2,1'
   */
  function forEachRight(collection, callback) {
    var length = collection ? collection.length : 0;
    if (typeof length == 'number') {
      while (length--) {
        if (callback(collection[length], length, collection) === false) {
          break;
        }
      }
    } else {
      var props = keys(collection);
      length = props.length;
      forOwn(collection, function(value, key, collection) {
        key = props ? props[--length] : --length;
        return callback(collection[key], key, collection) === false && indicatorObject;
      });
    }
  }

  /**
   * Creates an object composed of keys generated from the results of running
   * each element of a collection through the callback. The corresponding value
   * of each key is an array of the elements responsible for generating the key.
   * The callback is bound to `thisArg` and invoked with three arguments;
   * (value, index|key, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Object} Returns the composed aggregate object.
   * @example
   *
   * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });
   * // => { '4': [4.2], '6': [6.1, 6.4] }
   *
   * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);
   * // => { '4': [4.2], '6': [6.1, 6.4] }
   *
   * // using "_.pluck" callback shorthand
   * _.groupBy(['one', 'two', 'three'], 'length');
   * // => { '3': ['one', 'two'], '5': ['three'] }
   */
  var groupBy = createAggregator(function(result, value, key) {
    (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);
  });

  /**
   * Creates an object composed of keys generated from the results of running
   * each element of the collection through the given callback. The corresponding
   * value of each key is the last element responsible for generating the key.
   * The callback is bound to `thisArg` and invoked with three arguments;
   * (value, index|key, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Object} Returns the composed aggregate object.
   * @example
   *
   * var keys = [
   *   { 'dir': 'left', 'code': 97 },
   *   { 'dir': 'right', 'code': 100 }
   * ];
   *
   * _.indexBy(keys, 'dir');
   * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }
   *
   * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });
   * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
   *
   * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);
   * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }
   */
  var indexBy = createAggregator(function(result, value, key) {
    result[key] = value;
  });

  /**
   * Invokes the method named by `methodName` on each element in the `collection`
   * returning an array of the results of each invoked method. Additional arguments
   * will be provided to each invoked method. If `methodName` is a function it
   * will be invoked for, and `this` bound to, each element in the `collection`.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|string} methodName The name of the method to invoke or
   *  the function invoked per iteration.
   * @param {...*} [arg] Arguments to invoke the method with.
   * @returns {Array} Returns a new array of the results of each invoked method.
   * @example
   *
   * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');
   * // => [[1, 5, 7], [1, 2, 3]]
   *
   * _.invoke([123, 456], String.prototype.split, '');
   * // => [['1', '2', '3'], ['4', '5', '6']]
   */
  function invoke(collection, methodName) {
    var args = slice(arguments, 2),
        index = -1,
        isFunc = typeof methodName == 'function',
        length = collection ? collection.length : 0,
        result = Array(typeof length == 'number' ? length : 0);

    forEach(collection, function(value) {
      result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);
    });
    return result;
  }

  /**
   * Creates an array of values by running each element in the collection
   * through the callback. The callback is bound to `thisArg` and invoked with
   * three arguments; (value, index|key, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @alias collect
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array} Returns a new array of the results of each `callback` execution.
   * @example
   *
   * _.map([1, 2, 3], function(num) { return num * 3; });
   * // => [3, 6, 9]
   *
   * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });
   * // => [3, 6, 9] (property order is not guaranteed across environments)
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36 },
   *   { 'name': 'fred',   'age': 40 }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.map(characters, 'name');
   * // => ['barney', 'fred']
   */
  function map(collection, callback, thisArg) {
    var index = -1,
        length = collection ? collection.length : 0;

    callback = createCallback(callback, thisArg, 3);
    if (typeof length == 'number') {
      var result = Array(length);
      while (++index < length) {
        result[index] = callback(collection[index], index, collection);
      }
    } else {
      result = [];
      forOwn(collection, function(value, key, collection) {
        result[++index] = callback(value, key, collection);
      });
    }
    return result;
  }

  /**
   * Retrieves the maximum value of a collection. If the collection is empty or
   * falsey `-Infinity` is returned. If a callback is provided it will be executed
   * for each value in the collection to generate the criterion by which the value
   * is ranked. The callback is bound to `thisArg` and invoked with three
   * arguments; (value, index, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {*} Returns the maximum value.
   * @example
   *
   * _.max([4, 2, 8, 6]);
   * // => 8
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36 },
   *   { 'name': 'fred',   'age': 40 }
   * ];
   *
   * _.max(characters, function(chr) { return chr.age; });
   * // => { 'name': 'fred', 'age': 40 };
   *
   * // using "_.pluck" callback shorthand
   * _.max(characters, 'age');
   * // => { 'name': 'fred', 'age': 40 };
   */
  function max(collection, callback, thisArg) {
    var computed = -Infinity,
        result = computed;

    // allows working with functions like `_.map` without using
    // their `index` argument as a callback
    if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {
      callback = null;
    }
    var index = -1,
        length = collection ? collection.length : 0;

    if (callback == null && typeof length == 'number') {
      while (++index < length) {
        var value = collection[index];
        if (value > result) {
          result = value;
        }
      }
    } else {
      callback = createCallback(callback, thisArg, 3);

      forEach(collection, function(value, index, collection) {
        var current = callback(value, index, collection);
        if (current > computed) {
          computed = current;
          result = value;
        }
      });
    }
    return result;
  }

  /**
   * Retrieves the minimum value of a collection. If the collection is empty or
   * falsey `Infinity` is returned. If a callback is provided it will be executed
   * for each value in the collection to generate the criterion by which the value
   * is ranked. The callback is bound to `thisArg` and invoked with three
   * arguments; (value, index, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {*} Returns the minimum value.
   * @example
   *
   * _.min([4, 2, 8, 6]);
   * // => 2
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36 },
   *   { 'name': 'fred',   'age': 40 }
   * ];
   *
   * _.min(characters, function(chr) { return chr.age; });
   * // => { 'name': 'barney', 'age': 36 };
   *
   * // using "_.pluck" callback shorthand
   * _.min(characters, 'age');
   * // => { 'name': 'barney', 'age': 36 };
   */
  function min(collection, callback, thisArg) {
    var computed = Infinity,
        result = computed;

    // allows working with functions like `_.map` without using
    // their `index` argument as a callback
    if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {
      callback = null;
    }
    var index = -1,
        length = collection ? collection.length : 0;

    if (callback == null && typeof length == 'number') {
      while (++index < length) {
        var value = collection[index];
        if (value < result) {
          result = value;
        }
      }
    } else {
      callback = createCallback(callback, thisArg, 3);

      forEach(collection, function(value, index, collection) {
        var current = callback(value, index, collection);
        if (current < computed) {
          computed = current;
          result = value;
        }
      });
    }
    return result;
  }

  /**
   * Retrieves the value of a specified property from all elements in the collection.
   *
   * @static
   * @memberOf _
   * @type Function
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {string} property The name of the property to pluck.
   * @returns {Array} Returns a new array of property values.
   * @example
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36 },
   *   { 'name': 'fred',   'age': 40 }
   * ];
   *
   * _.pluck(characters, 'name');
   * // => ['barney', 'fred']
   */
  var pluck = map;

  /**
   * Reduces a collection to a value which is the accumulated result of running
   * each element in the collection through the callback, where each successive
   * callback execution consumes the return value of the previous execution. If
   * `accumulator` is not provided the first element of the collection will be
   * used as the initial `accumulator` value. The callback is bound to `thisArg`
   * and invoked with four arguments; (accumulator, value, index|key, collection).
   *
   * @static
   * @memberOf _
   * @alias foldl, inject
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function} [callback=identity] The function called per iteration.
   * @param {*} [accumulator] Initial value of the accumulator.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {*} Returns the accumulated value.
   * @example
   *
   * var sum = _.reduce([1, 2, 3], function(sum, num) {
   *   return sum + num;
   * });
   * // => 6
   *
   * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {
   *   result[key] = num * 3;
   *   return result;
   * }, {});
   * // => { 'a': 3, 'b': 6, 'c': 9 }
   */
  function reduce(collection, callback, accumulator, thisArg) {
    if (!collection) return accumulator;
    var noaccum = arguments.length < 3;
    callback = createCallback(callback, thisArg, 4);

    var index = -1,
        length = collection.length;

    if (typeof length == 'number') {
      if (noaccum) {
        accumulator = collection[++index];
      }
      while (++index < length) {
        accumulator = callback(accumulator, collection[index], index, collection);
      }
    } else {
      forOwn(collection, function(value, index, collection) {
        accumulator = noaccum
          ? (noaccum = false, value)
          : callback(accumulator, value, index, collection)
      });
    }
    return accumulator;
  }

  /**
   * This method is like `_.reduce` except that it iterates over elements
   * of a `collection` from right to left.
   *
   * @static
   * @memberOf _
   * @alias foldr
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function} [callback=identity] The function called per iteration.
   * @param {*} [accumulator] Initial value of the accumulator.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {*} Returns the accumulated value.
   * @example
   *
   * var list = [[0, 1], [2, 3], [4, 5]];
   * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);
   * // => [4, 5, 2, 3, 0, 1]
   */
  function reduceRight(collection, callback, accumulator, thisArg) {
    var noaccum = arguments.length < 3;
    callback = createCallback(callback, thisArg, 4);
    forEachRight(collection, function(value, index, collection) {
      accumulator = noaccum
        ? (noaccum = false, value)
        : callback(accumulator, value, index, collection);
    });
    return accumulator;
  }

  /**
   * The opposite of `_.filter` this method returns the elements of a
   * collection that the callback does **not** return truey for.
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array} Returns a new array of elements that failed the callback check.
   * @example
   *
   * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });
   * // => [1, 3, 5]
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36, 'blocked': false },
   *   { 'name': 'fred',   'age': 40, 'blocked': true }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.reject(characters, 'blocked');
   * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]
   *
   * // using "_.where" callback shorthand
   * _.reject(characters, { 'age': 36 });
   * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]
   */
  function reject(collection, callback, thisArg) {
    callback = createCallback(callback, thisArg, 3);
    return filter(collection, function(value, index, collection) {
      return !callback(value, index, collection);
    });
  }

  /**
   * Retrieves a random element or `n` random elements from a collection.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to sample.
   * @param {number} [n] The number of elements to sample.
   * @param- {Object} [guard] Allows working with functions like `_.map`
   *  without using their `index` arguments as `n`.
   * @returns {Array} Returns the random sample(s) of `collection`.
   * @example
   *
   * _.sample([1, 2, 3, 4]);
   * // => 2
   *
   * _.sample([1, 2, 3, 4], 2);
   * // => [3, 1]
   */
  function sample(collection, n, guard) {
    if (collection && typeof collection.length != 'number') {
      collection = values(collection);
    }
    if (n == null || guard) {
      return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;
    }
    var result = shuffle(collection);
    result.length = nativeMin(nativeMax(0, n), result.length);
    return result;
  }

  /**
   * Creates an array of shuffled values, using a version of the Fisher-Yates
   * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to shuffle.
   * @returns {Array} Returns a new shuffled collection.
   * @example
   *
   * _.shuffle([1, 2, 3, 4, 5, 6]);
   * // => [4, 1, 6, 3, 5, 2]
   */
  function shuffle(collection) {
    var index = -1,
        length = collection ? collection.length : 0,
        result = Array(typeof length == 'number' ? length : 0);

    forEach(collection, function(value) {
      var rand = baseRandom(0, ++index);
      result[index] = result[rand];
      result[rand] = value;
    });
    return result;
  }

  /**
   * Gets the size of the `collection` by returning `collection.length` for arrays
   * and array-like objects or the number of own enumerable properties for objects.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to inspect.
   * @returns {number} Returns `collection.length` or number of own enumerable properties.
   * @example
   *
   * _.size([1, 2]);
   * // => 2
   *
   * _.size({ 'one': 1, 'two': 2, 'three': 3 });
   * // => 3
   *
   * _.size('pebbles');
   * // => 7
   */
  function size(collection) {
    var length = collection ? collection.length : 0;
    return typeof length == 'number' ? length : keys(collection).length;
  }

  /**
   * Checks if the callback returns a truey value for **any** element of a
   * collection. The function returns as soon as it finds a passing value and
   * does not iterate over the entire collection. The callback is bound to
   * `thisArg` and invoked with three arguments; (value, index|key, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @alias any
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {boolean} Returns `true` if any element passed the callback check,
   *  else `false`.
   * @example
   *
   * _.some([null, 0, 'yes', false], Boolean);
   * // => true
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36, 'blocked': false },
   *   { 'name': 'fred',   'age': 40, 'blocked': true }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.some(characters, 'blocked');
   * // => true
   *
   * // using "_.where" callback shorthand
   * _.some(characters, { 'age': 1 });
   * // => false
   */
  function some(collection, callback, thisArg) {
    var result;
    callback = createCallback(callback, thisArg, 3);

    var index = -1,
        length = collection ? collection.length : 0;

    if (typeof length == 'number') {
      while (++index < length) {
        if ((result = callback(collection[index], index, collection))) {
          break;
        }
      }
    } else {
      forOwn(collection, function(value, index, collection) {
        return (result = callback(value, index, collection)) && indicatorObject;
      });
    }
    return !!result;
  }

  /**
   * Creates an array of elements, sorted in ascending order by the results of
   * running each element in a collection through the callback. This method
   * performs a stable sort, that is, it will preserve the original sort order
   * of equal elements. The callback is bound to `thisArg` and invoked with
   * three arguments; (value, index|key, collection).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an array of property names is provided for `callback` the collection
   * will be sorted by each property value.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Array|Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array} Returns a new array of sorted elements.
   * @example
   *
   * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });
   * // => [3, 1, 2]
   *
   * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);
   * // => [3, 1, 2]
   *
   * var characters = [
   *   { 'name': 'barney',  'age': 36 },
   *   { 'name': 'fred',    'age': 40 },
   *   { 'name': 'barney',  'age': 26 },
   *   { 'name': 'fred',    'age': 30 }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.map(_.sortBy(characters, 'age'), _.values);
   * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]
   *
   * // sorting by multiple properties
   * _.map(_.sortBy(characters, ['name', 'age']), _.values);
   * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]
   */
  function sortBy(collection, callback, thisArg) {
    var index = -1,
        length = collection ? collection.length : 0,
        result = Array(typeof length == 'number' ? length : 0);

    callback = createCallback(callback, thisArg, 3);
    forEach(collection, function(value, key, collection) {
      result[++index] = {
        'criteria': [callback(value, key, collection)],
        'index': index,
        'value': value
      };
    });

    length = result.length;
    result.sort(compareAscending);
    while (length--) {
      result[length] = result[length].value;
    }
    return result;
  }

  /**
   * Converts the `collection` to an array.
   *
   * @static
   * @memberOf _
   * @category Collections
   * @param {Array|Object|string} collection The collection to convert.
   * @returns {Array} Returns the new converted array.
   * @example
   *
   * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);
   * // => [2, 3, 4]
   */
  function toArray(collection) {
    if (isArray(collection)) {
      return slice(collection);
    }
    if (collection && typeof collection.length == 'number') {
      return map(collection);
    }
    return values(collection);
  }

  /**
   * Performs a deep comparison of each element in a `collection` to the given
   * `properties` object, returning an array of all elements that have equivalent
   * property values.
   *
   * @static
   * @memberOf _
   * @type Function
   * @category Collections
   * @param {Array|Object|string} collection The collection to iterate over.
   * @param {Object} props The object of property values to filter by.
   * @returns {Array} Returns a new array of elements that have the given properties.
   * @example
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },
   *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }
   * ];
   *
   * _.where(characters, { 'age': 36 });
   * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]
   *
   * _.where(characters, { 'pets': ['dino'] });
   * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]
   */
  function where(collection, properties, first) {
    return (first && isEmpty(properties))
      ? undefined
      : (first ? find : filter)(collection, properties);
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Creates an array with all falsey values removed. The values `false`, `null`,
   * `0`, `""`, `undefined`, and `NaN` are all falsey.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {Array} array The array to compact.
   * @returns {Array} Returns a new array of filtered values.
   * @example
   *
   * _.compact([0, 1, false, 2, '', 3]);
   * // => [1, 2, 3]
   */
  function compact(array) {
    var index = -1,
        length = array ? array.length : 0,
        result = [];

    while (++index < length) {
      var value = array[index];
      if (value) {
        result.push(value);
      }
    }
    return result;
  }

  /**
   * Creates an array excluding all values of the provided arrays using strict
   * equality for comparisons, i.e. `===`.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {Array} array The array to process.
   * @param {...Array} [values] The arrays of values to exclude.
   * @returns {Array} Returns a new array of filtered values.
   * @example
   *
   * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);
   * // => [1, 3, 4]
   */
  function difference(array) {
    return baseDifference(array, baseFlatten(arguments, true, true, 1));
  }

  /**
   * Gets the first element or first `n` elements of an array. If a callback
   * is provided elements at the beginning of the array are returned as long
   * as the callback returns truey. The callback is bound to `thisArg` and
   * invoked with three arguments; (value, index, array).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @alias head, take
   * @category Arrays
   * @param {Array} array The array to query.
   * @param {Function|Object|number|string} [callback] The function called
   *  per element or the number of elements to return. If a property name or
   *  object is provided it will be used to create a "_.pluck" or "_.where"
   *  style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {*} Returns the first element(s) of `array`.
   * @example
   *
   * _.first([1, 2, 3]);
   * // => 1
   *
   * _.first([1, 2, 3], 2);
   * // => [1, 2]
   *
   * _.first([1, 2, 3], function(num) {
   *   return num < 3;
   * });
   * // => [1, 2]
   *
   * var characters = [
   *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },
   *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },
   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.first(characters, 'blocked');
   * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]
   *
   * // using "_.where" callback shorthand
   * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');
   * // => ['barney', 'fred']
   */
  function first(array, callback, thisArg) {
    var n = 0,
        length = array ? array.length : 0;

    if (typeof callback != 'number' && callback != null) {
      var index = -1;
      callback = createCallback(callback, thisArg, 3);
      while (++index < length && callback(array[index], index, array)) {
        n++;
      }
    } else {
      n = callback;
      if (n == null || thisArg) {
        return array ? array[0] : undefined;
      }
    }
    return slice(array, 0, nativeMin(nativeMax(0, n), length));
  }

  /**
   * Flattens a nested array (the nesting can be to any depth). If `isShallow`
   * is truey, the array will only be flattened a single level. If a callback
   * is provided each element of the array is passed through the callback before
   * flattening. The callback is bound to `thisArg` and invoked with three
   * arguments; (value, index, array).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {Array} array The array to flatten.
   * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array} Returns a new flattened array.
   * @example
   *
   * _.flatten([1, [2], [3, [[4]]]]);
   * // => [1, 2, 3, 4];
   *
   * _.flatten([1, [2], [3, [[4]]]], true);
   * // => [1, 2, 3, [[4]]];
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },
   *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.flatten(characters, 'pets');
   * // => ['hoppy', 'baby puss', 'dino']
   */
  function flatten(array, isShallow) {
    return baseFlatten(array, isShallow);
  }

  /**
   * Gets the index at which the first occurrence of `value` is found using
   * strict equality for comparisons, i.e. `===`. If the array is already sorted
   * providing `true` for `fromIndex` will run a faster binary search.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {Array} array The array to search.
   * @param {*} value The value to search for.
   * @param {boolean|number} [fromIndex=0] The index to search from or `true`
   *  to perform a binary search on a sorted array.
   * @returns {number} Returns the index of the matched value or `-1`.
   * @example
   *
   * _.indexOf([1, 2, 3, 1, 2, 3], 2);
   * // => 1
   *
   * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);
   * // => 4
   *
   * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);
   * // => 2
   */
  function indexOf(array, value, fromIndex) {
    if (typeof fromIndex == 'number') {
      var length = array ? array.length : 0;
      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);
    } else if (fromIndex) {
      var index = sortedIndex(array, value);
      return array[index] === value ? index : -1;
    }
    return baseIndexOf(array, value, fromIndex);
  }

  /**
   * Gets all but the last element or last `n` elements of an array. If a
   * callback is provided elements at the end of the array are excluded from
   * the result as long as the callback returns truey. The callback is bound
   * to `thisArg` and invoked with three arguments; (value, index, array).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {Array} array The array to query.
   * @param {Function|Object|number|string} [callback=1] The function called
   *  per element or the number of elements to exclude. If a property name or
   *  object is provided it will be used to create a "_.pluck" or "_.where"
   *  style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array} Returns a slice of `array`.
   * @example
   *
   * _.initial([1, 2, 3]);
   * // => [1, 2]
   *
   * _.initial([1, 2, 3], 2);
   * // => [1]
   *
   * _.initial([1, 2, 3], function(num) {
   *   return num > 1;
   * });
   * // => [1]
   *
   * var characters = [
   *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },
   *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },
   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.initial(characters, 'blocked');
   * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]
   *
   * // using "_.where" callback shorthand
   * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');
   * // => ['barney', 'fred']
   */
  function initial(array, callback, thisArg) {
    var n = 0,
        length = array ? array.length : 0;

    if (typeof callback != 'number' && callback != null) {
      var index = length;
      callback = createCallback(callback, thisArg, 3);
      while (index-- && callback(array[index], index, array)) {
        n++;
      }
    } else {
      n = (callback == null || thisArg) ? 1 : callback || n;
    }
    return slice(array, 0, nativeMin(nativeMax(0, length - n), length));
  }

  /**
   * Creates an array of unique values present in all provided arrays using
   * strict equality for comparisons, i.e. `===`.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {...Array} [array] The arrays to inspect.
   * @returns {Array} Returns an array of shared values.
   * @example
   *
   * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);
   * // => [1, 2]
   */
  function intersection() {
    var args = [],
        argsIndex = -1,
        argsLength = arguments.length;

    while (++argsIndex < argsLength) {
      var value = arguments[argsIndex];
       if (isArray(value) || isArguments(value)) {
         args.push(value);
       }
    }
    var array = args[0],
        index = -1,
        indexOf = getIndexOf(),
        length = array ? array.length : 0,
        result = [];

    outer:
    while (++index < length) {
      value = array[index];
      if (indexOf(result, value) < 0) {
        var argsIndex = argsLength;
        while (--argsIndex) {
          if (indexOf(args[argsIndex], value) < 0) {
            continue outer;
          }
        }
        result.push(value);
      }
    }
    return result;
  }

  /**
   * Gets the last element or last `n` elements of an array. If a callback is
   * provided elements at the end of the array are returned as long as the
   * callback returns truey. The callback is bound to `thisArg` and invoked
   * with three arguments; (value, index, array).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {Array} array The array to query.
   * @param {Function|Object|number|string} [callback] The function called
   *  per element or the number of elements to return. If a property name or
   *  object is provided it will be used to create a "_.pluck" or "_.where"
   *  style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {*} Returns the last element(s) of `array`.
   * @example
   *
   * _.last([1, 2, 3]);
   * // => 3
   *
   * _.last([1, 2, 3], 2);
   * // => [2, 3]
   *
   * _.last([1, 2, 3], function(num) {
   *   return num > 1;
   * });
   * // => [2, 3]
   *
   * var characters = [
   *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },
   *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },
   *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.pluck(_.last(characters, 'blocked'), 'name');
   * // => ['fred', 'pebbles']
   *
   * // using "_.where" callback shorthand
   * _.last(characters, { 'employer': 'na' });
   * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]
   */
  function last(array, callback, thisArg) {
    var n = 0,
        length = array ? array.length : 0;

    if (typeof callback != 'number' && callback != null) {
      var index = length;
      callback = createCallback(callback, thisArg, 3);
      while (index-- && callback(array[index], index, array)) {
        n++;
      }
    } else {
      n = callback;
      if (n == null || thisArg) {
        return array ? array[length - 1] : undefined;
      }
    }
    return slice(array, nativeMax(0, length - n));
  }

  /**
   * Gets the index at which the last occurrence of `value` is found using strict
   * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used
   * as the offset from the end of the collection.
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {Array} array The array to search.
   * @param {*} value The value to search for.
   * @param {number} [fromIndex=array.length-1] The index to search from.
   * @returns {number} Returns the index of the matched value or `-1`.
   * @example
   *
   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);
   * // => 4
   *
   * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);
   * // => 1
   */
  function lastIndexOf(array, value, fromIndex) {
    var index = array ? array.length : 0;
    if (typeof fromIndex == 'number') {
      index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;
    }
    while (index--) {
      if (array[index] === value) {
        return index;
      }
    }
    return -1;
  }

  /**
   * Creates an array of numbers (positive and/or negative) progressing from
   * `start` up to but not including `end`. If `start` is less than `stop` a
   * zero-length range is created unless a negative `step` is specified.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {number} [start=0] The start of the range.
   * @param {number} end The end of the range.
   * @param {number} [step=1] The value to increment or decrement by.
   * @returns {Array} Returns a new range array.
   * @example
   *
   * _.range(4);
   * // => [0, 1, 2, 3]
   *
   * _.range(1, 5);
   * // => [1, 2, 3, 4]
   *
   * _.range(0, 20, 5);
   * // => [0, 5, 10, 15]
   *
   * _.range(0, -4, -1);
   * // => [0, -1, -2, -3]
   *
   * _.range(1, 4, 0);
   * // => [1, 1, 1]
   *
   * _.range(0);
   * // => []
   */
  function range(start, end, step) {
    start = +start || 0;
    step =  (+step || 1);

    if (end == null) {
      end = start;
      start = 0;
    }
    // use `Array(length)` so engines like Chakra and V8 avoid slower modes
    // http://youtu.be/XAqIpGU8ZZk#t=17m25s
    var index = -1,
        length = nativeMax(0, ceil((end - start) / step)),
        result = Array(length);

    while (++index < length) {
      result[index] = start;
      start += step;
    }
    return result;
  }

  /**
   * The opposite of `_.initial` this method gets all but the first element or
   * first `n` elements of an array. If a callback function is provided elements
   * at the beginning of the array are excluded from the result as long as the
   * callback returns truey. The callback is bound to `thisArg` and invoked
   * with three arguments; (value, index, array).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @alias drop, tail
   * @category Arrays
   * @param {Array} array The array to query.
   * @param {Function|Object|number|string} [callback=1] The function called
   *  per element or the number of elements to exclude. If a property name or
   *  object is provided it will be used to create a "_.pluck" or "_.where"
   *  style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array} Returns a slice of `array`.
   * @example
   *
   * _.rest([1, 2, 3]);
   * // => [2, 3]
   *
   * _.rest([1, 2, 3], 2);
   * // => [3]
   *
   * _.rest([1, 2, 3], function(num) {
   *   return num < 3;
   * });
   * // => [3]
   *
   * var characters = [
   *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },
   *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },
   *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }
   * ];
   *
   * // using "_.pluck" callback shorthand
   * _.pluck(_.rest(characters, 'blocked'), 'name');
   * // => ['fred', 'pebbles']
   *
   * // using "_.where" callback shorthand
   * _.rest(characters, { 'employer': 'slate' });
   * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]
   */
  function rest(array, callback, thisArg) {
    if (typeof callback != 'number' && callback != null) {
      var n = 0,
          index = -1,
          length = array ? array.length : 0;

      callback = createCallback(callback, thisArg, 3);
      while (++index < length && callback(array[index], index, array)) {
        n++;
      }
    } else {
      n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);
    }
    return slice(array, n);
  }

  /**
   * Uses a binary search to determine the smallest index at which a value
   * should be inserted into a given sorted array in order to maintain the sort
   * order of the array. If a callback is provided it will be executed for
   * `value` and each element of `array` to compute their sort ranking. The
   * callback is bound to `thisArg` and invoked with one argument; (value).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {Array} array The array to inspect.
   * @param {*} value The value to evaluate.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {number} Returns the index at which `value` should be inserted
   *  into `array`.
   * @example
   *
   * _.sortedIndex([20, 30, 50], 40);
   * // => 2
   *
   * // using "_.pluck" callback shorthand
   * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');
   * // => 2
   *
   * var dict = {
   *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }
   * };
   *
   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {
   *   return dict.wordToNumber[word];
   * });
   * // => 2
   *
   * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {
   *   return this.wordToNumber[word];
   * }, dict);
   * // => 2
   */
  function sortedIndex(array, value, callback, thisArg) {
    var low = 0,
        high = array ? array.length : low;

    // explicitly reference `identity` for better inlining in Firefox
    callback = callback ? createCallback(callback, thisArg, 1) : identity;
    value = callback(value);

    while (low < high) {
      var mid = (low + high) >>> 1;
      (callback(array[mid]) < value)
        ? low = mid + 1
        : high = mid;
    }
    return low;
  }

  /**
   * Creates an array of unique values, in order, of the provided arrays using
   * strict equality for comparisons, i.e. `===`.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {...Array} [array] The arrays to inspect.
   * @returns {Array} Returns an array of combined values.
   * @example
   *
   * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);
   * // => [1, 2, 3, 5, 4]
   */
  function union() {
    return baseUniq(baseFlatten(arguments, true, true));
  }

  /**
   * Creates a duplicate-value-free version of an array using strict equality
   * for comparisons, i.e. `===`. If the array is sorted, providing
   * `true` for `isSorted` will use a faster algorithm. If a callback is provided
   * each element of `array` is passed through the callback before uniqueness
   * is computed. The callback is bound to `thisArg` and invoked with three
   * arguments; (value, index, array).
   *
   * If a property name is provided for `callback` the created "_.pluck" style
   * callback will return the property value of the given element.
   *
   * If an object is provided for `callback` the created "_.where" style callback
   * will return `true` for elements that have the properties of the given object,
   * else `false`.
   *
   * @static
   * @memberOf _
   * @alias unique
   * @category Arrays
   * @param {Array} array The array to process.
   * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.
   * @param {Function|Object|string} [callback=identity] The function called
   *  per iteration. If a property name or object is provided it will be used
   *  to create a "_.pluck" or "_.where" style callback, respectively.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array} Returns a duplicate-value-free array.
   * @example
   *
   * _.uniq([1, 2, 1, 3, 1]);
   * // => [1, 2, 3]
   *
   * _.uniq([1, 1, 2, 2, 3], true);
   * // => [1, 2, 3]
   *
   * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });
   * // => ['A', 'b', 'C']
   *
   * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);
   * // => [1, 2.5, 3]
   *
   * // using "_.pluck" callback shorthand
   * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');
   * // => [{ 'x': 1 }, { 'x': 2 }]
   */
  function uniq(array, isSorted, callback, thisArg) {
    // juggle arguments
    if (typeof isSorted != 'boolean' && isSorted != null) {
      thisArg = callback;
      callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;
      isSorted = false;
    }
    if (callback != null) {
      callback = createCallback(callback, thisArg, 3);
    }
    return baseUniq(array, isSorted, callback);
  }

  /**
   * Creates an array excluding all provided values using strict equality for
   * comparisons, i.e. `===`.
   *
   * @static
   * @memberOf _
   * @category Arrays
   * @param {Array} array The array to filter.
   * @param {...*} [value] The values to exclude.
   * @returns {Array} Returns a new array of filtered values.
   * @example
   *
   * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);
   * // => [2, 3, 4]
   */
  function without(array) {
    return baseDifference(array, slice(arguments, 1));
  }

  /**
   * Creates an array of grouped elements, the first of which contains the first
   * elements of the given arrays, the second of which contains the second
   * elements of the given arrays, and so on.
   *
   * @static
   * @memberOf _
   * @alias unzip
   * @category Arrays
   * @param {...Array} [array] Arrays to process.
   * @returns {Array} Returns a new array of grouped elements.
   * @example
   *
   * _.zip(['fred', 'barney'], [30, 40], [true, false]);
   * // => [['fred', 30, true], ['barney', 40, false]]
   */
  function zip() {
    var index = -1,
        length = max(pluck(arguments, 'length')),
        result = Array(length < 0 ? 0 : length);

    while (++index < length) {
      result[index] = pluck(arguments, index);
    }
    return result;
  }

  /**
   * Creates an object composed from arrays of `keys` and `values`. Provide
   * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`
   * or two arrays, one of `keys` and one of corresponding `values`.
   *
   * @static
   * @memberOf _
   * @alias object
   * @category Arrays
   * @param {Array} keys The array of keys.
   * @param {Array} [values=[]] The array of values.
   * @returns {Object} Returns an object composed of the given keys and
   *  corresponding values.
   * @example
   *
   * _.zipObject(['fred', 'barney'], [30, 40]);
   * // => { 'fred': 30, 'barney': 40 }
   */
  function zipObject(keys, values) {
    var index = -1,
        length = keys ? keys.length : 0,
        result = {};

    if (!values && length && !isArray(keys[0])) {
      values = [];
    }
    while (++index < length) {
      var key = keys[index];
      if (values) {
        result[key] = values[index];
      } else if (key) {
        result[key[0]] = key[1];
      }
    }
    return result;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Creates a function that executes `func`, with  the `this` binding and
   * arguments of the created function, only after being called `n` times.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {number} n The number of times the function must be called before
   *  `func` is executed.
   * @param {Function} func The function to restrict.
   * @returns {Function} Returns the new restricted function.
   * @example
   *
   * var saves = ['profile', 'settings'];
   *
   * var done = _.after(saves.length, function() {
   *   console.log('Done saving!');
   * });
   *
   * _.forEach(saves, function(type) {
   *   asyncSave({ 'type': type, 'complete': done });
   * });
   * // => logs 'Done saving!', after all saves have completed
   */
  function after(n, func) {
    if (!isFunction(func)) {
      throw new TypeError;
    }
    return function() {
      if (--n < 1) {
        return func.apply(this, arguments);
      }
    };
  }

  /**
   * Creates a function that, when called, invokes `func` with the `this`
   * binding of `thisArg` and prepends any additional `bind` arguments to those
   * provided to the bound function.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {Function} func The function to bind.
   * @param {*} [thisArg] The `this` binding of `func`.
   * @param {...*} [arg] Arguments to be partially applied.
   * @returns {Function} Returns the new bound function.
   * @example
   *
   * var func = function(greeting) {
   *   return greeting + ' ' + this.name;
   * };
   *
   * func = _.bind(func, { 'name': 'fred' }, 'hi');
   * func();
   * // => 'hi fred'
   */
  function bind(func, thisArg) {
    return arguments.length > 2
      ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)
      : createWrapper(func, 1, null, null, thisArg);
  }

  /**
   * Binds methods of an object to the object itself, overwriting the existing
   * method. Method names may be specified as individual arguments or as arrays
   * of method names. If no method names are provided all the function properties
   * of `object` will be bound.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {Object} object The object to bind and assign the bound methods to.
   * @param {...string} [methodName] The object method names to
   *  bind, specified as individual method names or arrays of method names.
   * @returns {Object} Returns `object`.
   * @example
   *
   * var view = {
   *   'label': 'docs',
   *   'onClick': function() { console.log('clicked ' + this.label); }
   * };
   *
   * _.bindAll(view);
   * jQuery('#docs').on('click', view.onClick);
   * // => logs 'clicked docs', when the button is clicked
   */
  function bindAll(object) {
    var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),
        index = -1,
        length = funcs.length;

    while (++index < length) {
      var key = funcs[index];
      object[key] = createWrapper(object[key], 1, null, null, object);
    }
    return object;
  }

  /**
   * Creates a function that is the composition of the provided functions,
   * where each function consumes the return value of the function that follows.
   * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.
   * Each function is executed with the `this` binding of the composed function.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {...Function} [func] Functions to compose.
   * @returns {Function} Returns the new composed function.
   * @example
   *
   * var realNameMap = {
   *   'pebbles': 'penelope'
   * };
   *
   * var format = function(name) {
   *   name = realNameMap[name.toLowerCase()] || name;
   *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();
   * };
   *
   * var greet = function(formatted) {
   *   return 'Hiya ' + formatted + '!';
   * };
   *
   * var welcome = _.compose(greet, format);
   * welcome('pebbles');
   * // => 'Hiya Penelope!'
   */
  function compose() {
    var funcs = arguments,
        length = funcs.length;

    while (length--) {
      if (!isFunction(funcs[length])) {
        throw new TypeError;
      }
    }
    return function() {
      var args = arguments,
          length = funcs.length;

      while (length--) {
        args = [funcs[length].apply(this, args)];
      }
      return args[0];
    };
  }

  /**
   * Creates a function that will delay the execution of `func` until after
   * `wait` milliseconds have elapsed since the last time it was invoked.
   * Provide an options object to indicate that `func` should be invoked on
   * the leading and/or trailing edge of the `wait` timeout. Subsequent calls
   * to the debounced function will return the result of the last `func` call.
   *
   * Note: If `leading` and `trailing` options are `true` `func` will be called
   * on the trailing edge of the timeout only if the the debounced function is
   * invoked more than once during the `wait` timeout.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {Function} func The function to debounce.
   * @param {number} wait The number of milliseconds to delay.
   * @param {Object} [options] The options object.
   * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.
   * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.
   * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.
   * @returns {Function} Returns the new debounced function.
   * @example
   *
   * // avoid costly calculations while the window size is in flux
   * var lazyLayout = _.debounce(calculateLayout, 150);
   * jQuery(window).on('resize', lazyLayout);
   *
   * // execute `sendMail` when the click event is fired, debouncing subsequent calls
   * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {
   *   'leading': true,
   *   'trailing': false
   * });
   *
   * // ensure `batchLog` is executed once after 1 second of debounced calls
   * var source = new EventSource('/stream');
   * source.addEventListener('message', _.debounce(batchLog, 250, {
   *   'maxWait': 1000
   * }, false);
   */
  function debounce(func, wait, options) {
    var args,
        maxTimeoutId,
        result,
        stamp,
        thisArg,
        timeoutId,
        trailingCall,
        lastCalled = 0,
        maxWait = false,
        trailing = true;

    if (!isFunction(func)) {
      throw new TypeError;
    }
    wait = nativeMax(0, wait) || 0;
    if (options === true) {
      var leading = true;
      trailing = false;
    } else if (isObject(options)) {
      leading = options.leading;
      maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);
      trailing = 'trailing' in options ? options.trailing : trailing;
    }
    var delayed = function() {
      var remaining = wait - (now() - stamp);
      if (remaining <= 0) {
        if (maxTimeoutId) {
          clearTimeout(maxTimeoutId);
        }
        var isCalled = trailingCall;
        maxTimeoutId = timeoutId = trailingCall = undefined;
        if (isCalled) {
          lastCalled = now();
          result = func.apply(thisArg, args);
          if (!timeoutId && !maxTimeoutId) {
            args = thisArg = null;
          }
        }
      } else {
        timeoutId = setTimeout(delayed, remaining);
      }
    };

    var maxDelayed = function() {
      if (timeoutId) {
        clearTimeout(timeoutId);
      }
      maxTimeoutId = timeoutId = trailingCall = undefined;
      if (trailing || (maxWait !== wait)) {
        lastCalled = now();
        result = func.apply(thisArg, args);
        if (!timeoutId && !maxTimeoutId) {
          args = thisArg = null;
        }
      }
    };

    return function() {
      args = arguments;
      stamp = now();
      thisArg = this;
      trailingCall = trailing && (timeoutId || !leading);

      if (maxWait === false) {
        var leadingCall = leading && !timeoutId;
      } else {
        if (!maxTimeoutId && !leading) {
          lastCalled = stamp;
        }
        var remaining = maxWait - (stamp - lastCalled),
            isCalled = remaining <= 0;

        if (isCalled) {
          if (maxTimeoutId) {
            maxTimeoutId = clearTimeout(maxTimeoutId);
          }
          lastCalled = stamp;
          result = func.apply(thisArg, args);
        }
        else if (!maxTimeoutId) {
          maxTimeoutId = setTimeout(maxDelayed, remaining);
        }
      }
      if (isCalled && timeoutId) {
        timeoutId = clearTimeout(timeoutId);
      }
      else if (!timeoutId && wait !== maxWait) {
        timeoutId = setTimeout(delayed, wait);
      }
      if (leadingCall) {
        isCalled = true;
        result = func.apply(thisArg, args);
      }
      if (isCalled && !timeoutId && !maxTimeoutId) {
        args = thisArg = null;
      }
      return result;
    };
  }

  /**
   * Defers executing the `func` function until the current call stack has cleared.
   * Additional arguments will be provided to `func` when it is invoked.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {Function} func The function to defer.
   * @param {...*} [arg] Arguments to invoke the function with.
   * @returns {number} Returns the timer id.
   * @example
   *
   * _.defer(function(text) { console.log(text); }, 'deferred');
   * // logs 'deferred' after one or more milliseconds
   */
  function defer(func) {
    if (!isFunction(func)) {
      throw new TypeError;
    }
    var args = slice(arguments, 1);
    return setTimeout(function() { func.apply(undefined, args); }, 1);
  }

  /**
   * Executes the `func` function after `wait` milliseconds. Additional arguments
   * will be provided to `func` when it is invoked.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {Function} func The function to delay.
   * @param {number} wait The number of milliseconds to delay execution.
   * @param {...*} [arg] Arguments to invoke the function with.
   * @returns {number} Returns the timer id.
   * @example
   *
   * _.delay(function(text) { console.log(text); }, 1000, 'later');
   * // => logs 'later' after one second
   */
  function delay(func, wait) {
    if (!isFunction(func)) {
      throw new TypeError;
    }
    var args = slice(arguments, 2);
    return setTimeout(function() { func.apply(undefined, args); }, wait);
  }

  /**
   * Creates a function that memoizes the result of `func`. If `resolver` is
   * provided it will be used to determine the cache key for storing the result
   * based on the arguments provided to the memoized function. By default, the
   * first argument provided to the memoized function is used as the cache key.
   * The `func` is executed with the `this` binding of the memoized function.
   * The result cache is exposed as the `cache` property on the memoized function.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {Function} func The function to have its output memoized.
   * @param {Function} [resolver] A function used to resolve the cache key.
   * @returns {Function} Returns the new memoizing function.
   * @example
   *
   * var fibonacci = _.memoize(function(n) {
   *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);
   * });
   *
   * fibonacci(9)
   * // => 34
   *
   * var data = {
   *   'fred': { 'name': 'fred', 'age': 40 },
   *   'pebbles': { 'name': 'pebbles', 'age': 1 }
   * };
   *
   * // modifying the result cache
   * var get = _.memoize(function(name) { return data[name]; }, _.identity);
   * get('pebbles');
   * // => { 'name': 'pebbles', 'age': 1 }
   *
   * get.cache.pebbles.name = 'penelope';
   * get('pebbles');
   * // => { 'name': 'penelope', 'age': 1 }
   */
  function memoize(func, resolver) {
    var cache = {};
    return function() {
      var key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];
      return hasOwnProperty.call(cache, key)
        ? cache[key]
        : (cache[key] = func.apply(this, arguments));
    };
  }

  /**
   * Creates a function that is restricted to execute `func` once. Repeat calls to
   * the function will return the value of the first call. The `func` is executed
   * with the `this` binding of the created function.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {Function} func The function to restrict.
   * @returns {Function} Returns the new restricted function.
   * @example
   *
   * var initialize = _.once(createApplication);
   * initialize();
   * initialize();
   * // `initialize` executes `createApplication` once
   */
  function once(func) {
    var ran,
        result;

    if (!isFunction(func)) {
      throw new TypeError;
    }
    return function() {
      if (ran) {
        return result;
      }
      ran = true;
      result = func.apply(this, arguments);

      // clear the `func` variable so the function may be garbage collected
      func = null;
      return result;
    };
  }

  /**
   * Creates a function that, when called, invokes `func` with any additional
   * `partial` arguments prepended to those provided to the new function. This
   * method is similar to `_.bind` except it does **not** alter the `this` binding.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {Function} func The function to partially apply arguments to.
   * @param {...*} [arg] Arguments to be partially applied.
   * @returns {Function} Returns the new partially applied function.
   * @example
   *
   * var greet = function(greeting, name) { return greeting + ' ' + name; };
   * var hi = _.partial(greet, 'hi');
   * hi('fred');
   * // => 'hi fred'
   */
  function partial(func) {
    return createWrapper(func, 16, slice(arguments, 1));
  }

  /**
   * Creates a function that, when executed, will only call the `func` function
   * at most once per every `wait` milliseconds. Provide an options object to
   * indicate that `func` should be invoked on the leading and/or trailing edge
   * of the `wait` timeout. Subsequent calls to the throttled function will
   * return the result of the last `func` call.
   *
   * Note: If `leading` and `trailing` options are `true` `func` will be called
   * on the trailing edge of the timeout only if the the throttled function is
   * invoked more than once during the `wait` timeout.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {Function} func The function to throttle.
   * @param {number} wait The number of milliseconds to throttle executions to.
   * @param {Object} [options] The options object.
   * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.
   * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.
   * @returns {Function} Returns the new throttled function.
   * @example
   *
   * // avoid excessively updating the position while scrolling
   * var throttled = _.throttle(updatePosition, 100);
   * jQuery(window).on('scroll', throttled);
   *
   * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes
   * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {
   *   'trailing': false
   * }));
   */
  function throttle(func, wait, options) {
    var leading = true,
        trailing = true;

    if (!isFunction(func)) {
      throw new TypeError;
    }
    if (options === false) {
      leading = false;
    } else if (isObject(options)) {
      leading = 'leading' in options ? options.leading : leading;
      trailing = 'trailing' in options ? options.trailing : trailing;
    }
    options = {};
    options.leading = leading;
    options.maxWait = wait;
    options.trailing = trailing;

    return debounce(func, wait, options);
  }

  /**
   * Creates a function that provides `value` to the wrapper function as its
   * first argument. Additional arguments provided to the function are appended
   * to those provided to the wrapper function. The wrapper is executed with
   * the `this` binding of the created function.
   *
   * @static
   * @memberOf _
   * @category Functions
   * @param {*} value The value to wrap.
   * @param {Function} wrapper The wrapper function.
   * @returns {Function} Returns the new function.
   * @example
   *
   * var p = _.wrap(_.escape, function(func, text) {
   *   return '<p>' + func(text) + '</p>';
   * });
   *
   * p('Fred, Wilma, & Pebbles');
   * // => '<p>Fred, Wilma, &amp; Pebbles</p>'
   */
  function wrap(value, wrapper) {
    return createWrapper(wrapper, 16, [value]);
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Produces a callback bound to an optional `thisArg`. If `func` is a property
   * name the created callback will return the property value for a given element.
   * If `func` is an object the created callback will return `true` for elements
   * that contain the equivalent object properties, otherwise it will return `false`.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {*} [func=identity] The value to convert to a callback.
   * @param {*} [thisArg] The `this` binding of the created callback.
   * @param {number} [argCount] The number of arguments the callback accepts.
   * @returns {Function} Returns a callback function.
   * @example
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36 },
   *   { 'name': 'fred',   'age': 40 }
   * ];
   *
   * // wrap to create custom callback shorthands
   * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {
   *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);
   *   return !match ? func(callback, thisArg) : function(object) {
   *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];
   *   };
   * });
   *
   * _.filter(characters, 'age__gt38');
   * // => [{ 'name': 'fred', 'age': 40 }]
   */
  function createCallback(func, thisArg, argCount) {
    var type = typeof func;
    if (func == null || type == 'function') {
      return baseCreateCallback(func, thisArg, argCount);
    }
    // handle "_.pluck" style callback shorthands
    if (type != 'object') {
      return property(func);
    }
    var props = keys(func);
    return function(object) {
      var length = props.length,
          result = false;

      while (length--) {
        if (!(result = object[props[length]] === func[props[length]])) {
          break;
        }
      }
      return result;
    };
  }

  /**
   * Converts the characters `&`, `<`, `>`, `"`, and `'` in `string` to their
   * corresponding HTML entities.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {string} string The string to escape.
   * @returns {string} Returns the escaped string.
   * @example
   *
   * _.escape('Fred, Wilma, & Pebbles');
   * // => 'Fred, Wilma, &amp; Pebbles'
   */
  function escape(string) {
    return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);
  }

  /**
   * This method returns the first argument provided to it.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {*} value Any value.
   * @returns {*} Returns `value`.
   * @example
   *
   * var object = { 'name': 'fred' };
   * _.identity(object) === object;
   * // => true
   */
  function identity(value) {
    return value;
  }

  /**
   * Adds function properties of a source object to the destination object.
   * If `object` is a function methods will be added to its prototype as well.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {Function|Object} [object=lodash] object The destination object.
   * @param {Object} source The object of functions to add.
   * @param {Object} [options] The options object.
   * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.
   * @example
   *
   * function capitalize(string) {
   *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
   * }
   *
   * _.mixin({ 'capitalize': capitalize });
   * _.capitalize('fred');
   * // => 'Fred'
   *
   * _('fred').capitalize().value();
   * // => 'Fred'
   *
   * _.mixin({ 'capitalize': capitalize }, { 'chain': false });
   * _('fred').capitalize();
   * // => 'Fred'
   */
  function mixin(object) {
    forEach(functions(object), function(methodName) {
      var func = lodash[methodName] = object[methodName];

      lodash.prototype[methodName] = function() {
        var args = [this.__wrapped__];
        push.apply(args, arguments);

        var result = func.apply(lodash, args);
        return this.__chain__
          ? new lodashWrapper(result, true)
          : result;
      };
    });
  }

  /**
   * Reverts the '_' variable to its previous value and returns a reference to
   * the `lodash` function.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @returns {Function} Returns the `lodash` function.
   * @example
   *
   * var lodash = _.noConflict();
   */
  function noConflict() {
    root._ = oldDash;
    return this;
  }

  /**
   * A no-operation function.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @example
   *
   * var object = { 'name': 'fred' };
   * _.noop(object) === undefined;
   * // => true
   */
  function noop() {
    // no operation performed
  }

  /**
   * Gets the number of milliseconds that have elapsed since the Unix epoch
   * (1 January 1970 00:00:00 UTC).
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @example
   *
   * var stamp = _.now();
   * _.defer(function() { console.log(_.now() - stamp); });
   * // => logs the number of milliseconds it took for the deferred function to be called
   */
  var now = isNative(now = Date.now) && now || function() {
    return new Date().getTime();
  };

  /**
   * Creates a "_.pluck" style function, which returns the `key` value of a
   * given object.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {string} key The name of the property to retrieve.
   * @returns {Function} Returns the new function.
   * @example
   *
   * var characters = [
   *   { 'name': 'fred',   'age': 40 },
   *   { 'name': 'barney', 'age': 36 }
   * ];
   *
   * var getName = _.property('name');
   *
   * _.map(characters, getName);
   * // => ['barney', 'fred']
   *
   * _.sortBy(characters, getName);
   * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]
   */
  function property(key) {
    return function(object) {
      return object[key];
    };
  }

  /**
   * Produces a random number between `min` and `max` (inclusive). If only one
   * argument is provided a number between `0` and the given number will be
   * returned. If `floating` is truey or either `min` or `max` are floats a
   * floating-point number will be returned instead of an integer.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {number} [min=0] The minimum possible value.
   * @param {number} [max=1] The maximum possible value.
   * @param {boolean} [floating=false] Specify returning a floating-point number.
   * @returns {number} Returns a random number.
   * @example
   *
   * _.random(0, 5);
   * // => an integer between 0 and 5
   *
   * _.random(5);
   * // => also an integer between 0 and 5
   *
   * _.random(5, true);
   * // => a floating-point number between 0 and 5
   *
   * _.random(1.2, 5.2);
   * // => a floating-point number between 1.2 and 5.2
   */
  function random(min, max) {
    if (min == null && max == null) {
      max = 1;
    }
    min = +min || 0;
    if (max == null) {
      max = min;
      min = 0;
    } else {
      max = +max || 0;
    }
    return min + floor(nativeRandom() * (max - min + 1));
  }

  /**
   * Resolves the value of property `key` on `object`. If `key` is a function
   * it will be invoked with the `this` binding of `object` and its result returned,
   * else the property value is returned. If `object` is falsey then `undefined`
   * is returned.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {Object} object The object to inspect.
   * @param {string} key The name of the property to resolve.
   * @returns {*} Returns the resolved value.
   * @example
   *
   * var object = {
   *   'cheese': 'crumpets',
   *   'stuff': function() {
   *     return 'nonsense';
   *   }
   * };
   *
   * _.result(object, 'cheese');
   * // => 'crumpets'
   *
   * _.result(object, 'stuff');
   * // => 'nonsense'
   */
  function result(object, key) {
    if (object) {
      var value = object[key];
      return isFunction(value) ? object[key]() : value;
    }
  }

  /**
   * A micro-templating method that handles arbitrary delimiters, preserves
   * whitespace, and correctly escapes quotes within interpolated code.
   *
   * Note: In the development build, `_.template` utilizes sourceURLs for easier
   * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl
   *
   * For more information on precompiling templates see:
   * http://lodash.com/custom-builds
   *
   * For more information on Chrome extension sandboxes see:
   * http://developer.chrome.com/stable/extensions/sandboxingEval.html
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {string} text The template text.
   * @param {Object} data The data object used to populate the text.
   * @param {Object} [options] The options object.
   * @param {RegExp} [options.escape] The "escape" delimiter.
   * @param {RegExp} [options.evaluate] The "evaluate" delimiter.
   * @param {Object} [options.imports] An object to import into the template as local variables.
   * @param {RegExp} [options.interpolate] The "interpolate" delimiter.
   * @param {string} [sourceURL] The sourceURL of the template's compiled source.
   * @param {string} [variable] The data object variable name.
   * @returns {Function|string} Returns a compiled function when no `data` object
   *  is given, else it returns the interpolated text.
   * @example
   *
   * // using the "interpolate" delimiter to create a compiled template
   * var compiled = _.template('hello <%= name %>');
   * compiled({ 'name': 'fred' });
   * // => 'hello fred'
   *
   * // using the "escape" delimiter to escape HTML in data property values
   * _.template('<b><%- value %></b>', { 'value': '<script>' });
   * // => '<b>&lt;script&gt;</b>'
   *
   * // using the "evaluate" delimiter to generate HTML
   * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';
   * _.template(list, { 'people': ['fred', 'barney'] });
   * // => '<li>fred</li><li>barney</li>'
   *
   * // using the ES6 delimiter as an alternative to the default "interpolate" delimiter
   * _.template('hello ${ name }', { 'name': 'pebbles' });
   * // => 'hello pebbles'
   *
   * // using the internal `print` function in "evaluate" delimiters
   * _.template('<% print("hello " + name); %>!', { 'name': 'barney' });
   * // => 'hello barney!'
   *
   * // using a custom template delimiters
   * _.templateSettings = {
   *   'interpolate': /{{([\s\S]+?)}}/g
   * };
   *
   * _.template('hello {{ name }}!', { 'name': 'mustache' });
   * // => 'hello mustache!'
   *
   * // using the `imports` option to import jQuery
   * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';
   * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });
   * // => '<li>fred</li><li>barney</li>'
   *
   * // using the `sourceURL` option to specify a custom sourceURL for the template
   * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });
   * compiled(data);
   * // => find the source of "greeting.jst" under the Sources tab or Resources panel of the web inspector
   *
   * // using the `variable` option to ensure a with-statement isn't used in the compiled template
   * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });
   * compiled.source;
   * // => function(data) {
   *   var __t, __p = '', __e = _.escape;
   *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';
   *   return __p;
   * }
   *
   * // using the `source` property to inline compiled templates for meaningful
   * // line numbers in error messages and a stack trace
   * fs.writeFileSync(path.join(cwd, 'jst.js'), '\
   *   var JST = {\
   *     "main": ' + _.template(mainText).source + '\
   *   };\
   * ');
   */
  function template(text, data, options) {
    var _ = lodash,
        settings = _.templateSettings;

    text = String(text || '');
    options = defaults({}, options, settings);

    var index = 0,
        source = "__p += '",
        variable = options.variable;

    var reDelimiters = RegExp(
      (options.escape || reNoMatch).source + '|' +
      (options.interpolate || reNoMatch).source + '|' +
      (options.evaluate || reNoMatch).source + '|$'
    , 'g');

    text.replace(reDelimiters, function(match, escapeValue, interpolateValue, evaluateValue, offset) {
      source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);
      if (escapeValue) {
        source += "' +\n_.escape(" + escapeValue + ") +\n'";
      }
      if (evaluateValue) {
        source += "';\n" + evaluateValue + ";\n__p += '";
      }
      if (interpolateValue) {
        source += "' +\n((__t = (" + interpolateValue + ")) == null ? '' : __t) +\n'";
      }
      index = offset + match.length;
      return match;
    });

    source += "';\n";
    if (!variable) {
      variable = 'obj';
      source = 'with (' + variable + ' || {}) {\n' + source + '\n}\n';
    }
    source = 'function(' + variable + ') {\n' +
      "var __t, __p = '', __j = Array.prototype.join;\n" +
      "function print() { __p += __j.call(arguments, '') }\n" +
      source +
      'return __p\n}';

    try {
      var result = Function('_', 'return ' + source)(_);
    } catch(e) {
      e.source = source;
      throw e;
    }
    if (data) {
      return result(data);
    }
    result.source = source;
    return result;
  }

  /**
   * Executes the callback `n` times, returning an array of the results
   * of each callback execution. The callback is bound to `thisArg` and invoked
   * with one argument; (index).
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {number} n The number of times to execute the callback.
   * @param {Function} callback The function called per iteration.
   * @param {*} [thisArg] The `this` binding of `callback`.
   * @returns {Array} Returns an array of the results of each `callback` execution.
   * @example
   *
   * var diceRolls = _.times(3, _.partial(_.random, 1, 6));
   * // => [3, 6, 4]
   *
   * _.times(3, function(n) { mage.castSpell(n); });
   * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively
   *
   * _.times(3, function(n) { this.cast(n); }, mage);
   * // => also calls `mage.castSpell(n)` three times
   */
  function times(n, callback, thisArg) {
    n = (n = +n) > -1 ? n : 0;
    var index = -1,
        result = Array(n);

    callback = baseCreateCallback(callback, thisArg, 1);
    while (++index < n) {
      result[index] = callback(index);
    }
    return result;
  }

  /**
   * The inverse of `_.escape` this method converts the HTML entities
   * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their
   * corresponding characters.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {string} string The string to unescape.
   * @returns {string} Returns the unescaped string.
   * @example
   *
   * _.unescape('Fred, Barney &amp; Pebbles');
   * // => 'Fred, Barney & Pebbles'
   */
  function unescape(string) {
    return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);
  }

  /**
   * Generates a unique ID. If `prefix` is provided the ID will be appended to it.
   *
   * @static
   * @memberOf _
   * @category Utilities
   * @param {string} [prefix] The value to prefix the ID with.
   * @returns {string} Returns the unique ID.
   * @example
   *
   * _.uniqueId('contact_');
   * // => 'contact_104'
   *
   * _.uniqueId();
   * // => '105'
   */
  function uniqueId(prefix) {
    var id = ++idCounter + '';
    return prefix ? prefix + id : id;
  }

  /*--------------------------------------------------------------------------*/

  /**
   * Creates a `lodash` object that wraps the given value with explicit
   * method chaining enabled.
   *
   * @static
   * @memberOf _
   * @category Chaining
   * @param {*} value The value to wrap.
   * @returns {Object} Returns the wrapper object.
   * @example
   *
   * var characters = [
   *   { 'name': 'barney',  'age': 36 },
   *   { 'name': 'fred',    'age': 40 },
   *   { 'name': 'pebbles', 'age': 1 }
   * ];
   *
   * var youngest = _.chain(characters)
   *     .sortBy('age')
   *     .map(function(chr) { return chr.name + ' is ' + chr.age; })
   *     .first()
   *     .value();
   * // => 'pebbles is 1'
   */
  function chain(value) {
    value = new lodashWrapper(value);
    value.__chain__ = true;
    return value;
  }

  /**
   * Invokes `interceptor` with the `value` as the first argument and then
   * returns `value`. The purpose of this method is to "tap into" a method
   * chain in order to perform operations on intermediate results within
   * the chain.
   *
   * @static
   * @memberOf _
   * @category Chaining
   * @param {*} value The value to provide to `interceptor`.
   * @param {Function} interceptor The function to invoke.
   * @returns {*} Returns `value`.
   * @example
   *
   * _([1, 2, 3, 4])
   *  .tap(function(array) { array.pop(); })
   *  .reverse()
   *  .value();
   * // => [3, 2, 1]
   */
  function tap(value, interceptor) {
    interceptor(value);
    return value;
  }

  /**
   * Enables explicit method chaining on the wrapper object.
   *
   * @name chain
   * @memberOf _
   * @category Chaining
   * @returns {*} Returns the wrapper object.
   * @example
   *
   * var characters = [
   *   { 'name': 'barney', 'age': 36 },
   *   { 'name': 'fred',   'age': 40 }
   * ];
   *
   * // without explicit chaining
   * _(characters).first();
   * // => { 'name': 'barney', 'age': 36 }
   *
   * // with explicit chaining
   * _(characters).chain()
   *   .first()
   *   .pick('age')
   *   .value();
   * // => { 'age': 36 }
   */
  function wrapperChain() {
    this.__chain__ = true;
    return this;
  }

  /**
   * Extracts the wrapped value.
   *
   * @name valueOf
   * @memberOf _
   * @alias value
   * @category Chaining
   * @returns {*} Returns the wrapped value.
   * @example
   *
   * _([1, 2, 3]).valueOf();
   * // => [1, 2, 3]
   */
  function wrapperValueOf() {
    return this.__wrapped__;
  }

  /*--------------------------------------------------------------------------*/

  // add functions that return wrapped values when chaining
  lodash.after = after;
  lodash.bind = bind;
  lodash.bindAll = bindAll;
  lodash.chain = chain;
  lodash.compact = compact;
  lodash.compose = compose;
  lodash.countBy = countBy;
  lodash.debounce = debounce;
  lodash.defaults = defaults;
  lodash.defer = defer;
  lodash.delay = delay;
  lodash.difference = difference;
  lodash.filter = filter;
  lodash.flatten = flatten;
  lodash.forEach = forEach;
  lodash.functions = functions;
  lodash.groupBy = groupBy;
  lodash.indexBy = indexBy;
  lodash.initial = initial;
  lodash.intersection = intersection;
  lodash.invert = invert;
  lodash.invoke = invoke;
  lodash.keys = keys;
  lodash.map = map;
  lodash.max = max;
  lodash.memoize = memoize;
  lodash.min = min;
  lodash.omit = omit;
  lodash.once = once;
  lodash.pairs = pairs;
  lodash.partial = partial;
  lodash.pick = pick;
  lodash.pluck = pluck;
  lodash.range = range;
  lodash.reject = reject;
  lodash.rest = rest;
  lodash.shuffle = shuffle;
  lodash.sortBy = sortBy;
  lodash.tap = tap;
  lodash.throttle = throttle;
  lodash.times = times;
  lodash.toArray = toArray;
  lodash.union = union;
  lodash.uniq = uniq;
  lodash.values = values;
  lodash.where = where;
  lodash.without = without;
  lodash.wrap = wrap;
  lodash.zip = zip;

  // add aliases
  lodash.collect = map;
  lodash.drop = rest;
  lodash.each = forEach;
  lodash.extend = assign;
  lodash.methods = functions;
  lodash.object = zipObject;
  lodash.select = filter;
  lodash.tail = rest;
  lodash.unique = uniq;

  /*--------------------------------------------------------------------------*/

  // add functions that return unwrapped values when chaining
  lodash.clone = clone;
  lodash.contains = contains;
  lodash.escape = escape;
  lodash.every = every;
  lodash.find = find;
  lodash.has = has;
  lodash.identity = identity;
  lodash.indexOf = indexOf;
  lodash.isArguments = isArguments;
  lodash.isArray = isArray;
  lodash.isBoolean = isBoolean;
  lodash.isDate = isDate;
  lodash.isElement = isElement;
  lodash.isEmpty = isEmpty;
  lodash.isEqual = isEqual;
  lodash.isFinite = isFinite;
  lodash.isFunction = isFunction;
  lodash.isNaN = isNaN;
  lodash.isNull = isNull;
  lodash.isNumber = isNumber;
  lodash.isObject = isObject;
  lodash.isRegExp = isRegExp;
  lodash.isString = isString;
  lodash.isUndefined = isUndefined;
  lodash.lastIndexOf = lastIndexOf;
  lodash.mixin = mixin;
  lodash.noConflict = noConflict;
  lodash.random = random;
  lodash.reduce = reduce;
  lodash.reduceRight = reduceRight;
  lodash.result = result;
  lodash.size = size;
  lodash.some = some;
  lodash.sortedIndex = sortedIndex;
  lodash.template = template;
  lodash.unescape = unescape;
  lodash.uniqueId = uniqueId;

  // add aliases
  lodash.all = every;
  lodash.any = some;
  lodash.detect = find;
  lodash.findWhere = findWhere;
  lodash.foldl = reduce;
  lodash.foldr = reduceRight;
  lodash.include = contains;
  lodash.inject = reduce;

  /*--------------------------------------------------------------------------*/

  // add functions capable of returning wrapped and unwrapped values when chaining
  lodash.first = first;
  lodash.last = last;
  lodash.sample = sample;

  // add aliases
  lodash.take = first;
  lodash.head = first;

  /*--------------------------------------------------------------------------*/

  // add functions to `lodash.prototype`
  mixin(lodash);

  /**
   * The semantic version number.
   *
   * @static
   * @memberOf _
   * @type string
   */
  lodash.VERSION = '2.4.1';

  // add "Chaining" functions to the wrapper
  lodash.prototype.chain = wrapperChain;
  lodash.prototype.value = wrapperValueOf;

    // add `Array` mutator functions to the wrapper
    forEach(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        var value = this.__wrapped__;
        func.apply(value, arguments);

        // avoid array-like object bugs with `Array#shift` and `Array#splice`
        // in Firefox < 10 and IE < 9
        if (!support.spliceObjects && value.length === 0) {
          delete value[0];
        }
        return this;
      };
    });

    // add `Array` accessor functions to the wrapper
    forEach(['concat', 'join', 'slice'], function(methodName) {
      var func = arrayRef[methodName];
      lodash.prototype[methodName] = function() {
        var value = this.__wrapped__,
            result = func.apply(value, arguments);

        if (this.__chain__) {
          result = new lodashWrapper(result);
          result.__chain__ = true;
        }
        return result;
      };
    });

  /*--------------------------------------------------------------------------*/

  // some AMD build optimizers like r.js check for condition patterns like the following:
  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {
    // Expose Lo-Dash to the global object even when an AMD loader is present in
    // case Lo-Dash is loaded with a RequireJS shim config.
    // See http://requirejs.org/docs/api.html#config-shim
    root._ = lodash;

    // define as an anonymous module so, through path mapping, it can be
    // referenced as the "underscore" module
    define(function() {
      return lodash;
    });
  }
  // check for `exports` after `define` in case a build optimizer adds an `exports` object
  else if (freeExports && freeModule) {
    // in Node.js or RingoJS
    if (moduleExports) {
      (freeModule.exports = lodash)._ = lodash;
    }
    // in Narwhal or Rhino -require
    else {
      freeExports._ = lodash;
    }
  }
  else {
    // in a browser or Rhino
    root._ = lodash;
  }
}.call(this));

// Backbone.js 0.9.2

// (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
// Backbone may be freely distributed under the MIT license.
// For all details and documentation:
// http://backbonejs.org
(function(){var l=this,y=l.Backbone,z=Array.prototype.slice,A=Array.prototype.splice,g;g="undefined"!==typeof exports?exports:l.Backbone={};g.VERSION="0.9.2";var f=l._;!f&&"undefined"!==typeof require&&(f=require("underscore"));var i=l.jQuery||l.Zepto||l.ender;g.setDomLibrary=function(a){i=a};g.noConflict=function(){l.Backbone=y;return this};g.emulateHTTP=!1;g.emulateJSON=!1;var p=/\s+/,k=g.Events={on:function(a,b,c){var d,e,f,g,j;if(!b)return this;a=a.split(p);for(d=this._callbacks||(this._callbacks=
{});e=a.shift();)f=(j=d[e])?j.tail:{},f.next=g={},f.context=c,f.callback=b,d[e]={tail:g,next:j?j.next:f};return this},off:function(a,b,c){var d,e,h,g,j,q;if(e=this._callbacks){if(!a&&!b&&!c)return delete this._callbacks,this;for(a=a?a.split(p):f.keys(e);d=a.shift();)if(h=e[d],delete e[d],h&&(b||c))for(g=h.tail;(h=h.next)!==g;)if(j=h.callback,q=h.context,b&&j!==b||c&&q!==c)this.on(d,j,q);return this}},trigger:function(a){var b,c,d,e,f,g;if(!(d=this._callbacks))return this;f=d.all;a=a.split(p);for(g=
z.call(arguments,1);b=a.shift();){if(c=d[b])for(e=c.tail;(c=c.next)!==e;)c.callback.apply(c.context||this,g);if(c=f){e=c.tail;for(b=[b].concat(g);(c=c.next)!==e;)c.callback.apply(c.context||this,b)}}return this}};k.bind=k.on;k.unbind=k.off;var o=g.Model=function(a,b){var c;a||(a={});b&&b.parse&&(a=this.parse(a));if(c=n(this,"defaults"))a=f.extend({},c,a);b&&b.collection&&(this.collection=b.collection);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");this.changed={};this._silent=
{};this._pending={};this.set(a,{silent:!0});this.changed={};this._silent={};this._pending={};this._previousAttributes=f.clone(this.attributes);this.initialize.apply(this,arguments)};f.extend(o.prototype,k,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.get(a);return this._escapedAttributes[a]=f.escape(null==
b?"":""+b)},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e;f.isObject(a)||null==a?(d=a,c=b):(d={},d[a]=b);c||(c={});if(!d)return this;d instanceof o&&(d=d.attributes);if(c.unset)for(e in d)d[e]=void 0;if(!this._validate(d,c))return!1;this.idAttribute in d&&(this.id=d[this.idAttribute]);var b=c.changes={},h=this.attributes,g=this._escapedAttributes,j=this._previousAttributes||{};for(e in d){a=d[e];if(!f.isEqual(h[e],a)||c.unset&&f.has(h,e))delete g[e],(c.silent?this._silent:
b)[e]=!0;c.unset?delete h[e]:h[e]=a;!f.isEqual(j[e],a)||f.has(h,e)!=f.has(j,e)?(this.changed[e]=a,c.silent||(this._pending[e]=!0)):(delete this.changed[e],delete this._pending[e])}c.silent||this.change(c);return this},unset:function(a,b){(b||(b={})).unset=!0;return this.set(a,null,b)},clear:function(a){(a||(a={})).unset=!0;return this.set(f.clone(this.attributes),a)},fetch:function(a){var a=a?f.clone(a):{},b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};
a.error=g.wrapError(a.error,b,a);return(this.sync||g.sync).call(this,"read",this,a)},save:function(a,b,c){var d,e;f.isObject(a)||null==a?(d=a,c=b):(d={},d[a]=b);c=c?f.clone(c):{};if(c.wait){if(!this._validate(d,c))return!1;e=f.clone(this.attributes)}a=f.extend({},c,{silent:!0});if(d&&!this.set(d,c.wait?a:c))return!1;var h=this,i=c.success;c.success=function(a,b,e){b=h.parse(a,e);if(c.wait){delete c.wait;b=f.extend(d||{},b)}if(!h.set(b,c))return false;i?i(h,a):h.trigger("sync",h,a,c)};c.error=g.wrapError(c.error,
h,c);b=this.isNew()?"create":"update";b=(this.sync||g.sync).call(this,b,this,c);c.wait&&this.set(e,a);return b},destroy:function(a){var a=a?f.clone(a):{},b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(this.isNew())return d(),!1;a.success=function(e){a.wait&&d();c?c(b,e):b.trigger("sync",b,e,a)};a.error=g.wrapError(a.error,b,a);var e=(this.sync||g.sync).call(this,"delete",this,a);a.wait||d();return e},url:function(){var a=n(this,"urlRoot")||n(this.collection,"url")||t();
return this.isNew()?a:a+("/"==a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(a){a||(a={});var b=this._changing;this._changing=!0;for(var c in this._silent)this._pending[c]=!0;var d=f.extend({},a.changes,this._silent);this._silent={};for(c in d)this.trigger("change:"+c,this,this.get(c),a);if(b)return this;for(;!f.isEmpty(this._pending);){this._pending=
{};this.trigger("change",this,a);for(c in this.changed)!this._pending[c]&&!this._silent[c]&&delete this.changed[c];this._previousAttributes=f.clone(this.attributes)}this._changing=!1;return this},hasChanged:function(a){return!arguments.length?!f.isEmpty(this.changed):f.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this.changed):!1;var b,c=!1,d=this._previousAttributes,e;for(e in a)if(!f.isEqual(d[e],b=a[e]))(c||(c={}))[e]=b;return c},previous:function(a){return!arguments.length||
!this._previousAttributes?null:this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(a,b){if(b.silent||!this.validate)return!0;var a=f.extend({},this.attributes,a),c=this.validate(a,b);if(!c)return!0;b&&b.error?b.error(this,c,b):this.trigger("error",this,c,b);return!1}});var r=g.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);b.comparator&&(this.comparator=b.comparator);
this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,{silent:!0,parse:b.parse})};f.extend(r.prototype,k,{model:o,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},add:function(a,b){var c,d,e,g,i,j={},k={},l=[];b||(b={});a=f.isArray(a)?a.slice():[a];c=0;for(d=a.length;c<d;c++){if(!(e=a[c]=this._prepareModel(a[c],b)))throw Error("Can't add an invalid model to a collection");g=e.cid;i=e.id;j[g]||this._byCid[g]||null!=i&&(k[i]||this._byId[i])?
l.push(c):j[g]=k[i]=e}for(c=l.length;c--;)a.splice(l[c],1);c=0;for(d=a.length;c<d;c++)(e=a[c]).on("all",this._onModelEvent,this),this._byCid[e.cid]=e,null!=e.id&&(this._byId[e.id]=e);this.length+=d;A.apply(this.models,[null!=b.at?b.at:this.models.length,0].concat(a));this.comparator&&this.sort({silent:!0});if(b.silent)return this;c=0;for(d=this.models.length;c<d;c++)if(j[(e=this.models[c]).cid])b.index=c,e.trigger("add",e,this,b);return this},remove:function(a,b){var c,d,e,g;b||(b={});a=f.isArray(a)?
a.slice():[a];c=0;for(d=a.length;c<d;c++)if(g=this.getByCid(a[c])||this.get(a[c]))delete this._byId[g.id],delete this._byCid[g.cid],e=this.indexOf(g),this.models.splice(e,1),this.length--,b.silent||(b.index=e,g.trigger("remove",g,this,b)),this._removeReference(g);return this},push:function(a,b){a=this._prepareModel(a,b);this.add(a,b);return a},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){a=this._prepareModel(a,b);this.add(a,f.extend({at:0},b));return a},
shift:function(a){var b=this.at(0);this.remove(b,a);return b},get:function(a){return null==a?void 0:this._byId[null!=a.id?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},where:function(a){return f.isEmpty(a)?[]:this.filter(function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");var b=f.bind(this.comparator,this);1==this.comparator.length?
this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},reset:function(a,b){a||(a=[]);b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c]);this._reset();this.add(a,f.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a=a?f.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d,
e,f){b[a.add?"add":"reset"](b.parse(d,f),a);c&&c(b,d)};a.error=g.wrapError(a.error,b,a);return(this.sync||g.sync).call(this,"read",this,a)},create:function(a,b){var c=this,b=b?f.clone(b):{},a=this._prepareModel(a,b);if(!a)return!1;b.wait||c.add(a,b);var d=b.success;b.success=function(e,f){b.wait&&c.add(e,b);d?d(e,f):e.trigger("sync",a,f,b)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId=
{};this._byCid={}},_prepareModel:function(a,b){b||(b={});a instanceof o?a.collection||(a.collection=this):(b.collection=this,a=new this.model(a,b),a._validate(a.attributes,b)||(a=!1));return a},_removeReference:function(a){this==a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"==a||"remove"==a)&&c!=this||("destroy"==a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b),this.trigger.apply(this,
arguments))}});f.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,initial,rest,last,without,indexOf,shuffle,lastIndexOf,isEmpty,groupBy".split(","),function(a){r.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});var u=g.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},B=/:\w+/g,
C=/\*\w+/g,D=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(u.prototype,k,{initialize:function(){},route:function(a,b,c){g.history||(g.history=new m);f.isRegExp(a)||(a=this._routeToRegExp(a));c||(c=this[b]);g.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c&&c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d));g.history.trigger("route",this,b,d)},this));return this},navigate:function(a,b){g.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,
this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(D,"\\$&").replace(B,"([^/]+)").replace(C,"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var m=g.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")},s=/^[#\/]/,E=/msie [\w.]+/;m.started=!1;f.extend(m.prototype,k,{interval:50,getHash:function(a){return(a=(a?a.location:window.location).href.match(/#(.*)$/))?a[1]:
""},getFragment:function(a,b){if(null==a)if(this._hasPushState||b){var a=window.location.pathname,c=window.location.search;c&&(a+=c)}else a=this.getHash();a.indexOf(this.options.root)||(a=a.substr(this.options.root.length));return a.replace(s,"")},start:function(a){if(m.started)throw Error("Backbone.history has already been started");m.started=!0;this.options=f.extend({},{root:"/"},this.options,a);this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=
!(!this.options.pushState||!window.history||!window.history.pushState);var a=this.getFragment(),b=document.documentMode;if(b=E.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b))this.iframe=i('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?i(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!b?i(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,
this.interval));this.fragment=a;a=window.location;b=a.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!b)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&b&&a.hash&&(this.fragment=this.getHash().replace(s,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},
stop:function(){i(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);m.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a==this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,
function(a){if(a.route.test(b))return a.callback(b),!0})},navigate:function(a,b){if(!m.started)return!1;if(!b||!0===b)b={trigger:b};var c=(a||"").replace(s,"");this.fragment!=c&&(this._hasPushState?(0!=c.indexOf(this.options.root)&&(c=this.options.root+c),this.fragment=c,window.history[b.replace?"replaceState":"pushState"]({},document.title,c)):this._wantsHashChange?(this.fragment=c,this._updateHash(window.location,c,b.replace),this.iframe&&c!=this.getFragment(this.getHash(this.iframe))&&(b.replace||
this.iframe.document.open().close(),this._updateHash(this.iframe.location,c,b.replace))):window.location.assign(this.options.root+a),b.trigger&&this.loadUrl(a))},_updateHash:function(a,b,c){c?a.replace(a.toString().replace(/(javascript:|#).*$/,"")+"#"+b):a.hash=b}});var v=g.View=function(a){this.cid=f.uniqueId("view");this._configure(a||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()},F=/^(\S+)\s*(.*)$/,w="model,collection,el,id,attributes,className,tagName".split(",");
f.extend(v.prototype,k,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();return this},make:function(a,b,c){a=document.createElement(a);b&&i(a).attr(b);c&&i(a).html(c);return a},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof i?a:i(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(a||(a=n(this,"events"))){this.undelegateEvents();
for(var b in a){var c=a[b];f.isFunction(c)||(c=this[a[b]]);if(!c)throw Error('Method "'+a[b]+'" does not exist');var d=b.match(F),e=d[1],d=d[2],c=f.bind(c,this),e=e+(".delegateEvents"+this.cid);""===d?this.$el.bind(e,c):this.$el.delegate(d,e,c)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=w.length;b<c;b++){var d=w[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el)this.setElement(this.el,
!1);else{var a=n(this,"attributes")||{};this.id&&(a.id=this.id);this.className&&(a["class"]=this.className);this.setElement(this.make(this.tagName,a),!1)}}});o.extend=r.extend=u.extend=v.extend=function(a,b){var c=G(this,a,b);c.extend=this.extend;return c};var H={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};g.sync=function(a,b,c){var d=H[a];c||(c={});var e={type:d,dataType:"json"};c.url||(e.url=n(b,"url")||t());if(!c.data&&b&&("create"==a||"update"==a))e.contentType="application/json",
e.data=JSON.stringify(b.toJSON());g.emulateJSON&&(e.contentType="application/x-www-form-urlencoded",e.data=e.data?{model:e.data}:{});if(g.emulateHTTP&&("PUT"===d||"DELETE"===d))g.emulateJSON&&(e.data._method=d),e.type="POST",e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)};"GET"!==e.type&&!g.emulateJSON&&(e.processData=!1);return i.ajax(f.extend(e,c))};g.wrapError=function(a,b,c){return function(d,e){e=d===b?e:d;a?a(b,e,c):b.trigger("error",b,e,c)}};var x=function(){},G=function(a,
b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){a.apply(this,arguments)};f.extend(d,a);x.prototype=a.prototype;d.prototype=new x;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},n=function(a,b){return!a||!a[b]?null:f.isFunction(a[b])?a[b]():a[b]},t=function(){throw Error('A "url" property or function must be specified');}}).call(this);

// Licensed under the Apache License, Version 2.0 (the "License"); you may not
// use this file except in compliance with the License. You may obtain a copy of
// the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
// WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
// License for the specific language governing permissions and limitations under
// the License.

/**
 * @namespace
 * $.couch is used to communicate with a CouchDB server, the server methods can
 * be called directly without creating an instance. Typically all methods are
 * passed an <code>options</code> object which defines a success callback which
 * is called with the data returned from the http request to CouchDB, you can
 * find the other settings that can be used in the <code>options</code> object
 * from <a href="http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings">
 * jQuery.ajax settings</a>
 * <pre><code>$.couch.activeTasks({
 *   success: function (data) {
 *     console.log(data);
 *   }
 * });</code></pre>
 * Outputs (for example):
 * <pre><code>[
 *  {
 *   "pid" : "<0.11599.0>",
 *   "status" : "Copied 0 of 18369 changes (0%)",
 *   "task" : "recipes",
 *   "type" : "Database Compaction"
 *  }
 *]</code></pre>
 */
(function($) {

  $.couch = $.couch || {};
  /** @lends $.couch */

  /**
   * @private
   */
  function encodeDocId(docID) {
    var parts = docID.split("/");
    if (parts[0] == "_design") {
      parts.shift();
      return "_design/" + encodeURIComponent(parts.join('/'));
    }
    return encodeURIComponent(docID);
  }

  /**
   * @private
   */

  var uuidCache = [];

  $.extend($.couch, {
    urlPrefix: '',

    /**
     * You can obtain a list of active tasks by using the /_active_tasks URL.
     * The result is a JSON array of the currently running tasks, with each task
     * being described with a single object.
     * @see <a href="http://techzone.couchbase.com/sites/default/files/uploads/
     * all/documentation/couchbase-api-misc.html#couchbase-api-misc_active-task
     * s_get">docs for /_active_tasks</a>
     * @param {ajaxSettings} options <a href="http://api.jquery.com/jQuery.ajax
     * /#jQuery-ajax-settings">jQuery ajax settings</a>
     */
    activeTasks: function(options) {
      ajax(
        {url: this.urlPrefix + "/_active_tasks"},
        options,
        "Active task status could not be retrieved"
      );
    },

    /**
     * Returns a list of all the databases in the CouchDB instance
     * @see <a href="http://techzone.couchbase.com/sites/default/files/uploads/
     * all/documentation/couchbase-api-misc.html#couchbase-api-misc_active-task
     * s_get">docs for /_all_dbs</a>
     * @param {ajaxSettings} options <a href="http://api.jquery.com/jQuery.ajax
     * /#jQuery-ajax-settings">jQuery ajax settings</a>
     */
    allDbs: function(options) {
      ajax(
        {url: this.urlPrefix + "/_all_dbs"},
        options,
        "An error occurred retrieving the list of all databases"
      );
    },

    /**
     * View and edit the CouchDB configuration, called with just the options
     * parameter the entire config is returned, you can be more specific by
     * passing the section and option parameters, if you specify a value that
     * value will be stored in the configuration.
     * @see <a href="http://techzone.couchbase.com/sites/default/files/uploads/
     * all/documentation/couchbase-api-config.html#couchbase-api-config_config
     * -section-key_put">docs for /_config</a>
     * @param {ajaxSettings} options
     * <a href="http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings">
     * jQuery ajax settings</a>
     * @param {String} [section] the section of the config
     * @param {String} [option] the particular config option
     * @param {String} [value] value to be set
     */
    config: function(options, section, option, value) {
      var req = {url: this.urlPrefix + "/_config/"};
      if (section) {
        req.url += encodeURIComponent(section) + "/";
        if (option) {
          req.url += encodeURIComponent(option);
        }
      }
      if (value === null) {
        req.type = "DELETE";        
      } else if (value !== undefined) {
        req.type = "PUT";
        req.data = toJSON(value);
        req.contentType = "application/json";
        req.processData = false
      }

      ajax(req, options,
        "An error occurred retrieving/updating the server configuration"
      );
    },
    
    /**
     * Returns the session information for the currently logged in user.
     * @param {ajaxSettings} options
     * <a href="http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings">
     * jQuery ajax settings</a>
     */
    session: function(options) {
      options = options || {};
      $.ajax({
        type: "GET", url: this.urlPrefix + "/_session",
        beforeSend: function(xhr) {
            xhr.setRequestHeader('Accept', 'application/json');
        },
        complete: function(req) {
          var resp = $.parseJSON(req.responseText);
          if (req.status == 200) {
            if (options.success) options.success(resp);
          } else if (options.error) {
            options.error(req.status, resp.error, resp.reason);
          } else {
            alert("An error occurred getting session info: " + resp.reason);
          }
        }
      });
    },

    /**
     * @private
     */
    userDb : function(callback) {
      $.couch.session({
        success : function(resp) {
          var userDb = $.couch.db(resp.info.authentication_db);
          callback(userDb);
        }
      });
    },

    /**
     * Create a new user on the CouchDB server, <code>user_doc</code> is an
     * object with a <code>name</code> field and other information you want
     * to store relating to that user, for example
     * <code>{"name": "daleharvey"}</code>
     * @param {Object} user_doc Users details
     * @param {String} password Users password
     * @param {ajaxSettings} options
     * <a href="http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings">
      * jQuery ajax settings</a>
     */
    signup: function(user_doc, password, options) {      
      options = options || {};
      // prepare user doc based on name and password
      user_doc = this.prepareUserDoc(user_doc, password);
      $.couch.userDb(function(db) {
        db.saveDoc(user_doc, options);
      });
    },

    /**
     * Populates a user doc with a new password.
     * @param {Object} user_doc User details
     * @param {String} new_password New Password
     */
    prepareUserDoc: function(user_doc, new_password) {
      if (typeof hex_sha1 == "undefined") {
        alert("creating a user doc requires sha1.js to be loaded in the page");
        return;
      }
      var user_prefix = "org.couchdb.user:";
      user_doc._id = user_doc._id || user_prefix + user_doc.name;
      if (new_password) {
        // handle the password crypto
        user_doc.salt = $.couch.newUUID();
        user_doc.password_sha = hex_sha1(new_password + user_doc.salt);
      }
      user_doc.type = "user";
      if (!user_doc.roles) {
        user_doc.roles = [];
      }
      return user_doc;
    },

    /**
     * Authenticate against CouchDB, the <code>options</code> parameter is
      *expected to have <code>name</code> and <code>password</code> fields.
     * @param {ajaxSettings} options
     * <a href="http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings">
     * jQuery ajax settings</a>
     */
    login: function(options) {
      options = options || {};
      $.ajax({
        type: "POST", url: this.urlPrefix + "/_session", dataType: "json",
        data: {name: options.name, password: options.password},
        beforeSend: function(xhr) {
            xhr.setRequestHeader('Accept', 'application/json');
        },
        complete: function(req) {
          var resp = $.parseJSON(req.responseText);
          if (req.status == 200) {
            if (options.success) options.success(resp);
          } else if (options.error) {
            options.error(req.status, resp.error, resp.reason);
          } else {
            alert("An error occurred logging in: " + resp.reason);
          }
          if (typeof options.complete === "function") {
              options.complete();
          }
        }
      });
    },


    /**
     * Delete your current CouchDB user session
     * @param {ajaxSettings} options
     * <a href="http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings">
     * jQuery ajax settings</a>
     */
    logout: function(options) {
      options = options || {};
      $.ajax({
        type: "DELETE", url: this.urlPrefix + "/_session", dataType: "json",
        username : "_", password : "_",
        beforeSend: function(xhr) {
            xhr.setRequestHeader('Accept', 'application/json');
        },
        complete: function(req) {
          var resp = $.parseJSON(req.responseText);
          if (req.status == 200) {
            if (options.success) options.success(resp);
          } else if (options.error) {
            options.error(req.status, resp.error, resp.reason);
          } else {
            alert("An error occurred logging out: " + resp.reason);
          }
        }
      });
    },

    /**
     * @namespace
     * $.couch.db is used to communicate with a specific CouchDB database
     * <pre><code>var $db = $.couch.db("mydatabase");
     *$db.allApps({
     *  success: function (data) {
     *    ... process data ...
     *  }
     *});
     * </code></pre>
     */
    db: function(name, db_opts) {
      db_opts = db_opts || {};
      var rawDocs = {};
      function maybeApplyVersion(doc) {
        if (doc._id && doc._rev && rawDocs[doc._id] &&
            rawDocs[doc._id].rev == doc._rev) {
          // todo: can we use commonjs require here?
          if (typeof Base64 == "undefined") {
            alert("please include /_utils/script/base64.js in the page for " +
                  "base64 support");
            return false;
          } else {
            doc._attachments = doc._attachments || {};
            doc._attachments["rev-"+doc._rev.split("-")[0]] = {
              content_type :"application/json",
              data : Base64.encode(rawDocs[doc._id].raw)
            };
            return true;
          }
        }
      };
      return /** @lends $.couch.db */{
        name: name,
        uri: this.urlPrefix + "/" + encodeURIComponent(name) + "/",

        /**
         * Request compaction of the specified database.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-db.html#couchbase-api-db_
         * db-compact_post">docs for /db/_compact</a>
         * @param {ajaxSettings} options
         * <a href="http://api.jquery.com/jQuery.ajax/#jQuery-ajax-settings">
         * jQuery ajax settings</a>
         */
        compact: function(options) {
          $.extend(options, {successStatus: 202});
          ajax({
              type: "POST", url: this.uri + "_compact",
              data: "", processData: false
            },
            options,
            "The database could not be compacted"
          );
        },

        /**
         * Cleans up the cached view output on disk for a given view.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-db.html#couchbase-api-db
         * _db-view-cleanup_post">docs for /db/_compact</a>
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        viewCleanup: function(options) {
          $.extend(options, {successStatus: 202});
          ajax({
              type: "POST", url: this.uri + "_view_cleanup",
              data: "", processData: false
            },
            options,
            "The views could not be cleaned up"
          );
        },

        /**
         * Compacts the view indexes associated with the specified design
         * document. You can use this in place of the full database compaction
         * if you know a specific set of view indexes have been affected by a
         * recent database change.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/upl
         * oads/all/documentation/couchbase-api-db.html#couchbase-api-db_db-
         * compact-design-doc_post">docs for /db/_compact/design-doc</a>
         * @param {String} groupname Name of design-doc to compact
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        compactView: function(groupname, options) {
          $.extend(options, {successStatus: 202});
          ajax({
              type: "POST", url: this.uri + "_compact/" + groupname,
              data: "", processData: false
            },
            options,
            "The view could not be compacted"
          );
        },

        /**
         * Create a new database
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-db.html#couchbase-api-db_
         * db_put">docs for PUT /db/</a>
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        create: function(options) {
          $.extend(options, {successStatus: 201});
          ajax({
              type: "PUT", url: this.uri, contentType: "application/json",
              data: "", processData: false
            },
            options,
            "The database could not be created"
          );
        },

        /**
         * Deletes the specified database, and all the documents and
         * attachments contained within it.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-db.html#couchbase-api-db_
         * db_delete">docs for DELETE /db/</a>
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        drop: function(options) {
          ajax(
            {type: "DELETE", url: this.uri},
            options,
            "The database could not be deleted"
          );
        },

        /**
         * Gets information about the specified database.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-db.html#couchbase-api-db
         * _db_get">docs for GET /db/</a>
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        info: function(options) {
          ajax(
            {url: this.uri},
            options,
            "Database information could not be retrieved"
          );
        },

        /**
         * @namespace
         * $.couch.db.changes provides an API for subscribing to the changes
         * feed
         * <pre><code>var $changes = $.couch.db("mydatabase").changes();
         *$changes.onChange = function (data) {
         *    ... process data ...
         * }
         * $changes.stop();
         * </code></pre>
         */
        changes: function(since, options) {

          options = options || {};
          // set up the promise object within a closure for this handler
          var timeout = 100, db = this, active = true,
            listeners = [],
            promise = /** @lends $.couch.db.changes */ {
              /**
               * Add a listener callback
               * @see <a href="http://techzone.couchbase.com/sites/default/
               * files/uploads/all/documentation/couchbase-api-db.html#couch
               * base-api-db_db-changes_get">docs for /db/_changes</a>
               * @param {Function} fun Callback function to run when
               * notified of changes.
               */
            onChange : function(fun) {
              listeners.push(fun);
            },
              /**
               * Stop subscribing to the changes feed
               */
            stop : function() {
              active = false;
            }
          };
          // call each listener when there is a change
          function triggerListeners(resp) {
            $.each(listeners, function() {
              this(resp);
            });
          };
          // when there is a change, call any listeners, then check for
          // another change
          options.success = function(resp) {
            timeout = 100;
            if (active) {
              since = resp.last_seq;
              triggerListeners(resp);
              getChangesSince();
            };
          };
          options.error = function() {
            if (active) {
              setTimeout(getChangesSince, timeout);
              timeout = timeout * 2;
            }
          };
          // actually make the changes request
          function getChangesSince() {
            var opts = $.extend({heartbeat : 10 * 1000}, options, {
              feed : "longpoll",
              since : since
            });
            ajax(
              {url: db.uri + "_changes"+encodeOptions(opts)},
              options,
              "Error connecting to "+db.uri+"/_changes."
            );
          }
          // start the first request
          if (since) {
            getChangesSince();
          } else {
            db.info({
              success : function(info) {
                since = info.update_seq;
                getChangesSince();
              }
            });
          }
          return promise;
        },

        /**
         * Fetch all the docs in this db, you can specify an array of keys to
         * fetch by passing the <code>keys</code> field in the
         * <code>options</code>
         * parameter.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-db.html#couchbase-api-db_
         * db-all-docs_get">docs for /db/all_docs/</a>
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        allDocs: function(options) {
          var type = "GET";
          var data = null;
          if (options["keys"]) {
            type = "POST";
            var keys = options["keys"];
            delete options["keys"];
            data = toJSON({ "keys": keys });
          }
          ajax({
              type: type,
              data: data,
              url: this.uri + "_all_docs" + encodeOptions(options)
            },
            options,
            "An error occurred retrieving a list of all documents"
          );
        },

        /**
         * Fetch all the design docs in this db
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        allDesignDocs: function(options) {
          this.allDocs($.extend(
            {startkey:"_design", endkey:"_design0"}, options));
        },

        /**
         * Fetch all the design docs with an index.html, <code>options</code>
         * parameter expects an <code>eachApp</code> field which is a callback
         * called on each app found.
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        allApps: function(options) {
          options = options || {};
          var self = this;
          if (options.eachApp) {
            this.allDesignDocs({
              success: function(resp) {
                $.each(resp.rows, function() {
                  self.openDoc(this.id, {
                    success: function(ddoc) {
                      var index, appPath, appName = ddoc._id.split('/');
                      appName.shift();
                      appName = appName.join('/');
                      index = ddoc.couchapp && ddoc.couchapp.index;
                      if (index) {
                        appPath = ['', name, ddoc._id, index].join('/');
                      } else if (ddoc._attachments &&
                                 ddoc._attachments["index.html"]) {
                        appPath = ['', name, ddoc._id, "index.html"].join('/');
                      }
                      if (appPath) options.eachApp(appName, appPath, ddoc);
                    }
                  });
                });
              }
            });
          } else {
            alert("Please provide an eachApp function for allApps()");
          }
        },

        /**
         * Returns the specified doc from the specified db.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-dbdoc.html#couchbase-api-
         * dbdoc_db-doc_get">docs for GET /db/doc</a>
         * @param {String} docId id of document to fetch
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         * @param {ajaxSettings} ajaxOptions <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        openDoc: function(docId, options, ajaxOptions) {
          options = options || {};
          if (db_opts.attachPrevRev || options.attachPrevRev) {
            $.extend(options, {
              beforeSuccess : function(req, doc) {
                rawDocs[doc._id] = {
                  rev : doc._rev,
                  raw : req.responseText
                };
              }
            });
          } else {
            $.extend(options, {
              beforeSuccess : function(req, doc) {
                if (doc["jquery.couch.attachPrevRev"]) {
                  rawDocs[doc._id] = {
                    rev : doc._rev,
                    raw : req.responseText
                  };
                }
              }
            });
          }
          ajax({url: this.uri + encodeDocId(docId) + encodeOptions(options)},
            options,
            "The document could not be retrieved",
            ajaxOptions
          );
        },

        /**
         * Create a new document in the specified database, using the supplied
         * JSON document structure. If the JSON structure includes the _id
         * field, then the document will be created with the specified document
         * ID. If the _id field is not specified, a new unique ID will be
         * generated.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-dbdoc.html#couchbase-api-
         * dbdoc_db_post">docs for GET /db/doc</a>
         * @param {String} doc document to save
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        saveDoc: function(doc, options) {
          options = options || {};
          var db = this;
          var beforeSend = fullCommit(options);
          if (doc._id === undefined) {
            var method = "POST";
            var uri = this.uri;
          } else {
            var method = "PUT";
            var uri = this.uri + encodeDocId(doc._id);
          }
          var versioned = maybeApplyVersion(doc);
          $.ajax({
            type: method, url: uri + encodeOptions(options),
            contentType: "application/json",
            dataType: "json", data: toJSON(doc),
            beforeSend : beforeSend,
            complete: function(req) {
              var resp = $.parseJSON(req.responseText);
              if (req.status == 200 || req.status == 201 || req.status == 202) {
                doc._id = resp.id;
                doc._rev = resp.rev;
                if (versioned) {
                  db.openDoc(doc._id, {
                    attachPrevRev : true,
                    success : function(d) {
                      doc._attachments = d._attachments;
                      if (options.success) options.success(resp);
                    }
                  });
                } else {
                  if (options.success) options.success(resp);
                }
              } else if (options.error) {
                options.error(req.status, resp.error, resp.reason);
              } else {
                alert("The document could not be saved: " + resp.reason);
              }
            }
          });
        },

        /**
         * Save a list of documents
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-db.html#couchbase-api-db_
         * db-bulk-docs_post">docs for /db/_bulk_docs</a>
         * @param {Object[]} docs List of documents to save
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        bulkSave: function(docs, options) {
          var beforeSend = fullCommit(options);
          $.extend(options, {successStatus: 201, beforeSend : beforeSend});
          ajax({
              type: "POST",
              url: this.uri + "_bulk_docs" + encodeOptions(options),
              contentType: "application/json", data: toJSON(docs)
            },
            options,
            "The documents could not be saved"
          );
        },

        /**
         * Deletes the specified document from the database. You must supply
         * the current (latest) revision and <code>id</code> of the document
         * to delete eg <code>removeDoc({_id:"mydoc", _rev: "1-2345"})</code>
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-dbdoc.html#couchbase-api
         * -dbdoc_db-doc_delete">docs for DELETE /db/doc</a>
         * @param {Object} doc Document to delete
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        removeDoc: function(doc, options) {
          ajax({
              type: "DELETE",
              url: this.uri +
                   encodeDocId(doc._id) +
                   encodeOptions({rev: doc._rev})
            },
            options,
            "The document could not be deleted"
          );
        },

        /**
         * Remove a set of documents
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-db.html#couchbase-api-db_
         * db-bulk-docs_post">docs for /db/_bulk_docs</a>
         * @param {String[]} docs List of document id's to remove
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        bulkRemove: function(docs, options){
          docs.docs = $.each(
            docs.docs, function(i, doc){
              doc._deleted = true;
            }
          );
          $.extend(options, {successStatus: 201});
          ajax({
              type: "POST",
              url: this.uri + "_bulk_docs" + encodeOptions(options),
              data: toJSON(docs)
            },
            options,
            "The documents could not be deleted"
          );
        },

        /**
         * The COPY command (which is non-standard HTTP) copies an existing
         * document to a new or existing document.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-dbdoc.html#couchbase-api-
         * dbdoc_db-doc_copy">docs for COPY /db/doc</a>
         * @param {String[]} docId document id to copy
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        copyDoc: function(docId, options, ajaxOptions) {
          ajaxOptions = $.extend(ajaxOptions, {
            complete: function(req) {
              var resp = $.parseJSON(req.responseText);
              if (req.status == 201) {
                if (options.success) options.success(resp);
              } else if (options.error) {
                options.error(req.status, resp.error, resp.reason);
              } else {
                alert("The document could not be copied: " + resp.reason);
              }
            }
          });
          ajax({
              type: "COPY",
              url: this.uri + encodeDocId(docId)
            },
            options,
            "The document could not be copied",
            ajaxOptions
          );
        },

        /**
         * Creates (and executes) a temporary view based on the view function
         * supplied in the JSON request.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-db.html#couchbase-api-db
         * _db-temp-view_post">docs for /db/_temp_view</a>
         * @param {Function} mapFun Map function
         * @param {Function} reduceFun Reduce function
         * @param {Function} language Language the map / reduce funs are
         * implemented in
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        query: function(mapFun, reduceFun, language, options) {
          language = language || "javascript";
          if (typeof(mapFun) !== "string") {
            mapFun = mapFun.toSource ? mapFun.toSource()
              : "(" + mapFun.toString() + ")";
          }
          var body = {language: language, map: mapFun};
          if (reduceFun != null) {
            if (typeof(reduceFun) !== "string")
              reduceFun = reduceFun.toSource ? reduceFun.toSource()
                : "(" + reduceFun.toString() + ")";
            body.reduce = reduceFun;
          }
          ajax({
              type: "POST",
              url: this.uri + "_temp_view" + encodeOptions(options),
              contentType: "application/json", data: toJSON(body)
            },
            options,
            "An error occurred querying the database"
          );
        },

        /**
         * Fetch a _list view output, you can specify a list of
         * <code>keys</code> in the options object to recieve only those keys.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-design.html#couchbase-api
         * -design_db-design-designdoc-list-listname-viewname_get">
         * docs for /db/_design/design-doc/_list/l1/v1</a>
         * @param {String} list Listname in the form of ddoc/listname
         * @param {String} view View to run list against
         * @param {options} CouchDB <a href="http://wiki.apache.org/couchdb/
         * HTTP_view_API">View Options</a>
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        list: function(list, view, options, ajaxOptions) {
          var list = list.split('/');
          var options = options || {};
          var type = 'GET';
          var data = null;
          if (options['keys']) {
            type = 'POST';
            var keys = options['keys'];
            delete options['keys'];
            data = toJSON({'keys': keys });
          }
          ajax({
              type: type,
              data: data,
              url: this.uri + '_design/' + list[0] +
                   '/_list/' + list[1] + '/' + view + encodeOptions(options)
              },
              ajaxOptions, 'An error occured accessing the list'
          );
        },

        /**
         * Executes the specified view-name from the specified design-doc
         * design document, you can specify a list of <code>keys</code>
         * in the options object to recieve only those keys.
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api-design.html#couchbase-api-
         * design_db-design-designdoc-view-viewname_get">docs for /db/
         * _design/design-doc/_list/l1/v1</a>
         * @param {String} name View to run list against (string should have 
         * the design-doc name followed by a slash and the view name)
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        view: function(name, options) {
          var name = name.split('/');
          var options = options || {};
          var type = "GET";
          var data= null;
          if (options["keys"]) {
            type = "POST";
            var keys = options["keys"];
            delete options["keys"];
            data = toJSON({ "keys": keys });
          }
          ajax({
              type: type,
              data: data,
              url: this.uri + "_design/" + name[0] +
                   "/_view/" + name[1] + encodeOptions(options)
            },
            options, "An error occurred accessing the view"
          );
        },

        /**
         * Fetch an arbitrary CouchDB database property
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api.html">docs for /db/_prop</a>
         * @param {String} propName Propery name to fetch
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         * @param {ajaxSettings} ajaxOptions <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        getDbProperty: function(propName, options, ajaxOptions) {
          ajax({url: this.uri + propName + encodeOptions(options)},
            options,
            "The property could not be retrieved",
            ajaxOptions
          );
        },

        /**
         * Set an arbitrary CouchDB database property
         * @see <a href="http://techzone.couchbase.com/sites/default/files/
         * uploads/all/documentation/couchbase-api.html">docs for /db/_prop</a>
         * @param {String} propName Propery name to fetch
         * @param {String} propValue Propery value to set
         * @param {ajaxSettings} options <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         * @param {ajaxSettings} ajaxOptions <a href="http://api.jquery.com/
         * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
         */
        setDbProperty: function(propName, propValue, options, ajaxOptions) {
          ajax({
            type: "PUT", 
            url: this.uri + propName + encodeOptions(options),
            data : JSON.stringify(propValue)
          },
            options,
            "The property could not be updated",
            ajaxOptions
          );
        }
      };
    },

    encodeDocId: encodeDocId, 

    /**
     * Accessing the root of a CouchDB instance returns meta information about
     * the instance. The response is a JSON structure containing information
     * about the server, including a welcome message and the version of the
     * server.
     * @see <a href="http://techzone.couchbase.com/sites/default/files/uploads/
     * all/documentation/couchbase-api-misc.html#couchbase-api-misc_root_get">
     * docs for GET /</a>
     * @param {ajaxSettings} options <a href="http://api.jquery.com/
     * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
     */
    info: function(options) {
      ajax(
        {url: this.urlPrefix + "/"},
        options,
        "Server information could not be retrieved"
      );
    },

    /**
     * Request, configure, or stop, a replication operation.
     * @see <a href="http://techzone.couchbase.com/sites/default/files/
     * uploads/all/documentation/couchbase-api-misc.html#couchbase-api-
     * misc_replicate_post">docs for POST /_replicate</a>
     * @param {String} source Path or url to source database
     * @param {String} target Path or url to target database
     * @param {ajaxSettings} ajaxOptions <a href="http://api.jquery.com/
     * jQuery.ajax/#jQuery-ajax-settings">jQuery ajax settings</a>
     * @param {Object} repOpts Additional replication options
     */
    replicate: function(source, target, ajaxOptions, repOpts) {
      repOpts = $.extend({source: source, target: target}, repOpts);
      if (repOpts.continuous && !repOpts.cancel) {
        ajaxOptions.successStatus = 202;
      }
      ajax({
          type: "POST", url: this.urlPrefix + "/_replicate",
          data: JSON.stringify(repOpts),
          contentType: "application/json"
        },
        ajaxOptions,
        "Replication failed"
      );
    },

    /**
     * Fetch a new UUID
     * @see <a href="http://techzone.couchbase.com/sites/default/files/
     * uploads/all/documentation/couchbase-api-misc.html#couchbase-api-
     * misc_uuids_get">docs for /_uuids</a>
     * @param {Int} cacheNum Number of uuids to keep cached for future use
     */
    newUUID: function(cacheNum) {
      if (cacheNum === undefined) {
        cacheNum = 1;
      }
      if (!uuidCache.length) {
        ajax({url: this.urlPrefix + "/_uuids", data: {count: cacheNum}, async:
              false}, {
            success: function(resp) {
              uuidCache = resp.uuids;
            }
          },
          "Failed to retrieve UUID batch."
        );
      }
      return uuidCache.shift();
    }
  });

  /**
   * @private
   */
  function ajax(obj, options, errorMessage, ajaxOptions) {

    var defaultAjaxOpts = {
      contentType: "application/json",
      headers:{"Accept": "application/json"}
    };

    options = $.extend({successStatus: 200}, options);
    ajaxOptions = $.extend(defaultAjaxOpts, ajaxOptions);
    errorMessage = errorMessage || "Unknown error";
    $.ajax($.extend($.extend({
      type: "GET", dataType: "json", cache : !$.browser.msie,
      beforeSend: function(xhr){
        if(ajaxOptions && ajaxOptions.headers){
          for (var header in ajaxOptions.headers){
            xhr.setRequestHeader(header, ajaxOptions.headers[header]);
          }
        }
      },
      complete: function(req) {
        try {
          var resp = $.parseJSON(req.responseText);
        } catch(e) {
          if (options.error) {
            options.error(req.status, req, e);
          } else {
            alert(errorMessage + ": " + e);
          }
          return;
        }
        if (options.ajaxStart) {
          options.ajaxStart(resp);
        }
        if (req.status == options.successStatus) {
          if (options.beforeSuccess) options.beforeSuccess(req, resp);
          if (options.success) options.success(resp);
        } else if (options.error) {
          options.error(req.status, resp && resp.error ||
                        errorMessage, resp && resp.reason || "no response");
        } else {
          alert(errorMessage + ": " + resp.reason);
        }
      }
    }, obj), ajaxOptions));
  }

  /**
   * @private
   */
  function fullCommit(options) {
    var options = options || {};
    if (typeof options.ensure_full_commit !== "undefined") {
      var commit = options.ensure_full_commit;
      delete options.ensure_full_commit;
      return function(xhr) {
        xhr.setRequestHeader('Accept', 'application/json');
        xhr.setRequestHeader("X-Couch-Full-Commit", commit.toString());
      };
    }
  };

  /**
   * @private
   */
  // Convert a options object to an url query string.
  // ex: {key:'value',key2:'value2'} becomes '?key="value"&key2="value2"'
  function encodeOptions(options) {
    var buf = [];
    if (typeof(options) === "object" && options !== null) {
      for (var name in options) {
        if ($.inArray(name,
                      ["error", "success", "beforeSuccess", "ajaxStart"]) >= 0)
          continue;
        var value = options[name];
        if ($.inArray(name, ["key", "startkey", "endkey"]) >= 0) {
          value = toJSON(value);
        }
        buf.push(encodeURIComponent(name) + "=" + encodeURIComponent(value));
      }
    }
    return buf.length ? "?" + buf.join("&") : "";
  }

  /**
   * @private
   */
  function toJSON(obj) {
    return obj !== null ? JSON.stringify(obj) : null;
  }

})(jQuery);

//    PouchDB 3.3.1
//    
//    (c) 2012-2015 Dale Harvey and the PouchDB team
//    PouchDB may be freely distributed under the Apache license, version 2.0.
//    For all details and documentation:
//    http://pouchdb.com
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.PouchDB=e()}}(function(){var define,module,exports;return function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t){"use strict";function n(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n)===!0)return e[n];return!1}function r(e){return function(t,n){t||n[0]&&n[0].error?e(t||n[0]):e(null,n.length?n[0]:n)}}function o(e){var t={},n=[];return c.traverseRevTree(e,function(e,r,o,i){var s=r+"-"+o;return e&&(t[s]=0),void 0!==i&&n.push({from:i,to:s}),s}),n.reverse(),n.forEach(function(e){t[e.from]=void 0===t[e.from]?1+t[e.to]:Math.min(t[e.from],1+t[e.to])}),t}function i(e,t,n){var r="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;if(t.descending&&r.reverse(),!r.length)return e._allDocs({limit:0},n);var o={offset:t.skip};return p.all(r.map(function(n){var r=a.extend(!0,{key:n,deleted:"ok"},t);return["limit","skip","keys"].forEach(function(e){delete r[e]}),new p(function(t,i){e._allDocs(r,function(e,r){return e?i(e):(o.total_rows=r.total_rows,void t(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(e){return o.rows=e,o})}function s(){var e=this;f.call(this);var t,n=0,r=["change","delete","create","update"];this.on("newListener",function(o){if(~r.indexOf(o)){if(n)return void n++;n++;var i=0;t=this.changes({conflicts:!0,include_docs:!0,continuous:!0,since:"now",onChange:function(t){t.seq<=i||(i=t.seq,e.emit("change",t),t.doc._deleted?e.emit("delete",t):"1"===t.doc._rev.split("-")[0]?e.emit("create",t):e.emit("update",t))}})}}),this.on("removeListener",function(e){~r.indexOf(e)&&(n--,n||t.cancel())})}var a=e(34),c=e(29),u=e(19),f=e(38).EventEmitter,l=e(25),d=e(13),p=a.Promise;a.inherits(s,f),t.exports=s,s.prototype.post=a.adapterFun("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e)?n(u.error(u.NOT_AN_OBJECT)):void this.bulkDocs({docs:[e]},t,r(n))}),s.prototype.put=a.adapterFun("put",a.getArguments(function(e){var t,n,o,i,s=e.shift(),c="_id"in s;if("object"!=typeof s||Array.isArray(s))return(i=e.pop())(u.error(u.NOT_AN_OBJECT));for(s=a.clone(s);;)if(t=e.shift(),n=typeof t,"string"!==n||c?"string"!==n||!c||"_rev"in s?"object"===n?o=t:"function"===n&&(i=t):s._rev=t:(s._id=t,c=!0),!e.length)break;o=o||{};var f=a.invalidIdError(s._id);return f?i(f):a.isLocalId(s._id)&&"function"==typeof this._putLocal?s._deleted?this._removeLocal(s,i):this._putLocal(s,i):void this.bulkDocs({docs:[s]},o,r(i))})),s.prototype.putAttachment=a.adapterFun("putAttachment",function(e,t,n,r,o,i){function s(e){return e._attachments=e._attachments||{},e._attachments[t]={content_type:o,data:r},a.put(e)}var a=this;return"function"==typeof o&&(i=o,o=r,r=n,n=null),"undefined"==typeof o&&(o=r,r=n,n=null),a.get(e).then(function(e){if(e._rev!==n)throw u.error(u.REV_CONFLICT);return s(e)},function(t){if(t.reason===u.MISSING_DOC.message)return s({_id:e});throw t})}),s.prototype.removeAttachment=a.adapterFun("removeAttachment",function(e,t,n,r){var o=this;o.get(e,function(e,i){return e?void r(e):i._rev!==n?void r(u.error(u.REV_CONFLICT)):i._attachments?(delete i._attachments[t],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),s.prototype.remove=a.adapterFun("remove",function(e,t,n,o){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(o=n,n={})):(i=e,"function"==typeof t?(o=t,n={}):(o=n,n=t)),n=a.clone(n||{}),n.was_delete=!0;var s={_id:i._id,_rev:i._rev||n.rev};return s._deleted=!0,a.isLocalId(s._id)&&"function"==typeof this._removeLocal?this._removeLocal(i,o):void this.bulkDocs({docs:[s]},n,r(o))}),s.prototype.revsDiff=a.adapterFun("revsDiff",function(e,t,n){function r(e,t){u.has(e)||u.set(e,{missing:[]}),u.get(e).missing.push(t)}function o(t,n){var o=e[t].slice(0);c.traverseRevTree(n,function(e,n,i,s,a){var c=n+"-"+i,u=o.indexOf(c);-1!==u&&(o.splice(u,1),"available"!==a.status&&r(t,c))}),o.forEach(function(e){r(t,e)})}"function"==typeof t&&(n=t,t={}),t=a.clone(t);var i=Object.keys(e);if(!i.length)return n(null,{});var s=0,u=new a.Map;i.map(function(t){this._getRevisionTree(t,function(r,a){if(r&&404===r.status&&"missing"===r.message)u.set(t,{missing:e[t]});else{if(r)return n(r);o(t,a)}if(++s===i.length){var c={};return u.forEach(function(e,t){c[t]=e}),n(null,c)}})},this)}),s.prototype.compactDocument=a.adapterFun("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(i,s){if(i)return n(i);var a=o(s),u=[],f=[];Object.keys(a).forEach(function(e){a[e]>t&&u.push(e)}),c.traverseRevTree(s,function(e,t,n,r,o){var i=t+"-"+n;"available"===o.status&&-1!==u.indexOf(i)&&f.push(i)}),r._doCompaction(e,f,n)})}),s.prototype.compact=a.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=a.clone(e||{}),n.get("_local/compaction")["catch"](function(){return!1}).then(function(r){return"function"==typeof n._compact?(r&&r.last_seq&&(e.last_seq=r.last_seq),n._compact(e,t)):void 0})}),s.prototype._compact=function(e,t){function n(e){s.push(o.compactDocument(e.id,0))}function r(e){var n=e.last_seq;p.all(s).then(function(){return l(o,"_local/compaction",function(e){return!e.last_seq||e.last_seq<n?(e.last_seq=n,e):!1})}).then(function(){t(null,{ok:!0})})["catch"](t)}var o=this,i={returnDocs:!1,last_seq:e.last_seq||0},s=[];o.changes(i).on("change",n).on("complete",r).on("error",t)},s.prototype.get=a.adapterFun("get",function(e,t,r){function o(){var n=[],o=i.length;return o?void i.forEach(function(i){s.get(e,{rev:i,revs:t.revs,attachments:t.attachments},function(e,t){n.push(e?{missing:i}:{ok:t}),o--,o||r(null,n)})}):r(null,n)}if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(u.error(u.INVALID_ID));if(a.isLocalId(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var i=[],s=this;if(!t.open_revs)return this._get(e,t,function(e,o){if(t=a.clone(t),e)return r(e);var i=o.doc,u=o.metadata,f=o.ctx;if(t.conflicts){var l=c.collectConflicts(u);l.length&&(i._conflicts=l)}if(a.isDeleted(u,i._rev)&&(i._deleted=!0),t.revs||t.revs_info){var d=c.rootToLeaf(u.rev_tree),p=n(d,function(e){return-1!==e.ids.map(function(e){return e.id}).indexOf(i._rev.split("-")[1])}),h=p.ids.map(function(e){return e.id}).indexOf(i._rev.split("-")[1])+1,v=p.ids.length-h;if(p.ids.splice(h,v),p.ids.reverse(),t.revs&&(i._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(e){return e.id})}),t.revs_info){var _=p.pos+p.ids.length;i._revs_info=p.ids.map(function(e){return _--,{rev:_+"-"+e.id,status:e.opts.status}})}}if(t.local_seq&&(a.info('The "local_seq" option is deprecated and will be removed'),i._local_seq=o.metadata.seq),t.attachments&&i._attachments){var m=i._attachments,g=Object.keys(m).length;if(0===g)return r(null,i);Object.keys(m).forEach(function(e){this._getAttachment(m[e],{encode:!0,ctx:f},function(t,n){var o=i._attachments[e];o.data=n,delete o.stub,delete o.length,--g||r(null,i)})},s)}else{if(i._attachments)for(var y in i._attachments)i._attachments.hasOwnProperty(y)&&(i._attachments[y].stub=!0);r(null,i)}});if("all"===t.open_revs)this._getRevisionTree(e,function(e,t){return e?r(e):(i=c.collectLeaves(t).map(function(e){return e.rev}),void o())});else{if(!Array.isArray(t.open_revs))return r(u.error(u.UNKNOWN_ERROR,"function_clause"));i=t.open_revs;for(var f=0;f<i.length;f++){var l=i[f];if("string"!=typeof l||!/^\d+-/.test(l))return r(u.error(u.INVALID_REV))}o()}}),s.prototype.getAttachment=a.adapterFun("getAttachment",function(e,t,n,r){var o=this;n instanceof Function&&(r=n,n={}),n=a.clone(n),this._get(e,n,function(e,i){return e?r(e):i.doc._attachments&&i.doc._attachments[t]?(n.ctx=i.ctx,void o._getAttachment(i.doc._attachments[t],n,r)):r(u.error(u.MISSING_DOC))})}),s.prototype.allDocs=a.adapterFun("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e=a.clone(e),e.skip="undefined"!=typeof e.skip?e.skip:0,"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(t){return t in e})[0];if(n)return void t(u.error(u.QUERY_PARSE_ERROR,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return i(this,e,t)}return this._allDocs(e,t)}),s.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),new d(this,e,t)},s.prototype.close=a.adapterFun("close",function(e){return this._closed=!0,this._close(e)}),s.prototype.info=a.adapterFun("info",function(e){var t=this;this._info(function(n,r){return n?e(n):(r.db_name=r.db_name||t._db_name,r.auto_compaction=!(!t.auto_compaction||"http"===t.type()),void e(null,r))})}),s.prototype.id=a.adapterFun("id",function(e){return this._id(e)}),s.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},s.prototype.bulkDocs=a.adapterFun("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=a.clone(t),Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(u.error(u.MISSING_BULK_DOCS));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(u.error(u.NOT_AN_OBJECT));return e=a.clone(e),"new_edits"in t||(t.new_edits="new_edits"in e?e.new_edits:!0),t.new_edits||"http"===this.type()||e.docs.sort(function(e,t){var n=a.compare(e._id,t._id);if(0!==n)return n;var r=e._revisions?e._revisions.start:0,o=t._revisions?t._revisions.start:0;return a.compare(r,o)}),e.docs.forEach(function(e){e._deleted&&delete e._attachments}),this._bulkDocs(e,t,function(e,r){return e?n(e):(t.new_edits||(r=r.filter(function(e){return e.error})),void n(null,r))})}),s.prototype.registerDependentDatabase=a.adapterFun("registerDependentDatabase",function(e,t){function n(t){return t.dependentDbs=t.dependentDbs||{},t.dependentDbs[e]?!1:(t.dependentDbs[e]=!0,t)}var r=new this.constructor(e,this.__opts||{});l(this,"_local/_pouch_dependentDbs",n,function(e){return e?t(e):t(null,{db:r})})})},{}],2:[function(e,t){(function(n){"use strict";function r(e){return/^_(design|local)/.test(e)?e:encodeURIComponent(e)}function o(e){return e._attachments&&Object.keys(e._attachments)?l.Promise.all(Object.keys(e._attachments).map(function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data){if(h)return new l.Promise(function(e){l.readAsBinaryString(n.data,function(t){n.data=l.btoa(t),e()})});n.data=n.data.toString("base64")}})):l.Promise.resolve()}function i(e,t){if(/http(s?):/.test(e)){var n=l.parseUri(e);n.remote=!0,(n.user||n.password)&&(n.auth={username:n.user,password:n.password});var r=n.path.replace(/(^\/|\/$)/g,"").split("/");if(n.db=r.pop(),n.path=r.join("/"),t=t||{},t=l.clone(t),n.headers=t.headers||t.ajax&&t.ajax.headers||{},t.auth||n.auth){var o=t.auth||n.auth,i=l.btoa(o.username+":"+o.password);n.headers.Authorization="Basic "+i}return t.headers&&(n.headers=t.headers),n}return{host:"",path:"/",db:e,auth:!1}}function s(e,t){return a(e,e.db+"/"+t)}function a(e,t){if(e.remote){var n=e.path?"/":"";return e.protocol+"://"+e.host+":"+e.port+"/"+e.path+n+t}return"/"+t}function c(e,t){function n(e,t){var n=l.extend({},y,e);return p(n.method+" "+n.url),l.ajax(n,t)}function c(e){return e.split("/").map(encodeURIComponent).join("/")}var _=this;_.getHost=e.getHost?e.getHost:i;var m=_.getHost(e.name,e),g=s(m,"");_.getUrl=function(){return g},_.getHeaders=function(){return l.clone(m.headers)};var y=e.ajax||{};e=l.clone(e);var b=function(){n({headers:m.headers,method:"PUT",url:g},function(e){e&&401===e.status?n({headers:m.headers,method:"HEAD",url:g},function(e){e?t(e):t(null,_)}):e&&412!==e.status?t(e):t(null,_)})};e.skipSetup||n({headers:m.headers,method:"GET",url:g},function(e){e?404===e.status?(l.explain404("PouchDB is just detecting if the remote DB exists."),b()):t(e):t(null,_)}),_.type=function(){return"http"},_.id=l.adapterFun("id",function(e){n({headers:m.headers,method:"GET",url:a(m,"")},function(t,n){var r=n&&n.uuid?n.uuid+m.db:s(m,"");e(null,r)})}),_.request=l.adapterFun("request",function(e,t){e.headers=m.headers,e.url=s(m,e.url),n(e,t)}),_.compact=l.adapterFun("compact",function(e,t){"function"==typeof e&&(t=e,e={}),e=l.clone(e),n({headers:m.headers,url:s(m,"_compact"),method:"POST"},function(){function n(){_.info(function(r,o){o.compact_running?setTimeout(n,e.interval||200):t(null,{ok:!0})})}"function"==typeof t&&n()})}),_._info=function(e){n({headers:m.headers,method:"GET",url:s(m,"")},function(t,n){t?e(t):(n.host=s(m,""),e(null,n))})},_.get=l.adapterFun("get",function(e,t,o){"function"==typeof t&&(o=t,t={}),t=l.clone(t),void 0===t.auto_encode&&(t.auto_encode=!0);var i=[];t.revs&&i.push("revs=true"),t.revs_info&&i.push("revs_info=true"),t.local_seq&&i.push("local_seq=true"),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.push("open_revs="+t.open_revs)),t.attachments&&i.push("attachments=true"),t.rev&&i.push("rev="+t.rev),t.conflicts&&i.push("conflicts="+t.conflicts),i=i.join("&"),i=""===i?"":"?"+i,t.auto_encode&&(e=r(e));var a={headers:m.headers,method:"GET",url:s(m,e+i)},c=e.split("/");(c.length>1&&"_design"!==c[0]&&"_local"!==c[0]||c.length>2&&"_design"===c[0]&&"_local"!==c[0])&&(a.binary=!0),n(a,function(e,t,n){return e?o(e):void o(null,t,n)})}),_.remove=l.adapterFun("remove",function(e,t,o,i){var a;"string"==typeof t?(a={_id:e,_rev:t},"function"==typeof o&&(i=o,o={})):(a=e,"function"==typeof t?(i=t,o={}):(i=o,o=t));var c=a._rev||o.rev;n({headers:m.headers,method:"DELETE",url:s(m,r(a._id))+"?rev="+c},i)}),_.getAttachment=l.adapterFun("getAttachment",function(e,t,n,o){"function"==typeof n&&(o=n,n={}),n=l.clone(n),void 0===n.auto_encode&&(n.auto_encode=!0),n.auto_encode&&(e=r(e)),n.auto_encode=!1,_.get(e+"/"+c(t),n,o)}),_.removeAttachment=l.adapterFun("removeAttachment",function(e,t,o,i){var a=s(m,r(e)+"/"+c(t))+"?rev="+o;n({headers:m.headers,method:"DELETE",url:a},i)}),_.putAttachment=l.adapterFun("putAttachment",function(e,t,o,i,a,u){"function"==typeof a&&(u=a,a=i,i=o,o=null),"undefined"==typeof a&&(a=i,i=o,o=null);var f=r(e)+"/"+c(t),p=s(m,f);if(o&&(p+="?rev="+o),"string"==typeof i){var _;try{_=l.atob(i)}catch(g){return u(d.error(d.BAD_ARG,"Attachments need to be base64 encoded"))}i=h?l.createBlob([l.fixBinary(_)],{type:a}):_?new v(_,"binary"):""}var y={headers:l.clone(m.headers),method:"PUT",url:p,processData:!1,body:i,timeout:6e4};y.headers["Content-Type"]=a,n(y,u)}),_.put=l.adapterFun("put",l.getArguments(function(e){var t,i,a,c=e.shift(),u="_id"in c,f=e.pop();return"object"!=typeof c||Array.isArray(c)?f(d.error(d.NOT_AN_OBJECT)):(c=l.clone(c),void o(c).then(function(){for(;;)if(t=e.shift(),i=typeof t,"string"!==i||u?"string"!==i||!u||"_rev"in c?"object"===i&&(a=l.clone(t)):c._rev=t:(c._id=t,u=!0),!e.length)break;a=a||{};var o=l.invalidIdError(c._id);if(o)throw o;var d=[];a&&"undefined"!=typeof a.new_edits&&d.push("new_edits="+a.new_edits),d=d.join("&"),""!==d&&(d="?"+d),n({headers:m.headers,method:"PUT",url:s(m,r(c._id))+d,body:c},function(e,t){return e?f(e):(t.ok=!0,void f(null,t))})})["catch"](f))})),_.post=l.adapterFun("post",function(e,t,n){return"function"==typeof t&&(n=t,t={}),t=l.clone(t),"object"!=typeof e?n(d.error(d.NOT_AN_OBJECT)):("_id"in e||(e._id=l.uuid()),void _.put(e,t,function(e,t){return e?n(e):(t.ok=!0,void n(null,t))}))}),_._bulkDocs=function(e,t,r){"undefined"!=typeof t.new_edits&&(e.new_edits=t.new_edits),l.Promise.all(e.docs.map(o)).then(function(){n({headers:m.headers,method:"POST",url:s(m,"_bulk_docs"),body:e},function(e,t){return e?r(e):(t.forEach(function(e){e.ok=!0}),void r(null,t))})})["catch"](r)},_.allDocs=l.adapterFun("allDocs",function(e,t){"function"==typeof e&&(t=e,e={}),e=l.clone(e);var r,o=[],i="GET";if(e.conflicts&&o.push("conflicts=true"),e.descending&&o.push("descending=true"),e.include_docs&&o.push("include_docs=true"),e.attachments&&o.push("attachments=true"),e.key&&o.push("key="+encodeURIComponent(JSON.stringify(e.key))),e.startkey&&o.push("startkey="+encodeURIComponent(JSON.stringify(e.startkey))),e.endkey&&o.push("endkey="+encodeURIComponent(JSON.stringify(e.endkey))),"undefined"!=typeof e.inclusive_end&&o.push("inclusive_end="+!!e.inclusive_end),"undefined"!=typeof e.limit&&o.push("limit="+e.limit),"undefined"!=typeof e.skip&&o.push("skip="+e.skip),o=o.join("&"),""!==o&&(o="?"+o),"undefined"!=typeof e.keys){var a="keys="+encodeURIComponent(JSON.stringify(e.keys));a.length+o.length+1<=f?o+=(-1!==o.indexOf("?")?"&":"?")+a:(i="POST",r=JSON.stringify({keys:e.keys}))}n({headers:m.headers,method:i,url:s(m,"_all_docs"+o),body:r},t)}),_._changes=function(e){var t="batch_size"in e?e.batch_size:u;e=l.clone(e),e.timeout=e.timeout||3e4;var r={timeout:e.timeout-5e3},o="undefined"!=typeof e.limit?e.limit:!1;0===o&&(o=1);var i;i="returnDocs"in e?e.returnDocs:!0;var a=o;if(e.style&&(r.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(r.include_docs=!0),e.attachments&&(r.attachments=!0),e.continuous&&(r.feed="longpoll"),e.conflicts&&(r.conflicts=!0),e.descending&&(r.descending=!0),e.filter&&"string"==typeof e.filter&&(r.filter=e.filter,"_view"===e.filter&&e.view&&"string"==typeof e.view&&(r.view=e.view)),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)e.query_params.hasOwnProperty(c)&&(r[c]=e.query_params[c]);var p,h="GET";if(e.doc_ids){r.filter="_doc_ids";var v=JSON.stringify(e.doc_ids);v.length<f?r.doc_ids=v:(h="POST",p={doc_ids:e.doc_ids})}if(e.continuous&&_._useSSE)return _.sse(e,r,i);var g,y,b=function(i,c){if(!e.aborted){r.since=i,"object"==typeof r.since&&(r.since=JSON.stringify(r.since)),e.descending?o&&(r.limit=a):r.limit=!o||a>t?t:a;var u="?"+Object.keys(r).map(function(e){return e+"="+r[e]}).join("&"),f={headers:m.headers,method:h,url:s(m,"_changes"+u),timeout:e.timeout,body:p};y=i,e.aborted||(g=n(f,c))}},E=10,w=0,S={results:[]},T=function(n,r){if(!e.aborted){var s=0;if(r&&r.results){s=r.results.length,S.last_seq=r.last_seq;var c={};c.query=e.query_params,r.results=r.results.filter(function(t){a--;var n=l.filterChange(e)(t);return n&&(i&&S.results.push(t),l.call(e.onChange,t)),n})}else if(n)return e.aborted=!0,void l.call(e.complete,n);r&&r.last_seq&&(y=r.last_seq);var u=o&&0>=a||r&&t>s||e.descending;if((!e.continuous||o&&0>=a)&&u)l.call(e.complete,null,S);else{n?w+=1:w=0;var f=1<<w,p=E*f,h=e.maximumWait||3e4;if(p>h)return void l.call(e.complete,n||d.error(d.UNKNOWN_ERROR));setTimeout(function(){b(y,T)},p)}}};return b(e.since||0,T),{cancel:function(){e.aborted=!0,g&&g.abort()}}},_.sse=function(e,t,n){function r(t){var r=JSON.parse(t.data);n&&u.results.push(r),u.last_seq=r.seq,l.call(e.onChange,r)}function o(t){return c.removeEventListener("message",r,!1),d===!1?(_._useSSE=!1,void(f=_._changes(e))):(c.close(),void l.call(e.complete,t))}t.feed="eventsource",t.since=e.since||0,t.limit=e.limit,delete t.timeout;var i="?"+Object.keys(t).map(function(e){return e+"="+t[e]}).join("&"),a=s(m,"_changes"+i),c=new EventSource(a),u={results:[],last_seq:!1},f=!1,d=!1;return c.addEventListener("message",r,!1),c.onopen=function(){d=!0},c.onerror=o,{cancel:function(){return f?f.cancel():(c.removeEventListener("message",r,!1),void c.close())}}},_._useSSE=!1,_.revsDiff=l.adapterFun("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={}),n({headers:m.headers,method:"POST",url:s(m,"_revs_diff"),body:JSON.stringify(e)},r)}),_._close=function(e){e()},_.destroy=l.adapterFun("destroy",function(e){n({url:s(m,""),method:"DELETE",headers:m.headers},function(t,n){t?(_.emit("error",t),e(t)):(_.emit("destroyed"),e(null,n))})})}var u=25,f=1800,l=e(34),d=e(19),p=e(40)("pouchdb:http"),h="undefined"==typeof n||n.browser,v=e(18);c.destroy=l.toPromise(function(e,t,n){var r=i(e,t);t=t||{},"function"==typeof t&&(n=t,t={}),t=l.clone(t),t.headers=r.headers,t.method="DELETE",t.url=s(r,"");var o=t.ajax||{};t=l.extend({},t,o),l.ajax(t,n)}),c.valid=function(){return!0},t.exports=c}).call(this,e(39))},{}],3:[function(e,t){"use strict";function n(e,t){return new r.Promise(function(n,o){var s=r.createBlob([""],{type:"image/png"});e.objectStore(i).put(s,"key"),e.oncomplete=function(){var e=t.transaction([i],"readwrite"),s=e.objectStore(i).get("key");s.onerror=o,s.onsuccess=function(e){var t=e.target.result,o=URL.createObjectURL(t);r.ajax({url:o,cache:!0,binary:!0},function(e,t){e&&405===e.status?n(!0):(n(!(!t||"image/png"!==t.type)),e&&404===e.status&&r.explain404("PouchDB is just detecting blob URL support.")),URL.revokeObjectURL(o)})}}})["catch"](function(){return!1})}var r=e(34),o=e(5),i=o.DETECT_BLOB_SUPPORT_STORE;t.exports=n},{}],4:[function(e,t){"use strict";function n(e,t,n,i,s,g){function y(){var e=[f,u,c,d,l,a],t=m(i,e,"readwrite");return t.error?g(t.error):(D=t.txn,D.onerror=_(g),D.ontimeout=_(g),D.oncomplete=w,C=D.objectStore(f),L=D.objectStore(u),I=D.objectStore(c),N=D.objectStore(a),void T(function(e){return e?(H=!0,g(e)):void E()}))}function b(){r.processDocs(B,n,J,D,U,x,t)}function E(){function e(){++n===B.length&&b()}function t(t){var n=h(t.target.result);n&&J.set(n.id,n),e()}if(B.length)for(var n=0,o=0,i=B.length;i>o;o++){var s=B[o];if(s._id&&r.isLocalId(s._id))e();else{var a=C.get(s.metadata.id);a.onsuccess=t}}}function w(){H||(s.notify(n._name),n._docCount=-1,g(null,U))}function S(e,t){var n=I.get(e);n.onsuccess=function(n){if(n.target.result)t();else{var r=o.error(o.MISSING_STUB,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}function T(e){function t(){++o===n.length&&e(r)}var n=[];if(B.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){S(e,function(e){e&&!r&&(r=e),t()})})}function x(e,t,n,r,o,i,s){var a=e.data;a._id=e.metadata.id,a._rev=e.metadata.rev,n&&(a._deleted=!0);var c=a._attachments&&Object.keys(a._attachments).length;return c?k(e,t,n,r,o,s):void O(e,t,n,r,o,s)}function A(e){var t=r.compactTree(e.metadata);p(t,e.metadata.id,D)}function O(e,t,r,o,i,s){function a(o){i&&n.auto_compaction&&A(e),l.seq=o.target.result,delete l.rev;var s=v(l,t,r),a=C.put(s);a.onsuccess=u}function c(e){e.preventDefault(),e.stopPropagation();var t=L.index("_doc_id_rev"),n=t.getKey(f._doc_id_rev);n.onsuccess=function(e){var t=L.put(f,e.target.result);t.onsuccess=a}}function u(){U[s]={ok:!0,id:l.id,rev:t},J.set(e.metadata.id,e.metadata),q(e,l.seq,o)}var f=e.data,l=e.metadata;f._doc_id_rev=l.id+"::"+l.rev,delete f._id,delete f._rev;var d=L.put(f);d.onsuccess=a,d.onerror=c}function k(e,t,n,r,o,i){function s(){u===f.length&&O(e,t,n,r,o,i)}function a(){u++,s()}var c=e.data,u=0,f=Object.keys(c._attachments);f.forEach(function(t){var n=e.data._attachments[t];if(n.stub)u++,s();else{var r=n.data;delete n.data;var o=n.digest;R(o,r,a)}})}function q(e,t,n){function r(){++i===s.length&&n()}function o(n){var o=e.data._attachments[n].digest,i=N.put({seq:t,digestSeq:o+"::"+t});i.onsuccess=r,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),r()}}var i=0,s=Object.keys(e.data._attachments||{});if(!s.length)return n();for(var a=0;a<s.length;a++)o(s[a])}function R(e,t,n){var r=I.count(e);r.onsuccess=function(r){var o=r.target.result;if(o)return n();var i={digest:e,body:t},s=I.put(i);s.onsuccess=n}}for(var D,C,L,I,N,j,B=e.docs,F=0,M=B.length;M>F;F++){var P=B[F];P._id&&r.isLocalId(P._id)||(P=B[F]=r.parseDoc(P,t.new_edits),P.error&&!j&&(j=P))}if(j)return g(j);var U=new Array(B.length),J=new r.Map,H=!1,V=n._blobSupport?"blob":"base64";r.preprocessAttachments(B,V,function(e){return e?g(e):void y()})}var r=e(34),o=e(19),i=e(6),s=e(5),a=s.ATTACH_AND_SEQ_STORE,c=s.ATTACH_STORE,u=s.BY_SEQ_STORE,f=s.DOC_STORE,l=s.LOCAL_STORE,d=s.META_STORE,p=i.compactRevs,h=i.decodeMetadata,v=i.encodeMetadata,_=i.idbError,m=i.openTransactionSafely;t.exports=n},{}],5:[function(e,t,n){"use strict";n.ADAPTER_VERSION=5,n.DOC_STORE="document-store",n.BY_SEQ_STORE="by-sequence",n.ATTACH_STORE="attach-store",n.ATTACH_AND_SEQ_STORE="attach-seq-store",n.META_STORE="meta-store",n.LOCAL_STORE="local-store",n.DETECT_BLOB_SUPPORT_STORE="detect-blob-support"},{}],6:[function(e,t,n){(function(t){"use strict";function r(e,t,n){try{e.apply(t,n)}catch(r){"undefined"!=typeof PouchDB&&PouchDB.emit("error",r)}}var o=e(19),i=e(34),s=e(5);n.taskQueue={running:!1,queue:[]},n.applyNext=function(){if(!n.taskQueue.running&&n.taskQueue.queue.length){n.taskQueue.running=!0;var e=n.taskQueue.queue.shift();e.action(function(o,i){r(e.callback,this,[o,i]),n.taskQueue.running=!1,t.nextTick(n.applyNext)})}},n.idbError=function(e){return function(t){var n=t.target&&t.target.error&&t.target.error.name||t.target;e(o.error(o.IDB_ERROR,n,t.type))}},n.encodeMetadata=function(e,t,n){return{data:i.safeJsonStringify(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}},n.decodeMetadata=function(e){if(!e)return null;var t=i.safeJsonParse(e.data);return t.winningRev=e.winningRev,t.deletedOrLocal="1"===e.deletedOrLocal,t.seq=e.seq,t},n.decodeDoc=function(e){if(!e)return e;var t=i.lastIndexOf(e._doc_id_rev,":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e},n.readBlobData=function(e,t,n,r){n?e?"string"!=typeof e?i.readAsBinaryString(e,function(e){r(i.btoa(e))}):r(e):r(""):e?"string"!=typeof e?r(e):(e=i.fixBinary(atob(e)),r(i.createBlob([e],{type:t}))):r(i.createBlob([""],{type:t}))},n.fetchAttachmentsIfNecessary=function(e,t,n,r){function o(){++c===a.length&&r&&r()}function i(e,t){var r=e._attachments[t],i=r.digest,a=n.objectStore(s.ATTACH_STORE).get(i);a.onsuccess=function(e){r.body=e.target.result.body,o()}}var a=Object.keys(e._attachments||{});if(!a.length)return r&&r();var c=0;a.forEach(function(n){t.attachments&&t.include_docs?i(e,n):(e._attachments[n].stub=!0,o())})},n.postProcessAttachments=function(e){return i.Promise.all(e.map(function(e){if(e.doc&&e.doc._attachments){var t=Object.keys(e.doc._attachments);return i.Promise.all(t.map(function(t){var r=e.doc._attachments[t];if("body"in r){var o=r.body,s=r.content_type;return new i.Promise(function(a){n.readBlobData(o,s,!0,function(n){e.doc._attachments[t]=i.extend(i.pick(r,["digest","content_type"]),{data:n}),a()})})}}))}}))},n.compactRevs=function(e,t,n){function r(){f--,f||o()}function o(){i.length&&i.forEach(function(e){var t=u.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::",!1,!1));t.onsuccess=function(t){var n=t.target.result;n||c["delete"](e)}})}var i=[],a=n.objectStore(s.BY_SEQ_STORE),c=n.objectStore(s.ATTACH_STORE),u=n.objectStore(s.ATTACH_AND_SEQ_STORE),f=e.length;e.forEach(function(e){var n=a.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return r();a["delete"](t);var n=u.index("seq").openCursor(IDBKeyRange.only(t));n.onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),u["delete"](t.primaryKey),t["continue"]()}else r()}}})},n.openTransactionSafely=function(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}}).call(this,e(39))},{}],7:[function(e,t){(function(n){"use strict";function r(e,t){var n=this;D.queue.push({action:function(t){o(n,e,t)},callback:t}),w()}function o(e,t,o){function i(e){var t=e.createObjectStore(y,{keyPath:"id"});e.createObjectStore(m,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore(_,{keyPath:"digest"}),e.createObjectStore(E,{keyPath:"id",autoIncrement:!1}),e.createObjectStore(g),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore(b,{keyPath:"_id"});var n=e.createObjectStore(v,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function f(e,t){var n=e.objectStore(y);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var o=r.value,i=a.isDeleted(o);o.deletedOrLocal=i?"1":"0",n.put(o),r["continue"]()}else t()}}function l(e){e.createObjectStore(b,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function w(e,t){var n=e.objectStore(b),r=e.objectStore(y),o=e.objectStore(m),i=r.openCursor();i.onsuccess=function(e){var i=e.target.result;if(i){var s=i.value,u=s.id,f=a.isLocalId(u),l=c.winningRev(s);if(f){var d=u+"::"+l,p=u+"::",h=u+"::~",v=o.index("_doc_id_rev"),_=IDBKeyRange.bound(p,h,!1,!1),m=v.openCursor(_);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===d&&n.put(t),o["delete"](m.primaryKey),m["continue"]()}else r["delete"](i.primaryKey),i["continue"]()}}else i["continue"]()}else t&&t()}}function D(e){var t=e.createObjectStore(v,{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}function I(e,t){var n=e.objectStore(m),r=e.objectStore(_),o=e.objectStore(v),i=r.count();i.onsuccess=function(e){var r=e.target.result;return r?void(n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,i=n.primaryKey,s=Object.keys(r._attachments||{}),a={},c=0;c<s.length;c++){var u=r._attachments[s[c]];a[u.digest]=!0}var f=Object.keys(a);for(c=0;c<f.length;c++){var l=f[c];o.put({seq:i,digestSeq:l+"::"+i})}n["continue"]()}):t()}}function N(e){function t(e){return e.data?x(e):(e.deletedOrLocal="1"===e.deletedOrLocal,e)}var n=e.objectStore(m),r=e.objectStore(y),o=r.openCursor();o.onsuccess=function(e){function o(){var e=a.id+"::",t=a.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,t)),o=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return a.seq=o,i();var n=t.primaryKey;n>o&&(o=n),t["continue"]()}}function i(){var e=A(a,a.winningRev,a.deletedOrLocal),t=r.put(e);t.onsuccess=function(){s["continue"]()}}var s=e.target.result;if(s){var a=t(s.value);return a.winningRev=a.winningRev||c.winningRev(a),a.seq?i():void o()}}}function j(e,t,n,r,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(i){return{error:i}}return null}function B(e,t,n){function r(){n(null,{total_rows:e,offset:t.skip,rows:A})}var o="startkey"in t?t.startkey:!1,i="endkey"in t?t.endkey:!1,s="key"in t?t.key:!1,f=t.skip||0,l="number"==typeof t.limit?t.limit:-1,d=t.inclusive_end!==!1,p="descending"in t&&t.descending?"prev":null,h=j(o,i,d,s,p);if(h&&h.error){var v=h.error;return"DataError"===v.name&&0===v.code?n(null,{total_rows:e,offset:t.skip,rows:[]}):n(u.error(u.IDB_ERROR,v.name,v.message))}var g=[y,m];t.attachments&&g.push(_);var b=C(J,g,"readonly");if(b.error)return n(b.error);var E=b.txn;E.oncomplete=function(){t.attachments?q(A).then(r):r()};var w=E.objectStore(y),S=p?w.openCursor(h,p):w.openCursor(h),A=[];S.onsuccess=function(e){function n(e,n){var o={id:e.id,key:e.id,value:{rev:i}};t.include_docs&&(o.doc=n,t.conflicts&&(o.doc._conflicts=c.collectConflicts(e)),O(o.doc,t,E));var s=a.isDeleted(e,i);if("ok"===t.deleted)s&&(o.value.deleted=!0,o.doc=null),A.push(o);else if(!s&&f--<=0&&(A.push(o),0===--l))return;r["continue"]()}if(e.target.result){var r=e.target.result,o=x(r.value),i=o.winningRev;if(t.include_docs){var s=E.objectStore(m).index("_doc_id_rev"),u=o.id+"::"+i;s.get(u).onsuccess=function(e){n(x(r.value),T(e.target.result))}}else n(o)}}}function F(t){if(-1!==e._docCount)return t(null,e._docCount);var n,r=C(J,[y],"readonly");if(r.error)return t(r.error);var o=r.txn,i=o.objectStore(y).index("deletedOrLocal");i.count(IDBKeyRange.only("0")).onsuccess=function(e){n=e.target.result
},o.onerror=k(t),o.oncomplete=function(){e._docCount=n,t(null,e._docCount)}}var M=t.name,P=null,U=!1,J=null;e._docCount=-1,e._blobSupport=null,e._name=M,e.type=function(){return"idb"},e._id=a.toPromise(function(e){e(null,P)}),e._bulkDocs=function(t,n,o){d(t,n,e,J,r.Changes,o)},e._get=function(e,t,n){function r(){n(s,{doc:o,metadata:i,ctx:c})}var o,i,s,c;if(t=a.clone(t),t.ctx)c=t.ctx;else{var f=C(J,[y,m,_],"readonly");if(f.error)return n(f.error);c=f.txn}c.objectStore(y).get(e).onsuccess=function(e){if(i=x(e.target.result),!i)return s=u.error(u.MISSING_DOC,"missing"),r();if(a.isDeleted(i)&&!t.rev)return s=u.error(u.MISSING_DOC,"deleted"),r();var n=c.objectStore(m),f=t.rev||i.winningRev,l=i.id+"::"+f;n.index("_doc_id_rev").get(l).onsuccess=function(e){return o=e.target.result,o&&(o=T(o)),o?void r():(s=u.error(u.MISSING_DOC,"missing"),r())}}},e._getAttachment=function(e,t,n){var r;if(t=a.clone(t),t.ctx)r=t.ctx;else{var o=C(J,[y,m,_],"readonly");if(o.error)return n(o.error);r=o.txn}var i=e.digest,s=e.content_type;r.objectStore(_).get(i).onsuccess=function(e){var r=e.target.result.body;R(r,s,t.encode,function(e){n(null,e)})}},e._allDocs=function(e,t){F(function(n,r){return n?t(n):0===e.limit?t(null,{total_rows:r,offset:e.skip,rows:[]}):void B(r,e,t)})},e._info=function(t){F(function(n,r){if(n)return t(n);if(null===J||!L[e._name]){var o=new Error("db isn't open");return o.id="idbNull",t(o)}var i=0,s=C(J,[m],"readonly");if(s.error)return t(s.error);var a=s.txn;a.objectStore(m).openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;i=t?t.key:0},a.oncomplete=function(){t(null,{doc_count:r,update_seq:i,idb_attachment_format:e._blobSupport?"binary":"base64"})}})},e._changes=function(t){function n(e){function n(){return a.seq!==s?e["continue"]():(l=s,a.winningRev===i._rev?o(i):void r())}function r(){var e=i._id+"::"+a.winningRev,t=v.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,e+""));t.onsuccess=function(e){o(T(e.target.result.value))}}function o(n){var r=t.processChange(n,a,t);r.seq=a.seq,w(r)&&(E++,p&&b.push(r),t.attachments&&t.include_docs?O(n,t,h,function(){q([r]).then(function(){t.onChange(r)})}):t.onChange(r)),E!==d&&e["continue"]()}var i=T(e.value),s=e.key;if(u&&!u.has(i._id))return e["continue"]();var a;return(a=S.get(i._id))?n():void(g.get(i._id).onsuccess=function(e){a=x(e.target.result),S.set(i._id,a),n()})}function o(e){var t=e.target.result;t&&n(t)}function i(){var e=[y,m];t.attachments&&e.push(_);var n=C(J,e,"readonly");if(n.error)return t.complete(n.error);h=n.txn,h.onerror=k(t.complete),h.oncomplete=s,v=h.objectStore(m),g=h.objectStore(y);var r;r=f?v.openCursor(null,f):v.openCursor(IDBKeyRange.lowerBound(t.since,!0)),r.onsuccess=o}function s(){function e(){t.complete(null,{results:b,last_seq:l})}!t.continuous&&t.attachments?q(b).then(e):e()}if(t=a.clone(t),t.continuous){var c=M+":"+a.uuid();return r.Changes.addListener(M,c,e,t),r.Changes.notify(M),{cancel:function(){r.Changes.removeListener(M,c)}}}var u=t.doc_ids&&new a.Set(t.doc_ids),f=t.descending?"prev":null;t.since=t.since||0;var l=t.since,d="limit"in t?t.limit:-1;0===d&&(d=1);var p;p="returnDocs"in t?t.returnDocs:!0;var h,v,g,b=[],E=0,w=a.filterChange(t),S=new a.Map;i()},e._close=function(e){return null===J?e(u.error(u.NOT_OPEN)):(J.close(),delete L[M],J=null,void e())},e._getRevisionTree=function(e,t){var n=C(J,[y],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(y).get(e);o.onsuccess=function(e){var n=x(e.target.result);n?t(null,n.rev_tree):t(u.error(u.MISSING_DOC))}},e._doCompaction=function(e,t,n){var r=[y,m,_,v],o=C(J,r,"readwrite");if(o.error)return n(o.error);var i=o.txn,s=i.objectStore(y);s.get(e).onsuccess=function(n){var r=x(n.target.result);c.traverseRevTree(r.rev_tree,function(e,n,r,o,i){var s=n+"-"+r;-1!==t.indexOf(s)&&(i.status="missing")}),S(t,e,i);var o=r.winningRev,s=r.deletedOrLocal;i.objectStore(y).put(A(r,o,s))},i.onerror=k(n),i.oncomplete=function(){a.call(n)}},e._getLocal=function(e,t){var n=C(J,[b],"readonly");if(n.error)return t(n.error);var r=n.txn,o=r.objectStore(b).get(e);o.onerror=k(t),o.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(u.error(u.MISSING_DOC))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var i,s=t.ctx;if(!s){var a=C(J,[b],"readwrite");if(a.error)return n(a.error);s=a.txn,s.onerror=k(n),s.oncomplete=function(){i&&n(null,i)}}var c,f=s.objectStore(b);r?(c=f.get(o),c.onsuccess=function(o){var s=o.target.result;if(s&&s._rev===r){var a=f.put(e);a.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)}}else n(u.error(u.REV_CONFLICT))}):(c=f.add(e),c.onerror=function(e){n(u.error(u.REV_CONFLICT)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){i={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,i)})},e._removeLocal=function(e,t){var n=C(J,[b],"readwrite");if(n.error)return t(n.error);var r,o=n.txn;o.oncomplete=function(){r&&t(null,r)};var i=e._id,s=o.objectStore(b),a=s.get(i);a.onerror=k(t),a.onsuccess=function(n){var o=n.target.result;o&&o._rev===e._rev?(s["delete"](i),r={ok:!0,id:i,rev:"0-0"}):t(u.error(u.MISSING_DOC))}};var H=L[M];if(H)return J=H.idb,P=H.instanceId,e._blobSupport=H.blobSupport,void n.nextTick(function(){o(null,e)});var V=indexedDB.open(M,h);"openReqList"in r||(r.openReqList={}),r.openReqList[M]=V,V.onupgradeneeded=function(e){function t(){var e=o[s-1];s++,e&&e(r,t)}var n=e.target.result;if(e.oldVersion<1)return i(n);var r=e.currentTarget.transaction;e.oldVersion<3&&l(n),e.oldVersion<4&&D(n);var o=[f,w,I,N],s=e.oldVersion;t()},V.onsuccess=function(t){J=t.target.result,J.onversionchange=function(){J.close(),delete L[M]},J.onabort=function(){J.close(),delete L[M]};var n=J.transaction([E,g],"readwrite"),r=n.objectStore(E).get(E);r.onsuccess=function(t){var r=function(){null!==e._blobSupport&&U&&(L[M]={idb:J,instanceId:P,blobSupport:e._blobSupport,loaded:!0},o(null,e))},i=t.target.result||{id:E};M+"_id"in i?(P=i[M+"_id"],U=!0,r()):(P=a.uuid(),i[M+"_id"]=P,n.objectStore(E).put(i).onsuccess=function(){U=!0,r()}),s||(s=p(n,J)),s.then(function(t){e._blobSupport=t,r()})}},V.onerror=k(o)}function i(e,t,n){"openReqList"in r||(r.openReqList={}),r.Changes.removeAllListeners(e),r.openReqList[e]&&r.openReqList[e].result&&(r.openReqList[e].result.close(),delete L[e]);var o=indexedDB.deleteDatabase(e);o.onsuccess=function(){r.openReqList[e]&&(r.openReqList[e]=null),a.hasLocalStorage()&&e in localStorage&&delete localStorage[e],n(null,{ok:!0})},o.onerror=k(n)}var s,a=e(34),c=e(29),u=e(19),f=e(6),l=e(5),d=e(4),p=e(3),h=l.ADAPTER_VERSION,v=l.ATTACH_AND_SEQ_STORE,_=l.ATTACH_STORE,m=l.BY_SEQ_STORE,g=l.DETECT_BLOB_SUPPORT_STORE,y=l.DOC_STORE,b=l.LOCAL_STORE,E=l.META_STORE,w=f.applyNext,S=f.compactRevs,T=f.decodeDoc,x=f.decodeMetadata,A=f.encodeMetadata,O=f.fetchAttachmentsIfNecessary,k=f.idbError,q=f.postProcessAttachments,R=f.readBlobData,D=f.taskQueue,C=f.openTransactionSafely,L={};r.valid=function(){var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);return!e&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange},r.destroy=a.toPromise(function(e,t,n){D.queue.push({action:function(n){i(e,t,n)},callback:n}),w()}),r.Changes=new a.Changes,t.exports=r}).call(this,e(39))},{}],8:[function(e,t){t.exports=["idb","websql"]},{}],9:[function(e,t){"use strict";function n(e,t,n,s,v,_){function m(){return q?_(q):(v.notify(n._name),n._docCount=-1,void _(null,R))}function g(e,t){var n="SELECT count(*) as cnt FROM "+u+" WHERE digest=?";k.executeSql(n,[e],function(n,r){if(0===r.rows.item(0).cnt){var i=o.error(o.MISSING_STUB,"unknown stub attachment with digest "+e);t(i)}else t()})}function y(e){function t(){++o===n.length&&e(r)}var n=[];if(A.forEach(function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach(function(t){var r=e.data._attachments[t];r.stub&&n.push(r.digest)})}),!n.length)return e();var r,o=0;n.forEach(function(e){g(e,function(e){e&&!r&&(r=e),t()})})}function b(e,t,o,i,s,u,h){function v(){function t(e,t){function r(){return++i===s.length&&t(),!1}function o(t){var o="INSERT INTO "+f+" (digest, seq) VALUES (?,?)",i=[n._attachments[t].digest,e];k.executeSql(o,i,r,r)}var i=0,s=Object.keys(n._attachments||{});if(!s.length)return t();for(var a=0;a<s.length;a++)o(s[a])}var n=e.data,r=o?1:0,i=n._id,s=n._rev,a=d(n),u="INSERT INTO "+c+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",p=[i,s,a,r];k.executeSql(u,p,function(e,n){var r=n.insertId;t(r,function(){y(e,r)})},function(){var e=l("seq",c,null,"doc_id=? AND rev=?");return k.executeSql(e,[i,s],function(e,n){var o=n.rows.item(0).seq,u="UPDATE "+c+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",f=[a,r,i,s];e.executeSql(u,f,function(e){t(o,function(){y(e,o)})})}),!1})}function _(e){b||(e?(b=e,i(b)):E===w.length&&v())}function m(e){E++,_(e)}function g(){if(s&&n.auto_compaction){var t=e.metadata.id,o=r.compactTree(e.metadata);p(o,t,k)}}function y(n,o){g(),e.metadata.seq=o,delete e.metadata.rev;var u=s?"UPDATE "+a+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+c+" WHERE doc_id="+a+".id AND rev=?) WHERE id=?":"INSERT INTO "+a+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",f=r.safeJsonStringify(e.metadata),l=e.metadata.id,d=s?[f,o,t,l]:[l,o,o,f];n.executeSql(u,d,function(){R[h]={ok:!0,id:e.metadata.id,rev:t},D.set(l,e.metadata),i()})}var b=null,E=0;e.data._id=e.metadata.id,e.data._rev=e.metadata.rev;var w=Object.keys(e.data._attachments||{});o&&(e.data._deleted=!0),w.forEach(function(t){var n=e.data._attachments[t];if(n.stub)E++,_();else{var r=n.data;delete n.data;var o=n.digest;S(o,r,m)}}),w.length||v()}function E(){r.processDocs(A,n,D,k,R,b,t)}function w(e){function t(){++n===A.length&&e()}if(!A.length)return e();var n=0;A.forEach(function(e){if(e._id&&r.isLocalId(e._id))return t();var n=e.metadata.id;k.executeSql("SELECT json FROM "+a+" WHERE id = ?",[n],function(e,o){if(o.rows.length){var i=r.safeJsonParse(o.rows.item(0).json);D.set(n,i)}t()})})}function S(e,t,n){var r="SELECT digest FROM "+u+" WHERE digest=?";k.executeSql(r,[e],function(o,s){return s.rows.length?n():(r="INSERT INTO "+u+" (digest, body, escaped) VALUES (?,?,1)",void o.executeSql(r,[e,i.escapeBlob(t)],function(){n()},function(){return n(),!1}))})}var T=t.new_edits,x=e.docs,A=x.map(function(e){if(e._id&&r.isLocalId(e._id))return e;var t=r.parseDoc(e,T);return t}),O=A.filter(function(e){return e.error});if(O.length)return _(O[0]);var k,q,R=new Array(A.length),D=new r.Map;r.preprocessAttachments(A,"binary",function(e){return e?_(e):void s.transaction(function(e){k=e,y(function(e){e?q=e:w(E)})},h(_),m)})}var r=e(34),o=e(19),i=e(11),s=e(10),a=s.DOC_STORE,c=s.BY_SEQ_STORE,u=s.ATTACH_STORE,f=s.ATTACH_AND_SEQ_STORE,l=i.select,d=i.stringifyDoc,p=i.compactRevs,h=i.unknownError;t.exports=n},{}],10:[function(e,t,n){"use strict";function r(e){return"'"+e+"'"}n.ADAPTER_VERSION=7,n.DOC_STORE=r("document-store"),n.BY_SEQ_STORE=r("by-sequence"),n.ATTACH_STORE=r("attach-store"),n.LOCAL_STORE=r("local-store"),n.META_STORE=r("metadata-store"),n.ATTACH_AND_SEQ_STORE=r("attach-seq-store")},{}],11:[function(e,t){"use strict";function n(e){return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function r(e){return e.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function o(e){return delete e._id,delete e._rev,JSON.stringify(e)}function i(e,t,n){return e=JSON.parse(e),e._id=t,e._rev=n,e}function s(e){for(var t="(";e--;)t+="?",e&&(t+=",");return t+")"}function a(e,t,n,r,o){return"SELECT "+e+" FROM "+("string"==typeof t?t:t.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function c(e,t,n){function r(){++i===e.length&&o()}function o(){if(a.length){var e="SELECT DISTINCT digest AS digest FROM "+g+" WHERE seq IN "+s(a.length);n.executeSql(e,a,function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).digest);if(n.length){var o="DELETE FROM "+g+" WHERE seq IN ("+a.map(function(){return"?"}).join(",")+")";e.executeSql(o,a,function(e){var t="SELECT digest FROM "+g+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";e.executeSql(t,n,function(e,t){for(var r=new p.Set,o=0;o<t.rows.length;o++)r.add(t.rows.item(o).digest);n.forEach(function(t){r.has(t)||(e.executeSql("DELETE FROM "+g+" WHERE digest=?",[t]),e.executeSql("DELETE FROM "+m+" WHERE digest=?",[t]))})})})}})}}if(e.length){var i=0,a=[];e.forEach(function(e){var o="SELECT seq FROM "+_+" WHERE doc_id=? AND rev=?";n.executeSql(o,[t,e],function(e,t){if(!t.rows.length)return r();var n=t.rows.item(0).seq;a.push(n),e.executeSql("DELETE FROM "+_+" WHERE seq=?",[n],r)})})}}function u(e){return function(t){var n=t&&t.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||t.type,o=t.target||t.message;e(h.error(h.WSQ_ERROR,o,r))}}function f(e){if("size"in e)return 1e6*e.size;var t=/Android/.test(window.navigator.userAgent);return t?5e6:1}function l(e,t,n,r){var o="undefined"!=typeof sqlitePlugin&&sqlitePlugin.openDatabase&&sqlitePlugin.openDatabase.bind(sqlitePlugin),i=o||"undefined"!=typeof openDatabase&&openDatabase,s=y[e];return s||(s=y[e]=i(e,t,n,r),s._sqlitePlugin=!!o),s}function d(){return"undefined"!=typeof openDatabase||"undefined"!=typeof SQLitePlugin}var p=e(34),h=e(19),v=e(10),_=v.BY_SEQ_STORE,m=v.ATTACH_STORE,g=v.ATTACH_AND_SEQ_STORE,y={};t.exports={escapeBlob:n,unescapeBlob:r,stringifyDoc:o,unstringifyDoc:i,qMarks:s,select:a,compactRevs:c,unknownError:u,getSize:f,openDB:l,valid:d}},{}],12:[function(e,t){"use strict";function n(e,t,n,r,i){function s(){++u===c.length&&i&&i()}function a(e,t){var i=e._attachments[t],a={encode:!0,ctx:r};n._getAttachment(i,a,function(n,r){e._attachments[t]=o.extend(o.pick(i,["digest","content_type"]),{data:r}),s()})}var c=Object.keys(e._attachments||{});if(!c.length)return i&&i();var u=0;c.forEach(function(n){t.attachments&&t.include_docs?a(e,n):(e._attachments[n].stub=!0,s())})}function r(e,t){function c(){o.hasLocalStorage()&&(window.localStorage["_pouch__websqldb_"+K._name]=!0),t(null,K)}function I(e,t){e.executeSql(q),e.executeSql("ALTER TABLE "+p+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){e.executeSql(O),e.executeSql("ALTER TABLE "+d+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){e.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+d+" (local, id)");var n="SELECT "+d+".winningseq AS seq, "+d+".json AS metadata FROM "+p+" JOIN "+d+" ON "+p+".seq = "+d+".winningseq";e.executeSql(n,[],function(e,n){for(var r=[],i=[],s=0;s<n.rows.length;s++){var a=n.rows.item(s),c=a.seq,u=JSON.parse(a.metadata);o.isDeleted(u)&&r.push(c),o.isLocalId(u.id)&&i.push(u.id)}e.executeSql("UPDATE "+d+"SET local = 1 WHERE id IN "+g(i.length),i,function(){e.executeSql("UPDATE "+p+" SET deleted = 1 WHERE seq IN "+g(r.length),r,t)})})})})}function N(e,t){var n="CREATE TABLE IF NOT EXISTS "+v+" (id UNIQUE, rev, json)";e.executeSql(n,[],function(){var n="SELECT "+d+".id AS id, "+p+".json AS data FROM "+p+" JOIN "+d+" ON "+p+".seq = "+d+".winningseq WHERE local = 1";e.executeSql(n,[],function(e,n){function r(){if(!o.length)return t(e);var n=o.shift(),i=JSON.parse(n.data)._rev;e.executeSql("INSERT INTO "+v+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(e){e.executeSql("DELETE FROM "+d+" WHERE id=?",[n.id],function(e){e.executeSql("DELETE FROM "+p+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function j(e,t){function n(n){function r(){if(!n.length)return t(e);var o=n.shift(),i=a(o.hex,W),s=i.lastIndexOf("::"),c=i.substring(0,s),u=i.substring(s+2),f="UPDATE "+p+" SET doc_id=?, rev=? WHERE doc_id_rev=?";e.executeSql(f,[c,u,i],function(){r()})}r()}var r="ALTER TABLE "+p+" ADD COLUMN doc_id";e.executeSql(r,[],function(e){var t="ALTER TABLE "+p+" ADD COLUMN rev";e.executeSql(t,[],function(e){e.executeSql(k,[],function(e){var t="SELECT hex(doc_id_rev) as hex FROM "+p;e.executeSql(t,[],function(e,t){for(var r=[],o=0;o<t.rows.length;o++)r.push(t.rows.item(o));n(r)})})})})}function B(e,t){function n(e){var n="SELECT COUNT(*) AS cnt FROM "+h;e.executeSql(n,[],function(e,n){function r(){var n=E(L+", "+d+".id AS id",[d,p],C,null,d+".id ");n+=" LIMIT "+s+" OFFSET "+i,i+=s,e.executeSql(n,[],function(e,n){function o(e,t){var n=i[e]=i[e]||[];-1===n.indexOf(t)&&n.push(t)}if(!n.rows.length)return t(e);for(var i={},s=0;s<n.rows.length;s++)for(var a=n.rows.item(s),c=b(a.data,a.id,a.rev),u=Object.keys(c._attachments||{}),f=0;f<u.length;f++){var l=c._attachments[u[f]];o(l.digest,a.seq)}var d=[];if(Object.keys(i).forEach(function(e){var t=i[e];t.forEach(function(t){d.push([e,t])})}),!d.length)return r();var p=0;d.forEach(function(t){var n="INSERT INTO "+m+" (digest, seq) VALUES (?,?)";e.executeSql(n,t,function(){++p===d.length&&r()})})})}var o=n.rows.item(0).cnt;if(!o)return t(e);var i=0,s=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+m+" (digest, seq INTEGER)";e.executeSql(r,[],function(e){e.executeSql(D,[],function(e){e.executeSql(R,[],n)})})}function F(e,t){var n="ALTER TABLE "+h+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";e.executeSql(n,[],t)}function M(e,t){var n="ALTER TABLE "+d+" ADD COLUMN max_seq INTEGER";e.executeSql(n,[],function(e){var n="UPDATE "+d+" SET max_seq=(SELECT MAX(seq) FROM "+p+" WHERE doc_id=id)";e.executeSql(n,[],function(e){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+d+" (max_seq)";e.executeSql(n,[],t)})})}function P(e,t){e.executeSql('SELECT HEX("a") AS hex',[],function(e,n){var r=n.rows.item(0).hex;W=2===r.length?"UTF-8":"UTF-16",t()})}function U(){for(;X.length>0;){var e=X.pop();e(null,Q)}}function J(e,t){if(0===t){var n="CREATE TABLE IF NOT EXISTS "+_+" (dbid, db_version INTEGER)",r="CREATE TABLE IF NOT EXISTS "+h+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",i="CREATE TABLE IF NOT EXISTS "+m+" (digest, seq INTEGER)",s="CREATE TABLE IF NOT EXISTS "+d+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",a="CREATE TABLE IF NOT EXISTS "+p+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",c="CREATE TABLE IF NOT EXISTS "+v+" (id UNIQUE, rev, json)";e.executeSql(r),e.executeSql(c),e.executeSql(i,[],function(){e.executeSql(R),e.executeSql(D)}),e.executeSql(s,[],function(){e.executeSql(q),e.executeSql(a,[],function(){e.executeSql(O),e.executeSql(k),e.executeSql(n,[],function(){var t="INSERT INTO "+_+" (db_version, dbid) VALUES (?,?)";Q=o.uuid();var n=[l,Q];e.executeSql(t,n,function(){U()})})})})}else{var u=function(){var n=l>t;n&&e.executeSql("UPDATE "+_+" SET db_version = "+l);var r="SELECT dbid FROM "+_;e.executeSql(r,[],function(e,t){Q=t.rows.item(0).dbid,U()})},f=[I,N,j,B,F,M,u],g=t,y=function(e){f[g-1](e,y),g++};y(e)}}function H(){Y.transaction(function(e){P(e,function(){V(e)})},S(t),c)}function V(e){var t="SELECT sql FROM sqlite_master WHERE tbl_name = "+_;e.executeSql(t,[],function(e,t){t.rows.length?/db_version/.test(t.rows.item(0).sql)?e.executeSql("SELECT db_version FROM "+_,[],function(e,t){var n=t.rows.item(0).db_version;J(e,n)}):e.executeSql("ALTER TABLE "+_+" ADD COLUMN db_version INTEGER",[],function(){J(e,1)}):J(e,0)})}function G(e,t){if(-1!==K._docCount)return t(K._docCount);var n=E("COUNT("+d+".id) AS 'num'",[d,p],C,p+".deleted=0");e.executeSql(n,[],function(e,n){K._docCount=n.rows.item(0).num,t(K._docCount)})}var W,K=this,Q=null,z=T(e),X=[];K._docCount=-1,K._name=e.name;var Y=x(K._name,A,K._name,z);return Y?("function"!=typeof Y.readTransaction&&(Y.readTransaction=Y.transaction),o.isCordova()?window.addEventListener(K._name+"_pouch",function $(){window.removeEventListener(K._name+"_pouch",$,!1),H()},!1):H(),K.type=function(){return"websql"},K._id=o.toPromise(function(e){e(null,Q)}),K._info=function(e){Y.readTransaction(function(t){G(t,function(n){var r="SELECT MAX(seq) AS seq FROM "+p;t.executeSql(r,[],function(t,r){var o=r.rows.item(0).seq||0;e(null,{doc_count:n,update_seq:o,sqlite_plugin:Y._sqlitePlugin,websql_encoding:W})})})},S(e))},K._bulkDocs=function(e,t,n){f(e,t,K,Y,r.Changes,n)},K._get=function(e,t,n){function r(){n(c,{doc:i,metadata:a,ctx:l})}t=o.clone(t);var i,a,c;if(!t.ctx)return void Y.readTransaction(function(r){t.ctx=r,K._get(e,t,n)});var u,f,l=t.ctx;t.rev?(u=E(L,[d,p],d+".id="+p+".doc_id",[p+".doc_id=?",p+".rev=?"]),f=[e,t.rev]):(u=E(L,[d,p],C,d+".id=?"),f=[e]),l.executeSql(u,f,function(e,n){if(!n.rows.length)return c=s.error(s.MISSING_DOC,"missing"),r();var u=n.rows.item(0);return a=o.safeJsonParse(u.metadata),u.deleted&&!t.rev?(c=s.error(s.MISSING_DOC,"deleted"),r()):(i=b(u.data,a.id,u.rev),void r())})},K._allDocs=function(e,t){var r,s=[],a="startkey"in e?e.startkey:!1,c="endkey"in e?e.endkey:!1,u="key"in e?e.key:!1,f="descending"in e?e.descending:!1,l="limit"in e?e.limit:-1,h="skip"in e?e.skip:0,v=e.inclusive_end!==!1,_=[],m=[];if(u!==!1)m.push(d+".id = ?"),_.push(u);else if(a!==!1||c!==!1){if(a!==!1&&(m.push(d+".id "+(f?"<=":">=")+" ?"),_.push(a)),c!==!1){var g=f?">":"<";v&&(g+="="),m.push(d+".id "+g+" ?"),_.push(c)}u!==!1&&(m.push(d+".id = ?"),_.push(u))}"ok"!==e.deleted&&m.push(p+".deleted = 0"),Y.readTransaction(function(t){G(t,function(a){if(r=a,0!==l){var c=E(L,[d,p],C,m,d+".id "+(f?"DESC":"ASC"));c+=" LIMIT "+l+" OFFSET "+h,t.executeSql(c,_,function(t,r){for(var a=0,c=r.rows.length;c>a;a++){var u=r.rows.item(a),f=o.safeJsonParse(u.metadata),l=f.id,d=b(u.data,l,u.rev),p=d._rev,h={id:l,key:l,value:{rev:p}};if(e.include_docs&&(h.doc=d,h.doc._rev=p,e.conflicts&&(h.doc._conflicts=i.collectConflicts(f)),n(h.doc,e,K,t)),u.deleted){if("ok"!==e.deleted)continue;h.value.deleted=!0,h.doc=null}s.push(h)}})}})},S(t),function(){t(null,{total_rows:r,offset:e.skip,rows:s})})},K._changes=function(e){function t(){var t=d+".json AS metadata, "+d+".max_seq AS maxSeq, "+p+".json AS winningDoc, "+p+".rev AS winningRev ",r=d+" JOIN "+p,i=d+".id="+p+".doc_id AND "+d+".winningseq="+p+".seq",l=["maxSeq > ?"],h=[e.since];e.doc_ids&&(l.push(d+".id IN "+g(e.doc_ids.length)),h=h.concat(e.doc_ids));var v="maxSeq "+(s?"DESC":"ASC"),_=E(t,r,i,l,v),m=o.filterChange(e);e.view||e.filter||(_+=" LIMIT "+a);var y=e.since||0;Y.readTransaction(function(t){t.executeSql(_,h,function(t,r){function i(t){return function(){e.onChange(t)}}for(var s=0,l=r.rows.length;l>s;s++){var d=r.rows.item(s),p=o.safeJsonParse(d.metadata);y=d.maxSeq;var h=b(d.winningDoc,p.id,d.winningRev),v=e.processChange(h,p,e);if(v.seq=d.maxSeq,m(v)&&(f++,c&&u.push(v),e.attachments&&e.include_docs?n(h,e,K,t,i(v)):i(v)()),f===a)break}})},S(e.complete),function(){e.continuous||e.complete(null,{results:u,last_seq:y})})}if(e=o.clone(e),e.continuous){var i=K._name+":"+o.uuid();return r.Changes.addListener(K._name,i,K,e),r.Changes.notify(K._name),{cancel:function(){r.Changes.removeListener(K._name,i)}}}var s=e.descending;e.since=e.since&&!s?e.since:0;var a="limit"in e?e.limit:-1;0===a&&(a=1);var c;c="returnDocs"in e?e.returnDocs:!0;var u=[],f=0;t()},K._close=function(e){e()},K._getAttachment=function(e,t,n){var r,i=t.ctx,s=e.digest,c=e.content_type,f="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+h+" WHERE digest=?";i.executeSql(f,[s],function(e,i){var s=i.rows.item(0),f=s.escaped?u.unescapeBlob(s.body):a(s.body,W);t.encode?r=btoa(f):(f=o.fixBinary(f),r=o.createBlob([f],{type:c})),n(null,r)})},K._getRevisionTree=function(e,t){Y.readTransaction(function(n){var r="SELECT json AS metadata FROM "+d+" WHERE id = ?";n.executeSql(r,[e],function(e,n){if(n.rows.length){var r=o.safeJsonParse(n.rows.item(0).metadata);t(null,r.rev_tree)}else t(s.error(s.MISSING_DOC))})})},K._doCompaction=function(e,t,n){return t.length?void Y.transaction(function(n){var r="SELECT json AS metadata FROM "+d+" WHERE id = ?";n.executeSql(r,[e],function(n,r){var s=o.safeJsonParse(r.rows.item(0).metadata);i.traverseRevTree(s.rev_tree,function(e,n,r,o,i){var s=n+"-"+r;-1!==t.indexOf(s)&&(i.status="missing")});var a="UPDATE "+d+" SET json = ? WHERE id = ?";n.executeSql(a,[o.safeJsonStringify(s),e])}),w(t,e,n)},S(n),function(){n()}):n()},K._getLocal=function(e,t){Y.readTransaction(function(n){var r="SELECT json, rev FROM "+v+" WHERE id=?";n.executeSql(r,[e],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=b(o.json,e,o.rev);t(null,i)}else t(s.error(s.MISSING_DOC))})})},K._putLocal=function(e,t,n){function r(e){var r,f;i?(r="UPDATE "+v+" SET rev=?, json=? WHERE id=? AND rev=?",f=[o,u,a,i]):(r="INSERT INTO "+v+" (id, rev, json) VALUES (?,?,?)",f=[a,o,u]),e.executeSql(r,f,function(e,r){r.rowsAffected?(c={ok:!0,id:a,rev:o},t.ctx&&n(null,c)):n(s.error(s.REV_CONFLICT))},function(){return n(s.error(s.REV_CONFLICT)),!1})}"function"==typeof t&&(n=t,t={}),delete e._revisions;var o,i=e._rev,a=e._id;o=e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var c,u=y(e);t.ctx?r(t.ctx):Y.transaction(function(e){r(e)},S(n),function(){c&&n(null,c)})},void(K._removeLocal=function(e,t){var n;Y.transaction(function(r){var o="DELETE FROM "+v+" WHERE id=? AND rev=?",i=[e._id,e._rev];r.executeSql(o,i,function(r,o){return o.rowsAffected?void(n={ok:!0,id:e._id,rev:"0-0"}):t(s.error(s.MISSING_DOC))})},S(t),function(){n&&t(null,n)})})):t(s.error(s.UNKNOWN_ERROR))}var o=e(34),i=e(29),s=e(19),a=e(22),c=e(10),u=e(11),f=e(9),l=c.ADAPTER_VERSION,d=c.DOC_STORE,p=c.BY_SEQ_STORE,h=c.ATTACH_STORE,v=c.LOCAL_STORE,_=c.META_STORE,m=c.ATTACH_AND_SEQ_STORE,g=u.qMarks,y=u.stringifyDoc,b=u.unstringifyDoc,E=u.select,w=u.compactRevs,S=u.unknownError,T=u.getSize,x=u.openDB,A=1,O="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+p+" (seq, deleted)",k="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+p+" (doc_id, rev)",q="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+d+" (winningseq)",R="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+m+" (seq)",D="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+m+" (digest, seq)",C=p+".seq = "+d+".winningseq",L=p+".seq AS seq, "+p+".deleted AS deleted, "+p+".json AS data, "+p+".rev AS rev, "+d+".json AS metadata";r.valid=u.valid,r.destroy=o.toPromise(function(e,t,n){r.Changes.removeAllListeners(e);var i=T(t),s=x(e,A,e,i);s.transaction(function(e){var t=[d,p,h,_,v,m];t.forEach(function(t){e.executeSql("DROP TABLE IF EXISTS "+t,[])})},S(n),function(){o.hasLocalStorage()&&(delete window.localStorage["_pouch__websqldb_"+e],delete window.localStorage[e]),n(null,{ok:!0})})}),r.Changes=new o.Changes,t.exports=r},{}],13:[function(e,t){"use strict";function n(e,t,n){function r(){i.cancel()}a.call(this);var i=this;this.db=e,t=t?o.clone(t):{};var s=n||t.complete||function(){},c=t.complete=o.once(function(t,n){t?i.emit("error",t):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",r)});s&&(i.on("complete",function(e){s(null,e)}),i.on("error",function(e){s(e)}));var u=t.onChange;u&&i.on("change",u),e.once("destroyed",r),t.onChange=function(e){t.isCancelled||(i.emit("change",e),i.startSeq&&i.startSeq<=e.seq&&(i.emit("uptodate"),i.startSeq=!1),e.deleted?i.emit("delete",e):1===e.changes.length&&"1-"===e.changes[0].rev.slice(0,2)?i.emit("create",e):i.emit("update",e))};var f=new o.Promise(function(e,n){t.complete=function(t,r){t?n(t):e(r)}});i.once("cancel",function(){u&&i.removeListener("change",u),t.complete(null,{status:"cancelled"})}),this.then=f.then.bind(f),this["catch"]=f["catch"].bind(f),this.then(function(e){c(null,e)},c),e.taskqueue.isReady?i.doChanges(t):e.taskqueue.addTask(function(){i.isCancelled?i.emit("cancel"):i.doChanges(t)})}function r(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=i.collectLeaves(t.rev_tree).map(function(e){return{rev:e.rev}}));var s={id:t.id,changes:r,doc:e};return o.isDeleted(t,e._rev)&&(s.deleted=!0),n.conflicts&&(s.doc._conflicts=i.collectConflicts(t),s.doc._conflicts.length||delete s.doc._conflicts),s}var o=e(34),i=e(29),s=e(19),a=e(38).EventEmitter,c=e(27),u=e(28);t.exports=n,o.inherits(n,a),n.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},n.prototype.doChanges=function(e){var t=this,n=e.complete;if(e=o.clone(e),"live"in e&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=r,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"===e.since)return void this.db.info().then(function(r){return t.isCancelled?void n(null,{status:"cancelled"}):(e.since=r.update_seq,void t.doChanges(e))},n);if(e.continuous&&"now"!==e.since&&this.db.info().then(function(e){t.startSeq=e.update_seq},function(e){if("idbNull"!==e.id)throw e}),"http"!==this.db.type()&&e.filter&&"string"==typeof e.filter&&!e.doc_ids)return this.filterChanges(e);"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var s=t.cancel;t.cancel=o.getArguments(function(e){i.cancel(),s.apply(this,e)})}},n.prototype.filterChanges=function(e){var t=this,n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=s.error(s.BAD_REQUEST,"`view` filter parameter is not provided.");return void n(r)}var o=e.view.split("/");this.db.get("_design/"+o[0],function(r,i){if(t.isCancelled)return void n(null,{status:"cancelled"});if(r)return void n(s.generateErrorFromResponse(r));if(i&&i.views&&i.views[o[1]]){var a=u(i.views[o[1]].map);return e.filter=a,void t.doChanges(e)}var c=i.views?"missing json key: "+o[1]:"missing json key: views";r||(r=s.error(s.MISSING_DOC,c)),n(r)})}else{var i=e.filter.split("/");this.db.get("_design/"+i[0],function(r,o){if(t.isCancelled)return void n(null,{status:"cancelled"});if(r)return void n(s.generateErrorFromResponse(r));if(o&&o.filters&&o.filters[i[1]]){var a=c(o.filters[i[1]]);return e.filter=a,void t.doChanges(e)}var u=o&&o.filters?"missing json key: "+i[1]:"missing json key: filters";return r||(r=s.error(s.MISSING_DOC,u)),void n(r)})}}},{}],14:[function(e,t){"use strict";function n(e,t,n,r){return e.get(t)["catch"](function(n){if(404===n.status)return"http"===e.type()&&o.explain404("PouchDB is just checking if a remote checkpoint exists."),{_id:t};throw n}).then(function(t){return r.cancelled?void 0:(t.last_seq=n,e.put(t))})}function r(e,t,n,r){this.src=e,this.target=t,this.id=n,this.returnValue=r}var o=e(34),i=e(62),s=i.collate;r.prototype.writeCheckpoint=function(e){var t=this;return this.updateTarget(e).then(function(){return t.updateSource(e)})},r.prototype.updateTarget=function(e){return n(this.target,this.id,e,this.returnValue)},r.prototype.updateSource=function(e){var t=this;return this.readOnlySource?o.Promise.resolve(!0):n(this.src,this.id,e,this.returnValue)["catch"](function(e){var n="number"==typeof e.status&&4===Math.floor(e.status/100);if(n)return t.readOnlySource=!0,!0;throw e})},r.prototype.getCheckpoint=function(){var e=this;return e.target.get(e.id).then(function(t){return e.src.get(e.id).then(function(e){return 0===s(t.last_seq,e.last_seq)?e.last_seq:0},function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then(function(){return 0},function(n){return 401===n.status?(e.readOnlySource=!0,t.last_seq):0});throw n})})["catch"](function(e){if(404!==e.status)throw e;return 0})},t.exports=r},{}],15:[function(e,t){(function(n,r){"use strict";function o(e){e&&r.debug&&console.error(e)}function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);var f=this;("function"==typeof t||"undefined"==typeof t)&&(r=t,t={}),e&&"object"==typeof e&&(t=e,e=void 0),"undefined"==typeof r&&(r=o),t=t||{},this.__opts=t;var l=r;f.auto_compaction=t.auto_compaction,f.prefix=i.prefix,s.call(f),f.taskqueue=new c;var d=new u(function(o,s){r=function(e,t){return e?s(e):(delete t.then,void o(t))},t=a.clone(t);var c,u,l=t.name||e;return function(){try{if("string"!=typeof l)throw u=new Error("Missing/invalid DB name"),u.code=400,u;if(c=i.parseAdapter(l,t),t.originalName=l,t.name=c.name,t.prefix&&"http"!==c.adapter&&"https"!==c.adapter&&(t.name=t.prefix+t.name),t.adapter=t.adapter||c.adapter,f._adapter=t.adapter,f._db_name=l,!i.adapters[t.adapter])throw u=new Error("Adapter is missing"),u.code=404,u;
if(!i.adapters[t.adapter].valid())throw u=new Error("Invalid Adapter"),u.code=404,u}catch(e){f.taskqueue.fail(e),f.changes=a.toPromise(function(t){t.complete&&t.complete(e)})}}(),u?s(u):(f.adapter=t.adapter,f.replicate={},f.replicate.from=function(e,t,n){return f.constructor.replicate(e,f,t,n)},f.replicate.to=function(e,t,n){return f.constructor.replicate(f,e,t,n)},f.sync=function(e,t,n){return f.constructor.sync(f,e,t,n)},f.replicate.sync=f.sync,f.destroy=a.adapterFun("destroy",function(e){var t=this,n=this.__opts||{};t.info(function(r,o){return r?e(r):(n.internal=!0,void t.constructor.destroy(o.db_name,n,e))})}),i.adapters[t.adapter].call(f,t,function(e){function n(e){"destroyed"===e&&(f.emit("destroyed"),i.removeListener(l,n))}return e?void(r&&(f.taskqueue.fail(e),r(e))):(i.on(l,n),f.emit("created",f),i.emit("created",t.originalName),f.taskqueue.ready(f),void r(null,f))}),t.skipSetup&&(f.taskqueue.ready(f),n.nextTick(function(){r(null,f)})),void(a.isCordova()&&cordova.fireWindowEvent(t.name+"_pouch",{})))});d.then(function(e){l(null,e)},l),f.then=d.then.bind(d),f["catch"]=d["catch"].bind(d)}var s=e(1),a=e(34),c=e(33),u=a.Promise;a.inherits(i,s),i.debug=e(40),t.exports=i}).call(this,e(39),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(e,t){(function(n){"use strict";function r(e,t){function r(t,n,r){if(e.binary||e.json||!e.processData||"string"==typeof t){if(!e.binary&&e.json&&"string"==typeof t)try{t=JSON.parse(t)}catch(o){return r(o)}}else t=JSON.stringify(t);Array.isArray(t)&&(t=t.map(function(e){return e.error||e.missing?s.generateErrorFromResponse(e):e})),r(null,t,n)}function c(e,t){var n,r;if(e.code&&e.status){var o=new Error(e.message||e.code);return o.status=e.status,t(o)}try{n=JSON.parse(e.responseText),r=s.generateErrorFromResponse(n)}catch(i){r=s.generateErrorFromResponse(e)}t(r)}function u(){return n.browser?"":new i("","binary")}var f=!1,l=a.getArguments(function(e){f||(t.apply(this,e),f=!0)});"function"==typeof e&&(l=e,e={}),e=a.clone(e);var d={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return e=a.extend(!0,d,e),e.json&&(e.binary||(e.headers.Accept="application/json"),e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json"),e.binary&&(e.encoding=null,e.json=!1),e.processData||(e.json=!1),o(e,function(t,n,o){if(t)return t.status=n?n.statusCode:400,c(t,l);var i,a=n.headers&&n.headers["content-type"],f=o||u();e.binary||!e.json&&e.processData||"object"==typeof f||!(/json/.test(a)||/^[\s]*\{/.test(f)&&/\}[\s]*$/.test(f))||(f=JSON.parse(f)),n.statusCode>=200&&n.statusCode<300?r(f,n,l):(e.binary&&(f=JSON.parse(f.toString())),i=s.generateErrorFromResponse(f),i.status=n.statusCode,l(i))})}var o=e(24),i=e(18),s=e(19),a=e(34);t.exports=r}).call(this,e(39))},{}],17:[function(e,t){(function(e){"use strict";function n(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(r){if("TypeError"!==r.name)throw r;for(var o=e.BlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder||e.WebKitBlobBuilder,i=new o,s=0;s<t.length;s+=1)i.append(t[s]);return i.getBlob(n.type)}}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(e,t){t.exports={}},{}],19:[function(e,t,n){"use strict";function r(e){Error.call(e.reason),this.status=e.status,this.name=e.error,this.message=e.reason,this.error=!0}var o=e(43);o(r,Error),r.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message})},n.UNAUTHORIZED=new r({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),n.MISSING_BULK_DOCS=new r({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),n.MISSING_DOC=new r({status:404,error:"not_found",reason:"missing"}),n.REV_CONFLICT=new r({status:409,error:"conflict",reason:"Document update conflict"}),n.INVALID_ID=new r({status:400,error:"invalid_id",reason:"_id field must contain a string"}),n.MISSING_ID=new r({status:412,error:"missing_id",reason:"_id is required for puts"}),n.RESERVED_ID=new r({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),n.NOT_OPEN=new r({status:412,error:"precondition_failed",reason:"Database not open"}),n.UNKNOWN_ERROR=new r({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),n.BAD_ARG=new r({status:500,error:"badarg",reason:"Some query argument is invalid"}),n.INVALID_REQUEST=new r({status:400,error:"invalid_request",reason:"Request was invalid"}),n.QUERY_PARSE_ERROR=new r({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),n.DOC_VALIDATION=new r({status:500,error:"doc_validation",reason:"Bad special document member"}),n.BAD_REQUEST=new r({status:400,error:"bad_request",reason:"Something wrong with the request"}),n.NOT_AN_OBJECT=new r({status:400,error:"bad_request",reason:"Document must be a JSON object"}),n.DB_MISSING=new r({status:404,error:"not_found",reason:"Database not found"}),n.IDB_ERROR=new r({status:500,error:"indexed_db_went_bad",reason:"unknown"}),n.WSQ_ERROR=new r({status:500,error:"web_sql_went_bad",reason:"unknown"}),n.LDB_ERROR=new r({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),n.FORBIDDEN=new r({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),n.INVALID_REV=new r({status:400,error:"bad_request",reason:"Invalid rev format"}),n.FILE_EXISTS=new r({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),n.MISSING_STUB=new r({status:412,error:"missing_stub"}),n.error=function(e,t,n){function o(t){for(var r in e)"function"!=typeof e[r]&&(this[r]=e[r]);void 0!==n&&(this.name=n),void 0!==t&&(this.reason=t)}return o.prototype=r.prototype,new o(t)},n.getErrorTypeByProp=function(e,t,r){var o=n,i=Object.keys(o).filter(function(n){var r=o[n];return"function"!=typeof r&&r[e]===t}),s=r&&i.filter(function(e){var t=o[e];return t.message===r})[0]||i[0];return s?o[s]:null},n.generateErrorFromResponse=function(e){var t,r,o,i,s,a=n;return r=e.error===!0&&"string"==typeof e.name?e.name:e.error,s=e.reason,o=a.getErrorTypeByProp("name",r,s),e.missing||"missing"===s||"deleted"===s||"not_found"===r?o=a.MISSING_DOC:"doc_validation"===r?(o=a.DOC_VALIDATION,i=s):"bad_request"===r&&o.message!==s&&(0===s.indexOf("unknown stub attachment")?(o=a.MISSING_STUB,i=s):o=a.BAD_REQUEST),o||(o=a.getErrorTypeByProp("status",e.status,s)||a.UNKNOWN_ERROR),t=a.error(o,s,r),i&&(t.message=i),e.id&&(t.id=e.id),e.status&&(t.status=e.status),e.statusText&&(t.name=e.statusText),e.missing&&(t.missing=e.missing),t}},{}],20:[function(e,t){(function(n,r){"use strict";function o(e,t,n){if("function"==typeof e.slice)return t||n?n?e.slice(t,n):e.slice(t):e.slice();t=Math.floor(t||0),n=Math.floor(n||0);var r=e.byteLength;if(t=0>t?Math.max(t+r,0):Math.min(r,t),n=0>n?Math.max(n+r,0):Math.min(r,n),0>=n-t)return new ArrayBuffer(0);var o=new ArrayBuffer(n-t),i=new Uint8Array(o),s=new Uint8Array(e,t,n-t);return i.set(s),o}function i(e){var t=[255&e,e>>>8&255,e>>>16&255,e>>>24&255];return t.map(function(e){return String.fromCharCode(e)}).join("")}function s(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n]);return btoa(t)}var a=e(37),c=e(73),u=r.setImmediate||r.setTimeout,f=32768;t.exports=function(e,t){function r(e,t,n,r){d?e.appendBinary(t.substring(n,r)):e.append(o(t,n,r))}function i(){var n=_*h,o=n+h;if(_++,v>_)r(m,e,n,o),u(i);else{r(m,e,n,o);var a=m.end(!0),c=s(a);t(null,c),m.destroy()}}if(!n.browser){var l=a.createHash("md5").update(e).digest("base64");return void t(null,l)}var d="string"==typeof e,p=d?e.length:e.byteLength,h=Math.min(f,p),v=Math.ceil(p/h),_=0,m=d?new c:new c.ArrayBuffer;i()}}).call(this,e(39),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(e,t,n){"use strict";function r(e){return e.reduce(function(e,t){return e[t]=!0,e},{})}function o(e){if(!/^\d+\-./.test(e))return s.error(s.INVALID_REV);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function i(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,o=[r[0],t,[]],i=1,s=r.length;s>i;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}var s=e(19),a=e(26),c=r(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),u=r(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);n.invalidIdError=function(e){var t;if(e?"string"!=typeof e?t=s.error(s.INVALID_ID):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=s.error(s.RESERVED_ID)):t=s.error(s.MISSING_ID),t)throw t},n.parseDoc=function(e,t){var r,f,l,d={status:"available"};if(e._deleted&&(d.deleted=!0),t)if(e._id||(e._id=a()),f=a(32,16).toLowerCase(),e._rev){if(l=o(e._rev),l.error)return l;e._rev_tree=[{pos:l.prefix,ids:[l.id,{status:"missing"},[[f,d,[]]]]}],r=l.prefix+1}else e._rev_tree=[{pos:1,ids:[f,d,[]]}],r=1;else if(e._revisions&&(e._rev_tree=i(e._revisions,d),r=e._revisions.start,f=e._revisions.ids[0]),!e._rev_tree){if(l=o(e._rev),l.error)return l;r=l.prefix,f=l.id,e._rev_tree=[{pos:r,ids:[f,d,[]]}]}n.invalidIdError(e._id),e._rev=r+"-"+f;var p={metadata:{},data:{}};for(var h in e)if(e.hasOwnProperty(h)){var v="_"===h[0];if(v&&!c[h]){var _=s.error(s.DOC_VALIDATION,h);throw _.message=s.DOC_VALIDATION.message+": "+h,_}v&&!u[h]?p.metadata[h.slice(1)]=e[h]:p.data[h]=e[h]}return p}},{}],22:[function(e,t){"use strict";function n(e){return decodeURIComponent(window.escape(e))}function r(e){return 65>e?e-48:e-55}function o(e,t,n){for(var o="";n>t;)o+=String.fromCharCode(r(e.charCodeAt(t++))<<4|r(e.charCodeAt(t++)));return o}function i(e,t,n){for(var o="";n>t;)o+=String.fromCharCode(r(e.charCodeAt(t+2))<<12|r(e.charCodeAt(t+3))<<8|r(e.charCodeAt(t))<<4|r(e.charCodeAt(t+1))),t+=4;return o}function s(e,t){return"UTF-8"===t?n(o(e,0,e.length)):i(e,0,e.length)}t.exports=s},{}],23:[function(e,t){"use strict";function n(e){for(var t=r,n=t.parser[t.strictMode?"strict":"loose"].exec(e),o={},i=14;i--;){var s=t.key[i],a=n[i]||"",c=-1!==["user","password"].indexOf(s);o[s]=c?decodeURIComponent(a):a}return o[t.q.name]={},o[t.key[12]].replace(t.q.parser,function(e,n,r){n&&(o[t.q.name][n]=r)}),o}var r={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};t.exports=n},{}],24:[function(e,t){"use strict";var n=e(17),r=e(34);t.exports=function(e,t){var o,i,s,a=function(){o.abort()};if(o=e.xhr?new e.xhr:new XMLHttpRequest,"GET"===e.method&&!e.cache){var c=-1!==e.url.indexOf("?");e.url+=(c?"&":"?")+"_nonce="+Date.now()}o.open(e.method,e.url),o.withCredentials=!0,e.json&&(e.headers.Accept="application/json",e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.body&&e.processData&&"string"!=typeof e.body&&(e.body=JSON.stringify(e.body))),e.binary&&(o.responseType="arraybuffer"),"body"in e||(e.body=null);for(var u in e.headers)e.headers.hasOwnProperty(u)&&o.setRequestHeader(u,e.headers[u]);return e.timeout>0&&(i=setTimeout(a,e.timeout),o.onprogress=function(){clearTimeout(i),i=setTimeout(a,e.timeout)},"undefined"==typeof s&&(s=-1!==Object.keys(o).indexOf("upload")),s&&(o.upload.onprogress=o.onprogress)),o.onreadystatechange=function(){if(4===o.readyState){var r={statusCode:o.status};if(o.status>=200&&o.status<300){var i;i=e.binary?n([o.response||""],{type:o.getResponseHeader("Content-Type")}):o.responseText,t(null,r,i)}else{var s={};try{s=JSON.parse(o.response)}catch(a){}t(s,r)}}},e.body&&e.body instanceof Blob?r.readAsBinaryString(e.body,function(e){o.send(r.fixBinary(e))}):o.send(e.body),{abort:a}}},{}],25:[function(e,t){"use strict";var n=e(72).upsert;t.exports=function(e,t,r,o){return n.call(e,t,r,o)}},{}],26:[function(e,t){"use strict";function n(e){return 0|Math.random()*e}function r(e,t){t=t||o.length;var r="",i=-1;if(e){for(;++i<e;)r+=o[n(t)];return r}for(;++i<36;)switch(i){case 8:case 13:case 18:case 23:r+="-";break;case 19:r+=o[3&n(16)|8];break;default:r+=o[n(16)]}return r}var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");t.exports=r},{}],27:[function(_dereq_,module,exports){"use strict";function evalFilter(input){return eval(["(function () { return ",input," })()"].join(""))}module.exports=evalFilter},{}],28:[function(_dereq_,module,exports){"use strict";function evalView(input){return eval(["(function () {","  return function (doc) {","    var emitted = false;","    var emit = function (a, b) {","      emitted = true;","    };","    var view = "+input+";","    view(doc);","    if (emitted) {","      return true;","    }","  }","})()"].join("\n"))}module.exports=evalView},{}],29:[function(e,t){"use strict";function n(e,t,n){for(var r,o=0,i=e.length;i>o;)r=o+i>>>1,n(e[r],t)<0?o=r+1:i=r;return o}function r(e,t,r){var o=n(e,t,r);e.splice(o,0,t)}function o(e){for(var t,n=e.shift(),r=[n.id,n.opts,[]],o=r;e.length;)n=e.shift(),t=[n.id,n.opts,[]],o[2].push(t),o=t;return r}function i(e,t){return e[0]<t[0]?-1:1}function s(e,t){for(var n=[{tree1:e,tree2:t}],o=!1;n.length>0;){var s=n.pop(),a=s.tree1,c=s.tree2;(a[1].status||c[1].status)&&(a[1].status="available"===a[1].status||"available"===c[1].status?"available":"missing");for(var u=0;u<c[2].length;u++)if(a[2][0]){for(var f=!1,l=0;l<a[2].length;l++)a[2][l][0]===c[2][u][0]&&(n.push({tree1:a[2][l],tree2:c[2][u]}),f=!0);f||(o="new_branch",r(a[2],c[2][u],i))}else o="new_leaf",a[2][0]=c[2][u]}return{conflicts:o,tree:e}}function a(e,t,n){var r,o=[],i=!1,a=!1;return e.length?(e.forEach(function(e){if(e.pos===t.pos&&e.ids[0]===t.ids[0])r=s(e.ids,t.ids),o.push({pos:e.pos,ids:r.tree}),i=i||r.conflicts,a=!0;else if(n!==!0){var c=e.pos<t.pos?e:t,u=e.pos<t.pos?t:e,f=u.pos-c.pos,l=[],d=[];for(d.push({ids:c.ids,diff:f,parent:null,parentIdx:null});d.length>0;){var p=d.pop();0!==p.diff?p.ids&&p.ids[2].forEach(function(e,t){d.push({ids:e,diff:p.diff-1,parent:p.ids,parentIdx:t})}):p.ids[0]===u.ids[0]&&l.push(p)}var h=l[0];h?(r=s(h.ids,u.ids),h.parent[2][h.parentIdx]=r.tree,o.push({pos:c.pos,ids:c.ids}),i=i||r.conflicts,a=!0):o.push(e)}else o.push(e)}),a||o.push(t),o.sort(function(e,t){return e.pos-t.pos}),{tree:o,conflicts:i||"internal_node"}):{tree:[t],conflicts:"new_leaf"}}function c(e,t){var n=f.rootToLeaf(e).map(function(e){var n=e.ids.slice(-t);return{pos:e.pos+(e.ids.length-n.length),ids:o(n)}});return n.reduce(function(e,t){return a(e,t,!0).tree},[n.shift()])}var u=e(65),f={};f.merge=function(e,t,n){e=u(!0,[],e),t=u(!0,{},t);var r=a(e,t);return{tree:c(r.tree,n),conflicts:r.conflicts}},f.winningRev=function(e){var t=[];return f.traverseRevTree(e.rev_tree,function(e,n,r,o,i){e&&t.push({pos:n,id:r,deleted:!!i.deleted})}),t.sort(function(e,t){return e.deleted!==t.deleted?e.deleted>t.deleted?1:-1:e.pos!==t.pos?t.pos-e.pos:e.id<t.id?1:-1}),t[0].pos+"-"+t[0].id},f.traverseRevTree=function(e,t){for(var n,r=e.slice();n=r.pop();)for(var o=n.pos,i=n.ids,s=i[2],a=t(0===s.length,o,i[0],n.ctx,i[1]),c=0,u=s.length;u>c;c++)r.push({pos:o+1,ids:s[c],ctx:a})},f.collectLeaves=function(e){var t=[];return f.traverseRevTree(e,function(e,n,r,o,i){e&&t.push({rev:n+"-"+r,pos:n,opts:i})}),t.sort(function(e,t){return t.pos-e.pos}),t.forEach(function(e){delete e.pos}),t},f.collectConflicts=function(e){var t=f.winningRev(e),n=f.collectLeaves(e.rev_tree),r=[];return n.forEach(function(e){e.rev===t||e.opts.deleted||r.push(e.rev)}),r},f.rootToLeaf=function(e){var t=[];return f.traverseRevTree(e,function(e,n,r,o,i){if(o=o?o.slice(0):[],o.push({id:r,opts:i}),e){var s=n+1-o.length;t.unshift({pos:s,ids:o})}return o}),t},t.exports=f},{}],30:[function(e,t,n){"use strict";function r(e,t){e=parseInt(e,10),t=parseInt(t,10),e!==e&&(e=0),t!==t||e>=t?t=(e||1)<<1:t+=1;var n=Math.random(),r=t-e;return~~(r*n+e)}function o(e){var t=0;return e||(t=2e3),r(e,t)}function i(e,t,n,r,i,s,a){return r.retry===!1?(i.emit("error",a),void i.removeAllListeners()):(r.default_back_off=r.default_back_off||0,r.retries=r.retries||0,"function"!=typeof r.back_off_function&&(r.back_off_function=o),r.retries++,r.max_retries&&r.retries>r.max_retries?(i.emit("error",new Error("tried "+r.retries+" times but replication failed")),void i.removeAllListeners()):(i.emit("requestError",a),"active"===i.state&&(i.emit("paused",a),i.state="stopped",i.once("active",function(){r.current_back_off=r.default_back_off})),r.current_back_off=r.current_back_off||r.default_back_off,r.current_back_off=r.back_off_function(r.current_back_off),void setTimeout(function(){c(e,t,n,r,i)},r.current_back_off)))}function s(){d.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new l.Promise(function(t,n){e.once("complete",t),e.once("error",n)});e.then=function(e,n){return t.then(e,n)},e["catch"]=function(e){return t["catch"](e)},e["catch"](function(){})}function a(e,t,n){var r=n.filter?n.filter.toString():"";return e.id().then(function(e){return t.id().then(function(t){var o=e+t+r+JSON.stringify(n.query_params)+n.doc_ids;return l.MD5(o).then(function(e){return e=e.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+e})})})}function c(e,t,n,r,o,s){function a(){if(0!==A.docs.length){var e=A.docs;return n.bulkDocs({docs:e,new_edits:!1}).then(function(t){if(F.cancelled)throw b(),new Error("cancelled");var n=[],r={};t.forEach(function(e){e.error&&(s.doc_write_failures++,n.push(e),r[e.id]=e)}),s.errors=n,P=P.concat(n),s.docs_written+=A.docs.length-n.length;var i=n.filter(function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name});if(U=[],e.forEach(function(e){var t=r[e._id];t?o.emit("denied",l.clone(t)):U.push(e)}),i.length>0){var a=new Error("bulkDocs error");throw a.other_errors=n,y("target.bulkDocs failed to write docs",a),new Error("bulkWrite partial failure")}},function(t){throw s.doc_write_failures+=e.length,t})}}function c(e){for(var n=A.diffs,r=n[e].missing,o=[],i=0;i<r.length;i+=h)o.push(r.slice(i,Math.min(r.length,i+h)));return l.Promise.all(o.map(function(r){var o={revs:!0,open_revs:r,attachments:!0};return t.get(e,o).then(function(t){t.forEach(function(e){return F.cancelled?b():void(e.ok&&(s.docs_read++,A.pendingRevs++,A.docs.push(e.ok)))}),delete n[e]})}))}function u(){var e=Object.keys(A.diffs);return l.Promise.all(e.map(c))}function f(){var e=Object.keys(A.diffs).filter(function(e){var t=A.diffs[e].missing;return 1===t.length&&"1-"===t[0].slice(0,2)});return e.length?t.allDocs({keys:e,include_docs:!0}).then(function(e){if(F.cancelled)throw b(),new Error("cancelled");e.rows.forEach(function(e){!e.doc||e.deleted||"1-"!==e.value.rev.slice(0,2)||e.doc._attachments&&0!==Object.keys(e.doc._attachments).length||(s.docs_read++,A.pendingRevs++,A.docs.push(e.doc),delete A.diffs[e.id])})}):l.Promise.resolve()}function d(){return f().then(u)}function v(){return q=!0,M.writeCheckpoint(A.seq).then(function(){if(q=!1,F.cancelled)throw b(),new Error("cancelled");s.last_seq=C=A.seq;var e=l.clone(s);e.docs=U,o.emit("change",e),A=void 0,T()})["catch"](function(e){throw q=!1,y("writeCheckpoint completed with error",e),e})}function _(){var e={};return A.changes.forEach(function(t){e[t.id]=t.changes.map(function(e){return e.rev})}),n.revsDiff(e).then(function(e){if(F.cancelled)throw b(),new Error("cancelled");A.diffs=e,A.pendingRevs=0})}function m(){if(!F.cancelled&&!A){if(0===O.length)return void g(!0);A=O.shift(),_().then(d).then(a).then(v).then(m)["catch"](function(e){y("batch processing terminated with error",e)})}}function g(e){return 0===k.changes.length?void(0!==O.length||A||((L&&J.live||R)&&(o.emit("paused"),o.emit("uptodate",s)),R&&b())):void((e||R||k.changes.length>=I)&&(O.push(k),k={seq:0,changes:[],docs:[]},m()))}function y(e,t){D||(t.message||(t.message=e),s.ok=!1,s.status="aborting",s.errors.push(t),P=P.concat(t),O=[],k={seq:0,changes:[],docs:[]},b())}function b(){if(!(D||F.cancelled&&(s.status="cancelled",q))){s.status=s.status||"complete",s.end_time=new Date,s.last_seq=C,D=F.cancelled=!0;var a=P.filter(function(e){return"unauthorized"!==e.name&&"forbidden"!==e.name});if(a.length>0){var c=P.pop();P.length>0&&(c.other_errors=P),c.result=s,i(e,t,n,r,o,s,c)}else s.errors=P,o.emit("complete",s),o.removeAllListeners()}}function E(e){if(F.cancelled)return b();var t=l.filterChange(r)(e);t&&(0!==k.changes.length||0!==O.length||A||o.emit("outofdate",s),k.seq=e.seq,k.changes.push(e),g(0===O.length))}function w(e){return j=!1,F.cancelled?b():(e.results.length>0?(J.since=e.last_seq,T()):L?(J.live=!0,T()):R=!0,void g(!0))}function S(e){return j=!1,F.cancelled?b():void y("changes rejected",e)}function T(){function e(){r.cancel()}function n(){o.removeListener("cancel",e)}if(!j&&!R&&O.length<N){j=!0,o.once("cancel",e);var r=t.changes(J).on("change",E);r.then(n,n),r.then(w)["catch"](S)}}function x(){M.getCheckpoint().then(function(e){C=e,J={since:C,limit:I,batch_size:I,style:"all_docs",doc_ids:B,returnDocs:!0},r.filter&&(J.include_docs=!0),r.query_params&&(J.query_params=r.query_params),T()})["catch"](function(e){y("getCheckpoint rejected with ",e)})}var A,O=[],k={seq:0,changes:[],docs:[]},q=!1,R=!1,D=!1,C=0,L=r.continuous||r.live||!1,I=r.batch_size||100,N=r.batches_limit||10,j=!1,B=r.doc_ids,F={cancelled:!1},M=new p(t,n,e,F),P=[],U=[];s=s||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var J={};o.ready(t,n),o.once("cancel",b),"function"==typeof r.onChange&&o.on("change",r.onChange),"function"==typeof r.complete&&(o.once("error",r.complete),o.once("complete",function(e){r.complete(null,e)})),"undefined"==typeof r.since?x():(q=!0,M.writeCheckpoint(r.since).then(function(){return q=!1,F.cancelled?void b():(C=r.since,void x())})["catch"](function(e){throw q=!1,y("writeCheckpoint completed with error",e),e}))}function u(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e):e.then?e:l.Promise.resolve(e)}function f(e,t,n,r){"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.complete||(n.complete=r||function(){}),n=l.clone(n),n.continuous=n.continuous||n.live,n.retry="retry"in n?n.retry:v,n.PouchConstructor=n.PouchConstructor||this;var o=new s(n);return u(e,n).then(function(e){return u(t,n).then(function(t){return a(e,t,n).then(function(r){c(r,e,t,n,o)})})})["catch"](function(e){o.emit("error",e),n.complete(e)}),o}var l=e(34),d=e(38).EventEmitter,p=e(14),h=50,v=!1;l.inherits(s,d),s.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},s.prototype.ready=function(e,t){function n(){o.cancel()}function r(){e.removeListener("destroyed",n),t.removeListener("destroyed",n)}var o=this;this.once("change",function(){("pending"===this.state||"stopped"===this.state)&&(o.state="active",o.emit("active"))}),e.once("destroyed",n),t.once("destroyed",n),this.then(r,r)},n.toPouch=u,n.replicate=f},{}],31:[function(e,t){"use strict";var n=e(15),r=e(34),o=r.Promise,i=e(38).EventEmitter;n.adapters={},n.preferredAdapters=e(8),n.prefix="_pouch_";var s=new i,a=["on","addListener","emit","listeners","once","removeAllListeners","removeListener","setMaxListeners"];a.forEach(function(e){n[e]=s[e].bind(s)}),n.setMaxListeners(0),n.parseAdapter=function(e,t){var o,i,s=e.match(/([a-z\-]*):\/\/(.*)/);if(s){if(e=/http(s?)/.test(s[1])?s[1]+"://"+s[2]:s[2],o=s[1],!n.adapters[o].valid())throw"Invalid adapter";return{name:e,adapter:s[1]}}var a="idb"in n.adapters&&"websql"in n.adapters&&r.hasLocalStorage()&&localStorage["_pouch__websqldb_"+n.prefix+e];if("undefined"!=typeof t&&t.db)i="leveldb";else for(var c=0;c<n.preferredAdapters.length;++c)if(i=n.preferredAdapters[c],i in n.adapters){if(a&&"idb"===i)continue;break}if(o=n.adapters[i],i&&o){var u="use_prefix"in o?o.use_prefix:!0;return{name:u?n.prefix+e:e,adapter:i}}throw"No valid adapter found"},n.destroy=r.toPromise(function(e,t,i){function s(){u.destroy(d,t,function(t,r){t?i(t):(n.emit("destroyed",e),n.emit(e,"destroyed"),i(null,r||{ok:!0}))})}("function"==typeof t||"undefined"==typeof t)&&(i=t,t={}),e&&"object"==typeof e&&(t=e,e=void 0),t.internal||console.log("PouchDB.destroy() is deprecated and will be removed. Please use db.destroy() instead.");var a=n.parseAdapter(t.name||e,t),c=a.name,u=n.adapters[a.adapter],f="use_prefix"in u?u.use_prefix:!0,l=f?c.replace(new RegExp("^"+n.prefix),""):c,d=("http"===a.adapter||"https"===a.adapter?"":t.prefix||"")+c,p=r.extend(!0,{},t,{adapter:a.adapter});new n(l,p,function(e,a){return e?i(e):void a.get("_local/_pouch_dependentDbs",function(e,c){if(e)return 404!==e.status?i(e):s();var u=c.dependentDbs,l=Object.keys(u).map(function(e){var o=f?e.replace(new RegExp("^"+n.prefix),""):e,i=r.extend(!0,t,a.__opts||{});return a.constructor.destroy(o,i)});o.all(l).then(s,function(e){i(e)})})})}),n.adapter=function(e,t){t.valid()&&(n.adapters[e]=t)},n.plugin=function(e){Object.keys(e).forEach(function(t){n.prototype[t]=e[t]})},n.defaults=function(e){function t(t,o,i){("function"==typeof o||"undefined"==typeof o)&&(i=o,o={}),t&&"object"==typeof t&&(o=t,t=void 0),o=r.extend(!0,{},e,o),n.call(this,t,o,i)}return r.inherits(t,n),t.destroy=r.toPromise(function(t,o,i){return("function"==typeof o||"undefined"==typeof o)&&(i=o,o={}),t&&"object"==typeof t&&(o=t,t=void 0),o=r.extend(!0,{},e,o),n.destroy(t,o,i)}),a.forEach(function(e){t[e]=s[e].bind(s)}),t.setMaxListeners(0),t.preferredAdapters=n.preferredAdapters.slice(),Object.keys(n).forEach(function(e){e in t||(t[e]=n[e])}),t},t.exports=n},{}],32:[function(e,t){"use strict";function n(e,t,n,s){return"function"==typeof n&&(s=n,n={}),"undefined"==typeof n&&(n={}),n=o.clone(n),n.PouchConstructor=n.PouchConstructor||this,e=i.toPouch(e,n),t=i.toPouch(t,n),new r(e,t,n,s)}function r(e,t,n,r){function i(e){v||(v=!0,d.emit("cancel",e))}function a(e){d.emit("change",{direction:"pull",change:e})}function c(e){d.emit("change",{direction:"push",change:e})}function u(e){d.emit("denied",{direction:"push",doc:e})}function f(e){d.emit("denied",{direction:"pull",doc:e})}function l(e){return function(t,n){var r="change"===t&&(n===a||n===c),o="cancel"===t&&n===i,s=t in _&&n===_[t];(r||o||s)&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&d.removeAllListeners(t))}}var d=this;this.canceled=!1;var p,h;"onChange"in n&&(p=n.onChange,delete n.onChange),"function"!=typeof r||n.complete?"complete"in n&&(h=n.complete,delete n.complete):h=r,this.push=s(e,t,n),this.pull=s(t,e,n);var v=!1,_={},m={};n.live&&(this.push.on("complete",d.pull.cancel.bind(d.pull)),this.pull.on("complete",d.push.cancel.bind(d.push))),this.on("newListener",function(e){"change"===e?(d.pull.on("change",a),d.push.on("change",c)):"denied"===e?(d.pull.on("denied",f),d.push.on("denied",u)):"cancel"===e?(d.pull.on("cancel",i),d.push.on("cancel",i)):"error"===e||"removeListener"===e||"complete"===e||e in _||(_[e]=function(t){d.emit(e,t)},d.pull.on(e,_[e]),d.push.on(e,_[e]))}),this.on("removeListener",function(e){"change"===e?(d.pull.removeListener("change",a),d.push.removeListener("change",c)):"cancel"===e?(d.pull.removeListener("cancel",i),d.push.removeListener("cancel",i)):e in _&&"function"==typeof _[e]&&(d.pull.removeListener(e,_[e]),d.push.removeListener(e,_[e]),delete _[e])}),this.pull.on("removeListener",l("pull")),this.push.on("removeListener",l("push"));var g=o.Promise.all([this.push,this.pull]).then(function(e){var t={push:e[0],pull:e[1]};return d.emit("complete",t),h&&h(null,t),d.removeAllListeners(),t},function(e){throw d.cancel(),d.emit("error",e),h&&h(e),d.removeAllListeners(),e});this.then=function(e,t){return g.then(e,t)},this["catch"]=function(e){return g["catch"](e)}}var o=e(34),i=e(30),s=i.replicate,a=e(38).EventEmitter;o.inherits(r,a),t.exports=n,r.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}},{}],33:[function(e,t){"use strict";function n(){this.isReady=!1,this.failed=!1,this.queue=[]}t.exports=n,n.prototype.execute=function(){var e,t;if(this.failed)for(;e=this.queue.shift();)"function"!=typeof e?(t=e.parameters[e.parameters.length-1],"function"==typeof t?t(this.failed):"changes"===e.name&&"function"==typeof t.complete&&t.complete(this.failed)):e(this.failed);else if(this.isReady)for(;e=this.queue.shift();)"function"==typeof e?e():e.task=this.db[e.name].apply(this.db,e.parameters)},n.prototype.fail=function(e){this.failed=e,this.execute()},n.prototype.ready=function(e){return this.failed?!1:0===arguments.length?this.isReady:(this.isReady=e?!0:!1,this.db=e,void this.execute())},n.prototype.addTask=function(e,t){if("function"!=typeof e){var n={name:e,parameters:t};return this.queue.push(n),this.failed&&this.execute(),n}this.queue.push(e),this.failed&&this.execute()}},{}],34:[function(e,t,n){(function(t,r){function o(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function i(){if(!(this instanceof i))return new i;var e=this;u.call(this),this.isChrome=o(),this.listeners={},this.hasLocal=!1,this.isChrome||(this.hasLocal=n.hasLocalStorage()),this.isChrome?chrome.storage.onChanged.addListener(function(t){null!=t.db_name&&e.emit(t.dbName.newValue)}):this.hasLocal&&("undefined"!=typeof addEventListener?addEventListener("storage",function(t){e.emit(t.key)}):window.attachEvent("storage",function(t){e.emit(t.key)}))}var s=e(29);n.extend=e(65),n.ajax=e(16),n.createBlob=e(17),n.uuid=e(26),n.getArguments=e(36);var a=e(18),c=e(19),u=e(38).EventEmitter,f=e(64);n.Map=f.Map,n.Set=f.Set;var l=e(21);n.Promise="function"==typeof r.Promise?r.Promise:e(47);var d=n.Promise;n.lastIndexOf=function(e,t){for(var n=e.length-1;n>=0;n--)if(e.charAt(n)===t)return n;return-1},n.clone=function(e){return n.extend(!0,{},e)},n.pick=function(e,t){for(var n={},r=0,o=t.length;o>r;r++){var i=t[r];n[i]=e[i]}return n},n.inherits=e(43),n.call=n.getArguments(function(e){if(e.length){var t=e.shift();"function"==typeof t&&t.apply(this,e)}}),n.isLocalId=function(e){return/^_local/.test(e)},n.isDeleted=function(e,t){t||(t=s.winningRev(e));var n=t.indexOf("-");-1!==n&&(t=t.substring(n+1));var r=!1;return s.traverseRevTree(e.rev_tree,function(e,n,o,i,s){o===t&&(r=!!s.deleted)}),r},n.revExists=function(e,t){var n=!1;return s.traverseRevTree(e.rev_tree,function(e,r,o){r+"-"+o===t&&(n=!0)}),n},n.filterChange=function(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){if(e.filter&&n&&!e.filter.call(this,r.doc,t))return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}},n.parseDoc=l.parseDoc,n.invalidIdError=l.invalidIdError,n.isCordova=function(){return"undefined"!=typeof cordova||"undefined"!=typeof PhoneGap||"undefined"!=typeof phonegap},n.hasLocalStorage=function(){if(o())return!1;try{return localStorage}catch(e){return!1}},n.Changes=i,n.inherits(i,u),i.prototype.addListener=function(e,r,o,i){function s(){if(a.listeners[r]){if(c)return void(c="waiting");c=!0,o.changes({style:i.style,include_docs:i.include_docs,attachments:i.attachments,conflicts:i.conflicts,continuous:!1,descending:!1,filter:i.filter,doc_ids:i.doc_ids,view:i.view,since:i.since,query_params:i.query_params}).on("change",function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,n.call(i.onChange,e))}).on("complete",function(){"waiting"===c&&t.nextTick(function(){a.notify(e)}),c=!1}).on("error",function(){c=!1})}}if(!this.listeners[r]){var a=this,c=!1;this.listeners[r]=s,this.on(e,s)
}},i.prototype.removeListener=function(e,t){t in this.listeners&&u.prototype.removeListener.call(this,e,this.listeners[t])},i.prototype.notifyLocalWindows=function(e){this.isChrome?chrome.storage.local.set({dbName:e}):this.hasLocal&&(localStorage[e]="a"===localStorage[e]?"b":"a")},i.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},n.atob="function"==typeof atob?function(e){return atob(e)}:function(e){var t=new a(e,"base64");if(t.toString("base64")!==e)throw"Cannot base64 encode full string";return t.toString("binary")},n.btoa="function"==typeof btoa?function(e){return btoa(e)}:function(e){return new a(e,"binary").toString("base64")},n.fixBinary=function(e){if(!t.browser)return e;for(var n=e.length,r=new ArrayBuffer(n),o=new Uint8Array(r),i=0;n>i;i++)o[i]=e.charCodeAt(i);return r},n.readAsBinaryString=function(e,t){var r=new FileReader,o="function"==typeof r.readAsBinaryString;r.onloadend=function(e){var r=e.target.result||"";return o?t(r):void t(n.arrayBufferToBinaryString(r))},o?r.readAsBinaryString(e):r.readAsArrayBuffer(e)},n.readAsArrayBuffer=function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)},n.once=function(e){var t=!1;return n.getArguments(function(n){if(t)throw new Error("once called  more than once");t=!0,e.apply(this,n)})},n.toPromise=function(e){return n.getArguments(function(r){var o,i=this,s="function"==typeof r[r.length-1]?r.pop():!1;s&&(o=function(e,n){t.nextTick(function(){s(e,n)})});var a=new d(function(t,o){var s;try{var a=n.once(function(e,n){e?o(e):t(n)});r.push(a),s=e.apply(i,r),s&&"function"==typeof s.then&&t(s)}catch(c){o(c)}});return o&&a.then(function(e){o(null,e)},o),a.cancel=function(){return this},a})},n.adapterFun=function(t,r){function o(e,t,n){if(i.enabled){for(var r=[e._db_name,t],o=0;o<n.length-1;o++)r.push(n[o]);i.apply(null,r);var s=n[n.length-1];n[n.length-1]=function(n,r){var o=[e._db_name,t];o=o.concat(n?["error",n]:["success",r]),i.apply(null,o),s(n,r)}}}var i=e(40)("pouchdb:api");return n.toPromise(n.getArguments(function(e){if(this._closed)return d.reject(new Error("database is closed"));var i=this;return o(i,t,e),this.taskqueue.isReady?r.apply(this,e):new n.Promise(function(n,r){i.taskqueue.addTask(function(o){o?r(o):n(i[t].apply(i,e))})})}))},n.arrayBufferToBinaryString=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;r>o;o++)t+=String.fromCharCode(n[o]);return t},n.cancellableFun=function(e,t,r){r=r?n.clone(!0,{},r):{};var o=new u,i=r.complete||function(){},s=r.complete=n.once(function(e,t){e?i(e):(o.emit("end",t),i(null,t)),o.removeAllListeners()}),a=r.onChange||function(){},c=0;t.on("destroyed",function(){o.removeAllListeners()}),r.onChange=function(e){a(e),e.seq<=c||(c=e.seq,o.emit("change",e),e.deleted?o.emit("delete",e):1===e.changes.length&&"1-"===e.changes[0].rev.slice(0,1)?o.emit("create",e):o.emit("update",e))};var f=new d(function(e,t){r.complete=function(n,r){n?t(n):e(r)}});return f.then(function(e){s(null,e)},s),f.cancel=function(){f.isCancelled=!0,t.taskqueue.isReady&&r.complete(null,{status:"cancelled"})},t.taskqueue.isReady?e(t,r,f):t.taskqueue.addTask(function(){f.isCancelled?r.complete(null,{status:"cancelled"}):e(t,r,f)}),f.on=o.on.bind(o),f.once=o.once.bind(o),f.addListener=o.addListener.bind(o),f.removeListener=o.removeListener.bind(o),f.removeAllListeners=o.removeAllListeners.bind(o),f.setMaxListeners=o.setMaxListeners.bind(o),f.listeners=o.listeners.bind(o),f.emit=o.emit.bind(o),f},n.MD5=n.toPromise(e(20)),n.explain404=function(e){t.browser&&"console"in r&&"info"in console&&console.info("The above 404 is totally normal. "+e)},n.info=function(e){"undefined"!=typeof console&&"info"in console&&console.info(e)},n.parseUri=e(23),n.compare=function(e,t){return t>e?-1:e>t?1:0},n.updateDoc=function(e,t,r,o,i,a,u){if(n.revExists(e,t.metadata.rev))return r[o]=t,i();var f=n.isDeleted(e),l=n.isDeleted(t.metadata),d=/^1-/.test(t.metadata.rev);if(f&&!l&&u&&d){var p=t.data;p._rev=s.winningRev(e),p._id=t.metadata.id,t=n.parseDoc(p,u)}var h=s.merge(e.rev_tree,t.metadata.rev_tree[0],1e3),v=u&&(f&&l||!f&&"new_leaf"!==h.conflicts||f&&!l&&"new_branch"===h.conflicts);if(v){var _=c.error(c.REV_CONFLICT);return r[o]=_,i()}var m=t.metadata.rev;t.metadata.rev_tree=h.tree,e.rev_map&&(t.metadata.rev_map=e.rev_map);var g=s.winningRev(t.metadata);l=n.isDeleted(t.metadata,g);var y=0;(u||g===m)&&(y=f===l?0:l>f?-1:1),a(t,g,l,i,!0,y,o)},n.processDocs=function(e,t,r,o,i,a,u,f){function l(e,t,r){var o=s.winningRev(e.metadata),f=n.isDeleted(e.metadata,o);if("was_delete"in u&&f)return i[t]=c.error(c.MISSING_DOC,"deleted"),r();var l=f?0:1;a(e,o,f,r,!1,l,t)}function d(){++v===_&&f&&f()}if(e.length){var p=u.new_edits,h=new n.Map,v=0,_=e.length;e.forEach(function(e,r){if(e._id&&n.isLocalId(e._id))return void t[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:o},function(e){i[r]=e?e:{ok:!0},d()});var s=e.metadata.id;h.has(s)?(_--,h.get(s).push([e,r])):h.set(s,[[e,r]])}),h.forEach(function(e,t){function o(){++c<e.length?s():d()}function s(){var s=e[c],u=s[0],f=s[1];r.has(t)?n.updateDoc(r.get(t),u,i,f,o,a,p):l(u,f,o)}var c=0;s()})}},n.preprocessAttachments=function(e,t,r){function o(e){try{return n.atob(e)}catch(t){var r=c.error(c.BAD_ARG,"Attachments need to be base64 encoded");return{error:r}}}function i(e,r){if(e.stub)return r();if("string"==typeof e.data){var i=o(e.data);if(i.error)return r(i.error);e.length=i.length,e.data="blob"===t?n.createBlob([n.fixBinary(i)],{type:e.content_type}):"base64"===t?n.btoa(i):i,n.MD5(i).then(function(t){e.digest="md5-"+t,r()})}else n.readAsArrayBuffer(e.data,function(o){"binary"===t?e.data=n.arrayBufferToBinaryString(o):"base64"===t&&(e.data=n.btoa(n.arrayBufferToBinaryString(o))),n.MD5(o).then(function(t){e.digest="md5-"+t,e.length=o.byteLength,r()})})}function s(){u++,e.length===u&&(a?r(a):r())}if(!e.length)return r();var a,u=0;e.forEach(function(e){function t(e){a=e,r++,r===n.length&&s()}var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return s();for(var o in e.data._attachments)e.data._attachments.hasOwnProperty(o)&&i(e.data._attachments[o],t)})},n.compactTree=function(e){var t=[];return s.traverseRevTree(e.rev_tree,function(e,n,r,o,i){"available"!==i.status||e||(t.push(n+"-"+r),i.status="missing")}),t};var p=e(74);n.safeJsonParse=function(e){try{return JSON.parse(e)}catch(t){return p.parse(e)}},n.safeJsonStringify=function(e){try{return JSON.stringify(e)}catch(t){return p.stringify(e)}}}).call(this,e(39),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(e,t){t.exports="3.3.1"},{}],36:[function(e,t){"use strict";function n(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}t.exports=n},{}],37:[function(){},{}],38:[function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,a,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(o=arguments.length,a=new Array(o-1),c=1;o>c;c++)a[c-1]=arguments[c];n.apply(this,a)}else if(i(n)){for(o=arguments.length,a=new Array(o-1),c=1;o>c;c++)a[c-1]=arguments[c];for(u=n.slice(),o=u.length,c=0;o>c;c++)u[c].apply(this,a)}return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned){var o;o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],s=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(a=s;a-->0;)if(n[a]===t||n[a].listener&&n[a].listener===t){o=a;break}if(0>o)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],39:[function(e,t){function n(){}var r=t.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var r=[];if(t){var o=document.createElement("div"),i=new MutationObserver(function(){var e=r.slice();r.length=0,e.forEach(function(e){e()})});return i.observe(o,{attributes:!0}),function(e){r.length||o.setAttribute("yes","no"),r.push(e)}}return n?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(e){r.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=n,r.addListener=n,r.once=n,r.off=n,r.removeListener=n,r.removeAllListeners=n,r.emit=n,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")}},{}],40:[function(e,t,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?u.removeItem("debug"):u.debug=e}catch(t){}}function a(){var e;try{e=u.debug}catch(t){}return e}function c(){try{return window.localStorage}catch(e){}}n=t.exports=e(41),n.log=i,n.formatArgs=o,n.save=s,n.load=a,n.useColors=r;var u;u="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(a())},{}],41:[function(e,t,n){function r(){return n.colors[f++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(u||t);e.diff=i,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%"===t)return t;a++;var o=n.formatters[r];if("function"==typeof o){var i=s[a];t=o.call(e,i),s.splice(a,1),a--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s));var c=o.log||n.log||console.log.bind(console);c.apply(e,s)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;r>o;o++)t[o]&&(e=t[o].replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function a(e){var t,r;for(t=0,r=n.skips.length;r>t;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;r>t;t++)if(n.names[t].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=e(42),n.names=[],n.skips=[],n.formatters={};var u,f=0},{}],42:[function(e,t){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*f;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"h":return n*c;case"minutes":case"minute":case"m":return n*a;case"seconds":case"second":case"s":return n*s;case"ms":return n}}}function r(e){return e>=u?Math.round(e/u)+"d":e>=c?Math.round(e/c)+"h":e>=a?Math.round(e/a)+"m":e>=s?Math.round(e/s)+"s":e+"ms"}function o(e){return i(e,u,"day")||i(e,c,"hour")||i(e,a,"minute")||i(e,s,"second")||e+" ms"}function i(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var s=1e3,a=60*s,c=60*a,u=24*c,f=365.25*u;t.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?o(e):r(e)}},{}],43:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],44:[function(e,t){"use strict";function n(){}t.exports=n},{}],45:[function(e,t){"use strict";function n(e){function t(e,t){function r(e){u[t]=e,++f===n&!c&&(c=!0,a.resolve(d,u))}i(e).then(r,function(e){c||(c=!0,a.reject(d,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return o(new TypeError("must be an array"));var n=e.length,c=!1;if(!n)return i([]);for(var u=new Array(n),f=0,l=-1,d=new r(s);++l<n;)t(e[l],l);return d}var r=e(48),o=e(51),i=e(52),s=e(44),a=e(46);t.exports=n},{}],46:[function(e,t,n){"use strict";function r(e){var t=e&&e.then;return e&&"object"==typeof e&&"function"==typeof t?function(){t.apply(e,arguments)}:void 0}var o=e(55),i=e(53),s=e(54);n.resolve=function(e,t){var a=o(r,t);if("error"===a.status)return n.reject(e,a.value);var c=a.value;if(c)i.safely(e,c);else{e.state=s.FULFILLED,e.outcome=t;for(var u=-1,f=e.queue.length;++u<f;)e.queue[u].callFulfilled(t)}return e},n.reject=function(e,t){e.state=s.REJECTED,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e}},{}],47:[function(e,t,n){t.exports=n=e(48),n.resolve=e(52),n.reject=e(51),n.all=e(45),n.race=e(50)},{}],48:[function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s.PENDING,this.queue=[],this.outcome=void 0,e!==o&&i.safely(this,e)}var r=e(56),o=e(44),i=e(53),s=e(54),a=e(49);t.exports=n,n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s.FULFILLED||"function"!=typeof t&&this.state===s.REJECTED)return this;var i=new n(o);if(this.state!==s.PENDING){var c=this.state===s.FULFILLED?e:t;r(i,c,this.outcome)}else this.queue.push(new a(i,e,t));return i}},{}],49:[function(e,t){"use strict";function n(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var r=e(46),o=e(56);t.exports=n,n.prototype.callFulfilled=function(e){r.resolve(this.promise,e)},n.prototype.otherCallFulfilled=function(e){o(this.promise,this.onFulfilled,e)},n.prototype.callRejected=function(e){r.reject(this.promise,e)},n.prototype.otherCallRejected=function(e){o(this.promise,this.onRejected,e)}},{}],50:[function(e,t){"use strict";function n(e){function t(e){i(e).then(function(e){c||(c=!0,a.resolve(f,e))},function(e){c||(c=!0,a.reject(f,e))})}if("[object Array]"!==Object.prototype.toString.call(e))return o(new TypeError("must be an array"));var n=e.length,c=!1;if(!n)return i([]);for(var u=-1,f=new r(s);++u<n;)t(e[u]);return f}var r=e(48),o=e(51),i=e(52),s=e(44),a=e(46);t.exports=n},{}],51:[function(e,t){"use strict";function n(e){var t=new r(o);return i.reject(t,e)}var r=e(48),o=e(44),i=e(46);t.exports=n},{}],52:[function(e,t){"use strict";function n(e){if(e)return e instanceof r?e:i.resolve(new r(o),e);var t=typeof e;switch(t){case"boolean":return s;case"undefined":return c;case"object":return a;case"number":return u;case"string":return f}}var r=e(48),o=e(44),i=e(46);t.exports=n;var s=i.resolve(new r(o),!1),a=i.resolve(new r(o),null),c=i.resolve(new r(o),void 0),u=i.resolve(new r(o),0),f=i.resolve(new r(o),"")},{}],53:[function(e,t,n){"use strict";function r(e,t){function n(t){a||(a=!0,o.reject(e,t))}function r(t){a||(a=!0,o.resolve(e,t))}function s(){t(r,n)}var a=!1,c=i(s);"error"===c.status&&n(c.value)}var o=e(46),i=e(55);n.safely=r},{}],54:[function(e,t,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],55:[function(e,t){"use strict";function n(e,t){var n={};try{n.value=e(t),n.status="success"}catch(r){n.status="error",n.value=r}return n}t.exports=n},{}],56:[function(e,t){"use strict";function n(e,t,n){r(function(){var r;try{r=t(n)}catch(i){return o.reject(e,i)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}var r=e(57),o=e(46);t.exports=n},{}],57:[function(e,t){"use strict";function n(){o=!0;for(var e,t,n=a.length;n;){for(t=a,a=[],e=-1;++e<n;)t[e]();n=a.length}o=!1}function r(e){1!==a.push(e)||o||i()}for(var o,i,s=[e(37),e(59),e(58),e(60),e(61)],a=[],c=-1,u=s.length;++c<u;)if(s[c]&&s[c].test&&s[c].test()){i=s[c].install(n);break}t.exports=r},{}],58:[function(e,t,n){(function(e){"use strict";n.test=function(){return e.setImmediate?!1:"undefined"!=typeof e.MessageChannel},n.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(e,t,n){(function(e){"use strict";var t=e.MutationObserver||e.WebKitMutationObserver;n.test=function(){return t},n.install=function(n){var r=0,o=new t(n),i=e.document.createTextNode("");return o.observe(i,{characterData:!0}),function(){i.data=r=++r%2}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(e,t,n){(function(e){"use strict";n.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},n.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],61:[function(e,t,n){"use strict";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}],62:[function(e,t,n){"use strict";function r(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return f(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),o=-1,i=r.length,s="";if(t)for(;++o<i;)s+=n.toIndexableString(r[o]);else for(;++o<i;){var a=r[o];s+=n.toIndexableString(a)+n.toIndexableString(e[a])}return s}return""}function o(e,t){var n,r=t,o="1"===e[t];if(o)n=0,t++;else{var i="0"===e[t];t++;var s="",a=e.substring(t,t+d),c=parseInt(a,10)+l;for(i&&(c=-c),t+=d;;){var u=e[t];if("\x00"===u)break;s+=u,t++}s=s.split("."),n=1===s.length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),i&&(n-=10),0!==c&&(n=parseFloat(n+"e"+c))}return{num:n,length:t-r}}function i(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===e.length-2){var s=e.pop();o[s]=n}else e.push(n)}}function s(e,t){for(var r=Math.min(e.length,t.length),o=0;r>o;o++){var i=n.collate(e[o],t[o]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}function a(e,t){return e===t?0:e>t?1:-1}function c(e,t){for(var r=Object.keys(e),o=Object.keys(t),i=Math.min(r.length,o.length),s=0;i>s;s++){var a=n.collate(r[s],o[s]);if(0!==a)return a;if(a=n.collate(e[r[s]],t[o[s]]),0!==a)return a}return r.length===o.length?0:r.length>o.length?1:-1}function u(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:3>n?n+2:n+3:Array.isArray(e)?5:void 0}function f(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=0>e,o=r?"0":"2",i=(r?-n:n)-l,s=h.padLeft(i.toString(),"0",d);o+=p+s;var a=Math.abs(parseFloat(t[0]));r&&(a=10-a);var c=a.toFixed(20);return c=c.replace(/\.?0+$/,""),o+=p+c}var l=-324,d=3,p="",h=e(63);n.collate=function(e,t){if(e===t)return 0;e=n.normalizeKey(e),t=n.normalizeKey(t);var r=u(e),o=u(t);if(r-o!==0)return r-o;if(null===e)return 0;switch(typeof e){case"number":return e-t;case"boolean":return e===t?0:t>e?-1:1;case"string":return a(e,t)}return Array.isArray(e)?s(e,t):c(e,t)},n.normalizeKey=function(e){switch(typeof e){case"undefined":return null;case"number":return 1/0===e||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var o=0;r>o;o++)e[o]=n.normalizeKey(t[o])}else{if(e instanceof Date)return e.toJSON();if(null!==e){e={};for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];"undefined"!=typeof s&&(e[i]=n.normalizeKey(s))}}}}return e},n.toIndexableString=function(e){var t="\x00";return e=n.normalizeKey(e),u(e)+p+r(e)+t},n.parseIndexableString=function(e){for(var t=[],n=[],r=0;;){var s=e[r++];if("\x00"!==s)switch(s){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var a=o(e,r);t.push(a.num),r+=a.length;break;case"4":for(var c="";;){var u=e[r];if("\x00"===u)break;c+=u,r++}c=c.replace(/\u0001\u0001/g,"\x00").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(c);break;case"5":var f={element:[],index:t.length};t.push(f.element),n.push(f);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}else{if(1===t.length)return t.pop();i(t,n)}}}},{}],63:[function(e,t,n){"use strict";function r(e,t,n){for(var r="",o=n-e.length;r.length<o;)r+=t;return r}n.padLeft=function(e,t,n){var o=r(e,t,n);return o+e},n.padRight=function(e,t,n){var o=r(e,t,n);return e+o},n.stringLexCompare=function(e,t){var n,r=e.length,o=t.length;for(n=0;r>n;n++){if(n===o)return 1;var i=e.charAt(n),s=t.charAt(n);if(i!==s)return s>i?-1:1}return o>r?-1:0},n.intToDecimalForm=function(e){var t=0>e,n="";do{var r=t?-Math.ceil(e%10):Math.floor(e%10);n=r+n,e=t?Math.ceil(e/10):Math.floor(e/10)}while(e);return t&&"0"!==n&&(n="-"+n),n}},{}],64:[function(e,t,n){"use strict";function r(){this.store={}}function o(e){if(this.store=new r,e&&Array.isArray(e))for(var t=0,n=e.length;n>t;t++)this.add(e[t])}n.Map=r,n.Set=o,r.prototype.mangle=function(e){if("string"!=typeof e)throw new TypeError("key must be a string but Got "+e);return"$"+e},r.prototype.unmangle=function(e){return e.substring(1)},r.prototype.get=function(e){var t=this.mangle(e);return t in this.store?this.store[t]:void 0},r.prototype.set=function(e,t){var n=this.mangle(e);return this.store[n]=t,!0},r.prototype.has=function(e){var t=this.mangle(e);return t in this.store},r.prototype["delete"]=function(e){var t=this.mangle(e);return t in this.store?(delete this.store[t],!0):!1},r.prototype.forEach=function(e){var t=this,n=Object.keys(t.store);n.forEach(function(n){var r=t.store[n];n=t.unmangle(n),e(r,n)})},o.prototype.add=function(e){return this.store.set(e,!0)},o.prototype.has=function(e){return this.store.has(e)},o.prototype["delete"]=function(e){return this.store["delete"](e)}},{}],65:[function(e,t){"use strict";function n(e){return null===e?String(e):"object"==typeof e||"function"==typeof e?c[d.call(e)]||"object":typeof e}function r(e){return null!==e&&e===e.window}function o(e){if(!e||"object"!==n(e)||e.nodeType||r(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var o;for(o in e);return void 0===o||p.call(e,o)}function i(e){return"function"===n(e)}function s(){for(var e=[],t=-1,n=arguments.length,r=new Array(n);++t<n;)r[t]=arguments[t];var o={};e.push({args:r,result:{container:o,key:"key"}});for(var i;i=e.pop();)a(e,i.args,i.result);return o.key}function a(e,t,n){var r,s,a,c,u,f,l,d=t[0]||{},p=1,v=t.length,_=!1,m=/\d+/;for("boolean"==typeof d&&(_=d,d=t[1]||{},p=2),"object"==typeof d||i(d)||(d={}),v===p&&(d=this,--p);v>p;p++)if(null!=(r=t[p])){l=h(r);for(s in r)if(!(s in Object.prototype)){if(l&&!m.test(s))continue;if(a=d[s],c=r[s],d===c)continue;_&&c&&(o(c)||(u=h(c)))?(u?(u=!1,f=a&&h(a)?a:[]):f=a&&o(a)?a:{},e.push({args:[_,f,c],result:{container:d,key:s}})):void 0!==c&&(h(r)&&i(c)||(d[s]=c))}}n.container[n.key]=d}for(var c={},u=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],f=0;f<u.length;f++){var l=u[f];c["[object "+l+"]"]=l.toLowerCase()}var d=c.toString,p=c.hasOwnProperty,h=Array.isArray||function(e){return"array"===n(e)};t.exports=s},{}],66:[function(e,t){"use strict";var n=e(70),r=e(71),o=r.Promise;t.exports=function(e){var t=e.db,i=e.viewName,s=e.map,a=e.reduce,c=e.temporary,u=s.toString()+(a&&a.toString())+"undefined";if(!c&&t._cachedViews){var f=t._cachedViews[u];if(f)return o.resolve(f)}return t.info().then(function(e){function o(e){e.views=e.views||{};var t=i;-1===t.indexOf("/")&&(t=i+"/"+i);var n=e.views[t]=e.views[t]||{};if(!n[f])return n[f]=!0,e}var f=e.db_name+"-mrview-"+(c?"temp":r.MD5(u));return n(t,"_local/mrviews",o).then(function(){return t.registerDependentDatabase(f).then(function(e){var n=e.db;n.auto_compaction=!0;var r={name:f,db:n,sourceDB:t,adapter:t.adapter,mapFun:s,reduceFun:a};return r.db.get("_local/lastSeq")["catch"](function(e){if(404!==e.status)throw e}).then(function(e){return r.seq=e?e.seq:0,c||(t._cachedViews=t._cachedViews||{},t._cachedViews[u]=r,r.db.on("destroyed",function(){delete t._cachedViews[u]})),r})})})})}},{}],67:[function(_dereq_,module,exports){"use strict";module.exports=function(func,emit,sum,log,isArray,toJSON){return eval("'use strict'; ("+func.replace(/;\s*$/,"")+");")}},{}],68:[function(e,t,n){(function(t){"use strict";function r(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function o(e){return 1===e.length&&/^1-/.test(e[0].rev)}function i(e,t,n){try{return{output:t.apply(null,n)}}catch(r){return e.emit("error",r),{error:r}}}function s(e,t){var n=D(e.key,t.key);return 0!==n?n:D(e.value,t.value)}function a(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function c(e){var t=e.value,n=t&&"object"==typeof t&&t._id||e.id;return n}function u(e){var t=new Error("builtin "+e+" function requires map values to be numbers or number arrays");return t.name="invalid_value",t.status=500,t}function f(e){for(var t=0,n=0,r=e.length;r>n;n++){var o=e[n];if("number"!=typeof o){if(!Array.isArray(o))throw u("_sum");t="number"==typeof t?[t]:t;for(var i=0,s=o.length;s>i;i++){var a=o[i];if("number"!=typeof a)throw u("_sum");"undefined"==typeof t[i]?t.push(a):t[i]+=a}}else"number"==typeof t?t+=o:t[0]+=o}return t}function l(e,t,n,r){var o=t[e];"undefined"!=typeof o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(e+"="+o))}function d(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if("undefined"!=typeof e[n]&&"undefined"!=typeof e[r]&&D(e[n],e[r])>0)throw new A("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&e.reduce!==!1){if(e.include_docs)throw new A("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new A("Multi-key fetches for reduce views must use {group: true}")}if(e.group_level){if("number"!=typeof e.group_level)throw new A('Invalid value for integer: "'+e.group_level+'"');if(e.group_level<0)throw new A('Invalid value for positive integer: "'+e.group_level+'"')}}function p(e,t,n){var o,i=[],s="GET";if(l("reduce",n,i),l("include_docs",n,i),l("attachments",n,i),l("limit",n,i),l("descending",n,i),l("group",n,i),l("group_level",n,i),l("skip",n,i),l("stale",n,i),l("conflicts",n,i),l("startkey",n,i,!0),l("endkey",n,i,!0),l("inclusive_end",n,i),l("key",n,i,!0),i=i.join("&"),i=""===i?"":"?"+i,"undefined"!=typeof n.keys){var a=2e3,c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+i.length+1<=a?i+=("?"===i[0]?"&":"?")+c:(s="POST","string"==typeof t?o=JSON.stringify({keys:n.keys}):t.keys=n.keys)}if("string"==typeof t){var u=r(t);return e.request({method:s,url:"_design/"+u[0]+"/_view/"+u[1]+i,body:o})}return o=o||{},Object.keys(t).forEach(function(e){o[e]=Array.isArray(t[e])?t[e]:t[e].toString()}),e.request({method:"POST",url:"_temp_view"+i,body:o})}function h(e){return function(t){if(404===t.status)return e;throw t}}function v(e,t,n){function r(){return o(l)?B.resolve(c):t.db.get(a)["catch"](h(c))}function i(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):B.resolve({rows:[]})}function s(e,t){for(var n=[],r={},o=0,i=t.rows.length;i>o;o++){var s=t.rows[o],a=s.doc;if(a&&(n.push(a),r[a._id]=!0,a._deleted=!f[a._id],!a._deleted)){var c=f[a._id];"value"in c&&(a.value=c.value)}}var u=Object.keys(f);return u.forEach(function(e){if(!r[e]){var t={_id:e},o=f[e];"value"in o&&(t.value=o.value),n.push(t)}}),e.keys=j.uniq(u.concat(e.keys)),n.push(e),n}var a="_local/doc_"+e,c={_id:a,keys:[]},u=n[e],f=u.indexableKeysToKeyValues,l=u.changes;return r().then(function(e){return i(e).then(function(t){return s(e,t)})})}function _(e,t,n){var r="_local/lastSeq";return e.db.get(r)["catch"](h({_id:r,seq:0})).then(function(r){var o=Object.keys(t);return B.all(o.map(function(n){return v(n,e,t)})).then(function(t){var o=j.flatten(t);
return r.seq=n,o.push(r),e.db.bulkDocs({docs:o})})})}function m(e){var t="string"==typeof e?e:e.name,n=F[t];return n||(n=F[t]=new R),n}function g(e){return j.sequentialize(m(e),function(){return y(e)})()}function y(e){function t(e,t){var n={id:o._id,key:L(e)};"undefined"!=typeof t&&null!==t&&(n.value=L(t)),r.push(n)}function n(t,n){return function(){return _(e,t,n)}}var r,o,a;if("function"==typeof e.mapFun&&2===e.mapFun.length){var c=e.mapFun;a=function(e){return c(e,t)}}else a=N(e.mapFun.toString(),t,f,k,Array.isArray,JSON.parse);var u=e.seq||0,l=new R;return new B(function(t,c){function f(){l.finish().then(function(){e.seq=u,t()})}function d(){function t(e){c(e)}e.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:u,limit:P}).on("complete",function(t){var c=t.results;if(!c.length)return f();for(var p={},h=0,v=c.length;v>h;h++){var _=c[h];if("_"!==_.doc._id[0]){r=[],o=_.doc,o._deleted||i(e.sourceDB,a,[o]),r.sort(s);for(var m,g={},y=0,b=r.length;b>y;y++){var E=r[y],w=[E.key,E.id];E.key===m&&w.push(y);var S=C(w);g[S]=E,m=E.key}p[_.doc._id]={indexableKeysToKeyValues:g,changes:_.changes}}u=_.seq}return l.add(n(p,u)),c.length<P?f():d()}).on("error",t)}d()})}function b(e,t,n){0===n.group_level&&delete n.group_level;var r,o=n.group||n.group_level;r=U[e.reduceFun]?U[e.reduceFun]:N(e.reduceFun.toString(),null,f,k,Array.isArray,JSON.parse);var s=[],c=n.group_level;t.forEach(function(e){var t=s[s.length-1],n=o?e.key:null;return o&&Array.isArray(n)&&"number"==typeof c&&(n=n.length>c?n.slice(0,c):n),t&&0===D(t.key[0][0],n)?(t.key.push([n,e.id]),void t.value.push(e.value)):void s.push({key:[[n,e.id]],value:[e.value]})});for(var u=0,l=s.length;l>u;u++){var d=s[u],p=i(e.sourceDB,r,[d.key,d.value,!1]);d.value=p.error?null:p.output,d.key=d.key[0][0]}return{rows:a(s,n.limit,n.skip)}}function E(e,t){return j.sequentialize(m(e),function(){return w(e,t)})()}function w(e,t){function n(t){return t.include_docs=!0,e.db.allDocs(t).then(function(e){return o=e.total_rows,e.rows.map(function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(n>t||t>n))return e.doc.value}var r=q.parseIndexableString(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}})})}function r(n){var r;if(r=i?b(e,n,t):{total_rows:o,offset:s,rows:n},t.include_docs){var a=j.uniq(n.map(c));return e.sourceDB.allDocs({keys:a,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments}).then(function(e){var t={};return e.rows.forEach(function(e){e.doc&&(t["$"+e.id]=e.doc)}),n.forEach(function(e){var n=c(e),r=t["$"+n];r&&(e.doc=r)}),r})}return r}var o,i=e.reduceFun&&t.reduce!==!1,s=t.skip||0;"undefined"==typeof t.keys||t.keys.length||(t.limit=0,delete t.keys);var a=function(e){return e.reduce(function(e,t){return e.concat(t)})};if("undefined"!=typeof t.keys){var u=t.keys,f=u.map(function(e){var t={startkey:C([e]),endkey:C([e,{}])};return n(t)});return B.all(f).then(a).then(r)}var l={descending:t.descending};if("undefined"!=typeof t.startkey&&(l.startkey=C(t.descending?[t.startkey,{}]:[t.startkey])),"undefined"!=typeof t.endkey){var d=t.inclusive_end!==!1;t.descending&&(d=!d),l.endkey=C(d?[t.endkey,{}]:[t.endkey])}if("undefined"!=typeof t.key){var p=C([t.key]),h=C([t.key,{}]);l.descending?(l.endkey=p,l.startkey=h):(l.startkey=p,l.endkey=h)}return i||("number"==typeof t.limit&&(l.limit=t.limit),l.skip=s),n(l).then(r)}function S(e){return e.request({method:"POST",url:"_view_cleanup"})}function T(e){return e.get("_local/mrviews").then(function(t){var n={};Object.keys(t.views).forEach(function(e){var t=r(e),o="_design/"+t[0],i=t[1];n[o]=n[o]||{},n[o][i]=!0});var o={keys:Object.keys(n),include_docs:!0};return e.allDocs(o).then(function(r){var o={};r.rows.forEach(function(e){var r=e.key.substring(8);Object.keys(n[e.key]).forEach(function(n){var i=r+"/"+n;t.views[i]||(i=n);var s=Object.keys(t.views[i]),a=e.doc&&e.doc.views&&e.doc.views[n];s.forEach(function(e){o[e]=o[e]||a})})});var i=Object.keys(o).filter(function(e){return!o[e]}),s=i.map(function(t){return j.sequentialize(m(t),function(){return e.constructor.destroy(t,e.__opts)})()});return B.all(s).then(function(){return{ok:!0}})})},h({ok:!0}))}function x(e,n,o){if("http"===e.type())return p(e,n,o);if("string"!=typeof n){d(o,n);var i={db:e,viewName:"temp_view/temp_view",map:n.map,reduce:n.reduce,temporary:!0};return M.add(function(){return I(i).then(function(e){function t(){return e.db.destroy()}return j.fin(g(e).then(function(){return E(e,o)}),t)})}),M.finish()}var s=n,a=r(s),c=a[0],u=a[1];return e.get("_design/"+c).then(function(n){var r=n.views&&n.views[u];if(!r||"string"!=typeof r.map)throw new O("ddoc "+c+" has no view named "+u);d(o,r);var i={db:e,viewName:s,map:r.map,reduce:r.reduce};return I(i).then(function(e){return"ok"===o.stale||"update_after"===o.stale?("update_after"===o.stale&&t.nextTick(function(){g(e)}),E(e,o)):g(e).then(function(){return E(e,o)})})})}function A(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,A)}catch(t){}}function O(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,O)}catch(t){}}var k,q=e(62),R=e(69),D=q.collate,C=q.toIndexableString,L=q.normalizeKey,I=e(66),N=e(67);k="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var j=e(71),B=j.Promise,F={},M=new R,P=50,U={_sum:function(e,t){return f(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(e){for(var t=0,n=0,r=e.length;r>n;n++){var o=e[n];t+=o*o}return t}return{sum:f(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}};n.viewCleanup=j.callbackify(function(){var e=this;return"http"===e.type()?S(e):T(e)}),n.query=function(e,t,n){"function"==typeof t&&(n=t,t={}),t=j.extend(!0,{},t),"function"==typeof e&&(e={map:e});var r=this,o=B.resolve().then(function(){return x(r,e,t)});return j.promisedCallback(o,n),o},j.inherits(A,Error),j.inherits(O,Error)}).call(this,e(39))},{}],69:[function(e,t){"use strict";function n(){this.promise=new r(function(e){e()})}var r=e(71).Promise;n.prototype.add=function(e){return this.promise=this.promise["catch"](function(){}).then(function(){return e()}),this.promise},n.prototype.finish=function(){return this.promise},t.exports=n},{}],70:[function(e,t){"use strict";var n=e(72).upsert;t.exports=function(e,t,r){return n.apply(e,[t,r])}},{}],71:[function(e,t,n){(function(t,r){"use strict";n.Promise="function"==typeof r.Promise?r.Promise:e(47),n.inherits=e(43),n.extend=e(65);var o=e(36);n.promisedCallback=function(e,n){return n&&e.then(function(e){t.nextTick(function(){n(null,e)})},function(e){t.nextTick(function(){n(e)})}),e},n.callbackify=function(e){return o(function(t){var r=t.pop(),o=e.apply(this,t);return"function"==typeof r&&n.promisedCallback(o,r),o})},n.fin=function(e,t){return e.then(function(e){var n=t();return"function"==typeof n.then?n.then(function(){return e}):e},function(e){var n=t();if("function"==typeof n.then)return n.then(function(){throw e});throw e})},n.sequentialize=function(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}},n.flatten=function(e){for(var t=[],n=0,r=e.length;r>n;n++)t=t.concat(e[n]);return t},n.uniq=function(e){for(var t={},n=0,r=e.length;r>n;n++)t["$"+e[n]]=!0;var o=Object.keys(t),i=new Array(o.length);for(n=0,r=o.length;r>n;n++)i[n]=o[n].substring(1);return i};var i=e(37),s=e(73);n.MD5=function(e){return t.browser?s.hash(e):i.createHash("md5").update(e).digest("hex")}}).call(this,e(39),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],72:[function(e,t,n){(function(t){"use strict";function r(e,t,n){return new i(function(r,i){return"string"!=typeof t?i(new Error("doc id is required")):void e.get(t,function(s,a){if(s){if(404!==s.status)return i(s);a={}}var c=n(a);return c?(c._id=t,c._rev=a._rev,void r(o(e,c,n))):r({updated:!1,rev:a._rev})})})}function o(e,t,n){return e.put(t).then(function(e){return{updated:!0,rev:e.rev}},function(o){if(409!==o.status)throw o;return r(e,t._id,n)})}var i;i="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof t.Promise?t.Promise:e(47),n.upsert=function(e,t,n){var o=this,i=r(o,e,t);return"function"!=typeof n?i:void i.then(function(e){n(null,e)},n)},n.putIfNotExists=function(e,t,n){var o=this;"string"!=typeof e&&(n=t,t=e,e=t._id);var i=function(e){return e._rev?!1:t},s=r(o,e,i);return"function"!=typeof n?s:void s.then(function(e){n(null,e)},n)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],73:[function(e,t,n){!function(e){if("object"==typeof n)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;try{r=window}catch(o){r=self}r.SparkMD5=e()}}(function(){"use strict";var e=function(e,t){return e+t&4294967295},t=function(t,n,r,o,i,s){return n=e(e(n,t),e(o,s)),e(n<<i|n>>>32-i,r)},n=function(e,n,r,o,i,s,a){return t(n&r|~n&o,e,n,i,s,a)},r=function(e,n,r,o,i,s,a){return t(n&o|r&~o,e,n,i,s,a)},o=function(e,n,r,o,i,s,a){return t(n^r^o,e,n,i,s,a)},i=function(e,n,r,o,i,s,a){return t(r^(n|~o),e,n,i,s,a)},s=function(t,s){var a=t[0],c=t[1],u=t[2],f=t[3];a=n(a,c,u,f,s[0],7,-680876936),f=n(f,a,c,u,s[1],12,-389564586),u=n(u,f,a,c,s[2],17,606105819),c=n(c,u,f,a,s[3],22,-1044525330),a=n(a,c,u,f,s[4],7,-176418897),f=n(f,a,c,u,s[5],12,1200080426),u=n(u,f,a,c,s[6],17,-1473231341),c=n(c,u,f,a,s[7],22,-45705983),a=n(a,c,u,f,s[8],7,1770035416),f=n(f,a,c,u,s[9],12,-1958414417),u=n(u,f,a,c,s[10],17,-42063),c=n(c,u,f,a,s[11],22,-1990404162),a=n(a,c,u,f,s[12],7,1804603682),f=n(f,a,c,u,s[13],12,-40341101),u=n(u,f,a,c,s[14],17,-1502002290),c=n(c,u,f,a,s[15],22,1236535329),a=r(a,c,u,f,s[1],5,-165796510),f=r(f,a,c,u,s[6],9,-1069501632),u=r(u,f,a,c,s[11],14,643717713),c=r(c,u,f,a,s[0],20,-373897302),a=r(a,c,u,f,s[5],5,-701558691),f=r(f,a,c,u,s[10],9,38016083),u=r(u,f,a,c,s[15],14,-660478335),c=r(c,u,f,a,s[4],20,-405537848),a=r(a,c,u,f,s[9],5,568446438),f=r(f,a,c,u,s[14],9,-1019803690),u=r(u,f,a,c,s[3],14,-187363961),c=r(c,u,f,a,s[8],20,1163531501),a=r(a,c,u,f,s[13],5,-1444681467),f=r(f,a,c,u,s[2],9,-51403784),u=r(u,f,a,c,s[7],14,1735328473),c=r(c,u,f,a,s[12],20,-1926607734),a=o(a,c,u,f,s[5],4,-378558),f=o(f,a,c,u,s[8],11,-2022574463),u=o(u,f,a,c,s[11],16,1839030562),c=o(c,u,f,a,s[14],23,-35309556),a=o(a,c,u,f,s[1],4,-1530992060),f=o(f,a,c,u,s[4],11,1272893353),u=o(u,f,a,c,s[7],16,-155497632),c=o(c,u,f,a,s[10],23,-1094730640),a=o(a,c,u,f,s[13],4,681279174),f=o(f,a,c,u,s[0],11,-358537222),u=o(u,f,a,c,s[3],16,-722521979),c=o(c,u,f,a,s[6],23,76029189),a=o(a,c,u,f,s[9],4,-640364487),f=o(f,a,c,u,s[12],11,-421815835),u=o(u,f,a,c,s[15],16,530742520),c=o(c,u,f,a,s[2],23,-995338651),a=i(a,c,u,f,s[0],6,-198630844),f=i(f,a,c,u,s[7],10,1126891415),u=i(u,f,a,c,s[14],15,-1416354905),c=i(c,u,f,a,s[5],21,-57434055),a=i(a,c,u,f,s[12],6,1700485571),f=i(f,a,c,u,s[3],10,-1894986606),u=i(u,f,a,c,s[10],15,-1051523),c=i(c,u,f,a,s[1],21,-2054922799),a=i(a,c,u,f,s[8],6,1873313359),f=i(f,a,c,u,s[15],10,-30611744),u=i(u,f,a,c,s[6],15,-1560198380),c=i(c,u,f,a,s[13],21,1309151649),a=i(a,c,u,f,s[4],6,-145523070),f=i(f,a,c,u,s[11],10,-1120210379),u=i(u,f,a,c,s[2],15,718787259),c=i(c,u,f,a,s[9],21,-343485551),t[0]=e(a,t[0]),t[1]=e(c,t[1]),t[2]=e(u,t[2]),t[3]=e(f,t[3])},a=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},c=function(e){var t,n=[];for(t=0;64>t;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},u=function(e){var t,n,r,o,i,c,u=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;u>=t;t+=64)s(f,a(e.substring(t-64,t)));for(e=e.substring(t-64),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(f,r),t=0;16>t;t+=1)r[t]=0;return o=8*u,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),c=parseInt(o[1],16)||0,r[14]=i,r[15]=c,s(f,r),f},f=function(e){var t,n,r,o,i,a,u=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;u>=t;t+=64)s(f,c(e.subarray(t-64,t)));for(e=u>t-64?e.subarray(t-64):new Uint8Array(0),n=e.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;n>t;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(f,r),t=0;16>t;t+=1)r[t]=0;return o=8*u,o=o.toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(o[2],16),a=parseInt(o[1],16)||0,r[14]=i,r[15]=a,s(f,r),f},l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d=function(e){var t,n="";for(t=0;4>t;t+=1)n+=l[e>>8*t+4&15]+l[e>>8*t&15];return n},p=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=d(e[t]);return e.join("")},h=function(e){return p(u(e))},v=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==h("hello")&&(e=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}),v.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},v.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;n>=t;t+=64)s(this._state,a(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},v.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;o>t;t+=1)i[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},v.prototype._finish=function(e,t){var n,r,o,i=t;if(e[i>>2]|=128<<(i%4<<3),i>55)for(s(this._state,e),i=0;16>i;i+=1)e[i]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),o=parseInt(n[1],16)||0,e[14]=r,e[15]=o,s(this._state,e)},v.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},v.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},v.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=u(e);return t?n:p(n)},v.hashBinary=function(e,t){var n=u(e);return t?n:p(n)},v.ArrayBuffer=function(){this.reset()},v.ArrayBuffer.prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;r>=t;t+=64)s(this._state,c(n.subarray(t-64,t)));return this._buff=r>t-64?n.subarray(t-64):new Uint8Array(0),this},v.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;o>t;t+=1)i[t>>2]|=r[t]<<(t%4<<3);return this._finish(i,o),n=e?this._state:p(this._state),this.reset(),n},v.ArrayBuffer.prototype._finish=v.prototype._finish,v.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},v.ArrayBuffer.prototype.destroy=v.prototype.destroy,v.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},v.ArrayBuffer.hash=function(e,t){var n=f(new Uint8Array(e));return t?n:p(n)},v})},{}],74:[function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(e);else if(i===t.length-2){var s=t.pop();o[s]=e}else t.push(e)}n.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,o,i,s,a,c,u,f,l,d,p="";n=t.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",p+=o,i)p+=i;else if("object"!=typeof r)p+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)p+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),s=r.length-1;s>=0;s--)a=0===s?"":",",t.push({obj:r[s],prefix:a});t.push({val:"["})}else{c=[];for(u in r)r.hasOwnProperty(u)&&c.push(u);for(t.push({val:"}"}),s=c.length-1;s>=0;s--)f=c[s],l=r[f],d=s>0?",":"",d+=JSON.stringify(f)+":",t.push({obj:l,prefix:d});t.push({val:"{"})}return p},n.parse=function(e){for(var t,n,o,i,s,a,c,u,f,l=[],d=[],p=0;;)if(t=e[p++],"}"!==t&&"]"!==t&&"undefined"!=typeof t)switch(t){case" ":case"	":case"\n":case":":case",":break;case"n":p+=3,r(null,l,d);break;case"t":p+=3,r(!0,l,d);break;case"f":p+=4,r(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",p--;;){if(o=e[p++],!/[\d\.\-e\+]/.test(o)){p--;break}n+=o}r(parseFloat(n),l,d);break;case'"':for(i="",s=void 0,a=0;;){if(c=e[p++],'"'===c&&("\\"!==s||a%2!==1))break;i+=c,s=c,"\\"===s?a++:a=0}r(JSON.parse('"'+i+'"'),l,d);break;case"[":u={element:[],index:l.length},l.push(u.element),d.push(u);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===l.length)return l.pop();r(l.pop(),l,d)}}},{}],75:[function(e,t){(function(n){"use strict";var r=e(31);t.exports=r,r.ajax=e(16),r.utils=e(34),r.Errors=e(19),r.replicate=e(30).replicate,r.sync=e(32),r.version=e(35);var o=e(2);if(r.adapter("http",o),r.adapter("https",o),r.adapter("idb",e(7)),r.adapter("websql",e(12)),r.plugin(e(68)),!n.browser){var i=e(37);r.adapter("ldb",i),r.adapter("leveldb",i)}}).call(this,e(39))},{}]},{},[75])(75)});
/*
 * backbone-pouch
 * http://jo.github.io/backbone-pouch/
 *
 * Copyright (c) 2013 Johannes J. Schmidt
 * Licensed under the MIT license.
 */

(function(root) {
  'use strict';
  
  var BackbonePouch;
  if (typeof exports === 'object') {
    BackbonePouch = exports;
  } else {
    BackbonePouch = root.BackbonePouch = {};
  }

  // Require Underscore, if we're on the server, and it's not already present.
  var _ = root._;
  if (!_ && (typeof require === 'function')) {
    _ = require('underscore');
  }

  var methodMap = {
    'create': 'post',
    'update': 'put',
    'patch':  'put',
    'delete': 'remove'
  };

  BackbonePouch.defaults = {
    fetch: 'allDocs',
    listen: false,
    options: {
      post: {},
      put: {},
      get: {},
      remove: {},
      allDocs: {},
      query: {},
      spatial: {},
      changes: {
        continuous: true
      }
    }
  };

  // inspired from https://github.com/Raynos/xtend
  function extend() {
    var target = {};

    for (var i = 0; i < arguments.length; i++) {
      var source = arguments[i];

      if (typeof source !== 'object') {
        continue;
      }

      for (var name in source) {
        if (source[name] && target[name] && typeof source[name] === 'object' && typeof target[name] === 'object' && name !== 'db') {
          target[name] = extend(target[name] || {}, source[name]);
        } else {
          target[name] = source[name];
        }
      }
    }

    return target;
  }

  // backbone-pouch sync adapter
  BackbonePouch.sync = function(defaults) {
    defaults = defaults || {};
    defaults = extend(BackbonePouch.defaults, defaults);

    var adapter = function(method, model, options) {
      options = options || {};
      options = extend(defaults, model && model.pouch || {}, options);

      // This is to get the options (especially options.db)
      // by calling model.sync() without arguments.
      if (typeof method !== 'string') {
        return options;
      }

      // ensure we have a pouch db adapter
      if (!options.db) {
        throw new Error('A "db" property must be specified');
      }

      function callback(err, response) {
        if (err) {
          return options.error && options.error(err);
        }
        if (method === 'create' || method === 'update' || method === 'patch') {
          response = {
            _id: response.id,
            _rev: response.rev
          };
        }
        if (method === 'delete') {
          response = {};
        }
        if (method === 'read') {
          if (options.listen) {
            // TODO:
            // * implement for model
            // * allow overwriding of since.
            options.db.info(function(err, info) {
              // get changes since info.update_seq
              options.db.changes(_.extend({}, options.options.changes, {
                since: info.update_seq,
                onChange: function(change) {
                  var todo = model.get(change.id);

                  if (change.deleted) {
                    if (todo) {
                      todo.destroy();
                    }
                  } else {
                    if (todo) {
                      todo.set(change.doc);
                    } else {
                      model.add(change.doc);
                    }
                  }

                  // call original onChange if present
                  if (typeof options.options.changes.onChange === 'function') {
                    options.options.changes.onChange(change);
                  }
                }
              }));
            });
          }
        }
        return options.success && options.success(response);
      }

      model.trigger('request', model, options.db, options);

      if (method === 'read') {
        // get single model
        if (model.id) {
          return options.db.get(model.id, options.options.get, callback);
        }
        // query view or spatial index
        if (options.fetch === 'query' || options.fetch === 'spatial') {
          if (!options.options[options.fetch].fun) {
            throw new Error('A "' + options.fetch + '.fun" object must be specified');
          }
          return options.db[options.fetch](options.options[options.fetch].fun, options.options[options.fetch], callback);
        }
        // allDocs or spatial query
        options.db[options.fetch](options.options[options.fetch], callback);
      } else {
        options.db[methodMap[method]](model.toJSON(), options.options[methodMap[method]], callback);
      }

      return options;
    };

    adapter.defaults = defaults;

    return adapter;
  };

  BackbonePouch.attachments = function(defaults) {
    defaults = defaults || {};

    function getPouch(model) {
      if (model.pouch && model.pouch.db) {
        return model.pouch.db;
      }
      if (model.collection && model.collection.pouch && model.collection.pouch.db) {
        return model.collection.pouch.db;
      }
      
      if (defaults.db) {
        return defaults.db;
      }
      
      var options = model.sync();
      if (options.db) {
        return options.db;
      }

      // TODO: ask sync adapter
        
      throw new Error('A "db" property must be specified');
    }

    return {
      attachments: function(filter) {
        var atts = this.get('_attachments') || {};
        if (filter) {
          return _.filter(_.keys(atts), function(key) {
            if (typeof filter === 'function') {
              return filter(key, atts[key]);
            }
            
            return atts[key].content_type.match(filter);
          });
        }
        return _.keys(atts);
      },
      attachment: function(name, done) {
        // TODO: first look at the _attachments stub,
        // maybe there the data is already there
        var db = getPouch(this);
        return db.getAttachment(this.id, name, done);
      },
      attach: function(blob, name, type, done) {
        if (typeof name === 'function') {
          done = name;
          name = undefined;
          type = undefined;
        }
        if (typeof type === 'function') {
          done = type;
          type = undefined;
        }
        name = name || blob.filename;
        type = type || blob.type;

        var db = getPouch(this);
        var that = this;
        return db.putAttachment(this.id, name, this.get('_rev'), blob, type, function(err, response) {
          if (!err && response.rev) {
            var atts = that.get('_attachments') || {};
            atts[name] = {
              content_type: type,
              stub: true
            };
            that.set({ _id: response.id, _rev: response.rev, _attachments: atts }, { silent: true });
          }
          done(err, response);
        });
      }
    };
  };
}(this));

$(document).bind("mobileinit", function () {
    $.mobile.ajaxEnabled = false;
    $.mobile.linkBindingEnabled = false;
    $.mobile.hashListeningEnabled = false;
    $.mobile.pushStateEnabled = false;

    // Remove page from DOM when it's being replaced
    $('div[data-role="page"]').live('pagehide', function (event, ui) {
        $(event.currentTarget).remove();
    });
});
/*! jQuery Mobile v1.1.0 db342b1f315c282692791aa870455901fdb46a55 jquerymobile.com | jquery.org/license */
(function(D,s,k){typeof define==="function"&&define.amd?define(["jquery"],function(a){k(a,D,s);return a.mobile}):k(D.jQuery,D,s)})(this,document,function(D,s,k){(function(a,c,b,e){function f(a){for(;a&&typeof a.originalEvent!=="undefined";)a=a.originalEvent;return a}function d(b){for(var d={},f,g;b;){f=a.data(b,t);for(g in f)if(f[g])d[g]=d.hasVirtualBinding=true;b=b.parentNode}return d}function g(){y&&(clearTimeout(y),y=0);y=setTimeout(function(){F=y=0;C.length=0;z=false;G=true},a.vmouse.resetTimerDuration)}
function h(b,d,g){var c,h;if(!(h=g&&g[b])){if(g=!g)a:{for(g=d.target;g;){if((h=a.data(g,t))&&(!b||h[b]))break a;g=g.parentNode}g=null}h=g}if(h){c=d;var g=c.type,z,j;c=a.Event(c);c.type=b;h=c.originalEvent;z=a.event.props;g.search(/^(mouse|click)/)>-1&&(z=w);if(h)for(j=z.length;j;)b=z[--j],c[b]=h[b];if(g.search(/mouse(down|up)|click/)>-1&&!c.which)c.which=1;if(g.search(/^touch/)!==-1&&(b=f(h),g=b.touches,b=b.changedTouches,g=g&&g.length?g[0]:b&&b.length?b[0]:e))for(h=0,len=u.length;h<len;h++)b=u[h],
c[b]=g[b];a(d.target).trigger(c)}return c}function j(b){var d=a.data(b.target,x);if(!z&&(!F||F!==d))if(d=h("v"+b.type,b))d.isDefaultPrevented()&&b.preventDefault(),d.isPropagationStopped()&&b.stopPropagation(),d.isImmediatePropagationStopped()&&b.stopImmediatePropagation()}function o(b){var g=f(b).touches,c;if(g&&g.length===1&&(c=b.target,g=d(c),g.hasVirtualBinding))F=L++,a.data(c,x,F),y&&(clearTimeout(y),y=0),A=G=false,c=f(b).touches[0],s=c.pageX,E=c.pageY,h("vmouseover",b,g),h("vmousedown",b,g)}
function m(a){G||(A||h("vmousecancel",a,d(a.target)),A=true,g())}function p(b){if(!G){var c=f(b).touches[0],e=A,z=a.vmouse.moveDistanceThreshold;A=A||Math.abs(c.pageX-s)>z||Math.abs(c.pageY-E)>z;flags=d(b.target);A&&!e&&h("vmousecancel",b,flags);h("vmousemove",b,flags);g()}}function l(a){if(!G){G=true;var b=d(a.target),c;h("vmouseup",a,b);if(!A&&(c=h("vclick",a,b))&&c.isDefaultPrevented())c=f(a).changedTouches[0],C.push({touchID:F,x:c.clientX,y:c.clientY}),z=true;h("vmouseout",a,b);A=false;g()}}function r(b){var b=
a.data(b,t),d;if(b)for(d in b)if(b[d])return true;return false}function n(){}function k(b){var d=b.substr(1);return{setup:function(){r(this)||a.data(this,t,{});a.data(this,t)[b]=true;v[b]=(v[b]||0)+1;v[b]===1&&H.bind(d,j);a(this).bind(d,n);if(K)v.touchstart=(v.touchstart||0)+1,v.touchstart===1&&H.bind("touchstart",o).bind("touchend",l).bind("touchmove",p).bind("scroll",m)},teardown:function(){--v[b];v[b]||H.unbind(d,j);K&&(--v.touchstart,v.touchstart||H.unbind("touchstart",o).unbind("touchmove",p).unbind("touchend",
l).unbind("scroll",m));var f=a(this),g=a.data(this,t);g&&(g[b]=false);f.unbind(d,n);r(this)||f.removeData(t)}}}var t="virtualMouseBindings",x="virtualTouchID",c="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),w=a.event.props.concat(a.event.mouseHooks?a.event.mouseHooks.props:[]),v={},y=0,s=0,E=0,A=false,C=[],z=false,G=false,K="addEventListener"in b,H=a(b),L=1,F=0;a.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,
resetTimerDuration:1500};for(var I=0;I<c.length;I++)a.event.special[c[I]]=k(c[I]);K&&b.addEventListener("click",function(b){var d=C.length,f=b.target,g,c,e,h,z;if(d){g=b.clientX;c=b.clientY;threshold=a.vmouse.clickDistanceThreshold;for(e=f;e;){for(h=0;h<d;h++)if(z=C[h],e===f&&Math.abs(z.x-g)<threshold&&Math.abs(z.y-c)<threshold||a.data(e,x)===z.touchID){b.preventDefault();b.stopPropagation();return}e=e.parentNode}}},true)})(jQuery,s,k);(function(a,c,b){function e(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,
"$1")}var f="hashchange",d=k,g,h=a.event.special,j=d.documentMode,o="on"+f in c&&(j===b||j>7);a.fn[f]=function(a){return a?this.bind(f,a):this.trigger(f)};a.fn[f].delay=50;h[f]=a.extend(h[f],{setup:function(){if(o)return false;a(g.start)},teardown:function(){if(o)return false;a(g.stop)}});g=function(){function g(){var b=e(),d=t(r);if(b!==r)k(r=b,d),a(c).trigger(f);else if(d!==r)location.href=location.href.replace(/#.*/,"")+d;j=setTimeout(g,a.fn[f].delay)}var h={},j,r=e(),n=function(a){return a},k=
n,t=n;h.start=function(){j||g()};h.stop=function(){j&&clearTimeout(j);j=b};a.browser.msie&&!o&&function(){var b,c;h.start=function(){if(!b)c=(c=a.fn[f].src)&&c+e(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||k(e());g()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,d.onpropertychange=function(){try{if(event.propertyName==="title")b.document.title=d.title}catch(a){}}};h.stop=n;t=function(){return e(b.location.href)};k=function(g,c){var e=b.document,
h=a.fn[f].domain;if(g!==c)e.title=d.title,e.open(),h&&e.write('<script>document.domain="'+h+'"<\/script>'),e.close(),b.location.hash=g}}();return h}()})(jQuery,this);(function(a,c){if(a.cleanData){var b=a.cleanData;a.cleanData=function(f){for(var d=0,g;(g=f[d])!=null;d++)a(g).triggerHandler("remove");b(f)}}else{var e=a.fn.remove;a.fn.remove=function(b,d){return this.each(function(){d||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return e.call(a(this),
b,d)})}}a.widget=function(b,d,g){var c=b.split(".")[0],e,b=b.split(".")[1];e=c+"-"+b;if(!g)g=d,d=a.Widget;a.expr[":"][e]=function(d){return!!a.data(d,b)};a[c]=a[c]||{};a[c][b]=function(a,b){arguments.length&&this._createWidget(a,b)};d=new d;d.options=a.extend(true,{},d.options);a[c][b].prototype=a.extend(true,d,{namespace:c,widgetName:b,widgetEventPrefix:a[c][b].prototype.widgetEventPrefix||b,widgetBaseClass:e},g);a.widget.bridge(b,a[c][b])};a.widget.bridge=function(b,d){a.fn[b]=function(g){var e=
typeof g==="string",j=Array.prototype.slice.call(arguments,1),o=this,g=!e&&j.length?a.extend.apply(null,[true,g].concat(j)):g;if(e&&g.charAt(0)==="_")return o;e?this.each(function(){var d=a.data(this,b);if(!d)throw"cannot call methods on "+b+" prior to initialization; attempted to call method '"+g+"'";if(!a.isFunction(d[g]))throw"no such method '"+g+"' for "+b+" widget instance";var e=d[g].apply(d,j);if(e!==d&&e!==c)return o=e,false}):this.each(function(){var c=a.data(this,b);c?c.option(g||{})._init():
a.data(this,b,new d(g,this))});return o}};a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(b,d){a.data(d,this.widgetName,this);this.element=a(d);this.options=a.extend(true,{},this.options,this._getCreateOptions(),b);var g=this;this.element.bind("remove."+this.widgetName,function(){g.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){var b=
{};a.metadata&&(b=a.metadata.get(element)[this.widgetName]);return b},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(b,d){var g=b;if(arguments.length===0)return a.extend({},this.options);if(typeof b==="string"){if(d===c)return this.options[b];
g={};g[b]=d}this._setOptions(g);return this},_setOptions:function(b){var d=this;a.each(b,function(a,b){d._setOption(a,b)});return this},_setOption:function(a,b){this.options[a]=b;a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(b,d,g){var c=this.options[b],d=a.Event(d);
d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();g=g||{};if(d.originalEvent)for(var b=a.event.props.length,e;b;)e=a.event.props[--b],d[e]=d.originalEvent[e];this.element.trigger(d,g);return!(a.isFunction(c)&&c.call(this.element[0],d,g)===false||d.isDefaultPrevented())}}})(jQuery);(function(a,c){a.widget("mobile.widget",{_createWidget:function(){a.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init")},_getCreateOptions:function(){var b=this.element,
e={};a.each(this.options,function(a){var d=b.jqmData(a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()}));d!==c&&(e[a]=d)});return e},enhanceWithin:function(b,c){this.enhance(a(this.options.initSelector,a(b)),c)},enhance:function(b,c){var f,d=a(b),d=a.mobile.enhanceable(d);c&&d.length&&(f=(f=a.mobile.closestPageData(d))&&f.keepNativeSelector()||"",d=d.not(f));d[this.widgetName]()},raise:function(a){throw"Widget ["+this.widgetName+"]: "+a;}})})(jQuery);(function(a,c){var b={};a.mobile=a.extend({},
{version:"1.1.0",ns:"",subPageUrlKey:"ui-page",activePageClass:"ui-page-active",activeBtnClass:"ui-btn-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:250,touchOverflowEnabled:false,defaultDialogTransition:"pop",loadingMessage:"loading",pageLoadErrorMessage:"Error Loading Page",loadingMessageTextVisible:false,loadingMessageTheme:"a",pageLoadErrorMessageTheme:"e",autoInitializePage:true,
pushStateEnabled:true,ignoreContentEnabled:false,orientationChangeEnabled:true,buttonMarkup:{hoverDelay:200},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},silentScroll:function(b){if(a.type(b)!==
"number")b=a.mobile.defaultHomeScroll;a.event.special.scrollstart.enabled=false;setTimeout(function(){c.scrollTo(0,b);a(k).trigger("silentscroll",{x:0,y:b})},20);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},nsNormalizeDict:b,nsNormalize:function(d){return!d?void 0:b[d]||(b[d]=a.camelCase(a.mobile.ns+d))},getInheritedTheme:function(a,b){for(var c=a[0],e="",f=/ui-(bar|body|overlay)-([a-z])\b/,m,p;c;){m=c.className||"";if((p=f.exec(m))&&(e=p[2]))break;c=c.parentNode}return e||
b||"a"},closestPageData:function(a){return a.closest(':jqmData(role="page"), :jqmData(role="dialog")').data("page")},enhanceable:function(a){return this.haveParents(a,"enhance")},hijackable:function(a){return this.haveParents(a,"ajax")},haveParents:function(b,c){if(!a.mobile.ignoreContentEnabled)return b;for(var e=b.length,f=a(),o,m,p,l=0;l<e;l++){m=b.eq(l);p=false;for(o=b[l];o;){if((o.getAttribute?o.getAttribute("data-"+a.mobile.ns+c):"")==="false"){p=true;break}o=o.parentNode}p||(f=f.add(m))}return f}},
a.mobile);a.fn.jqmData=function(b,c){var f;typeof b!="undefined"&&(b&&(b=a.mobile.nsNormalize(b)),f=this.data.apply(this,arguments.length<2?[b]:[b,c]));return f};a.jqmData=function(b,c,f){var e;typeof c!="undefined"&&(e=a.data(b,c?a.mobile.nsNormalize(c):c,f));return e};a.fn.jqmRemoveData=function(b){return this.removeData(a.mobile.nsNormalize(b))};a.jqmRemoveData=function(b,c){return a.removeData(b,a.mobile.nsNormalize(c))};a.fn.removeWithDependents=function(){a.removeWithDependents(this)};a.removeWithDependents=
function(b){b=a(b);(b.jqmData("dependents")||a()).remove();b.remove()};a.fn.addDependents=function(b){a.addDependents(a(this),b)};a.addDependents=function(b,c){var f=a(b).jqmData("dependents")||a();a(b).jqmData("dependents",a.merge(f,c))};a.fn.getEncodedText=function(){return a("<div/>").text(a(this).text()).html()};a.fn.jqmEnhanceable=function(){return a.mobile.enhanceable(this)};a.fn.jqmHijackable=function(){return a.mobile.hijackable(this)};var e=a.find,f=/:jqmData\(([^)]*)\)/g;a.find=function(b,
c,h,j){b=b.replace(f,"[data-"+(a.mobile.ns||"")+"$1]");return e.call(this,b,c,h,j)};a.extend(a.find,e);a.find.matches=function(b,c){return a.find(b,null,null,c)};a.find.matchesSelector=function(b,c){return a.find(c,null,null,[b]).length>0}})(jQuery,this);(function(a){a(s);var c=a("html");a.mobile.media=function(){var b={},e=a("<div id='jquery-mediatest'>"),f=a("<body>").append(e);return function(a){if(!(a in b)){var g=k.createElement("style"),h="@media "+a+" { #jquery-mediatest { position:absolute; } }";
g.type="text/css";g.styleSheet?g.styleSheet.cssText=h:g.appendChild(k.createTextNode(h));c.prepend(f).prepend(g);b[a]=e.css("position")==="absolute";f.add(g).remove()}return b[a]}}()})(jQuery);(function(a,c){function b(a){var b=a.charAt(0).toUpperCase()+a.substr(1),a=(a+" "+g.join(b+" ")+b).split(" "),f;for(f in a)if(d[a[f]]!==c)return true}function e(a,b,c){var d=k.createElement("div"),c=c?[c]:g,f;for(i=0;i<c.length;i++){var e=c[i],h="-"+e.charAt(0).toLowerCase()+e.substr(1)+"-"+a+": "+b+";",e=e.charAt(0).toUpperCase()+
e.substr(1)+(a.charAt(0).toUpperCase()+a.substr(1));d.setAttribute("style",h);d.style[e]&&(f=true)}return!!f}var f=a("<body>").prependTo("html"),d=f[0].style,g=["Webkit","Moz","O"],h="palmGetResource"in s,j=s.operamini&&{}.toString.call(s.operamini)==="[object OperaMini]",o=s.blackberry;a.extend(a.mobile,{browser:{}});a.mobile.browser.ie=function(){for(var a=3,b=k.createElement("div"),c=b.all||[];b.innerHTML="<\!--[if gt IE "+ ++a+"]><br><![endif]--\>",c[0];);return a>4?a:!a}();a.extend(a.support,
{orientation:"orientation"in s&&"onorientationchange"in s,touch:"ontouchend"in k,cssTransitions:"WebKitTransitionEvent"in s||e("transition","height 100ms linear"),pushState:"pushState"in history&&"replaceState"in history,mediaquery:a.mobile.media("only all"),cssPseudoElement:!!b("content"),touchOverflow:!!b("overflowScrolling"),cssTransform3d:e("perspective","10px","moz")||a.mobile.media("(-"+g.join("-transform-3d),(-")+"-transform-3d),(transform-3d)"),boxShadow:!!b("boxShadow")&&!o,scrollTop:("pageXOffset"in
s||"scrollTop"in k.documentElement||"scrollTop"in f[0])&&!h&&!j,dynamicBaseTag:function(){var b=location.protocol+"//"+location.host+location.pathname+"ui-dir/",c=a("head base"),d=null,e="",g;c.length?e=c.attr("href"):c=d=a("<base>",{href:b}).appendTo("head");g=a("<a href='testurl' />").prependTo(f)[0].href;c[0].href=e||location.pathname;d&&d.remove();return g.indexOf(b)===0}()});f.remove();h=function(){var a=s.navigator.userAgent;return a.indexOf("Nokia")>-1&&(a.indexOf("Symbian/3")>-1||a.indexOf("Series60/5")>
-1)&&a.indexOf("AppleWebKit")>-1&&a.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/)}();a.mobile.gradeA=function(){return a.support.mediaquery||a.mobile.browser.ie&&a.mobile.browser.ie>=7};a.mobile.ajaxBlacklist=s.blackberry&&!s.WebKitPoint||j||h;h&&a(function(){a("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet")});a.support.boxShadow||a("html").addClass("ui-mobile-nosupport-boxshadow")})(jQuery);(function(a,c,b){function e(b,c,d){var f=d.type;d.type=c;a.event.handle.call(b,
d);d.type=f}a.each("touchstart touchmove touchend orientationchange throttledresize tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(b,c){a.fn[c]=function(a){return a?this.bind(c,a):this.trigger(c)};a.attrFn[c]=true});var f=a.support.touch,d=f?"touchstart":"mousedown",g=f?"touchend":"mouseup",h=f?"touchmove":"mousemove";a.event.special.scrollstart={enabled:true,setup:function(){function b(a,f){d=f;e(c,d?"scrollstart":"scrollstop",a)}var c=this,d,f;a(c).bind("touchmove scroll",
function(c){a.event.special.scrollstart.enabled&&(d||b(c,true),clearTimeout(f),f=setTimeout(function(){b(c,false)},50))})}};a.event.special.tap={setup:function(){var b=this,c=a(b);c.bind("vmousedown",function(d){function f(){clearTimeout(q)}function g(){f();c.unbind("vclick",h).unbind("vmouseup",f);a(k).unbind("vmousecancel",g)}function h(a){g();n==a.target&&e(b,"tap",a)}if(d.which&&d.which!==1)return false;var n=d.target,q;c.bind("vmouseup",f).bind("vclick",h);a(k).bind("vmousecancel",g);q=setTimeout(function(){e(b,
"taphold",a.Event("taphold",{target:n}))},750)})}};a.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1E3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var c=a(this);c.bind(d,function(d){function f(b){if(l){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;k={time:(new Date).getTime(),coords:[c.pageX,c.pageY]};Math.abs(l.coords[0]-k.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault()}}var e=d.originalEvent.touches?
d.originalEvent.touches[0]:d,l={time:(new Date).getTime(),coords:[e.pageX,e.pageY],origin:a(d.target)},k;c.bind(h,f).one(g,function(){c.unbind(h,f);l&&k&&k.time-l.time<a.event.special.swipe.durationThreshold&&Math.abs(l.coords[0]-k.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(l.coords[1]-k.coords[1])<a.event.special.swipe.verticalDistanceThreshold&&l.origin.trigger("swipe").trigger(l.coords[0]>k.coords[0]?"swipeleft":"swiperight");l=k=b})})}};(function(a,b){function c(){var a=
f();a!==e&&(e=a,d.trigger("orientationchange"))}var d=a(b),f,e,g,h,t={0:true,180:true};if(a.support.orientation&&(g=b.innerWidth||a(b).width(),h=b.innerHeight||a(b).height(),g=g>h&&g-h>50,h=t[b.orientation],g&&h||!g&&!h))t={"-90":true,90:true};a.event.special.orientationchange={setup:function(){if(a.support.orientation&&a.mobile.orientationChangeEnabled)return false;e=f();d.bind("throttledresize",c)},teardown:function(){if(a.support.orientation&&a.mobile.orientationChangeEnabled)return false;d.unbind("throttledresize",
c)},add:function(a){var b=a.handler;a.handler=function(a){a.orientation=f();return b.apply(this,arguments)}}};a.event.special.orientationchange.orientation=f=function(){var c=true,c=k.documentElement;return(c=a.support.orientation?t[b.orientation]:c&&c.clientWidth/c.clientHeight<1.1)?"portrait":"landscape"}})(jQuery,c);(function(){a.event.special.throttledresize={setup:function(){a(this).bind("resize",b)},teardown:function(){a(this).unbind("resize",b)}};var b=function(){f=(new Date).getTime();g=f-
c;g>=250?(c=f,a(this).trigger("throttledresize")):(d&&clearTimeout(d),d=setTimeout(b,250-g))},c=0,d,f,g})();a.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(b,c){a.event.special[b]={setup:function(){a(this).bind(c,a.noop)}}})})(jQuery,this);(function(a){a.widget("mobile.page",a.mobile.widget,{options:{theme:"c",domCache:false,keepNativeDefault:":jqmData(role='none'), :jqmData(role='nojs')"},_create:function(){var a=this;if(a._trigger("beforecreate")===
false)return false;a.element.attr("tabindex","0").addClass("ui-page ui-body-"+a.options.theme).bind("pagebeforehide",function(){a.removeContainerBackground()}).bind("pagebeforeshow",function(){a.setContainerBackground()})},removeContainerBackground:function(){a.mobile.pageContainer.removeClass("ui-overlay-"+a.mobile.getInheritedTheme(this.element.parent()))},setContainerBackground:function(c){this.options.theme&&a.mobile.pageContainer.addClass("ui-overlay-"+(c||this.options.theme))},keepNativeSelector:function(){var c=
this.options;return c.keepNative&&a.trim(c.keepNative)&&c.keepNative!==c.keepNativeDefault?[c.keepNative,c.keepNativeDefault].join(", "):c.keepNativeDefault}})})(jQuery);(function(a,c,b){var e=function(d){d===b&&(d=true);return function(b,f,e,o){var k=new a.Deferred,p=f?" reverse":"",l=a.mobile.urlHistory.getActive().lastScroll||a.mobile.defaultHomeScroll,r=a.mobile.getScreenHeight(),n=a.mobile.maxTransitionWidth!==false&&a(c).width()>a.mobile.maxTransitionWidth,q=!a.support.cssTransitions||n||!b||
b==="none",t=function(){a.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+b)},x=function(){a.event.special.scrollstart.enabled=false;c.scrollTo(0,l);setTimeout(function(){a.event.special.scrollstart.enabled=true},150)},u=function(){o.removeClass(a.mobile.activePageClass+" out in reverse "+b).height("")},n=function(){o&&d&&u();e.addClass(a.mobile.activePageClass);a.mobile.focusPage(e);e.height(r+l);x();q||e.animationComplete(w);e.addClass(b+" in"+p);q&&w()},w=function(){d||
o&&u();e.removeClass("out in reverse "+b).height("");t();a(c).scrollTop()!==l&&x();k.resolve(b,f,e,o,true)};t();o&&!q?(d?o.animationComplete(n):n(),o.height(r+a(c).scrollTop()).addClass(b+" out"+p)):n();return k.promise()}},f=e(),e=e(false);a.mobile.defaultTransitionHandler=f;a.mobile.transitionHandlers={"default":a.mobile.defaultTransitionHandler,sequential:f,simultaneous:e};a.mobile.transitionFallbacks={}})(jQuery,this);(function(a,c){function b(b){r&&(!r.closest(".ui-page-active").length||b)&&
r.removeClass(a.mobile.activeBtnClass);r=null}function e(){t=false;q.length>0&&a.mobile.changePage.apply(null,q.pop())}function f(b,c,d,f){c&&c.data("page")._trigger("beforehide",null,{nextPage:b});b.data("page")._trigger("beforeshow",null,{prevPage:c||a("")});a.mobile.hidePageLoadingMsg();d&&!a.support.cssTransform3d&&a.mobile.transitionFallbacks[d]&&(d=a.mobile.transitionFallbacks[d]);d=(a.mobile.transitionHandlers[d||"default"]||a.mobile.defaultTransitionHandler)(d,f,b,c);d.done(function(){c&&
c.data("page")._trigger("hide",null,{nextPage:b});b.data("page")._trigger("show",null,{prevPage:c||a("")})});return d}function d(){return s.innerHeight||a(s).height()}function g(){var b=a("."+a.mobile.activePageClass),c=parseFloat(b.css("padding-top")),f=parseFloat(b.css("padding-bottom"));b.css("min-height",d()-c-f)}function h(b,c){c&&b.attr("data-"+a.mobile.ns+"role",c);b.page()}function j(a){for(;a;){if(typeof a.nodeName==="string"&&a.nodeName.toLowerCase()=="a")break;a=a.parentNode}return a}function o(b){var b=
a(b).closest(".ui-page").jqmData("url"),c=v.hrefNoHash;if(!b||!l.isPath(b))b=c;return l.makeUrlAbsolute(b,c)}var m=a(s);a("html");var p=a("head"),l={urlParseRE:/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,parseUrl:function(b){if(a.type(b)==="object")return b;b=l.urlParseRE.exec(b||"")||[];return{href:b[0]||"",hrefNoHash:b[1]||"",hrefNoSearch:b[2]||"",domain:b[3]||"",
protocol:b[4]||"",doubleSlash:b[5]||"",authority:b[6]||"",username:b[8]||"",password:b[9]||"",host:b[10]||"",hostname:b[11]||"",port:b[12]||"",pathname:b[13]||"",directory:b[14]||"",filename:b[15]||"",search:b[16]||"",hash:b[17]||""}},makePathAbsolute:function(a,b){if(a&&a.charAt(0)==="/")return a;for(var a=a||"",c=(b=b?b.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"")?b.split("/"):[],d=a.split("/"),f=0;f<d.length;f++){var e=d[f];switch(e){case ".":break;case "..":c.length&&c.pop();break;default:c.push(e)}}return"/"+
c.join("/")},isSameDomain:function(a,b){return l.parseUrl(a).domain===l.parseUrl(b).domain},isRelativeUrl:function(a){return l.parseUrl(a).protocol===""},isAbsoluteUrl:function(a){return l.parseUrl(a).protocol!==""},makeUrlAbsolute:function(a,b){if(!l.isRelativeUrl(a))return a;var c=l.parseUrl(a),d=l.parseUrl(b),f=c.protocol||d.protocol,e=c.protocol?c.doubleSlash:c.doubleSlash||d.doubleSlash,g=c.authority||d.authority,h=c.pathname!=="",j=l.makePathAbsolute(c.pathname||d.filename,d.pathname);return f+
e+g+j+(c.search||!h&&d.search||"")+c.hash},addSearchParams:function(b,c){var d=l.parseUrl(b),f=typeof c==="object"?a.param(c):c,e=d.search||"?";return d.hrefNoSearch+e+(e.charAt(e.length-1)!=="?"?"&":"")+f+(d.hash||"")},convertUrlToDataUrl:function(a){var b=l.parseUrl(a);if(l.isEmbeddedPage(b))return b.hash.split(x)[0].replace(/^#/,"");else if(l.isSameDomain(b,v))return b.hrefNoHash.replace(v.domain,"");return a},get:function(a){if(a===c)a=location.hash;return l.stripHash(a).replace(/[^\/]*\.[^\/*]+$/,
"")},getFilePath:function(b){var c="&"+a.mobile.subPageUrlKey;return b&&b.split(c)[0].split(x)[0]},set:function(a){location.hash=a},isPath:function(a){return/\//.test(a)},clean:function(a){return a.replace(v.domain,"")},stripHash:function(a){return a.replace(/^#/,"")},cleanHash:function(a){return l.stripHash(a.replace(/\?.*$/,"").replace(x,""))},isExternal:function(a){a=l.parseUrl(a);return a.protocol&&a.domain!==w.domain?true:false},hasProtocol:function(a){return/^(:?\w+:)/.test(a)},isFirstPageUrl:function(b){var b=
l.parseUrl(l.makeUrlAbsolute(b,v)),d=a.mobile.firstPage,d=d&&d[0]?d[0].id:c;return(b.hrefNoHash===w.hrefNoHash||y&&b.hrefNoHash===v.hrefNoHash)&&(!b.hash||b.hash==="#"||d&&b.hash.replace(/^#/,"")===d)},isEmbeddedPage:function(a){a=l.parseUrl(a);return a.protocol!==""?a.hash&&(a.hrefNoHash===w.hrefNoHash||y&&a.hrefNoHash===v.hrefNoHash):/^#/.test(a.href)}},r=null,n={stack:[],activeIndex:0,getActive:function(){return n.stack[n.activeIndex]},getPrev:function(){return n.stack[n.activeIndex-1]},getNext:function(){return n.stack[n.activeIndex+
1]},addNew:function(a,b,c,d,f){n.getNext()&&n.clearForward();n.stack.push({url:a,transition:b,title:c,pageUrl:d,role:f});n.activeIndex=n.stack.length-1},clearForward:function(){n.stack=n.stack.slice(0,n.activeIndex+1)},directHashChange:function(b){var d,f,e;this.getActive();a.each(n.stack,function(a,c){b.currentUrl===c.url&&(d=a<n.activeIndex,f=!d,e=a)});this.activeIndex=e!==c?e:this.activeIndex;d?(b.either||b.isBack)(true):f&&(b.either||b.isForward)(false)},ignoreNextHashChange:false},q=[],t=false,
x="&ui-state=dialog",u=p.children("base"),w=l.parseUrl(location.href),v=u.length?l.parseUrl(l.makeUrlAbsolute(u.attr("href"),w.href)):w,y=w.hrefNoHash!==v.hrefNoHash,B=a.support.dynamicBaseTag?{element:u.length?u:a("<base>",{href:v.hrefNoHash}).prependTo(p),set:function(a){B.element.attr("href",l.makeUrlAbsolute(a,v))},reset:function(){B.element.attr("href",v.hrefNoHash)}}:c;a.mobile.focusPage=function(a){var b=a.find("[autofocus]"),c=a.find(".ui-title:eq(0)");b.length?b.focus():c.length?c.focus():
a.focus()};var E=true,A,C;A=function(){if(E){var b=a.mobile.urlHistory.getActive();if(b){var c=m.scrollTop();b.lastScroll=c<a.mobile.minScrollBack?a.mobile.defaultHomeScroll:c}}};C=function(){setTimeout(A,100)};m.bind(a.support.pushState?"popstate":"hashchange",function(){E=false});m.one(a.support.pushState?"popstate":"hashchange",function(){E=true});m.one("pagecontainercreate",function(){a.mobile.pageContainer.bind("pagechange",function(){E=true;m.unbind("scrollstop",C);m.bind("scrollstop",C)})});
m.bind("scrollstop",C);a.mobile.getScreenHeight=d;a.fn.animationComplete=function(b){return a.support.cssTransitions?a(this).one("webkitAnimationEnd animationend",b):(setTimeout(b,0),a(this))};a.mobile.path=l;a.mobile.base=B;a.mobile.urlHistory=n;a.mobile.dialogHashKey=x;a.mobile.allowCrossDomainPages=false;a.mobile.getDocumentUrl=function(b){return b?a.extend({},w):w.href};a.mobile.getDocumentBase=function(b){return b?a.extend({},v):v.href};a.mobile._bindPageRemove=function(){var b=a(this);!b.data("page").options.domCache&&
b.is(":jqmData(external-page='true')")&&b.bind("pagehide.remove",function(){var b=a(this),c=new a.Event("pageremove");b.trigger(c);c.isDefaultPrevented()||b.removeWithDependents()})};a.mobile.loadPage=function(b,d){var f=a.Deferred(),e=a.extend({},a.mobile.loadPage.defaults,d),g=null,j=null,k=l.makeUrlAbsolute(b,a.mobile.activePage&&o(a.mobile.activePage)||v.hrefNoHash);if(e.data&&e.type==="get")k=l.addSearchParams(k,e.data),e.data=c;if(e.data&&e.type==="post")e.reloadPage=true;var u=l.getFilePath(k),
n=l.convertUrlToDataUrl(k);e.pageContainer=e.pageContainer||a.mobile.pageContainer;g=e.pageContainer.children(":jqmData(url='"+n+"')");g.length===0&&n&&!l.isPath(n)&&(g=e.pageContainer.children("#"+n).attr("data-"+a.mobile.ns+"url",n));if(g.length===0)if(a.mobile.firstPage&&l.isFirstPageUrl(u))a.mobile.firstPage.parent().length&&(g=a(a.mobile.firstPage));else if(l.isEmbeddedPage(u))return f.reject(k,d),f.promise();B&&B.reset();if(g.length){if(!e.reloadPage)return h(g,e.role),f.resolve(k,d,g),f.promise();
j=g}var m=e.pageContainer,x=new a.Event("pagebeforeload"),p={url:b,absUrl:k,dataUrl:n,deferred:f,options:e};m.trigger(x,p);if(x.isDefaultPrevented())return f.promise();if(e.showLoadMsg)var r=setTimeout(function(){a.mobile.showPageLoadingMsg()},e.loadMsgDelay);!a.mobile.allowCrossDomainPages&&!l.isSameDomain(w,k)?f.reject(k,d):a.ajax({url:u,type:e.type,data:e.data,dataType:"html",success:function(c,o,m){var x=a("<div></div>"),v=c.match(/<title[^>]*>([^<]*)/)&&RegExp.$1,w=RegExp("\\bdata-"+a.mobile.ns+
"url=[\"']?([^\"'>]*)[\"']?");RegExp("(<[^>]+\\bdata-"+a.mobile.ns+"role=[\"']?page[\"']?[^>]*>)").test(c)&&RegExp.$1&&w.test(RegExp.$1)&&RegExp.$1&&(b=u=l.getFilePath(RegExp.$1));B&&B.set(u);x.get(0).innerHTML=c;g=x.find(":jqmData(role='page'), :jqmData(role='dialog')").first();g.length||(g=a("<div data-"+a.mobile.ns+"role='page'>"+c.split(/<\/?body[^>]*>/gmi)[1]+"</div>"));v&&!g.jqmData("title")&&(~v.indexOf("&")&&(v=a("<div>"+v+"</div>").text()),g.jqmData("title",v));if(!a.support.dynamicBaseTag){var q=
l.get(u);g.find("[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]").each(function(){var b=a(this).is("[href]")?"href":a(this).is("[src]")?"src":"action",c=a(this).attr(b),c=c.replace(location.protocol+"//"+location.host+location.pathname,"");/^(\w+:|#|\/)/.test(c)||a(this).attr(b,q+c)})}g.attr("data-"+a.mobile.ns+"url",l.convertUrlToDataUrl(u)).attr("data-"+a.mobile.ns+"external-page",true).appendTo(e.pageContainer);g.one("pagecreate",a.mobile._bindPageRemove);h(g,e.role);k.indexOf("&"+
a.mobile.subPageUrlKey)>-1&&(g=e.pageContainer.children(":jqmData(url='"+n+"')"));e.showLoadMsg&&(clearTimeout(r),a.mobile.hidePageLoadingMsg());p.xhr=m;p.textStatus=o;p.page=g;e.pageContainer.trigger("pageload",p);f.resolve(k,d,g,j)},error:function(b,c,g){B&&B.set(l.get());p.xhr=b;p.textStatus=c;p.errorThrown=g;b=new a.Event("pageloadfailed");e.pageContainer.trigger(b,p);b.isDefaultPrevented()||(e.showLoadMsg&&(clearTimeout(r),a.mobile.hidePageLoadingMsg(),a.mobile.showPageLoadingMsg(a.mobile.pageLoadErrorMessageTheme,
a.mobile.pageLoadErrorMessage,true),setTimeout(a.mobile.hidePageLoadingMsg,1500)),f.reject(k,d))}});return f.promise()};a.mobile.loadPage.defaults={type:"get",data:c,reloadPage:false,role:c,showLoadMsg:false,pageContainer:c,loadMsgDelay:50};a.mobile.changePage=function(d,g){if(t)q.unshift(arguments);else{var j=a.extend({},a.mobile.changePage.defaults,g);j.pageContainer=j.pageContainer||a.mobile.pageContainer;j.fromPage=j.fromPage||a.mobile.activePage;var u=j.pageContainer,o=new a.Event("pagebeforechange"),
m={toPage:d,options:j};u.trigger(o,m);if(!o.isDefaultPrevented())if(d=m.toPage,t=true,typeof d=="string")a.mobile.loadPage(d,j).done(function(b,c,d,e){t=false;c.duplicateCachedPage=e;a.mobile.changePage(d,c)}).fail(function(){t=false;b(true);e();j.pageContainer.trigger("pagechangefailed",m)});else{if(d[0]===a.mobile.firstPage[0]&&!j.dataUrl)j.dataUrl=w.hrefNoHash;var o=j.fromPage,p=j.dataUrl&&l.convertUrlToDataUrl(j.dataUrl)||d.jqmData("url"),v=p;l.getFilePath(p);var r=n.getActive(),s=n.activeIndex===
0,y=0,B=k.title,A=j.role==="dialog"||d.jqmData("role")==="dialog";if(o&&o[0]===d[0]&&!j.allowSamePageTransition)t=false,u.trigger("pagechange",m);else{h(d,j.role);j.fromHashChange&&n.directHashChange({currentUrl:p,isBack:function(){y=-1},isForward:function(){y=1}});try{k.activeElement&&k.activeElement.nodeName.toLowerCase()!="body"?a(k.activeElement).blur():a("input:focus, textarea:focus, select:focus").blur()}catch(E){}A&&r&&(p=(r.url||"")+x);if(j.changeHash!==false&&p)n.ignoreNextHashChange=true,
l.set(p);var C=!r?B:d.jqmData("title")||d.children(":jqmData(role='header')").find(".ui-title").getEncodedText();C&&B==k.title&&(B=C);d.jqmData("title")||d.jqmData("title",B);j.transition=j.transition||(y&&!s?r.transition:c)||(A?a.mobile.defaultDialogTransition:a.mobile.defaultPageTransition);y||n.addNew(p,j.transition,B,v,j.role);k.title=n.getActive().title;a.mobile.activePage=d;j.reverse=j.reverse||y<0;f(d,o,j.transition,j.reverse).done(function(c,f,g,h,l){b();j.duplicateCachedPage&&j.duplicateCachedPage.remove();
l||a.mobile.focusPage(d);e();u.trigger("pagechange",m)})}}}};a.mobile.changePage.defaults={transition:c,reverse:false,changeHash:true,fromHashChange:false,role:c,duplicateCachedPage:c,pageContainer:c,showLoadMsg:true,dataUrl:c,fromPage:c,allowSamePageTransition:false};a.mobile._registerInternalEvents=function(){a(k).delegate("form","submit",function(b){var c=a(this);if(a.mobile.ajaxEnabled&&!c.is(":jqmData(ajax='false')")&&c.jqmHijackable().length){var d=c.attr("method"),e=c.attr("target"),f=c.attr("action");
if(!f&&(f=o(c),f===v.hrefNoHash))f=w.hrefNoSearch;f=l.makeUrlAbsolute(f,o(c));!l.isExternal(f)&&!e&&(a.mobile.changePage(f,{type:d&&d.length&&d.toLowerCase()||"get",data:c.serialize(),transition:c.jqmData("transition"),direction:c.jqmData("direction"),reloadPage:true}),b.preventDefault())}});a(k).bind("vclick",function(c){if(!(c.which>1)&&a.mobile.linkBindingEnabled&&(c=j(c.target),a(c).jqmHijackable().length&&c&&l.parseUrl(c.getAttribute("href")||"#").hash!=="#"))b(true),r=a(c).closest(".ui-btn").not(".ui-disabled"),
r.addClass(a.mobile.activeBtnClass),a("."+a.mobile.activePageClass+" .ui-btn").not(c).blur(),a(c).jqmData("href",a(c).attr("href")).attr("href","#")});a(k).bind("click",function(d){if(a.mobile.linkBindingEnabled){var f=j(d.target),e=a(f),g;if(f&&!(d.which>1)&&e.jqmHijackable().length){g=function(){s.setTimeout(function(){b(true)},200)};e.jqmData("href")&&e.attr("href",e.jqmData("href"));if(e.is(":jqmData(rel='back')"))return s.history.back(),false;var h=o(e),f=l.makeUrlAbsolute(e.attr("href")||"#",
h);if(!a.mobile.ajaxEnabled&&!l.isEmbeddedPage(f))g();else{if(f.search("#")!=-1)if(f=f.replace(/[^#]*#/,""))f=l.isPath(f)?l.makeUrlAbsolute(f,h):l.makeUrlAbsolute("#"+f,w.hrefNoHash);else{d.preventDefault();return}var h=e.is("[rel='external']")||e.is(":jqmData(ajax='false')")||e.is("[target]"),k=a.mobile.allowCrossDomainPages&&w.protocol==="file:"&&f.search(/^https?:/)!=-1;h||l.isExternal(f)&&!k?g():(g=e.jqmData("transition"),h=(h=e.jqmData("direction"))&&h==="reverse"||e.jqmData("back"),e=e.attr("data-"+
a.mobile.ns+"rel")||c,a.mobile.changePage(f,{transition:g,reverse:h,role:e}),d.preventDefault())}}}});a(k).delegate(".ui-page","pageshow.prefetch",function(){var b=[];a(this).find("a:jqmData(prefetch)").each(function(){var c=a(this),d=c.attr("href");d&&a.inArray(d,b)===-1&&(b.push(d),a.mobile.loadPage(d,{role:c.attr("data-"+a.mobile.ns+"rel")}))})});a.mobile._handleHashChange=function(b){var d=l.stripHash(b),f={transition:a.mobile.urlHistory.stack.length===0?"none":c,changeHash:false,fromHashChange:true};
if(!a.mobile.hashListeningEnabled||n.ignoreNextHashChange)n.ignoreNextHashChange=false;else{if(n.stack.length>1&&d.indexOf(x)>-1)if(a.mobile.activePage.is(".ui-dialog"))n.directHashChange({currentUrl:d,either:function(b){var c=a.mobile.urlHistory.getActive();d=c.pageUrl;a.extend(f,{role:c.role,transition:c.transition,reverse:b})}});else{n.directHashChange({currentUrl:d,isBack:function(){s.history.back()},isForward:function(){s.history.forward()}});return}d?(d=typeof d==="string"&&!l.isPath(d)?l.makeUrlAbsolute("#"+
d,v):d,a.mobile.changePage(d,f)):a.mobile.changePage(a.mobile.firstPage,f)}};m.bind("hashchange",function(){a.mobile._handleHashChange(location.hash)});a(k).bind("pageshow",g);a(s).bind("throttledresize",g)}})(jQuery);(function(a,c){var b={},e=a(c),f=a.mobile.path.parseUrl(location.href);a.extend(b,{initialFilePath:f.pathname+f.search,initialHref:f.hrefNoHash,state:function(){return{hash:location.hash||"#"+b.initialFilePath,title:k.title,initialHref:b.initialHref}},resetUIKeys:function(b){var c="&"+
a.mobile.subPageUrlKey,f=b.indexOf(a.mobile.dialogHashKey);f>-1?b=b.slice(0,f)+"#"+b.slice(f):b.indexOf(c)>-1&&(b=b.split(c).join("#"+c));return b},hashValueAfterReset:function(c){c=b.resetUIKeys(c);return a.mobile.path.parseUrl(c).hash},nextHashChangePrevented:function(c){a.mobile.urlHistory.ignoreNextHashChange=c;b.onHashChangeDisabled=c},onHashChange:function(){if(!b.onHashChangeDisabled){var c,f;c=location.hash;var e=a.mobile.path.isPath(c),j=e?location.href:a.mobile.getDocumentUrl();c=e?c.replace("#",
""):c;f=b.state();c=a.mobile.path.makeUrlAbsolute(c,j);e&&(c=b.resetUIKeys(c));history.replaceState(f,k.title,c)}},onPopState:function(c){var c=c.originalEvent.state,f,h;if(c){f=b.hashValueAfterReset(a.mobile.urlHistory.getActive().url);h=b.hashValueAfterReset(c.hash.replace("#",""));if(f=f!==h)e.one("hashchange.pushstate",function(){b.nextHashChangePrevented(false)});b.nextHashChangePrevented(false);a.mobile._handleHashChange(c.hash);f&&b.nextHashChangePrevented(true)}},init:function(){e.bind("hashchange",
b.onHashChange);e.bind("popstate",b.onPopState);location.hash===""&&history.replaceState(b.state(),k.title,location.href)}});a(function(){a.mobile.pushStateEnabled&&a.support.pushState&&b.init()})})(jQuery,this);jQuery.mobile.transitionFallbacks.pop="fade";(function(a){a.mobile.transitionHandlers.slide=a.mobile.transitionHandlers.simultaneous;a.mobile.transitionFallbacks.slide="fade"})(jQuery,this);jQuery.mobile.transitionFallbacks.slidedown="fade";jQuery.mobile.transitionFallbacks.slideup="fade";
jQuery.mobile.transitionFallbacks.flip="fade";jQuery.mobile.transitionFallbacks.flow="fade";jQuery.mobile.transitionFallbacks.turn="fade";(function(a){a.mobile.page.prototype.options.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};a(k).bind("pagecreate create",function(c){var b=a.mobile.closestPageData(a(c.target)),e;if(b)e=b.options,a(c.target).find("input").not(b.keepNativeSelector()).each(function(){var b=
a(this),c=this.getAttribute("type"),g=e.degradeInputs[c]||"text";if(e.degradeInputs[c]){var h=a("<div>").html(b.clone()).html(),j=h.indexOf(" type=")>-1;b.replaceWith(h.replace(j?/\s+type=["']?\w+['"]?/:/\/?>/,' type="'+g+'" data-'+a.mobile.ns+'type="'+c+'"'+(j?"":">")))}})})})(jQuery);(function(a,c){a.widget("mobile.dialog",a.mobile.widget,{options:{closeBtnText:"Close",overlayTheme:"a",initSelector:":jqmData(role='dialog')"},_create:function(){var b=this,c=this.element,f=a("<a href='#' data-"+a.mobile.ns+
"icon='delete' data-"+a.mobile.ns+"iconpos='notext'>"+this.options.closeBtnText+"</a>"),d=a("<div/>",{role:"dialog","class":"ui-dialog-contain ui-corner-all ui-overlay-shadow"});c.addClass("ui-dialog ui-overlay-"+this.options.overlayTheme);c.wrapInner(d).children().find(":jqmData(role='header')").prepend(f).end().children(":first-child").addClass("ui-corner-top").end().children(":last-child").addClass("ui-corner-bottom");f.bind("click",function(){b.close()});c.bind("vclick submit",function(b){var b=
a(b.target).closest(b.type==="vclick"?"a":"form"),c;b.length&&!b.jqmData("transition")&&(c=a.mobile.urlHistory.getActive()||{},b.attr("data-"+a.mobile.ns+"transition",c.transition||a.mobile.defaultDialogTransition).attr("data-"+a.mobile.ns+"direction","reverse"))}).bind("pagehide",function(){a(this).find("."+a.mobile.activeBtnClass).removeClass(a.mobile.activeBtnClass)}).bind("pagebeforeshow",function(){b.options.overlayTheme&&b.element.page("removeContainerBackground").page("setContainerBackground",
b.options.overlayTheme)})},close:function(){c.history.back()}});a(k).delegate(a.mobile.dialog.prototype.options.initSelector,"pagecreate",function(){a.mobile.dialog.prototype.enhance(this)})})(jQuery,this);(function(a){a.fn.fieldcontain=function(){return this.addClass("ui-field-contain ui-body ui-br")};a(k).bind("pagecreate create",function(c){a(":jqmData(role='fieldcontain')",c.target).jqmEnhanceable().fieldcontain()})})(jQuery);(function(a){a.fn.grid=function(c){return this.each(function(){var b=
a(this),e=a.extend({grid:null},c),f=b.children(),d={solo:1,a:2,b:3,c:4,d:5},e=e.grid;if(!e)if(f.length<=5)for(var g in d)d[g]===f.length&&(e=g);else e="a";d=d[e];b.addClass("ui-grid-"+e);f.filter(":nth-child("+d+"n+1)").addClass("ui-block-a");d>1&&f.filter(":nth-child("+d+"n+2)").addClass("ui-block-b");d>2&&f.filter(":nth-child(3n+3)").addClass("ui-block-c");d>3&&f.filter(":nth-child(4n+4)").addClass("ui-block-d");d>4&&f.filter(":nth-child(5n+5)").addClass("ui-block-e")})}})(jQuery);(function(a){a(k).bind("pagecreate create",
function(c){a(":jqmData(role='nojs')",c.target).addClass("ui-nojs")})})(jQuery);(function(a,c){function b(a){for(var b;a;){if((b=typeof a.className==="string"&&a.className+" ")&&b.indexOf("ui-btn ")>-1&&b.indexOf("ui-disabled ")<0)break;a=a.parentNode}return a}a.fn.buttonMarkup=function(b){for(var b=b&&a.type(b)=="object"?b:{},d=0;d<this.length;d++){var g=this.eq(d),h=g[0],j=a.extend({},a.fn.buttonMarkup.defaults,{icon:b.icon!==c?b.icon:g.jqmData("icon"),iconpos:b.iconpos!==c?b.iconpos:g.jqmData("iconpos"),
theme:b.theme!==c?b.theme:g.jqmData("theme")||a.mobile.getInheritedTheme(g,"c"),inline:b.inline!==c?b.inline:g.jqmData("inline"),shadow:b.shadow!==c?b.shadow:g.jqmData("shadow"),corners:b.corners!==c?b.corners:g.jqmData("corners"),iconshadow:b.iconshadow!==c?b.iconshadow:g.jqmData("iconshadow"),mini:b.mini!==c?b.mini:g.jqmData("mini")},b),o="ui-btn-inner",m,p,l,r,n,q;a.each(j,function(b,c){h.setAttribute("data-"+a.mobile.ns+b,c);g.jqmData(b,c)});(q=a.data(h.tagName==="INPUT"||h.tagName==="BUTTON"?
h.parentNode:h,"buttonElements"))?(h=q.outer,g=a(h),l=q.inner,r=q.text,a(q.icon).remove(),q.icon=null):(l=k.createElement(j.wrapperEls),r=k.createElement(j.wrapperEls));n=j.icon?k.createElement("span"):null;e&&!q&&e();if(!j.theme)j.theme=a.mobile.getInheritedTheme(g,"c");m="ui-btn ui-btn-up-"+j.theme;m+=j.inline?" ui-btn-inline":"";m+=j.shadow?" ui-shadow":"";m+=j.corners?" ui-btn-corner-all":"";j.mini!==c&&(m+=j.mini?" ui-mini":" ui-fullsize");j.inline!==c&&(m+=j.inline===false?" ui-btn-block":" ui-btn-inline");
if(j.icon)j.icon="ui-icon-"+j.icon,j.iconpos=j.iconpos||"left",p="ui-icon "+j.icon,j.iconshadow&&(p+=" ui-icon-shadow");j.iconpos&&(m+=" ui-btn-icon-"+j.iconpos,j.iconpos=="notext"&&!g.attr("title")&&g.attr("title",g.getEncodedText()));o+=j.corners?" ui-btn-corner-all":"";j.iconpos&&j.iconpos==="notext"&&!g.attr("title")&&g.attr("title",g.getEncodedText());q&&g.removeClass(q.bcls||"");g.removeClass("ui-link").addClass(m);l.className=o;r.className="ui-btn-text";q||l.appendChild(r);if(n&&(n.className=
p,!q||!q.icon))n.appendChild(k.createTextNode("\u00a0")),l.appendChild(n);for(;h.firstChild&&!q;)r.appendChild(h.firstChild);q||h.appendChild(l);q={bcls:m,outer:h,inner:l,text:r,icon:n};a.data(h,"buttonElements",q);a.data(l,"buttonElements",q);a.data(r,"buttonElements",q);n&&a.data(n,"buttonElements",q)}return this};a.fn.buttonMarkup.defaults={corners:true,shadow:true,iconshadow:true,wrapperEls:"span"};var e=function(){var c=a.mobile.buttonMarkup.hoverDelay,d,g;a(k).bind({"vmousedown vmousecancel vmouseup vmouseover vmouseout focus blur scrollstart":function(e){var j,
k=a(b(e.target)),e=e.type;if(k.length)if(j=k.attr("data-"+a.mobile.ns+"theme"),e==="vmousedown")a.support.touch?d=setTimeout(function(){k.removeClass("ui-btn-up-"+j).addClass("ui-btn-down-"+j)},c):k.removeClass("ui-btn-up-"+j).addClass("ui-btn-down-"+j);else if(e==="vmousecancel"||e==="vmouseup")k.removeClass("ui-btn-down-"+j).addClass("ui-btn-up-"+j);else if(e==="vmouseover"||e==="focus")a.support.touch?g=setTimeout(function(){k.removeClass("ui-btn-up-"+j).addClass("ui-btn-hover-"+j)},c):k.removeClass("ui-btn-up-"+
j).addClass("ui-btn-hover-"+j);else if(e==="vmouseout"||e==="blur"||e==="scrollstart")k.removeClass("ui-btn-hover-"+j+" ui-btn-down-"+j).addClass("ui-btn-up-"+j),d&&clearTimeout(d),g&&clearTimeout(g)},"focusin focus":function(c){a(b(c.target)).addClass(a.mobile.focusClass)},"focusout blur":function(c){a(b(c.target)).removeClass(a.mobile.focusClass)}});e=null};a(k).bind("pagecreate create",function(b){a(":jqmData(role='button'), .ui-bar > a, .ui-header > a, .ui-footer > a, .ui-bar > :jqmData(role='controlgroup') > a",
b.target).not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").buttonMarkup()})})(jQuery);(function(a){a.mobile.page.prototype.options.backBtnText="Back";a.mobile.page.prototype.options.addBackBtn=false;a.mobile.page.prototype.options.backBtnTheme=null;a.mobile.page.prototype.options.headerTheme="a";a.mobile.page.prototype.options.footerTheme="a";a.mobile.page.prototype.options.contentTheme=null;a(k).delegate(":jqmData(role='page'), :jqmData(role='dialog')","pagecreate",function(){var c=a(this),
b=c.data("page").options,e=c.jqmData("role"),f=b.theme;a(":jqmData(role='header'), :jqmData(role='footer'), :jqmData(role='content')",this).jqmEnhanceable().each(function(){var d=a(this),g=d.jqmData("role"),h=d.jqmData("theme"),j=h||b.contentTheme||e==="dialog"&&f,k;d.addClass("ui-"+g);if(g==="header"||g==="footer"){var m=h||(g==="header"?b.headerTheme:b.footerTheme)||f;d.addClass("ui-bar-"+m).attr("role",g==="header"?"banner":"contentinfo");g==="header"&&(h=d.children("a"),k=h.hasClass("ui-btn-left"),
j=h.hasClass("ui-btn-right"),k=k||h.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length,j||h.eq(1).addClass("ui-btn-right"));b.addBackBtn&&g==="header"&&a(".ui-page").length>1&&c.jqmData("url")!==a.mobile.path.stripHash(location.hash)&&!k&&a("<a href='#' class='ui-btn-left' data-"+a.mobile.ns+"rel='back' data-"+a.mobile.ns+"icon='arrow-l'>"+b.backBtnText+"</a>").attr("data-"+a.mobile.ns+"theme",b.backBtnTheme||m).prependTo(d);d.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({role:"heading",
"aria-level":"1"})}else g==="content"&&(j&&d.addClass("ui-body-"+j),d.attr("role","main"))})})})(jQuery);(function(a){a.widget("mobile.collapsible",a.mobile.widget,{options:{expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",theme:null,contentTheme:null,iconTheme:"d",mini:false,initSelector:":jqmData(role='collapsible')"},_create:function(){var c=this.element,b=this.options,e=c.addClass("ui-collapsible"),f=c.children(b.heading).first(),
d=e.wrapInner("<div class='ui-collapsible-content'></div>").find(".ui-collapsible-content"),g=c.closest(":jqmData(role='collapsible-set')").addClass("ui-collapsible-set");f.is("legend")&&(f=a("<div role='heading'>"+f.html()+"</div>").insertBefore(f),f.next().remove());if(g.length){if(!b.theme)b.theme=g.jqmData("theme")||a.mobile.getInheritedTheme(g,"c");if(!b.contentTheme)b.contentTheme=g.jqmData("content-theme");if(!b.iconPos)b.iconPos=g.jqmData("iconpos");if(!b.mini)b.mini=g.jqmData("mini")}d.addClass(b.contentTheme?
"ui-body-"+b.contentTheme:"");f.insertBefore(d).addClass("ui-collapsible-heading").append("<span class='ui-collapsible-heading-status'></span>").wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().buttonMarkup({shadow:false,corners:false,iconpos:c.jqmData("iconpos")||b.iconPos||"left",icon:"plus",mini:b.mini,theme:b.theme}).add(".ui-btn-inner",c).addClass("ui-corner-top ui-corner-bottom");e.bind("expand collapse",function(c){if(!c.isDefaultPrevented()){c.preventDefault();
var j=a(this),c=c.type==="collapse",k=b.contentTheme;f.toggleClass("ui-collapsible-heading-collapsed",c).find(".ui-collapsible-heading-status").text(c?b.expandCueText:b.collapseCueText).end().find(".ui-icon").toggleClass("ui-icon-minus",!c).toggleClass("ui-icon-plus",c);j.toggleClass("ui-collapsible-collapsed",c);d.toggleClass("ui-collapsible-content-collapsed",c).attr("aria-hidden",c);if(k&&(!g.length||e.jqmData("collapsible-last")))f.find("a").first().add(f.find(".ui-btn-inner")).toggleClass("ui-corner-bottom",
c),d.toggleClass("ui-corner-bottom",!c);d.trigger("updatelayout")}}).trigger(b.collapsed?"collapse":"expand");f.bind("click",function(a){var b=f.is(".ui-collapsible-heading-collapsed")?"expand":"collapse";e.trigger(b);a.preventDefault()})}});a(k).bind("pagecreate create",function(c){a.mobile.collapsible.prototype.enhanceWithin(c.target)})})(jQuery);(function(a,c){a.widget("mobile.collapsibleset",a.mobile.widget,{options:{initSelector:":jqmData(role='collapsible-set')"},_create:function(){var b=this.element.addClass("ui-collapsible-set"),
e=this.options;if(!e.theme)e.theme=a.mobile.getInheritedTheme(b,"c");if(!e.contentTheme)e.contentTheme=b.jqmData("content-theme");if(!e.corners)e.corners=b.jqmData("corners")===c?true:false;b.jqmData("collapsiblebound")||b.jqmData("collapsiblebound",true).bind("expand collapse",function(b){var c=b.type==="collapse",b=a(b.target).closest(".ui-collapsible"),e=b.data("collapsible");e.options.contentTheme&&b.jqmData("collapsible-last")&&(b.find(e.options.heading).first().find("a").first().add(".ui-btn-inner").toggleClass("ui-corner-bottom",
c),b.find(".ui-collapsible-content").toggleClass("ui-corner-bottom",!c))}).bind("expand",function(b){a(b.target).closest(".ui-collapsible").siblings(".ui-collapsible").trigger("collapse")})},_init:function(){this.refresh()},refresh:function(){var b=this.options,c=this.element.children(":jqmData(role='collapsible')");a.mobile.collapsible.prototype.enhance(c.not(".ui-collapsible"));c.each(function(){a(this).find(a.mobile.collapsible.prototype.options.heading).find("a").first().add(".ui-btn-inner").removeClass("ui-corner-top ui-corner-bottom")});
c.first().find("a").first().addClass(b.corners?"ui-corner-top":"").find(".ui-btn-inner").addClass("ui-corner-top");c.last().jqmData("collapsible-last",true).find("a").first().addClass(b.corners?"ui-corner-bottom":"").find(".ui-btn-inner").addClass("ui-corner-bottom")}});a(k).bind("pagecreate create",function(b){a.mobile.collapsibleset.prototype.enhanceWithin(b.target)})})(jQuery);(function(a,c){a.widget("mobile.navbar",a.mobile.widget,{options:{iconpos:"top",grid:null,initSelector:":jqmData(role='navbar')"},
_create:function(){var b=this.element,e=b.find("a"),f=e.filter(":jqmData(icon)").length?this.options.iconpos:c;b.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});f||b.addClass("ui-navbar-noicons");e.buttonMarkup({corners:false,shadow:false,inline:true,iconpos:f});b.delegate("a","vclick",function(b){a(b.target).hasClass("ui-disabled")||(e.removeClass(a.mobile.activeBtnClass),a(this).addClass(a.mobile.activeBtnClass))});b.closest(".ui-page").bind("pagebeforeshow",
function(){e.filter(".ui-state-persist").addClass(a.mobile.activeBtnClass)})}});a(k).bind("pagecreate create",function(b){a.mobile.navbar.prototype.enhanceWithin(b.target)})})(jQuery);(function(a){var c={};a.widget("mobile.listview",a.mobile.widget,{options:{theme:null,countTheme:"c",headerTheme:"b",dividerTheme:"b",splitIcon:"arrow-r",splitTheme:"b",mini:false,inset:false,initSelector:":jqmData(role='listview')"},_create:function(){var a="";a+=this.options.inset?" ui-listview-inset ui-corner-all ui-shadow ":
"";a+=this.element.jqmData("mini")||this.options.mini===true?" ui-mini":"";this.element.addClass(function(c,f){return f+" ui-listview "+a});this.refresh(true)},_removeCorners:function(a,c){a=a.add(a.find(".ui-btn-inner, .ui-li-link-alt, .ui-li-thumb"));c==="top"?a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl"):c==="bottom"?a.removeClass("ui-corner-bottom ui-corner-br ui-corner-bl"):a.removeClass("ui-corner-top ui-corner-tr ui-corner-tl ui-corner-bottom ui-corner-br ui-corner-bl")},_refreshCorners:function(a){var c,
f;this.options.inset&&(c=this.element.children("li"),f=a?c.not(".ui-screen-hidden"):c.filter(":visible"),this._removeCorners(c),c=f.first().addClass("ui-corner-top"),c.add(c.find(".ui-btn-inner").not(".ui-li-link-alt span:first-child")).addClass("ui-corner-top").end().find(".ui-li-link-alt, .ui-li-link-alt span:first-child").addClass("ui-corner-tr").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-tl"),f=f.last().addClass("ui-corner-bottom"),f.add(f.find(".ui-btn-inner")).find(".ui-li-link-alt").addClass("ui-corner-br").end().find(".ui-li-thumb").not(".ui-li-icon").addClass("ui-corner-bl"));
a||this.element.trigger("updatelayout")},_findFirstElementByTagName:function(a,c,f,d){var g={};for(g[f]=g[d]=true;a;){if(g[a.nodeName])return a;a=a[c]}return null},_getChildrenByTagName:function(b,c,f){var d=[],g={};g[c]=g[f]=true;for(b=b.firstChild;b;)g[b.nodeName]&&d.push(b),b=b.nextSibling;return a(d)},_addThumbClasses:function(b){var c,f,d=b.length;for(c=0;c<d;c++)f=a(this._findFirstElementByTagName(b[c].firstChild,"nextSibling","img","IMG")),f.length&&(f.addClass("ui-li-thumb"),a(this._findFirstElementByTagName(f[0].parentNode,
"parentNode","li","LI")).addClass(f.is(".ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb"))},refresh:function(b){this.parentPage=this.element.closest(".ui-page");this._createSubPages();var c=this.options,f=this.element,d=f.jqmData("dividertheme")||c.dividerTheme,g=f.jqmData("splittheme"),h=f.jqmData("spliticon"),j=this._getChildrenByTagName(f[0],"li","LI"),o=a.support.cssPseudoElement||!a.nodeName(f[0],"ol")?0:1,m={},p,l,r,n,q,t,x;o&&f.find(".ui-li-dec").remove();if(!c.theme)c.theme=a.mobile.getInheritedTheme(this.element,
"c");for(var u=0,w=j.length;u<w;u++){p=j.eq(u);l="ui-li";if(b||!p.hasClass("ui-li"))r=p.jqmData("theme")||c.theme,n=this._getChildrenByTagName(p[0],"a","A"),n.length?(t=p.jqmData("icon"),p.buttonMarkup({wrapperEls:"div",shadow:false,corners:false,iconpos:"right",icon:n.length>1||t===false?false:t||"arrow-r",theme:r}),t!=false&&n.length==1&&p.addClass("ui-li-has-arrow"),n.first().removeClass("ui-link").addClass("ui-link-inherit"),n.length>1&&(l+=" ui-li-has-alt",n=n.last(),q=g||n.jqmData("theme")||
c.splitTheme,x=n.jqmData("icon"),n.appendTo(p).attr("title",n.getEncodedText()).addClass("ui-li-link-alt").empty().buttonMarkup({shadow:false,corners:false,theme:r,icon:false,iconpos:false}).find(".ui-btn-inner").append(a(k.createElement("span")).buttonMarkup({shadow:true,corners:true,theme:q,iconpos:"notext",icon:x||t||h||c.splitIcon})))):p.jqmData("role")==="list-divider"?(l+=" ui-li-divider ui-bar-"+d,p.attr("role","heading"),o&&(o=1)):l+=" ui-li-static ui-body-"+r;o&&l.indexOf("ui-li-divider")<
0&&(r=p.is(".ui-li-static:first")?p:p.find(".ui-link-inherit"),r.addClass("ui-li-jsnumbering").prepend("<span class='ui-li-dec'>"+o++ +". </span>"));m[l]||(m[l]=[]);m[l].push(p[0])}for(l in m)a(m[l]).addClass(l).children(".ui-btn-inner").addClass(l);f.find("h1, h2, h3, h4, h5, h6").addClass("ui-li-heading").end().find("p, dl").addClass("ui-li-desc").end().find(".ui-li-aside").each(function(){var b=a(this);b.prependTo(b.parent())}).end().find(".ui-li-count").each(function(){a(this).closest("li").addClass("ui-li-has-count")}).addClass("ui-btn-up-"+
(f.jqmData("counttheme")||this.options.countTheme)+" ui-btn-corner-all");this._addThumbClasses(j);this._addThumbClasses(f.find(".ui-link-inherit"));this._refreshCorners(b)},_idStringEscape:function(a){return a.replace(/[^a-zA-Z0-9]/g,"-")},_createSubPages:function(){var b=this.element,e=b.closest(".ui-page"),f=e.jqmData("url"),d=f||e[0][a.expando],g=b.attr("id"),h=this.options,j="data-"+a.mobile.ns,k=this,m=e.find(":jqmData(role='footer')").jqmData("id"),p;typeof c[d]==="undefined"&&(c[d]=-1);g=g||
++c[d];a(b.find("li>ul, li>ol").toArray().reverse()).each(function(c){var d=a(this),e=d.attr("id")||g+"-"+c,c=d.parent(),k=a(d.prevAll().toArray().reverse()),k=k.length?k:a("<span>"+a.trim(c.contents()[0].nodeValue)+"</span>"),o=k.first().getEncodedText(),e=(f||"")+"&"+a.mobile.subPageUrlKey+"="+e,x=d.jqmData("theme")||h.theme,u=d.jqmData("counttheme")||b.jqmData("counttheme")||h.countTheme;p=true;d.detach().wrap("<div "+j+"role='page' "+j+"url='"+e+"' "+j+"theme='"+x+"' "+j+"count-theme='"+u+"'><div "+
j+"role='content'></div></div>").parent().before("<div "+j+"role='header' "+j+"theme='"+h.headerTheme+"'><div class='ui-title'>"+o+"</div></div>").after(m?a("<div "+j+"role='footer' "+j+"id='"+m+"'>"):"").parent().appendTo(a.mobile.pageContainer).page();d=c.find("a:first");d.length||(d=a("<a/>").html(k||o).prependTo(c.empty()));d.attr("href","#"+e)}).listview();p&&e.is(":jqmData(external-page='true')")&&e.data("page").options.domCache===false&&e.unbind("pagehide.remove").bind("pagehide.remove",function(b,
c){var d=c.nextPage;c.nextPage&&(d=d.jqmData("url"),d.indexOf(f+"&"+a.mobile.subPageUrlKey)!==0&&(k.childPages().remove(),e.remove()))})},childPages:function(){var b=this.parentPage.jqmData("url");return a(":jqmData(url^='"+b+"&"+a.mobile.subPageUrlKey+"')")}});a(k).bind("pagecreate create",function(b){a.mobile.listview.prototype.enhanceWithin(b.target)})})(jQuery);(function(a,c){a.widget("mobile.checkboxradio",a.mobile.widget,{options:{theme:null,initSelector:"input[type='checkbox'],input[type='radio']"},
_create:function(){var b=this,e=this.element,f=a(e).closest("label"),d=f.length?f:a(e).closest("form,fieldset,:jqmData(role='page'),:jqmData(role='dialog')").find("label").filter("[for='"+e[0].id+"']"),g=e[0].type,f=e.jqmData("mini")||e.closest("form,fieldset").jqmData("mini"),h=g+"-on",j=g+"-off",o=e.parents(":jqmData(type='horizontal')").length?c:j,m=e.jqmData("iconpos")||e.closest("form,fieldset").jqmData("iconpos");if(!(g!=="checkbox"&&g!=="radio")){a.extend(this,{label:d,inputtype:g,checkedClass:"ui-"+
h+(o?"":" "+a.mobile.activeBtnClass),uncheckedClass:"ui-"+j,checkedicon:"ui-icon-"+h,uncheckedicon:"ui-icon-"+j});if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");d.buttonMarkup({theme:this.options.theme,icon:o,shadow:false,mini:f,iconpos:m});f=k.createElement("div");f.className="ui-"+g;e.add(d).wrapAll(f);d.bind({vmouseover:function(b){a(this).parent().is(".ui-disabled")&&b.stopPropagation()},vclick:function(a){if(e.is(":disabled"))a.preventDefault();else return b._cacheVals(),
e.prop("checked",g==="radio"&&true||!e.prop("checked")),e.triggerHandler("click"),b._getInputSet().not(e).prop("checked",false),b._updateAll(),false}});e.bind({vmousedown:function(){b._cacheVals()},vclick:function(){var c=a(this);c.is(":checked")?(c.prop("checked",true),b._getInputSet().not(c).prop("checked",false)):c.prop("checked",false);b._updateAll()},focus:function(){d.addClass(a.mobile.focusClass)},blur:function(){d.removeClass(a.mobile.focusClass)}});this.refresh()}},_cacheVals:function(){this._getInputSet().each(function(){a(this).jqmData("cacheVal",
this.checked)})},_getInputSet:function(){return this.inputtype==="checkbox"?this.element:this.element.closest("form,fieldset,:jqmData(role='page')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']")},_updateAll:function(){var b=this;this._getInputSet().each(function(){var c=a(this);(this.checked||b.inputtype==="checkbox")&&c.trigger("change")}).checkboxradio("refresh")},refresh:function(){var a=this.element[0],c=this.label,f=c.find(".ui-icon");a.checked?(c.addClass(this.checkedClass).removeClass(this.uncheckedClass),
f.addClass(this.checkedicon).removeClass(this.uncheckedicon)):(c.removeClass(this.checkedClass).addClass(this.uncheckedClass),f.removeClass(this.checkedicon).addClass(this.uncheckedicon));a.disabled?this.disable():this.enable()},disable:function(){this.element.prop("disabled",true).parent().addClass("ui-disabled")},enable:function(){this.element.prop("disabled",false).parent().removeClass("ui-disabled")}});a(k).bind("pagecreate create",function(b){a.mobile.checkboxradio.prototype.enhanceWithin(b.target,
true)})})(jQuery);(function(a,c){a.widget("mobile.button",a.mobile.widget,{options:{theme:null,icon:null,iconpos:null,inline:false,corners:true,shadow:true,iconshadow:true,initSelector:"button, [type='button'], [type='submit'], [type='reset'], [type='image']",mini:false},_create:function(){var b=this.element,e,f=this.options,d;d="";var g;if(b[0].tagName==="A")!b.hasClass("ui-btn")&&b.buttonMarkup();else{if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.element,"c");~b[0].className.indexOf("ui-btn-left")&&
(d="ui-btn-left");~b[0].className.indexOf("ui-btn-right")&&(d="ui-btn-right");e=this.button=a("<div></div>").text(b.text()||b.val()).insertBefore(b).buttonMarkup({theme:f.theme,icon:f.icon,iconpos:f.iconpos,inline:f.inline,corners:f.corners,shadow:f.shadow,iconshadow:f.iconshadow,mini:f.mini}).addClass(d).append(b.addClass("ui-btn-hidden"));f=b.attr("type");d=b.attr("name");f!=="button"&&f!=="reset"&&d&&b.bind("vclick",function(){g===c&&(g=a("<input>",{type:"hidden",name:b.attr("name"),value:b.attr("value")}).insertBefore(b),
a(k).one("submit",function(){g.remove();g=c}))});b.bind({focus:function(){e.addClass(a.mobile.focusClass)},blur:function(){e.removeClass(a.mobile.focusClass)}});this.refresh()}},enable:function(){this.element.attr("disabled",false);this.button.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.button.addClass("ui-disabled").attr("aria-disabled",true);return this._setOption("disabled",true)},refresh:function(){var b=
this.element;b.prop("disabled")?this.disable():this.enable();a(this.button.data("buttonElements").text).text(b.text()||b.val())}});a(k).bind("pagecreate create",function(b){a.mobile.button.prototype.enhanceWithin(b.target,true)})})(jQuery);(function(a){a.fn.controlgroup=function(c){function b(a,b){a.removeClass("ui-btn-corner-all ui-shadow").eq(0).addClass(b[0]).end().last().addClass(b[1]).addClass("ui-controlgroup-last")}return this.each(function(){var e=a(this),f=a.extend({direction:e.jqmData("type")||
"vertical",shadow:false,excludeInvisible:true,mini:e.jqmData("mini")},c),d=e.children("legend"),g=f.direction=="horizontal"?["ui-corner-left","ui-corner-right"]:["ui-corner-top","ui-corner-bottom"];e.find("input").first().attr("type");d.length&&(e.wrapInner("<div class='ui-controlgroup-controls'></div>"),a("<div role='heading' class='ui-controlgroup-label'>"+d.html()+"</div>").insertBefore(e.children(0)),d.remove());e.addClass("ui-corner-all ui-controlgroup ui-controlgroup-"+f.direction);b(e.find(".ui-btn"+
(f.excludeInvisible?":visible":"")).not(".ui-slider-handle"),g);b(e.find(".ui-btn-inner"),g);f.shadow&&e.addClass("ui-shadow");f.mini&&e.addClass("ui-mini")})}})(jQuery);(function(a){a(k).bind("pagecreate create",function(c){a(c.target).find("a").jqmEnhanceable().not(".ui-btn, .ui-link-inherit, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link")})})(jQuery);(function(a){var c=a("meta[name=viewport]"),b=c.attr("content"),e=b+",maximum-scale=1, user-scalable=no",f=b+",maximum-scale=10, user-scalable=yes",
d=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(b);a.mobile.zoom=a.extend({},{enabled:!d,locked:false,disable:function(b){if(!d&&!a.mobile.zoom.locked)c.attr("content",e),a.mobile.zoom.enabled=false,a.mobile.zoom.locked=b||false},enable:function(b){if(!d&&(!a.mobile.zoom.locked||b===true))c.attr("content",f),a.mobile.zoom.enabled=true,a.mobile.zoom.locked=false},restore:function(){if(!d)c.attr("content",b),a.mobile.zoom.enabled=true}})})(jQuery);(function(a){a.widget("mobile.textinput",
a.mobile.widget,{options:{theme:null,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,initSelector:"input[type='text'], input[type='search'], :jqmData(type='search'), input[type='number'], :jqmData(type='number'), input[type='password'], input[type='email'], input[type='url'], input[type='tel'], textarea, input[type='time'], input[type='date'], input[type='month'], input[type='week'], input[type='datetime'], input[type='datetime-local'], input[type='color'], input:not([type])",
clearSearchButtonText:"clear text"},_create:function(){var c=this.element,b=this.options,e=b.theme||a.mobile.getInheritedTheme(this.element,"c"),f=" ui-body-"+e,d=c.jqmData("mini")==true,g=d?" ui-mini":"",h,j;a("label[for='"+c.attr("id")+"']").addClass("ui-input-text");h=c.addClass("ui-input-text ui-body-"+e);typeof c[0].autocorrect!=="undefined"&&!a.support.touchOverflow&&(c[0].setAttribute("autocorrect","off"),c[0].setAttribute("autocomplete","off"));c.is("[type='search'],:jqmData(type='search')")?
(h=c.wrap("<div class='ui-input-search ui-shadow-inset ui-btn-corner-all ui-btn-shadow ui-icon-searchfield"+f+g+"'></div>").parent(),j=a("<a href='#' class='ui-input-clear' title='"+b.clearSearchButtonText+"'>"+b.clearSearchButtonText+"</a>").bind("click",function(a){c.val("").focus().trigger("change");j.addClass("ui-input-clear-hidden");a.preventDefault()}).appendTo(h).buttonMarkup({icon:"delete",iconpos:"notext",corners:true,shadow:true,mini:d}),e=function(){setTimeout(function(){j.toggleClass("ui-input-clear-hidden",
!c.val())},0)},e(),c.bind("paste cut keyup focus change blur",e)):c.addClass("ui-corner-all ui-shadow-inset"+f+g);c.focus(function(){h.addClass(a.mobile.focusClass)}).blur(function(){h.removeClass(a.mobile.focusClass)}).bind("focus",function(){b.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("blur",function(){b.preventFocusZoom&&a.mobile.zoom.enable(true)});if(c.is("textarea")){var o=function(){var a=c[0].scrollHeight;c[0].clientHeight<a&&c.height(a+15)},m;c.keyup(function(){clearTimeout(m);
m=setTimeout(o,100)});a(k).one("pagechange",o);a.trim(c.val())&&a(s).load(o)}},disable:function(){(this.element.attr("disabled",true).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).addClass("ui-disabled")},enable:function(){(this.element.attr("disabled",false).is("[type='search'],:jqmData(type='search')")?this.element.parent():this.element).removeClass("ui-disabled")}});a(k).bind("pagecreate create",function(c){a.mobile.textinput.prototype.enhanceWithin(c.target,
true)})})(jQuery);(function(a){a.mobile.listview.prototype.options.filter=false;a.mobile.listview.prototype.options.filterPlaceholder="Filter items...";a.mobile.listview.prototype.options.filterTheme="c";a.mobile.listview.prototype.options.filterCallback=function(a,b){return a.toLowerCase().indexOf(b)===-1};a(k).delegate(":jqmData(role='listview')","listviewcreate",function(){var c=a(this),b=c.data("listview");if(b.options.filter){var e=a("<form>",{"class":"ui-listview-filter ui-bar-"+b.options.filterTheme,
role:"search"});a("<input>",{placeholder:b.options.filterPlaceholder}).attr("data-"+a.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var e=a(this),d=this.value.toLowerCase(),g=null,g=e.jqmData("lastval")+"",h=false,j="";e.jqmData("lastval",d);g=d.length<g.length||d.indexOf(g)!==0?c.children():c.children(":not(.ui-screen-hidden)");if(d){for(var k=g.length-1;k>=0;k--)e=a(g[k]),j=e.jqmData("filtertext")||e.text(),e.is("li:jqmData(role=list-divider)")?(e.toggleClass("ui-filter-hidequeue",
!h),h=false):b.options.filterCallback(j,d)?e.toggleClass("ui-filter-hidequeue",true):h=true;g.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",false);g.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",true).toggleClass("ui-filter-hidequeue",false)}else g.toggleClass("ui-screen-hidden",false);b._refreshCorners()}).appendTo(e).textinput();b.options.inset&&e.addClass("ui-listview-filter-inset");e.bind("submit",function(){return false}).insertBefore(c)}})})(jQuery);(function(a,
c){a.widget("mobile.slider",a.mobile.widget,{options:{theme:null,trackTheme:null,disabled:false,initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",mini:false},_create:function(){var b=this,e=this.element,f=a.mobile.getInheritedTheme(e,"c"),d=this.options.theme||f,f=this.options.trackTheme||f,g=e[0].nodeName.toLowerCase(),h=g=="select"?"ui-slider-switch":"",j=e.attr("id"),o=j+"-label",j=a("[for='"+j+"']").attr("id",o),m=function(){return g=="input"?parseFloat(e.val()):
e[0].selectedIndex},p=g=="input"?parseFloat(e.attr("min")):0,l=g=="input"?parseFloat(e.attr("max")):e.find("option").length-1,r=s.parseFloat(e.attr("step")||1),n=this.options.inline||e.jqmData("inline")==true?" ui-slider-inline":"",q=this.options.mini||e.jqmData("mini")?" ui-slider-mini":"",t=k.createElement("a"),x=a(t),u=k.createElement("div"),w=a(u),v=e.jqmData("highlight")&&g!="select"?function(){var b=k.createElement("div");b.className="ui-slider-bg ui-btn-active ui-btn-corner-all";return a(b).prependTo(w)}():
false;t.setAttribute("href","#");u.setAttribute("role","application");u.className=["ui-slider ",h," ui-btn-down-",f," ui-btn-corner-all",n,q].join("");t.className="ui-slider-handle";u.appendChild(t);x.buttonMarkup({corners:true,theme:d,shadow:true}).attr({role:"slider","aria-valuemin":p,"aria-valuemax":l,"aria-valuenow":m(),"aria-valuetext":m(),title:m(),"aria-labelledby":o});a.extend(this,{slider:w,handle:x,valuebg:v,dragging:false,beforeStart:null,userModified:false,mouseMoved:false});if(g=="select"){d=
k.createElement("div");d.className="ui-slider-inneroffset";h=0;for(o=u.childNodes.length;h<o;h++)d.appendChild(u.childNodes[h]);u.appendChild(d);x.addClass("ui-slider-handle-snapping");u=e.find("option");d=0;for(h=u.length;d<h;d++)o=!d?"b":"a",n=!d?" ui-btn-down-"+f:" "+a.mobile.activeBtnClass,k.createElement("div"),q=k.createElement("span"),q.className=["ui-slider-label ui-slider-label-",o,n," ui-btn-corner-all"].join(""),q.setAttribute("role","img"),q.appendChild(k.createTextNode(u[d].innerHTML)),
a(q).prependTo(w);b._labels=a(".ui-slider-label",w)}j.addClass("ui-slider");e.addClass(g==="input"?"ui-slider-input":"ui-slider-switch").change(function(){b.mouseMoved||b.refresh(m(),true)}).keyup(function(){b.refresh(m(),true,true)}).blur(function(){b.refresh(m(),true)});a(k).bind("vmousemove",function(a){if(b.dragging)return b.mouseMoved=true,g==="select"&&x.removeClass("ui-slider-handle-snapping"),b.refresh(a),b.userModified=b.beforeStart!==e[0].selectedIndex,false});w.bind("vmousedown",function(a){b.dragging=
true;b.userModified=false;b.mouseMoved=false;if(g==="select")b.beforeStart=e[0].selectedIndex;b.refresh(a);return false}).bind("vclick",false);w.add(k).bind("vmouseup",function(){if(b.dragging)return b.dragging=false,g==="select"&&(x.addClass("ui-slider-handle-snapping"),b.mouseMoved?b.userModified?b.refresh(b.beforeStart==0?1:0):b.refresh(b.beforeStart):b.refresh(b.beforeStart==0?1:0)),b.mouseMoved=false});w.insertAfter(e);g=="select"&&this.handle.bind({focus:function(){w.addClass(a.mobile.focusClass)},
blur:function(){w.removeClass(a.mobile.focusClass)}});this.handle.bind({vmousedown:function(){a(this).focus()},vclick:false,keydown:function(c){var d=m();if(!b.options.disabled){switch(c.keyCode){case a.mobile.keyCode.HOME:case a.mobile.keyCode.END:case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:if(c.preventDefault(),!b._keySliding)b._keySliding=true,a(this).addClass("ui-state-active")}switch(c.keyCode){case a.mobile.keyCode.HOME:b.refresh(p);
break;case a.mobile.keyCode.END:b.refresh(l);break;case a.mobile.keyCode.PAGE_UP:case a.mobile.keyCode.UP:case a.mobile.keyCode.RIGHT:b.refresh(d+r);break;case a.mobile.keyCode.PAGE_DOWN:case a.mobile.keyCode.DOWN:case a.mobile.keyCode.LEFT:b.refresh(d-r)}}},keyup:function(){if(b._keySliding)b._keySliding=false,a(this).removeClass("ui-state-active")}});this.refresh(c,c,true)},refresh:function(b,c,f){(this.options.disabled||this.element.attr("disabled"))&&this.disable();var d=this.element,g=d[0].nodeName.toLowerCase(),
h=g==="input"?parseFloat(d.attr("min")):0,j=g==="input"?parseFloat(d.attr("max")):d.find("option").length-1,k=g==="input"&&parseFloat(d.attr("step"))>0?parseFloat(d.attr("step")):1;if(typeof b==="object"){if(!this.dragging||b.pageX<this.slider.offset().left-8||b.pageX>this.slider.offset().left+this.slider.width()+8)return;b=Math.round((b.pageX-this.slider.offset().left)/this.slider.width()*100)}else b==null&&(b=g==="input"?parseFloat(d.val()||0):d[0].selectedIndex),b=(parseFloat(b)-h)/(j-h)*100;if(!isNaN(b)){b<
0&&(b=0);b>100&&(b=100);var m=b/100*(j-h)+h,p=(m-h)%k;m-=p;Math.abs(p)*2>=k&&(m+=p>0?k:-k);m=parseFloat(m.toFixed(5));m<h&&(m=h);m>j&&(m=j);this.handle.css("left",b+"%");this.handle.attr({"aria-valuenow":g==="input"?m:d.find("option").eq(m).attr("value"),"aria-valuetext":g==="input"?m:d.find("option").eq(m).getEncodedText(),title:g==="input"?m:d.find("option").eq(m).getEncodedText()});this.valuebg&&this.valuebg.css("width",b+"%");if(this._labels){var h=this.handle.width()/this.slider.width()*100,
l=b&&h+(100-h)*b/100,r=b===100?0:Math.min(h+100-l,100);this._labels.each(function(){var b=a(this).is(".ui-slider-label-a");a(this).width((b?l:r)+"%")})}if(!f)f=false,g==="input"?(f=d.val()!==m,d.val(m)):(f=d[0].selectedIndex!==m,d[0].selectedIndex=m),!c&&f&&d.trigger("change")}},enable:function(){this.element.attr("disabled",false);this.slider.removeClass("ui-disabled").attr("aria-disabled",false);return this._setOption("disabled",false)},disable:function(){this.element.attr("disabled",true);this.slider.addClass("ui-disabled").attr("aria-disabled",
true);return this._setOption("disabled",true)}});a(k).bind("pagecreate create",function(b){a.mobile.slider.prototype.enhanceWithin(b.target,true)})})(jQuery);(function(a){a.widget("mobile.selectmenu",a.mobile.widget,{options:{theme:null,disabled:false,icon:"arrow-d",iconpos:"right",inline:false,corners:true,shadow:true,iconshadow:true,overlayTheme:"a",hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>
-1,initSelector:"select:not(:jqmData(role='slider'))",mini:false},_button:function(){return a("<div/>")},_setDisabled:function(a){this.element.attr("disabled",a);this.button.attr("aria-disabled",a);return this._setOption("disabled",a)},_focusButton:function(){var a=this;setTimeout(function(){a.button.focus()},40)},_selectOptions:function(){return this.select.find("option")},_preExtension:function(){var c="";~this.element[0].className.indexOf("ui-btn-left")&&(c=" ui-btn-left");~this.element[0].className.indexOf("ui-btn-right")&&
(c=" ui-btn-right");this.select=this.element.wrap("<div class='ui-select"+c+"'>");this.selectID=this.select.attr("id");this.label=a("label[for='"+this.selectID+"']").addClass("ui-select");this.isMultiple=this.select[0].multiple;if(!this.options.theme)this.options.theme=a.mobile.getInheritedTheme(this.select,"c")},_create:function(){this._preExtension();this._trigger("beforeCreate");this.button=this._button();var c=this,b=this.options,e=this.button.text(a(this.select[0].options.item(this.select[0].selectedIndex==
-1?0:this.select[0].selectedIndex)).text()).insertBefore(this.select).buttonMarkup({theme:b.theme,icon:b.icon,iconpos:b.iconpos,inline:b.inline,corners:b.corners,shadow:b.shadow,iconshadow:b.iconshadow,mini:b.mini});b.nativeMenu&&s.opera&&s.opera.version&&this.select.addClass("ui-select-nativeonly");if(this.isMultiple)this.buttonCount=a("<span>").addClass("ui-li-count ui-btn-up-c ui-btn-corner-all").hide().appendTo(e.addClass("ui-li-has-count"));(b.disabled||this.element.attr("disabled"))&&this.disable();
this.select.change(function(){c.refresh()});this.build()},build:function(){var c=this;this.select.appendTo(c.button).bind("vmousedown",function(){c.button.addClass(a.mobile.activeBtnClass)}).bind("focus",function(){c.button.addClass(a.mobile.focusClass)}).bind("blur",function(){c.button.removeClass(a.mobile.focusClass)}).bind("focus vmouseover",function(){c.button.trigger("vmouseover")}).bind("vmousemove",function(){c.button.removeClass(a.mobile.activeBtnClass)}).bind("change blur vmouseout",function(){c.button.trigger("vmouseout").removeClass(a.mobile.activeBtnClass)}).bind("change blur",
function(){c.button.removeClass("ui-btn-down-"+c.options.theme)});c.button.bind("vmousedown",function(){c.options.preventFocusZoom&&a.mobile.zoom.disable(true)}).bind("mouseup",function(){c.options.preventFocusZoom&&a.mobile.zoom.enable(true)})},selected:function(){return this._selectOptions().filter(":selected")},selectedIndices:function(){var a=this;return this.selected().map(function(){return a._selectOptions().index(this)}).get()},setButtonText:function(){var c=this,b=this.selected();this.button.find(".ui-btn-text").text(function(){return!c.isMultiple?
b.text():b.length?b.map(function(){return a(this).text()}).get().join(", "):c.placeholder})},setButtonCount:function(){var a=this.selected();this.isMultiple&&this.buttonCount[a.length>1?"show":"hide"]().text(a.length)},refresh:function(){this.setButtonText();this.setButtonCount()},open:a.noop,close:a.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-disabled")},enable:function(){this._setDisabled(false);this.button.removeClass("ui-disabled")}});a(k).bind("pagecreate create",
function(c){a.mobile.selectmenu.prototype.enhanceWithin(c.target,true)})})(jQuery);(function(a){var c=function(b){var c=b.selectID,f=b.label,d=b.select.closest(".ui-page"),g=a("<div>",{"class":"ui-selectmenu-screen ui-screen-hidden"}).appendTo(d),h=b._selectOptions(),j=b.isMultiple=b.select[0].multiple,o=c+"-button",m=c+"-menu",p=a("<div data-"+a.mobile.ns+"role='dialog' data-"+a.mobile.ns+"theme='"+b.options.theme+"' data-"+a.mobile.ns+"overlay-theme='"+b.options.overlayTheme+"'><div data-"+a.mobile.ns+
"role='header'><div class='ui-title'>"+f.getEncodedText()+"</div></div><div data-"+a.mobile.ns+"role='content'></div></div>"),l=a("<div>",{"class":"ui-selectmenu ui-selectmenu-hidden ui-overlay-shadow ui-corner-all ui-body-"+b.options.overlayTheme+" "+a.mobile.defaultDialogTransition}).insertAfter(g),r=a("<ul>",{"class":"ui-selectmenu-list",id:m,role:"listbox","aria-labelledby":o}).attr("data-"+a.mobile.ns+"theme",b.options.theme).appendTo(l),n=a("<div>",{"class":"ui-header ui-bar-"+b.options.theme}).prependTo(l),
q=a("<h1>",{"class":"ui-title"}).appendTo(n),t;b.isMultiple&&(t=a("<a>",{text:b.options.closeText,href:"#","class":"ui-btn-left"}).attr("data-"+a.mobile.ns+"iconpos","notext").attr("data-"+a.mobile.ns+"icon","delete").appendTo(n).buttonMarkup());a.extend(b,{select:b.select,selectID:c,buttonId:o,menuId:m,thisPage:d,menuPage:p,label:f,screen:g,selectOptions:h,isMultiple:j,theme:b.options.theme,listbox:l,list:r,header:n,headerTitle:q,headerClose:t,menuPageContent:void 0,menuPageClose:void 0,placeholder:"",
build:function(){var c=this;c.refresh();c.select.attr("tabindex","-1").focus(function(){a(this).blur();c.button.focus()});c.button.bind("vclick keydown",function(b){if(b.type=="vclick"||b.keyCode&&(b.keyCode===a.mobile.keyCode.ENTER||b.keyCode===a.mobile.keyCode.SPACE))c.open(),b.preventDefault()});c.list.attr("role","listbox").bind("focusin",function(b){a(b.target).attr("tabindex","0").trigger("vmouseover")}).bind("focusout",function(b){a(b.target).attr("tabindex","-1").trigger("vmouseout")}).delegate("li:not(.ui-disabled, .ui-li-divider)",
"click",function(b){var d=c.select[0].selectedIndex,e=c.list.find("li:not(.ui-li-divider)").index(this),f=c._selectOptions().eq(e)[0];f.selected=c.isMultiple?!f.selected:true;c.isMultiple&&a(this).find(".ui-icon").toggleClass("ui-icon-checkbox-on",f.selected).toggleClass("ui-icon-checkbox-off",!f.selected);(c.isMultiple||d!==e)&&c.select.trigger("change");c.isMultiple||c.close();b.preventDefault()}).keydown(function(c){var d=a(c.target),e=d.closest("li");switch(c.keyCode){case 38:return c=e.prev().not(".ui-selectmenu-placeholder"),
c.is(".ui-li-divider")&&(c=c.prev()),c.length&&(d.blur().attr("tabindex","-1"),c.addClass("ui-btn-down-"+b.options.theme).find("a").first().focus()),false;case 40:return c=e.next(),c.is(".ui-li-divider")&&(c=c.next()),c.length&&(d.blur().attr("tabindex","-1"),c.addClass("ui-btn-down-"+b.options.theme).find("a").first().focus()),false;case 13:case 32:return d.trigger("click"),false}});c.menuPage.bind("pagehide",function(){c.list.appendTo(c.listbox);c._focusButton();a.mobile._bindPageRemove.call(c.thisPage)});
c.screen.bind("vclick",function(){c.close()});c.isMultiple&&c.headerClose.click(function(){if(c.menuType=="overlay")return c.close(),false});c.thisPage.addDependents(this.menuPage)},_isRebuildRequired:function(){var a=this.list.find("li");return this._selectOptions().text()!==a.text()},refresh:function(b){var c=this;this._selectOptions();this.selected();var d=this.selectedIndices();(b||this._isRebuildRequired())&&c._buildList();c.setButtonText();c.setButtonCount();c.list.find("li:not(.ui-li-divider)").removeClass(a.mobile.activeBtnClass).attr("aria-selected",
false).each(function(b){a.inArray(b,d)>-1&&(b=a(this),b.attr("aria-selected",true),c.isMultiple?b.find(".ui-icon").removeClass("ui-icon-checkbox-off").addClass("ui-icon-checkbox-on"):b.is(".ui-selectmenu-placeholder")?b.next().addClass(a.mobile.activeBtnClass):b.addClass(a.mobile.activeBtnClass))})},close:function(){if(!this.options.disabled&&this.isOpen)this.menuType=="page"?s.history.back():(this.screen.addClass("ui-screen-hidden"),this.listbox.addClass("ui-selectmenu-hidden").removeAttr("style").removeClass("in"),
this.list.appendTo(this.listbox),this._focusButton()),this.isOpen=false},open:function(){function b(){c.list.find("."+a.mobile.activeBtnClass+" a").focus()}if(!this.options.disabled){var c=this,d=a(s),e=c.list.parent(),f=e.outerHeight(),e=e.outerWidth();a(".ui-page-active");var g=d.scrollTop(),j=c.button.offset().top,h=d.height(),d=d.width();c.button.addClass(a.mobile.activeBtnClass);setTimeout(function(){c.button.removeClass(a.mobile.activeBtnClass)},300);if(f>h-80||!a.support.scrollTop){c.menuPage.appendTo(a.mobile.pageContainer).page();
c.menuPageContent=p.find(".ui-content");c.menuPageClose=p.find(".ui-header a");c.thisPage.unbind("pagehide.remove");if(g==0&&j>h)c.thisPage.one("pagehide",function(){a(this).jqmData("lastScroll",j)});c.menuPage.one("pageshow",function(){b();c.isOpen=true});c.menuType="page";c.menuPageContent.append(c.list);c.menuPage.find("div .ui-title").text(c.label.text());a.mobile.changePage(c.menuPage,{transition:a.mobile.defaultDialogTransition})}else{c.menuType="overlay";c.screen.height(a(k).height()).removeClass("ui-screen-hidden");
var l=j-g,m=g+h-j,n=f/2,o=parseFloat(c.list.parent().css("max-width")),f=l>f/2&&m>f/2?j+c.button.outerHeight()/2-n:l>m?g+h-f-30:g+30;e<o?g=(d-e)/2:(g=c.button.offset().left+c.button.outerWidth()/2-e/2,g<30?g=30:g+e>d&&(g=d-e-30));c.listbox.append(c.list).removeClass("ui-selectmenu-hidden").css({top:f,left:g}).addClass("in");b();c.isOpen=true}}},_buildList:function(){var b=this.options,c=this.placeholder,d=true,e=this.isMultiple?"checkbox-off":"false";this.list.empty().filter(".ui-listview").listview("destroy");
var f=this.select.find("option"),g=f.length,j=this.select[0],h="data-"+a.mobile.ns,l=h+"option-index",m=h+"icon";h+="role";for(var n=k.createDocumentFragment(),o,p=0;p<g;p++){var r=f[p],q=a(r),s=r.parentNode,t=q.text(),D=k.createElement("a"),J=[];D.setAttribute("href","#");D.appendChild(k.createTextNode(t));s!==j&&s.nodeName.toLowerCase()==="optgroup"&&(s=s.getAttribute("label"),s!=o&&(o=k.createElement("li"),o.setAttribute(h,"list-divider"),o.setAttribute("role","option"),o.setAttribute("tabindex",
"-1"),o.appendChild(k.createTextNode(s)),n.appendChild(o),o=s));if(d&&(!r.getAttribute("value")||t.length==0||q.jqmData("placeholder")))if(d=false,b.hidePlaceholderMenuItems&&J.push("ui-selectmenu-placeholder"),!c)c=this.placeholder=t;q=k.createElement("li");r.disabled&&(J.push("ui-disabled"),q.setAttribute("aria-disabled",true));q.setAttribute(l,p);q.setAttribute(m,e);q.className=J.join(" ");q.setAttribute("role","option");D.setAttribute("tabindex","-1");q.appendChild(D);n.appendChild(q)}this.list[0].appendChild(n);
!this.isMultiple&&!c.length?this.header.hide():this.headerTitle.text(this.placeholder);this.list.listview()},_button:function(){return a("<a>",{href:"#",role:"button",id:this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId})}})};a(k).bind("selectmenubeforecreate",function(b){b=a(b.target).data("selectmenu");b.options.nativeMenu||c(b)})})(jQuery);(function(a){a.widget("mobile.fixedtoolbar",a.mobile.widget,{options:{visibleOnPageShow:true,disablePageZoom:true,transition:"slide",fullscreen:false,
tapToggle:true,tapToggleBlacklist:"a, input, select, textarea, .ui-header-fixed, .ui-footer-fixed",hideDuringFocus:"input, textarea, select",updatePagePadding:true,trackPersistentToolbars:true,supportBlacklist:function(){var a=s,b=navigator.userAgent,e=navigator.platform,f=b.match(/AppleWebKit\/([0-9]+)/),f=!!f&&f[1],d=b.match(/Fennec\/([0-9]+)/),d=!!d&&d[1],g=b.match(/Opera Mobi\/([0-9]+)/),h=!!g&&g[1];return(e.indexOf("iPhone")>-1||e.indexOf("iPad")>-1||e.indexOf("iPod")>-1)&&f&&f<534||a.operamini&&
{}.toString.call(a.operamini)==="[object OperaMini]"||g&&h<7458||b.indexOf("Android")>-1&&f&&f<533||d&&d<6||"palmGetResource"in s&&f&&f<534||b.indexOf("MeeGo")>-1&&b.indexOf("NokiaBrowser/8.5.0")>-1?true:false},initSelector:":jqmData(position='fixed')"},_create:function(){var a=this.options,b=this.element,e=b.is(":jqmData(role='header')")?"header":"footer",f=b.closest(".ui-page");a.supportBlacklist()?this.destroy():(b.addClass("ui-"+e+"-fixed"),a.fullscreen?(b.addClass("ui-"+e+"-fullscreen"),f.addClass("ui-page-"+
e+"-fullscreen")):f.addClass("ui-page-"+e+"-fixed"),this._addTransitionClass(),this._bindPageEvents(),this._bindToggleHandlers())},_addTransitionClass:function(){var a=this.options.transition;a&&a!=="none"&&(a==="slide"&&(a=this.element.is(".ui-header")?"slidedown":"slideup"),this.element.addClass(a))},_bindPageEvents:function(){var c=this,b=c.options;c.element.closest(".ui-page").bind("pagebeforeshow",function(){b.disablePageZoom&&a.mobile.zoom.disable(true);b.visibleOnPageShow||c.hide(true)}).bind("webkitAnimationStart animationstart updatelayout",
function(){b.updatePagePadding&&c.updatePagePadding()}).bind("pageshow",function(){c.updatePagePadding();b.updatePagePadding&&a(s).bind("throttledresize."+c.widgetName,function(){c.updatePagePadding()})}).bind("pagebeforehide",function(e,f){b.disablePageZoom&&a.mobile.zoom.enable(true);b.updatePagePadding&&a(s).unbind("throttledresize."+c.widgetName);if(b.trackPersistentToolbars){var d=a(".ui-footer-fixed:jqmData(id)",this),g=a(".ui-header-fixed:jqmData(id)",this),h=d.length&&f.nextPage&&a(".ui-footer-fixed:jqmData(id='"+
d.jqmData("id")+"')",f.nextPage),j=g.length&&f.nextPage&&a(".ui-header-fixed:jqmData(id='"+g.jqmData("id")+"')",f.nextPage),h=h||a();if(h.length||j.length)h.add(j).appendTo(a.mobile.pageContainer),f.nextPage.one("pageshow",function(){h.add(j).appendTo(this)})}})},_visible:true,updatePagePadding:function(){var a=this.element,b=a.is(".ui-header");this.options.fullscreen||a.closest(".ui-page").css("padding-"+(b?"top":"bottom"),a.outerHeight())},_useTransition:function(c){var b=this.element,e=a(s).scrollTop(),
f=b.height(),d=b.closest(".ui-page").height(),g=a.mobile.getScreenHeight(),b=b.is(":jqmData(role='header')")?"header":"footer";return!c&&(this.options.transition&&this.options.transition!=="none"&&(b==="header"&&!this.options.fullscreen&&e>f||b==="footer"&&!this.options.fullscreen&&e+g<d-f)||this.options.fullscreen)},show:function(a){var b=this.element;this._useTransition(a)?b.removeClass("out ui-fixed-hidden").addClass("in"):b.removeClass("ui-fixed-hidden");this._visible=true},hide:function(a){var b=
this.element,e="out"+(this.options.transition==="slide"?" reverse":"");this._useTransition(a)?b.addClass(e).removeClass("in").animationComplete(function(){b.addClass("ui-fixed-hidden").removeClass(e)}):b.addClass("ui-fixed-hidden").removeClass(e);this._visible=false},toggle:function(){this[this._visible?"hide":"show"]()},_bindToggleHandlers:function(){var c=this,b=c.options;c.element.closest(".ui-page").bind("vclick",function(e){b.tapToggle&&!a(e.target).closest(b.tapToggleBlacklist).length&&c.toggle()}).bind("focusin focusout",
function(e){if(screen.width<500&&a(e.target).is(b.hideDuringFocus)&&!a(e.target).closest(".ui-header-fixed, .ui-footer-fixed").length)c[e.type==="focusin"&&c._visible?"hide":"show"]()})},destroy:function(){this.element.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");this.element.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen")}});a(k).bind("pagecreate create",
function(c){a(c.target).jqmData("fullscreen")&&a(a.mobile.fixedtoolbar.prototype.options.initSelector,c.target).not(":jqmData(fullscreen)").jqmData("fullscreen",true);a.mobile.fixedtoolbar.prototype.enhanceWithin(c.target)})})(jQuery);(function(a,c){if(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1){var b=a.mobile.zoom,e,f,d,g,h;a(c).bind("orientationchange.iosorientationfix",b.enable).bind("devicemotion.iosorientationfix",function(a){e=a.originalEvent;
h=e.accelerationIncludingGravity;f=Math.abs(h.x);d=Math.abs(h.y);g=Math.abs(h.z);!c.orientation&&(f>7||(g>6&&d<8||g<8&&d>6)&&f>5)?b.enabled&&b.disable():b.enabled||b.enable()})}})(jQuery,this);(function(a,c){function b(){var b=a("."+a.mobile.activeBtnClass).first();h.css({top:a.support.scrollTop&&g.scrollTop()+g.height()/2||b.length&&b.offset().top||100})}function e(){var c=h.offset(),d=g.scrollTop(),f=a.mobile.getScreenHeight();if(c.top<d||c.top-d>f)h.addClass("ui-loader-fakefix"),b(),g.unbind("scroll",
e).bind("scroll",b)}function f(){d.removeClass("ui-mobile-rendering")}var d=a("html");a("head");var g=a(c);a(c.document).trigger("mobileinit");if(a.mobile.gradeA()){if(a.mobile.ajaxBlacklist)a.mobile.ajaxEnabled=false;d.addClass("ui-mobile ui-mobile-rendering");setTimeout(f,5E3);var h=a("<div class='ui-loader'><span class='ui-icon ui-icon-loading'></span><h1></h1></div>");a.extend(a.mobile,{showPageLoadingMsg:function(b,c,f){d.addClass("ui-loading");if(a.mobile.loadingMessage){var k=f||a.mobile.loadingMessageTextVisible;
b=b||a.mobile.loadingMessageTheme;h.attr("class","ui-loader ui-corner-all ui-body-"+(b||"a")+" ui-loader-"+(k?"verbose":"default")+(f?" ui-loader-textonly":"")).find("h1").text(c||a.mobile.loadingMessage).end().appendTo(a.mobile.pageContainer);e();g.bind("scroll",e)}},hidePageLoadingMsg:function(){d.removeClass("ui-loading");a.mobile.loadingMessage&&h.removeClass("ui-loader-fakefix");a(c).unbind("scroll",b);a(c).unbind("scroll",e)},initializePage:function(){var b=a(":jqmData(role='page'), :jqmData(role='dialog')");
b.length||(b=a("body").wrapInner("<div data-"+a.mobile.ns+"role='page'></div>").children(0));b.each(function(){var b=a(this);b.jqmData("url")||b.attr("data-"+a.mobile.ns+"url",b.attr("id")||location.pathname+location.search)});a.mobile.firstPage=b.first();a.mobile.pageContainer=b.first().parent().addClass("ui-mobile-viewport");g.trigger("pagecontainercreate");a.mobile.showPageLoadingMsg();f();!a.mobile.hashListeningEnabled||!a.mobile.path.stripHash(location.hash)?a.mobile.changePage(a.mobile.firstPage,
{transition:"none",reverse:true,changeHash:false,fromHashChange:true}):g.trigger("hashchange",[true])}});a.mobile._registerInternalEvents();a(function(){c.scrollTo(0,1);a.mobile.defaultHomeScroll=!a.support.scrollTop||a(c).scrollTop()===1?0:1;a.fn.controlgroup&&a(k).bind("pagecreate create",function(b){a(":jqmData(role='controlgroup')",b.target).jqmEnhanceable().controlgroup({excludeInvisible:false})});a.mobile.autoInitializePage&&a.mobile.initializePage();g.load(a.mobile.silentScroll)})}})(jQuery,
this)});

/*
 * jQuery Mobile Framework : plugin to provide a date and time picker.
 * Copyright (c) JTSage
 * CC 3.0 Attribution.  May be relicensed without permission/notifcation.
 * https://github.com/jtsage/jquery-mobile-datebox
 */

(function(a,b){Date.prototype.getISO=function(){return String(this.getFullYear())+"-"+((this.getMonth()<9)?"0":"")+String(this.getMonth()+1)+"-"+((this.getDate()<10)?"0":"")+String(this.getDate())};Date.prototype.getComp=function(){return parseInt(this.getISO().replace(/-/g,""),10)};Date.prototype.copy=function(){return this.copymod()};Date.prototype.copymod=function(c,d){if(typeof c==="undefined"){c=[0,0,0,0,0,0]}if(typeof d==="undefined"){d=[0,0,0,0,0,0]}while(c.length<6){c.push(0)}while(d.length<6){d.push(0)}return new Date(((d[0]>0)?d[0]:this.getFullYear()+c[0]),((d[1]>0)?d[1]:this.getMonth()+c[1]),((d[2]>0)?d[2]:this.getDate()+c[2]),((d[3]>0)?d[3]:this.getHours()+c[3]),((d[4]>0)?d[4]:this.getMinutes()+c[4]),((d[5]>0)?d[5]:this.getSeconds()+c[5]),0)};Date.prototype.getEpoch=function(){return(this.getTime()-this.getMilliseconds())/1000};Date.prototype.adjust=function(d,c){switch(d){case"y":this.setFullYear(this.getFullYear()+c);break;case"m":this.setMonth(this.getMonth()+c);break;case"d":this.setDate(this.getDate()+c);break;case"h":this.setHours(this.getHours()+c);break;case"i":this.setMinutes(this.getMinutes()+c);break;case"s":this.setSeconds(this.getSeconds()+c);break}return this.getTime()};a.widget("mobile.datebox",a.mobile.widget,{options:{version:"1.0.1-2012022700",theme:false,defaultTheme:"c",pickPageTheme:"b",pickPageInputTheme:"e",pickPageButtonTheme:"a",pickPageHighButtonTheme:"e",pickPageOHighButtonTheme:"e",pickPageOAHighButtonTheme:"e",pickPageODHighButtonTheme:"e",pickPageTodayButtonTheme:"e",pickPageSlideButtonTheme:"d",pickPageFlipButtonTheme:"b",forceInheritTheme:false,centerWindow:false,calHighToday:true,calHighPicked:true,transition:"pop",noAnimation:false,disableManualInput:false,disabled:false,wheelExists:false,swipeEnabled:true,zindex:"500",debug:false,clickEvent:"vclick",numberInputEnhance:true,internalInputType:"text",resizeListener:true,titleDialogLabel:false,meridiemLetters:["AM","PM"],timeOutputOverride:false,timeFormats:{"12":"%l:%M %p","24":"%k:%M"},durationFormat:"DD ddd, hh:ii:ss",timeOutput:false,rolloverMode:{m:true,d:true,h:true,i:true,s:true},mode:"datebox",calShowDays:true,calShowOnlyMonth:false,useDialogForceTrue:false,useDialogForceFalse:true,fullScreen:false,fullScreenAlways:false,useDialog:false,useModal:false,useInline:false,useInlineBlind:false,useClearButton:false,collapseButtons:false,noButtonFocusMode:false,focusMode:false,noButton:false,noSetButton:false,openCallback:false,openCallbackArgs:[],closeCallback:false,closeCallbackArgs:[],open:false,nestedBox:false,lastDuration:false,fieldsOrder:false,fieldsOrderOverride:false,durationOrder:["d","h","i","s"],defaultDateFormat:"%Y-%m-%d",dateFormat:false,timeFormatOverride:false,headerFormat:false,dateOutput:false,minuteStep:1,calTodayButton:false,calWeekMode:false,calWeekModeFirstDay:1,calWeekModeHighlight:true,calStartDay:false,defaultPickerValue:false,defaultDate:false,minYear:false,maxYear:false,afterToday:false,beforeToday:false,maxDays:false,minDays:false,highDays:false,highDates:false,highDatesAlt:false,blackDays:false,blackDates:false,enableDates:false,fixDateArrays:false,durationSteppers:{d:1,h:1,i:1,s:1},useLang:"en",lang:{en:{setDateButtonLabel:"Set Date",setTimeButtonLabel:"Set Time",setDurationButtonLabel:"Set Duration",calTodayButtonLabel:"Jump to Today",titleDateDialogLabel:"Set Date",titleTimeDialogLabel:"Set Time",daysOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysOfWeekShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthsOfYear:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsOfYearShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],durationLabel:["Days","Hours","Minutes","Seconds"],durationDays:["Day","Days"],timeFormat:24,headerFormat:"%A, %B %-d, %Y",tooltip:"Open Date Picker",nextMonth:"Next Month",prevMonth:"Previous Month",dateFieldOrder:["m","d","y"],timeFieldOrder:["h","i","a"],slideFieldOrder:["y","m","d"],dateFormat:"%Y-%m-%d",useArabicIndic:false,isRTL:false,calStartDay:0,clearButton:"Clear"}}},destroy:function(){a(this.pickPage).remove();a.Widget.prototype.destroy.call(this)},_dateboxHandler:function(c,e){var d=a(this).data("datebox");if(!c.isPropagationStopped()){switch(e.method){case"close":d.close(e.fromCloseButton);break;case"open":d.open();break;case"set":a(this).val(e.value);a(this).trigger("change");break;case"doset":if(a.inArray(d.options.mode,["timebox","durationbox","timeflipbox"])>-1){a(this).trigger("datebox",{method:"set",value:d._formatTime(d.theDate),date:d.theDate})}else{a(this).trigger("datebox",{method:"set",value:d._formatDate(d.theDate),date:d.theDate})}break;case"dooffset":d._offset(e.type,e.amount,true);break;case"dorefresh":d._update();break;case"doreset":d.hardreset();break;case"doclear":a(this).val("");break}}},_getCoords:function(g){var q=g,j=g.focusedEl.offset(),n=g.focusedEl.outerHeight(),i=g.focusedEl.outerWidth(),e=a.mobile.activePage.width(),h=a(window).scrollTop(),p=a(window).height(),o=g.pickerContent.innerWidth(),l=g.pickerContent.outerHeight(),d=false,f=0,k=0,c=0,r=a(document).height(),m={high:a(window).height(),width:a.mobile.activePage.width(),fullTop:a(window).scrollTop(),fullLeft:a(window).scrollLeft()};if(g.options.centerWindow){m.winTop=h+((p/2)-(l/2));m.winLeft=((e/2)-(o/2))}else{d=a(".ui-header",a.mobile.activePage);if(d.length>0){if(d.is(".ui-header-fixed")){k=(d.outerHeight()+2)}else{f+=(d.outerHeight()+2)}}d=a(".ui-footer",a.mobile.activePage);if(d.length>0){if(d.is(".ui-footer-fixed")){c=(d.outerHeight()+2)}else{r-=(d.outerHeight()+2)}}m.winLeft=(j.left+(i/2))-(o/2);if(e<450){m.winLeft=((e/2)-(o/2))}m.winTop=(j.top+(n/2))-(l/2);if((m.winTop+l)>r){m.winTop+=(r-(m.winTop+l))}if(c>0&&((m.winTop+l-h)>(p-c))){m.winTop=((p-c+h-l))}if(m.winTop<f){m.winTop=f}if(k>0&&(m.winTop<(h+k))){m.winTop=h+k}else{if(h>f&&h>m.winTop){m.winTop=h+2}}}return m},_fixArray:function(d){var c=0,e=this,g=new RegExp("^([0-9]+)-([0-9]+)-([0-9]+)$"),f=null;if(a.isArray(d)){for(c=0;c<d.length;c++){f=[0];f=g.exec(d[c]);if(f.length===4){d[c]=f[1]+"-"+e._zPad(parseInt(f[2],10))+"-"+e._zPad(parseInt(f[3],10))}}}return d},_digitReplace:function(k,h){var j=48,c=57,d=1584,e=null,f=null,g="";if(h===-1){j+=d;c+=d;d=-1584}for(e=0;e<k.length;e++){f=k.charCodeAt(e);if(f>=j&&f<=c){g=g+String.fromCharCode(f+d)}else{g=g+String.fromCharCode(f)}}return g},_makeDisplayIndic:function(){var c=this,d=this.options;c.pickerContent.find("*").each(function(){if(a(this).children().length<1){a(this).text(c._digitReplace(a(this).text()))}else{if(a(this).hasClass("ui-datebox-slideday")){a(this).html(c._digitReplace(a(this).html()))}}});c.pickerContent.find("input").each(function(){a(this).val(c._digitReplace(a(this).val()))})},_zPad:function(c){return((c<10)?"0":"")+String(c)},_makeOrd:function(d){var c=d%10;if(d>9&&d<21){return"th"}if(c>3){return"th"}return["th","st","nd","rd"][c]},_isInt:function(c){return(c.toString().search(/^[0-9]+$/)===0)},_getFirstDay:function(c){return c.copymod([0],[0,0,1]).getDay()},_getRecDays:function(g,j,d){if(j===null){j=this.theDate.getMonth()+1}if(g===null){g=this.theDate.getFullYear()}var c=this,f=new Date(g,j-1,1,0,0,0,0),h=[],e;if(f.getDay()>d){f.setDate(8-(f.getDay()-d))}else{if(f.getDay()<d){f.setDate(1+(d-f.getDay()))}}h[0]=f.getISO();for(e=1;e<6;e++){f.setDate(f.getDate()+7);if((f.getMonth()+1)===j){h[e]=f.getISO()}}return h},_getLastDate:function(c){return 32-c.copymod([0],[0,0,32,13]).getDate()},_getLastDateBefore:function(c){return 32-c.copymod([0,-1],[0,0,32,13]).getDate()},_formatter:function(e,d){var c=this,f=this.options;if(!e.match(/%/)){e=e.replace("HH",this._zPad(d.getHours()));e=e.replace("GG",d.getHours());e=e.replace("hh",this._zPad(((d.getHours()===0||d.getHours()===12)?12:((d.getHours()<12)?d.getHours():d.getHours()-12))));e=e.replace("gg",((d.getHours()===0||d.getHours()===12)?12:((d.getHours()<12)?d.getHours():(d.getHours()-12))));e=e.replace("ii",this._zPad(d.getMinutes()));e=e.replace("ss",this._zPad(d.getSeconds()));e=e.replace("AA",((d.getHours()<12)?this.options.meridiemLetters[0].toUpperCase():this.options.meridiemLetters[1].toUpperCase()));e=e.replace("aa",((d.getHours()<12)?this.options.meridiemLetters[0].toLowerCase():this.options.meridiemLetters[1].toLowerCase()));e=e.replace("SS",this._makeOrd(d.getDate()));e=e.replace("YYYY",d.getFullYear());e=e.replace("mmmm",this.options.lang[this.options.useLang].monthsOfYearShort[d.getMonth()]);e=e.replace("mmm",this.options.lang[this.options.useLang].monthsOfYear[d.getMonth()]);e=e.replace("MM",this._zPad(d.getMonth()+1));e=e.replace("mm",d.getMonth()+1);e=e.replace("dddd",this.options.lang[this.options.useLang].daysOfWeekShort[d.getDay()]);e=e.replace("ddd",this.options.lang[this.options.useLang].daysOfWeek[d.getDay()]);e=e.replace("DD",this._zPad(d.getDate()));e=e.replace("dd",d.getDate());e=e.replace("UU",d.getEpoch())}else{e=e.replace(/%(0|-)*([a-z])/gi,function(g,i,k,j,h){switch(k){case"%":return"%";case"a":return f.lang[f.useLang].daysOfWeekShort[d.getDay()];case"A":return f.lang[f.useLang].daysOfWeek[d.getDay()];case"b":return f.lang[f.useLang].monthsOfYearShort[d.getMonth()];case"B":return f.lang[f.useLang].monthsOfYear[d.getMonth()];case"C":return d.getFullYear().toString().substr(0,2);case"d":return((i==="-")?d.getDate():c._zPad(d.getDate()));case"H":case"k":return((i==="-")?d.getHours():c._zPad(d.getHours()));case"I":case"l":return((i==="-")?((d.getHours()===0||d.getHours()===12)?12:((d.getHours()<12)?d.getHours():(d.getHours()-12))):c._zPad(((d.getHours()===0||d.getHours()===12)?12:((d.getHours()<12)?d.getHours():d.getHours()-12))));case"m":return((i==="-")?d.getMonth()+1:c._zPad(d.getMonth()+1));case"M":return((i==="-")?d.getMinutes():c._zPad(d.getMinutes()));case"p":return((d.getHours()<12)?f.meridiemLetters[0].toUpperCase():f.meridiemLetters[1].toUpperCase());case"P":return((d.getHours()<12)?f.meridiemLetters[0].toLowerCase():f.meridiemLetters[1].toLowerCase());case"s":return d.getEpoch;case"S":return((i==="-")?d.getSeconds():c._zPad(d.getSeconds()));case"w":return d.getDay();case"y":return d.getFullYear().toString().substr(2,2);case"Y":return d.getFullYear();case"o":return c._makeOrd(d.getDate());default:return g}})}if(this.options.lang[this.options.useLang].useArabicIndic===true){e=this._digitReplace(e)}return e},_formatHeader:function(c){if(this.options.headerFormat!==false){return this._formatter(this.options.headerFormat,c)}else{return this._formatter(this.options.lang[this.options.useLang].headerFormat,c)}},_formatDate:function(c){return this._formatter(this.options.dateOutput,c)},_formatTime:function(d){var m=this,k=[false,false,false],c,h,f,e,l=this.options.durationFormat,g=[0,0,0,0];if(this.options.mode==="durationbox"){c=this.options.durationFormat;c=c.replace(/ddd/g,".+?");c=c.replace(/DD|ss|hh|ii/g,"([0-9Dhis]+)");c=new RegExp("^"+c+"$");h=c.exec(this.options.durationFormat);f=m.theDate.getEpoch()-m.initDate.getEpoch();e=f;g[0]=parseInt(f/(60*60*24),10);f=f-(g[0]*60*60*24);g[1]=parseInt(f/(60*60),10);f=f-(g[1]*60*60);g[2]=parseInt(f/(60),10);f=f-(g[2]*60);g[3]=f;if(!h[0].match(/DD/)){k[0]=true;g[1]=g[1]+(g[0]*24)}if(!h[0].match(/hh/)){k[1]=true;g[2]=g[2]+(g[1]*60)}if(!h[0].match(/ii/)){k[2]=true;g[3]=g[3]+(g[2]*60)}l=l.replace("DD",g[0]);l=l.replace("ddd",((g[0]>1)?this.options.lang[this.options.useLang].durationDays[1]:this.options.lang[this.options.useLang].durationDays[0]));l=l.replace("hh",m._zPad(g[1]));l=l.replace("ii",m._zPad(g[2]));l=l.replace("ss",m._zPad(g[3]));if(this.options.lang[this.options.useLang].useArabicIndic===true){return this._digitReplace(l)}else{return l}}else{return this._formatter(m.options.timeOutput,d)}},_makeDate:function(k){k=a.trim(k);var d=this.options,n=this,e=null,m=null,l=null,c=null,f=new Date(),j=[false,false,false],g=[f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds(),0],h;if(d.lang[this.options.useLang].useArabicIndic===true){k=this._digitReplace(k,-1)}if(d.mode==="durationbox"){e=d.durationFormat;e=e.replace(/ddd/g,".+?");e=e.replace(/DD|ss|hh|ii/g,"([0-9Dhis]+)");e=new RegExp("^"+e+"$");m=e.exec(k);l=e.exec(d.durationFormat);if(m===null||m.length!==l.length){if(typeof d.defaultPickerValue==="number"&&d.defaultPickerValue>0){return new Date((n.initDate.getEpoch()+parseInt(d.defaultPickerValue,10))*1000)}else{return new Date(n.initDate.getTime())}}else{c=n.initDate.getEpoch();for(h=0;h<m.length;h++){if(l[h].match(/^DD$/i)){c=c+(parseInt(m[h],10)*60*60*24)}if(l[h].match(/^hh$/i)){c=c+(parseInt(m[h],10)*60*60)}if(l[h].match(/^ii$/i)){c=c+(parseInt(m[h],10)*60)}if(l[h].match(/^ss$/i)){c=c+(parseInt(m[h],10))}}return new Date((c*1000))}}else{if(d.mode==="timebox"||d.mode==="timeflipbox"){e=d.timeOutput}else{e=d.dateOutput}if(e.match(/%/)){e=e.replace(/%(0|-)*([a-z])/gi,function(i,p,r,q,o){switch(r){case"p":case"P":case"b":case"B":return"("+i+"|.+?)";case"H":case"k":case"I":case"l":case"m":case"M":case"S":case"d":return"("+i+"|"+((p==="-")?"[0-9]{1,2}":"[0-9]{2}")+")";case"s":return"("+i+"|[0-9]+)";case"y":return"("+i+"|[0-9]{2})";case"Y":return"("+i+"|[0-9]{1,4})";default:return".+?"}});e=new RegExp("^"+e+"$");m=e.exec(k);if(d.mode==="timebox"||d.mode==="timeflipbox"){l=e.exec(d.timeOutput)}else{l=e.exec(d.dateOutput)}if(m===null||m.length!==l.length){if(d.defaultPickerValue!==false){if(a.isArray(d.defaultPickerValue)&&d.defaultPickerValue.length===3){if(d.mode==="timebox"||d.mode==="timeflipbox"){return new Date(g[0],g[1],g[2],d.defaultPickerValue[0],d.defaultPickerValue[1],d.defaultPickerValue[2],0)}else{return new Date(d.defaultPickerValue[0],d.defaultPickerValue[1],d.defaultPickerValue[2],0,0,0,0)}}else{if(typeof d.defaultPickerValue==="number"){return new Date(d.defaultPickerValue*1000)}else{if(d.mode==="timebox"||d.mode==="timeflipbox"){c=d.defaultPickerValue.split(":");if(c.length===3){f=new Date(g[0],g[1],g[2],parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10),0);if(isNaN(f.getDate())){f=new Date()}}}else{c=d.defaultPickerValue.split("-");if(c.length===3){f=new Date(parseInt(c[0],10),parseInt(c[1],10)-1,parseInt(c[2],10),0,0,0,0);if(isNaN(f.getDate())){f=new Date()}}}}}}}else{for(h=0;h<m.length;h++){if(l[h]==="%s"){g[6]=parseInt(m[h],10)}if(l[h].match(/^%.*S$/)){g[5]=parseInt(m[h],10)}if(l[h].match(/^%.*M$/)){g[4]=parseInt(m[h],10)}if(l[h].match(/^%.*(H|k|I|l)$/)){g[3]=parseInt(m[h],10)}if(l[h].match(/^%.*d$/)){g[2]=parseInt(m[h],10)}if(l[h].match(/^%.*m$/)){g[1]=parseInt(m[h],10)-1}if(l[h].match(/^%.*Y$/)){g[0]=parseInt(m[h],10)}if(l[h].match(/^%.*y$/)){if(d.afterToday===true){g[0]=parseInt("20"+m[h],10)}else{if(parseInt(m[h],10)<38){g[0]=parseInt("20"+m[h],10)}else{g[0]=parseInt("19"+m[h],10)}}}if(l[h].match(/^%(0|-)*(p|P)$/)){if(m[h].toLowerCase().charAt(0)==="a"&&g[3]===12){g[3]=0}else{if(m[h].toLowerCase().charAt(0)==="p"&&g[3]!==12){g[3]=g[3]+12}}}if(l[h]==="%B"){c=a.inArray(m[h],d.lang[d.useLang].monthsOfYear);if(c>-1){g[1]=c}}if(l[h]==="%b"){c=a.inArray(m[h],d.lang[d.useLang].monthsOfYearShort);if(c>-1){g[1]=c}}}}if(l[0].match(/%s/)){f=new Date(g[6]*1000)}else{if(l[0].match(/%(.)*(I|l|H|k|s|M)/)){f=new Date(g[0],g[1],g[2],g[3],g[4],g[5],0);if(g[0]<100){f.setFullYear(g[0])}}else{f=new Date(g[0],g[1],g[2],0,0,0,0);if(g[0]<100){f.setFullYear(g[0])}}}return f}else{e=e.replace(/dddd|mmmm/g,"(.+?)");e=e.replace(/ddd|SS/g,".+?");e=e.replace(/mmm/g,"(.+?)");e=e.replace(/ *AA/ig," *(.*?)");e=e.replace(/yyyy|dd|mm|gg|hh|ii/ig,"([0-9yYdDmMgGhHi]+)");e=e.replace(/ss|UU/g,"([0-9sU]+)");e=new RegExp("^"+e+"$");m=e.exec(k);if(d.mode==="timebox"||d.mode==="timeflipbox"){l=e.exec(d.timeOutput)}else{l=e.exec(d.dateOutput)}if(m===null||m.length!==l.length){if(d.defaultPickerValue!==false){if(a.isArray(d.defaultPickerValue)&&d.defaultPickerValue.length===3){if(d.mode==="timebox"||d.mode==="timeflipbox"){return new Date(g[0],g[1],g[2],d.defaultPickerValue[0],d.defaultPickerValue[1],d.defaultPickerValue[2],0)}else{return new Date(d.defaultPickerValue[0],d.defaultPickerValue[1],d.defaultPickerValue[2],0,0,0,0)}}else{if(typeof d.defaultPickerValue==="number"){return new Date(d.defaultPickerValue*1000)}else{if(d.mode==="timebox"||d.mode==="timeflipbox"){c=d.defaultPickerValue.split(":");if(c.length===3){f=new Date(g[0],g[1],g[2],parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10),0);if(isNaN(f.getDate())){f=new Date()}}}else{c=d.defaultPickerValue.split("-");if(c.length===3){f=new Date(parseInt(c[0],10),parseInt(c[1],10)-1,parseInt(c[2],10),0,0,0,0);if(isNaN(f.getDate())){f=new Date()}}}}}}}else{for(h=0;h<m.length;h++){if(l[h].match(/^UU$/)){g[6]=parseInt(m[h],10)}if(l[h].match(/^gg$/i)){g[3]=parseInt(m[h],10)}if(l[h].match(/^hh$/i)){g[3]=parseInt(m[h],10)}if(l[h].match(/^ii$/i)){g[4]=parseInt(m[h],10)}if(l[h].match(/^ss$/)){g[5]=parseInt(m[h],10)}if(l[h].match(/^dd$/i)){g[2]=parseInt(m[h],10)}if(l[h].match(/^mm$/i)){g[1]=parseInt(m[h],10)-1}if(l[h].match(/^yyyy$/i)){g[0]=parseInt(m[h],10)}if(l[h].match(/^AA$/i)){if(m[h].toLowerCase().charAt(0)==="a"&&g[3]===12){g[3]=0}else{if(m[h].toLowerCase().charAt(0)==="p"&&g[3]!==12){g[3]=g[3]+12}}}if(l[h].match(/^mmm$/i)){c=a.inArray(m[h],d.lang[d.useLang].monthsOfYear);if(c>-1){g[1]=c}}if(l[h].match(/^mmmm$/i)){c=a.inArray(m[h],d.lang[d.useLang].monthsOfYearShort);if(c>-1){g[1]=c}}}}if(l[0].match(/UU/)){return new Date(g[6]*1000)}else{if(l[0].match(/G|g|i|s|H|h|A/)){return new Date(g[0],g[1],g[2],g[3],g[4],g[5],0)}else{return new Date(g[0],g[1],g[2],0,0,0,0)}}}}},_hoover:function(c){a(c).toggleClass("ui-btn-up-"+a(c).jqmData("theme")+" ui-btn-down-"+a(c).jqmData("theme"))},_offset:function(g,e,h){var c=this,f=this.options,d=false;if(typeof(h)==="undefined"){h=true}c.input.trigger("datebox",{method:"offset",type:g,amount:e});switch(g){case"y":d=true;break;case"m":if(f.rolloverMode.m||(c.theDate.getMonth()+e<12&&c.theDate.getMonth()+e>-1)){d=true}break;case"d":if(f.rolloverMode.d||(c.theDate.getDate()+e>0&&c.theDate.getDate()+e<(c._getLastDate(c.theDate)+1))){d=true}break;case"h":if(f.rolloverMode.h||(c.theDate.getHours()+e>-1&&c.theDate.getHours()+e<24)){d=true}break;case"i":if(f.rolloverMode.i||(c.theDate.getMinutes()+e>-1&&c.theDate.getMinutes()+e<60)){d=true}break;case"s":if(f.rolloverMode.s||(c.theDate.getSeconds()+e>-1&&c.theDate.getSeconds()+e<60)){d=true}break;case"a":if(c.pickerMeri.val()===f.meridiemLetters[0]){c._offset("h",12,false)}else{c._offset("h",-12,false)}break}if(d===true){c.theDate.adjust(g,e)}if(h===true){c._update()}},_updateduration:function(){var c=this,d=c.initDate.getEpoch();if(!c._isInt(c.pickerDay.val())){c.pickerDay.val(0)}if(!c._isInt(c.pickerHour.val())){c.pickerHour.val(0)}if(!c._isInt(c.pickerMins.val())){c.pickerMins.val(0)}if(!c._isInt(c.pickerSecs.val())){c.pickerSecs.val(0)}d=d+(parseInt(c.pickerDay.val(),10)*60*60*24);d=d+(parseInt(c.pickerHour.val(),10)*60*60);d=d+(parseInt(c.pickerMins.val(),10)*60);d=d+(parseInt(c.pickerSecs.val(),10));c.theDate.setTime(d*1000);c._update()},_checkConstraints:function(){var d=this,c=null,e=this.options;d.dateOK=true;if(e.afterToday!==false){c=new Date();if(d.theDate<c){d.theDate=c}}if(e.beforeToday!==false){c=new Date();if(d.theDate>c){d.theDate=c}}if(e.maxDays!==false){c=new Date();c.adjust("d",e.maxDays);if(d.theDate>c){d.theDate=c}}if(e.minDays!==false){c=new Date();c.adjust("d",-1*e.minDays);if(d.theDate<c){d.theDate=c}}if(e.maxYear!==false){c=new Date(e.maxYear,0,1);c.adjust("d",-1);if(d.theDate>c){d.theDate=c}}if(e.minYear!==false){c=new Date(e.minYear,0,1);if(d.theDate<c){d.theDate=c}}if(e.blackDates!==false){if(a.inArray(d.theDate.getISO(),e.blackDates)>-1){d.dateOK=false}}if(e.blackDays!==false){if(a.inArray(d.theDate.getDay(),e.blackDays)>-1){d.dateOK=false}}if(a.inArray(e.mode,["timebox","durationbox","timeflipbox"])>-1){d.dateOK=true}},_orientChange:function(f){var c=f.data.widget,g=f.data.widget.options,d=f.data.widget._getCoords(f.data.widget);f.stopPropagation();if(!c.pickerContent.is(":visible")||g.useDialog===true){return false}else{if(g.fullScreen==true&&(d.width<400||g.fullScreenForce===true)){c.pickerContent.css({top:d.fullTop,left:d.fullLeft,height:d.high,width:d.width,maxWidth:d.width})}else{c.pickerContent.css({top:d.winTop,left:d.winLeft})}}},_update:function(){var t=this,e=t.options,p=null,g,h,j,r,n,m,k,f,s,c,q,d={d:60*60*24,h:60*60,i:60,s:1},l={};t.input.trigger("datebox",{method:"refresh"});if(e.mode==="durationbox"){g=t.theDate.getEpoch()-t.initDate.getEpoch();if(g<0){g=0;t.theDate.setTime(t.initDate.getTime())}e.lastDuration=g;m=parseInt(g/d.d,10);g=g-(m*d.d);t.pickerDay.val(m);m=parseInt(g/d.h,10);g=g-(m*d.h);t.pickerHour.val(m);m=parseInt(g/d.i,10);g=g-(m*d.i);t.pickerMins.val(m);t.pickerSecs.val(parseInt(g,10))}if(e.mode==="timebox"){if(e.minuteStep!==1){g=t.theDate.getMinutes()%e.minuteStep;if(g!==0){t.theDate.adjust("m",-1*g)}}t.pickerMins.val(t._zPad(t.theDate.getMinutes()));if(e.lang[e.useLang].timeFormat===12||e.timeFormatOverride===12){if(t.theDate.getHours()>11){t.pickerMeri.val(e.meridiemLetters[1]);if(t.theDate.getHours()===12){t.pickerHour.val(12)}else{t.pickerHour.val(t.theDate.getHours()-12)}}else{t.pickerMeri.val(e.meridiemLetters[0]);if(t.theDate.getHours()===0){t.pickerHour.val(12)}else{t.pickerHour.val(t.theDate.getHours())}}}else{t.pickerHour.val(t.theDate.getHours())}}if(e.mode==="flipbox"||e.mode==="timeflipbox"){t._checkConstraints();f=t._makeDate(t.input.val());t.controlsHeader.empty().html(t._formatHeader(t.theDate));for(m=0;m<e.fieldsOrder.length;m++){c=true;switch(e.fieldsOrder[m]){case"y":n=t.pickerYar.find("ul");n.empty();for(g=-15;g<16;g++){k=((f.getFullYear()===(t.theDate.getFullYear()+g))?e.pickPageHighButtonTheme:e.pickPageFlipButtonTheme);if(g===0){k=e.pickPageButtonTheme}a("<li>",{"class":"ui-body-"+k,style:((c===true)?"margin-top: -453px":"")}).html("<span>"+(t.theDate.getFullYear()+g)+"</span>").appendTo(n);c=false}break;case"m":n=t.pickerMon.find("ul");n.empty();for(g=-12;g<13;g++){p=new Date(t.theDate.getFullYear(),t.theDate.getMonth(),1);p.adjust("m",g);k=(f.getMonth()===p.getMonth()&&f.getYear()===p.getYear())?e.pickPageHighButtonTheme:e.pickPageFlipButtonTheme;if(g===0){k=e.pickPageButtonTheme}a("<li>",{"class":"ui-body-"+k,style:((c===true)?"margin-top: -357px":"")}).html("<span>"+e.lang[e.useLang].monthsOfYearShort[p.getMonth()]+"</span>").appendTo(n);c=false}break;case"d":n=t.pickerDay.find("ul");n.empty();for(g=-15;g<16;g++){p=t.theDate.copy();p.adjust("d",g);q="";if((e.blackDates!==false&&a.inArray(p.getISO(),e.blackDates)>-1)||(e.blackDays!==false&&a.inArray(p.getDay(),e.blackDays)>-1)){q=" ui-datebox-griddate-disable"}k=(f.getDate()===p.getDate()&&f.getMonth()===p.getMonth()&&f.getYear()===p.getYear())?e.pickPageHighButtonTheme:e.pickPageFlipButtonTheme;if(g===0){k=e.pickPageButtonTheme}a("<li>",{"class":"ui-body-"+k+q,style:((c===true)?"margin-top: -453px":"")}).html("<span>"+p.getDate()+"</span>").appendTo(n);c=false}break;case"h":n=t.pickerHour.find("ul");n.empty();for(g=-12;g<13;g++){p=t.theDate.copy();p.adjust("h",g);k=(g===0)?e.pickPageButtonTheme:e.pickPageFlipButtonTheme;a("<li>",{"class":"ui-body-"+k,style:((c===true)?"margin-top: -357px":"")}).html("<span>"+((e.lang[e.useLang].timeFormat===12||e.timeFormatOverride===12)?((p.getHours()===0)?"12":((p.getHours()<12)?p.getHours():((p.getHours()===12)?"12":(p.getHours()-12)))):p.getHours())+"</span>").appendTo(n);c=false}break;case"i":n=t.pickerMins.find("ul");n.empty();for(g=-30;g<31;g++){if(e.minuteStep>1){t.theDate.setMinutes(t.theDate.getMinutes()-(t.theDate.getMinutes()%e.minuteStep))}p=t.theDate.copy();p.adjust("i",(g*e.minuteStep));k=(g===0)?e.pickPageButtonTheme:e.pickPageFlipButtonTheme;a("<li>",{"class":"ui-body-"+k,style:((c===true)?"margin-top: -933px":"")}).html("<span>"+t._zPad(p.getMinutes())+"</span>").appendTo(n);c=false}break;case"a":n=t.pickerMeri.find("ul");n.empty();if(t.theDate.getHours()>11){c="-65";k=[e.pickPageFlipButtonTheme,e.pickPageButtonTheme]}else{c="-33";k=[e.pickPageButtonTheme,e.pickPageFlipButtonTheme]}a("<li>").appendTo(n).clone().appendTo(n);a("<li>",{"class":"ui-body-"+k[0],style:"margin-top: "+c+"px"}).html("<span>"+e.meridiemLetters[0]+"</span>").appendTo(n);a("<li>",{"class":"ui-body-"+k[1]}).html("<span>"+e.meridiemLetters[1]+"</span>").appendTo(n);a("<li>").appendTo(n).clone().appendTo(n);break}}}if(e.mode==="slidebox"){t._checkConstraints();f=t._makeDate(t.input.val());t.controlsHeader.empty().html(t._formatHeader(t.theDate));t.controlsInput.empty();t.controlsInput.delegate(".ui-datebox-sliderow-int>div",e.clickEvent,function(i){i.preventDefault();t._offset(a(this).parent().jqmData("rowtype"),parseInt(a(this).jqmData("offset"),10))});t.controlsInput.delegate(".ui-datebox-sliderow-int>div","vmouseover vmouseout",function(){t._hoover(this)});if(e.wheelExists){t.controlsInput.delegate(".ui-datebox-sliderow-int","mousewheel",function(i,o){i.preventDefault();t._offset(a(this).jqmData("rowtype"),((o>0)?1:-1))})}if(e.swipeEnabled){t.controlsInput.delegate(".ui-datebox-sliderow-int",t.START_DRAG,function(i){if(!t.dragMove){t.dragMove=true;t.dragTarget=a(this);t.dragPos=parseInt(t.dragTarget.css("marginLeft").replace(/px/i,""),10);t.dragStart=t.touch?i.originalEvent.changedTouches[0].pageX:i.pageX;t.dragEnd=false;i.stopPropagation();i.preventDefault()}})}for(m=0;m<e.fieldsOrder.length;m++){s=a("<div>").jqmData("rowtype",e.fieldsOrder[m]);n=a("<div>",{"class":"ui-datebox-sliderow-int"}).jqmData("rowtype",e.fieldsOrder[m]).appendTo(s);if(e.lang[e.useLang].isRTL===true){n.css("direction","rtl")}switch(e.fieldsOrder[m]){case"y":s.addClass("ui-datebox-sliderow-ym");n.css("marginLeft","-333px");for(g=-5;g<6;g++){k=((f.getFullYear()===(t.theDate.getFullYear()+g))?e.pickPageHighButtonTheme:e.pickPageSlideButtonTheme);if(g===0){k=e.pickPageButtonTheme}a("<div>",{"class":"ui-datebox-slideyear ui-corner-all ui-btn-up-"+k}).html(t.theDate.getFullYear()+g).jqmData("offset",g).jqmData("theme",k).appendTo(n)}break;case"m":s.addClass("ui-datebox-sliderow-ym");n.css("marginLeft","-204px");for(g=-6;g<7;g++){p=new Date(t.theDate.getFullYear(),t.theDate.getMonth(),1);p.adjust("m",g);k=(f.getMonth()===p.getMonth()&&f.getYear()===p.getYear())?e.pickPageHighButtonTheme:e.pickPageSlideButtonTheme;if(g===0){k=e.pickPageButtonTheme}a("<div>",{"class":"ui-datebox-slidemonth ui-corner-all ui-btn-up-"+k}).jqmData("offset",g).jqmData("theme",k).html(e.lang[e.useLang].monthsOfYearShort[p.getMonth()]).appendTo(n)}break;case"d":s.addClass("ui-datebox-sliderow-d");n.css("marginLeft","-386px");for(g=-15;g<16;g++){p=t.theDate.copy();p.adjust("d",g);q="";if((e.blackDates!==false&&a.inArray(p.getISO(),e.blackDates)>-1)||(e.blackDays!==false&&a.inArray(p.getDay(),e.blackDays)>-1)){q=" ui-datebox-griddate-disable"}k=(f.getDate()===p.getDate()&&f.getMonth()===p.getMonth()&&f.getYear()===p.getYear())?e.pickPageHighButtonTheme:e.pickPageSlideButtonTheme;if(g===0){k=e.pickPageButtonTheme}a("<div>",{"class":"ui-datebox-slideday ui-corner-all ui-btn-up-"+k+q}).jqmData("offset",g).jqmData("theme",k).html(p.getDate()+'<br /><span class="ui-datebox-slidewday">'+e.lang[e.useLang].daysOfWeekShort[p.getDay()]+"</span>").appendTo(n)}break;case"h":s.addClass("ui-datebox-sliderow-hi");n.css("marginLeft","-284px");for(g=-12;g<13;g++){p=t.theDate.copy();p.adjust("h",g);k=(g===0)?e.pickPageButtonTheme:e.pickPageSlideButtonTheme;a("<div>",{"class":"ui-datebox-slidehour ui-corner-all ui-btn-up-"+k}).jqmData("offset",g).jqmData("theme",k).html(((e.lang[e.useLang].timeFormat===12||e.timeFormatOverride===12)?((p.getHours()===0)?'12<span class="ui-datebox-slidewday">AM</span>':((p.getHours()<12)?p.getHours()+'<span class="ui-datebox-slidewday">AM</span>':((p.getHours()===12)?'12<span class="ui-datebox-slidewday">PM</span>':(p.getHours()-12)+'<span class="ui-datebox-slidewday">PM</span>'))):p.getHours())).appendTo(n)}break;case"i":s.addClass("ui-datebox-sliderow-hi");n.css("marginLeft","-896px");for(g=-30;g<31;g++){p=t.theDate.copy();p.adjust("i",g);k=(g===0)?e.pickPageButtonTheme:e.pickPageSlideButtonTheme;a("<div>",{"class":"ui-datebox-slidemins ui-corner-all ui-btn-up-"+k}).jqmData("offset",g).jqmData("theme",k).html(t._zPad(p.getMinutes())).appendTo(n)}break}s.appendTo(t.controlsInput)}}if(e.mode==="datebox"){t._checkConstraints();t.controlsHeader.empty().html(t._formatHeader(t.theDate));t.pickerMon.val(t.theDate.getMonth()+1);t.pickerDay.val(t.theDate.getDate());t.pickerYar.val(t.theDate.getFullYear());if(t.dateOK!==true){t.controlsInput.find("input").addClass("ui-datebox-griddate-disable")}else{t.controlsInput.find(".ui-datebox-griddate-disable").removeClass("ui-datebox-griddate-disable")}}if(e.mode==="calbox"){t.controlsInput.empty().html(e.lang[e.useLang].monthsOfYear[t.theDate.getMonth()]+" "+t.theDate.getFullYear());t.controlsPlus.empty();l={today:-1,highlightDay:-1,presetDay:-1,nexttoday:1,thisDate:new Date(),maxDate:new Date(),minDate:new Date(),startDay:false,currentMonth:false,weekMode:0,weekDays:null,thisTheme:e.pickPageButtonTheme};l.start=t._getFirstDay(t.theDate);l.end=t._getLastDate(t.theDate);l.lastend=t._getLastDateBefore(t.theDate);l.presetDate=t._makeDate(t.input.val());if(e.calStartDay!==false||typeof e.lang[e.useLang].calStartDay==="number"){if(e.calStartDay!==false){l.start=l.start-e.calStartDay;l.startDay=e.calStartDay}else{l.start=l.start-e.lang[e.useLang].calStartDay;l.startDay=e.lang[e.useLang].calStartDay}if(l.start<0){l.start=l.start+7}}l.prevtoday=l.lastend-(l.start-1);l.checkDates=(e.enableDates===false&&(e.afterToday!==false||e.beforeToday!==false||e.notToday!==false||e.maxDays!==false||e.minDays!==false||e.blackDates!==false||e.blackDays!==false));if(l.thisDate.getMonth()===t.theDate.getMonth()&&l.thisDate.getFullYear()===t.theDate.getFullYear()){l.currentMonth=true;l.highlightDay=l.thisDate.getDate()}if(l.presetDate.getComp()===t.theDate.getComp()){l.presetDay=l.presetDate.getDate()}t.calNoPrev=false;t.calNoNext=false;if(e.afterToday===true&&(l.currentMonth===true||(l.thisDate.getMonth()>=t.theDate.getMonth()&&t.theDate.getFullYear()===l.thisDate.getFullYear()))){t.calNoPrev=true}if(e.beforeToday===true&&(l.currentMonth===true||(l.thisDate.getMonth()<=t.theDate.getMonth()&&t.theDate.getFullYear()===l.thisDate.getFullYear()))){t.calNoNext=true}if(e.minDays!==false){l.minDate.adjust("d",-1*e.minDays);if(t.theDate.getFullYear()===l.minDate.getFullYear()&&t.theDate.getMonth()<=l.minDate.getMonth()){t.calNoPrev=true}}if(e.maxDays!==false){l.maxDate.adjust("d",e.maxDays);if(t.theDate.getFullYear()===l.maxDate.getFullYear()&&t.theDate.getMonth()>=l.maxDate.getMonth()){t.calNoNext=true}}if(e.calShowDays){if(e.lang[e.useLang].daysOfWeekShort.length<8){e.daysOfWeekShort=e.lang[e.useLang].daysOfWeekShort.concat(e.lang[e.useLang].daysOfWeekShort)}l.weekDays=a("<div>",{"class":"ui-datebox-gridrow"}).appendTo(t.controlsPlus);if(e.lang[e.useLang].isRTL===true){l.weekDays.css("direction","rtl")}for(g=0;g<=6;g++){a("<div>"+e.lang[e.useLang].daysOfWeekShort[(g+l.startDay)%7]+"</div>").addClass("ui-datebox-griddate ui-datebox-griddate-empty ui-datebox-griddate-label").appendTo(l.weekDays)}}if(e.fixDateArrays===true){e.blackDates=t._fixArray(e.blackDates);e.highDates=t._fixArray(e.highDates);e.highDatesAlt=t._fixArray(e.highDatesAlt);e.enableDates=t._fixArray(e.enableDates)}for(h=0;h<=5;h++){if(h===0||(h>0&&(l.today>0&&l.today<=l.end))){n=a("<div>",{"class":"ui-datebox-gridrow"});if(e.lang[e.useLang].isRTL===true){n.css("direction","rtl")}for(j=0;j<=6;j++){if(j===0){l.weekMode=(l.today<1)?(l.prevtoday-l.lastend+e.calWeekModeFirstDay):(l.today+e.calWeekModeFirstDay)}if(j===l.start&&h===0){l.today=1}if(l.today>l.end){l.today=-1}if(l.today<1){if(e.calShowOnlyMonth){a("<div>",{"class":"ui-datebox-griddate ui-datebox-griddate-empty"}).appendTo(n)}else{if(e.enableDates!==false){if((a.inArray(t.theDate.copymod([0,-1],[0,0,l.prevtoday]).getISO(),e.enableDates)>-1)||(a.inArray(t.theDate.copymod([0,1],[0,0,l.nexttoday]).getISO(),e.enableDates)>-1)){r=false}else{r=true}}else{if((e.afterToday!==false&&h===0&&l.thisDate.getMonth()>=t.theDate.getMonth()-1&&t.theDate.getFullYear()===l.thisDate.getFullYear()&&l.thisDate.getDate()>l.prevtoday)||(e.beforeToday!==false&&h!==0&&l.thisDate.getMonth()<=t.theDate.getMonth()+1&&t.theDate.getFullYear()===l.thisDate.getFullYear()&&l.thisDate.getDate()<l.nexttoday)||(e.blackDays!==false&&a.inArray(j,e.blackDays)>-1)||(e.blackDates!==false&&a.inArray(t.theDate.copymod([0,-1],[0,0,l.prevtoday]).getISO(),e.blackDates)>-1)||(e.blackDates!==false&&a.inArray(t.theDate.copymod([0,1],[0,0,l.nexttoday]).getISO(),e.blackDates)>-1)){r=true}else{r=false}}if(h===0){a("<div>"+String(l.prevtoday)+"</div>").addClass("ui-datebox-griddate ui-datebox-griddate-empty").appendTo(n).jqmData("date",((e.calWeekMode)?(l.weekMode+l.lastend):l.prevtoday)).jqmData("enabled",(!r&&!t.calNoPrev)).jqmData("month",-1);l.prevtoday++}else{a("<div>"+String(l.nexttoday)+"</div>").addClass("ui-datebox-griddate ui-datebox-griddate-empty").appendTo(n).jqmData("date",((e.calWeekMode)?l.weekMode:l.nexttoday)).jqmData("enabled",(!r&&!t.calNoNext)).jqmData("month",1);l.nexttoday++}}}else{r=false;if(e.enableDates){if(a.inArray(t.theDate.copymod([0],[0,0,l.today]).getISO(),e.enableDates)<0){r=true}}if(l.checkDates){if(e.afterToday&&l.thisDate.getComp()>(t.theDate.getComp()+l.today-t.theDate.getDate())){r=true}if(!r&&e.beforeToday&&l.thisDate.getComp()<(t.theDate.getComp()+l.today-t.theDate.getDate())){r=true}if(!r&&e.notToday&&l.today===l.highlightDay){r=true}if(!r&&e.maxDays!==false&&l.maxDate.getComp()<(t.theDate.getComp()+l.today-t.theDate.getDate())){r=true}if(!r&&e.minDays!==false&&l.minDate.getComp()>(t.theDate.getComp()+l.today-t.theDate.getDate())){r=true}if(!r&&(e.blackDays!==false||e.blackDates!==false)){if((a.inArray(j,e.blackDays)>-1)||(a.inArray(t.theDate.copymod([0],[0,0,l.today]).getISO(),e.blackDates)>-1)){r=true}}}if(e.calHighPicked&&l.today===l.presetDay){l.thisTheme=e.pickPageHighButtonTheme}else{if(e.calHighToday&&l.today===l.highlightDay){l.thisTheme=e.pickPageTodayButtonTheme}else{if(a.isArray(e.highDatesAlt)&&(a.inArray(t.theDate.copymod([0],[0,0,l.today]).getISO(),e.highDatesAlt)>-1)){l.thisTheme=e.pickPageOAHighButtonTheme}else{if(a.isArray(e.highDates)&&(a.inArray(t.theDate.copymod([0],[0,0,l.today]).getISO(),e.highDates)>-1)){l.thisTheme=e.pickPageOHighButtonTheme}else{if(a.isArray(e.highDays)&&a.inArray(j,e.highDays)>-1){l.thisTheme=e.pickPageODHighButtonTheme}else{l.thisTheme=e.pickPageButtonTheme}}}}}a("<div>"+String(l.today)+"</div>").addClass("ui-datebox-griddate ui-corner-all ui-btn-up-"+l.thisTheme+((r)?" ui-datebox-griddate-disable":"")).jqmData("date",((e.calWeekMode)?l.weekMode:l.today)).jqmData("theme",l.thisTheme).jqmData("enabled",!r).jqmData("month",0).appendTo(n);l.today++}}}n.appendTo(t.controlsPlus)}t.controlsPlus.delegate("div.ui-datebox-griddate",e.clickEvent+" vmouseover vmouseout",function(i){if(i.type===e.clickEvent){i.preventDefault();if(a(this).jqmData("enabled")){if(a(this).jqmData("month")<0){t.theDate.adjust("m",-1);t.theDate.setDate(a(this).jqmData("date"))}else{if(a(this).jqmData("month")>0){t.theDate.setDate(a(this).jqmData("date"));if(!e.calWeekMode){t.theDate.adjust("m",1)}}else{t.theDate.setDate(a(this).jqmData("date"))}}t.input.trigger("datebox",{method:"set",value:t._formatDate(t.theDate),date:t.theDate});t.input.trigger("datebox",{method:"close"})}}else{if(a(this).jqmData("enabled")&&typeof a(this).jqmData("theme")!=="undefined"){if(e.calWeekMode!==false&&e.calWeekModeHighlight===true){a(this).parent().find("div").each(function(){t._hoover(this)})}else{t._hoover(this)}}}})}if(e.lang[this.options.useLang].useArabicIndic===true){t._makeDisplayIndic()}},_getLongOptions:function(e){var d,f={},g,c;if(a.mobile.ns==""){g="datebox"}else{g=a.mobile.ns.substr(0,a.mobile.ns.length-1)+"Datebox"}for(d in e.data()){if(d.substr(0,g.length)===g&&d.length>g.length){c=d.substr(g.length);c=c.charAt(0).toLowerCase()+c.slice(1);f[c]=e.data(d)}}return f},_create:function(){a(document).trigger("dateboxcreate");var c=this,d=a.extend(this.options,this.element.jqmData("options")),d=((typeof this.element.jqmData("options")==="undefined")?a.extend(d,this._getLongOptions(this.element)):d);input=this.element,thisTheme=(d.theme===false&&typeof(a(c).jqmData("theme"))==="undefined")?((typeof(input.parentsUntil(":jqmData(theme)").parent().jqmData("theme"))==="undefined")?d.defaultTheme:input.parentsUntil(":jqmData(theme)").parent().jqmData("theme")):d.theme,focusedEl=input.wrap('<div class="ui-input-datebox ui-shadow-inset ui-corner-all ui-body-'+thisTheme+'"></div>').parent(),theDate=new Date(),initDate=new Date(theDate.getTime()),openbutton=a('<a href="#" class="ui-input-clear" title="'+((typeof d.lang[d.useLang].tooltip!=="undefined")?d.lang[d.useLang].tooltip:d.lang.en.tooltip)+'">'+((typeof d.lang[d.useLang].tooltip!=="undefined")?d.lang[d.useLang].tooltip:d.lang.en.tooltip)+"</a>").bind(d.clickEvent,function(f){f.preventDefault();if(!d.disabled){c.input.trigger("datebox",{method:"open"});c.focusedEl.addClass("ui-focus")}setTimeout(function(){a(f.target).closest("a").removeClass(a.mobile.activeBtnClass)},300)}).appendTo(focusedEl).buttonMarkup({icon:"grid",iconpos:"notext",corners:true,shadow:true}).css({"vertical-align":"middle",display:"inline-block"}),thisPage=input.closest(".ui-page"),ns=(typeof a.mobile.ns!=="undefined")?a.mobile.ns:"",pickPage=a("<div data-"+ns+"role='dialog' class='ui-dialog-datebox' data-"+ns+"theme='"+((d.forceInheritTheme===false)?d.pickPageTheme:thisTheme)+"' ><div data-"+ns+"role='header' data-"+ns+"backbtn='false' data-"+ns+"theme='a'><div class='ui-title'>PlaceHolder</div></div><div data-"+ns+"role='content'></div></div>").appendTo(a.mobile.pageContainer).page().css("minHeight","0px").css("zIndex",d.zindex).addClass(d.transition),pickPageTitle=pickPage.find(".ui-title"),pickPageContent=pickPage.find(".ui-content"),touch=(typeof window.ontouchstart!=="undefined"),START_EVENT=touch?"touchstart":"mousedown",MOVE_EVENT=touch?"touchmove":"mousemove",END_EVENT=touch?"touchend":"mouseup",dragMove=false,dragStart=false,dragEnd=false,dragPos=false,dragTarget=false,dragThisDelta=0;d.theme=thisTheme;a.extend(c,{input:input,focusedEl:focusedEl});if(d.forceInheritTheme){d.pickPageTheme=thisTheme;d.pickPageInputTheme=thisTheme;d.pickPageButtonTheme=thisTheme}if(d.defaultPickerValue===false&&d.defaultDate!==false){d.defaultPickerValue=d.defaultDate}if(d.numberInputEnhance===true){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)){d.internalInputType="number"}}a("label[for='"+input.attr("id")+"']").addClass("ui-input-text").css("verticalAlign","middle");if(d.mode==="timeflipbox"){d.lang[d.useLang].headerFormat=" "}if(d.noButtonFocusMode||d.useInline||d.noButton){openbutton.hide()}c.focusedEl.bind(d.clickEvent,function(){if(!d.disabled&&(d.noButtonFocusMode||d.focusMode)){c.input.trigger("datebox",{method:"open"});c.focusedEl.addClass("ui-focus");c.input.removeClass("ui-focus")}});c.input.removeClass("ui-corner-all ui-shadow-inset").focus(function(){if(!d.disabled){c.focusedEl.addClass("ui-focus")}c.input.removeClass("ui-focus")}).blur(function(){c.focusedEl.removeClass("ui-focus");c.input.removeClass("ui-focus")}).change(function(){c.theDate=c._makeDate(c.input.val());c._update()});c.input.bind("datebox",c._dateboxHandler);pickPage.find(".ui-header a").unbind("click vclick").bind(d.clickEvent,function(f){f.preventDefault();f.stopImmediatePropagation();c.input.trigger("datebox",{method:"close",fromCloseButton:false})});a.extend(c,{pickPage:pickPage,thisPage:thisPage,pickPageContent:pickPageContent,pickPageTitle:pickPageTitle,theDate:theDate,initDate:initDate,touch:touch,START_DRAG:START_EVENT,MOVE_DRAG:MOVE_EVENT,END_DRAG:END_EVENT,dragMove:dragMove,dragStart:dragStart,dragEnd:dragEnd,dragPos:dragPos});if(typeof a.event.special.mousewheel!=="undefined"){d.wheelExists=true}c._buildPage();if(d.swipeEnabled){a(document).bind(c.MOVE_DRAG,function(f){if(c.dragMove){if(d.mode==="slidebox"){c.dragEnd=c.touch?f.originalEvent.changedTouches[0].pageX:f.pageX;c.dragTarget.css("marginLeft",(c.dragPos+c.dragEnd-c.dragStart)+"px");f.preventDefault();f.stopPropagation();return false}else{if(d.mode==="flipbox"||d.mode==="timeflipbox"){c.dragEnd=c.touch?f.originalEvent.changedTouches[0].pageY:f.pageY;c.dragTarget.css("marginTop",(c.dragPos+c.dragEnd-c.dragStart)+"px");f.preventDefault();f.stopPropagation();return false}else{if(d.mode==="durationbox"||d.mode==="timebox"||d.mode==="datebox"){c.dragEnd=c.touch?f.originalEvent.changedTouches[0].pageY:f.pageY;if((c.dragEnd-c.dragStart)%2===0){dragThisDelta=(c.dragEnd-c.dragStart)/-2;if(dragThisDelta<c.dragPos){c._offset(c.dragTarget,-1*(c.dragTarget==="i"?d.minuteStep:1))}else{if(dragThisDelta>c.dragPos){c._offset(c.dragTarget,(c.dragTarget==="i"?d.minuteStep:1))}}c.dragPos=dragThisDelta}f.preventDefault();f.stopPropagation();return false}}}}});a(document).bind(c.END_DRAG,function(h){if(c.dragMove){c.dragMove=false;if(d.mode==="slidebox"){if(c.dragEnd!==false&&Math.abs(c.dragStart-c.dragEnd)>25){h.preventDefault();h.stopPropagation();switch(c.dragTarget.parent().jqmData("rowtype")){case"y":c._offset("y",parseInt((c.dragStart-c.dragEnd)/84,10));break;case"m":c._offset("m",parseInt((c.dragStart-c.dragEnd)/51,10));break;case"d":c._offset("d",parseInt((c.dragStart-c.dragEnd)/32,10));break;case"h":c._offset("h",parseInt((c.dragStart-c.dragEnd)/32,10));break;case"i":c._offset("i",parseInt((c.dragStart-c.dragEnd)/32,10));break}}}else{if(d.mode==="flipbox"||d.mode==="timeflipbox"){if(c.dragEnd!==false){h.preventDefault();h.stopPropagation();var g=c.dragTarget.parent().parent().jqmData("field"),f=parseInt((c.dragStart-c.dragEnd)/30,10);c._offset(g,f*((g==="i")?d.minuteStep:1))}}}c.dragStart=false;c.dragEnd=false}})}if(c.input.is(":disabled")){c.disable()}if(d.disableManualInput===true){c.input.attr("readonly",true)}a(document).trigger("dateboxaftercreate")},_makeElement:function(f,g){var c=this,d=false,e=false;e=f.clone();if(typeof g.attr!=="undefined"){for(d in g.attr){if(g.attr.hasOwnProperty(d)){e.jqmData(d,g.attr[d])}}}return e},_eventEnterValue:function(d){var c=this,e=c.options,f=false;if(d.val()!==""&&c._isInt(d.val())){switch(d.jqmData("field")){case"m":c.theDate.setMonth(parseInt(d.val(),10)-1);break;case"d":c.theDate.setDate(parseInt(d.val(),10));break;case"y":c.theDate.setFullYear(parseInt(d.val(),10));break;case"i":c.theDate.setMinutes(parseInt(d.val(),10));break;case"h":f=parseInt(d.val(),10);if(f===12){if((e.lang[e.useLang].timeFormat===12||e.timeFormatOverride===12)&&c.pickerMeri.val()===e.meridiemLetters[0]){f=0}}c.theDate.setHours(f);break}c._update()}},_buildInternals:function(){var p=this,r=p.options,m,k,v,e,w=a("<div><a href='#'></a></div>"),f=a("<div>",{"class":"ui-datebox-container ui-overlay-shadow ui-corner-all ui-datebox-hidden pop ui-body-"+r.pickPageTheme}).css("zIndex",r.zindex),z=a("<input type='"+r.internalInputType+"' />").addClass("ui-input-text ui-corner-all ui-shadow-inset ui-datebox-input ui-body-"+r.pickPageInputTheme),t=a("<input type='text' />").addClass("ui-input-text ui-corner-all ui-shadow-inset ui-datebox-input ui-body-"+r.pickPageInputTheme),j=a("<div>",{"class":"ui-datebox-controls"}),i=a("<div class='ui-overlay-shadow'><ul></ul></div>"),h,B,n,s,u,d,g,l,A,C,q,c;p.calNoNext=false;p.calNoPrev=false;p.setButton=false;p.clearButton=false;p.dateOK=true;if(r.fieldsOrderOverride===false){switch(r.mode){case"timebox":case"timeflipbox":r.fieldsOrder=r.lang[r.useLang].timeFieldOrder;break;case"slidebox":r.fieldsOrder=r.lang[r.useLang].slideFieldOrder;break;default:r.fieldsOrder=r.lang[r.useLang].dateFieldOrder}}else{r.fieldsOrder=r.fieldsOrderOverride}if(r.timeOutputOverride!==false){r.timeOutput=r.timeOutputOverride}else{if(r.timeFormatOverride===false){r.timeOutput=r.timeFormats[r.lang[r.useLang].timeFormat]}else{r.timeOutput=r.timeFormats[r.timeFormatOverride]}}if(r.dateFormat!==false){r.dateOutput=r.dateFormat}else{if(typeof r.lang[r.useLang].dateFormat!=="undefined"){r.dateOutput=r.lang[r.useLang].dateFormat}else{r.dateOutput=r.defaultDateFormat}}p.pickerContent.empty();if(r.mode==="datebox"||r.mode==="timebox"){u=a("<div class='ui-datebox-header'><h4>Unitialized</h4></div>").appendTo(p.pickerContent).find("h4");h=j.clone().appendTo(p.pickerContent);B=j.clone().appendTo(p.pickerContent);n=j.clone().appendTo(p.pickerContent);s=j.clone().appendTo(p.pickerContent);if(r.mode==="timebox"){u.parent().empty()}A=p._makeElement(z,{attr:{field:"m",amount:1}});C=p._makeElement(z,{attr:{field:"d",amount:1}});q=p._makeElement(z,{attr:{field:"y",amount:1}});d=p._makeElement(z,{attr:{field:"h",amount:1}});g=p._makeElement(z,{attr:{field:"i",amount:1}});l=p._makeElement(t,{attr:{field:"a",amount:r.minuteStep}});B.delegate("input","keyup",function(){p._eventEnterValue(a(this))});if(r.wheelExists){B.delegate("input","mousewheel",function(o,x){o.preventDefault();p._offset(a(this).jqmData("field"),((x<0)?-1:1)*a(this).jqmData("amount"))})}for(m=0;m<=r.fieldsOrder.length;m++){if(r.fieldsOrder[m]==="y"){q.appendTo(B)}if(r.fieldsOrder[m]==="m"){A.appendTo(B)}if(r.fieldsOrder[m]==="d"){C.appendTo(B)}if(r.fieldsOrder[m]==="h"){d.appendTo(B)}if(r.fieldsOrder[m]==="i"){g.appendTo(B)}if(r.fieldsOrder[m]==="a"&&(r.lang[r.useLang].timeFormat===12||r.timeFormatOverride===12)){l.appendTo(B)}}if(r.swipeEnabled){B.delegate("input",p.START_DRAG,function(o){if(!p.dragMove){p.dragMove=true;p.dragTarget=a(this).jqmData("field");p.dragPos=0;p.dragStart=p.touch?o.originalEvent.changedTouches[0].pageY:o.pageY;p.dragEnd=false;o.stopPropagation()}})}if(r.noSetButton===false){p.setButton=a("<a href='#'>PlaceHolder</a>").appendTo(s).buttonMarkup({theme:r.pickPageTheme,icon:"check",iconpos:"left",corners:true,shadow:true}).bind(r.clickEvent,function(o){o.preventDefault();if(p.dateOK===true){if(r.mode==="timebox"){p.input.trigger("datebox",{method:"set",value:p._formatTime(p.theDate),date:p.theDate})}else{p.input.trigger("datebox",{method:"set",value:p._formatDate(p.theDate),date:p.theDate})}p.input.trigger("datebox",{method:"close"})}})}for(m=0;m<p.options.fieldsOrder.length;m++){if(r.fieldsOrder[m]!=="a"||r.lang[r.useLang].timeFormat===12||r.timeFormatOverride===12){for(k=0;k<2;k++){w.clone().appendTo(((k===0)?h:n)).buttonMarkup({theme:r.pickPageButtonTheme,icon:((k===0)?"plus":"minus"),iconpos:"bottom",corners:true,shadow:true}).jqmData("field",r.fieldsOrder[m]).jqmData("amount",((r.fieldsOrder[m]==="i")?r.minuteStep:1))}}}h.delegate("div",r.clickEvent,function(o){o.preventDefault();p._offset(a(this).jqmData("field"),a(this).jqmData("amount"))});n.delegate("div",r.clickEvent,function(o){o.preventDefault();p._offset(a(this).jqmData("field"),a(this).jqmData("amount")*-1)});a.extend(p,{controlsHeader:u,pickerDay:C,pickerMon:A,pickerYar:q,pickerHour:d,pickerMins:g,pickerMeri:l,controlsInput:B});p.pickerContent.appendTo(p.thisPage)}if(r.mode==="durationbox"){h=j.clone().removeClass("ui-datebox-controls").addClass("ui-datebox-scontrols").appendTo(p.pickerContent);B=h.clone().appendTo(p.pickerContent);n=h.clone().appendTo(p.pickerContent);s=j.clone().appendTo(p.pickerContent);C=z.removeClass("ui-datebox-input");d=C.clone();g=C.clone();c=C.clone();B.delegate("input","keyup",function(){if(a(this).val()!==""){p._updateduration()}});if(r.wheelExists){B.delegate("input","mousewheel",function(o,x){o.preventDefault();p._offset(a(this).parent().jqmData("field"),((x<0)?-1:1))})}for(m=0;m<r.durationOrder.length;m++){switch(r.durationOrder[m]){case"d":a("<div>",{"class":"ui-datebox-sinput"}).jqmData("field","d").append(C).appendTo(B).prepend("<label>"+r.lang[r.useLang].durationLabel[0]+"</label>");break;case"h":a("<div>",{"class":"ui-datebox-sinput"}).jqmData("field","h").append(d).appendTo(B).prepend("<label>"+r.lang[r.useLang].durationLabel[1]+"</label>");break;case"i":a("<div>",{"class":"ui-datebox-sinput"}).jqmData("field","i").append(g).appendTo(B).prepend("<label>"+r.lang[r.useLang].durationLabel[2]+"</label>");break;case"s":a("<div>",{"class":"ui-datebox-sinput"}).jqmData("field","s").append(c).appendTo(B).prepend("<label>"+r.lang[r.useLang].durationLabel[3]+"</label>");break}}if(r.swipeEnabled){B.delegate("input",p.START_DRAG,function(o){if(!p.dragMove){p.dragMove=true;p.dragTarget=a(this).parent().jqmData("field");p.dragPos=0;p.dragStart=p.touch?o.originalEvent.changedTouches[0].pageY:o.pageY;p.dragEnd=false;o.stopPropagation()}})}if(r.noSetButton===false){p.setButton=a("<a href='#'>PlaceHolder</a>").appendTo(s).buttonMarkup({theme:r.pickPageTheme,icon:"check",iconpos:"left",corners:true,shadow:true}).bind(r.clickEvent,function(o){o.preventDefault();p.input.trigger("datebox",{method:"set",value:p._formatTime(p.theDate),date:p.theDate});p.input.trigger("datebox",{method:"close"})})}for(m=0;m<r.durationOrder.length;m++){for(k=0;k<2;k++){w.clone().appendTo(((k===0)?h:n)).buttonMarkup({theme:r.pickPageButtonTheme,icon:((k===0)?"plus":"minus"),iconpos:"bottom",corners:true,shadow:true}).jqmData("field",r.durationOrder[m])}}h.delegate("div",r.clickEvent,function(o){o.preventDefault();p._offset(a(this).jqmData("field"),r.durationSteppers[a(this).jqmData("field")])});n.delegate("div",r.clickEvent,function(o){o.preventDefault();p._offset(a(this).jqmData("field"),r.durationSteppers[a(this).jqmData("field")]*-1)});a.extend(p,{pickerHour:d,pickerMins:g,pickerDay:C,pickerSecs:c});p.pickerContent.appendTo(p.thisPage)}if(r.mode==="slidebox"){u=a("<div class='ui-datebox-header'><h4>Unitialized</h4></div>").appendTo(p.pickerContent).find("h4");B=a("<div>").addClass("ui-datebox-slide").appendTo(p.pickerContent);s=a("<div>",{"class":"ui-datebox-controls"}).appendTo(p.pickerContent);if(r.noSetButton===false){p.setButton=a("<a href='#'>PlaceHolder</a>").appendTo(s).buttonMarkup({theme:r.pickPageTheme,icon:"check",iconpos:"left",corners:true,shadow:true}).bind(r.clickEvent,function(o){o.preventDefault();if(p.dateOK===true){p.input.trigger("datebox",{method:"set",value:p._formatDate(p.theDate),date:p.theDate});p.input.trigger("datebox",{method:"close"})}})}a.extend(p,{controlsHeader:u,controlsInput:B});p.pickerContent.appendTo(p.thisPage)}if(r.mode==="flipbox"||r.mode==="timeflipbox"){u=a("<div class='ui-datebox-header'><h4>Unitialized</h4></div>").appendTo(p.pickerContent).find("h4");B=a("<div>",{"class":"ui-datebox-flipcontent"}).appendTo(p.pickerContent);h=a("<div>",{"class":"ui-datebox-flipcenter ui-overlay-shadow"}).css("pointerEvents","none").appendTo(p.pickerContent);s=j.clone().appendTo(p.pickerContent);C=p._makeElement(i,{attr:{field:"d",amount:1}});A=p._makeElement(i,{attr:{field:"m",amount:1}});q=p._makeElement(i,{attr:{field:"y",amount:1}});d=p._makeElement(i,{attr:{field:"h",amount:1}});g=p._makeElement(i,{attr:{field:"i",amount:r.minuteStep}});l=p._makeElement(i,{attr:{field:"a",amount:1}});if(r.wheelExists){B.delegate("div","mousewheel",function(o,x){o.preventDefault();p._offset(a(this).jqmData("field"),((x<0)?-1:1)*a(this).jqmData("amount"))})}for(m=0;m<=r.fieldsOrder.length;m++){if(r.fieldsOrder[m]==="y"){q.appendTo(B)}if(r.fieldsOrder[m]==="m"){A.appendTo(B)}if(r.fieldsOrder[m]==="d"){C.appendTo(B)}if(r.fieldsOrder[m]==="h"){d.appendTo(B)}if(r.fieldsOrder[m]==="i"){g.appendTo(B)}if(r.fieldsOrder[m]==="a"&&(r.lang[r.useLang].timeFormat===12||r.timeFormatOverride===12)){l.appendTo(B)}}if(r.swipeEnabled){B.delegate("ul",p.START_DRAG,function(x,o){if(!p.dragMove){if(typeof o!=="undefined"){x=o}p.dragMove=true;p.dragTarget=a(this).find("li").first();p.dragPos=parseInt(p.dragTarget.css("marginTop").replace(/px/i,""),10);p.dragStart=p.touch?x.originalEvent.changedTouches[0].pageY:x.pageY;p.dragEnd=false;x.stopPropagation();x.preventDefault()}});h.bind(p.START_DRAG,function(o){if(!p.dragMove){p.dragTarget=p.touch?o.originalEvent.changedTouches[0].pageX-a(o.currentTarget).offset().left:o.pageX-a(o.currentTarget).offset().left;if(r.fieldsOrder.length===3){a(p.controlsInput.find("ul").get(parseInt(p.dragTarget/87,10))).trigger(p.START_DRAG,o)}else{if(r.fieldsOrder.length===2){a(p.controlsInput.find("ul").get(parseInt(p.dragTarget/130,10))).trigger(p.START_DRAG,o)}}}})}if(r.noSetButton===false){p.setButton=a("<a href='#'>PlaceHolder</a>").appendTo(s).buttonMarkup({theme:r.pickPageTheme,icon:"check",iconpos:"left",corners:true,shadow:true}).bind(r.clickEvent,function(o){o.preventDefault();if(p.dateOK===true){if(r.mode==="timeflipbox"){p.input.trigger("datebox",{method:"set",value:p._formatTime(p.theDate),date:p.theDate})}else{p.input.trigger("datebox",{method:"set",value:p._formatDate(p.theDate),date:p.theDate})}p.input.trigger("datebox",{method:"close"})}})}a.extend(p,{controlsHeader:u,controlsInput:B,pickerDay:C,pickerMon:A,pickerYar:q,pickerHour:d,pickerMins:g,pickerMeri:l});p.pickerContent.appendTo(p.thisPage)}if(r.mode==="calbox"){u=a("<div>",{"class":"ui-datebox-gridheader"}).appendTo(p.pickerContent);h=a("<div>",{"class":"ui-datebox-grid"}).appendTo(p.pickerContent);s=j.clone().appendTo(p.pickerContent);B=a("<div class='ui-datebox-gridlabel'><h4>Uninitialized</h4></div>").appendTo(u).find("h4");if(r.swipeEnabled){p.pickerContent.bind("swipeleft",function(){if(!p.calNoNext){p._offset("m",1)}}).bind("swiperight",function(){if(!p.calNoPrev){p._offset("m",-1)}})}if(r.wheelExists){p.pickerContent.bind("mousewheel",function(o,x){o.preventDefault();if(x>0&&!p.calNoNext){if(p.theDate.getDate()>28){p.theDate.setDate(1)}p._offset("m",1)}if(x<0&&!p.calNoPrev){if(p.theDate.getDate()>28){p.theDate.setDate(1)}p._offset("m",-1)}})}a("<div class='ui-datebox-gridplus"+((r.lang[r.useLang].isRTL===true)?"-rtl":"")+"'><a href='#'>"+((typeof r.lang[r.useLang].nextMonth!=="undefined")?r.lang[r.useLang].nextMonth:r.lang.en.nextMonth)+"</a></div>").prependTo(u).buttonMarkup({theme:r.pickPageButtonTheme,icon:"plus",inline:true,iconpos:"notext",corners:true,shadow:true}).bind(r.clickEvent,function(o){o.preventDefault();if(!p.calNoNext){if(p.theDate.getDate()>28){p.theDate.setDate(1)}p._offset("m",1)}});a("<div class='ui-datebox-gridminus"+((r.lang[r.useLang].isRTL===true)?"-rtl":"")+"'><a href='#'>"+((typeof r.lang[r.useLang].prevMonth!=="undefined")?r.lang[r.useLang].prevMonth:r.lang.en.prevMonth)+"</a></div>").prependTo(u).buttonMarkup({theme:r.pickPageButtonTheme,icon:"minus",inline:true,iconpos:"notext",corners:true,shadow:true}).bind(r.clickEvent,function(o){o.preventDefault();if(!p.calNoPrev){if(p.theDate.getDate()>28){p.theDate.setDate(1)}p._offset("m",-1)}});if(r.calTodayButton===true){p.setButton=a("<a href='#'>PlaceHolder</a>").appendTo(s).buttonMarkup({theme:r.pickPageTheme,icon:"check",iconpos:"left",corners:true,shadow:true}).bind(r.clickEvent,function(o){o.preventDefault();p.theDate=new Date();p.theDate=new Date(p.theDate.getFullYear(),p.theDate.getMonth(),p.theDate.getDate(),0,0,0,0);p.input.trigger("datebox",{method:"doset"})})}a.extend(p,{controlsInput:B,controlsPlus:h});p.pickerContent.appendTo(p.thisPage)}if(r.useClearButton===true){p.clearButton=a("<a href='#'>PlaceHolder</a>").appendTo(s).buttonMarkup({theme:r.pickPageTheme,icon:"delete",iconpos:"left",corners:true,shadow:true}).bind(r.clickEvent,function(o){o.preventDefault();p.input.val("");p.input.trigger("datebox",{method:"clear"});p.input.trigger("datebox",{method:"close"})})}if(r.collapseButtons&&(p.clearButton!==false&&p.setButton!==false)){s.addClass("ui-datebox-collapse")}},_buttonsTitle:function(){var c=this,d=this.options;if(d.titleDialogLabel===false){if(typeof this.element.attr("title")!=="undefined"){c.pickPageTitle.html(this.element.attr("title"))}else{if(this.focusedEl.parent().find("label").text()!==""){c.pickPageTitle.html(this.focusedEl.parent().find("label").text())}else{switch(d.mode){case"timebox":case"timeflipbox":c.pickPageTitle.html(d.lang[d.useLang].titleTimeDialogLabel);break;default:c.pickPageTitle.html(d.lang[d.useLang].titleDateDialogLabel);break}}}}else{c.pickPageTitle.html(d.titleDialogLabel)}if(c.clearButton!==false){c.clearButton.find(".ui-btn-text").html(d.lang[d.useLang].clearButton)}if(c.setButton!==false){switch(d.mode){case"timebox":case"timeflipbox":c.setButton.find(".ui-btn-text").html(d.lang[d.useLang].setTimeButtonLabel);break;case"durationbox":c.setButton.find(".ui-btn-text").html(d.lang[d.useLang].setDurationButtonLabel);break;case"calbox":c.setButton.find(".ui-btn-text").html(d.lang[d.useLang].calTodayButtonLabel);break;default:c.setButton.find(".ui-btn-text").html(d.lang[d.useLang].setDateButtonLabel);break}}},_buildPage:function(){var d=this,e=d.options,f=a("<div>",{"class":"ui-datebox-container ui-overlay-shadow ui-corner-all ui-datebox-hidden "+e.transition+" ui-body-"+e.pickPageTheme}).css("zIndex",e.zindex),c=a("<div>",{"class":"ui-datebox-screen ui-datebox-hidden"+((e.useModal)?" ui-datebox-screen-modal":"")}).css({"z-index":e.zindex-1}).appendTo(d.thisPage).bind(e.clickEvent,function(g){g.preventDefault();d.input.trigger("datebox",{method:"close"})});if(e.noAnimation){f.removeClass(e.transition)}a.extend(d,{pickerContent:f,screen:c});d._buildInternals();if(e.useInline||e.useInlineBlind){d.input.parent().parent().append(d.pickerContent);if(e.useInlineHideInput){d.input.parent().hide()}d.input.trigger("change");d.pickerContent.removeClass("ui-datebox-hidden")}else{if(e.centerWindow&&e.useInlineHideInput){d.input.parent().hide()}}if(e.useInline){d.pickerContent.addClass("ui-datebox-inline");d.open()}if(e.useInlineBlind){d.pickerContent.addClass("ui-datebox-inlineblind");d.pickerContent.hide()}},hardreset:function(){this._buildInternals();this.refresh();this._buttonsTitle()},refresh:function(){if(this.options.useInline===true){this.input.trigger("change")}this._update()},open:function(){var c=this,f=this.options,d=false,e=f.noAnimation?"none":f.transition,h,g;if(f.openCallback!==false){if(!a.isFunction(this.options.openCallback)){if(typeof window[f.openCallback]!=="undefined"){f.openCallback=window[f.openCallback]}else{f.openCallback=new Function(f.openCallback)}}h=f.openCallback.apply(c,a.merge([c.theDate],f.openCallbackArgs));if(h==false){return false}}c._buttonsTitle();if(this.options.useInlineBlind){this.pickerContent.slideDown();return false}if(this.options.useInline){return true}if(this.pickPage.is(":visible")){return false}this.theDate=this._makeDate(this.input.val());this._update();this.input.blur();if((a(document).width()>400&&!f.useDialogForceTrue)||f.useDialogForceFalse||f.fullScreen){d=this._getCoords(this);f.useDialog=false;if(f.nestedBox===true&&f.fullScreen===false){g=a(".ui-page-active").first();a(g).append(c.pickerContent);a(g).append(c.screen)}if(f.fullScreenAlways===false||d.width>399){if(f.useModal===true){c.screen.fadeIn("slow")}else{setTimeout(function(){c.screen.removeClass("ui-datebox-hidden")},500)}}if(f.fullScreenAlways===true||(f.fullScreen===true&&d.width<400)){c.pickerContent.addClass("in").css({position:"absolute","text-align":"center",top:d.fullTop-5,left:d.fullLeft-5,height:d.high,width:d.width}).removeClass("ui-datebox-hidden")}else{c.pickerContent.addClass("ui-overlay-shadow in").css({position:"absolute",top:d.winTop,left:d.winLeft}).removeClass("ui-datebox-hidden");a(document).bind("orientationchange.datebox",{widget:c},function(i){c._orientChange(i)});if(f.resizeListener===true){a(window).bind("resize.datebox",{widget:c},function(i){c._orientChange(i)})}}}else{c.thisPage.unbind("pagehide.remove");f.useDialog=true;c.pickPageContent.append(c.pickerContent);c.pickerContent.css({top:"auto",left:"auto",marginLeft:"auto",marginRight:"auto"}).removeClass("ui-overlay-shadow ui-datebox-hidden");a.mobile.changePage(c.pickPage,{transition:e})}},close:function(c){var d=this,e=this.options,f;if(e.useInlineBlind){d.pickerContent.slideUp();return false}if(e.useInline){return true}if(e.useDialog){if(!c){a(d.pickPage).dialog("close")}if(!d.thisPage.jqmData("page").options.domCache){d.thisPage.bind("pagehide.remove",function(){a(d).remove()})}d.pickerContent.addClass("ui-datebox-hidden").removeAttr("style").css("zIndex",d.options.zindex);d.thisPage.append(d.pickerContent)}else{if(e.useModal){d.screen.fadeOut("slow")}else{d.screen.addClass("ui-datebox-hidden")}d.pickerContent.addClass("ui-datebox-hidden").removeAttr("style").css("zIndex",d.options.zindex).removeClass("in")}d.focusedEl.removeClass("ui-focus");a(document).unbind("orientationchange.datebox");if(e.resizeListener===true){a(window).unbind("resize.datebox")}if(e.closeCallback!==false){if(!a.isFunction(e.closeCallback)){if(typeof window[e.closeCallback]!=="undefined"){e.closeCallback=window[e.closeCallback]}else{e.closeCallback=new Function(e.closeCallback)}}e.closeCallback.apply(d,a.merge([d.theDate],e.closeCallbackArgs))}},disable:function(){this.element.attr("disabled",true);this.element.parent().addClass("ui-disabled");this.options.disabled=true;this.element.blur();this.input.trigger("datebox",{method:"disable"})},enable:function(){this.element.attr("disabled",false);this.element.parent().removeClass("ui-disabled");this.options.disabled=false;this.input.trigger("datebox",{method:"enable"})},_setOption:function(d,e){var c=["minYear","maxYear","afterToday","beforeToday","maxDays","minDays","highDays","highDates","blackDays","blackDates","enableDates"];a.Widget.prototype._setOption.apply(this,arguments);if(a.inArray(d,c)>-1){this.refresh()}else{this.hardreset()}}});a(document).bind("pagebeforecreate",function(c){a(":jqmData(role='datebox')",c.target).each(function(){a(this).prop("type","text")})});a(document).bind("pagecreate create",function(c){a(document).trigger("dateboxbeforecreate");a(":jqmData(role='datebox')",c.target).each(function(){if(typeof(a(this).data("datebox"))==="undefined"){a(this).datebox()}})})})(jQuery);
/*
	Name: autoComplete
	Author: Raymond Camden & Andy Matthews
	Contributors: Jim Pease (@jmpease)
	Website: http://raymondcamden.com/
			 http://andyMatthews.net
	Packed With: http://jsutility.pjoneil.net/
	Version: 1.3
 */
(function($){"use strict";var defaults={target:$(),source:null,callback:null,link:null,minLength:0,transition:'fade'},buildItems=function($this,data,settings){var str=[];$.each(data,function(index,value){if($.isPlainObject(value)){str.push('<li><a href="'+settings.link+encodeURIComponent(value.value)+'" data-transition="'+settings.transition+'">'+value.label+'</a></li>')}else{str.push('<li><a href="'+settings.link+encodeURIComponent(value)+'" data-transition="'+settings.transition+'">'+value+'</a></li>')}});$(settings.target).html(str.join('')).listview("refresh");if(settings.callback!=null&&$.isFunction(settings.callback)){attachCallback(settings)}if(str.length>0){$this.trigger("targetUpdated.autocomplete")}else{$this.trigger("targetCleared.autocomplete")}},attachCallback=function(settings){$('li a',$(settings.target)).bind('click.autocomplete',function(e){e.stopPropagation();e.preventDefault();settings.callback(e)})},clearTarget=function($this,$target){$target.html('').listview('refresh');$this.trigger("targetCleared.autocomplete")},handleInput=function(e){var $this=$(this),text,data,settings=$this.jqmData("autocomplete");if(settings){text=$this.val();if(text.length<settings.minLength){clearTarget($this,$(settings.target))}else{if($.isArray(settings.source)){data=settings.source.sort().filter(function(element){var element_text,re=new RegExp('^'+text,'i');if($.isPlainObject(element)){element_text=element.label}else{element_text=element}return re.test(element_text)});buildItems($this,data,settings)}else{$.get(settings.source,{term:text},function(data){buildItems($this,data,settings)},"json")}}}},methods={init:function(options){this.jqmData("autocomplete",$.extend({},defaults,options));return this.unbind("input.autocomplete").bind("input.autocomplete",handleInput)},update:function(options){var settings=this.jqmData("autocomplete");if(settings){this.jqmData("autocomplete",$.extend(settings,options))}return this},clear:function(){var settings=this.jqmData("autocomplete");if(settings){clearTarget(this,$(settings.target))}return this},destroy:function(){var settings=this.jqmData("autocomplete");if(settings){clearTarget(this,$(settings.target));this.jqmRemoveData("autocomplete");this.unbind(".autocomplete")}return this}};$.fn.autocomplete=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments)}}})(jQuery);
/**
 * CoffeeScript Compiler v1.9.2
 * http://coffeescript.org
 *
 * Copyright 2011, Jeremy Ashkenas
 * Released under the MIT License
 */
(function(root){var CoffeeScript=function(){function require(e){return require[e]}return require["./helpers"]=function(){var e={},t={exports:e};return function(){var t,n,i,r,s,o;e.starts=function(e,t,n){return t===e.substr(n,t.length)},e.ends=function(e,t,n){var i;return i=t.length,t===e.substr(e.length-i-(n||0),i)},e.repeat=s=function(e,t){var n;for(n="";t>0;)1&t&&(n+=e),t>>>=1,e+=e;return n},e.compact=function(e){var t,n,i,r;for(r=[],t=0,i=e.length;i>t;t++)n=e[t],n&&r.push(n);return r},e.count=function(e,t){var n,i;if(n=i=0,!t.length)return 1/0;for(;i=1+e.indexOf(t,i);)n++;return n},e.merge=function(e,t){return n(n({},e),t)},n=e.extend=function(e,t){var n,i;for(n in t)i=t[n],e[n]=i;return e},e.flatten=i=function(e){var t,n,r,s;for(n=[],r=0,s=e.length;s>r;r++)t=e[r],t instanceof Array?n=n.concat(i(t)):n.push(t);return n},e.del=function(e,t){var n;return n=e[t],delete e[t],n},e.some=null!=(r=Array.prototype.some)?r:function(e){var t,n,i;for(n=0,i=this.length;i>n;n++)if(t=this[n],e(t))return!0;return!1},e.invertLiterate=function(e){var t,n,i;return i=!0,n=function(){var n,r,s,o;for(s=e.split("\n"),o=[],n=0,r=s.length;r>n;n++)t=s[n],i&&/^([ ]{4}|[ ]{0,3}\t)/.test(t)?o.push(t):(i=/^\s*$/.test(t))?o.push(t):o.push("# "+t);return o}(),n.join("\n")},t=function(e,t){return t?{first_line:e.first_line,first_column:e.first_column,last_line:t.last_line,last_column:t.last_column}:e},e.addLocationDataFn=function(e,n){return function(i){return"object"==typeof i&&i.updateLocationDataIfMissing&&i.updateLocationDataIfMissing(t(e,n)),i}},e.locationDataToString=function(e){var t;return"2"in e&&"first_line"in e[2]?t=e[2]:"first_line"in e&&(t=e),t?t.first_line+1+":"+(t.first_column+1)+"-"+(t.last_line+1+":"+(t.last_column+1)):"No location data"},e.baseFileName=function(e,t,n){var i,r;return null==t&&(t=!1),null==n&&(n=!1),r=n?/\\|\//:/\//,i=e.split(r),e=i[i.length-1],t&&e.indexOf(".")>=0?(i=e.split("."),i.pop(),"coffee"===i[i.length-1]&&i.length>1&&i.pop(),i.join(".")):e},e.isCoffee=function(e){return/\.((lit)?coffee|coffee\.md)$/.test(e)},e.isLiterate=function(e){return/\.(litcoffee|coffee\.md)$/.test(e)},e.throwSyntaxError=function(e,t){var n;throw n=new SyntaxError(e),n.location=t,n.toString=o,n.stack=""+n,n},e.updateSyntaxError=function(e,t,n){return e.toString===o&&(e.code||(e.code=t),e.filename||(e.filename=n),e.stack=""+e),e},o=function(){var e,t,n,i,r,o,a,c,l,h,u,p,d,f,m;return this.code&&this.location?(u=this.location,a=u.first_line,o=u.first_column,l=u.last_line,c=u.last_column,null==l&&(l=a),null==c&&(c=o),r=this.filename||"[stdin]",e=this.code.split("\n")[a],m=o,i=a===l?c+1:e.length,h=e.slice(0,m).replace(/[^\s]/g," ")+s("^",i-m),"undefined"!=typeof process&&null!==process&&(n=(null!=(p=process.stdout)?p.isTTY:void 0)&&!(null!=(d=process.env)?d.NODE_DISABLE_COLORS:void 0)),(null!=(f=this.colorful)?f:n)&&(t=function(e){return"[1;31m"+e+"[0m"},e=e.slice(0,m)+t(e.slice(m,i))+e.slice(i),h=t(h)),r+":"+(a+1)+":"+(o+1)+": error: "+this.message+"\n"+e+"\n"+h):Error.prototype.toString.call(this)},e.nameWhitespaceCharacter=function(e){switch(e){case" ":return"space";case"\n":return"newline";case"\r":return"carriage return";case"	":return"tab";default:return e}}}.call(this),t.exports}(),require["./rewriter"]=function(){var e={},t={exports:e};return function(){var t,n,i,r,s,o,a,c,l,h,u,p,d,f,m,g,v,y,b,k=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},w=[].slice;for(f=function(e,t,n){var i;return i=[e,t],i.generated=!0,n&&(i.origin=n),i},e.Rewriter=function(){function e(){}return e.prototype.rewrite=function(e){return this.tokens=e,this.removeLeadingNewlines(),this.closeOpenCalls(),this.closeOpenIndexes(),this.normalizeLines(),this.tagPostfixConditionals(),this.addImplicitBracesAndParens(),this.addLocationDataToGeneratedTokens(),this.tokens},e.prototype.scanTokens=function(e){var t,n,i;for(i=this.tokens,t=0;n=i[t];)t+=e.call(this,n,t,i);return!0},e.prototype.detectEnd=function(e,t,n){var i,o,a,c,l;for(l=this.tokens,i=0;c=l[e];){if(0===i&&t.call(this,c,e))return n.call(this,c,e);if(!c||0>i)return n.call(this,c,e-1);o=c[0],k.call(s,o)>=0?i+=1:(a=c[0],k.call(r,a)>=0&&(i-=1)),e+=1}return e-1},e.prototype.removeLeadingNewlines=function(){var e,t,n,i,r;for(i=this.tokens,e=t=0,n=i.length;n>t&&(r=i[e][0],"TERMINATOR"===r);e=++t);return e?this.tokens.splice(0,e):void 0},e.prototype.closeOpenCalls=function(){var e,t;return t=function(e,t){var n;return")"===(n=e[0])||"CALL_END"===n||"OUTDENT"===e[0]&&")"===this.tag(t-1)},e=function(e,t){return this.tokens["OUTDENT"===e[0]?t-1:t][0]="CALL_END"},this.scanTokens(function(n,i){return"CALL_START"===n[0]&&this.detectEnd(i+1,t,e),1})},e.prototype.closeOpenIndexes=function(){var e,t;return t=function(e){var t;return"]"===(t=e[0])||"INDEX_END"===t},e=function(e){return e[0]="INDEX_END"},this.scanTokens(function(n,i){return"INDEX_START"===n[0]&&this.detectEnd(i+1,t,e),1})},e.prototype.indexOfTag=function(){var e,t,n,i,r,s,o;for(t=arguments[0],r=arguments.length>=2?w.call(arguments,1):[],e=0,n=i=0,s=r.length;s>=0?s>i:i>s;n=s>=0?++i:--i){for(;"HERECOMMENT"===this.tag(t+n+e);)e+=2;if(null!=r[n]&&("string"==typeof r[n]&&(r[n]=[r[n]]),o=this.tag(t+n+e),0>k.call(r[n],o)))return-1}return t+n+e-1},e.prototype.looksObjectish=function(e){var t,n;return this.indexOfTag(e,"@",null,":")>-1||this.indexOfTag(e,null,":")>-1?!0:(n=this.indexOfTag(e,s),n>-1&&(t=null,this.detectEnd(n+1,function(e){var t;return t=e[0],k.call(r,t)>=0},function(e,n){return t=n}),":"===this.tag(t+1))?!0:!1)},e.prototype.findTagsBackwards=function(e,t){var n,i,o,a,c,l,h;for(n=[];e>=0&&(n.length||(a=this.tag(e),0>k.call(t,a)&&(c=this.tag(e),0>k.call(s,c)||this.tokens[e].generated)&&(l=this.tag(e),0>k.call(u,l))));)i=this.tag(e),k.call(r,i)>=0&&n.push(this.tag(e)),o=this.tag(e),k.call(s,o)>=0&&n.length&&n.pop(),e-=1;return h=this.tag(e),k.call(t,h)>=0},e.prototype.addImplicitBracesAndParens=function(){var e,t;return e=[],t=null,this.scanTokens(function(i,h,p){var d,m,g,v,y,b,w,T,C,E,F,N,L,x,S,D,R,A,I,_,O,$,j,M,B,V,P,U;if(U=i[0],F=(N=h>0?p[h-1]:[])[0],C=(p.length-1>h?p[h+1]:[])[0],j=function(){return e[e.length-1]},M=h,g=function(e){return h-M+e},v=function(){var e,t;return null!=(e=j())?null!=(t=e[2])?t.ours:void 0:void 0},y=function(){var e;return v()&&"("===(null!=(e=j())?e[0]:void 0)},w=function(){var e;return v()&&"{"===(null!=(e=j())?e[0]:void 0)},b=function(){var e;return v&&"CONTROL"===(null!=(e=j())?e[0]:void 0)},B=function(t){var n;return n=null!=t?t:h,e.push(["(",n,{ours:!0}]),p.splice(n,0,f("CALL_START","(")),null==t?h+=1:void 0},d=function(){return e.pop(),p.splice(h,0,f("CALL_END",")",["","end of input",i[2]])),h+=1},V=function(t,n){var r,s;return null==n&&(n=!0),r=null!=t?t:h,e.push(["{",r,{sameLine:!0,startsLine:n,ours:!0}]),s=new String("{"),s.generated=!0,p.splice(r,0,f("{",s,i)),null==t?h+=1:void 0},m=function(t){return t=null!=t?t:h,e.pop(),p.splice(t,0,f("}","}",i)),h+=1},y()&&("IF"===U||"TRY"===U||"FINALLY"===U||"CATCH"===U||"CLASS"===U||"SWITCH"===U))return e.push(["CONTROL",h,{ours:!0}]),g(1);if("INDENT"===U&&v()){if("=>"!==F&&"->"!==F&&"["!==F&&"("!==F&&","!==F&&"{"!==F&&"TRY"!==F&&"ELSE"!==F&&"="!==F)for(;y();)d();return b()&&e.pop(),e.push([U,h]),g(1)}if(k.call(s,U)>=0)return e.push([U,h]),g(1);if(k.call(r,U)>=0){for(;v();)y()?d():w()?m():e.pop();t=e.pop()}if((k.call(c,U)>=0&&i.spaced||"?"===U&&h>0&&!p[h-1].spaced)&&(k.call(o,C)>=0||k.call(l,C)>=0&&!(null!=(L=p[h+1])?L.spaced:void 0)&&!(null!=(x=p[h+1])?x.newLine:void 0)))return"?"===U&&(U=i[0]="FUNC_EXIST"),B(h+1),g(2);if(k.call(c,U)>=0&&this.indexOfTag(h+1,"INDENT",null,":")>-1&&!this.findTagsBackwards(h,["CLASS","EXTENDS","IF","CATCH","SWITCH","LEADING_WHEN","FOR","WHILE","UNTIL"]))return B(h+1),e.push(["INDENT",h+2]),g(3);if(":"===U){for(I=function(){var e;switch(!1){case e=this.tag(h-1),0>k.call(r,e):return t[1];case"@"!==this.tag(h-2):return h-2;default:return h-1}}.call(this);"HERECOMMENT"===this.tag(I-2);)I-=2;return this.insideForDeclaration="FOR"===C,P=0===I||(S=this.tag(I-1),k.call(u,S)>=0)||p[I-1].newLine,j()&&(D=j(),$=D[0],O=D[1],("{"===$||"INDENT"===$&&"{"===this.tag(O-1))&&(P||","===this.tag(I-1)||"{"===this.tag(I-1)))?g(1):(V(I,!!P),g(2))}if(w()&&k.call(u,U)>=0&&(j()[2].sameLine=!1),T="OUTDENT"===F||N.newLine,k.call(a,U)>=0||k.call(n,U)>=0&&T)for(;v();)if(R=j(),$=R[0],O=R[1],A=R[2],_=A.sameLine,P=A.startsLine,y()&&","!==F)d();else if(w()&&!this.insideForDeclaration&&_&&"TERMINATOR"!==U&&":"!==F)m();else{if(!w()||"TERMINATOR"!==U||","===F||P&&this.looksObjectish(h+1))break;if("HERECOMMENT"===C)return g(1);m()}if(!(","!==U||this.looksObjectish(h+1)||!w()||this.insideForDeclaration||"TERMINATOR"===C&&this.looksObjectish(h+2)))for(E="OUTDENT"===C?1:0;w();)m(h+E);return g(1)})},e.prototype.addLocationDataToGeneratedTokens=function(){return this.scanTokens(function(e,t,n){var i,r,s,o,a,c;return e[2]?1:e.generated||e.explicit?("{"===e[0]&&(s=null!=(a=n[t+1])?a[2]:void 0)?(r=s.first_line,i=s.first_column):(o=null!=(c=n[t-1])?c[2]:void 0)?(r=o.last_line,i=o.last_column):r=i=0,e[2]={first_line:r,first_column:i,last_line:r,last_column:i},1):1})},e.prototype.normalizeLines=function(){var e,t,r,s,o;return o=r=s=null,t=function(e,t){var r,s,a,c;return";"!==e[1]&&(r=e[0],k.call(p,r)>=0)&&!("TERMINATOR"===e[0]&&(s=this.tag(t+1),k.call(i,s)>=0))&&!("ELSE"===e[0]&&"THEN"!==o)&&!!("CATCH"!==(a=e[0])&&"FINALLY"!==a||"->"!==o&&"=>"!==o)||(c=e[0],k.call(n,c)>=0&&this.tokens[t-1].newLine)},e=function(e,t){return this.tokens.splice(","===this.tag(t-1)?t-1:t,0,s)},this.scanTokens(function(n,a,c){var l,h,u,p,f,m;if(m=n[0],"TERMINATOR"===m){if("ELSE"===this.tag(a+1)&&"OUTDENT"!==this.tag(a-1))return c.splice.apply(c,[a,1].concat(w.call(this.indentation()))),1;if(u=this.tag(a+1),k.call(i,u)>=0)return c.splice(a,1),0}if("CATCH"===m)for(l=h=1;2>=h;l=++h)if("OUTDENT"===(p=this.tag(a+l))||"TERMINATOR"===p||"FINALLY"===p)return c.splice.apply(c,[a+l,0].concat(w.call(this.indentation()))),2+l;return k.call(d,m)>=0&&"INDENT"!==this.tag(a+1)&&("ELSE"!==m||"IF"!==this.tag(a+1))?(o=m,f=this.indentation(c[a]),r=f[0],s=f[1],"THEN"===o&&(r.fromThen=!0),c.splice(a+1,0,r),this.detectEnd(a+2,t,e),"THEN"===m&&c.splice(a,1),1):1})},e.prototype.tagPostfixConditionals=function(){var e,t,n;return n=null,t=function(e,t){var n,i;return i=e[0],n=this.tokens[t-1][0],"TERMINATOR"===i||"INDENT"===i&&0>k.call(d,n)},e=function(e){return"INDENT"!==e[0]||e.generated&&!e.fromThen?n[0]="POST_"+n[0]:void 0},this.scanTokens(function(i,r){return"IF"!==i[0]?1:(n=i,this.detectEnd(r+1,t,e),1)})},e.prototype.indentation=function(e){var t,n;return t=["INDENT",2],n=["OUTDENT",2],e?(t.generated=n.generated=!0,t.origin=n.origin=e):t.explicit=n.explicit=!0,[t,n]},e.prototype.generate=f,e.prototype.tag=function(e){var t;return null!=(t=this.tokens[e])?t[0]:void 0},e}(),t=[["(",")"],["[","]"],["{","}"],["INDENT","OUTDENT"],["CALL_START","CALL_END"],["PARAM_START","PARAM_END"],["INDEX_START","INDEX_END"],["STRING_START","STRING_END"],["REGEX_START","REGEX_END"]],e.INVERSES=h={},s=[],r=[],m=0,v=t.length;v>m;m++)y=t[m],g=y[0],b=y[1],s.push(h[b]=g),r.push(h[g]=b);i=["CATCH","THEN","ELSE","FINALLY"].concat(r),c=["IDENTIFIER","SUPER",")","CALL_END","]","INDEX_END","@","THIS"],o=["IDENTIFIER","NUMBER","STRING","STRING_START","JS","REGEX","REGEX_START","NEW","PARAM_START","CLASS","IF","TRY","SWITCH","THIS","BOOL","NULL","UNDEFINED","UNARY","YIELD","UNARY_MATH","SUPER","THROW","@","->","=>","[","(","{","--","++"],l=["+","-"],a=["POST_IF","FOR","WHILE","UNTIL","WHEN","BY","LOOP","TERMINATOR"],d=["ELSE","->","=>","TRY","FINALLY","THEN"],p=["TERMINATOR","CATCH","FINALLY","ELSE","OUTDENT","LEADING_WHEN"],u=["TERMINATOR","INDENT","OUTDENT"],n=[".","?.","::","?::"]}.call(this),t.exports}(),require["./lexer"]=function(){var e={},t={exports:e};return function(){var t,n,i,r,s,o,a,c,l,h,u,p,d,f,m,g,v,y,b,k,w,T,C,E,F,N,L,x,S,D,R,A,I,_,O,$,j,M,B,V,P,U,G,H,q,X,W,Y,K,z,J,Q,Z,et,tt,nt,it,rt,st,ot,at,ct,lt,ht,ut=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};ot=require("./rewriter"),P=ot.Rewriter,w=ot.INVERSES,at=require("./helpers"),nt=at.count,lt=at.starts,tt=at.compact,ct=at.repeat,it=at.invertLiterate,st=at.locationDataToString,ht=at.throwSyntaxError,e.Lexer=S=function(){function e(){}return e.prototype.tokenize=function(e,t){var n,i,r,s;for(null==t&&(t={}),this.literate=t.literate,this.indent=0,this.baseIndent=0,this.indebt=0,this.outdebt=0,this.indents=[],this.ends=[],this.tokens=[],this.chunkLine=t.line||0,this.chunkColumn=t.column||0,e=this.clean(e),r=0;this.chunk=e.slice(r);)if(n=this.identifierToken()||this.commentToken()||this.whitespaceToken()||this.lineToken()||this.stringToken()||this.numberToken()||this.regexToken()||this.jsToken()||this.literalToken(),s=this.getLineAndColumnFromChunk(n),this.chunkLine=s[0],this.chunkColumn=s[1],r+=n,t.untilBalanced&&0===this.ends.length)return{tokens:this.tokens,index:r};return this.closeIndentation(),(i=this.ends.pop())&&this.error("missing "+i.tag,i.origin[2]),t.rewrite===!1?this.tokens:(new P).rewrite(this.tokens)},e.prototype.clean=function(e){return e.charCodeAt(0)===t&&(e=e.slice(1)),e=e.replace(/\r/g,"").replace(z,""),et.test(e)&&(e="\n"+e,this.chunkLine--),this.literate&&(e=it(e)),e},e.prototype.identifierToken=function(){var e,t,n,i,r,c,l,h,u,p,d,f,m,g,y;return(l=v.exec(this.chunk))?(c=l[0],i=l[1],e=l[2],r=i.length,h=void 0,"own"===i&&"FOR"===this.tag()?(this.token("OWN",i),i.length):"from"===i&&"YIELD"===this.tag()?(this.token("FROM",i),i.length):(p=this.tokens,u=p[p.length-1],n=e||null!=u&&("."===(d=u[0])||"?."===d||"::"===d||"?::"===d||!u.spaced&&"@"===u[0]),g="IDENTIFIER",!n&&(ut.call(E,i)>=0||ut.call(a,i)>=0)&&(g=i.toUpperCase(),"WHEN"===g&&(f=this.tag(),ut.call(N,f)>=0)?g="LEADING_WHEN":"FOR"===g?this.seenFor=!0:"UNLESS"===g?g="IF":ut.call(J,g)>=0?g="UNARY":ut.call(B,g)>=0&&("INSTANCEOF"!==g&&this.seenFor?(g="FOR"+g,this.seenFor=!1):(g="RELATION","!"===this.value()&&(h=this.tokens.pop(),i="!"+i)))),ut.call(C,i)>=0&&(n?(g="IDENTIFIER",i=new String(i),i.reserved=!0):ut.call(V,i)>=0&&this.error("reserved word '"+i+"'",{length:i.length})),n||(ut.call(s,i)>=0&&(i=o[i]),g=function(){switch(i){case"!":return"UNARY";case"==":case"!=":return"COMPARE";case"&&":case"||":return"LOGIC";case"true":case"false":return"BOOL";case"break":case"continue":return"STATEMENT";default:return g}}()),y=this.token(g,i,0,r),y.variable=!n,h&&(m=[h[2].first_line,h[2].first_column],y[2].first_line=m[0],y[2].first_column=m[1]),e&&(t=c.lastIndexOf(":"),this.token(":",":",t,e.length)),c.length)):0},e.prototype.numberToken=function(){var e,t,n,i,r;return(n=I.exec(this.chunk))?(i=n[0],t=i.length,/^0[BOX]/.test(i)?this.error("radix prefix in '"+i+"' must be lowercase",{offset:1}):/E/.test(i)&&!/^0x/.test(i)?this.error("exponential notation in '"+i+"' must be indicated with a lowercase 'e'",{offset:i.indexOf("E")}):/^0\d*[89]/.test(i)?this.error("decimal literal '"+i+"' must not be prefixed with '0'",{length:t}):/^0\d+/.test(i)&&this.error("octal literal '"+i+"' must be prefixed with '0o'",{length:t}),(r=/^0o([0-7]+)/.exec(i))&&(i="0x"+parseInt(r[1],8).toString(16)),(e=/^0b([01]+)/.exec(i))&&(i="0x"+parseInt(e[1],2).toString(16)),this.token("NUMBER",i,0,t),t):0},e.prototype.stringToken=function(){var e,t,n,i,r,s,o,a,c,l,h,u,m,g,v,y;if(h=(Y.exec(this.chunk)||[])[0],!h)return 0;if(g=function(){switch(h){case"'":return W;case'"':return q;case"'''":return f;case'"""':return p}}(),s=3===h.length,u=this.matchWithInterpolations(g,h),y=u.tokens,r=u.index,e=y.length-1,n=h.charAt(0),s){for(a=null,i=function(){var e,t,n;for(n=[],o=e=0,t=y.length;t>e;o=++e)v=y[o],"NEOSTRING"===v[0]&&n.push(v[1]);return n}().join("#{}");l=d.exec(i);)t=l[1],(null===a||(m=t.length)>0&&a.length>m)&&(a=t);a&&(c=RegExp("^"+a,"gm")),this.mergeInterpolationTokens(y,{delimiter:n},function(t){return function(n,i){return n=t.formatString(n),0===i&&(n=n.replace(F,"")),i===e&&(n=n.replace(K,"")),c&&(n=n.replace(c,"")),n}}(this))}else this.mergeInterpolationTokens(y,{delimiter:n},function(t){return function(n,i){return n=t.formatString(n),n=n.replace(G,function(t,r){return 0===i&&0===r||i===e&&r+t.length===n.length?"":" "})}}(this));return r},e.prototype.commentToken=function(){var e,t,n;return(n=this.chunk.match(c))?(e=n[0],t=n[1],t&&((n=u.exec(e))&&this.error("block comments cannot contain "+n[0],{offset:n.index,length:n[0].length}),t.indexOf("\n")>=0&&(t=t.replace(RegExp("\\n"+ct(" ",this.indent),"g"),"\n")),this.token("HERECOMMENT",t,0,e.length)),e.length):0},e.prototype.jsToken=function(){var e,t;return"`"===this.chunk.charAt(0)&&(e=T.exec(this.chunk))?(this.token("JS",(t=e[0]).slice(1,-1),0,t.length),t.length):0},e.prototype.regexToken=function(){var e,t,n,r,s,o,a,c,l,h,u,p,d;switch(!1){case!(o=M.exec(this.chunk)):this.error("regular expressions cannot begin with "+o[2],{offset:o.index+o[1].length});break;case!(o=this.matchWithInterpolations(m,"///")):d=o.tokens,s=o.index;break;case!(o=$.exec(this.chunk)):if(p=o[0],e=o[1],t=o[2],this.validateEscapes(e,{isRegex:!0,offsetInChunk:1}),s=p.length,l=this.tokens,c=l[l.length-1],c)if(c.spaced&&(h=c[0],ut.call(i,h)>=0)){if(!t||O.test(p))return 0}else if(u=c[0],ut.call(A,u)>=0)return 0;t||this.error("missing / (unclosed regex)");break;default:return 0}switch(r=j.exec(this.chunk.slice(s))[0],n=s+r.length,a=this.makeToken("REGEX",null,0,n),!1){case!!Z.test(r):this.error("invalid regular expression flags "+r,{offset:s,length:r.length});break;case!(p||1===d.length):null==e&&(e=this.formatHeregex(d[0][1])),this.token("REGEX",""+this.makeDelimitedLiteral(e,{delimiter:"/"})+r,0,n,a);break;default:this.token("REGEX_START","(",0,0,a),this.token("IDENTIFIER","RegExp",0,0),this.token("CALL_START","(",0,0),this.mergeInterpolationTokens(d,{delimiter:'"',"double":!0},this.formatHeregex),r&&(this.token(",",",",s,0),this.token("STRING",'"'+r+'"',s,r.length)),this.token(")",")",n,0),this.token("REGEX_END",")",n,0)}return n},e.prototype.lineToken=function(){var e,t,n,i,r;if(!(n=R.exec(this.chunk)))return 0;if(t=n[0],this.seenFor=!1,r=t.length-1-t.lastIndexOf("\n"),i=this.unfinished(),r-this.indebt===this.indent)return i?this.suppressNewlines():this.newlineToken(0),t.length;if(r>this.indent){if(i)return this.indebt=r-this.indent,this.suppressNewlines(),t.length;if(!this.tokens.length)return this.baseIndent=this.indent=r,t.length;e=r-this.indent+this.outdebt,this.token("INDENT",e,t.length-r,r),this.indents.push(e),this.ends.push({tag:"OUTDENT"}),this.outdebt=this.indebt=0,this.indent=r}else this.baseIndent>r?this.error("missing indentation",{offset:t.length}):(this.indebt=0,this.outdentToken(this.indent-r,i,t.length));return t.length},e.prototype.outdentToken=function(e,t,n){var i,r,s,o;for(i=this.indent-e;e>0;)s=this.indents[this.indents.length-1],s?s===this.outdebt?(e-=this.outdebt,this.outdebt=0):this.outdebt>s?(this.outdebt-=s,e-=s):(r=this.indents.pop()+this.outdebt,n&&(o=this.chunk[n],ut.call(y,o)>=0)&&(i-=r-e,e=r),this.outdebt=0,this.pair("OUTDENT"),this.token("OUTDENT",e,0,n),e-=r):e=0;for(r&&(this.outdebt-=e);";"===this.value();)this.tokens.pop();return"TERMINATOR"===this.tag()||t||this.token("TERMINATOR","\n",n,0),this.indent=i,this},e.prototype.whitespaceToken=function(){var e,t,n,i;return(e=et.exec(this.chunk))||(t="\n"===this.chunk.charAt(0))?(i=this.tokens,n=i[i.length-1],n&&(n[e?"spaced":"newLine"]=!0),e?e[0].length:0):0},e.prototype.newlineToken=function(e){for(;";"===this.value();)this.tokens.pop();return"TERMINATOR"!==this.tag()&&this.token("TERMINATOR","\n",e,0),this},e.prototype.suppressNewlines=function(){return"\\"===this.value()&&this.tokens.pop(),this},e.prototype.literalToken=function(){var e,t,n,s,o,a,c,u,p,d;if((e=_.exec(this.chunk))?(d=e[0],r.test(d)&&this.tagParameters()):d=this.chunk.charAt(0),u=d,n=this.tokens,t=n[n.length-1],"="===d&&t&&(!t[1].reserved&&(s=t[1],ut.call(C,s)>=0)&&this.error("reserved word '"+t[1]+"' can't be assigned",t[2]),"||"===(o=t[1])||"&&"===o))return t[0]="COMPOUND_ASSIGN",t[1]+="=",d.length;if(";"===d)this.seenFor=!1,u="TERMINATOR";else if(ut.call(D,d)>=0)u="MATH";else if(ut.call(l,d)>=0)u="COMPARE";else if(ut.call(h,d)>=0)u="COMPOUND_ASSIGN";else if(ut.call(J,d)>=0)u="UNARY";else if(ut.call(Q,d)>=0)u="UNARY_MATH";else if(ut.call(U,d)>=0)u="SHIFT";else if(ut.call(x,d)>=0||"?"===d&&(null!=t?t.spaced:void 0))u="LOGIC";else if(t&&!t.spaced)if("("===d&&(a=t[0],ut.call(i,a)>=0))"?"===t[0]&&(t[0]="FUNC_EXIST"),u="CALL_START";else if("["===d&&(c=t[0],ut.call(b,c)>=0))switch(u="INDEX_START",t[0]){case"?":t[0]="INDEX_SOAK"}switch(p=this.makeToken(u,d),d){case"(":case"{":case"[":this.ends.push({tag:w[d],origin:p});break;case")":case"}":case"]":this.pair(d)}return this.tokens.push(p),d.length},e.prototype.tagParameters=function(){var e,t,n,i;if(")"!==this.tag())return this;for(t=[],i=this.tokens,e=i.length,i[--e][0]="PARAM_END";n=i[--e];)switch(n[0]){case")":t.push(n);break;case"(":case"CALL_START":if(!t.length)return"("===n[0]?(n[0]="PARAM_START",this):this;t.pop()}return this},e.prototype.closeIndentation=function(){return this.outdentToken(this.indent)},e.prototype.matchWithInterpolations=function(t,n){var i,r,s,o,a,c,l,h,u,p,d,f,m,g,v;if(v=[],h=n.length,this.chunk.slice(0,h)!==n)return null;for(m=this.chunk.slice(h);;){if(g=t.exec(m)[0],this.validateEscapes(g,{isRegex:"/"===n.charAt(0),offsetInChunk:h}),v.push(this.makeToken("NEOSTRING",g,h)),m=m.slice(g.length),h+=g.length,"#{"!==m.slice(0,2))break;p=this.getLineAndColumnFromChunk(h+1),c=p[0],r=p[1],d=(new e).tokenize(m.slice(1),{line:c,column:r,untilBalanced:!0}),l=d.tokens,o=d.index,o+=1,u=l[0],i=l[l.length-1],u[0]=u[1]="(",i[0]=i[1]=")",i.origin=["","end of interpolation",i[2]],"TERMINATOR"===(null!=(f=l[1])?f[0]:void 0)&&l.splice(1,1),v.push(["TOKENS",l]),m=m.slice(o),h+=o}return m.slice(0,n.length)!==n&&this.error("missing "+n,{length:n.length}),s=v[0],a=v[v.length-1],s[2].first_column-=n.length,a[2].last_column+=n.length,0===a[1].length&&(a[2].last_column-=1),{tokens:v,index:h+n.length}},e.prototype.mergeInterpolationTokens=function(e,t,n){var i,r,s,o,a,c,l,h,u,p,d,f,m,g,v,y;for(e.length>1&&(u=this.token("STRING_START","(",0,0)),s=this.tokens.length,o=a=0,l=e.length;l>a;o=++a){switch(g=e[o],m=g[0],y=g[1],m){case"TOKENS":if(2===y.length)continue;h=y[0],v=y;break;case"NEOSTRING":if(i=n(g[1],o),0===i.length){if(0!==o)continue;r=this.tokens.length}2===o&&null!=r&&this.tokens.splice(r,2),g[0]="STRING",g[1]=this.makeDelimitedLiteral(i,t),h=g,v=[g]}this.tokens.length>s&&(p=this.token("+","+"),p[2]={first_line:h[2].first_line,first_column:h[2].first_column,last_line:h[2].first_line,last_column:h[2].first_column}),(d=this.tokens).push.apply(d,v)}return u?(c=e[e.length-1],u.origin=["STRING",null,{first_line:u[2].first_line,first_column:u[2].first_column,last_line:c[2].last_line,last_column:c[2].last_column}],f=this.token("STRING_END",")"),f[2]={first_line:c[2].last_line,first_column:c[2].last_column,last_line:c[2].last_line,last_column:c[2].last_column}):void 0},e.prototype.pair=function(e){var t,n,i,r,s;return i=this.ends,n=i[i.length-1],e!==(s=null!=n?n.tag:void 0)?("OUTDENT"!==s&&this.error("unmatched "+e),r=this.indents,t=r[r.length-1],this.outdentToken(t,!0),this.pair(e)):this.ends.pop()},e.prototype.getLineAndColumnFromChunk=function(e){var t,n,i,r,s;return 0===e?[this.chunkLine,this.chunkColumn]:(s=e>=this.chunk.length?this.chunk:this.chunk.slice(0,+(e-1)+1||9e9),i=nt(s,"\n"),t=this.chunkColumn,i>0?(r=s.split("\n"),n=r[r.length-1],t=n.length):t+=s.length,[this.chunkLine+i,t])},e.prototype.makeToken=function(e,t,n,i){var r,s,o,a,c;return null==n&&(n=0),null==i&&(i=t.length),s={},o=this.getLineAndColumnFromChunk(n),s.first_line=o[0],s.first_column=o[1],r=Math.max(0,i-1),a=this.getLineAndColumnFromChunk(n+r),s.last_line=a[0],s.last_column=a[1],c=[e,t,s]},e.prototype.token=function(e,t,n,i,r){var s;return s=this.makeToken(e,t,n,i),r&&(s.origin=r),this.tokens.push(s),s},e.prototype.tag=function(){var e,t;return e=this.tokens,t=e[e.length-1],null!=t?t[0]:void 0},e.prototype.value=function(){var e,t;return e=this.tokens,t=e[e.length-1],null!=t?t[1]:void 0},e.prototype.unfinished=function(){var e;return L.test(this.chunk)||"\\"===(e=this.tag())||"."===e||"?."===e||"?::"===e||"UNARY"===e||"MATH"===e||"UNARY_MATH"===e||"+"===e||"-"===e||"YIELD"===e||"**"===e||"SHIFT"===e||"RELATION"===e||"COMPARE"===e||"LOGIC"===e||"THROW"===e||"EXTENDS"===e},e.prototype.formatString=function(e){return e.replace(X,"$1")},e.prototype.formatHeregex=function(e){return e.replace(g,"$1$2")},e.prototype.validateEscapes=function(e,t){var n,i,r,s,o,a,c,l;return null==t&&(t={}),s=k.exec(e),!s||(s[0],n=s[1],a=s[2],i=s[3],l=s[4],t.isRegex&&a&&"0"!==a.charAt(0))?void 0:(o=a?"octal escape sequences are not allowed":"invalid escape sequence",r="\\"+(a||i||l),this.error(o+" "+r,{offset:(null!=(c=t.offsetInChunk)?c:0)+s.index+n.length,length:r.length}))},e.prototype.makeDelimitedLiteral=function(e,t){var n;return null==t&&(t={}),""===e&&"/"===t.delimiter&&(e="(?:)"),n=RegExp("(\\\\\\\\)|(\\\\0(?=[1-7]))|\\\\?("+t.delimiter+")|\\\\?(?:(\\n)|(\\r)|(\\u2028)|(\\u2029))|(\\\\.)","g"),e=e.replace(n,function(e,n,i,r,s,o,a,c,l){switch(!1){case!n:return t.double?n+n:n;case!i:return"\\x00";case!r:return"\\"+r;case!s:return"\\n";case!o:return"\\r";case!a:return"\\u2028";case!c:return"\\u2029";case!l:return t.double?"\\"+l:l}}),""+t.delimiter+e+t.delimiter},e.prototype.error=function(e,t){var n,i,r,s,o,a;return null==t&&(t={}),r="first_line"in t?t:(o=this.getLineAndColumnFromChunk(null!=(s=t.offset)?s:0),i=o[0],n=o[1],o,{first_line:i,first_column:n,last_column:n+(null!=(a=t.length)?a:1)-1}),ht(e,r)},e}(),E=["true","false","null","this","new","delete","typeof","in","instanceof","return","throw","break","continue","debugger","yield","if","else","switch","for","while","do","try","catch","finally","class","extends","super"],a=["undefined","then","unless","until","loop","of","by","when"],o={and:"&&",or:"||",is:"==",isnt:"!=",not:"!",yes:"true",no:"false",on:"true",off:"false"},s=function(){var e;e=[];for(rt in o)e.push(rt);return e}(),a=a.concat(s),V=["case","default","function","var","void","with","const","let","enum","export","import","native","implements","interface","package","private","protected","public","static"],H=["arguments","eval","yield*"],C=E.concat(V).concat(H),e.RESERVED=V.concat(E).concat(a).concat(H),e.STRICT_PROSCRIBED=H,t=65279,v=/^(?!\d)((?:(?!\s)[$\w\x7f-\uffff])+)([^\n\S]*:(?!:))?/,I=/^0b[01]+|^0o[0-7]+|^0x[\da-f]+|^\d*\.?\d+(?:e[+-]?\d+)?/i,_=/^(?:[-=]>|[-+*\/%<>&|^!?=]=|>>>=?|([-+:])\1|([&|<>*\/%])\2=?|\?(\.|::)|\.{2,3})/,et=/^[^\n\S]+/,c=/^###([^#][\s\S]*?)(?:###[^\n\S]*|###$)|^(?:\s*#(?!##[^#]).*)+/,r=/^[-=]>/,R=/^(?:\n[^\n\S]*)+/,T=/^`[^\\`]*(?:\\.[^\\`]*)*`/,Y=/^(?:'''|"""|'|")/,W=/^(?:[^\\']|\\[\s\S])*/,q=/^(?:[^\\"#]|\\[\s\S]|\#(?!\{))*/,f=/^(?:[^\\']|\\[\s\S]|'(?!''))*/,p=/^(?:[^\\"#]|\\[\s\S]|"(?!"")|\#(?!\{))*/,X=/((?:\\\\)+)|\\[^\S\n]*\n\s*/g,G=/\s*\n\s*/g,d=/\n+([^\n\S]*)(?=\S)/g,$=/^\/(?!\/)((?:[^[\/\n\\]|\\[^\n]|\[(?:\\[^\n]|[^\]\n\\])*\])*)(\/)?/,j=/^\w*/,Z=/^(?!.*(.).*\1)[imgy]*$/,m=/^(?:[^\\\/#]|\\[\s\S]|\/(?!\/\/)|\#(?!\{))*/,g=/((?:\\\\)+)|\\(\s)|\s+(?:#.*)?/g,M=/^(\/|\/{3}\s*)(\*)/,O=/^\/=?\s/,u=/\*\//,L=/^\s*(?:,|\??\.(?![.\d])|::)/,k=/((?:^|[^\\])(?:\\\\)*)\\(?:(0[0-7]|[1-7])|(x(?![\da-fA-F]{2}).{0,2})|(u(?![\da-fA-F]{4}).{0,4}))/,F=/^[^\n\S]*\n/,K=/\n[^\n\S]*$/,z=/\s+$/,h=["-=","+=","/=","*=","%=","||=","&&=","?=","<<=",">>=",">>>=","&=","^=","|=","**=","//=","%%="],J=["NEW","TYPEOF","DELETE","DO"],Q=["!","~"],x=["&&","||","&","|","^"],U=["<<",">>",">>>"],l=["==","!=","<",">","<=",">="],D=["*","/","%","//","%%"],B=["IN","OF","INSTANCEOF"],n=["TRUE","FALSE"],i=["IDENTIFIER",")","]","?","@","THIS","SUPER"],b=i.concat(["NUMBER","STRING","STRING_END","REGEX","REGEX_END","BOOL","NULL","UNDEFINED","}","::"]),A=b.concat(["++","--"]),N=["INDENT","OUTDENT","TERMINATOR"],y=[")","}","]"]}.call(this),t.exports}(),require["./parser"]=function(){var e={},t={exports:e},n=function(){function e(){this.yy={}}var t=function(e,t,n,i){for(n=n||{},i=e.length;i--;n[e[i]]=t);return n},n=[1,20],i=[1,75],r=[1,71],s=[1,76],o=[1,77],a=[1,73],c=[1,74],l=[1,50],h=[1,52],u=[1,53],p=[1,54],d=[1,55],f=[1,45],m=[1,46],g=[1,27],v=[1,60],y=[1,61],b=[1,70],k=[1,43],w=[1,26],T=[1,58],C=[1,59],E=[1,57],F=[1,38],N=[1,44],L=[1,56],x=[1,65],S=[1,66],D=[1,67],R=[1,68],A=[1,42],I=[1,64],_=[1,29],O=[1,30],$=[1,31],j=[1,32],M=[1,33],B=[1,34],V=[1,35],P=[1,78],U=[1,6,26,34,108],G=[1,88],H=[1,81],q=[1,80],X=[1,79],W=[1,82],Y=[1,83],K=[1,84],z=[1,85],J=[1,86],Q=[1,87],Z=[1,91],et=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],tt=[1,97],nt=[1,98],it=[1,99],rt=[1,100],st=[1,102],ot=[1,103],at=[1,96],ct=[2,112],lt=[1,6,25,26,34,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],ht=[2,79],ut=[1,108],pt=[2,58],dt=[1,112],ft=[1,117],mt=[1,118],gt=[1,120],vt=[1,6,25,26,34,46,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],yt=[2,76],bt=[1,6,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],kt=[1,155],wt=[1,157],Tt=[1,152],Ct=[1,6,25,26,34,46,55,60,63,72,73,74,75,77,79,80,84,86,90,91,92,97,99,108,110,111,112,116,117,132,135,136,139,140,141,142,143,144,145,146,147,148],Et=[2,95],Ft=[1,6,25,26,34,49,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],Nt=[1,6,25,26,34,46,49,55,60,63,72,73,74,75,77,79,80,84,86,90,91,92,97,99,108,110,111,112,116,117,123,124,132,135,136,139,140,141,142,143,144,145,146,147,148],Lt=[1,206],xt=[1,205],St=[1,6,25,26,34,38,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],Dt=[2,56],Rt=[1,216],At=[6,25,26,55,60],It=[6,25,26,46,55,60,63],_t=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,142,144,145,146,147],Ot=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132],$t=[72,73,74,75,77,80,90,91],jt=[1,235],Mt=[2,133],Bt=[1,6,25,26,34,46,55,60,63,72,73,74,75,77,79,80,84,90,91,92,97,99,108,110,111,112,116,117,123,124,132,135,136,141,142,143,144,145,146,147],Vt=[1,244],Pt=[6,25,26,60,92,97],Ut=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,117,132],Gt=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,111,117,132],Ht=[123,124],qt=[60,123,124],Xt=[1,255],Wt=[6,25,26,60,84],Yt=[6,25,26,49,60,84],Kt=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,144,145,146,147],zt=[11,28,30,32,33,36,37,40,41,42,43,44,51,52,53,57,58,79,82,85,89,94,95,96,102,106,107,110,112,114,116,125,131,133,134,135,136,137,139,140],Jt=[2,122],Qt=[6,25,26],Zt=[2,57],en=[1,268],tn=[1,269],nn=[1,6,25,26,34,55,60,63,79,84,92,97,99,104,105,108,110,111,112,116,117,127,129,132,135,136,141,142,143,144,145,146,147],rn=[26,127,129],sn=[1,6,26,34,55,60,63,79,84,92,97,99,108,111,117,132],on=[2,71],an=[1,291],cn=[1,292],ln=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,127,132,135,136,141,142,143,144,145,146,147],hn=[1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,112,116,117,132],un=[1,303],pn=[1,304],dn=[6,25,26,60],fn=[1,6,25,26,34,55,60,63,79,84,92,97,99,104,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],mn=[25,60],gn={trace:function(){},yy:{},symbols_:{error:2,Root:3,Body:4,Line:5,TERMINATOR:6,Expression:7,Statement:8,Return:9,Comment:10,STATEMENT:11,Value:12,Invocation:13,Code:14,Operation:15,Assign:16,If:17,Try:18,While:19,For:20,Switch:21,Class:22,Throw:23,Block:24,INDENT:25,OUTDENT:26,Identifier:27,IDENTIFIER:28,AlphaNumeric:29,NUMBER:30,String:31,STRING:32,STRING_START:33,STRING_END:34,Regex:35,REGEX:36,REGEX_START:37,REGEX_END:38,Literal:39,JS:40,DEBUGGER:41,UNDEFINED:42,NULL:43,BOOL:44,Assignable:45,"=":46,AssignObj:47,ObjAssignable:48,":":49,ThisProperty:50,RETURN:51,HERECOMMENT:52,PARAM_START:53,ParamList:54,PARAM_END:55,FuncGlyph:56,"->":57,"=>":58,OptComma:59,",":60,Param:61,ParamVar:62,"...":63,Array:64,Object:65,Splat:66,SimpleAssignable:67,Accessor:68,Parenthetical:69,Range:70,This:71,".":72,"?.":73,"::":74,"?::":75,Index:76,INDEX_START:77,IndexValue:78,INDEX_END:79,INDEX_SOAK:80,Slice:81,"{":82,AssignList:83,"}":84,CLASS:85,EXTENDS:86,OptFuncExist:87,Arguments:88,SUPER:89,FUNC_EXIST:90,CALL_START:91,CALL_END:92,ArgList:93,THIS:94,"@":95,"[":96,"]":97,RangeDots:98,"..":99,Arg:100,SimpleArgs:101,TRY:102,Catch:103,FINALLY:104,CATCH:105,THROW:106,"(":107,")":108,WhileSource:109,WHILE:110,WHEN:111,UNTIL:112,Loop:113,LOOP:114,ForBody:115,FOR:116,BY:117,ForStart:118,ForSource:119,ForVariables:120,OWN:121,ForValue:122,FORIN:123,FOROF:124,SWITCH:125,Whens:126,ELSE:127,When:128,LEADING_WHEN:129,IfBlock:130,IF:131,POST_IF:132,UNARY:133,UNARY_MATH:134,"-":135,"+":136,YIELD:137,FROM:138,"--":139,"++":140,"?":141,MATH:142,"**":143,SHIFT:144,COMPARE:145,LOGIC:146,RELATION:147,COMPOUND_ASSIGN:148,$accept:0,$end:1},terminals_:{2:"error",6:"TERMINATOR",11:"STATEMENT",25:"INDENT",26:"OUTDENT",28:"IDENTIFIER",30:"NUMBER",32:"STRING",33:"STRING_START",34:"STRING_END",36:"REGEX",37:"REGEX_START",38:"REGEX_END",40:"JS",41:"DEBUGGER",42:"UNDEFINED",43:"NULL",44:"BOOL",46:"=",49:":",51:"RETURN",52:"HERECOMMENT",53:"PARAM_START",55:"PARAM_END",57:"->",58:"=>",60:",",63:"...",72:".",73:"?.",74:"::",75:"?::",77:"INDEX_START",79:"INDEX_END",80:"INDEX_SOAK",82:"{",84:"}",85:"CLASS",86:"EXTENDS",89:"SUPER",90:"FUNC_EXIST",91:"CALL_START",92:"CALL_END",94:"THIS",95:"@",96:"[",97:"]",99:"..",102:"TRY",104:"FINALLY",105:"CATCH",106:"THROW",107:"(",108:")",110:"WHILE",111:"WHEN",112:"UNTIL",114:"LOOP",116:"FOR",117:"BY",121:"OWN",123:"FORIN",124:"FOROF",125:"SWITCH",127:"ELSE",129:"LEADING_WHEN",131:"IF",132:"POST_IF",133:"UNARY",134:"UNARY_MATH",135:"-",136:"+",137:"YIELD",138:"FROM",139:"--",140:"++",141:"?",142:"MATH",143:"**",144:"SHIFT",145:"COMPARE",146:"LOGIC",147:"RELATION",148:"COMPOUND_ASSIGN"},productions_:[0,[3,0],[3,1],[4,1],[4,3],[4,2],[5,1],[5,1],[8,1],[8,1],[8,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[24,2],[24,3],[27,1],[29,1],[29,1],[31,1],[31,3],[35,1],[35,3],[39,1],[39,1],[39,1],[39,1],[39,1],[39,1],[39,1],[16,3],[16,4],[16,5],[47,1],[47,3],[47,5],[47,1],[48,1],[48,1],[48,1],[9,2],[9,1],[10,1],[14,5],[14,2],[56,1],[56,1],[59,0],[59,1],[54,0],[54,1],[54,3],[54,4],[54,6],[61,1],[61,2],[61,3],[61,1],[62,1],[62,1],[62,1],[62,1],[66,2],[67,1],[67,2],[67,2],[67,1],[45,1],[45,1],[45,1],[12,1],[12,1],[12,1],[12,1],[12,1],[68,2],[68,2],[68,2],[68,2],[68,1],[68,1],[76,3],[76,2],[78,1],[78,1],[65,4],[83,0],[83,1],[83,3],[83,4],[83,6],[22,1],[22,2],[22,3],[22,4],[22,2],[22,3],[22,4],[22,5],[13,3],[13,3],[13,1],[13,2],[87,0],[87,1],[88,2],[88,4],[71,1],[71,1],[50,2],[64,2],[64,4],[98,1],[98,1],[70,5],[81,3],[81,2],[81,2],[81,1],[93,1],[93,3],[93,4],[93,4],[93,6],[100,1],[100,1],[100,1],[101,1],[101,3],[18,2],[18,3],[18,4],[18,5],[103,3],[103,3],[103,2],[23,2],[69,3],[69,5],[109,2],[109,4],[109,2],[109,4],[19,2],[19,2],[19,2],[19,1],[113,2],[113,2],[20,2],[20,2],[20,2],[115,2],[115,4],[115,2],[118,2],[118,3],[122,1],[122,1],[122,1],[122,1],[120,1],[120,3],[119,2],[119,2],[119,4],[119,4],[119,4],[119,6],[119,6],[21,5],[21,7],[21,4],[21,6],[126,1],[126,2],[128,3],[128,4],[130,3],[130,5],[17,1],[17,3],[17,3],[17,3],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,3],[15,2],[15,2],[15,2],[15,2],[15,2],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,5],[15,4],[15,3]],performAction:function(e,t,n,i,r,s,o){var a=s.length-1;
switch(r){case 1:return this.$=i.addLocationDataFn(o[a],o[a])(new i.Block);case 2:return this.$=s[a];case 3:this.$=i.addLocationDataFn(o[a],o[a])(i.Block.wrap([s[a]]));break;case 4:this.$=i.addLocationDataFn(o[a-2],o[a])(s[a-2].push(s[a]));break;case 5:this.$=s[a-1];break;case 6:case 7:case 8:case 9:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 27:case 32:case 34:case 45:case 46:case 47:case 48:case 56:case 57:case 67:case 68:case 69:case 70:case 75:case 76:case 79:case 83:case 89:case 133:case 134:case 136:case 166:case 167:case 183:case 189:this.$=s[a];break;case 10:case 25:case 26:case 28:case 30:case 33:case 35:this.$=i.addLocationDataFn(o[a],o[a])(new i.Literal(s[a]));break;case 23:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Block);break;case 24:case 31:case 90:this.$=i.addLocationDataFn(o[a-2],o[a])(s[a-1]);break;case 29:case 146:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Parens(s[a-1]));break;case 36:this.$=i.addLocationDataFn(o[a],o[a])(new i.Undefined);break;case 37:this.$=i.addLocationDataFn(o[a],o[a])(new i.Null);break;case 38:this.$=i.addLocationDataFn(o[a],o[a])(new i.Bool(s[a]));break;case 39:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Assign(s[a-2],s[a]));break;case 40:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.Assign(s[a-3],s[a]));break;case 41:this.$=i.addLocationDataFn(o[a-4],o[a])(new i.Assign(s[a-4],s[a-1]));break;case 42:case 72:case 77:case 78:case 80:case 81:case 82:case 168:case 169:this.$=i.addLocationDataFn(o[a],o[a])(new i.Value(s[a]));break;case 43:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Assign(i.addLocationDataFn(o[a-2])(new i.Value(s[a-2])),s[a],"object"));break;case 44:this.$=i.addLocationDataFn(o[a-4],o[a])(new i.Assign(i.addLocationDataFn(o[a-4])(new i.Value(s[a-4])),s[a-1],"object"));break;case 49:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Return(s[a]));break;case 50:this.$=i.addLocationDataFn(o[a],o[a])(new i.Return);break;case 51:this.$=i.addLocationDataFn(o[a],o[a])(new i.Comment(s[a]));break;case 52:this.$=i.addLocationDataFn(o[a-4],o[a])(new i.Code(s[a-3],s[a],s[a-1]));break;case 53:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Code([],s[a],s[a-1]));break;case 54:this.$=i.addLocationDataFn(o[a],o[a])("func");break;case 55:this.$=i.addLocationDataFn(o[a],o[a])("boundfunc");break;case 58:case 95:this.$=i.addLocationDataFn(o[a],o[a])([]);break;case 59:case 96:case 128:case 170:this.$=i.addLocationDataFn(o[a],o[a])([s[a]]);break;case 60:case 97:case 129:this.$=i.addLocationDataFn(o[a-2],o[a])(s[a-2].concat(s[a]));break;case 61:case 98:case 130:this.$=i.addLocationDataFn(o[a-3],o[a])(s[a-3].concat(s[a]));break;case 62:case 99:case 132:this.$=i.addLocationDataFn(o[a-5],o[a])(s[a-5].concat(s[a-2]));break;case 63:this.$=i.addLocationDataFn(o[a],o[a])(new i.Param(s[a]));break;case 64:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Param(s[a-1],null,!0));break;case 65:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Param(s[a-2],s[a]));break;case 66:case 135:this.$=i.addLocationDataFn(o[a],o[a])(new i.Expansion);break;case 71:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Splat(s[a-1]));break;case 73:this.$=i.addLocationDataFn(o[a-1],o[a])(s[a-1].add(s[a]));break;case 74:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Value(s[a-1],[].concat(s[a])));break;case 84:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Access(s[a]));break;case 85:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Access(s[a],"soak"));break;case 86:this.$=i.addLocationDataFn(o[a-1],o[a])([i.addLocationDataFn(o[a-1])(new i.Access(new i.Literal("prototype"))),i.addLocationDataFn(o[a])(new i.Access(s[a]))]);break;case 87:this.$=i.addLocationDataFn(o[a-1],o[a])([i.addLocationDataFn(o[a-1])(new i.Access(new i.Literal("prototype"),"soak")),i.addLocationDataFn(o[a])(new i.Access(s[a]))]);break;case 88:this.$=i.addLocationDataFn(o[a],o[a])(new i.Access(new i.Literal("prototype")));break;case 91:this.$=i.addLocationDataFn(o[a-1],o[a])(i.extend(s[a],{soak:!0}));break;case 92:this.$=i.addLocationDataFn(o[a],o[a])(new i.Index(s[a]));break;case 93:this.$=i.addLocationDataFn(o[a],o[a])(new i.Slice(s[a]));break;case 94:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.Obj(s[a-2],s[a-3].generated));break;case 100:this.$=i.addLocationDataFn(o[a],o[a])(new i.Class);break;case 101:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Class(null,null,s[a]));break;case 102:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Class(null,s[a]));break;case 103:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.Class(null,s[a-1],s[a]));break;case 104:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Class(s[a]));break;case 105:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Class(s[a-1],null,s[a]));break;case 106:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.Class(s[a-2],s[a]));break;case 107:this.$=i.addLocationDataFn(o[a-4],o[a])(new i.Class(s[a-3],s[a-1],s[a]));break;case 108:case 109:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Call(s[a-2],s[a],s[a-1]));break;case 110:this.$=i.addLocationDataFn(o[a],o[a])(new i.Call("super",[new i.Splat(new i.Literal("arguments"))]));break;case 111:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Call("super",s[a]));break;case 112:this.$=i.addLocationDataFn(o[a],o[a])(!1);break;case 113:this.$=i.addLocationDataFn(o[a],o[a])(!0);break;case 114:this.$=i.addLocationDataFn(o[a-1],o[a])([]);break;case 115:case 131:this.$=i.addLocationDataFn(o[a-3],o[a])(s[a-2]);break;case 116:case 117:this.$=i.addLocationDataFn(o[a],o[a])(new i.Value(new i.Literal("this")));break;case 118:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Value(i.addLocationDataFn(o[a-1])(new i.Literal("this")),[i.addLocationDataFn(o[a])(new i.Access(s[a]))],"this"));break;case 119:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Arr([]));break;case 120:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.Arr(s[a-2]));break;case 121:this.$=i.addLocationDataFn(o[a],o[a])("inclusive");break;case 122:this.$=i.addLocationDataFn(o[a],o[a])("exclusive");break;case 123:this.$=i.addLocationDataFn(o[a-4],o[a])(new i.Range(s[a-3],s[a-1],s[a-2]));break;case 124:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Range(s[a-2],s[a],s[a-1]));break;case 125:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Range(s[a-1],null,s[a]));break;case 126:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Range(null,s[a],s[a-1]));break;case 127:this.$=i.addLocationDataFn(o[a],o[a])(new i.Range(null,null,s[a]));break;case 137:this.$=i.addLocationDataFn(o[a-2],o[a])([].concat(s[a-2],s[a]));break;case 138:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Try(s[a]));break;case 139:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Try(s[a-1],s[a][0],s[a][1]));break;case 140:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.Try(s[a-2],null,null,s[a]));break;case 141:this.$=i.addLocationDataFn(o[a-4],o[a])(new i.Try(s[a-3],s[a-2][0],s[a-2][1],s[a]));break;case 142:this.$=i.addLocationDataFn(o[a-2],o[a])([s[a-1],s[a]]);break;case 143:this.$=i.addLocationDataFn(o[a-2],o[a])([i.addLocationDataFn(o[a-1])(new i.Value(s[a-1])),s[a]]);break;case 144:this.$=i.addLocationDataFn(o[a-1],o[a])([null,s[a]]);break;case 145:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Throw(s[a]));break;case 147:this.$=i.addLocationDataFn(o[a-4],o[a])(new i.Parens(s[a-2]));break;case 148:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.While(s[a]));break;case 149:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.While(s[a-2],{guard:s[a]}));break;case 150:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.While(s[a],{invert:!0}));break;case 151:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.While(s[a-2],{invert:!0,guard:s[a]}));break;case 152:this.$=i.addLocationDataFn(o[a-1],o[a])(s[a-1].addBody(s[a]));break;case 153:case 154:this.$=i.addLocationDataFn(o[a-1],o[a])(s[a].addBody(i.addLocationDataFn(o[a-1])(i.Block.wrap([s[a-1]]))));break;case 155:this.$=i.addLocationDataFn(o[a],o[a])(s[a]);break;case 156:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.While(i.addLocationDataFn(o[a-1])(new i.Literal("true"))).addBody(s[a]));break;case 157:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.While(i.addLocationDataFn(o[a-1])(new i.Literal("true"))).addBody(i.addLocationDataFn(o[a])(i.Block.wrap([s[a]]))));break;case 158:case 159:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.For(s[a-1],s[a]));break;case 160:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.For(s[a],s[a-1]));break;case 161:this.$=i.addLocationDataFn(o[a-1],o[a])({source:i.addLocationDataFn(o[a])(new i.Value(s[a]))});break;case 162:this.$=i.addLocationDataFn(o[a-3],o[a])({source:i.addLocationDataFn(o[a-2])(new i.Value(s[a-2])),step:s[a]});break;case 163:this.$=i.addLocationDataFn(o[a-1],o[a])(function(){return s[a].own=s[a-1].own,s[a].name=s[a-1][0],s[a].index=s[a-1][1],s[a]}());break;case 164:this.$=i.addLocationDataFn(o[a-1],o[a])(s[a]);break;case 165:this.$=i.addLocationDataFn(o[a-2],o[a])(function(){return s[a].own=!0,s[a]}());break;case 171:this.$=i.addLocationDataFn(o[a-2],o[a])([s[a-2],s[a]]);break;case 172:this.$=i.addLocationDataFn(o[a-1],o[a])({source:s[a]});break;case 173:this.$=i.addLocationDataFn(o[a-1],o[a])({source:s[a],object:!0});break;case 174:this.$=i.addLocationDataFn(o[a-3],o[a])({source:s[a-2],guard:s[a]});break;case 175:this.$=i.addLocationDataFn(o[a-3],o[a])({source:s[a-2],guard:s[a],object:!0});break;case 176:this.$=i.addLocationDataFn(o[a-3],o[a])({source:s[a-2],step:s[a]});break;case 177:this.$=i.addLocationDataFn(o[a-5],o[a])({source:s[a-4],guard:s[a-2],step:s[a]});break;case 178:this.$=i.addLocationDataFn(o[a-5],o[a])({source:s[a-4],step:s[a-2],guard:s[a]});break;case 179:this.$=i.addLocationDataFn(o[a-4],o[a])(new i.Switch(s[a-3],s[a-1]));break;case 180:this.$=i.addLocationDataFn(o[a-6],o[a])(new i.Switch(s[a-5],s[a-3],s[a-1]));break;case 181:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.Switch(null,s[a-1]));break;case 182:this.$=i.addLocationDataFn(o[a-5],o[a])(new i.Switch(null,s[a-3],s[a-1]));break;case 184:this.$=i.addLocationDataFn(o[a-1],o[a])(s[a-1].concat(s[a]));break;case 185:this.$=i.addLocationDataFn(o[a-2],o[a])([[s[a-1],s[a]]]);break;case 186:this.$=i.addLocationDataFn(o[a-3],o[a])([[s[a-2],s[a-1]]]);break;case 187:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.If(s[a-1],s[a],{type:s[a-2]}));break;case 188:this.$=i.addLocationDataFn(o[a-4],o[a])(s[a-4].addElse(i.addLocationDataFn(o[a-2],o[a])(new i.If(s[a-1],s[a],{type:s[a-2]}))));break;case 190:this.$=i.addLocationDataFn(o[a-2],o[a])(s[a-2].addElse(s[a]));break;case 191:case 192:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.If(s[a],i.addLocationDataFn(o[a-2])(i.Block.wrap([s[a-2]])),{type:s[a-1],statement:!0}));break;case 193:case 194:case 197:case 198:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Op(s[a-1],s[a]));break;case 195:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Op("-",s[a]));break;case 196:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Op("+",s[a]));break;case 199:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Op(s[a-2].concat(s[a-1]),s[a]));break;case 200:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Op("--",s[a]));break;case 201:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Op("++",s[a]));break;case 202:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Op("--",s[a-1],null,!0));break;case 203:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Op("++",s[a-1],null,!0));break;case 204:this.$=i.addLocationDataFn(o[a-1],o[a])(new i.Existence(s[a-1]));break;case 205:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Op("+",s[a-2],s[a]));break;case 206:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Op("-",s[a-2],s[a]));break;case 207:case 208:case 209:case 210:case 211:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Op(s[a-1],s[a-2],s[a]));break;case 212:this.$=i.addLocationDataFn(o[a-2],o[a])(function(){return"!"===s[a-1].charAt(0)?new i.Op(s[a-1].slice(1),s[a-2],s[a]).invert():new i.Op(s[a-1],s[a-2],s[a])}());break;case 213:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Assign(s[a-2],s[a],s[a-1]));break;case 214:this.$=i.addLocationDataFn(o[a-4],o[a])(new i.Assign(s[a-4],s[a-1],s[a-3]));break;case 215:this.$=i.addLocationDataFn(o[a-3],o[a])(new i.Assign(s[a-3],s[a],s[a-2]));break;case 216:this.$=i.addLocationDataFn(o[a-2],o[a])(new i.Extends(s[a-2],s[a]))}},table:[{1:[2,1],3:1,4:2,5:3,7:4,8:5,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{1:[3]},{1:[2,2],6:P},t(U,[2,3]),t(U,[2,6],{118:69,109:89,115:90,110:x,112:S,116:R,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(U,[2,7],{118:69,109:92,115:93,110:x,112:S,116:R,132:Z}),t(et,[2,11],{87:94,68:95,76:101,72:tt,73:nt,74:it,75:rt,77:st,80:ot,90:at,91:ct}),t(et,[2,12],{76:101,87:104,68:105,72:tt,73:nt,74:it,75:rt,77:st,80:ot,90:at,91:ct}),t(et,[2,13]),t(et,[2,14]),t(et,[2,15]),t(et,[2,16]),t(et,[2,17]),t(et,[2,18]),t(et,[2,19]),t(et,[2,20]),t(et,[2,21]),t(et,[2,22]),t(et,[2,8]),t(et,[2,9]),t(et,[2,10]),t(lt,ht,{46:[1,106]}),t(lt,[2,80]),t(lt,[2,81]),t(lt,[2,82]),t(lt,[2,83]),t([1,6,25,26,34,38,55,60,63,72,73,74,75,77,79,80,84,90,92,97,99,108,110,111,112,116,117,132,135,136,141,142,143,144,145,146,147],[2,110],{88:107,91:ut}),t([6,25,55,60],pt,{54:109,61:110,62:111,27:113,50:114,64:115,65:116,28:i,63:dt,82:b,95:ft,96:mt}),{24:119,25:gt},{7:121,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:123,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:124,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:125,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:127,8:126,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,138:[1,128],139:B,140:V},{12:130,13:131,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:132,50:63,64:47,65:48,67:129,69:23,70:24,71:25,82:b,89:w,94:T,95:C,96:E,107:L},{12:130,13:131,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:132,50:63,64:47,65:48,67:133,69:23,70:24,71:25,82:b,89:w,94:T,95:C,96:E,107:L},t(vt,yt,{86:[1,137],139:[1,134],140:[1,135],148:[1,136]}),t(et,[2,189],{127:[1,138]}),{24:139,25:gt},{24:140,25:gt},t(et,[2,155]),{24:141,25:gt},{7:142,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,143],27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(bt,[2,100],{39:22,69:23,70:24,71:25,64:47,65:48,29:49,35:51,27:62,50:63,31:72,12:130,13:131,45:132,24:144,67:146,25:gt,28:i,30:r,32:s,33:o,36:a,37:c,40:l,41:h,42:u,43:p,44:d,82:b,86:[1,145],89:w,94:T,95:C,96:E,107:L}),{7:147,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,141,142,143,144,145,146,147],[2,50],{12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,9:18,10:19,45:21,39:22,69:23,70:24,71:25,56:28,67:36,130:37,109:39,113:40,115:41,64:47,65:48,29:49,35:51,27:62,50:63,118:69,31:72,8:122,7:148,11:n,28:i,30:r,32:s,33:o,36:a,37:c,40:l,41:h,42:u,43:p,44:d,51:f,52:m,53:g,57:v,58:y,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,114:D,125:A,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V}),t(et,[2,51]),t(vt,[2,77]),t(vt,[2,78]),t(lt,[2,32]),t(lt,[2,33]),t(lt,[2,34]),t(lt,[2,35]),t(lt,[2,36]),t(lt,[2,37]),t(lt,[2,38]),{4:149,5:3,7:4,8:5,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,150],27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:151,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:kt,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,63:wt,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:b,85:k,89:w,93:153,94:T,95:C,96:E,97:Tt,100:154,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(lt,[2,116]),t(lt,[2,117],{27:158,28:i}),{25:[2,54]},{25:[2,55]},t(Ct,[2,72]),t(Ct,[2,75]),{7:159,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:160,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:161,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:163,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,24:162,25:gt,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{27:168,28:i,50:169,64:170,65:171,70:164,82:b,95:ft,96:E,120:165,121:[1,166],122:167},{119:172,123:[1,173],124:[1,174]},t([6,25,60,84],Et,{31:72,83:175,47:176,48:177,10:178,27:179,29:180,50:181,28:i,30:r,32:s,33:o,52:m,95:ft}),t(Ft,[2,26]),t(Ft,[2,27]),t(lt,[2,30]),{12:130,13:182,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:132,50:63,64:47,65:48,67:183,69:23,70:24,71:25,82:b,89:w,94:T,95:C,96:E,107:L},t(Nt,[2,25]),t(Ft,[2,28]),{4:184,5:3,7:4,8:5,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(U,[2,5],{7:4,8:5,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,9:18,10:19,45:21,39:22,69:23,70:24,71:25,56:28,67:36,130:37,109:39,113:40,115:41,64:47,65:48,29:49,35:51,27:62,50:63,118:69,31:72,5:185,11:n,28:i,30:r,32:s,33:o,36:a,37:c,40:l,41:h,42:u,43:p,44:d,51:f,52:m,53:g,57:v,58:y,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,110:x,112:S,114:D,116:R,125:A,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V}),t(et,[2,204]),{7:186,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:187,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:188,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:189,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:190,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:191,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:192,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:193,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:194,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(et,[2,154]),t(et,[2,159]),{7:195,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(et,[2,153]),t(et,[2,158]),{88:196,91:ut},t(Ct,[2,73]),{91:[2,113]},{27:197,28:i},{27:198,28:i},t(Ct,[2,88],{27:199,28:i}),{27:200,28:i},t(Ct,[2,89]),{7:202,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,63:Lt,64:47,65:48,67:36,69:23,70:24,71:25,78:201,81:203,82:b,85:k,89:w,94:T,95:C,96:E,98:204,99:xt,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{76:207,77:st,80:ot},{88:208,91:ut},t(Ct,[2,74]),{6:[1,210],7:209,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,211],27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(St,[2,111]),{7:214,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:kt,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,63:wt,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:b,85:k,89:w,92:[1,212],93:213,94:T,95:C,96:E,100:154,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t([6,25],Dt,{59:217,55:[1,215],60:Rt}),t(At,[2,59]),t(At,[2,63],{46:[1,219],63:[1,218]}),t(At,[2,66]),t(It,[2,67]),t(It,[2,68]),t(It,[2,69]),t(It,[2,70]),{27:158,28:i},{7:214,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:kt,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,63:wt,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:b,85:k,89:w,93:153,94:T,95:C,96:E,97:Tt,100:154,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(et,[2,53]),{4:221,5:3,7:4,8:5,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[1,220],27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,135,136,142,143,144,145,146,147],[2,193],{118:69,109:89,115:90,141:X}),{109:92,110:x,112:S,115:93,116:R,118:69,132:Z},t(_t,[2,194],{118:69,109:89,115:90,141:X,143:Y}),t(_t,[2,195],{118:69,109:89,115:90,141:X,143:Y}),t(_t,[2,196],{118:69,109:89,115:90,141:X,143:Y}),t(et,[2,197],{118:69,109:92,115:93}),t(Ot,[2,198],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{7:222,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(et,[2,200],{72:yt,73:yt,74:yt,75:yt,77:yt,80:yt,90:yt,91:yt}),{68:95,72:tt,73:nt,74:it,75:rt,76:101,77:st,80:ot,87:94,90:at,91:ct},{68:105,72:tt,73:nt,74:it,75:rt,76:101,77:st,80:ot,87:104,90:at,91:ct},t($t,ht),t(et,[2,201],{72:yt,73:yt,74:yt,75:yt,77:yt,80:yt,90:yt,91:yt}),t(et,[2,202]),t(et,[2,203]),{6:[1,225],7:223,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,224],27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:226,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{24:227,25:gt,131:[1,228]},t(et,[2,138],{103:229,104:[1,230],105:[1,231]}),t(et,[2,152]),t(et,[2,160]),{25:[1,232],109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},{126:233,128:234,129:jt},t(et,[2,101]),{7:236,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(bt,[2,104],{24:237,25:gt,72:yt,73:yt,74:yt,75:yt,77:yt,80:yt,90:yt,91:yt,86:[1,238]}),t(Ot,[2,145],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Ot,[2,49],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{6:P,108:[1,239]},{4:240,5:3,7:4,8:5,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t([6,25,60,97],Mt,{118:69,109:89,115:90,98:241,63:[1,242],99:xt,110:x,112:S,116:R,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Bt,[2,119]),t([6,25,97],Dt,{59:243,60:Vt}),t(Pt,[2,128]),{7:214,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:kt,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,63:wt,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:b,85:k,89:w,93:245,94:T,95:C,96:E,100:154,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(Pt,[2,134]),t(Pt,[2,135]),t(Nt,[2,118]),{24:246,25:gt,109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},t(Ut,[2,148],{118:69,109:89,115:90,110:x,111:[1,247],112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Ut,[2,150],{118:69,109:89,115:90,110:x,111:[1,248],112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(et,[2,156]),t(Gt,[2,157],{118:69,109:89,115:90,110:x,112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,132,135,136,141,142,143,144,145,146,147],[2,161],{117:[1,249]}),t(Ht,[2,164]),{27:168,28:i,50:169,64:170,65:171,82:b,95:ft,96:mt,120:250,122:167},t(Ht,[2,170],{60:[1,251]}),t(qt,[2,166]),t(qt,[2,167]),t(qt,[2,168]),t(qt,[2,169]),t(et,[2,163]),{7:252,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:253,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t([6,25,84],Dt,{59:254,60:Xt}),t(Wt,[2,96]),t(Wt,[2,42],{49:[1,256]}),t(Wt,[2,45]),t(Yt,[2,46]),t(Yt,[2,47]),t(Yt,[2,48]),{38:[1,257],68:105,72:tt,73:nt,74:it,75:rt,76:101,77:st,80:ot,87:104,90:at,91:ct},t($t,yt),{6:P,34:[1,258]},t(U,[2,4]),t(Kt,[2,205],{118:69,109:89,115:90,141:X,142:W,143:Y}),t(Kt,[2,206],{118:69,109:89,115:90,141:X,142:W,143:Y}),t(_t,[2,207],{118:69,109:89,115:90,141:X,143:Y}),t(_t,[2,208],{118:69,109:89,115:90,141:X,143:Y}),t([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,144,145,146,147],[2,209],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y}),t([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,145,146],[2,210],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,147:Q}),t([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,146],[2,211],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,147:Q}),t([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,117,132,145,146,147],[2,212],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K}),t(Gt,[2,192],{118:69,109:89,115:90,110:x,112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Gt,[2,191],{118:69,109:89,115:90,110:x,112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(St,[2,108]),t(Ct,[2,84]),t(Ct,[2,85]),t(Ct,[2,86]),t(Ct,[2,87]),{79:[1,259]},{63:Lt,79:[2,92],98:260,99:xt,109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},{79:[2,93]},{7:261,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,79:[2,127],82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(zt,[2,121]),t(zt,Jt),t(Ct,[2,91]),t(St,[2,109]),t(Ot,[2,39],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{7:262,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:263,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(St,[2,114]),t([6,25,92],Dt,{59:264,60:Vt}),t(Pt,Mt,{118:69,109:89,115:90,63:[1,265],110:x,112:S,116:R,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{56:266,57:v,58:y},t(Qt,Zt,{62:111,27:113,50:114,64:115,65:116,61:267,28:i,63:dt,82:b,95:ft,96:mt}),{6:en,25:tn},t(At,[2,64]),{7:270,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(nn,[2,23]),{6:P,26:[1,271]},t(Ot,[2,199],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Ot,[2,213],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{7:272,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:273,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(Ot,[2,216],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(et,[2,190]),{7:274,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(et,[2,139],{104:[1,275]}),{24:276,25:gt},{24:279,25:gt,27:277,28:i,65:278,82:b},{126:280,128:234,129:jt},{26:[1,281],127:[1,282],128:283,129:jt},t(rn,[2,183]),{7:285,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,101:284,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(sn,[2,102],{118:69,109:89,115:90,24:286,25:gt,110:x,112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(et,[2,105]),{7:287,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(lt,[2,146]),{6:P,26:[1,288]},{7:289,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t([11,28,30,32,33,36,37,40,41,42,43,44,51,52,53,57,58,82,85,89,94,95,96,102,106,107,110,112,114,116,125,131,133,134,135,136,137,139,140],Jt,{6:on,25:on,60:on,97:on}),{6:an,25:cn,97:[1,290]},t([6,25,26,92,97],Zt,{12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,9:18,10:19,45:21,39:22,69:23,70:24,71:25,56:28,67:36,130:37,109:39,113:40,115:41,64:47,65:48,29:49,35:51,27:62,50:63,118:69,31:72,8:122,66:156,7:214,100:293,11:n,28:i,30:r,32:s,33:o,36:a,37:c,40:l,41:h,42:u,43:p,44:d,51:f,52:m,53:g,57:v,58:y,63:wt,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,110:x,112:S,114:D,116:R,125:A,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V}),t(Qt,Dt,{59:294,60:Vt}),t(ln,[2,187]),{7:295,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:296,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:297,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(Ht,[2,165]),{27:168,28:i,50:169,64:170,65:171,82:b,95:ft,96:mt,122:298},t([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,112,116,132],[2,172],{118:69,109:89,115:90,111:[1,299],117:[1,300],135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(hn,[2,173],{118:69,109:89,115:90,111:[1,301],135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{6:un,25:pn,84:[1,302]},t([6,25,26,84],Zt,{31:72,48:177,10:178,27:179,29:180,50:181,47:305,28:i,30:r,32:s,33:o,52:m,95:ft}),{7:306,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,307],27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(lt,[2,31]),t(Ft,[2,29]),t(Ct,[2,90]),{7:308,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,79:[2,125],82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{79:[2,126],109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},t(Ot,[2,40],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{26:[1,309],109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},{6:an,25:cn,92:[1,310]},t(Pt,on),{24:311,25:gt},t(At,[2,60]),{27:113,28:i,50:114,61:312,62:111,63:dt,64:115,65:116,82:b,95:ft,96:mt},t(dn,pt,{61:110,62:111,27:113,50:114,64:115,65:116,54:313,28:i,63:dt,82:b,95:ft,96:mt}),t(At,[2,65],{118:69,109:89,115:90,110:x,112:S,116:R,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(nn,[2,24]),{26:[1,314],109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},t(Ot,[2,215],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{24:315,25:gt,109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},{24:316,25:gt},t(et,[2,140]),{24:317,25:gt},{24:318,25:gt},t(fn,[2,144]),{26:[1,319],127:[1,320],128:283,129:jt},t(et,[2,181]),{24:321,25:gt},t(rn,[2,184]),{24:322,25:gt,60:[1,323]},t(mn,[2,136],{118:69,109:89,115:90,110:x,112:S,116:R,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(et,[2,103]),t(sn,[2,106],{118:69,109:89,115:90,24:324,25:gt,110:x,112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{108:[1,325]},{97:[1,326],109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},t(Bt,[2,120]),{7:214,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,63:wt,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,100:327,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:214,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:kt,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,63:wt,64:47,65:48,66:156,67:36,69:23,70:24,71:25,82:b,85:k,89:w,93:328,94:T,95:C,96:E,100:154,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(Pt,[2,129]),{6:an,25:cn,26:[1,329]},t(Gt,[2,149],{118:69,109:89,115:90,110:x,112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Gt,[2,151],{118:69,109:89,115:90,110:x,112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Gt,[2,162],{118:69,109:89,115:90,110:x,112:S,116:R,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Ht,[2,171]),{7:330,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:331,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:332,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(Bt,[2,94]),{10:178,27:179,28:i,29:180,30:r,31:72,32:s,33:o,47:333,48:177,50:181,52:m,95:ft},t(dn,Et,{31:72,47:176,48:177,10:178,27:179,29:180,50:181,83:334,28:i,30:r,32:s,33:o,52:m,95:ft}),t(Wt,[2,97]),t(Wt,[2,43],{118:69,109:89,115:90,110:x,112:S,116:R,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{7:335,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{79:[2,124],109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},t(et,[2,41]),t(St,[2,115]),t(et,[2,52]),t(At,[2,61]),t(Qt,Dt,{59:336,60:Rt}),t(et,[2,214]),t(ln,[2,188]),t(et,[2,141]),t(fn,[2,142]),t(fn,[2,143]),t(et,[2,179]),{24:337,25:gt},{26:[1,338]},t(rn,[2,185],{6:[1,339]}),{7:340,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},t(et,[2,107]),t(lt,[2,147]),t(lt,[2,123]),t(Pt,[2,130]),t(Qt,Dt,{59:341,60:Vt}),t(Pt,[2,131]),t([1,6,25,26,34,55,60,63,79,84,92,97,99,108,110,111,112,116,132],[2,174],{118:69,109:89,115:90,117:[1,342],135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(hn,[2,176],{118:69,109:89,115:90,111:[1,343],135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Ot,[2,175],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Wt,[2,98]),t(Qt,Dt,{59:344,60:Xt}),{26:[1,345],109:89,110:x,112:S,115:90,116:R,118:69,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q},{6:en,25:tn,26:[1,346]},{26:[1,347]},t(et,[2,182]),t(rn,[2,186]),t(mn,[2,137],{118:69,109:89,115:90,110:x,112:S,116:R,132:G,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),{6:an,25:cn,26:[1,348]},{7:349,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{7:350,8:122,9:18,10:19,11:n,12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:62,28:i,29:49,30:r,31:72,32:s,33:o,35:51,36:a,37:c,39:22,40:l,41:h,42:u,43:p,44:d,45:21,50:63,51:f,52:m,53:g,56:28,57:v,58:y,64:47,65:48,67:36,69:23,70:24,71:25,82:b,85:k,89:w,94:T,95:C,96:E,102:F,106:N,107:L,109:39,110:x,112:S,113:40,114:D,115:41,116:R,118:69,125:A,130:37,131:I,133:_,134:O,135:$,136:j,137:M,139:B,140:V},{6:un,25:pn,26:[1,351]},t(Wt,[2,44]),t(At,[2,62]),t(et,[2,180]),t(Pt,[2,132]),t(Ot,[2,177],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Ot,[2,178],{118:69,109:89,115:90,135:H,136:q,141:X,142:W,143:Y,144:K,145:z,146:J,147:Q}),t(Wt,[2,99])],defaultActions:{60:[2,54],61:[2,55],96:[2,113],203:[2,93]},parseError:function(e,t){if(!t.recoverable)throw Error(e);
this.trace(e)},parse:function(e){function t(){var e;return e=f.lex()||p,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],s=[],o=this.table,a="",c=0,l=0,h=0,u=2,p=1,d=s.slice.call(arguments,1),f=Object.create(this.lexer),m={yy:{}};for(var g in this.yy)Object.prototype.hasOwnProperty.call(this.yy,g)&&(m.yy[g]=this.yy[g]);f.setInput(e,m.yy),m.yy.lexer=f,m.yy.parser=this,f.yylloc===void 0&&(f.yylloc={});var v=f.yylloc;s.push(v);var y=f.options&&f.options.ranges;this.parseError="function"==typeof m.yy.parseError?m.yy.parseError:Object.getPrototypeOf(this).parseError;for(var b,k,w,T,C,E,F,N,L,x={};;){if(w=i[i.length-1],this.defaultActions[w]?T=this.defaultActions[w]:((null===b||b===void 0)&&(b=t()),T=o[w]&&o[w][b]),T===void 0||!T.length||!T[0]){var S="";L=[];for(E in o[w])this.terminals_[E]&&E>u&&L.push("'"+this.terminals_[E]+"'");S=f.showPosition?"Parse error on line "+(c+1)+":\n"+f.showPosition()+"\nExpecting "+L.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(c+1)+": Unexpected "+(b==p?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(S,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:v,expected:L})}if(T[0]instanceof Array&&T.length>1)throw Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(T[0]){case 1:i.push(b),r.push(f.yytext),s.push(f.yylloc),i.push(T[1]),b=null,k?(b=k,k=null):(l=f.yyleng,a=f.yytext,c=f.yylineno,v=f.yylloc,h>0&&h--);break;case 2:if(F=this.productions_[T[1]][1],x.$=r[r.length-F],x._$={first_line:s[s.length-(F||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(F||1)].first_column,last_column:s[s.length-1].last_column},y&&(x._$.range=[s[s.length-(F||1)].range[0],s[s.length-1].range[1]]),C=this.performAction.apply(x,[a,l,c,m.yy,T[1],r,s].concat(d)),C!==void 0)return C;F&&(i=i.slice(0,2*-1*F),r=r.slice(0,-1*F),s=s.slice(0,-1*F)),i.push(this.productions_[T[1]][0]),r.push(x.$),s.push(x._$),N=o[i[i.length-2]][i[i.length-1]],i.push(N);break;case 3:return!0}}return!0}};return e.prototype=gn,gn.Parser=e,new e}();return require!==void 0&&e!==void 0&&(e.parser=n,e.Parser=n.Parser,e.parse=function(){return n.parse.apply(n,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var n=require("fs").readFileSync(require("path").normalize(t[1]),"utf8");return e.parser.parse(n)},t!==void 0&&require.main===t&&e.main(process.argv.slice(1))),t.exports}(),require["./scope"]=function(){var e={},t={exports:e};return function(){var t,n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e.Scope=t=function(){function e(e,t,n,i){var r,s;this.parent=e,this.expressions=t,this.method=n,this.referencedVars=i,this.variables=[{name:"arguments",type:"arguments"}],this.positions={},this.parent||(this.utilities={}),this.root=null!=(r=null!=(s=this.parent)?s.root:void 0)?r:this}return e.prototype.add=function(e,t,n){return this.shared&&!n?this.parent.add(e,t,n):Object.prototype.hasOwnProperty.call(this.positions,e)?this.variables[this.positions[e]].type=t:this.positions[e]=this.variables.push({name:e,type:t})-1},e.prototype.namedMethod=function(){var e;return(null!=(e=this.method)?e.name:void 0)||!this.parent?this.method:this.parent.namedMethod()},e.prototype.find=function(e){return this.check(e)?!0:(this.add(e,"var"),!1)},e.prototype.parameter=function(e){return this.shared&&this.parent.check(e,!0)?void 0:this.add(e,"param")},e.prototype.check=function(e){var t;return!!(this.type(e)||(null!=(t=this.parent)?t.check(e):void 0))},e.prototype.temporary=function(e,t,n){return null==n&&(n=!1),n?(t+parseInt(e,36)).toString(36).replace(/\d/g,"a"):e+(t||"")},e.prototype.type=function(e){var t,n,i,r;for(i=this.variables,t=0,n=i.length;n>t;t++)if(r=i[t],r.name===e)return r.type;return null},e.prototype.freeVariable=function(e,t){var i,r,s;for(null==t&&(t={}),i=0;;){if(s=this.temporary(e,i,t.single),!(this.check(s)||n.call(this.root.referencedVars,s)>=0))break;i++}return(null!=(r=t.reserve)?r:!0)&&this.add(s,"var",!0),s},e.prototype.assign=function(e,t){return this.add(e,{value:t,assigned:!0},!0),this.hasAssignments=!0},e.prototype.hasDeclarations=function(){return!!this.declaredVariables().length},e.prototype.declaredVariables=function(){var e;return function(){var t,n,i,r;for(i=this.variables,r=[],t=0,n=i.length;n>t;t++)e=i[t],"var"===e.type&&r.push(e.name);return r}.call(this).sort()},e.prototype.assignedVariables=function(){var e,t,n,i,r;for(n=this.variables,i=[],e=0,t=n.length;t>e;e++)r=n[e],r.type.assigned&&i.push(r.name+" = "+r.type.value);return i},e}()}.call(this),t.exports}(),require["./nodes"]=function(){var e={},t={exports:e};return function(){var t,n,i,r,s,o,a,c,l,h,u,p,d,f,m,g,v,y,b,k,w,T,C,E,F,N,L,x,S,D,R,A,I,_,O,$,j,M,B,V,P,U,G,H,q,X,W,Y,K,z,J,Q,Z,et,tt,nt,it,rt,st,ot,at,ct,lt,ht,ut,pt,dt,ft,mt,gt,vt,yt,bt,kt=function(e,t){function n(){this.constructor=e}for(var i in t)wt.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},wt={}.hasOwnProperty,Tt=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},Ct=[].slice;Error.stackTraceLimit=1/0,P=require("./scope").Scope,dt=require("./lexer"),$=dt.RESERVED,V=dt.STRICT_PROSCRIBED,ft=require("./helpers"),et=ft.compact,rt=ft.flatten,it=ft.extend,ht=ft.merge,tt=ft.del,gt=ft.starts,nt=ft.ends,mt=ft.some,Z=ft.addLocationDataFn,lt=ft.locationDataToString,vt=ft.throwSyntaxError,e.extend=it,e.addLocationDataFn=Z,Q=function(){return!0},D=function(){return!1},X=function(){return this},S=function(){return this.negated=!this.negated,this},e.CodeFragment=l=function(){function e(e,t){var n;this.code=""+t,this.locationData=null!=e?e.locationData:void 0,this.type=(null!=e?null!=(n=e.constructor)?n.name:void 0:void 0)||"unknown"}return e.prototype.toString=function(){return""+this.code+(this.locationData?": "+lt(this.locationData):"")},e}(),st=function(e){var t;return function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(t.code);return r}().join("")},e.Base=r=function(){function e(){}return e.prototype.compile=function(e,t){return st(this.compileToFragments(e,t))},e.prototype.compileToFragments=function(e,t){var n;return e=it({},e),t&&(e.level=t),n=this.unfoldSoak(e)||this,n.tab=e.indent,e.level!==L&&n.isStatement(e)?n.compileClosure(e):n.compileNode(e)},e.prototype.compileClosure=function(e){var n,i,r,a,l,h,u;return(a=this.jumps())&&a.error("cannot use a pure statement in an expression"),e.sharedScope=!0,r=new c([],s.wrap([this])),n=[],((i=this.contains(at))||this.contains(ct))&&(n=[new x("this")],i?(l="apply",n.push(new x("arguments"))):l="call",r=new z(r,[new t(new x(l))])),h=new o(r,n).compileNode(e),(r.isGenerator||(null!=(u=r.base)?u.isGenerator:void 0))&&(h.unshift(this.makeCode("(yield* ")),h.push(this.makeCode(")"))),h},e.prototype.cache=function(e,t,n){var r,s,o;return r=null!=n?n(this):this.isComplex(),r?(s=new x(e.scope.freeVariable("ref")),o=new i(s,this),t?[o.compileToFragments(e,t),[this.makeCode(s.value)]]:[o,s]):(s=t?this.compileToFragments(e,t):this,[s,s])},e.prototype.cacheToCodeFragments=function(e){return[st(e[0]),st(e[1])]},e.prototype.makeReturn=function(e){var t;return t=this.unwrapAll(),e?new o(new x(e+".push"),[t]):new M(t)},e.prototype.contains=function(e){var t;return t=void 0,this.traverseChildren(!1,function(n){return e(n)?(t=n,!1):void 0}),t},e.prototype.lastNonComment=function(e){var t;for(t=e.length;t--;)if(!(e[t]instanceof h))return e[t];return null},e.prototype.toString=function(e,t){var n;return null==e&&(e=""),null==t&&(t=this.constructor.name),n="\n"+e+t,this.soak&&(n+="?"),this.eachChild(function(t){return n+=t.toString(e+q)}),n},e.prototype.eachChild=function(e){var t,n,i,r,s,o,a,c;if(!this.children)return this;for(a=this.children,i=0,s=a.length;s>i;i++)if(t=a[i],this[t])for(c=rt([this[t]]),r=0,o=c.length;o>r;r++)if(n=c[r],e(n)===!1)return this;return this},e.prototype.traverseChildren=function(e,t){return this.eachChild(function(n){var i;return i=t(n),i!==!1?n.traverseChildren(e,t):void 0})},e.prototype.invert=function(){return new I("!",this)},e.prototype.unwrapAll=function(){var e;for(e=this;e!==(e=e.unwrap()););return e},e.prototype.children=[],e.prototype.isStatement=D,e.prototype.jumps=D,e.prototype.isComplex=Q,e.prototype.isChainable=D,e.prototype.isAssignable=D,e.prototype.unwrap=X,e.prototype.unfoldSoak=D,e.prototype.assigns=D,e.prototype.updateLocationDataIfMissing=function(e){return this.locationData?this:(this.locationData=e,this.eachChild(function(t){return t.updateLocationDataIfMissing(e)}))},e.prototype.error=function(e){return vt(e,this.locationData)},e.prototype.makeCode=function(e){return new l(this,e)},e.prototype.wrapInBraces=function(e){return[].concat(this.makeCode("("),e,this.makeCode(")"))},e.prototype.joinFragmentArrays=function(e,t){var n,i,r,s,o;for(n=[],r=s=0,o=e.length;o>s;r=++s)i=e[r],r&&n.push(this.makeCode(t)),n=n.concat(i);return n},e}(),e.Block=s=function(e){function t(e){this.expressions=et(rt(e||[]))}return kt(t,e),t.prototype.children=["expressions"],t.prototype.push=function(e){return this.expressions.push(e),this},t.prototype.pop=function(){return this.expressions.pop()},t.prototype.unshift=function(e){return this.expressions.unshift(e),this},t.prototype.unwrap=function(){return 1===this.expressions.length?this.expressions[0]:this},t.prototype.isEmpty=function(){return!this.expressions.length},t.prototype.isStatement=function(e){var t,n,i,r;for(r=this.expressions,n=0,i=r.length;i>n;n++)if(t=r[n],t.isStatement(e))return!0;return!1},t.prototype.jumps=function(e){var t,n,i,r,s;for(s=this.expressions,n=0,r=s.length;r>n;n++)if(t=s[n],i=t.jumps(e))return i},t.prototype.makeReturn=function(e){var t,n;for(n=this.expressions.length;n--;)if(t=this.expressions[n],!(t instanceof h)){this.expressions[n]=t.makeReturn(e),t instanceof M&&!t.expression&&this.expressions.splice(n,1);break}return this},t.prototype.compileToFragments=function(e,n){return null==e&&(e={}),e.scope?t.__super__.compileToFragments.call(this,e,n):this.compileRoot(e)},t.prototype.compileNode=function(e){var n,i,r,s,o,a,c,l,h;for(this.tab=e.indent,h=e.level===L,i=[],l=this.expressions,s=o=0,a=l.length;a>o;s=++o)c=l[s],c=c.unwrapAll(),c=c.unfoldSoak(e)||c,c instanceof t?i.push(c.compileNode(e)):h?(c.front=!0,r=c.compileToFragments(e),c.isStatement(e)||(r.unshift(this.makeCode(""+this.tab)),r.push(this.makeCode(";"))),i.push(r)):i.push(c.compileToFragments(e,E));return h?this.spaced?[].concat(this.joinFragmentArrays(i,"\n\n"),this.makeCode("\n")):this.joinFragmentArrays(i,"\n"):(n=i.length?this.joinFragmentArrays(i,", "):[this.makeCode("void 0")],i.length>1&&e.level>=E?this.wrapInBraces(n):n)},t.prototype.compileRoot=function(e){var t,n,i,r,s,o,a,c,l,u,p;for(e.indent=e.bare?"":q,e.level=L,this.spaced=!0,e.scope=new P(null,this,null,null!=(l=e.referencedVars)?l:[]),u=e.locals||[],r=0,s=u.length;s>r;r++)o=u[r],e.scope.parameter(o);return a=[],e.bare||(c=function(){var e,n,r,s;for(r=this.expressions,s=[],i=e=0,n=r.length;n>e&&(t=r[i],t.unwrap()instanceof h);i=++e)s.push(t);return s}.call(this),p=this.expressions.slice(c.length),this.expressions=c,c.length&&(a=this.compileNode(ht(e,{indent:""})),a.push(this.makeCode("\n"))),this.expressions=p),n=this.compileWithDeclarations(e),e.bare?n:[].concat(a,this.makeCode("(function() {\n"),n,this.makeCode("\n}).call(this);\n"))},t.prototype.compileWithDeclarations=function(e){var t,n,i,r,s,o,a,c,l,u,p,d,f,m;for(r=[],c=[],l=this.expressions,s=o=0,a=l.length;a>o&&(i=l[s],i=i.unwrap(),i instanceof h||i instanceof x);s=++o);return e=ht(e,{level:L}),s&&(d=this.expressions.splice(s,9e9),u=[this.spaced,!1],m=u[0],this.spaced=u[1],p=[this.compileNode(e),m],r=p[0],this.spaced=p[1],this.expressions=d),c=this.compileNode(e),f=e.scope,f.expressions===this&&(n=e.scope.hasDeclarations(),t=f.hasAssignments,n||t?(s&&r.push(this.makeCode("\n")),r.push(this.makeCode(this.tab+"var ")),n&&r.push(this.makeCode(f.declaredVariables().join(", "))),t&&(n&&r.push(this.makeCode(",\n"+(this.tab+q))),r.push(this.makeCode(f.assignedVariables().join(",\n"+(this.tab+q))))),r.push(this.makeCode(";\n"+(this.spaced?"\n":"")))):r.length&&c.length&&r.push(this.makeCode("\n"))),r.concat(c)},t.wrap=function(e){return 1===e.length&&e[0]instanceof t?e[0]:new t(e)},t}(r),e.Literal=x=function(e){function t(e){this.value=e}return kt(t,e),t.prototype.makeReturn=function(){return this.isStatement()?this:t.__super__.makeReturn.apply(this,arguments)},t.prototype.isAssignable=function(){return g.test(this.value)},t.prototype.isStatement=function(){var e;return"break"===(e=this.value)||"continue"===e||"debugger"===e},t.prototype.isComplex=D,t.prototype.assigns=function(e){return e===this.value},t.prototype.jumps=function(e){return"break"!==this.value||(null!=e?e.loop:void 0)||(null!=e?e.block:void 0)?"continue"!==this.value||(null!=e?e.loop:void 0)?void 0:this:this},t.prototype.compileNode=function(e){var t,n,i;return n="this"===this.value?(null!=(i=e.scope.method)?i.bound:void 0)?e.scope.method.context:this.value:this.value.reserved?'"'+this.value+'"':this.value,t=this.isStatement()?""+this.tab+n+";":n,[this.makeCode(t)]},t.prototype.toString=function(){return' "'+this.value+'"'},t}(r),e.Undefined=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kt(t,e),t.prototype.isAssignable=D,t.prototype.isComplex=D,t.prototype.compileNode=function(e){return[this.makeCode(e.level>=T?"(void 0)":"void 0")]},t}(r),e.Null=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kt(t,e),t.prototype.isAssignable=D,t.prototype.isComplex=D,t.prototype.compileNode=function(){return[this.makeCode("null")]},t}(r),e.Bool=function(e){function t(e){this.val=e}return kt(t,e),t.prototype.isAssignable=D,t.prototype.isComplex=D,t.prototype.compileNode=function(){return[this.makeCode(this.val)]},t}(r),e.Return=M=function(e){function t(e){this.expression=e}return kt(t,e),t.prototype.children=["expression"],t.prototype.isStatement=Q,t.prototype.makeReturn=X,t.prototype.jumps=X,t.prototype.compileToFragments=function(e,n){var i,r;return i=null!=(r=this.expression)?r.makeReturn():void 0,!i||i instanceof t?t.__super__.compileToFragments.call(this,e,n):i.compileToFragments(e,n)},t.prototype.compileNode=function(e){var t,n,i;return t=[],n=null!=(i=this.expression)?"function"==typeof i.isYieldReturn?i.isYieldReturn():void 0:void 0,n||t.push(this.makeCode(this.tab+("return"+(this.expression?" ":"")))),this.expression&&(t=t.concat(this.expression.compileToFragments(e,N))),n||t.push(this.makeCode(";")),t},t}(r),e.Value=z=function(e){function t(e,n,i){return!n&&e instanceof t?e:(this.base=e,this.properties=n||[],i&&(this[i]=!0),this)}return kt(t,e),t.prototype.children=["base","properties"],t.prototype.add=function(e){return this.properties=this.properties.concat(e),this},t.prototype.hasProperties=function(){return!!this.properties.length},t.prototype.bareLiteral=function(e){return!this.properties.length&&this.base instanceof e},t.prototype.isArray=function(){return this.bareLiteral(n)},t.prototype.isRange=function(){return this.bareLiteral(j)},t.prototype.isComplex=function(){return this.hasProperties()||this.base.isComplex()},t.prototype.isAssignable=function(){return this.hasProperties()||this.base.isAssignable()},t.prototype.isSimpleNumber=function(){return this.bareLiteral(x)&&B.test(this.base.value)},t.prototype.isString=function(){return this.bareLiteral(x)&&y.test(this.base.value)},t.prototype.isRegex=function(){return this.bareLiteral(x)&&v.test(this.base.value)},t.prototype.isAtomic=function(){var e,t,n,i;for(i=this.properties.concat(this.base),e=0,t=i.length;t>e;e++)if(n=i[e],n.soak||n instanceof o)return!1;return!0},t.prototype.isNotCallable=function(){return this.isSimpleNumber()||this.isString()||this.isRegex()||this.isArray()||this.isRange()||this.isSplice()||this.isObject()},t.prototype.isStatement=function(e){return!this.properties.length&&this.base.isStatement(e)},t.prototype.assigns=function(e){return!this.properties.length&&this.base.assigns(e)},t.prototype.jumps=function(e){return!this.properties.length&&this.base.jumps(e)},t.prototype.isObject=function(e){return this.properties.length?!1:this.base instanceof A&&(!e||this.base.generated)},t.prototype.isSplice=function(){var e,t;return t=this.properties,e=t[t.length-1],e instanceof U},t.prototype.looksStatic=function(e){var t;return this.base.value===e&&1===this.properties.length&&"prototype"!==(null!=(t=this.properties[0].name)?t.value:void 0)},t.prototype.unwrap=function(){return this.properties.length?this:this.base},t.prototype.cacheReference=function(e){var n,r,s,o,a;return a=this.properties,s=a[a.length-1],2>this.properties.length&&!this.base.isComplex()&&!(null!=s?s.isComplex():void 0)?[this,this]:(n=new t(this.base,this.properties.slice(0,-1)),n.isComplex()&&(r=new x(e.scope.freeVariable("base")),n=new t(new O(new i(r,n)))),s?(s.isComplex()&&(o=new x(e.scope.freeVariable("name")),s=new w(new i(o,s.index)),o=new w(o)),[n.add(s),new t(r||n.base,[o||s])]):[n,r])},t.prototype.compileNode=function(e){var t,n,i,r,s;for(this.base.front=this.front,s=this.properties,t=this.base.compileToFragments(e,s.length?T:null),(this.base instanceof O||s.length)&&B.test(st(t))&&t.push(this.makeCode(".")),n=0,i=s.length;i>n;n++)r=s[n],t.push.apply(t,r.compileToFragments(e));return t},t.prototype.unfoldSoak=function(e){return null!=this.unfoldedSoak?this.unfoldedSoak:this.unfoldedSoak=function(n){return function(){var r,s,o,a,c,l,h,p,d,f;if(o=n.base.unfoldSoak(e))return(p=o.body.properties).push.apply(p,n.properties),o;for(d=n.properties,s=a=0,c=d.length;c>a;s=++a)if(l=d[s],l.soak)return l.soak=!1,r=new t(n.base,n.properties.slice(0,s)),f=new t(n.base,n.properties.slice(s)),r.isComplex()&&(h=new x(e.scope.freeVariable("ref")),r=new O(new i(h,r)),f.base=h),new b(new u(r),f,{soak:!0});return!1}}(this)()},t}(r),e.Comment=h=function(e){function t(e){this.comment=e}return kt(t,e),t.prototype.isStatement=Q,t.prototype.makeReturn=X,t.prototype.compileNode=function(e,t){var n,i;return i=this.comment.replace(/^(\s*)# /gm,"$1 * "),n="/*"+ut(i,this.tab)+(Tt.call(i,"\n")>=0?"\n"+this.tab:"")+" */",(t||e.level)===L&&(n=e.indent+n),[this.makeCode("\n"),this.makeCode(n)]},t}(r),e.Call=o=function(e){function n(e,t,n){this.args=null!=t?t:[],this.soak=n,this.isNew=!1,this.isSuper="super"===e,this.variable=this.isSuper?null:e,e instanceof z&&e.isNotCallable()&&e.error("literal is not a function")}return kt(n,e),n.prototype.children=["variable","args"],n.prototype.newInstance=function(){var e,t;return e=(null!=(t=this.variable)?t.base:void 0)||this.variable,e instanceof n&&!e.isNew?e.newInstance():this.isNew=!0,this},n.prototype.superReference=function(e){var n,r,s,o,a,c,l,h;return a=e.scope.namedMethod(),(null!=a?a.klass:void 0)?(o=a.klass,c=a.name,h=a.variable,o.isComplex()&&(s=new x(e.scope.parent.freeVariable("base")),r=new z(new O(new i(s,o))),h.base=r,h.properties.splice(0,o.properties.length)),(c.isComplex()||c instanceof w&&c.index.isAssignable())&&(l=new x(e.scope.parent.freeVariable("name")),c=new w(new i(l,c.index)),h.properties.pop(),h.properties.push(c)),n=[new t(new x("__super__"))],a["static"]&&n.push(new t(new x("constructor"))),n.push(null!=l?new w(l):c),new z(null!=s?s:o,n).compile(e)):(null!=a?a.ctor:void 0)?a.name+".__super__.constructor":this.error("cannot call super outside of an instance method.")},n.prototype.superThis=function(e){var t;return t=e.scope.method,t&&!t.klass&&t.context||"this"},n.prototype.unfoldSoak=function(e){var t,i,r,s,o,a,c,l,h;if(this.soak){if(this.variable){if(i=yt(e,this,"variable"))return i;c=new z(this.variable).cacheReference(e),s=c[0],h=c[1]}else s=new x(this.superReference(e)),h=new z(s);return h=new n(h,this.args),h.isNew=this.isNew,s=new x("typeof "+s.compile(e)+' === "function"'),new b(s,new z(h),{soak:!0})}for(t=this,a=[];;)if(t.variable instanceof n)a.push(t),t=t.variable;else{if(!(t.variable instanceof z))break;if(a.push(t),!((t=t.variable.base)instanceof n))break}for(l=a.reverse(),r=0,o=l.length;o>r;r++)t=l[r],i&&(t.variable instanceof n?t.variable=i:t.variable.base=i),i=yt(e,t,"variable");return i},n.prototype.compileNode=function(e){var t,n,i,r,s,o,a,c,l,h;if(null!=(l=this.variable)&&(l.front=this.front),r=G.compileSplattedArray(e,this.args,!0),r.length)return this.compileSplat(e,r);for(i=[],h=this.args,n=o=0,a=h.length;a>o;n=++o)t=h[n],n&&i.push(this.makeCode(", ")),i.push.apply(i,t.compileToFragments(e,E));return s=[],this.isSuper?(c=this.superReference(e)+(".call("+this.superThis(e)),i.length&&(c+=", "),s.push(this.makeCode(c))):(this.isNew&&s.push(this.makeCode("new ")),s.push.apply(s,this.variable.compileToFragments(e,T)),s.push(this.makeCode("("))),s.push.apply(s,i),s.push(this.makeCode(")")),s},n.prototype.compileSplat=function(e,t){var n,i,r,s,o,a;return this.isSuper?[].concat(this.makeCode(this.superReference(e)+".apply("+this.superThis(e)+", "),t,this.makeCode(")")):this.isNew?(s=this.tab+q,[].concat(this.makeCode("(function(func, args, ctor) {\n"+s+"ctor.prototype = func.prototype;\n"+s+"var child = new ctor, result = func.apply(child, args);\n"+s+"return Object(result) === result ? result : child;\n"+this.tab+"})("),this.variable.compileToFragments(e,E),this.makeCode(", "),t,this.makeCode(", function(){})"))):(n=[],i=new z(this.variable),(o=i.properties.pop())&&i.isComplex()?(a=e.scope.freeVariable("ref"),n=n.concat(this.makeCode("("+a+" = "),i.compileToFragments(e,E),this.makeCode(")"),o.compileToFragments(e))):(r=i.compileToFragments(e,T),B.test(st(r))&&(r=this.wrapInBraces(r)),o?(a=st(r),r.push.apply(r,o.compileToFragments(e))):a="null",n=n.concat(r)),n=n.concat(this.makeCode(".apply("+a+", "),t,this.makeCode(")")))},n}(r),e.Extends=d=function(e){function t(e,t){this.child=e,this.parent=t}return kt(t,e),t.prototype.children=["child","parent"],t.prototype.compileToFragments=function(e){return new o(new z(new x(bt("extend",e))),[this.child,this.parent]).compileToFragments(e)},t}(r),e.Access=t=function(e){function t(e,t){this.name=e,this.name.asKey=!0,this.soak="soak"===t}return kt(t,e),t.prototype.children=["name"],t.prototype.compileToFragments=function(e){var t;return t=this.name.compileToFragments(e),g.test(st(t))?t.unshift(this.makeCode(".")):(t.unshift(this.makeCode("[")),t.push(this.makeCode("]"))),t},t.prototype.isComplex=D,t}(r),e.Index=w=function(e){function t(e){this.index=e}return kt(t,e),t.prototype.children=["index"],t.prototype.compileToFragments=function(e){return[].concat(this.makeCode("["),this.index.compileToFragments(e,N),this.makeCode("]"))},t.prototype.isComplex=function(){return this.index.isComplex()},t}(r),e.Range=j=function(e){function t(e,t,n){this.from=e,this.to=t,this.exclusive="exclusive"===n,this.equals=this.exclusive?"":"="}return kt(t,e),t.prototype.children=["from","to"],t.prototype.compileVariables=function(e){var t,n,i,r,s,o;return e=ht(e,{top:!0}),t=tt(e,"isComplex"),n=this.cacheToCodeFragments(this.from.cache(e,E,t)),this.fromC=n[0],this.fromVar=n[1],i=this.cacheToCodeFragments(this.to.cache(e,E,t)),this.toC=i[0],this.toVar=i[1],(o=tt(e,"step"))&&(r=this.cacheToCodeFragments(o.cache(e,E,t)),this.step=r[0],this.stepVar=r[1]),s=[this.fromVar.match(R),this.toVar.match(R)],this.fromNum=s[0],this.toNum=s[1],this.stepVar?this.stepNum=this.stepVar.match(R):void 0},t.prototype.compileNode=function(e){var t,n,i,r,s,o,a,c,l,h,u,p,d,f;return this.fromVar||this.compileVariables(e),e.index?(a=this.fromNum&&this.toNum,s=tt(e,"index"),o=tt(e,"name"),l=o&&o!==s,f=s+" = "+this.fromC,this.toC!==this.toVar&&(f+=", "+this.toC),this.step!==this.stepVar&&(f+=", "+this.step),h=[s+" <"+this.equals,s+" >"+this.equals],c=h[0],r=h[1],n=this.stepNum?pt(this.stepNum[0])>0?c+" "+this.toVar:r+" "+this.toVar:a?(u=[pt(this.fromNum[0]),pt(this.toNum[0])],i=u[0],d=u[1],u,d>=i?c+" "+d:r+" "+d):(t=this.stepVar?this.stepVar+" > 0":this.fromVar+" <= "+this.toVar,t+" ? "+c+" "+this.toVar+" : "+r+" "+this.toVar),p=this.stepVar?s+" += "+this.stepVar:a?l?d>=i?"++"+s:"--"+s:d>=i?s+"++":s+"--":l?t+" ? ++"+s+" : --"+s:t+" ? "+s+"++ : "+s+"--",l&&(f=o+" = "+f),l&&(p=o+" = "+p),[this.makeCode(f+"; "+n+"; "+p)]):this.compileArray(e)},t.prototype.compileArray=function(e){var t,n,i,r,s,o,a,c,l,h,u,p,d;return this.fromNum&&this.toNum&&20>=Math.abs(this.fromNum-this.toNum)?(l=function(){p=[];for(var e=h=+this.fromNum,t=+this.toNum;t>=h?t>=e:e>=t;t>=h?e++:e--)p.push(e);return p}.apply(this),this.exclusive&&l.pop(),[this.makeCode("["+l.join(", ")+"]")]):(o=this.tab+q,s=e.scope.freeVariable("i",{single:!0}),u=e.scope.freeVariable("results"),c="\n"+o+u+" = [];",this.fromNum&&this.toNum?(e.index=s,n=st(this.compileNode(e))):(d=s+" = "+this.fromC+(this.toC!==this.toVar?", "+this.toC:""),i=this.fromVar+" <= "+this.toVar,n="var "+d+"; "+i+" ? "+s+" <"+this.equals+" "+this.toVar+" : "+s+" >"+this.equals+" "+this.toVar+"; "+i+" ? "+s+"++ : "+s+"--"),a="{ "+u+".push("+s+"); }\n"+o+"return "+u+";\n"+e.indent,r=function(e){return null!=e?e.contains(at):void 0},(r(this.from)||r(this.to))&&(t=", arguments"),[this.makeCode("(function() {"+c+"\n"+o+"for ("+n+")"+a+"}).apply(this"+(null!=t?t:"")+")")])},t}(r),e.Slice=U=function(e){function t(e){this.range=e,t.__super__.constructor.call(this)}return kt(t,e),t.prototype.children=["range"],t.prototype.compileNode=function(e){var t,n,i,r,s,o,a;return s=this.range,o=s.to,i=s.from,r=i&&i.compileToFragments(e,N)||[this.makeCode("0")],o&&(t=o.compileToFragments(e,N),n=st(t),(this.range.exclusive||-1!==+n)&&(a=", "+(this.range.exclusive?n:B.test(n)?""+(+n+1):(t=o.compileToFragments(e,T),"+"+st(t)+" + 1 || 9e9")))),[this.makeCode(".slice("+st(r)+(a||"")+")")]},t}(r),e.Obj=A=function(e){function n(e,t){this.generated=null!=t?t:!1,this.objects=this.properties=e||[]}return kt(n,e),n.prototype.children=["properties"],n.prototype.compileNode=function(e){var n,r,s,o,a,c,l,u,p,d,f,m,g,v,y,b,k,w,T,C,E;if(T=this.properties,this.generated)for(l=0,g=T.length;g>l;l++)b=T[l],b instanceof z&&b.error("cannot have an implicit value in an implicit object");for(r=p=0,v=T.length;v>p&&(w=T[r],!((w.variable||w).base instanceof O));r=++p);for(s=T.length>r,a=e.indent+=q,m=this.lastNonComment(this.properties),n=[],s&&(k=e.scope.freeVariable("obj"),n.push(this.makeCode("(\n"+a+k+" = "))),n.push(this.makeCode("{"+(0===T.length||0===r?"}":"\n"))),o=f=0,y=T.length;y>f;o=++f)w=T[o],o===r&&(0!==o&&n.push(this.makeCode("\n"+a+"}")),n.push(this.makeCode(",\n"))),u=o===T.length-1||o===r-1?"":w===m||w instanceof h?"\n":",\n",c=w instanceof h?"":a,s&&r>o&&(c+=q),w instanceof i&&w.variable instanceof z&&w.variable.hasProperties()&&w.variable.error("Invalid object key"),w instanceof z&&w["this"]&&(w=new i(w.properties[0].name,w,"object")),w instanceof h||(r>o?(w instanceof i||(w=new i(w,w,"object")),(w.variable.base||w.variable).asKey=!0):(w instanceof i?(d=w.variable,E=w.value):(C=w.base.cache(e),d=C[0],E=C[1]),w=new i(new z(new x(k),[new t(d)]),E))),c&&n.push(this.makeCode(c)),n.push.apply(n,w.compileToFragments(e,L)),u&&n.push(this.makeCode(u));return s?n.push(this.makeCode(",\n"+a+k+"\n"+this.tab+")")):0!==T.length&&n.push(this.makeCode("\n"+this.tab+"}")),this.front&&!s?this.wrapInBraces(n):n},n.prototype.assigns=function(e){var t,n,i,r;for(r=this.properties,t=0,n=r.length;n>t;t++)if(i=r[t],i.assigns(e))return!0;return!1},n}(r),e.Arr=n=function(e){function t(e){this.objects=e||[]}return kt(t,e),t.prototype.children=["objects"],t.prototype.compileNode=function(e){var t,n,i,r,s,o,a;if(!this.objects.length)return[this.makeCode("[]")];if(e.indent+=q,t=G.compileSplattedArray(e,this.objects),t.length)return t;for(t=[],n=function(){var t,n,i,r;for(i=this.objects,r=[],t=0,n=i.length;n>t;t++)a=i[t],r.push(a.compileToFragments(e,E));return r}.call(this),r=s=0,o=n.length;o>s;r=++s)i=n[r],r&&t.push(this.makeCode(", ")),t.push.apply(t,i);return st(t).indexOf("\n")>=0?(t.unshift(this.makeCode("[\n"+e.indent)),t.push(this.makeCode("\n"+this.tab+"]"))):(t.unshift(this.makeCode("[")),t.push(this.makeCode("]"))),t},t.prototype.assigns=function(e){var t,n,i,r;for(r=this.objects,t=0,n=r.length;n>t;t++)if(i=r[t],i.assigns(e))return!0;return!1},t}(r),e.Class=a=function(e){function n(e,t,n){this.variable=e,this.parent=t,this.body=null!=n?n:new s,this.boundFuncs=[],this.body.classBody=!0}return kt(n,e),n.prototype.children=["variable","parent","body"],n.prototype.determineName=function(){var e,n,i;return this.variable?(n=this.variable.properties,i=n[n.length-1],e=i?i instanceof t&&i.name.value:this.variable.base.value,Tt.call(V,e)>=0&&this.variable.error("class variable name may not be "+e),e&&(e=g.test(e)&&e)):null},n.prototype.setContext=function(e){return this.body.traverseChildren(!1,function(t){return t.classBody?!1:t instanceof x&&"this"===t.value?t.value=e:t instanceof c&&t.bound?t.context=e:void 0})},n.prototype.addBoundFunctions=function(e){var n,i,r,s,o;for(o=this.boundFuncs,i=0,r=o.length;r>i;i++)n=o[i],s=new z(new x("this"),[new t(n)]).compile(e),this.ctor.body.unshift(new x(s+" = "+bt("bind",e)+"("+s+", this)"))},n.prototype.addProperties=function(e,n,r){var s,o,a,l,h,u;return u=e.base.properties.slice(0),l=function(){var e;for(e=[];o=u.shift();)o instanceof i&&(a=o.variable.base,delete o.context,h=o.value,"constructor"===a.value?(this.ctor&&o.error("cannot define more than one constructor in a class"),h.bound&&o.error("cannot define a constructor as a bound function"),h instanceof c?o=this.ctor=h:(this.externalCtor=r.classScope.freeVariable("class"),o=new i(new x(this.externalCtor),h))):o.variable["this"]?h["static"]=!0:(s=a.isComplex()?new w(a):new t(a),o.variable=new z(new x(n),[new t(new x("prototype")),s]),h instanceof c&&h.bound&&(this.boundFuncs.push(a),h.bound=!1))),e.push(o);return e}.call(this),et(l)},n.prototype.walkBody=function(e,t){return this.traverseChildren(!1,function(r){return function(o){var a,c,l,h,u,p,d;if(a=!0,o instanceof n)return!1;if(o instanceof s){for(d=c=o.expressions,l=h=0,u=d.length;u>h;l=++h)p=d[l],p instanceof i&&p.variable.looksStatic(e)?p.value["static"]=!0:p instanceof z&&p.isObject(!0)&&(a=!1,c[l]=r.addProperties(p,e,t));o.expressions=c=rt(c)}return a&&!(o instanceof n)}}(this))},n.prototype.hoistDirectivePrologue=function(){var e,t,n;for(t=0,e=this.body.expressions;(n=e[t])&&n instanceof h||n instanceof z&&n.isString();)++t;return this.directives=e.splice(0,t)},n.prototype.ensureConstructor=function(e){return this.ctor||(this.ctor=new c,this.externalCtor?this.ctor.body.push(new x(this.externalCtor+".apply(this, arguments)")):this.parent&&this.ctor.body.push(new x(e+".__super__.constructor.apply(this, arguments)")),this.ctor.body.makeReturn(),this.body.expressions.unshift(this.ctor)),this.ctor.ctor=this.ctor.name=e,this.ctor.klass=null,this.ctor.noReturn=!0},n.prototype.compileNode=function(e){var t,n,r,a,l,h,u,p,f;return(a=this.body.jumps())&&a.error("Class bodies cannot contain pure statements"),(n=this.body.contains(at))&&n.error("Class bodies shouldn't reference arguments"),u=this.determineName()||"_Class",u.reserved&&(u="_"+u),h=new x(u),r=new c([],s.wrap([this.body])),t=[],e.classScope=r.makeScope(e.scope),this.hoistDirectivePrologue(),this.setContext(u),this.walkBody(u,e),this.ensureConstructor(u),this.addBoundFunctions(e),this.body.spaced=!0,this.body.expressions.push(h),this.parent&&(f=new x(e.classScope.freeVariable("superClass",{reserve:!1})),this.body.expressions.unshift(new d(h,f)),r.params.push(new _(f)),t.push(this.parent)),(p=this.body.expressions).unshift.apply(p,this.directives),l=new O(new o(r,t)),this.variable&&(l=new i(this.variable,l)),l.compileToFragments(e)},n}(r),e.Assign=i=function(e){function n(e,t,n,i){var r,s,o;this.variable=e,this.value=t,this.context=n,this.param=i&&i.param,this.subpattern=i&&i.subpattern,o=s=this.variable.unwrapAll().value,r=Tt.call(V,o)>=0,r&&"object"!==this.context&&this.variable.error('variable name may not be "'+s+'"')}return kt(n,e),n.prototype.children=["variable","value"],n.prototype.isStatement=function(e){return(null!=e?e.level:void 0)===L&&null!=this.context&&Tt.call(this.context,"?")>=0
},n.prototype.assigns=function(e){return this["object"===this.context?"value":"variable"].assigns(e)},n.prototype.unfoldSoak=function(e){return yt(e,this,"variable")},n.prototype.compileNode=function(e){var t,n,i,r,s,o,a,l,h,u,p,d,f,m;if(i=this.variable instanceof z){if(this.variable.isArray()||this.variable.isObject())return this.compilePatternMatch(e);if(this.variable.isSplice())return this.compileSplice(e);if("||="===(l=this.context)||"&&="===l||"?="===l)return this.compileConditional(e);if("**="===(h=this.context)||"//="===h||"%%="===h)return this.compileSpecialMath(e)}return this.value instanceof c&&(this.value["static"]?(this.value.klass=this.variable.base,this.value.name=this.variable.properties[0],this.value.variable=this.variable):(null!=(u=this.variable.properties)?u.length:void 0)>=2&&(p=this.variable.properties,o=p.length>=3?Ct.call(p,0,r=p.length-2):(r=0,[]),a=p[r++],s=p[r++],"prototype"===(null!=(d=a.name)?d.value:void 0)&&(this.value.klass=new z(this.variable.base,o),this.value.name=s,this.value.variable=this.variable))),this.context||(m=this.variable.unwrapAll(),m.isAssignable()||this.variable.error('"'+this.variable.compile(e)+'" cannot be assigned'),("function"==typeof m.hasProperties?m.hasProperties():void 0)||(this.param?e.scope.add(m.value,"var"):e.scope.find(m.value))),f=this.value.compileToFragments(e,E),n=this.variable.compileToFragments(e,E),"object"===this.context?n.concat(this.makeCode(": "),f):(t=n.concat(this.makeCode(" "+(this.context||"=")+" "),f),E>=e.level?t:this.wrapInBraces(t))},n.prototype.compilePatternMatch=function(e){var i,r,s,o,a,c,l,h,u,d,f,m,v,y,b,k,T,C,N,S,D,R,A,I,_,j,M,B;if(I=e.level===L,j=this.value,y=this.variable.base.objects,!(b=y.length))return s=j.compileToFragments(e),e.level>=F?this.wrapInBraces(s):s;if(h=this.variable.isObject(),I&&1===b&&!((v=y[0])instanceof G))return v instanceof n?(T=v,C=T.variable,l=C.base,v=T.value):l=h?v["this"]?v.properties[0].name:v:new x(0),i=g.test(l.unwrap().value||0),j=new z(j),j.properties.push(new(i?t:w)(l)),N=v.unwrap().value,Tt.call($,N)>=0&&v.error("assignment to a reserved word: "+v.compile(e)),new n(v,j,null,{param:this.param}).compileToFragments(e,L);for(M=j.compileToFragments(e,E),B=st(M),r=[],o=!1,(!g.test(B)||this.variable.assigns(B))&&(r.push([this.makeCode((k=e.scope.freeVariable("ref"))+" = ")].concat(Ct.call(M))),M=[this.makeCode(k)],B=k),c=d=0,f=y.length;f>d;c=++d){if(v=y[c],l=c,h&&(v instanceof n?(S=v,D=S.variable,l=D.base,v=S.value):v.base instanceof O?(R=new z(v.unwrapAll()).cacheReference(e),v=R[0],l=R[1]):l=v["this"]?v.properties[0].name:v),!o&&v instanceof G)m=v.name.unwrap().value,v=v.unwrap(),_=b+" <= "+B+".length ? "+bt("slice",e)+".call("+B+", "+c,(A=b-c-1)?(u=e.scope.freeVariable("i",{single:!0}),_+=", "+u+" = "+B+".length - "+A+") : ("+u+" = "+c+", [])"):_+=") : []",_=new x(_),o=u+"++";else{if(!o&&v instanceof p){(A=b-c-1)&&(1===A?o=B+".length - 1":(u=e.scope.freeVariable("i",{single:!0}),_=new x(u+" = "+B+".length - "+A),o=u+"++",r.push(_.compileToFragments(e,E))));continue}m=v.unwrap().value,(v instanceof G||v instanceof p)&&v.error("multiple splats/expansions are disallowed in an assignment"),"number"==typeof l?(l=new x(o||l),i=!1):i=h&&g.test(l.unwrap().value||0),_=new z(new x(B),[new(i?t:w)(l)])}null!=m&&Tt.call($,m)>=0&&v.error("assignment to a reserved word: "+v.compile(e)),r.push(new n(v,_,null,{param:this.param,subpattern:!0}).compileToFragments(e,E))}return I||this.subpattern||r.push(M),a=this.joinFragmentArrays(r,", "),E>e.level?a:this.wrapInBraces(a)},n.prototype.compileConditional=function(e){var t,i,r,s;return r=this.variable.cacheReference(e),i=r[0],s=r[1],!i.properties.length&&i.base instanceof x&&"this"!==i.base.value&&!e.scope.check(i.base.value)&&this.variable.error('the variable "'+i.base.value+"\" can't be assigned with "+this.context+" because it has not been declared before"),Tt.call(this.context,"?")>=0?(e.isExistentialEquals=!0,new b(new u(i),s,{type:"if"}).addElse(new n(s,this.value,"=")).compileToFragments(e)):(t=new I(this.context.slice(0,-1),i,new n(s,this.value,"=")).compileToFragments(e),E>=e.level?t:this.wrapInBraces(t))},n.prototype.compileSpecialMath=function(e){var t,i,r;return i=this.variable.cacheReference(e),t=i[0],r=i[1],new n(t,new I(this.context.slice(0,-1),r,this.value)).compileToFragments(e)},n.prototype.compileSplice=function(e){var t,n,i,r,s,o,a,c,l,h,u,p;return a=this.variable.properties.pop().range,i=a.from,h=a.to,n=a.exclusive,o=this.variable.compile(e),i?(c=this.cacheToCodeFragments(i.cache(e,F)),r=c[0],s=c[1]):r=s="0",h?i instanceof z&&i.isSimpleNumber()&&h instanceof z&&h.isSimpleNumber()?(h=h.compile(e)-s,n||(h+=1)):(h=h.compile(e,T)+" - "+s,n||(h+=" + 1")):h="9e9",l=this.value.cache(e,E),u=l[0],p=l[1],t=[].concat(this.makeCode("[].splice.apply("+o+", ["+r+", "+h+"].concat("),u,this.makeCode(")), "),p),e.level>L?this.wrapInBraces(t):t},n}(r),e.Code=c=function(e){function t(e,t,n){this.params=e||[],this.body=t||new s,this.bound="boundfunc"===n,this.isGenerator=!!this.body.contains(function(e){var t;return e instanceof I&&("yield"===(t=e.operator)||"yield*"===t)})}return kt(t,e),t.prototype.children=["params","body"],t.prototype.isStatement=function(){return!!this.ctor},t.prototype.jumps=D,t.prototype.makeScope=function(e){return new P(e,this.body,this)},t.prototype.compileNode=function(e){var r,a,c,l,h,u,d,f,m,g,v,y,k,w,C,E,F,N,L,S,D,R,A,O,$,j,M,B,V,P,U,G,H;if(this.bound&&(null!=(A=e.scope.method)?A.bound:void 0)&&(this.context=e.scope.method.context),this.bound&&!this.context)return this.context="_this",H=new t([new _(new x(this.context))],new s([this])),a=new o(H,[new x("this")]),a.updateLocationDataIfMissing(this.locationData),a.compileNode(e);for(e.scope=tt(e,"classScope")||this.makeScope(e.scope),e.scope.shared=tt(e,"sharedScope"),e.indent+=q,delete e.bare,delete e.isExistentialEquals,L=[],l=[],O=this.params,u=0,m=O.length;m>u;u++)N=O[u],N instanceof p||e.scope.parameter(N.asReference(e));for($=this.params,d=0,g=$.length;g>d;d++)if(N=$[d],N.splat||N instanceof p){for(j=this.params,f=0,v=j.length;v>f;f++)F=j[f],F instanceof p||!F.name.value||e.scope.add(F.name.value,"var",!0);V=new i(new z(new n(function(){var t,n,i,r;for(i=this.params,r=[],n=0,t=i.length;t>n;n++)F=i[n],r.push(F.asReference(e));return r}.call(this))),new z(new x("arguments")));break}for(M=this.params,E=0,y=M.length;y>E;E++)N=M[E],N.isComplex()?(U=R=N.asReference(e),N.value&&(U=new I("?",R,N.value)),l.push(new i(new z(N.name),U,"=",{param:!0}))):(R=N,N.value&&(C=new x(R.name.value+" == null"),U=new i(new z(N.name),N.value,"="),l.push(new b(C,U)))),V||L.push(R);for(G=this.body.isEmpty(),V&&l.unshift(V),l.length&&(B=this.body.expressions).unshift.apply(B,l),h=S=0,k=L.length;k>S;h=++S)F=L[h],L[h]=F.compileToFragments(e),e.scope.parameter(st(L[h]));for(P=[],this.eachParamName(function(e,t){return Tt.call(P,e)>=0&&t.error("multiple parameters named "+e),P.push(e)}),G||this.noReturn||this.body.makeReturn(),c="function",this.isGenerator&&(c+="*"),this.ctor&&(c+=" "+this.name),c+="(",r=[this.makeCode(c)],h=D=0,w=L.length;w>D;h=++D)F=L[h],h&&r.push(this.makeCode(", ")),r.push.apply(r,F);return r.push(this.makeCode(") {")),this.body.isEmpty()||(r=r.concat(this.makeCode("\n"),this.body.compileWithDeclarations(e),this.makeCode("\n"+this.tab))),r.push(this.makeCode("}")),this.ctor?[this.makeCode(this.tab)].concat(Ct.call(r)):this.front||e.level>=T?this.wrapInBraces(r):r},t.prototype.eachParamName=function(e){var t,n,i,r,s;for(r=this.params,s=[],t=0,n=r.length;n>t;t++)i=r[t],s.push(i.eachName(e));return s},t.prototype.traverseChildren=function(e,n){return e?t.__super__.traverseChildren.call(this,e,n):void 0},t}(r),e.Param=_=function(e){function t(e,t,n){var i,r;this.name=e,this.value=t,this.splat=n,r=i=this.name.unwrapAll().value,Tt.call(V,r)>=0&&this.name.error('parameter name "'+i+'" is not allowed')}return kt(t,e),t.prototype.children=["name","value"],t.prototype.compileToFragments=function(e){return this.name.compileToFragments(e,E)},t.prototype.asReference=function(e){var t,n;return this.reference?this.reference:(n=this.name,n["this"]?(t=n.properties[0].name.value,t.reserved&&(t="_"+t),n=new x(e.scope.freeVariable(t))):n.isComplex()&&(n=new x(e.scope.freeVariable("arg"))),n=new z(n),this.splat&&(n=new G(n)),n.updateLocationDataIfMissing(this.locationData),this.reference=n)},t.prototype.isComplex=function(){return this.name.isComplex()},t.prototype.eachName=function(e,t){var n,r,s,o,a,c;if(null==t&&(t=this.name),n=function(t){return e("@"+t.properties[0].name.value,t)},t instanceof x)return e(t.value,t);if(t instanceof z)return n(t);for(c=t.objects,r=0,s=c.length;s>r;r++)a=c[r],a instanceof i?this.eachName(e,a.value.unwrap()):a instanceof G?(o=a.name.unwrap(),e(o.value,o)):a instanceof z?a.isArray()||a.isObject()?this.eachName(e,a.base):a["this"]?n(a):e(a.base.value,a.base):a instanceof p||a.error("illegal parameter "+a.compile())},t}(r),e.Splat=G=function(e){function t(e){this.name=e.compile?e:new x(e)}return kt(t,e),t.prototype.children=["name"],t.prototype.isAssignable=Q,t.prototype.assigns=function(e){return this.name.assigns(e)},t.prototype.compileToFragments=function(e){return this.name.compileToFragments(e)},t.prototype.unwrap=function(){return this.name},t.compileSplattedArray=function(e,n,i){var r,s,o,a,c,l,h,u,p,d,f;for(h=-1;(f=n[++h])&&!(f instanceof t););if(h>=n.length)return[];if(1===n.length)return f=n[0],c=f.compileToFragments(e,E),i?c:[].concat(f.makeCode(bt("slice",e)+".call("),c,f.makeCode(")"));for(r=n.slice(h),l=u=0,d=r.length;d>u;l=++u)f=r[l],o=f.compileToFragments(e,E),r[l]=f instanceof t?[].concat(f.makeCode(bt("slice",e)+".call("),o,f.makeCode(")")):[].concat(f.makeCode("["),o,f.makeCode("]"));return 0===h?(f=n[0],a=f.joinFragmentArrays(r.slice(1),", "),r[0].concat(f.makeCode(".concat("),a,f.makeCode(")"))):(s=function(){var t,i,r,s;for(r=n.slice(0,h),s=[],t=0,i=r.length;i>t;t++)f=r[t],s.push(f.compileToFragments(e,E));return s}(),s=n[0].joinFragmentArrays(s,", "),a=n[h].joinFragmentArrays(r,", "),p=n[n.length-1],[].concat(n[0].makeCode("["),s,n[h].makeCode("].concat("),a,p.makeCode(")")))},t}(r),e.Expansion=p=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return kt(t,e),t.prototype.isComplex=D,t.prototype.compileNode=function(){return this.error("Expansion must be used inside a destructuring assignment or parameter list")},t.prototype.asReference=function(){return this},t.prototype.eachName=function(){},t}(r),e.While=J=function(e){function t(e,t){this.condition=(null!=t?t.invert:void 0)?e.invert():e,this.guard=null!=t?t.guard:void 0}return kt(t,e),t.prototype.children=["condition","guard","body"],t.prototype.isStatement=Q,t.prototype.makeReturn=function(e){return e?t.__super__.makeReturn.apply(this,arguments):(this.returns=!this.jumps({loop:!0}),this)},t.prototype.addBody=function(e){return this.body=e,this},t.prototype.jumps=function(){var e,t,n,i,r;if(e=this.body.expressions,!e.length)return!1;for(t=0,i=e.length;i>t;t++)if(r=e[t],n=r.jumps({loop:!0}))return n;return!1},t.prototype.compileNode=function(e){var t,n,i,r;return e.indent+=q,r="",n=this.body,n.isEmpty()?n=this.makeCode(""):(this.returns&&(n.makeReturn(i=e.scope.freeVariable("results")),r=""+this.tab+i+" = [];\n"),this.guard&&(n.expressions.length>1?n.expressions.unshift(new b(new O(this.guard).invert(),new x("continue"))):this.guard&&(n=s.wrap([new b(this.guard,n)]))),n=[].concat(this.makeCode("\n"),n.compileToFragments(e,L),this.makeCode("\n"+this.tab))),t=[].concat(this.makeCode(r+this.tab+"while ("),this.condition.compileToFragments(e,N),this.makeCode(") {"),n,this.makeCode("}")),this.returns&&t.push(this.makeCode("\n"+this.tab+"return "+i+";")),t},t}(r),e.Op=I=function(e){function n(e,t,n,i){if("in"===e)return new k(t,n);if("do"===e)return this.generateDo(t);if("new"===e){if(t instanceof o&&!t["do"]&&!t.isNew)return t.newInstance();(t instanceof c&&t.bound||t["do"])&&(t=new O(t))}return this.operator=r[e]||e,this.first=t,this.second=n,this.flip=!!i,this}var r,s;return kt(n,e),r={"==":"===","!=":"!==",of:"in",yieldfrom:"yield*"},s={"!==":"===","===":"!=="},n.prototype.children=["first","second"],n.prototype.isSimpleNumber=D,n.prototype.isYield=function(){var e;return"yield"===(e=this.operator)||"yield*"===e},n.prototype.isYieldReturn=function(){return this.isYield()&&this.first instanceof M},n.prototype.isUnary=function(){return!this.second},n.prototype.isComplex=function(){var e;return!(this.isUnary()&&("+"===(e=this.operator)||"-"===e)&&this.first instanceof z&&this.first.isSimpleNumber())},n.prototype.isChainable=function(){var e;return"<"===(e=this.operator)||">"===e||">="===e||"<="===e||"==="===e||"!=="===e},n.prototype.invert=function(){var e,t,i,r,o;if(this.isChainable()&&this.first.isChainable()){for(e=!0,t=this;t&&t.operator;)e&&(e=t.operator in s),t=t.first;if(!e)return new O(this).invert();for(t=this;t&&t.operator;)t.invert=!t.invert,t.operator=s[t.operator],t=t.first;return this}return(r=s[this.operator])?(this.operator=r,this.first.unwrap()instanceof n&&this.first.invert(),this):this.second?new O(this).invert():"!"===this.operator&&(i=this.first.unwrap())instanceof n&&("!"===(o=i.operator)||"in"===o||"instanceof"===o)?i:new n("!",this)},n.prototype.unfoldSoak=function(e){var t;return("++"===(t=this.operator)||"--"===t||"delete"===t)&&yt(e,this,"first")},n.prototype.generateDo=function(e){var t,n,r,s,a,l,h,u;for(l=[],n=e instanceof i&&(h=e.value.unwrap())instanceof c?h:e,u=n.params||[],r=0,s=u.length;s>r;r++)a=u[r],a.value?(l.push(a.value),delete a.value):l.push(a);return t=new o(e,l),t["do"]=!0,t},n.prototype.compileNode=function(e){var t,n,i,r,s,o;if(n=this.isChainable()&&this.first.isChainable(),n||(this.first.front=this.front),"delete"===this.operator&&e.scope.check(this.first.unwrapAll().value)&&this.error("delete operand may not be argument or var"),("--"===(r=this.operator)||"++"===r)&&(s=this.first.unwrapAll().value,Tt.call(V,s)>=0)&&this.error('cannot increment/decrement "'+this.first.unwrapAll().value+'"'),this.isYield())return this.compileYield(e);if(this.isUnary())return this.compileUnary(e);if(n)return this.compileChain(e);switch(this.operator){case"?":return this.compileExistence(e);case"**":return this.compilePower(e);case"//":return this.compileFloorDivision(e);case"%%":return this.compileModulo(e);default:return i=this.first.compileToFragments(e,F),o=this.second.compileToFragments(e,F),t=[].concat(i,this.makeCode(" "+this.operator+" "),o),F>=e.level?t:this.wrapInBraces(t)}},n.prototype.compileChain=function(e){var t,n,i,r;return i=this.first.second.cache(e),this.first.second=i[0],r=i[1],n=this.first.compileToFragments(e,F),t=n.concat(this.makeCode(" "+(this.invert?"&&":"||")+" "),r.compileToFragments(e),this.makeCode(" "+this.operator+" "),this.second.compileToFragments(e,F)),this.wrapInBraces(t)},n.prototype.compileExistence=function(e){var t,n;return this.first.isComplex()?(n=new x(e.scope.freeVariable("ref")),t=new O(new i(n,this.first))):(t=this.first,n=t),new b(new u(t),n,{type:"if"}).addElse(this.second).compileToFragments(e)},n.prototype.compileUnary=function(e){var t,i,r;return i=[],t=this.operator,i.push([this.makeCode(t)]),"!"===t&&this.first instanceof u?(this.first.negated=!this.first.negated,this.first.compileToFragments(e)):e.level>=T?new O(this).compileToFragments(e):(r="+"===t||"-"===t,("new"===t||"typeof"===t||"delete"===t||r&&this.first instanceof n&&this.first.operator===t)&&i.push([this.makeCode(" ")]),(r&&this.first instanceof n||"new"===t&&this.first.isStatement(e))&&(this.first=new O(this.first)),i.push(this.first.compileToFragments(e,F)),this.flip&&i.reverse(),this.joinFragmentArrays(i,""))},n.prototype.compileYield=function(e){var t,n;return n=[],t=this.operator,null==e.scope.parent&&this.error("yield statements must occur within a function generator."),Tt.call(Object.keys(this.first),"expression")>=0&&!(this.first instanceof W)?this.isYieldReturn()?n.push(this.first.compileToFragments(e,L)):null!=this.first.expression&&n.push(this.first.expression.compileToFragments(e,F)):(n.push([this.makeCode("("+t+" ")]),n.push(this.first.compileToFragments(e,F)),n.push([this.makeCode(")")])),this.joinFragmentArrays(n,"")},n.prototype.compilePower=function(e){var n;return n=new z(new x("Math"),[new t(new x("pow"))]),new o(n,[this.first,this.second]).compileToFragments(e)},n.prototype.compileFloorDivision=function(e){var i,r;return r=new z(new x("Math"),[new t(new x("floor"))]),i=new n("/",this.first,this.second),new o(r,[i]).compileToFragments(e)},n.prototype.compileModulo=function(e){var t;return t=new z(new x(bt("modulo",e))),new o(t,[this.first,this.second]).compileToFragments(e)},n.prototype.toString=function(e){return n.__super__.toString.call(this,e,this.constructor.name+" "+this.operator)},n}(r),e.In=k=function(e){function t(e,t){this.object=e,this.array=t}return kt(t,e),t.prototype.children=["object","array"],t.prototype.invert=S,t.prototype.compileNode=function(e){var t,n,i,r,s;if(this.array instanceof z&&this.array.isArray()&&this.array.base.objects.length){for(s=this.array.base.objects,n=0,i=s.length;i>n;n++)if(r=s[n],r instanceof G){t=!0;break}if(!t)return this.compileOrTest(e)}return this.compileLoopTest(e)},t.prototype.compileOrTest=function(e){var t,n,i,r,s,o,a,c,l,h,u,p;for(c=this.object.cache(e,F),u=c[0],a=c[1],l=this.negated?[" !== "," && "]:[" === "," || "],t=l[0],n=l[1],p=[],h=this.array.base.objects,i=s=0,o=h.length;o>s;i=++s)r=h[i],i&&p.push(this.makeCode(n)),p=p.concat(i?a:u,this.makeCode(t),r.compileToFragments(e,T));return F>e.level?p:this.wrapInBraces(p)},t.prototype.compileLoopTest=function(e){var t,n,i,r;return i=this.object.cache(e,E),r=i[0],n=i[1],t=[].concat(this.makeCode(bt("indexOf",e)+".call("),this.array.compileToFragments(e,E),this.makeCode(", "),n,this.makeCode(") "+(this.negated?"< 0":">= 0"))),st(r)===st(n)?t:(t=r.concat(this.makeCode(", "),t),E>e.level?t:this.wrapInBraces(t))},t.prototype.toString=function(e){return t.__super__.toString.call(this,e,this.constructor.name+(this.negated?"!":""))},t}(r),e.Try=Y=function(e){function t(e,t,n,i){this.attempt=e,this.errorVariable=t,this.recovery=n,this.ensure=i}return kt(t,e),t.prototype.children=["attempt","recovery","ensure"],t.prototype.isStatement=Q,t.prototype.jumps=function(e){var t;return this.attempt.jumps(e)||(null!=(t=this.recovery)?t.jumps(e):void 0)},t.prototype.makeReturn=function(e){return this.attempt&&(this.attempt=this.attempt.makeReturn(e)),this.recovery&&(this.recovery=this.recovery.makeReturn(e)),this},t.prototype.compileNode=function(e){var t,n,r,s;return e.indent+=q,s=this.attempt.compileToFragments(e,L),t=this.recovery?(r=new x("_error"),this.errorVariable?this.recovery.unshift(new i(this.errorVariable,r)):void 0,[].concat(this.makeCode(" catch ("),r.compileToFragments(e),this.makeCode(") {\n"),this.recovery.compileToFragments(e,L),this.makeCode("\n"+this.tab+"}"))):this.ensure||this.recovery?[]:[this.makeCode(" catch (_error) {}")],n=this.ensure?[].concat(this.makeCode(" finally {\n"),this.ensure.compileToFragments(e,L),this.makeCode("\n"+this.tab+"}")):[],[].concat(this.makeCode(this.tab+"try {\n"),s,this.makeCode("\n"+this.tab+"}"),t,n)},t}(r),e.Throw=W=function(e){function t(e){this.expression=e}return kt(t,e),t.prototype.children=["expression"],t.prototype.isStatement=Q,t.prototype.jumps=D,t.prototype.makeReturn=X,t.prototype.compileNode=function(e){return[].concat(this.makeCode(this.tab+"throw "),this.expression.compileToFragments(e),this.makeCode(";"))},t}(r),e.Existence=u=function(e){function t(e){this.expression=e}return kt(t,e),t.prototype.children=["expression"],t.prototype.invert=S,t.prototype.compileNode=function(e){var t,n,i,r;return this.expression.front=this.front,i=this.expression.compile(e,F),g.test(i)&&!e.scope.check(i)?(r=this.negated?["===","||"]:["!==","&&"],t=r[0],n=r[1],i="typeof "+i+" "+t+' "undefined" '+n+" "+i+" "+t+" null"):i=i+" "+(this.negated?"==":"!=")+" null",[this.makeCode(C>=e.level?i:"("+i+")")]},t}(r),e.Parens=O=function(e){function t(e){this.body=e}return kt(t,e),t.prototype.children=["body"],t.prototype.unwrap=function(){return this.body},t.prototype.isComplex=function(){return this.body.isComplex()},t.prototype.compileNode=function(e){var t,n,i;return n=this.body.unwrap(),n instanceof z&&n.isAtomic()?(n.front=this.front,n.compileToFragments(e)):(i=n.compileToFragments(e,N),t=F>e.level&&(n instanceof I||n instanceof o||n instanceof f&&n.returns),t?i:this.wrapInBraces(i))},t}(r),e.For=f=function(e){function t(e,t){var n;this.source=t.source,this.guard=t.guard,this.step=t.step,this.name=t.name,this.index=t.index,this.body=s.wrap([e]),this.own=!!t.own,this.object=!!t.object,this.object&&(n=[this.index,this.name],this.name=n[0],this.index=n[1]),this.index instanceof z&&this.index.error("index cannot be a pattern matching expression"),this.range=this.source instanceof z&&this.source.base instanceof j&&!this.source.properties.length,this.pattern=this.name instanceof z,this.range&&this.index&&this.index.error("indexes do not apply to range loops"),this.range&&this.pattern&&this.name.error("cannot pattern match over range loops"),this.own&&!this.object&&this.name.error("cannot use own with for-in"),this.returns=!1}return kt(t,e),t.prototype.children=["body","source","guard","step"],t.prototype.compileNode=function(e){var t,n,r,o,a,c,l,h,u,p,d,f,m,v,y,k,w,T,C,F,N,S,D,A,I,_,$,j,B,V,P,U,G,H;return t=s.wrap([this.body]),D=t.expressions,T=D[D.length-1],(null!=T?T.jumps():void 0)instanceof M&&(this.returns=!1),B=this.range?this.source.base:this.source,j=e.scope,this.pattern||(F=this.name&&this.name.compile(e,E)),v=this.index&&this.index.compile(e,E),F&&!this.pattern&&j.find(F),v&&j.find(v),this.returns&&($=j.freeVariable("results")),y=this.object&&v||j.freeVariable("i",{single:!0}),k=this.range&&F||v||y,w=k!==y?k+" = ":"",this.step&&!this.range&&(A=this.cacheToCodeFragments(this.step.cache(e,E,ot)),V=A[0],U=A[1],P=U.match(R)),this.pattern&&(F=y),H="",d="",l="",f=this.tab+q,this.range?p=B.compileToFragments(ht(e,{index:y,name:F,step:this.step,isComplex:ot})):(G=this.source.compile(e,E),!F&&!this.own||g.test(G)||(l+=""+this.tab+(S=j.freeVariable("ref"))+" = "+G+";\n",G=S),F&&!this.pattern&&(N=F+" = "+G+"["+k+"]"),this.object||(V!==U&&(l+=""+this.tab+V+";\n"),this.step&&P&&(u=0>pt(P[0]))||(C=j.freeVariable("len")),a=""+w+y+" = 0, "+C+" = "+G+".length",c=""+w+y+" = "+G+".length - 1",r=y+" < "+C,o=y+" >= 0",this.step?(P?u&&(r=o,a=c):(r=U+" > 0 ? "+r+" : "+o,a="("+U+" > 0 ? ("+a+") : "+c+")"),m=y+" += "+U):m=""+(k!==y?"++"+y:y+"++"),p=[this.makeCode(a+"; "+r+"; "+w+m)])),this.returns&&(I=""+this.tab+$+" = [];\n",_="\n"+this.tab+"return "+$+";",t.makeReturn($)),this.guard&&(t.expressions.length>1?t.expressions.unshift(new b(new O(this.guard).invert(),new x("continue"))):this.guard&&(t=s.wrap([new b(this.guard,t)]))),this.pattern&&t.expressions.unshift(new i(this.name,new x(G+"["+k+"]"))),h=[].concat(this.makeCode(l),this.pluckDirectCall(e,t)),N&&(H="\n"+f+N+";"),this.object&&(p=[this.makeCode(k+" in "+G)],this.own&&(d="\n"+f+"if (!"+bt("hasProp",e)+".call("+G+", "+k+")) continue;")),n=t.compileToFragments(ht(e,{indent:f}),L),n&&n.length>0&&(n=[].concat(this.makeCode("\n"),n,this.makeCode("\n"))),[].concat(h,this.makeCode(""+(I||"")+this.tab+"for ("),p,this.makeCode(") {"+d+H),n,this.makeCode(this.tab+"}"+(_||"")))},t.prototype.pluckDirectCall=function(e,t){var n,r,s,a,l,h,u,p,d,f,m,g,v,y,b,k;for(r=[],d=t.expressions,l=h=0,u=d.length;u>h;l=++h)s=d[l],s=s.unwrapAll(),s instanceof o&&(k=null!=(f=s.variable)?f.unwrapAll():void 0,(k instanceof c||k instanceof z&&(null!=(m=k.base)?m.unwrapAll():void 0)instanceof c&&1===k.properties.length&&("call"===(g=null!=(v=k.properties[0].name)?v.value:void 0)||"apply"===g))&&(a=(null!=(y=k.base)?y.unwrapAll():void 0)||k,p=new x(e.scope.freeVariable("fn")),n=new z(p),k.base&&(b=[n,k],k.base=b[0],n=b[1]),t.expressions[l]=new o(n,s.args),r=r.concat(this.makeCode(this.tab),new i(p,a).compileToFragments(e,L),this.makeCode(";\n"))));return r},t}(J),e.Switch=H=function(e){function t(e,t,n){this.subject=e,this.cases=t,this.otherwise=n}return kt(t,e),t.prototype.children=["subject","cases","otherwise"],t.prototype.isStatement=Q,t.prototype.jumps=function(e){var t,n,i,r,s,o,a,c;for(null==e&&(e={block:!0}),o=this.cases,i=0,s=o.length;s>i;i++)if(a=o[i],n=a[0],t=a[1],r=t.jumps(e))return r;return null!=(c=this.otherwise)?c.jumps(e):void 0},t.prototype.makeReturn=function(e){var t,n,i,r,o;for(r=this.cases,t=0,n=r.length;n>t;t++)i=r[t],i[1].makeReturn(e);return e&&(this.otherwise||(this.otherwise=new s([new x("void 0")]))),null!=(o=this.otherwise)&&o.makeReturn(e),this},t.prototype.compileNode=function(e){var t,n,i,r,s,o,a,c,l,h,u,p,d,f,m,g;for(c=e.indent+q,l=e.indent=c+q,o=[].concat(this.makeCode(this.tab+"switch ("),this.subject?this.subject.compileToFragments(e,N):this.makeCode("false"),this.makeCode(") {\n")),f=this.cases,a=h=0,p=f.length;p>h;a=++h){for(m=f[a],r=m[0],t=m[1],g=rt([r]),u=0,d=g.length;d>u;u++)i=g[u],this.subject||(i=i.invert()),o=o.concat(this.makeCode(c+"case "),i.compileToFragments(e,N),this.makeCode(":\n"));if((n=t.compileToFragments(e,L)).length>0&&(o=o.concat(n,this.makeCode("\n"))),a===this.cases.length-1&&!this.otherwise)break;s=this.lastNonComment(t.expressions),s instanceof M||s instanceof x&&s.jumps()&&"debugger"!==s.value||o.push(i.makeCode(l+"break;\n"))}return this.otherwise&&this.otherwise.expressions.length&&o.push.apply(o,[this.makeCode(c+"default:\n")].concat(Ct.call(this.otherwise.compileToFragments(e,L)),[this.makeCode("\n")])),o.push(this.makeCode(this.tab+"}")),o},t}(r),e.If=b=function(e){function t(e,t,n){this.body=t,null==n&&(n={}),this.condition="unless"===n.type?e.invert():e,this.elseBody=null,this.isChain=!1,this.soak=n.soak}return kt(t,e),t.prototype.children=["condition","body","elseBody"],t.prototype.bodyNode=function(){var e;return null!=(e=this.body)?e.unwrap():void 0},t.prototype.elseBodyNode=function(){var e;return null!=(e=this.elseBody)?e.unwrap():void 0},t.prototype.addElse=function(e){return this.isChain?this.elseBodyNode().addElse(e):(this.isChain=e instanceof t,this.elseBody=this.ensureBlock(e),this.elseBody.updateLocationDataIfMissing(e.locationData)),this},t.prototype.isStatement=function(e){var t;return(null!=e?e.level:void 0)===L||this.bodyNode().isStatement(e)||(null!=(t=this.elseBodyNode())?t.isStatement(e):void 0)},t.prototype.jumps=function(e){var t;return this.body.jumps(e)||(null!=(t=this.elseBody)?t.jumps(e):void 0)},t.prototype.compileNode=function(e){return this.isStatement(e)?this.compileStatement(e):this.compileExpression(e)},t.prototype.makeReturn=function(e){return e&&(this.elseBody||(this.elseBody=new s([new x("void 0")]))),this.body&&(this.body=new s([this.body.makeReturn(e)])),this.elseBody&&(this.elseBody=new s([this.elseBody.makeReturn(e)])),this},t.prototype.ensureBlock=function(e){return e instanceof s?e:new s([e])},t.prototype.compileStatement=function(e){var n,i,r,s,o,a,c;return r=tt(e,"chainChild"),(o=tt(e,"isExistentialEquals"))?new t(this.condition.invert(),this.elseBodyNode(),{type:"if"}).compileToFragments(e):(c=e.indent+q,s=this.condition.compileToFragments(e,N),i=this.ensureBlock(this.body).compileToFragments(ht(e,{indent:c})),a=[].concat(this.makeCode("if ("),s,this.makeCode(") {\n"),i,this.makeCode("\n"+this.tab+"}")),r||a.unshift(this.makeCode(this.tab)),this.elseBody?(n=a.concat(this.makeCode(" else ")),this.isChain?(e.chainChild=!0,n=n.concat(this.elseBody.unwrap().compileToFragments(e,L))):n=n.concat(this.makeCode("{\n"),this.elseBody.compileToFragments(ht(e,{indent:c}),L),this.makeCode("\n"+this.tab+"}")),n):a)},t.prototype.compileExpression=function(e){var t,n,i,r;return i=this.condition.compileToFragments(e,C),n=this.bodyNode().compileToFragments(e,E),t=this.elseBodyNode()?this.elseBodyNode().compileToFragments(e,E):[this.makeCode("void 0")],r=i.concat(this.makeCode(" ? "),n,this.makeCode(" : "),t),e.level>=C?this.wrapInBraces(r):r},t.prototype.unfoldSoak=function(){return this.soak&&this},t}(r),K={extend:function(e){return"function(child, parent) { for (var key in parent) { if ("+bt("hasProp",e)+".call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; }"},bind:function(){return"function(fn, me){ return function(){ return fn.apply(me, arguments); }; }"},indexOf:function(){return"[].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; }"},modulo:function(){return"function(a, b) { return (+a % (b = +b) + b) % b; }"},hasProp:function(){return"{}.hasOwnProperty"},slice:function(){return"[].slice"}},L=1,N=2,E=3,C=4,F=5,T=6,q="  ",g=/^(?!\d)[$\w\x7f-\uffff]+$/,B=/^[+-]?\d+$/,m=/^[+-]?0x[\da-f]+/i,R=/^[+-]?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)$/i,y=/^['"]/,v=/^\//,bt=function(e,t){var n,i;return i=t.scope.root,e in i.utilities?i.utilities[e]:(n=i.freeVariable(e),i.assign(n,K[e](t)),i.utilities[e]=n)},ut=function(e,t){return e=e.replace(/\n/g,"$&"+t),e.replace(/\s+$/,"")},pt=function(e){return null==e?0:e.match(m)?parseInt(e,16):parseFloat(e)},at=function(e){return e instanceof x&&"arguments"===e.value&&!e.asKey},ct=function(e){return e instanceof x&&"this"===e.value&&!e.asKey||e instanceof c&&e.bound||e instanceof o&&e.isSuper},ot=function(e){return e.isComplex()||("function"==typeof e.isAssignable?e.isAssignable():void 0)},yt=function(e,t,n){var i;if(i=t[n].unfoldSoak(e))return t[n]=i.body,i.body=new z(t),i}}.call(this),t.exports}(),require["./sourcemap"]=function(){var e={},t={exports:e};return function(){var e,n;e=function(){function e(e){this.line=e,this.columns=[]}return e.prototype.add=function(e,t,n){var i,r;return r=t[0],i=t[1],null==n&&(n={}),this.columns[e]&&n.noReplace?void 0:this.columns[e]={line:this.line,column:e,sourceLine:r,sourceColumn:i}},e.prototype.sourceLocation=function(e){for(var t;!((t=this.columns[e])||0>=e);)e--;return t&&[t.sourceLine,t.sourceColumn]},e}(),n=function(){function t(){this.lines=[]}var n,i,r,s;return t.prototype.add=function(t,n,i){var r,s,o,a;return null==i&&(i={}),o=n[0],s=n[1],a=(r=this.lines)[o]||(r[o]=new e(o)),a.add(s,t,i)},t.prototype.sourceLocation=function(e){var t,n,i;for(n=e[0],t=e[1];!((i=this.lines[n])||0>=n);)n--;return i&&i.sourceLocation(t)},t.prototype.generate=function(e,t){var n,i,r,s,o,a,c,l,h,u,p,d,f,m,g,v;for(null==e&&(e={}),null==t&&(t=null),v=0,s=0,a=0,o=0,d=!1,n="",f=this.lines,u=i=0,c=f.length;c>i;u=++i)if(h=f[u])for(m=h.columns,r=0,l=m.length;l>r;r++)if(p=m[r]){for(;p.line>v;)s=0,d=!1,n+=";",v++;d&&(n+=",",d=!1),n+=this.encodeVlq(p.column-s),s=p.column,n+=this.encodeVlq(0),n+=this.encodeVlq(p.sourceLine-a),a=p.sourceLine,n+=this.encodeVlq(p.sourceColumn-o),o=p.sourceColumn,d=!0}return g={version:3,file:e.generatedFile||"",sourceRoot:e.sourceRoot||"",sources:e.sourceFiles||[""],names:[],mappings:n},e.inline&&(g.sourcesContent=[t]),JSON.stringify(g,null,2)},r=5,i=1<<r,s=i-1,t.prototype.encodeVlq=function(e){var t,n,o,a;for(t="",o=0>e?1:0,a=(Math.abs(e)<<1)+o;a||!t;)n=a&s,a>>=r,a&&(n|=i),t+=this.encodeBase64(n);return t},n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.prototype.encodeBase64=function(e){return n[e]||function(){throw Error("Cannot Base64 encode value: "+e)}()},t}(),t.exports=n}.call(this),t.exports}(),require["./coffee-script"]=function(){var e={},t={exports:e};return function(){var t,n,i,r,s,o,a,c,l,h,u,p,d,f,m,g,v,y,b={}.hasOwnProperty,k=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};if(a=require("fs"),v=require("vm"),f=require("path"),t=require("./lexer").Lexer,d=require("./parser").parser,l=require("./helpers"),n=require("./sourcemap"),e.VERSION="1.9.2",e.FILE_EXTENSIONS=[".coffee",".litcoffee",".coffee.md"],e.helpers=l,y=function(e){return function(t,n){var i;null==n&&(n={});try{return e.call(this,t,n)
}catch(r){throw i=r,l.updateSyntaxError(i,t,n.filename)}}},e.compile=r=y(function(e,t){var i,r,s,o,a,c,h,u,f,m,g,v,y,b,k;for(v=l.merge,o=l.extend,t=o({},t),t.sourceMap&&(g=new n),k=p.tokenize(e,t),t.referencedVars=function(){var e,t,n;for(n=[],e=0,t=k.length;t>e;e++)b=k[e],b.variable&&n.push(b[1]);return n}(),c=d.parse(k).compileToFragments(t),s=0,t.header&&(s+=1),t.shiftLine&&(s+=1),r=0,f="",u=0,m=c.length;m>u;u++)a=c[u],t.sourceMap&&(a.locationData&&g.add([a.locationData.first_line,a.locationData.first_column],[s,r],{noReplace:!0}),y=l.count(a.code,"\n"),s+=y,y?r=a.code.length-(a.code.lastIndexOf("\n")+1):r+=a.code.length),f+=a.code;return t.header&&(h="Generated by CoffeeScript "+this.VERSION,f="// "+h+"\n"+f),t.sourceMap?(i={js:f},i.sourceMap=g,i.v3SourceMap=g.generate(t,e),i):f}),e.tokens=y(function(e,t){return p.tokenize(e,t)}),e.nodes=y(function(e,t){return"string"==typeof e?d.parse(p.tokenize(e,t)):d.parse(e)}),e.run=function(e,t){var n,i,s,o;return null==t&&(t={}),s=require.main,s.filename=process.argv[1]=t.filename?a.realpathSync(t.filename):".",s.moduleCache&&(s.moduleCache={}),i=t.filename?f.dirname(a.realpathSync(t.filename)):a.realpathSync("."),s.paths=require("module")._nodeModulePaths(i),(!l.isCoffee(s.filename)||require.extensions)&&(n=r(e,t),e=null!=(o=n.js)?o:n),s._compile(e,s.filename)},e.eval=function(e,t){var n,i,s,o,a,c,l,h,u,p,d,m,g,y,k,w,T;if(null==t&&(t={}),e=e.trim()){if(o=null!=(m=v.Script.createContext)?m:v.createContext,c=null!=(g=v.isContext)?g:function(){return t.sandbox instanceof o().constructor},o){if(null!=t.sandbox){if(c(t.sandbox))w=t.sandbox;else{w=o(),y=t.sandbox;for(h in y)b.call(y,h)&&(T=y[h],w[h]=T)}w.global=w.root=w.GLOBAL=w}else w=global;if(w.__filename=t.filename||"eval",w.__dirname=f.dirname(w.__filename),w===global&&!w.module&&!w.require){for(n=require("module"),w.module=i=new n(t.modulename||"eval"),w.require=s=function(e){return n._load(e,i,!0)},i.filename=w.__filename,k=Object.getOwnPropertyNames(require),a=0,u=k.length;u>a;a++)d=k[a],"paths"!==d&&(s[d]=require[d]);s.paths=i.paths=n._nodeModulePaths(process.cwd()),s.resolve=function(e){return n._resolveFilename(e,i)}}}p={};for(h in t)b.call(t,h)&&(T=t[h],p[h]=T);return p.bare=!0,l=r(e,p),w===global?v.runInThisContext(l):v.runInContext(l,w)}},e.register=function(){return require("./register")},require.extensions)for(m=this.FILE_EXTENSIONS,h=0,u=m.length;u>h;h++)s=m[h],null==(i=require.extensions)[s]&&(i[s]=function(){throw Error("Use CoffeeScript.register() or require the coffee-script/register module to require "+s+" files.")});e._compileFile=function(e,t){var n,i,s,o;null==t&&(t=!1),s=a.readFileSync(e,"utf8"),o=65279===s.charCodeAt(0)?s.substring(1):s;try{n=r(o,{filename:e,sourceMap:t,literate:l.isLiterate(e)})}catch(c){throw i=c,l.updateSyntaxError(i,o,e)}return n},p=new t,d.lexer={lex:function(){var e,t;return t=d.tokens[this.pos++],t?(e=t[0],this.yytext=t[1],this.yylloc=t[2],d.errorToken=t.origin||t,this.yylineno=this.yylloc.first_line):e="",e},setInput:function(e){return d.tokens=e,this.pos=0},upcomingInput:function(){return""}},d.yy=require("./nodes"),d.yy.parseError=function(e,t){var n,i,r,s,o,a;return o=t.token,s=d.errorToken,a=d.tokens,i=s[0],r=s[1],n=s[2],r=function(){switch(!1){case s!==a[a.length-1]:return"end of input";case"INDENT"!==i&&"OUTDENT"!==i:return"indentation";case"IDENTIFIER"!==i&&"NUMBER"!==i&&"STRING"!==i&&"STRING_START"!==i&&"REGEX"!==i&&"REGEX_START"!==i:return i.replace(/_START$/,"").toLowerCase();default:return l.nameWhitespaceCharacter(r)}}(),l.throwSyntaxError("unexpected "+r,n)},o=function(e,t){var n,i,r,s,o,a,c,l,h,u,p,d;return s=void 0,r="",e.isNative()?r="native":(e.isEval()?(s=e.getScriptNameOrSourceURL(),s||(r=e.getEvalOrigin()+", ")):s=e.getFileName(),s||(s="<anonymous>"),l=e.getLineNumber(),i=e.getColumnNumber(),u=t(s,l,i),r=u?s+":"+u[0]+":"+u[1]:s+":"+l+":"+i),o=e.getFunctionName(),a=e.isConstructor(),c=!(e.isToplevel()||a),c?(h=e.getMethodName(),d=e.getTypeName(),o?(p=n="",d&&o.indexOf(d)&&(p=d+"."),h&&o.indexOf("."+h)!==o.length-h.length-1&&(n=" [as "+h+"]"),""+p+o+n+" ("+r+")"):d+"."+(h||"<anonymous>")+" ("+r+")"):a?"new "+(o||"<anonymous>")+" ("+r+")":o?o+" ("+r+")":r},g={},c=function(t){var n,i;if(g[t])return g[t];if(i=null!=f?f.extname(t):void 0,!(0>k.call(e.FILE_EXTENSIONS,i)))return n=e._compileFile(t,!0),g[t]=n.sourceMap},Error.prepareStackTrace=function(t,n){var i,r,s;return s=function(e,t,n){var i,r;return r=c(e),r&&(i=r.sourceLocation([t-1,n-1])),i?[i[0]+1,i[1]+1]:null},r=function(){var t,r,a;for(a=[],t=0,r=n.length;r>t&&(i=n[t],i.getFunction()!==e.run);t++)a.push("  at "+o(i,s));return a}(),""+t+"\n"+r.join("\n")+"\n"}}.call(this),t.exports}(),require["./browser"]=function(){var exports={},module={exports:exports};return function(){var CoffeeScript,compile,runScripts,indexOf=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};CoffeeScript=require("./coffee-script"),CoffeeScript.require=require,compile=CoffeeScript.compile,CoffeeScript.eval=function(code,options){return null==options&&(options={}),null==options.bare&&(options.bare=!0),eval(compile(code,options))},CoffeeScript.run=function(e,t){return null==t&&(t={}),t.bare=!0,t.shiftLine=!0,Function(compile(e,t))()},"undefined"!=typeof window&&null!==window&&("undefined"!=typeof btoa&&null!==btoa&&"undefined"!=typeof JSON&&null!==JSON&&"undefined"!=typeof unescape&&null!==unescape&&"undefined"!=typeof encodeURIComponent&&null!==encodeURIComponent&&(compile=function(e,t){var n,i,r;return null==t&&(t={}),t.sourceMap=!0,t.inline=!0,i=CoffeeScript.compile(e,t),n=i.js,r=i.v3SourceMap,n+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(r)))+"\n//# sourceURL=coffeescript"}),CoffeeScript.load=function(e,t,n,i){var r;return null==n&&(n={}),null==i&&(i=!1),n.sourceFiles=[e],r=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest,r.open("GET",e,!0),"overrideMimeType"in r&&r.overrideMimeType("text/plain"),r.onreadystatechange=function(){var s,o;if(4===r.readyState){if(0!==(o=r.status)&&200!==o)throw Error("Could not load "+e);if(s=[r.responseText,n],i||CoffeeScript.run.apply(CoffeeScript,s),t)return t(s)}},r.send(null)},runScripts=function(){var e,t,n,i,r,s,o,a,c,l,h;for(h=window.document.getElementsByTagName("script"),t=["text/coffeescript","text/literate-coffeescript"],e=function(){var e,n,i,r;for(r=[],e=0,n=h.length;n>e;e++)c=h[e],i=c.type,indexOf.call(t,i)>=0&&r.push(c);return r}(),s=0,n=function(){var t;return t=e[s],t instanceof Array?(CoffeeScript.run.apply(CoffeeScript,t),s++,n()):void 0},i=function(i,r){var s,o;return s={literate:i.type===t[1]},o=i.src||i.getAttribute("data-src"),o?CoffeeScript.load(o,function(t){return e[r]=t,n()},s,!0):(s.sourceFiles=["embedded"],e[r]=[i.innerHTML,s])},r=o=0,a=e.length;a>o;r=++o)l=e[r],i(l,r);return n()},window.addEventListener?window.addEventListener("DOMContentLoaded",runScripts,!1):window.attachEvent("onload",runScripts))}.call(this),module.exports}(),require["./coffee-script"]}();"function"==typeof define&&define.amd?define(function(){return CoffeeScript}):root.CoffeeScript=CoffeeScript})(this);
/*!
 * typeahead.js 0.9.3
 * https://github.com/twitter/typeahead
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */

(function($) {
    var VERSION = "0.9.3";
    var utils = {
        isMsie: function() {
            var match = /(msie) ([\w.]+)/i.exec(navigator.userAgent);
            return match ? parseInt(match[2], 10) : false;
        },
        isBlankString: function(str) {
            return !str || /^\s*$/.test(str);
        },
        escapeRegExChars: function(str) {
            return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
        },
        isString: function(obj) {
            return typeof obj === "string";
        },
        isNumber: function(obj) {
            return typeof obj === "number";
        },
        isArray: $.isArray,
        isFunction: $.isFunction,
        isObject: $.isPlainObject,
        isUndefined: function(obj) {
            return typeof obj === "undefined";
        },
        bind: $.proxy,
        bindAll: function(obj) {
            var val;
            for (var key in obj) {
                $.isFunction(val = obj[key]) && (obj[key] = $.proxy(val, obj));
            }
        },
        indexOf: function(haystack, needle) {
            for (var i = 0; i < haystack.length; i++) {
                if (haystack[i] === needle) {
                    return i;
                }
            }
            return -1;
        },
        each: $.each,
        map: $.map,
        filter: $.grep,
        every: function(obj, test) {
            var result = true;
            if (!obj) {
                return result;
            }
            $.each(obj, function(key, val) {
                if (!(result = test.call(null, val, key, obj))) {
                    return false;
                }
            });
            return !!result;
        },
        some: function(obj, test) {
            var result = false;
            if (!obj) {
                return result;
            }
            $.each(obj, function(key, val) {
                if (result = test.call(null, val, key, obj)) {
                    return false;
                }
            });
            return !!result;
        },
        mixin: $.extend,
        getUniqueId: function() {
            var counter = 0;
            return function() {
                return counter++;
            };
        }(),
        defer: function(fn) {
            setTimeout(fn, 0);
        },
        debounce: function(func, wait, immediate) {
            var timeout, result;
            return function() {
                var context = this, args = arguments, later, callNow;
                later = function() {
                    timeout = null;
                    if (!immediate) {
                        result = func.apply(context, args);
                    }
                };
                callNow = immediate && !timeout;
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
                if (callNow) {
                    result = func.apply(context, args);
                }
                return result;
            };
        },
        throttle: function(func, wait) {
            var context, args, timeout, result, previous, later;
            previous = 0;
            later = function() {
                previous = new Date();
                timeout = null;
                result = func.apply(context, args);
            };
            return function() {
                var now = new Date(), remaining = wait - (now - previous);
                context = this;
                args = arguments;
                if (remaining <= 0) {
                    clearTimeout(timeout);
                    timeout = null;
                    previous = now;
                    result = func.apply(context, args);
                } else if (!timeout) {
                    timeout = setTimeout(later, remaining);
                }
                return result;
            };
        },
        tokenizeQuery: function(str) {
            return $.trim(str).toLowerCase().split(/[\s]+/);
        },
        tokenizeText: function(str) {
            return $.trim(str).toLowerCase().split(/[\s\-_]+/);
        },
        getProtocol: function() {
            return location.protocol;
        },
        noop: function() {}
    };
    var EventTarget = function() {
        var eventSplitter = /\s+/;
        return {
            on: function(events, callback) {
                var event;
                if (!callback) {
                    return this;
                }
                this._callbacks = this._callbacks || {};
                events = events.split(eventSplitter);
                while (event = events.shift()) {
                    this._callbacks[event] = this._callbacks[event] || [];
                    this._callbacks[event].push(callback);
                }
                return this;
            },
            trigger: function(events, data) {
                var event, callbacks;
                if (!this._callbacks) {
                    return this;
                }
                events = events.split(eventSplitter);
                while (event = events.shift()) {
                    if (callbacks = this._callbacks[event]) {
                        for (var i = 0; i < callbacks.length; i += 1) {
                            callbacks[i].call(this, {
                                type: event,
                                data: data
                            });
                        }
                    }
                }
                return this;
            }
        };
    }();
    var EventBus = function() {
        var namespace = "typeahead:";
        function EventBus(o) {
            if (!o || !o.el) {
                $.error("EventBus initialized without el");
            }
            this.$el = $(o.el);
        }
        utils.mixin(EventBus.prototype, {
            trigger: function(type) {
                var args = [].slice.call(arguments, 1);
                this.$el.trigger(namespace + type, args);
            }
        });
        return EventBus;
    }();
    var PersistentStorage = function() {
        var ls, methods;
        try {
            ls = window.localStorage;
            ls.setItem("~~~", "!");
            ls.removeItem("~~~");
        } catch (err) {
            ls = null;
        }
        function PersistentStorage(namespace) {
            this.prefix = [ "__", namespace, "__" ].join("");
            this.ttlKey = "__ttl__";
            this.keyMatcher = new RegExp("^" + this.prefix);
        }
        if (ls && window.JSON) {
            methods = {
                _prefix: function(key) {
                    return this.prefix + key;
                },
                _ttlKey: function(key) {
                    return this._prefix(key) + this.ttlKey;
                },
                get: function(key) {
                    if (this.isExpired(key)) {
                        this.remove(key);
                    }
                    return decode(ls.getItem(this._prefix(key)));
                },
                set: function(key, val, ttl) {
                    if (utils.isNumber(ttl)) {
                        ls.setItem(this._ttlKey(key), encode(now() + ttl));
                    } else {
                        ls.removeItem(this._ttlKey(key));
                    }
                    return ls.setItem(this._prefix(key), encode(val));
                },
                remove: function(key) {
                    ls.removeItem(this._ttlKey(key));
                    ls.removeItem(this._prefix(key));
                    return this;
                },
                clear: function() {
                    var i, key, keys = [], len = ls.length;
                    for (i = 0; i < len; i++) {
                        if ((key = ls.key(i)).match(this.keyMatcher)) {
                            keys.push(key.replace(this.keyMatcher, ""));
                        }
                    }
                    for (i = keys.length; i--; ) {
                        this.remove(keys[i]);
                    }
                    return this;
                },
                isExpired: function(key) {
                    var ttl = decode(ls.getItem(this._ttlKey(key)));
                    return utils.isNumber(ttl) && now() > ttl ? true : false;
                }
            };
        } else {
            methods = {
                get: utils.noop,
                set: utils.noop,
                remove: utils.noop,
                clear: utils.noop,
                isExpired: utils.noop
            };
        }
        utils.mixin(PersistentStorage.prototype, methods);
        return PersistentStorage;
        function now() {
            return new Date().getTime();
        }
        function encode(val) {
            return JSON.stringify(utils.isUndefined(val) ? null : val);
        }
        function decode(val) {
            return JSON.parse(val);
        }
    }();
    var RequestCache = function() {
        function RequestCache(o) {
            utils.bindAll(this);
            o = o || {};
            this.sizeLimit = o.sizeLimit || 10;
            this.cache = {};
            this.cachedKeysByAge = [];
        }
        utils.mixin(RequestCache.prototype, {
            get: function(url) {
                return this.cache[url];
            },
            set: function(url, resp) {
                var requestToEvict;
                if (this.cachedKeysByAge.length === this.sizeLimit) {
                    requestToEvict = this.cachedKeysByAge.shift();
                    delete this.cache[requestToEvict];
                }
                this.cache[url] = resp;
                this.cachedKeysByAge.push(url);
            }
        });
        return RequestCache;
    }();
    var Transport = function() {
        var pendingRequestsCount = 0, pendingRequests = {}, maxPendingRequests, requestCache;
        function Transport(o) {
            utils.bindAll(this);
            o = utils.isString(o) ? {
                url: o
            } : o;
            requestCache = requestCache || new RequestCache();
            maxPendingRequests = utils.isNumber(o.maxParallelRequests) ? o.maxParallelRequests : maxPendingRequests || 6;
            this.url = o.url;
            this.wildcard = o.wildcard || "%QUERY";
            this.filter = o.filter;
            this.replace = o.replace;
            this.ajaxSettings = {
                type: "get",
                cache: o.cache,
                timeout: o.timeout,
                dataType: o.dataType || "json",
                beforeSend: o.beforeSend
            };
            this._get = (/^throttle$/i.test(o.rateLimitFn) ? utils.throttle : utils.debounce)(this._get, o.rateLimitWait || 300);
        }
        utils.mixin(Transport.prototype, {
            _get: function(url, cb) {
                var that = this;
                if (belowPendingRequestsThreshold()) {
                    this._sendRequest(url).done(done);
                } else {
                    this.onDeckRequestArgs = [].slice.call(arguments, 0);
                }
                function done(resp) {
                    var data = that.filter ? that.filter(resp) : resp;
                    cb && cb(data);
                    requestCache.set(url, resp);
                }
            },
            _sendRequest: function(url) {
                var that = this, jqXhr = pendingRequests[url];
                if (!jqXhr) {
                    incrementPendingRequests();
                    jqXhr = pendingRequests[url] = $.ajax(url, this.ajaxSettings).always(always);
                }
                return jqXhr;
                function always() {
                    decrementPendingRequests();
                    pendingRequests[url] = null;
                    if (that.onDeckRequestArgs) {
                        that._get.apply(that, that.onDeckRequestArgs);
                        that.onDeckRequestArgs = null;
                    }
                }
            },
            get: function(query, cb) {
                var that = this, encodedQuery = encodeURIComponent(query || ""), url, resp;
                cb = cb || utils.noop;
                url = this.replace ? this.replace(this.url, encodedQuery) : this.url.replace(this.wildcard, encodedQuery);
                if (resp = requestCache.get(url)) {
                    utils.defer(function() {
                        cb(that.filter ? that.filter(resp) : resp);
                    });
                } else {
                    this._get(url, cb);
                }
                return !!resp;
            }
        });
        return Transport;
        function incrementPendingRequests() {
            pendingRequestsCount++;
        }
        function decrementPendingRequests() {
            pendingRequestsCount--;
        }
        function belowPendingRequestsThreshold() {
            return pendingRequestsCount < maxPendingRequests;
        }
    }();
    var Dataset = function() {
        var keys = {
            thumbprint: "thumbprint",
            protocol: "protocol",
            itemHash: "itemHash",
            adjacencyList: "adjacencyList"
        };
        function Dataset(o) {
            utils.bindAll(this);
            if (utils.isString(o.template) && !o.engine) {
                $.error("no template engine specified");
            }
            if (!o.local && !o.prefetch && !o.remote) {
                $.error("one of local, prefetch, or remote is required");
            }
            this.name = o.name || utils.getUniqueId();
            this.limit = o.limit || 5;
            this.minLength = o.minLength || 1;
            this.header = o.header;
            this.footer = o.footer;
            this.valueKey = o.valueKey || "value";
            this.template = compileTemplate(o.template, o.engine, this.valueKey);
            this.local = o.local;
            this.prefetch = o.prefetch;
            this.remote = o.remote;
            this.itemHash = {};
            this.adjacencyList = {};
            this.storage = o.name ? new PersistentStorage(o.name) : null;
        }
        utils.mixin(Dataset.prototype, {
            _processLocalData: function(data) {
                this._mergeProcessedData(this._processData(data));
            },
            _loadPrefetchData: function(o) {
                var that = this, thumbprint = VERSION + (o.thumbprint || ""), storedThumbprint, storedProtocol, storedItemHash, storedAdjacencyList, isExpired, deferred;
                if (this.storage) {
                    storedThumbprint = this.storage.get(keys.thumbprint);
                    storedProtocol = this.storage.get(keys.protocol);
                    storedItemHash = this.storage.get(keys.itemHash);
                    storedAdjacencyList = this.storage.get(keys.adjacencyList);
                }
                isExpired = storedThumbprint !== thumbprint || storedProtocol !== utils.getProtocol();
                o = utils.isString(o) ? {
                    url: o
                } : o;
                o.ttl = utils.isNumber(o.ttl) ? o.ttl : 24 * 60 * 60 * 1e3;
                if (storedItemHash && storedAdjacencyList && !isExpired) {
                    this._mergeProcessedData({
                        itemHash: storedItemHash,
                        adjacencyList: storedAdjacencyList
                    });
                    deferred = $.Deferred().resolve();
                } else {
                    deferred = $.getJSON(o.url).done(processPrefetchData);
                }
                return deferred;
                function processPrefetchData(data) {
                    var filteredData = o.filter ? o.filter(data) : data, processedData = that._processData(filteredData), itemHash = processedData.itemHash, adjacencyList = processedData.adjacencyList;
                    if (that.storage) {
                        that.storage.set(keys.itemHash, itemHash, o.ttl);
                        that.storage.set(keys.adjacencyList, adjacencyList, o.ttl);
                        that.storage.set(keys.thumbprint, thumbprint, o.ttl);
                        that.storage.set(keys.protocol, utils.getProtocol(), o.ttl);
                    }
                    that._mergeProcessedData(processedData);
                }
            },
            _transformDatum: function(datum) {
                var value = utils.isString(datum) ? datum : datum[this.valueKey], tokens = datum.tokens || utils.tokenizeText(value), item = {
                    value: value,
                    tokens: tokens
                };
                if (utils.isString(datum)) {
                    item.datum = {};
                    item.datum[this.valueKey] = datum;
                } else {
                    item.datum = datum;
                }
                item.tokens = utils.filter(item.tokens, function(token) {
                    return !utils.isBlankString(token);
                });
                item.tokens = utils.map(item.tokens, function(token) {
                    return token.toLowerCase();
                });
                return item;
            },
            _processData: function(data) {
                var that = this, itemHash = {}, adjacencyList = {};
                utils.each(data, function(i, datum) {
                    var item = that._transformDatum(datum), id = utils.getUniqueId(item.value);
                    itemHash[id] = item;
                    utils.each(item.tokens, function(i, token) {
                        var character = token.charAt(0), adjacency = adjacencyList[character] || (adjacencyList[character] = [ id ]);
                        !~utils.indexOf(adjacency, id) && adjacency.push(id);
                    });
                });
                return {
                    itemHash: itemHash,
                    adjacencyList: adjacencyList
                };
            },
            _mergeProcessedData: function(processedData) {
                var that = this;
                utils.mixin(this.itemHash, processedData.itemHash);
                utils.each(processedData.adjacencyList, function(character, adjacency) {
                    var masterAdjacency = that.adjacencyList[character];
                    that.adjacencyList[character] = masterAdjacency ? masterAdjacency.concat(adjacency) : adjacency;
                });
            },
            _getLocalSuggestions: function(terms) {
                var that = this, firstChars = [], lists = [], shortestList, suggestions = [];
                utils.each(terms, function(i, term) {
                    var firstChar = term.charAt(0);
                    !~utils.indexOf(firstChars, firstChar) && firstChars.push(firstChar);
                });
                utils.each(firstChars, function(i, firstChar) {
                    var list = that.adjacencyList[firstChar];
                    if (!list) {
                        return false;
                    }
                    lists.push(list);
                    if (!shortestList || list.length < shortestList.length) {
                        shortestList = list;
                    }
                });
                if (lists.length < firstChars.length) {
                    return [];
                }
                utils.each(shortestList, function(i, id) {
                    var item = that.itemHash[id], isCandidate, isMatch;
                    isCandidate = utils.every(lists, function(list) {
                        return ~utils.indexOf(list, id);
                    });
                    isMatch = isCandidate && utils.every(terms, function(term) {
                        return utils.some(item.tokens, function(token) {
                            return token.indexOf(term) === 0;
                        });
                    });
                    isMatch && suggestions.push(item);
                });
                return suggestions;
            },
            initialize: function() {
                var deferred;
                this.local && this._processLocalData(this.local);
                this.transport = this.remote ? new Transport(this.remote) : null;
                deferred = this.prefetch ? this._loadPrefetchData(this.prefetch) : $.Deferred().resolve();
                this.local = this.prefetch = this.remote = null;
                this.initialize = function() {
                    return deferred;
                };
                return deferred;
            },
            getSuggestions: function(query, cb) {
                var that = this, terms, suggestions, cacheHit = false;
                if (query.length < this.minLength) {
                    return;
                }
                terms = utils.tokenizeQuery(query);
                suggestions = this._getLocalSuggestions(terms).slice(0, this.limit);
                if (suggestions.length < this.limit && this.transport) {
                    cacheHit = this.transport.get(query, processRemoteData);
                }
                !cacheHit && cb && cb(suggestions);
                function processRemoteData(data) {
                    suggestions = suggestions.slice(0);
                    utils.each(data, function(i, datum) {
                        var item = that._transformDatum(datum), isDuplicate;
                        isDuplicate = utils.some(suggestions, function(suggestion) {
                            return item.value === suggestion.value;
                        });
                        !isDuplicate && suggestions.push(item);
                        return suggestions.length < that.limit;
                    });
                    cb && cb(suggestions);
                }
            }
        });
        return Dataset;
        function compileTemplate(template, engine, valueKey) {
            var renderFn, compiledTemplate;
            if (utils.isFunction(template)) {
                renderFn = template;
            } else if (utils.isString(template)) {
                compiledTemplate = engine.compile(template);
                renderFn = utils.bind(compiledTemplate.render, compiledTemplate);
            } else {
                renderFn = function(context) {
                    return "<p>" + context[valueKey] + "</p>";
                };
            }
            return renderFn;
        }
    }();
    var InputView = function() {
        function InputView(o) {
            var that = this;
            utils.bindAll(this);
            this.specialKeyCodeMap = {
                9: "tab",
                27: "esc",
                37: "left",
                39: "right",
                13: "enter",
                38: "up",
                40: "down"
            };
            this.$hint = $(o.hint);
            this.$input = $(o.input).on("blur.tt", this._handleBlur).on("focus.tt", this._handleFocus).on("keydown.tt", this._handleSpecialKeyEvent);
            if (!utils.isMsie()) {
                this.$input.on("input.tt", this._compareQueryToInputValue);
            } else {
                this.$input.on("keydown.tt keypress.tt cut.tt paste.tt", function($e) {
                    if (that.specialKeyCodeMap[$e.which || $e.keyCode]) {
                        return;
                    }
                    utils.defer(that._compareQueryToInputValue);
                });
            }
            this.query = this.$input.val();
            this.$overflowHelper = buildOverflowHelper(this.$input);
        }
        utils.mixin(InputView.prototype, EventTarget, {
            _handleFocus: function() {
                this.trigger("focused");
            },
            _handleBlur: function() {
                this.trigger("blured");
            },
            _handleSpecialKeyEvent: function($e) {
                var keyName = this.specialKeyCodeMap[$e.which || $e.keyCode];
                keyName && this.trigger(keyName + "Keyed", $e);
            },
            _compareQueryToInputValue: function() {
                var inputValue = this.getInputValue(), isSameQuery = compareQueries(this.query, inputValue), isSameQueryExceptWhitespace = isSameQuery ? this.query.length !== inputValue.length : false;
                if (isSameQueryExceptWhitespace) {
                    this.trigger("whitespaceChanged", {
                        value: this.query
                    });
                } else if (!isSameQuery) {
                    this.trigger("queryChanged", {
                        value: this.query = inputValue
                    });
                }
            },
            destroy: function() {
                this.$hint.off(".tt");
                this.$input.off(".tt");
                this.$hint = this.$input = this.$overflowHelper = null;
            },
            focus: function() {
                this.$input.focus();
            },
            blur: function() {
                this.$input.blur();
            },
            getQuery: function() {
                return this.query;
            },
            setQuery: function(query) {
                this.query = query;
            },
            getInputValue: function() {
                return this.$input.val();
            },
            setInputValue: function(value, silent) {
                this.$input.val(value);
                !silent && this._compareQueryToInputValue();
            },
            getHintValue: function() {
                return this.$hint.val();
            },
            setHintValue: function(value) {
                this.$hint.val(value);
            },
            getLanguageDirection: function() {
                return (this.$input.css("direction") || "ltr").toLowerCase();
            },
            isOverflow: function() {
                this.$overflowHelper.text(this.getInputValue());
                return this.$overflowHelper.width() > this.$input.width();
            },
            isCursorAtEnd: function() {
                var valueLength = this.$input.val().length, selectionStart = this.$input[0].selectionStart, range;
                if (utils.isNumber(selectionStart)) {
                    return selectionStart === valueLength;
                } else if (document.selection) {
                    range = document.selection.createRange();
                    range.moveStart("character", -valueLength);
                    return valueLength === range.text.length;
                }
                return true;
            }
        });
        return InputView;
        function buildOverflowHelper($input) {
            return $("<span></span>").css({
                position: "absolute",
                left: "-9999px",
                visibility: "hidden",
                whiteSpace: "nowrap",
                fontFamily: $input.css("font-family"),
                fontSize: $input.css("font-size"),
                fontStyle: $input.css("font-style"),
                fontVariant: $input.css("font-variant"),
                fontWeight: $input.css("font-weight"),
                wordSpacing: $input.css("word-spacing"),
                letterSpacing: $input.css("letter-spacing"),
                textIndent: $input.css("text-indent"),
                textRendering: $input.css("text-rendering"),
                textTransform: $input.css("text-transform")
            }).insertAfter($input);
        }
        function compareQueries(a, b) {
            a = (a || "").replace(/^\s*/g, "").replace(/\s{2,}/g, " ");
            b = (b || "").replace(/^\s*/g, "").replace(/\s{2,}/g, " ");
            return a === b;
        }
    }();
    var DropdownView = function() {
        var html = {
            suggestionsList: '<span class="tt-suggestions"></span>'
        }, css = {
            suggestionsList: {
                display: "block"
            },
            suggestion: {
                whiteSpace: "nowrap",
                cursor: "pointer"
            },
            suggestionChild: {
                whiteSpace: "normal"
            }
        };
        function DropdownView(o) {
            utils.bindAll(this);
            this.isOpen = false;
            this.isEmpty = true;
            this.isMouseOverDropdown = false;
            this.$menu = $(o.menu).on("mouseenter.tt", this._handleMouseenter).on("mouseleave.tt", this._handleMouseleave).on("click.tt", ".tt-suggestion", this._handleSelection).on("mouseover.tt", ".tt-suggestion", this._handleMouseover);
        }
        utils.mixin(DropdownView.prototype, EventTarget, {
            _handleMouseenter: function() {
                this.isMouseOverDropdown = true;
            },
            _handleMouseleave: function() {
                this.isMouseOverDropdown = false;
            },
            _handleMouseover: function($e) {
                var $suggestion = $($e.currentTarget);
                this._getSuggestions().removeClass("tt-is-under-cursor");
                $suggestion.addClass("tt-is-under-cursor");
            },
            _handleSelection: function($e) {
                var $suggestion = $($e.currentTarget);
                this.trigger("suggestionSelected", extractSuggestion($suggestion));
            },
            _show: function() {
                this.$menu.css("display", "block");
            },
            _hide: function() {
                this.$menu.hide();
            },
            _moveCursor: function(increment) {
                var $suggestions, $cur, nextIndex, $underCursor;
                if (!this.isVisible()) {
                    return;
                }
                $suggestions = this._getSuggestions();
                $cur = $suggestions.filter(".tt-is-under-cursor");
                $cur.removeClass("tt-is-under-cursor");
                nextIndex = $suggestions.index($cur) + increment;
                nextIndex = (nextIndex + 1) % ($suggestions.length + 1) - 1;
                if (nextIndex === -1) {
                    this.trigger("cursorRemoved");
                    return;
                } else if (nextIndex < -1) {
                    nextIndex = $suggestions.length - 1;
                }
                $underCursor = $suggestions.eq(nextIndex).addClass("tt-is-under-cursor");
                this._ensureVisibility($underCursor);
                this.trigger("cursorMoved", extractSuggestion($underCursor));
            },
            _getSuggestions: function() {
                return this.$menu.find(".tt-suggestions > .tt-suggestion");
            },
            _ensureVisibility: function($el) {
                var menuHeight = this.$menu.height() + parseInt(this.$menu.css("paddingTop"), 10) + parseInt(this.$menu.css("paddingBottom"), 10), menuScrollTop = this.$menu.scrollTop(), elTop = $el.position().top, elBottom = elTop + $el.outerHeight(true);
                if (elTop < 0) {
                    this.$menu.scrollTop(menuScrollTop + elTop);
                } else if (menuHeight < elBottom) {
                    this.$menu.scrollTop(menuScrollTop + (elBottom - menuHeight));
                }
            },
            destroy: function() {
                this.$menu.off(".tt");
                this.$menu = null;
            },
            isVisible: function() {
                return this.isOpen && !this.isEmpty;
            },
            closeUnlessMouseIsOverDropdown: function() {
                if (!this.isMouseOverDropdown) {
                    this.close();
                }
            },
            close: function() {
                if (this.isOpen) {
                    this.isOpen = false;
                    this.isMouseOverDropdown = false;
                    this._hide();
                    this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor");
                    this.trigger("closed");
                }
            },
            open: function() {
                if (!this.isOpen) {
                    this.isOpen = true;
                    !this.isEmpty && this._show();
                    this.trigger("opened");
                }
            },
            setLanguageDirection: function(dir) {
                var ltrCss = {
                    left: "0",
                    right: "auto"
                }, rtlCss = {
                    left: "auto",
                    right: " 0"
                };
                dir === "ltr" ? this.$menu.css(ltrCss) : this.$menu.css(rtlCss);
            },
            moveCursorUp: function() {
                this._moveCursor(-1);
            },
            moveCursorDown: function() {
                this._moveCursor(+1);
            },
            getSuggestionUnderCursor: function() {
                var $suggestion = this._getSuggestions().filter(".tt-is-under-cursor").first();
                return $suggestion.length > 0 ? extractSuggestion($suggestion) : null;
            },
            getFirstSuggestion: function() {
                var $suggestion = this._getSuggestions().first();
                return $suggestion.length > 0 ? extractSuggestion($suggestion) : null;
            },
            renderSuggestions: function(dataset, suggestions) {
                var datasetClassName = "tt-dataset-" + dataset.name, wrapper = '<div class="tt-suggestion">%body</div>', compiledHtml, $suggestionsList, $dataset = this.$menu.find("." + datasetClassName), elBuilder, fragment, $el;
                if ($dataset.length === 0) {
                    $suggestionsList = $(html.suggestionsList).css(css.suggestionsList);
                    $dataset = $("<div></div>").addClass(datasetClassName).append(dataset.header).append($suggestionsList).append(dataset.footer).appendTo(this.$menu);
                }
                if (suggestions.length > 0) {
                    this.isEmpty = false;
                    this.isOpen && this._show();
                    elBuilder = document.createElement("div");
                    fragment = document.createDocumentFragment();
                    utils.each(suggestions, function(i, suggestion) {
                        suggestion.dataset = dataset.name;
                        compiledHtml = dataset.template(suggestion.datum);
                        elBuilder.innerHTML = wrapper.replace("%body", compiledHtml);
                        $el = $(elBuilder.firstChild).css(css.suggestion).data("suggestion", suggestion);
                        $el.children().each(function() {
                            $(this).css(css.suggestionChild);
                        });
                        fragment.appendChild($el[0]);
                    });
                    $dataset.show().find(".tt-suggestions").html(fragment);
                } else {
                    this.clearSuggestions(dataset.name);
                }
                this.trigger("suggestionsRendered");
            },
            clearSuggestions: function(datasetName) {
                var $datasets = datasetName ? this.$menu.find(".tt-dataset-" + datasetName) : this.$menu.find('[class^="tt-dataset-"]'), $suggestions = $datasets.find(".tt-suggestions");
                $datasets.hide();
                $suggestions.empty();
                if (this._getSuggestions().length === 0) {
                    this.isEmpty = true;
                    this._hide();
                }
            }
        });
        return DropdownView;
        function extractSuggestion($el) {
            return $el.data("suggestion");
        }
    }();
    var TypeaheadView = function() {
        var html = {
            wrapper: '<span class="twitter-typeahead"></span>',
            hint: '<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',
            dropdown: '<span class="tt-dropdown-menu"></span>'
        }, css = {
            wrapper: {
                position: "relative",
                display: "inline-block"
            },
            hint: {
                position: "absolute",
                top: "0",
                left: "0",
                borderColor: "transparent",
                boxShadow: "none"
            },
            query: {
                position: "relative",
                verticalAlign: "top",
                backgroundColor: "transparent"
            },
            dropdown: {
                position: "absolute",
                top: "100%",
                left: "0",
                zIndex: "100",
                display: "none"
            }
        };
        if (utils.isMsie()) {
            utils.mixin(css.query, {
                backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"
            });
        }
        if (utils.isMsie() && utils.isMsie() <= 7) {
            utils.mixin(css.wrapper, {
                display: "inline",
                zoom: "1"
            });
            utils.mixin(css.query, {
                marginTop: "-1px"
            });
        }
        function TypeaheadView(o) {
            var $menu, $input, $hint;
            utils.bindAll(this);
            this.$node = buildDomStructure(o.input);
            this.datasets = o.datasets;
            this.dir = null;
            this.eventBus = o.eventBus;
            $menu = this.$node.find(".tt-dropdown-menu");
            $input = this.$node.find(".tt-query");
            $hint = this.$node.find(".tt-hint");
            this.dropdownView = new DropdownView({
                menu: $menu
            }).on("suggestionSelected", this._handleSelection).on("cursorMoved", this._clearHint).on("cursorMoved", this._setInputValueToSuggestionUnderCursor).on("cursorRemoved", this._setInputValueToQuery).on("cursorRemoved", this._updateHint).on("suggestionsRendered", this._updateHint).on("opened", this._updateHint).on("closed", this._clearHint).on("opened closed", this._propagateEvent);
            this.inputView = new InputView({
                input: $input,
                hint: $hint
            }).on("focused", this._openDropdown).on("blured", this._closeDropdown).on("blured", this._setInputValueToQuery).on("enterKeyed tabKeyed", this._handleSelection).on("queryChanged", this._clearHint).on("queryChanged", this._clearSuggestions).on("queryChanged", this._getSuggestions).on("whitespaceChanged", this._updateHint).on("queryChanged whitespaceChanged", this._openDropdown).on("queryChanged whitespaceChanged", this._setLanguageDirection).on("escKeyed", this._closeDropdown).on("escKeyed", this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed", this._managePreventDefault).on("upKeyed downKeyed", this._moveDropdownCursor).on("upKeyed downKeyed", this._openDropdown).on("tabKeyed leftKeyed rightKeyed", this._autocomplete);
        }
        utils.mixin(TypeaheadView.prototype, EventTarget, {
            _managePreventDefault: function(e) {
                var $e = e.data, hint, inputValue, preventDefault = false;
                switch (e.type) {
                  case "tabKeyed":
                    hint = this.inputView.getHintValue();
                    inputValue = this.inputView.getInputValue();
                    preventDefault = hint && hint !== inputValue;
                    break;

                  case "upKeyed":
                  case "downKeyed":
                    preventDefault = !$e.shiftKey && !$e.ctrlKey && !$e.metaKey;
                    break;
                }
                preventDefault && $e.preventDefault();
            },
            _setLanguageDirection: function() {
                var dir = this.inputView.getLanguageDirection();
                if (dir !== this.dir) {
                    this.dir = dir;
                    this.$node.css("direction", dir);
                    this.dropdownView.setLanguageDirection(dir);
                }
            },
            _updateHint: function() {
                var suggestion = this.dropdownView.getFirstSuggestion(), hint = suggestion ? suggestion.value : null, dropdownIsVisible = this.dropdownView.isVisible(), inputHasOverflow = this.inputView.isOverflow(), inputValue, query, escapedQuery, beginsWithQuery, match;
                if (hint && dropdownIsVisible && !inputHasOverflow) {
                    inputValue = this.inputView.getInputValue();
                    query = inputValue.replace(/\s{2,}/g, " ").replace(/^\s+/g, "");
                    escapedQuery = utils.escapeRegExChars(query);
                    beginsWithQuery = new RegExp("^(?:" + escapedQuery + ")(.*$)", "i");
                    match = beginsWithQuery.exec(hint);
                    this.inputView.setHintValue(inputValue + (match ? match[1] : ""));
                }
            },
            _clearHint: function() {
                this.inputView.setHintValue("");
            },
            _clearSuggestions: function() {
                this.dropdownView.clearSuggestions();
            },
            _setInputValueToQuery: function() {
                this.inputView.setInputValue(this.inputView.getQuery());
            },
            _setInputValueToSuggestionUnderCursor: function(e) {
                var suggestion = e.data;
                this.inputView.setInputValue(suggestion.value, true);
            },
            _openDropdown: function() {
                this.dropdownView.open();
            },
            _closeDropdown: function(e) {
                this.dropdownView[e.type === "blured" ? "closeUnlessMouseIsOverDropdown" : "close"]();
            },
            _moveDropdownCursor: function(e) {
                var $e = e.data;
                if (!$e.shiftKey && !$e.ctrlKey && !$e.metaKey) {
                    this.dropdownView[e.type === "upKeyed" ? "moveCursorUp" : "moveCursorDown"]();
                }
            },
            _handleSelection: function(e) {
                var byClick = e.type === "suggestionSelected", suggestion = byClick ? e.data : this.dropdownView.getSuggestionUnderCursor();
                if (suggestion) {
                    this.inputView.setInputValue(suggestion.value);
                    byClick ? this.inputView.focus() : e.data.preventDefault();
                    byClick && utils.isMsie() ? utils.defer(this.dropdownView.close) : this.dropdownView.close();
                    this.eventBus.trigger("selected", suggestion.datum, suggestion.dataset);
                }
            },
            _getSuggestions: function() {
                var that = this, query = this.inputView.getQuery();
                if (utils.isBlankString(query)) {
                    return;
                }
                utils.each(this.datasets, function(i, dataset) {
                    dataset.getSuggestions(query, function(suggestions) {
                        if (query === that.inputView.getQuery()) {
                            that.dropdownView.renderSuggestions(dataset, suggestions);
                        }
                    });
                });
            },
            _autocomplete: function(e) {
                var isCursorAtEnd, ignoreEvent, query, hint, suggestion;
                if (e.type === "rightKeyed" || e.type === "leftKeyed") {
                    isCursorAtEnd = this.inputView.isCursorAtEnd();
                    ignoreEvent = this.inputView.getLanguageDirection() === "ltr" ? e.type === "leftKeyed" : e.type === "rightKeyed";
                    if (!isCursorAtEnd || ignoreEvent) {
                        return;
                    }
                }
                query = this.inputView.getQuery();
                hint = this.inputView.getHintValue();
                if (hint !== "" && query !== hint) {
                    suggestion = this.dropdownView.getFirstSuggestion();
                    this.inputView.setInputValue(suggestion.value);
                    this.eventBus.trigger("autocompleted", suggestion.datum, suggestion.dataset);
                }
            },
            _propagateEvent: function(e) {
                this.eventBus.trigger(e.type);
            },
            destroy: function() {
                this.inputView.destroy();
                this.dropdownView.destroy();
                destroyDomStructure(this.$node);
                this.$node = null;
            },
            setQuery: function(query) {
                this.inputView.setQuery(query);
                this.inputView.setInputValue(query);
                this._clearHint();
                this._clearSuggestions();
                this._getSuggestions();
            }
        });
        return TypeaheadView;
        function buildDomStructure(input) {
            var $wrapper = $(html.wrapper), $dropdown = $(html.dropdown), $input = $(input), $hint = $(html.hint);
            $wrapper = $wrapper.css(css.wrapper);
            $dropdown = $dropdown.css(css.dropdown);
            $hint.css(css.hint).css({
                backgroundAttachment: $input.css("background-attachment"),
                backgroundClip: $input.css("background-clip"),
                backgroundColor: $input.css("background-color"),
                backgroundImage: $input.css("background-image"),
                backgroundOrigin: $input.css("background-origin"),
                backgroundPosition: $input.css("background-position"),
                backgroundRepeat: $input.css("background-repeat"),
                backgroundSize: $input.css("background-size")
            });
            $input.data("ttAttrs", {
                dir: $input.attr("dir"),
                autocomplete: $input.attr("autocomplete"),
                spellcheck: $input.attr("spellcheck"),
                style: $input.attr("style")
            });
            $input.addClass("tt-query").attr({
                autocomplete: "off",
                spellcheck: false
            }).css(css.query);
            try {
                !$input.attr("dir") && $input.attr("dir", "auto");
            } catch (e) {}
            return $input.wrap($wrapper).parent().prepend($hint).append($dropdown);
        }
        function destroyDomStructure($node) {
            var $input = $node.find(".tt-query");
            utils.each($input.data("ttAttrs"), function(key, val) {
                utils.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);
            });
            $input.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter($node);
            $node.remove();
        }
    }();
    (function() {
        var cache = {}, viewKey = "ttView", methods;
        methods = {
            initialize: function(datasetDefs) {
                var datasets;
                datasetDefs = utils.isArray(datasetDefs) ? datasetDefs : [ datasetDefs ];
                if (datasetDefs.length === 0) {
                    $.error("no datasets provided");
                }
                datasets = utils.map(datasetDefs, function(o) {
                    var dataset = cache[o.name] ? cache[o.name] : new Dataset(o);
                    if (o.name) {
                        cache[o.name] = dataset;
                    }
                    return dataset;
                });
                return this.each(initialize);
                function initialize() {
                    var $input = $(this), deferreds, eventBus = new EventBus({
                        el: $input
                    });
                    deferreds = utils.map(datasets, function(dataset) {
                        return dataset.initialize();
                    });
                    $input.data(viewKey, new TypeaheadView({
                        input: $input,
                        eventBus: eventBus = new EventBus({
                            el: $input
                        }),
                        datasets: datasets
                    }));
                    $.when.apply($, deferreds).always(function() {
                        utils.defer(function() {
                            eventBus.trigger("initialized");
                        });
                    });
                }
            },
            destroy: function() {
                return this.each(destroy);
                function destroy() {
                    var $this = $(this), view = $this.data(viewKey);
                    if (view) {
                        view.destroy();
                        $this.removeData(viewKey);
                    }
                }
            },
            setQuery: function(query) {
                return this.each(setQuery);
                function setQuery() {
                    var view = $(this).data(viewKey);
                    view && view.setQuery(query);
                }
            }
        };
        jQuery.fn.typeahead = function(method) {
            if (methods[method]) {
                return methods[method].apply(this, [].slice.call(arguments, 1));
            } else {
                return methods.initialize.apply(this, arguments);
            }
        };
    })();
})(window.jQuery);
/**
 * Copyright (c) 2010 Maxim Vasiliev
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @author Maxim Vasiliev
 * Date: 09.09.2010
 * Time: 19:02:33
 */


var form2js = (function()
{
	"use strict";

	/**
	 * Returns form values represented as Javascript object
	 * "name" attribute defines structure of resulting object
	 *
	 * @param rootNode {Element|String} root form element (or it's id) or array of root elements
	 * @param delimiter {String} structure parts delimiter defaults to '.'
	 * @param skipEmpty {Boolean} should skip empty text values, defaults to true
	 * @param emptyToNull {Boolean} should empty values be converted to null?
	 * @param nodeCallback {Function} custom function to get node value
	 * @param useIdIfEmptyName {Boolean} if true value of id attribute of field will be used if name of field is empty
	 */
	function form2js(rootNode, delimiter, skipEmpty, emptyToNull, nodeCallback, useIdIfEmptyName)
	{
		if (typeof skipEmpty == 'undefined' || skipEmpty == null) skipEmpty = true;
		if (typeof emptyToNull == 'undefined' || emptyToNull == null) emptyToNull = true;
		if (typeof delimiter == 'undefined' || delimiter == null) delimiter = '.';
		if (arguments.length < 6) useIdIfEmptyName = false;

		rootNode = typeof rootNode == 'string' ? document.getElementById(rootNode) : rootNode;

		var formValues = [],
			currNode,
			i = 0;

		/* If rootNode is array - combine values */
		if (rootNode.constructor == Array || (typeof NodeList != 'undefined' && rootNode.constructor == NodeList))
		{
			while(currNode = rootNode[i++])
			{
				formValues = formValues.concat(getFormValues(currNode, nodeCallback, useIdIfEmptyName));
			}
		}
		else
		{
			formValues = getFormValues(rootNode, nodeCallback, useIdIfEmptyName);
		}

		return processNameValues(formValues, skipEmpty, emptyToNull, delimiter);
	}

	/**
	 * Processes collection of { name: 'name', value: 'value' } objects.
	 * @param nameValues
	 * @param skipEmpty if true skips elements with value == '' or value == null
	 * @param delimiter
	 */
	function processNameValues(nameValues, skipEmpty, emptyToNull, delimiter)
	{
		var result = {},
			arrays = {},
			i, j, k, l,
			value,
			nameParts,
			currResult,
			arrNameFull,
			arrName,
			arrIdx,
			namePart,
			name,
			_nameParts;

		for (i = 0; i < nameValues.length; i++)
		{
			value = nameValues[i].value;

			if (emptyToNull && (value === '')) { value = null; }
			if (skipEmpty && (value === '' || value === null)) continue;

			name = nameValues[i].name;
			if (typeof name === 'undefined') continue;

			_nameParts = name.split(delimiter);
			nameParts = [];
			currResult = result;
			arrNameFull = '';

			for(j = 0; j < _nameParts.length; j++)
			{
				namePart = _nameParts[j].split('][');
				if (namePart.length > 1)
				{
					for(k = 0; k < namePart.length; k++)
					{
						if (k == 0)
						{
							namePart[k] = namePart[k] + ']';
						}
						else if (k == namePart.length - 1)
						{
							namePart[k] = '[' + namePart[k];
						}
						else
						{
							namePart[k] = '[' + namePart[k] + ']';
						}

						arrIdx = namePart[k].match(/([a-z_]+)?\[([a-z_][a-z0-9_]+?)\]/i);
						if (arrIdx)
						{
							for(l = 1; l < arrIdx.length; l++)
							{
								if (arrIdx[l]) nameParts.push(arrIdx[l]);
							}
						}
						else{
							nameParts.push(namePart[k]);
						}
					}
				}
				else
					nameParts = nameParts.concat(namePart);
			}

			for (j = 0; j < nameParts.length; j++)
			{
				namePart = nameParts[j];

				if (namePart.indexOf('[]') > -1 && j == nameParts.length - 1)
				{
					arrName = namePart.substr(0, namePart.indexOf('['));
					arrNameFull += arrName;

					if (!currResult[arrName]) currResult[arrName] = [];
					currResult[arrName].push(value);
				}
				else if (namePart.indexOf('[') > -1)
				{
					arrName = namePart.substr(0, namePart.indexOf('['));
					arrIdx = namePart.replace(/(^([a-z_]+)?\[)|(\]$)/gi, '');

					/* Unique array name */
					arrNameFull += '_' + arrName + '_' + arrIdx;

					/*
					 * Because arrIdx in field name can be not zero-based and step can be
					 * other than 1, we can't use them in target array directly.
					 * Instead we're making a hash where key is arrIdx and value is a reference to
					 * added array element
					 */

					if (!arrays[arrNameFull]) arrays[arrNameFull] = {};
					if (arrName != '' && !currResult[arrName]) currResult[arrName] = [];

					if (j == nameParts.length - 1)
					{
						if (arrName == '')
						{
							currResult.push(value);
							arrays[arrNameFull][arrIdx] = currResult[currResult.length - 1];
						}
						else
						{
							currResult[arrName].push(value);
							arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];
						}
					}
					else
					{
						if (!arrays[arrNameFull][arrIdx])
						{
							if ((/^[a-z_]+\[?/i).test(nameParts[j+1])) currResult[arrName].push({});
							else currResult[arrName].push([]);

							arrays[arrNameFull][arrIdx] = currResult[arrName][currResult[arrName].length - 1];
						}
					}

					currResult = arrays[arrNameFull][arrIdx];
				}
				else
				{
					arrNameFull += namePart;

					if (j < nameParts.length - 1) /* Not the last part of name - means object */
					{
						if (!currResult[namePart]) currResult[namePart] = {};
						currResult = currResult[namePart];
					}
					else
					{
						currResult[namePart] = value;
					}
				}
			}
		}

		return result;
	}

    function getFormValues(rootNode, nodeCallback, useIdIfEmptyName)
    {
        var result = extractNodeValues(rootNode, nodeCallback, useIdIfEmptyName);
        return result.length > 0 ? result : getSubFormValues(rootNode, nodeCallback, useIdIfEmptyName);
    }

    function getSubFormValues(rootNode, nodeCallback, useIdIfEmptyName)
	{
		var result = [],
			currentNode = rootNode.firstChild;
		
		while (currentNode)
		{
			result = result.concat(extractNodeValues(currentNode, nodeCallback, useIdIfEmptyName));
			currentNode = currentNode.nextSibling;
		}

		return result;
	}

    function extractNodeValues(node, nodeCallback, useIdIfEmptyName) {
        var callbackResult, fieldValue, result, fieldName = getFieldName(node, useIdIfEmptyName);

        callbackResult = nodeCallback && nodeCallback(node);

        if (callbackResult && callbackResult.name) {
            result = [callbackResult];
        }
        else if (fieldName != '' && node.nodeName.match(/INPUT|TEXTAREA/i)) {
            fieldValue = getFieldValue(node);   
	        if (fieldValue == null && node.type == 'radio')
                result = [];
            else
                result = [ { name: fieldName, value: fieldValue} ];
        }
        else if (fieldName != '' && node.nodeName.match(/SELECT/i)) {
	        fieldValue = getFieldValue(node);
	        result = [ { name: fieldName.replace(/\[\]$/, ''), value: fieldValue } ];
        }
        else {
            result = getSubFormValues(node, nodeCallback, useIdIfEmptyName);
        }

        return result;
    }

	function getFieldName(node, useIdIfEmptyName)
	{
		if (node.name && node.name != '') return node.name;
		else if (useIdIfEmptyName && node.id && node.id != '') return node.id;
		else return '';
	}


	function getFieldValue(fieldNode)
	{
		if (fieldNode.disabled) return null;
		
		switch (fieldNode.nodeName) {
			case 'INPUT':
			case 'TEXTAREA':
				switch (fieldNode.type.toLowerCase()) {
					case 'radio':
					case 'checkbox':
						if (fieldNode.checked) return fieldNode.value;
						break;

					case 'button':
					case 'reset':
					case 'submit':
					case 'image':
						return '';
						break;

					default:
						return fieldNode.value;
						break;
				}
				break;

			case 'SELECT':
				return getSelectedOptionValue(fieldNode);
				break;

			default:
				break;
		}

		return null;
	}

	function getSelectedOptionValue(selectNode)
	{
		var multiple = selectNode.multiple,
			result = [],
			options,
			i, l;

		if (!multiple) return selectNode.value;

		for (options = selectNode.getElementsByTagName('option'), i = 0, l = options.length; i < l; i++)
		{
			if (options[i].selected) result.push(options[i].value);
		}

		return result;
	}

	return form2js;

})();

/**
 * Copyright (c) 2010 Maxim Vasiliev
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @author Maxim Vasiliev
 * Date: 19.09.11
 * Time: 23:40
 */

var js2form = (function()
{
	"use strict";

	var _subArrayRegexp = /^\[\d+?\]/,
			_subObjectRegexp = /^[a-zA-Z_][a-zA-Z_0-9]+/,
			_arrayItemRegexp = /\[[0-9]+?\]$/,
			_lastIndexedArrayRegexp = /(.*)(\[)([0-9]*)(\])$/,
			_arrayOfArraysRegexp = /\[([0-9]+)\]\[([0-9]+)\]/g,
			_inputOrTextareaRegexp = /INPUT|TEXTAREA/i;

	/**
	 *
	 * @param rootNode
	 * @param data
	 * @param delimiter
	 * @param nodeCallback
	 * @param useIdIfEmptyName
	 * @param shouldClean should we empty out fields first?
	 */
	function js2form(rootNode, data, delimiter, nodeCallback, useIdIfEmptyName, shouldClean)
	{
		if (arguments.length < 3) delimiter = '.';
		if (arguments.length < 4) nodeCallback = null;
		if (arguments.length < 5) useIdIfEmptyName = false;
		if (arguments.length < 6) shouldClean = true;

		var fieldValues,
				formFieldsByName;

		fieldValues = object2array(data);
		formFieldsByName = getFields(rootNode, useIdIfEmptyName, delimiter, {}, shouldClean);

		for (var i = 0; i < fieldValues.length; i++)
		{
			var fieldName = fieldValues[i].name,
					fieldValue = fieldValues[i].value;

			if (typeof formFieldsByName[fieldName] != 'undefined')
			{
				setValue(formFieldsByName[fieldName], fieldValue);
			}
			else if (typeof formFieldsByName[fieldName.replace(_arrayItemRegexp, '[]')] != 'undefined')
			{
				setValue(formFieldsByName[fieldName.replace(_arrayItemRegexp, '[]')], fieldValue);
			}
		}
	}

	function setValue(field, value)
	{
		var children, i, l;

		if (field instanceof Array)
		{
			for (i = 0; i < field.length; i++)
			{
        if (field[i].type == "radio"){
          field[i].checked = false
          if (typeof value != "undefined" && value !== null  && field[i].value == value || field[i].value == value.toString() )
            field[i].checked = true;
        }
        else{
          if (value == 'on' || value == 'true' || value == '1')
            field[i].checked = true;
          else
            field[i].checked = false
        }
      }
		}
		else if (_inputOrTextareaRegexp.test(field.nodeName))
		{
			if (value)
				field.value = value;
		}
		else if (/SELECT/i.test(field.nodeName))
		{
			children = field.getElementsByTagName('option');
			for (i = 0,l = children.length; i < l; i++)
			{
				if (children[i].value == value)
				{
					children[i].selected = true;
					if (field.multiple) break;
				}
				else if (!field.multiple)
				{
					children[i].selected = false;
				}
			}
		}
	}

	function getFields(rootNode, useIdIfEmptyName, delimiter, arrayIndexes, shouldClean)
	{
		if (arguments.length < 4) arrayIndexes = {};

		var result = {},
			currNode = rootNode.firstChild,
			name, nameNormalized,
			subFieldName,
			i, j, l,
			options;

		while (currNode)
		{
			name = '';

			if (currNode.name && currNode.name != '')
			{
				name = currNode.name;
			}
			else if (useIdIfEmptyName && currNode.id && currNode.id != '')
			{
				name = currNode.id;
			}

			if (name == '')
			{
				var subFields = getFields(currNode, useIdIfEmptyName, delimiter, arrayIndexes, shouldClean);
				for (subFieldName in subFields)
				{
					if (typeof result[subFieldName] == 'undefined')
					{
						result[subFieldName] = subFields[subFieldName];
					}
					else
					{
						for (i = 0; i < subFields[subFieldName].length; i++)
						{
							result[subFieldName].push(subFields[subFieldName][i]);
						}
					}
				}
			}
			else
			{
				if (/SELECT/i.test(currNode.nodeName))
				{
					for(j = 0, options = currNode.getElementsByTagName('option'), l = options.length; j < l; j++)
					{
						if (shouldClean)
						{
							options[j].selected = false;
						}

						nameNormalized = normalizeName(name, delimiter, arrayIndexes);
						result[nameNormalized] = currNode;
					}
				}
				else if (/INPUT/i.test(currNode.nodeName) && /CHECKBOX|RADIO/i.test(currNode.type))
				{
					if(shouldClean)
					{
						currNode.checked = false;
					}

					nameNormalized = normalizeName(name, delimiter, arrayIndexes);
					nameNormalized = nameNormalized.replace(_arrayItemRegexp, '[]');
					if (!result[nameNormalized]) result[nameNormalized] = [];
					result[nameNormalized].push(currNode);
				}
				else
				{
					if (shouldClean)
					{
						currNode.value = '';
					}

					nameNormalized = normalizeName(name, delimiter, arrayIndexes);
					result[nameNormalized] = currNode;
				}
			}

			currNode = currNode.nextSibling;
		}

		return result;
	}

	/**
	 * Normalizes names of arrays, puts correct indexes (consecutive and ordered by element appearance in HTML)
	 * @param name
	 * @param delimiter
	 * @param arrayIndexes
	 */
	function normalizeName(name, delimiter, arrayIndexes)
	{
		var nameChunksNormalized = [],
				nameChunks = name.split(delimiter),
				currChunk,
				nameMatches,
				nameNormalized,
				currIndex,
				newIndex,
				i;

		name = name.replace(_arrayOfArraysRegexp, '[$1].[$2]');
		for (i = 0; i < nameChunks.length; i++)
		{
			currChunk = nameChunks[i];
			nameChunksNormalized.push(currChunk);
			nameMatches = currChunk.match(_lastIndexedArrayRegexp);
			if (nameMatches != null)
			{
				nameNormalized = nameChunksNormalized.join(delimiter);
				currIndex = nameNormalized.replace(_lastIndexedArrayRegexp, '$3');
				nameNormalized = nameNormalized.replace(_lastIndexedArrayRegexp, '$1');

				if (typeof (arrayIndexes[nameNormalized]) == 'undefined')
				{
					arrayIndexes[nameNormalized] = {
						lastIndex: -1,
						indexes: {}
					};
				}

				if (currIndex == '' || typeof arrayIndexes[nameNormalized].indexes[currIndex] == 'undefined')
				{
					arrayIndexes[nameNormalized].lastIndex++;
					arrayIndexes[nameNormalized].indexes[currIndex] = arrayIndexes[nameNormalized].lastIndex;
				}

				newIndex = arrayIndexes[nameNormalized].indexes[currIndex];
				nameChunksNormalized[nameChunksNormalized.length - 1] = currChunk.replace(_lastIndexedArrayRegexp, '$1$2' + newIndex + '$4');
			}
		}

		nameNormalized = nameChunksNormalized.join(delimiter);
		nameNormalized = nameNormalized.replace('].[', '][');
		return nameNormalized;
	}

	function object2array(obj, lvl)
	{
		var result = [], i, name;

		if (arguments.length == 1) lvl = 0;

        if (obj == null)
        {
            result = [{ name: "", value: null }];
        }
        else if (typeof obj == 'string' || typeof obj == 'number' || typeof obj == 'date' || typeof obj == 'boolean')
        {
            result = [
                { name: "", value : obj }
            ];
        }
        else if (obj instanceof Array)
        {
            for (i = 0; i < obj.length; i++)
            {
                name = "[" + i + "]";
                result = result.concat(getSubValues(obj[i], name, lvl + 1));
            }
        }
        else
        {
            for (i in obj)
            {
                name = i;
                result = result.concat(getSubValues(obj[i], name, lvl + 1));
            }
        }

		return result;
    }

	function getSubValues(subObj, name, lvl)
	{
		var itemName;
		var result = [], tempResult = object2array(subObj, lvl + 1), i, tempItem;

		for (i = 0; i < tempResult.length; i++)
		{
			itemName = name;
			if (_subArrayRegexp.test(tempResult[i].name))
			{
				itemName += tempResult[i].name;
			}
			else if (_subObjectRegexp.test(tempResult[i].name))
			{
				itemName += '.' + tempResult[i].name;
			}

			tempItem = { name: itemName, value: tempResult[i].value };
			result.push(tempItem);
		}

		return result;
	}

	return js2form;

})();

/**
 * Copyright (c) 2010 Maxim Vasiliev
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @author Maxim Vasiliev
 * Date: 29.06.11
 * Time: 20:09
 */

(function($){

	/**
	 * jQuery wrapper for form2object()
	 * Extracts data from child inputs into javascript object
	 */
	$.fn.toObject = function(options)
	{
		var result = [],
			settings = {
				mode: 'first', // what to convert: 'all' or 'first' matched node
				delimiter: ".",
				skipEmpty: true,
				nodeCallback: null,
				useIdIfEmptyName: false
			};

		if (options)
		{
			$.extend(settings, options);
		}

		switch(settings.mode)
		{
			case 'first':
				return form2js(this.get(0), settings.delimiter, settings.skipEmpty, settings.nodeCallback, settings.useIdIfEmptyName);
				break;
			case 'all':
				this.each(function(){
					result.push(form2js(this, settings.delimiter, settings.skipEmpty, settings.nodeCallback, settings.useIdIfEmptyName));
				});
				return result;
				break;
			case 'combine':
				return form2js(Array.prototype.slice.call(this), settings.delimiter, settings.skipEmpty, settings.nodeCallback, settings.useIdIfEmptyName);
				break;
		}
	}

})(jQuery);
/*
Copyright (c) 2010 Ryan Schuft (ryan.schuft@gmail.com)

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/

/*
  This code is based in part on the work done in Ruby to support
  infection as part of Ruby on Rails in the ActiveSupport's Inflector
  and Inflections classes.  It was initally ported to Javascript by
  Ryan Schuft (ryan.schuft@gmail.com) in 2007.

  The code is available at http://code.google.com/p/inflection-js/

  The basic usage is:
    1. Include this script on your web page.
    2. Call functions on any String object in Javascript

  Currently implemented functions:

    String.pluralize(plural) == String
      renders a singular English language noun into its plural form
      normal results can be overridden by passing in an alternative

    String.singularize(singular) == String
      renders a plural English language noun into its singular form
      normal results can be overridden by passing in an alterative

    String.camelize(lowFirstLetter) == String
      renders a lower case underscored word into camel case
      the first letter of the result will be upper case unless you pass true
      also translates "/" into "::" (underscore does the opposite)

    String.underscore() == String
      renders a camel cased word into words seperated by underscores
      also translates "::" back into "/" (camelize does the opposite)

    String.humanize(lowFirstLetter) == String
      renders a lower case and underscored word into human readable form
      defaults to making the first letter capitalized unless you pass true

    String.capitalize() == String
      renders all characters to lower case and then makes the first upper

    String.dasherize() == String
      renders all underbars and spaces as dashes

    String.titleize() == String
      renders words into title casing (as for book titles)

    String.demodulize() == String
      renders class names that are prepended by modules into just the class

    String.tableize() == String
      renders camel cased singular words into their underscored plural form

    String.classify() == String
      renders an underscored plural word into its camel cased singular form

    String.foreign_key(dropIdUbar) == String
      renders a class name (camel cased singular noun) into a foreign key
      defaults to seperating the class from the id with an underbar unless
      you pass true

    String.ordinalize() == String
      renders all numbers found in the string into their sequence like "22nd"
*/

/*
  This sets up a container for some constants in its own namespace
  We use the window (if available) to enable dynamic loading of this script
  Window won't necessarily exist for non-browsers.
*/
if (window && !window.InflectionJS)
{
    window.InflectionJS = null;
}

/*
  This sets up some constants for later use
  This should use the window namespace variable if available
*/
InflectionJS =
{
    /*
      This is a list of nouns that use the same form for both singular and plural.
      This list should remain entirely in lower case to correctly match Strings.
    */
    uncountable_words: [
        'equipment', 'information', 'rice', 'money', 'species', 'series',
        'fish', 'sheep', 'moose', 'deer', 'news'
    ],

    /*
      These rules translate from the singular form of a noun to its plural form.
    */
    plural_rules: [
        [new RegExp('(m)an$', 'gi'),                 '$1en'],
        [new RegExp('(pe)rson$', 'gi'),              '$1ople'],
        [new RegExp('(child)$', 'gi'),               '$1ren'],
        [new RegExp('^(ox)$', 'gi'),                 '$1en'],
        [new RegExp('(ax|test)is$', 'gi'),           '$1es'],
        [new RegExp('(octop|vir)us$', 'gi'),         '$1i'],
        [new RegExp('(alias|status)$', 'gi'),        '$1es'],
        [new RegExp('(bu)s$', 'gi'),                 '$1ses'],
        [new RegExp('(buffal|tomat|potat)o$', 'gi'), '$1oes'],
        [new RegExp('([ti])um$', 'gi'),              '$1a'],
        [new RegExp('sis$', 'gi'),                   'ses'],
        [new RegExp('(?:([^f])fe|([lr])f)$', 'gi'),  '$1$2ves'],
        [new RegExp('(hive)$', 'gi'),                '$1s'],
        [new RegExp('([^aeiouy]|qu)y$', 'gi'),       '$1ies'],
        [new RegExp('(x|ch|ss|sh)$', 'gi'),          '$1es'],
        [new RegExp('(matr|vert|ind)ix|ex$', 'gi'),  '$1ices'],
        [new RegExp('([m|l])ouse$', 'gi'),           '$1ice'],
        [new RegExp('(quiz)$', 'gi'),                '$1zes'],
        [new RegExp('s$', 'gi'),                     's'],
        [new RegExp('$', 'gi'),                      's']
    ],

    /*
      These rules translate from the plural form of a noun to its singular form.
    */
    singular_rules: [
        [new RegExp('(m)en$', 'gi'),                                                       '$1an'],
        [new RegExp('(pe)ople$', 'gi'),                                                    '$1rson'],
        [new RegExp('(child)ren$', 'gi'),                                                  '$1'],
        [new RegExp('([ti])a$', 'gi'),                                                     '$1um'],
        [new RegExp('((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$','gi'), '$1$2sis'],
        [new RegExp('(hive)s$', 'gi'),                                                     '$1'],
        [new RegExp('(tive)s$', 'gi'),                                                     '$1'],
        [new RegExp('(curve)s$', 'gi'),                                                    '$1'],
        [new RegExp('([lr])ves$', 'gi'),                                                   '$1f'],
        [new RegExp('([^fo])ves$', 'gi'),                                                  '$1fe'],
        [new RegExp('([^aeiouy]|qu)ies$', 'gi'),                                           '$1y'],
        [new RegExp('(s)eries$', 'gi'),                                                    '$1eries'],
        [new RegExp('(m)ovies$', 'gi'),                                                    '$1ovie'],
        [new RegExp('(x|ch|ss|sh)es$', 'gi'),                                              '$1'],
        [new RegExp('([m|l])ice$', 'gi'),                                                  '$1ouse'],
        [new RegExp('(bus)es$', 'gi'),                                                     '$1'],
        [new RegExp('(o)es$', 'gi'),                                                       '$1'],
        [new RegExp('(shoe)s$', 'gi'),                                                     '$1'],
        [new RegExp('(cris|ax|test)es$', 'gi'),                                            '$1is'],
        [new RegExp('(octop|vir)i$', 'gi'),                                                '$1us'],
        [new RegExp('(alias|status)es$', 'gi'),                                            '$1'],
        [new RegExp('^(ox)en', 'gi'),                                                      '$1'],
        [new RegExp('(vert|ind)ices$', 'gi'),                                              '$1ex'],
        [new RegExp('(matr)ices$', 'gi'),                                                  '$1ix'],
        [new RegExp('(quiz)zes$', 'gi'),                                                   '$1'],
        [new RegExp('s$', 'gi'),                                                           '']
    ],

    /*
      This is a list of words that should not be capitalized for title case
    */
    non_titlecased_words: [
        'and', 'or', 'nor', 'a', 'an', 'the', 'so', 'but', 'to', 'of', 'at',
        'by', 'from', 'into', 'on', 'onto', 'off', 'out', 'in', 'over',
        'with', 'for'
    ],

    /*
      These are regular expressions used for converting between String formats
    */
    id_suffix: new RegExp('(_ids|_id)$', 'g'),
    underbar: new RegExp('_', 'g'),
    space_or_underbar: new RegExp('[\ _]', 'g'),
    uppercase: new RegExp('([A-Z])', 'g'),
    underbar_prefix: new RegExp('^_'),
    
    /*
      This is a helper method that applies rules based replacement to a String
      Signature:
        InflectionJS.apply_rules(str, rules, skip, override) == String
      Arguments:
        str - String - String to modify and return based on the passed rules
        rules - Array: [RegExp, String] - Regexp to match paired with String to use for replacement
        skip - Array: [String] - Strings to skip if they match
        override - String (optional) - String to return as though this method succeeded (used to conform to APIs)
      Returns:
        String - passed String modified by passed rules
      Examples:
        InflectionJS.apply_rules("cows", InflectionJs.singular_rules) === 'cow'
    */
    apply_rules: function(str, rules, skip, override)
    {
        if (override)
        {
            str = override;
        }
        else
        {
            var ignore = (skip.indexOf(str.toLowerCase()) > -1);
            if (!ignore)
            {
                for (var x = 0; x < rules.length; x++)
                {
                    if (str.match(rules[x][0]))
                    {
                        str = str.replace(rules[x][0], rules[x][1]);
                        break;
                    }
                }
            }
        }
        return str;
    }
};

/*
  This lets us detect if an Array contains a given element
  Signature:
    Array.indexOf(item, fromIndex, compareFunc) == Integer
  Arguments:
    item - Object - object to locate in the Array
    fromIndex - Integer (optional) - starts checking from this position in the Array
    compareFunc - Function (optional) - function used to compare Array item vs passed item
  Returns:
    Integer - index position in the Array of the passed item
  Examples:
    ['hi','there'].indexOf("guys") === -1
    ['hi','there'].indexOf("hi") === 0
*/
if (!Array.prototype.indexOf)
{
    Array.prototype.indexOf = function(item, fromIndex, compareFunc)
    {
        if (!fromIndex)
        {
            fromIndex = -1;
        }
        var index = -1;
        for (var i = fromIndex; i < this.length; i++)
        {
            if (this[i] === item || compareFunc && compareFunc(this[i], item))
            {
                index = i;
                break;
            }
        }
        return index;
    };
}

/*
  You can override this list for all Strings or just one depending on if you
  set the new values on prototype or on a given String instance.
*/
if (!String.prototype._uncountable_words)
{
    String.prototype._uncountable_words = InflectionJS.uncountable_words;
}

/*
  You can override this list for all Strings or just one depending on if you
  set the new values on prototype or on a given String instance.
*/
if (!String.prototype._plural_rules)
{
    String.prototype._plural_rules = InflectionJS.plural_rules;
}

/*
  You can override this list for all Strings or just one depending on if you
  set the new values on prototype or on a given String instance.
*/
if (!String.prototype._singular_rules)
{
    String.prototype._singular_rules = InflectionJS.singular_rules;
}

/*
  You can override this list for all Strings or just one depending on if you
  set the new values on prototype or on a given String instance.
*/
if (!String.prototype._non_titlecased_words)
{
    String.prototype._non_titlecased_words = InflectionJS.non_titlecased_words;
}

/*
  This function adds plurilization support to every String object
    Signature:
      String.pluralize(plural) == String
    Arguments:
      plural - String (optional) - overrides normal output with said String
    Returns:
      String - singular English language nouns are returned in plural form
    Examples:
      "person".pluralize() == "people"
      "octopus".pluralize() == "octopi"
      "Hat".pluralize() == "Hats"
      "person".pluralize("guys") == "guys"
*/
if (!String.prototype.pluralize)
{
    String.prototype.pluralize = function(plural)
    {
        return InflectionJS.apply_rules(
            this,
            this._plural_rules,
            this._uncountable_words,
            plural
        );
    };
}

/*
  This function adds singularization support to every String object
    Signature:
      String.singularize(singular) == String
    Arguments:
      singular - String (optional) - overrides normal output with said String
    Returns:
      String - plural English language nouns are returned in singular form
    Examples:
      "people".singularize() == "person"
      "octopi".singularize() == "octopus"
      "Hats".singularize() == "Hat"
      "guys".singularize("person") == "person"
*/
if (!String.prototype.singularize)
{
    String.prototype.singularize = function(singular)
    {
        return InflectionJS.apply_rules(
            this,
            this._singular_rules,
            this._uncountable_words,
            singular
        );
    };
}

/*
  This function adds camelization support to every String object
    Signature:
      String.camelize(lowFirstLetter) == String
    Arguments:
      lowFirstLetter - boolean (optional) - default is to capitalize the first
        letter of the results... passing true will lowercase it
    Returns:
      String - lower case underscored words will be returned in camel case
        additionally '/' is translated to '::'
    Examples:
      "message_properties".camelize() == "MessageProperties"
      "message_properties".camelize(true) == "messageProperties"
*/
if (!String.prototype.camelize)
{
     String.prototype.camelize = function(lowFirstLetter)
     {
        var str = this.toLowerCase();
        var str_path = str.split('/');
        for (var i = 0; i < str_path.length; i++)
        {
            var str_arr = str_path[i].split('_');
            var initX = ((lowFirstLetter && i + 1 === str_path.length) ? (1) : (0));
            for (var x = initX; x < str_arr.length; x++)
            {
                str_arr[x] = str_arr[x].charAt(0).toUpperCase() + str_arr[x].substring(1);
            }
            str_path[i] = str_arr.join('');
        }
        str = str_path.join('::');
        return str;
    };
}

/*
  This function adds underscore support to every String object
    Signature:
      String.underscore() == String
    Arguments:
      N/A
    Returns:
      String - camel cased words are returned as lower cased and underscored
        additionally '::' is translated to '/'
    Examples:
      "MessageProperties".camelize() == "message_properties"
      "messageProperties".underscore() == "message_properties"
*/
if (!String.prototype.underscore)
{
     String.prototype.underscore = function()
     {
        var str = this;
        var str_path = str.split('::');
        for (var i = 0; i < str_path.length; i++)
        {
            str_path[i] = str_path[i].replace(InflectionJS.uppercase, '_$1');
            str_path[i] = str_path[i].replace(InflectionJS.underbar_prefix, '');
        }
        str = str_path.join('/').toLowerCase();
        return str;
    };
}

/*
  This function adds humanize support to every String object
    Signature:
      String.humanize(lowFirstLetter) == String
    Arguments:
      lowFirstLetter - boolean (optional) - default is to capitalize the first
        letter of the results... passing true will lowercase it
    Returns:
      String - lower case underscored words will be returned in humanized form
    Examples:
      "message_properties".humanize() == "Message properties"
      "message_properties".humanize(true) == "message properties"
*/
if (!String.prototype.humanize)
{
    String.prototype.humanize = function(lowFirstLetter)
    {
        var str = this.toLowerCase();
        str = str.replace(InflectionJS.id_suffix, '');
        str = str.replace(InflectionJS.underbar, ' ');
        if (!lowFirstLetter)
        {
            str = str.capitalize();
        }
        return str;
    };
}

/*
  This function adds capitalization support to every String object
    Signature:
      String.capitalize() == String
    Arguments:
      N/A
    Returns:
      String - all characters will be lower case and the first will be upper
    Examples:
      "message_properties".capitalize() == "Message_properties"
      "message properties".capitalize() == "Message properties"
*/
if (!String.prototype.capitalize)
{
    String.prototype.capitalize = function()
    {
        var str = this.toLowerCase();
        str = str.substring(0, 1).toUpperCase() + str.substring(1);
        return str;
    };
}

/*
  This function adds dasherization support to every String object
    Signature:
      String.dasherize() == String
    Arguments:
      N/A
    Returns:
      String - replaces all spaces or underbars with dashes
    Examples:
      "message_properties".capitalize() == "message-properties"
      "Message Properties".capitalize() == "Message-Properties"
*/
if (!String.prototype.dasherize)
{
    String.prototype.dasherize = function()
    {
        var str = this;
        str = str.replace(InflectionJS.space_or_underbar, '-');
        return str;
    };
}

/*
  This function adds titleize support to every String object
    Signature:
      String.titleize() == String
    Arguments:
      N/A
    Returns:
      String - capitalizes words as you would for a book title
    Examples:
      "message_properties".titleize() == "Message Properties"
      "message properties to keep".titleize() == "Message Properties to Keep"
*/
if (!String.prototype.titleize)
{
    String.prototype.titleize = function()
    {
        var str = this.toLowerCase();
        str = str.replace(InflectionJS.underbar, ' ');
        var str_arr = str.split(' ');
        for (var x = 0; x < str_arr.length; x++)
        {
            var d = str_arr[x].split('-');
            for (var i = 0; i < d.length; i++)
            {
                if (this._non_titlecased_words.indexOf(d[i].toLowerCase()) < 0)
                {
                    d[i] = d[i].capitalize();
                }
            }
            str_arr[x] = d.join('-');
        }
        str = str_arr.join(' ');
        str = str.substring(0, 1).toUpperCase() + str.substring(1);
        return str;
    };
}

/*
  This function adds demodulize support to every String object
    Signature:
      String.demodulize() == String
    Arguments:
      N/A
    Returns:
      String - removes module names leaving only class names (Ruby style)
    Examples:
      "Message::Bus::Properties".demodulize() == "Properties"
*/
if (!String.prototype.demodulize)
{
    String.prototype.demodulize = function()
    {
        var str = this;
        var str_arr = str.split('::');
        str = str_arr[str_arr.length - 1];
        return str;
    };
}

/*
  This function adds tableize support to every String object
    Signature:
      String.tableize() == String
    Arguments:
      N/A
    Returns:
      String - renders camel cased words into their underscored plural form
    Examples:
      "MessageBusProperty".tableize() == "message_bus_properties"
*/
if (!String.prototype.tableize)
{
    String.prototype.tableize = function()
    {
        var str = this;
        str = str.underscore().pluralize();
        return str;
    };
}

/*
  This function adds classification support to every String object
    Signature:
      String.classify() == String
    Arguments:
      N/A
    Returns:
      String - underscored plural nouns become the camel cased singular form
    Examples:
      "message_bus_properties".classify() == "MessageBusProperty"
*/
if (!String.prototype.classify)
{
    String.prototype.classify = function()
    {
        var str = this;
        str = str.camelize().singularize();
        return str;
    };
}

/*
  This function adds foreign key support to every String object
    Signature:
      String.foreign_key(dropIdUbar) == String
    Arguments:
      dropIdUbar - boolean (optional) - default is to seperate id with an
        underbar at the end of the class name, you can pass true to skip it
    Returns:
      String - camel cased singular class names become underscored with id
    Examples:
      "MessageBusProperty".foreign_key() == "message_bus_property_id"
      "MessageBusProperty".foreign_key(true) == "message_bus_propertyid"
*/
if (!String.prototype.foreign_key)
{
    String.prototype.foreign_key = function(dropIdUbar)
    {
        var str = this;
        str = str.demodulize().underscore() + ((dropIdUbar) ? ('') : ('_')) + 'id';
        return str;
    };
}

/*
  This function adds ordinalize support to every String object
    Signature:
      String.ordinalize() == String
    Arguments:
      N/A
    Returns:
      String - renders all found numbers their sequence like "22nd"
    Examples:
      "the 1 pitch".ordinalize() == "the 1st pitch"
*/
if (!String.prototype.ordinalize)
{
    String.prototype.ordinalize = function()
    {
        var str = this;
        var str_arr = str.split(' ');
        for (var x = 0; x < str_arr.length; x++)
        {
            var i = parseInt(str_arr[x]);
            if (i === NaN)
            {
                var ltd = str_arr[x].substring(str_arr[x].length - 2);
                var ld = str_arr[x].substring(str_arr[x].length - 1);
                var suf = "th";
                if (ltd != "11" && ltd != "12" && ltd != "13")
                {
                    if (ld === "1")
                    {
                        suf = "st";
                    }
                    else if (ld === "2")
                    {
                        suf = "nd";
                    }
                    else if (ld === "3")
                    {
                        suf = "rd";
                    }
                }
                str_arr[x] += suf;
            }
        }
        str = str_arr.join(' ');
        return str;
    };
}

(function ($) {
		
		var daysInWeek = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
		var shortMonthsInYear = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
		var longMonthsInYear = ["January", "February", "March", "April", "May", "June", 
														"July", "August", "September", "October", "November", "December"];
		var shortMonthsToNumber = [];
		shortMonthsToNumber["Jan"] = "01";
		shortMonthsToNumber["Feb"] = "02";
		shortMonthsToNumber["Mar"] = "03";
		shortMonthsToNumber["Apr"] = "04";
		shortMonthsToNumber["May"] = "05";
		shortMonthsToNumber["Jun"] = "06";
		shortMonthsToNumber["Jul"] = "07";
		shortMonthsToNumber["Aug"] = "08";
		shortMonthsToNumber["Sep"] = "09";
		shortMonthsToNumber["Oct"] = "10";
		shortMonthsToNumber["Nov"] = "11";
		shortMonthsToNumber["Dec"] = "12";
	
    $.format = (function () {
        function strDay(value) {
 						return daysInWeek[parseInt(value, 10)] || value;
        }

        function strMonth(value) {
						var monthArrayIndex = parseInt(value, 10) - 1;
 						return shortMonthsInYear[monthArrayIndex] || value;
        }

        function strLongMonth(value) {
					var monthArrayIndex = parseInt(value, 10) - 1;
					return longMonthsInYear[monthArrayIndex] || value;					
        }

        var parseMonth = function (value) {
					return shortMonthsToNumber[value] || value;
        };

        var parseTime = function (value) {
                var retValue = value;
                var millis = "";
                if (retValue.indexOf(".") !== -1) {
                    var delimited = retValue.split('.');
                    retValue = delimited[0];
                    millis = delimited[1];
                }

                var values3 = retValue.split(":");

                if (values3.length === 3) {
                    hour = values3[0];
                    minute = values3[1];
                    second = values3[2];

                    return {
                        time: retValue,
                        hour: hour,
                        minute: minute,
                        second: second,
                        millis: millis
                    };
                } else {
                    return {
                        time: "",
                        hour: "",
                        minute: "",
                        second: "",
                        millis: ""
                    };
                }
            };

        return {
            date: function (value, format) {
                /* 
					value = new java.util.Date()
                 	2009-12-18 10:54:50.546 
				*/
                try {
                    var date = null;
                    var year = null;
                    var month = null;
                    var dayOfMonth = null;
                    var dayOfWeek = null;
                    var time = null;
                    if (typeof value.getFullYear === "function") {
                        year = value.getFullYear();
                        month = value.getMonth() + 1;
                        dayOfMonth = value.getDate();
                        dayOfWeek = value.getDay();
                        time = parseTime(value.toTimeString());
										} else if (value.search(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[-+]?\d{2}:\d{2}/) != -1) { /* 2009-04-19T16:11:05+02:00 */
                        var values = value.split(/[T\+-]/);
                        year = values[0];
                        month = values[1];
                        dayOfMonth = values[2];
                        time = parseTime(values[3].split(".")[0]);
                        date = new Date(year, month - 1, dayOfMonth);
                        dayOfWeek = date.getDay();
                    } else {
                        var values = value.split(" ");
                        switch (values.length) {
                        case 6:
                            /* Wed Jan 13 10:43:41 CET 2010 */
                            year = values[5];
                            month = parseMonth(values[1]);
                            dayOfMonth = values[2];
                            time = parseTime(values[3]);
                            date = new Date(year, month - 1, dayOfMonth);
                            dayOfWeek = date.getDay();
                            break;
                        case 2:
                            /* 2009-12-18 10:54:50.546 */
                            var values2 = values[0].split("-");
                            year = values2[0];
                            month = values2[1];
                            dayOfMonth = values2[2];
                            time = parseTime(values[1]);
                            date = new Date(year, month - 1, dayOfMonth);
                            dayOfWeek = date.getDay();
                            break;
                        case 7:
                            /* Tue Mar 01 2011 12:01:42 GMT-0800 (PST) */
                        case 9:
                            /*added by Larry, for Fri Apr 08 2011 00:00:00 GMT+0800 (China Standard Time) */
                        case 10:
                            /* added by Larry, for Fri Apr 08 2011 00:00:00 GMT+0200 (W. Europe Daylight Time) */
                            year = values[3];
                            month = parseMonth(values[1]);
                            dayOfMonth = values[2];
                            time = parseTime(values[4]);
                            date = new Date(year, month - 1, dayOfMonth);
                            dayOfWeek = date.getDay();
                            break;
                        default:
                            return value;
                        }
                    }

                    var pattern = "";
                    var retValue = "";
                    /*
						Issue 1 - variable scope issue in format.date 
                    	Thanks jakemonO
					*/
                    for (var i = 0; i < format.length; i++) {
                        var currentPattern = format.charAt(i);
                        pattern += currentPattern;
                        switch (pattern) {
                        case "ddd":
                            retValue += strDay(dayOfWeek);
                            pattern = "";
                            break;
                        case "dd":
                            if (format.charAt(i + 1) == "d") {
                                break;
                            }
                            if (String(dayOfMonth).length === 1) {
                                dayOfMonth = '0' + dayOfMonth;
                            }
                            retValue += dayOfMonth;
                            pattern = "";
                            break;
                        case "MMMM":
                            retValue += strLongMonth(month);
                            pattern = "";
                            break;
                        case "MMM":
                            if (format.charAt(i + 1) === "M") {
                                break;
                            }
                            retValue += strMonth(month);
                            pattern = "";
                            break;
                        case "MM":
                            if (format.charAt(i + 1) == "M") {
                                break;
                            }
                            if (String(month).length === 1) {
                                month = '0' + month;
                            }
                            retValue += month;
                            pattern = "";
                            break;
                        case "yyyy":
                            retValue += year;
                            pattern = "";
                            break;
                        case "HH":
                            retValue += time.hour;
                            pattern = "";
                            break;
                        case "hh":
                            /* time.hour is "00" as string == is used instead of === */
                            retValue += (time.hour == 0 ? 12 : time.hour < 13 ? time.hour : time.hour - 12);
                            pattern = "";
                            break;
                        case "mm":
                            retValue += time.minute;
                            pattern = "";
                            break;
                        case "ss":
                            /* ensure only seconds are added to the return string */
                            retValue += time.second.substring(0, 2);
                            pattern = "";
                            break;
                        case "SSS":
                            retValue += time.millis.substring(0, 3);
                            pattern = "";
                            break;
                        case "a":
                            retValue += time.hour >= 12 ? "PM" : "AM";
                            pattern = "";
                            break;
                        case " ":
                            retValue += currentPattern;
                            pattern = "";
                            break;
                        case "/":
                            retValue += currentPattern;
                            pattern = "";
                            break;
                        case ":":
                            retValue += currentPattern;
                            pattern = "";
                            break;
                        default:
                            if (pattern.length === 2 && pattern.indexOf("y") !== 0 && pattern != "SS") {
                                retValue += pattern.substring(0, 1);
                                pattern = pattern.substring(1, 2);
                            } else if ((pattern.length === 3 && pattern.indexOf("yyy") === -1)) {
                                pattern = "";
                            }
                        }
                    }
                    return retValue;
                } catch (e) {
                    console.log(e);
                    return value;
                }
            }
        };
    }());
}(jQuery));


$(document).ready(function () {
    $(".shortDateFormat").each(function (idx, elem) {
        if ($(elem).is(":input")) {
            $(elem).val($.format.date($(elem).val(), "dd/MM/yyyy"));
        } else {
            $(elem).text($.format.date($(elem).text(), "dd/MM/yyyy"));
        }
    });
    $(".longDateFormat").each(function (idx, elem) {
        if ($(elem).is(":input")) {
            $(elem).val($.format.date($(elem).val(), "dd/MM/yyyy hh:mm:ss"));
        } else {
            $(elem).text($.format.date($(elem).text(), "dd/MM/yyyy hh:mm:ss"));
        }
    });
});

/*! DataTables 1.10.4
 * 2008-2014 SpryMedia Ltd - datatables.net/license
 */
(function(Da,P,l){var O=function(g){function V(a){var b,c,e={};g.each(a,function(d){if((b=d.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(b[1]+" "))c=d.replace(b[0],b[2].toLowerCase()),e[c]=d,"o"===b[1]&&V(a[d])});a._hungarianMap=e}function G(a,b,c){a._hungarianMap||V(a);var e;g.each(b,function(d){e=a._hungarianMap[d];if(e!==l&&(c||b[e]===l))"o"===e.charAt(0)?(b[e]||(b[e]={}),g.extend(!0,b[e],b[d]),G(a[e],b[e],c)):b[e]=b[d]})}function O(a){var b=p.defaults.oLanguage,c=a.sZeroRecords;
!a.sEmptyTable&&(c&&"No data available in table"===b.sEmptyTable)&&D(a,a,"sZeroRecords","sEmptyTable");!a.sLoadingRecords&&(c&&"Loading..."===b.sLoadingRecords)&&D(a,a,"sZeroRecords","sLoadingRecords");a.sInfoThousands&&(a.sThousands=a.sInfoThousands);(a=a.sDecimal)&&cb(a)}function db(a){z(a,"ordering","bSort");z(a,"orderMulti","bSortMulti");z(a,"orderClasses","bSortClasses");z(a,"orderCellsTop","bSortCellsTop");z(a,"order","aaSorting");z(a,"orderFixed","aaSortingFixed");z(a,"paging","bPaginate");
z(a,"pagingType","sPaginationType");z(a,"pageLength","iDisplayLength");z(a,"searching","bFilter");if(a=a.aoSearchCols)for(var b=0,c=a.length;b<c;b++)a[b]&&G(p.models.oSearch,a[b])}function eb(a){z(a,"orderable","bSortable");z(a,"orderData","aDataSort");z(a,"orderSequence","asSorting");z(a,"orderDataType","sortDataType")}function fb(a){var a=a.oBrowser,b=g("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(g("<div/>").css({position:"absolute",top:1,left:1,width:100,
overflow:"scroll"}).append(g('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),c=b.find(".test");a.bScrollOversize=100===c[0].offsetWidth;a.bScrollbarLeft=1!==c.offset().left;b.remove()}function gb(a,b,c,e,d,f){var h,i=!1;c!==l&&(h=c,i=!0);for(;e!==d;)a.hasOwnProperty(e)&&(h=i?b(h,a[e],e,a):a[e],i=!0,e+=f);return h}function Ea(a,b){var c=p.defaults.column,e=a.aoColumns.length,c=g.extend({},p.models.oColumn,c,{nTh:b?b:P.createElement("th"),sTitle:c.sTitle?c.sTitle:b?b.innerHTML:
"",aDataSort:c.aDataSort?c.aDataSort:[e],mData:c.mData?c.mData:e,idx:e});a.aoColumns.push(c);c=a.aoPreSearchCols;c[e]=g.extend({},p.models.oSearch,c[e]);ja(a,e,null)}function ja(a,b,c){var b=a.aoColumns[b],e=a.oClasses,d=g(b.nTh);if(!b.sWidthOrig){b.sWidthOrig=d.attr("width")||null;var f=(d.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);f&&(b.sWidthOrig=f[1])}c!==l&&null!==c&&(eb(c),G(p.defaults.column,c),c.mDataProp!==l&&!c.mData&&(c.mData=c.mDataProp),c.sType&&(b._sManualType=c.sType),c.className&&
!c.sClass&&(c.sClass=c.className),g.extend(b,c),D(b,c,"sWidth","sWidthOrig"),"number"===typeof c.iDataSort&&(b.aDataSort=[c.iDataSort]),D(b,c,"aDataSort"));var h=b.mData,i=W(h),j=b.mRender?W(b.mRender):null,c=function(a){return"string"===typeof a&&-1!==a.indexOf("@")};b._bAttrSrc=g.isPlainObject(h)&&(c(h.sort)||c(h.type)||c(h.filter));b.fnGetData=function(a,b,c){var e=i(a,b,l,c);return j&&b?j(e,b,a,c):e};b.fnSetData=function(a,b,c){return Q(h)(a,b,c)};"number"!==typeof h&&(a._rowReadObject=!0);a.oFeatures.bSort||
(b.bSortable=!1,d.addClass(e.sSortableNone));a=-1!==g.inArray("asc",b.asSorting);c=-1!==g.inArray("desc",b.asSorting);!b.bSortable||!a&&!c?(b.sSortingClass=e.sSortableNone,b.sSortingClassJUI=""):a&&!c?(b.sSortingClass=e.sSortableAsc,b.sSortingClassJUI=e.sSortJUIAscAllowed):!a&&c?(b.sSortingClass=e.sSortableDesc,b.sSortingClassJUI=e.sSortJUIDescAllowed):(b.sSortingClass=e.sSortable,b.sSortingClassJUI=e.sSortJUI)}function X(a){if(!1!==a.oFeatures.bAutoWidth){var b=a.aoColumns;Fa(a);for(var c=0,e=b.length;c<
e;c++)b[c].nTh.style.width=b[c].sWidth}b=a.oScroll;(""!==b.sY||""!==b.sX)&&Y(a);u(a,null,"column-sizing",[a])}function ka(a,b){var c=Z(a,"bVisible");return"number"===typeof c[b]?c[b]:null}function $(a,b){var c=Z(a,"bVisible"),c=g.inArray(b,c);return-1!==c?c:null}function aa(a){return Z(a,"bVisible").length}function Z(a,b){var c=[];g.map(a.aoColumns,function(a,d){a[b]&&c.push(d)});return c}function Ga(a){var b=a.aoColumns,c=a.aoData,e=p.ext.type.detect,d,f,h,i,j,g,m,o,k;d=0;for(f=b.length;d<f;d++)if(m=
b[d],k=[],!m.sType&&m._sManualType)m.sType=m._sManualType;else if(!m.sType){h=0;for(i=e.length;h<i;h++){j=0;for(g=c.length;j<g;j++){k[j]===l&&(k[j]=v(a,j,d,"type"));o=e[h](k[j],a);if(!o&&h!==e.length-1)break;if("html"===o)break}if(o){m.sType=o;break}}m.sType||(m.sType="string")}}function hb(a,b,c,e){var d,f,h,i,j,n,m=a.aoColumns;if(b)for(d=b.length-1;0<=d;d--){n=b[d];var o=n.targets!==l?n.targets:n.aTargets;g.isArray(o)||(o=[o]);f=0;for(h=o.length;f<h;f++)if("number"===typeof o[f]&&0<=o[f]){for(;m.length<=
o[f];)Ea(a);e(o[f],n)}else if("number"===typeof o[f]&&0>o[f])e(m.length+o[f],n);else if("string"===typeof o[f]){i=0;for(j=m.length;i<j;i++)("_all"==o[f]||g(m[i].nTh).hasClass(o[f]))&&e(i,n)}}if(c){d=0;for(a=c.length;d<a;d++)e(d,c[d])}}function I(a,b,c,e){var d=a.aoData.length,f=g.extend(!0,{},p.models.oRow,{src:c?"dom":"data"});f._aData=b;a.aoData.push(f);for(var b=a.aoColumns,f=0,h=b.length;f<h;f++)c&&Ha(a,d,f,v(a,d,f)),b[f].sType=null;a.aiDisplayMaster.push(d);(c||!a.oFeatures.bDeferRender)&&Ia(a,
d,c,e);return d}function la(a,b){var c;b instanceof g||(b=g(b));return b.map(function(b,d){c=ma(a,d);return I(a,c.data,d,c.cells)})}function v(a,b,c,e){var d=a.iDraw,f=a.aoColumns[c],h=a.aoData[b]._aData,i=f.sDefaultContent,c=f.fnGetData(h,e,{settings:a,row:b,col:c});if(c===l)return a.iDrawError!=d&&null===i&&(R(a,0,"Requested unknown parameter "+("function"==typeof f.mData?"{function}":"'"+f.mData+"'")+" for row "+b,4),a.iDrawError=d),i;if((c===h||null===c)&&null!==i)c=i;else if("function"===typeof c)return c.call(h);
return null===c&&"display"==e?"":c}function Ha(a,b,c,e){a.aoColumns[c].fnSetData(a.aoData[b]._aData,e,{settings:a,row:b,col:c})}function Ja(a){return g.map(a.match(/(\\.|[^\.])+/g),function(a){return a.replace(/\\./g,".")})}function W(a){if(g.isPlainObject(a)){var b={};g.each(a,function(a,c){c&&(b[a]=W(c))});return function(a,c,f,h){var i=b[c]||b._;return i!==l?i(a,c,f,h):a}}if(null===a)return function(a){return a};if("function"===typeof a)return function(b,c,f,h){return a(b,c,f,h)};if("string"===
typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var c=function(a,b,f){var h,i;if(""!==f){i=Ja(f);for(var j=0,g=i.length;j<g;j++){f=i[j].match(ba);h=i[j].match(S);if(f){i[j]=i[j].replace(ba,"");""!==i[j]&&(a=a[i[j]]);h=[];i.splice(0,j+1);i=i.join(".");j=0;for(g=a.length;j<g;j++)h.push(c(a[j],b,i));a=f[0].substring(1,f[0].length-1);a=""===a?h:h.join(a);break}else if(h){i[j]=i[j].replace(S,"");a=a[i[j]]();continue}if(null===a||a[i[j]]===l)return l;a=a[i[j]]}}return a};return function(b,
d){return c(b,d,a)}}return function(b){return b[a]}}function Q(a){if(g.isPlainObject(a))return Q(a._);if(null===a)return function(){};if("function"===typeof a)return function(b,e,d){a(b,"set",e,d)};if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(a,e,d){var d=Ja(d),f;f=d[d.length-1];for(var h,i,j=0,g=d.length-1;j<g;j++){h=d[j].match(ba);i=d[j].match(S);if(h){d[j]=d[j].replace(ba,"");a[d[j]]=[];f=d.slice();f.splice(0,j+1);h=f.join(".");i=0;for(g=
e.length;i<g;i++)f={},b(f,e[i],h),a[d[j]].push(f);return}i&&(d[j]=d[j].replace(S,""),a=a[d[j]](e));if(null===a[d[j]]||a[d[j]]===l)a[d[j]]={};a=a[d[j]]}if(f.match(S))a[f.replace(S,"")](e);else a[f.replace(ba,"")]=e};return function(c,e){return b(c,e,a)}}return function(b,e){b[a]=e}}function Ka(a){return C(a.aoData,"_aData")}function na(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0}function oa(a,b,c){for(var e=-1,d=0,f=a.length;d<f;d++)a[d]==b?e=d:a[d]>b&&a[d]--; -1!=e&&c===l&&
a.splice(e,1)}function ca(a,b,c,e){var d=a.aoData[b],f,h=function(c,f){for(;c.childNodes.length;)c.removeChild(c.firstChild);c.innerHTML=v(a,b,f,"display")};if("dom"===c||(!c||"auto"===c)&&"dom"===d.src)d._aData=ma(a,d,e,e===l?l:d._aData).data;else{var i=d.anCells;if(i)if(e!==l)h(i[e],e);else{c=0;for(f=i.length;c<f;c++)h(i[c],c)}}d._aSortData=null;d._aFilterData=null;h=a.aoColumns;if(e!==l)h[e].sType=null;else{c=0;for(f=h.length;c<f;c++)h[c].sType=null;La(d)}}function ma(a,b,c,e){var d=[],f=b.firstChild,
h,i=0,j,n=a.aoColumns,m=a._rowReadObject,e=e||m?{}:[],o=function(a,b){if("string"===typeof a){var c=a.indexOf("@");-1!==c&&(c=a.substring(c+1),Q(a)(e,b.getAttribute(c)))}},a=function(a){if(c===l||c===i)h=n[i],j=g.trim(a.innerHTML),h&&h._bAttrSrc?(Q(h.mData._)(e,j),o(h.mData.sort,a),o(h.mData.type,a),o(h.mData.filter,a)):m?(h._setter||(h._setter=Q(h.mData)),h._setter(e,j)):e[i]=j;i++};if(f)for(;f;){b=f.nodeName.toUpperCase();if("TD"==b||"TH"==b)a(f),d.push(f);f=f.nextSibling}else{d=b.anCells;f=0;for(b=
d.length;f<b;f++)a(d[f])}return{data:e,cells:d}}function Ia(a,b,c,e){var d=a.aoData[b],f=d._aData,h=[],i,j,g,m,o;if(null===d.nTr){i=c||P.createElement("tr");d.nTr=i;d.anCells=h;i._DT_RowIndex=b;La(d);m=0;for(o=a.aoColumns.length;m<o;m++){g=a.aoColumns[m];j=c?e[m]:P.createElement(g.sCellType);h.push(j);if(!c||g.mRender||g.mData!==m)j.innerHTML=v(a,b,m,"display");g.sClass&&(j.className+=" "+g.sClass);g.bVisible&&!c?i.appendChild(j):!g.bVisible&&c&&j.parentNode.removeChild(j);g.fnCreatedCell&&g.fnCreatedCell.call(a.oInstance,
j,v(a,b,m),f,b,m)}u(a,"aoRowCreatedCallback",null,[i,f,b])}d.nTr.setAttribute("role","row")}function La(a){var b=a.nTr,c=a._aData;if(b){c.DT_RowId&&(b.id=c.DT_RowId);if(c.DT_RowClass){var e=c.DT_RowClass.split(" ");a.__rowc=a.__rowc?Ma(a.__rowc.concat(e)):e;g(b).removeClass(a.__rowc.join(" ")).addClass(c.DT_RowClass)}c.DT_RowData&&g(b).data(c.DT_RowData)}}function ib(a){var b,c,e,d,f,h=a.nTHead,i=a.nTFoot,j=0===g("th, td",h).length,n=a.oClasses,m=a.aoColumns;j&&(d=g("<tr/>").appendTo(h));b=0;for(c=
m.length;b<c;b++)f=m[b],e=g(f.nTh).addClass(f.sClass),j&&e.appendTo(d),a.oFeatures.bSort&&(e.addClass(f.sSortingClass),!1!==f.bSortable&&(e.attr("tabindex",a.iTabIndex).attr("aria-controls",a.sTableId),Na(a,f.nTh,b))),f.sTitle!=e.html()&&e.html(f.sTitle),Oa(a,"header")(a,e,f,n);j&&da(a.aoHeader,h);g(h).find(">tr").attr("role","row");g(h).find(">tr>th, >tr>td").addClass(n.sHeaderTH);g(i).find(">tr>th, >tr>td").addClass(n.sFooterTH);if(null!==i){a=a.aoFooter[0];b=0;for(c=a.length;b<c;b++)f=m[b],f.nTf=
a[b].cell,f.sClass&&g(f.nTf).addClass(f.sClass)}}function ea(a,b,c){var e,d,f,h=[],i=[],j=a.aoColumns.length,n;if(b){c===l&&(c=!1);e=0;for(d=b.length;e<d;e++){h[e]=b[e].slice();h[e].nTr=b[e].nTr;for(f=j-1;0<=f;f--)!a.aoColumns[f].bVisible&&!c&&h[e].splice(f,1);i.push([])}e=0;for(d=h.length;e<d;e++){if(a=h[e].nTr)for(;f=a.firstChild;)a.removeChild(f);f=0;for(b=h[e].length;f<b;f++)if(n=j=1,i[e][f]===l){a.appendChild(h[e][f].cell);for(i[e][f]=1;h[e+j]!==l&&h[e][f].cell==h[e+j][f].cell;)i[e+j][f]=1,j++;
for(;h[e][f+n]!==l&&h[e][f].cell==h[e][f+n].cell;){for(c=0;c<j;c++)i[e+c][f+n]=1;n++}g(h[e][f].cell).attr("rowspan",j).attr("colspan",n)}}}}function L(a){var b=u(a,"aoPreDrawCallback","preDraw",[a]);if(-1!==g.inArray(!1,b))B(a,!1);else{var b=[],c=0,e=a.asStripeClasses,d=e.length,f=a.oLanguage,h=a.iInitDisplayStart,i="ssp"==A(a),j=a.aiDisplay;a.bDrawing=!0;h!==l&&-1!==h&&(a._iDisplayStart=i?h:h>=a.fnRecordsDisplay()?0:h,a.iInitDisplayStart=-1);var h=a._iDisplayStart,n=a.fnDisplayEnd();if(a.bDeferLoading)a.bDeferLoading=
!1,a.iDraw++,B(a,!1);else if(i){if(!a.bDestroying&&!jb(a))return}else a.iDraw++;if(0!==j.length){f=i?a.aoData.length:n;for(i=i?0:h;i<f;i++){var m=j[i],o=a.aoData[m];null===o.nTr&&Ia(a,m);m=o.nTr;if(0!==d){var k=e[c%d];o._sRowStripe!=k&&(g(m).removeClass(o._sRowStripe).addClass(k),o._sRowStripe=k)}u(a,"aoRowCallback",null,[m,o._aData,c,i]);b.push(m);c++}}else c=f.sZeroRecords,1==a.iDraw&&"ajax"==A(a)?c=f.sLoadingRecords:f.sEmptyTable&&0===a.fnRecordsTotal()&&(c=f.sEmptyTable),b[0]=g("<tr/>",{"class":d?
e[0]:""}).append(g("<td />",{valign:"top",colSpan:aa(a),"class":a.oClasses.sRowEmpty}).html(c))[0];u(a,"aoHeaderCallback","header",[g(a.nTHead).children("tr")[0],Ka(a),h,n,j]);u(a,"aoFooterCallback","footer",[g(a.nTFoot).children("tr")[0],Ka(a),h,n,j]);e=g(a.nTBody);e.children().detach();e.append(g(b));u(a,"aoDrawCallback","draw",[a]);a.bSorted=!1;a.bFiltered=!1;a.bDrawing=!1}}function M(a,b){var c=a.oFeatures,e=c.bFilter;c.bSort&&kb(a);e?fa(a,a.oPreviousSearch):a.aiDisplay=a.aiDisplayMaster.slice();
!0!==b&&(a._iDisplayStart=0);a._drawHold=b;L(a);a._drawHold=!1}function lb(a){var b=a.oClasses,c=g(a.nTable),c=g("<div/>").insertBefore(c),e=a.oFeatures,d=g("<div/>",{id:a.sTableId+"_wrapper","class":b.sWrapper+(a.nTFoot?"":" "+b.sNoFooter)});a.nHolding=c[0];a.nTableWrapper=d[0];a.nTableReinsertBefore=a.nTable.nextSibling;for(var f=a.sDom.split(""),h,i,j,n,m,o,k=0;k<f.length;k++){h=null;i=f[k];if("<"==i){j=g("<div/>")[0];n=f[k+1];if("'"==n||'"'==n){m="";for(o=2;f[k+o]!=n;)m+=f[k+o],o++;"H"==m?m=b.sJUIHeader:
"F"==m&&(m=b.sJUIFooter);-1!=m.indexOf(".")?(n=m.split("."),j.id=n[0].substr(1,n[0].length-1),j.className=n[1]):"#"==m.charAt(0)?j.id=m.substr(1,m.length-1):j.className=m;k+=o}d.append(j);d=g(j)}else if(">"==i)d=d.parent();else if("l"==i&&e.bPaginate&&e.bLengthChange)h=mb(a);else if("f"==i&&e.bFilter)h=nb(a);else if("r"==i&&e.bProcessing)h=ob(a);else if("t"==i)h=pb(a);else if("i"==i&&e.bInfo)h=qb(a);else if("p"==i&&e.bPaginate)h=rb(a);else if(0!==p.ext.feature.length){j=p.ext.feature;o=0;for(n=j.length;o<
n;o++)if(i==j[o].cFeature){h=j[o].fnInit(a);break}}h&&(j=a.aanFeatures,j[i]||(j[i]=[]),j[i].push(h),d.append(h))}c.replaceWith(d)}function da(a,b){var c=g(b).children("tr"),e,d,f,h,i,j,n,m,o,k;a.splice(0,a.length);f=0;for(j=c.length;f<j;f++)a.push([]);f=0;for(j=c.length;f<j;f++){e=c[f];for(d=e.firstChild;d;){if("TD"==d.nodeName.toUpperCase()||"TH"==d.nodeName.toUpperCase()){m=1*d.getAttribute("colspan");o=1*d.getAttribute("rowspan");m=!m||0===m||1===m?1:m;o=!o||0===o||1===o?1:o;h=0;for(i=a[f];i[h];)h++;
n=h;k=1===m?!0:!1;for(i=0;i<m;i++)for(h=0;h<o;h++)a[f+h][n+i]={cell:d,unique:k},a[f+h].nTr=e}d=d.nextSibling}}}function pa(a,b,c){var e=[];c||(c=a.aoHeader,b&&(c=[],da(c,b)));for(var b=0,d=c.length;b<d;b++)for(var f=0,h=c[b].length;f<h;f++)if(c[b][f].unique&&(!e[f]||!a.bSortCellsTop))e[f]=c[b][f].cell;return e}function qa(a,b,c){u(a,"aoServerParams","serverParams",[b]);if(b&&g.isArray(b)){var e={},d=/(.*?)\[\]$/;g.each(b,function(a,b){var c=b.name.match(d);c?(c=c[0],e[c]||(e[c]=[]),e[c].push(b.value)):
e[b.name]=b.value});b=e}var f,h=a.ajax,i=a.oInstance;if(g.isPlainObject(h)&&h.data){f=h.data;var j=g.isFunction(f)?f(b):f,b=g.isFunction(f)&&j?j:g.extend(!0,b,j);delete h.data}j={data:b,success:function(b){var f=b.error||b.sError;f&&a.oApi._fnLog(a,0,f);a.json=b;u(a,null,"xhr",[a,b]);c(b)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(b,c){var f=a.oApi._fnLog;"parsererror"==c?f(a,0,"Invalid JSON response",1):4===b.readyState&&f(a,0,"Ajax error",7);B(a,!1)}};a.oAjaxData=b;u(a,null,"preXhr",
[a,b]);a.fnServerData?a.fnServerData.call(i,a.sAjaxSource,g.map(b,function(a,b){return{name:b,value:a}}),c,a):a.sAjaxSource||"string"===typeof h?a.jqXHR=g.ajax(g.extend(j,{url:h||a.sAjaxSource})):g.isFunction(h)?a.jqXHR=h.call(i,b,c,a):(a.jqXHR=g.ajax(g.extend(j,h)),h.data=f)}function jb(a){return a.bAjaxDataGet?(a.iDraw++,B(a,!0),qa(a,sb(a),function(b){tb(a,b)}),!1):!0}function sb(a){var b=a.aoColumns,c=b.length,e=a.oFeatures,d=a.oPreviousSearch,f=a.aoPreSearchCols,h,i=[],j,n,m,o=T(a);h=a._iDisplayStart;
j=!1!==e.bPaginate?a._iDisplayLength:-1;var k=function(a,b){i.push({name:a,value:b})};k("sEcho",a.iDraw);k("iColumns",c);k("sColumns",C(b,"sName").join(","));k("iDisplayStart",h);k("iDisplayLength",j);var l={draw:a.iDraw,columns:[],order:[],start:h,length:j,search:{value:d.sSearch,regex:d.bRegex}};for(h=0;h<c;h++)n=b[h],m=f[h],j="function"==typeof n.mData?"function":n.mData,l.columns.push({data:j,name:n.sName,searchable:n.bSearchable,orderable:n.bSortable,search:{value:m.sSearch,regex:m.bRegex}}),
k("mDataProp_"+h,j),e.bFilter&&(k("sSearch_"+h,m.sSearch),k("bRegex_"+h,m.bRegex),k("bSearchable_"+h,n.bSearchable)),e.bSort&&k("bSortable_"+h,n.bSortable);e.bFilter&&(k("sSearch",d.sSearch),k("bRegex",d.bRegex));e.bSort&&(g.each(o,function(a,b){l.order.push({column:b.col,dir:b.dir});k("iSortCol_"+a,b.col);k("sSortDir_"+a,b.dir)}),k("iSortingCols",o.length));b=p.ext.legacy.ajax;return null===b?a.sAjaxSource?i:l:b?i:l}function tb(a,b){var c=b.sEcho!==l?b.sEcho:b.draw,e=b.iTotalRecords!==l?b.iTotalRecords:
b.recordsTotal,d=b.iTotalDisplayRecords!==l?b.iTotalDisplayRecords:b.recordsFiltered;if(c){if(1*c<a.iDraw)return;a.iDraw=1*c}na(a);a._iRecordsTotal=parseInt(e,10);a._iRecordsDisplay=parseInt(d,10);c=ra(a,b);e=0;for(d=c.length;e<d;e++)I(a,c[e]);a.aiDisplay=a.aiDisplayMaster.slice();a.bAjaxDataGet=!1;L(a);a._bInitComplete||sa(a,b);a.bAjaxDataGet=!0;B(a,!1)}function ra(a,b){var c=g.isPlainObject(a.ajax)&&a.ajax.dataSrc!==l?a.ajax.dataSrc:a.sAjaxDataProp;return"data"===c?b.aaData||b[c]:""!==c?W(c)(b):
b}function nb(a){var b=a.oClasses,c=a.sTableId,e=a.oLanguage,d=a.oPreviousSearch,f=a.aanFeatures,h='<input type="search" class="'+b.sFilterInput+'"/>',i=e.sSearch,i=i.match(/_INPUT_/)?i.replace("_INPUT_",h):i+h,b=g("<div/>",{id:!f.f?c+"_filter":null,"class":b.sFilter}).append(g("<label/>").append(i)),f=function(){var b=!this.value?"":this.value;b!=d.sSearch&&(fa(a,{sSearch:b,bRegex:d.bRegex,bSmart:d.bSmart,bCaseInsensitive:d.bCaseInsensitive}),a._iDisplayStart=0,L(a))},h=null!==a.searchDelay?a.searchDelay:
"ssp"===A(a)?400:0,j=g("input",b).val(d.sSearch).attr("placeholder",e.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",h?ta(f,h):f).bind("keypress.DT",function(a){if(13==a.keyCode)return!1}).attr("aria-controls",c);g(a.nTable).on("search.dt.DT",function(b,c){if(a===c)try{j[0]!==P.activeElement&&j.val(d.sSearch)}catch(f){}});return b[0]}function fa(a,b,c){var e=a.oPreviousSearch,d=a.aoPreSearchCols,f=function(a){e.sSearch=a.sSearch;e.bRegex=a.bRegex;e.bSmart=a.bSmart;e.bCaseInsensitive=
a.bCaseInsensitive};Ga(a);if("ssp"!=A(a)){ub(a,b.sSearch,c,b.bEscapeRegex!==l?!b.bEscapeRegex:b.bRegex,b.bSmart,b.bCaseInsensitive);f(b);for(b=0;b<d.length;b++)vb(a,d[b].sSearch,b,d[b].bEscapeRegex!==l?!d[b].bEscapeRegex:d[b].bRegex,d[b].bSmart,d[b].bCaseInsensitive);wb(a)}else f(b);a.bFiltered=!0;u(a,null,"search",[a])}function wb(a){for(var b=p.ext.search,c=a.aiDisplay,e,d,f=0,h=b.length;f<h;f++){for(var i=[],j=0,g=c.length;j<g;j++)d=c[j],e=a.aoData[d],b[f](a,e._aFilterData,d,e._aData,j)&&i.push(d);
c.length=0;c.push.apply(c,i)}}function vb(a,b,c,e,d,f){if(""!==b)for(var h=a.aiDisplay,e=Pa(b,e,d,f),d=h.length-1;0<=d;d--)b=a.aoData[h[d]]._aFilterData[c],e.test(b)||h.splice(d,1)}function ub(a,b,c,e,d,f){var e=Pa(b,e,d,f),d=a.oPreviousSearch.sSearch,f=a.aiDisplayMaster,h;0!==p.ext.search.length&&(c=!0);h=xb(a);if(0>=b.length)a.aiDisplay=f.slice();else{if(h||c||d.length>b.length||0!==b.indexOf(d)||a.bSorted)a.aiDisplay=f.slice();b=a.aiDisplay;for(c=b.length-1;0<=c;c--)e.test(a.aoData[b[c]]._sFilterRow)||
b.splice(c,1)}}function Pa(a,b,c,e){a=b?a:ua(a);c&&(a="^(?=.*?"+g.map(a.match(/"[^"]+"|[^ ]+/g)||"",function(a){if('"'===a.charAt(0))var b=a.match(/^"(.*)"$/),a=b?b[1]:a;return a.replace('"',"")}).join(")(?=.*?")+").*$");return RegExp(a,e?"i":"")}function ua(a){return a.replace(Xb,"\\$1")}function xb(a){var b=a.aoColumns,c,e,d,f,h,i,g,n,m=p.ext.type.search;c=!1;e=0;for(f=a.aoData.length;e<f;e++)if(n=a.aoData[e],!n._aFilterData){i=[];d=0;for(h=b.length;d<h;d++)c=b[d],c.bSearchable?(g=v(a,e,d,"filter"),
m[c.sType]&&(g=m[c.sType](g)),null===g&&(g=""),"string"!==typeof g&&g.toString&&(g=g.toString())):g="",g.indexOf&&-1!==g.indexOf("&")&&(va.innerHTML=g,g=Yb?va.textContent:va.innerText),g.replace&&(g=g.replace(/[\r\n]/g,"")),i.push(g);n._aFilterData=i;n._sFilterRow=i.join("  ");c=!0}return c}function yb(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function zb(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}
function qb(a){var b=a.sTableId,c=a.aanFeatures.i,e=g("<div/>",{"class":a.oClasses.sInfo,id:!c?b+"_info":null});c||(a.aoDrawCallback.push({fn:Ab,sName:"information"}),e.attr("role","status").attr("aria-live","polite"),g(a.nTable).attr("aria-describedby",b+"_info"));return e[0]}function Ab(a){var b=a.aanFeatures.i;if(0!==b.length){var c=a.oLanguage,e=a._iDisplayStart+1,d=a.fnDisplayEnd(),f=a.fnRecordsTotal(),h=a.fnRecordsDisplay(),i=h?c.sInfo:c.sInfoEmpty;h!==f&&(i+=" "+c.sInfoFiltered);i+=c.sInfoPostFix;
i=Bb(a,i);c=c.fnInfoCallback;null!==c&&(i=c.call(a.oInstance,a,e,d,f,h,i));g(b).html(i)}}function Bb(a,b){var c=a.fnFormatNumber,e=a._iDisplayStart+1,d=a._iDisplayLength,f=a.fnRecordsDisplay(),h=-1===d;return b.replace(/_START_/g,c.call(a,e)).replace(/_END_/g,c.call(a,a.fnDisplayEnd())).replace(/_MAX_/g,c.call(a,a.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(a,f)).replace(/_PAGE_/g,c.call(a,h?1:Math.ceil(e/d))).replace(/_PAGES_/g,c.call(a,h?1:Math.ceil(f/d)))}function ga(a){var b,c,e=a.iInitDisplayStart,
d=a.aoColumns,f;c=a.oFeatures;if(a.bInitialised){lb(a);ib(a);ea(a,a.aoHeader);ea(a,a.aoFooter);B(a,!0);c.bAutoWidth&&Fa(a);b=0;for(c=d.length;b<c;b++)f=d[b],f.sWidth&&(f.nTh.style.width=s(f.sWidth));M(a);d=A(a);"ssp"!=d&&("ajax"==d?qa(a,[],function(c){var f=ra(a,c);for(b=0;b<f.length;b++)I(a,f[b]);a.iInitDisplayStart=e;M(a);B(a,!1);sa(a,c)},a):(B(a,!1),sa(a)))}else setTimeout(function(){ga(a)},200)}function sa(a,b){a._bInitComplete=!0;b&&X(a);u(a,"aoInitComplete","init",[a,b])}function Qa(a,b){var c=
parseInt(b,10);a._iDisplayLength=c;Ra(a);u(a,null,"length",[a,c])}function mb(a){for(var b=a.oClasses,c=a.sTableId,e=a.aLengthMenu,d=g.isArray(e[0]),f=d?e[0]:e,e=d?e[1]:e,d=g("<select/>",{name:c+"_length","aria-controls":c,"class":b.sLengthSelect}),h=0,i=f.length;h<i;h++)d[0][h]=new Option(e[h],f[h]);var j=g("<div><label/></div>").addClass(b.sLength);a.aanFeatures.l||(j[0].id=c+"_length");j.children().append(a.oLanguage.sLengthMenu.replace("_MENU_",d[0].outerHTML));g("select",j).val(a._iDisplayLength).bind("change.DT",
function(){Qa(a,g(this).val());L(a)});g(a.nTable).bind("length.dt.DT",function(b,c,f){a===c&&g("select",j).val(f)});return j[0]}function rb(a){var b=a.sPaginationType,c=p.ext.pager[b],e="function"===typeof c,d=function(a){L(a)},b=g("<div/>").addClass(a.oClasses.sPaging+b)[0],f=a.aanFeatures;e||c.fnInit(a,b,d);f.p||(b.id=a.sTableId+"_paginate",a.aoDrawCallback.push({fn:function(a){if(e){var b=a._iDisplayStart,g=a._iDisplayLength,n=a.fnRecordsDisplay(),m=-1===g,b=m?0:Math.ceil(b/g),g=m?1:Math.ceil(n/
g),n=c(b,g),o,m=0;for(o=f.p.length;m<o;m++)Oa(a,"pageButton")(a,f.p[m],m,n,b,g)}else c.fnUpdate(a,d)},sName:"pagination"}));return b}function Sa(a,b,c){var e=a._iDisplayStart,d=a._iDisplayLength,f=a.fnRecordsDisplay();0===f||-1===d?e=0:"number"===typeof b?(e=b*d,e>f&&(e=0)):"first"==b?e=0:"previous"==b?(e=0<=d?e-d:0,0>e&&(e=0)):"next"==b?e+d<f&&(e+=d):"last"==b?e=Math.floor((f-1)/d)*d:R(a,0,"Unknown paging action: "+b,5);b=a._iDisplayStart!==e;a._iDisplayStart=e;b&&(u(a,null,"page",[a]),c&&L(a));
return b}function ob(a){return g("<div/>",{id:!a.aanFeatures.r?a.sTableId+"_processing":null,"class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function B(a,b){a.oFeatures.bProcessing&&g(a.aanFeatures.r).css("display",b?"block":"none");u(a,null,"processing",[a,b])}function pb(a){var b=g(a.nTable);b.attr("role","grid");var c=a.oScroll;if(""===c.sX&&""===c.sY)return a.nTable;var e=c.sX,d=c.sY,f=a.oClasses,h=b.children("caption"),i=h.length?h[0]._captionSide:null,
j=g(b[0].cloneNode(!1)),n=g(b[0].cloneNode(!1)),m=b.children("tfoot");c.sX&&"100%"===b.attr("width")&&b.removeAttr("width");m.length||(m=null);c=g("<div/>",{"class":f.sScrollWrapper}).append(g("<div/>",{"class":f.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:e?!e?null:s(e):"100%"}).append(g("<div/>",{"class":f.sScrollHeadInner}).css({"box-sizing":"content-box",width:c.sXInner||"100%"}).append(j.removeAttr("id").css("margin-left",0).append("top"===i?h:null).append(b.children("thead"))))).append(g("<div/>",
{"class":f.sScrollBody}).css({overflow:"auto",height:!d?null:s(d),width:!e?null:s(e)}).append(b));m&&c.append(g("<div/>",{"class":f.sScrollFoot}).css({overflow:"hidden",border:0,width:e?!e?null:s(e):"100%"}).append(g("<div/>",{"class":f.sScrollFootInner}).append(n.removeAttr("id").css("margin-left",0).append("bottom"===i?h:null).append(b.children("tfoot")))));var b=c.children(),o=b[0],f=b[1],k=m?b[2]:null;e&&g(f).scroll(function(){var a=this.scrollLeft;o.scrollLeft=a;m&&(k.scrollLeft=a)});a.nScrollHead=
o;a.nScrollBody=f;a.nScrollFoot=k;a.aoDrawCallback.push({fn:Y,sName:"scrolling"});return c[0]}function Y(a){var b=a.oScroll,c=b.sX,e=b.sXInner,d=b.sY,f=b.iBarWidth,h=g(a.nScrollHead),i=h[0].style,j=h.children("div"),n=j[0].style,m=j.children("table"),j=a.nScrollBody,o=g(j),k=j.style,l=g(a.nScrollFoot).children("div"),p=l.children("table"),r=g(a.nTHead),q=g(a.nTable),t=q[0],N=t.style,J=a.nTFoot?g(a.nTFoot):null,u=a.oBrowser,w=u.bScrollOversize,y,v,x,K,z,A=[],B=[],C=[],D,E=function(a){a=a.style;a.paddingTop=
"0";a.paddingBottom="0";a.borderTopWidth="0";a.borderBottomWidth="0";a.height=0};q.children("thead, tfoot").remove();z=r.clone().prependTo(q);y=r.find("tr");x=z.find("tr");z.find("th, td").removeAttr("tabindex");J&&(K=J.clone().prependTo(q),v=J.find("tr"),K=K.find("tr"));c||(k.width="100%",h[0].style.width="100%");g.each(pa(a,z),function(b,c){D=ka(a,b);c.style.width=a.aoColumns[D].sWidth});J&&F(function(a){a.style.width=""},K);b.bCollapse&&""!==d&&(k.height=o[0].offsetHeight+r[0].offsetHeight+"px");
h=q.outerWidth();if(""===c){if(N.width="100%",w&&(q.find("tbody").height()>j.offsetHeight||"scroll"==o.css("overflow-y")))N.width=s(q.outerWidth()-f)}else""!==e?N.width=s(e):h==o.width()&&o.height()<q.height()?(N.width=s(h-f),q.outerWidth()>h-f&&(N.width=s(h))):N.width=s(h);h=q.outerWidth();F(E,x);F(function(a){C.push(a.innerHTML);A.push(s(g(a).css("width")))},x);F(function(a,b){a.style.width=A[b]},y);g(x).height(0);J&&(F(E,K),F(function(a){B.push(s(g(a).css("width")))},K),F(function(a,b){a.style.width=
B[b]},v),g(K).height(0));F(function(a,b){a.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+C[b]+"</div>";a.style.width=A[b]},x);J&&F(function(a,b){a.innerHTML="";a.style.width=B[b]},K);if(q.outerWidth()<h){v=j.scrollHeight>j.offsetHeight||"scroll"==o.css("overflow-y")?h+f:h;if(w&&(j.scrollHeight>j.offsetHeight||"scroll"==o.css("overflow-y")))N.width=s(v-f);(""===c||""!==e)&&R(a,1,"Possible column misalignment",6)}else v="100%";k.width=s(v);i.width=s(v);J&&(a.nScrollFoot.style.width=
s(v));!d&&w&&(k.height=s(t.offsetHeight+f));d&&b.bCollapse&&(k.height=s(d),b=c&&t.offsetWidth>j.offsetWidth?f:0,t.offsetHeight<j.offsetHeight&&(k.height=s(t.offsetHeight+b)));b=q.outerWidth();m[0].style.width=s(b);n.width=s(b);m=q.height()>j.clientHeight||"scroll"==o.css("overflow-y");u="padding"+(u.bScrollbarLeft?"Left":"Right");n[u]=m?f+"px":"0px";J&&(p[0].style.width=s(b),l[0].style.width=s(b),l[0].style[u]=m?f+"px":"0px");o.scroll();if((a.bSorted||a.bFiltered)&&!a._drawHold)j.scrollTop=0}function F(a,
b,c){for(var e=0,d=0,f=b.length,h,g;d<f;){h=b[d].firstChild;for(g=c?c[d].firstChild:null;h;)1===h.nodeType&&(c?a(h,g,e):a(h,e),e++),h=h.nextSibling,g=c?g.nextSibling:null;d++}}function Fa(a){var b=a.nTable,c=a.aoColumns,e=a.oScroll,d=e.sY,f=e.sX,h=e.sXInner,i=c.length,e=Z(a,"bVisible"),j=g("th",a.nTHead),n=b.getAttribute("width"),m=b.parentNode,o=!1,k,l;for(k=0;k<e.length;k++)l=c[e[k]],null!==l.sWidth&&(l.sWidth=Cb(l.sWidthOrig,m),o=!0);if(!o&&!f&&!d&&i==aa(a)&&i==j.length)for(k=0;k<i;k++)c[k].sWidth=
s(j.eq(k).width());else{i=g(b).clone().empty().css("visibility","hidden").removeAttr("id").append(g(a.nTHead).clone(!1)).append(g(a.nTFoot).clone(!1)).append(g("<tbody><tr/></tbody>"));i.find("tfoot th, tfoot td").css("width","");var p=i.find("tbody tr"),j=pa(a,i.find("thead")[0]);for(k=0;k<e.length;k++)l=c[e[k]],j[k].style.width=null!==l.sWidthOrig&&""!==l.sWidthOrig?s(l.sWidthOrig):"";if(a.aoData.length)for(k=0;k<e.length;k++)o=e[k],l=c[o],g(Db(a,o)).clone(!1).append(l.sContentPadding).appendTo(p);
i.appendTo(m);f&&h?i.width(h):f?(i.css("width","auto"),i.width()<m.offsetWidth&&i.width(m.offsetWidth)):d?i.width(m.offsetWidth):n&&i.width(n);Eb(a,i[0]);if(f){for(k=h=0;k<e.length;k++)l=c[e[k]],d=g(j[k]).outerWidth(),h+=null===l.sWidthOrig?d:parseInt(l.sWidth,10)+d-g(j[k]).width();i.width(s(h));b.style.width=s(h)}for(k=0;k<e.length;k++)if(l=c[e[k]],d=g(j[k]).width())l.sWidth=s(d);b.style.width=s(i.css("width"));i.remove()}n&&(b.style.width=s(n));if((n||f)&&!a._reszEvt)g(Da).bind("resize.DT-"+a.sInstance,
ta(function(){X(a)})),a._reszEvt=!0}function ta(a,b){var c=b!==l?b:200,e,d;return function(){var b=this,h=+new Date,g=arguments;e&&h<e+c?(clearTimeout(d),d=setTimeout(function(){e=l;a.apply(b,g)},c)):e?(e=h,a.apply(b,g)):e=h}}function Cb(a,b){if(!a)return 0;var c=g("<div/>").css("width",s(a)).appendTo(b||P.body),e=c[0].offsetWidth;c.remove();return e}function Eb(a,b){var c=a.oScroll;if(c.sX||c.sY)c=!c.sX?c.iBarWidth:0,b.style.width=s(g(b).outerWidth()-c)}function Db(a,b){var c=Fb(a,b);if(0>c)return null;
var e=a.aoData[c];return!e.nTr?g("<td/>").html(v(a,c,b,"display"))[0]:e.anCells[b]}function Fb(a,b){for(var c,e=-1,d=-1,f=0,h=a.aoData.length;f<h;f++)c=v(a,f,b,"display")+"",c=c.replace(Zb,""),c.length>e&&(e=c.length,d=f);return d}function s(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function Gb(){if(!p.__scrollbarWidth){var a=g("<p/>").css({width:"100%",height:200,padding:0})[0],b=g("<div/>").css({position:"absolute",top:0,left:0,width:200,height:150,padding:0,
overflow:"hidden",visibility:"hidden"}).append(a).appendTo("body"),c=a.offsetWidth;b.css("overflow","scroll");a=a.offsetWidth;c===a&&(a=b[0].clientWidth);b.remove();p.__scrollbarWidth=c-a}return p.__scrollbarWidth}function T(a){var b,c,e=[],d=a.aoColumns,f,h,i,j;b=a.aaSortingFixed;c=g.isPlainObject(b);var n=[];f=function(a){a.length&&!g.isArray(a[0])?n.push(a):n.push.apply(n,a)};g.isArray(b)&&f(b);c&&b.pre&&f(b.pre);f(a.aaSorting);c&&b.post&&f(b.post);for(a=0;a<n.length;a++){j=n[a][0];f=d[j].aDataSort;
b=0;for(c=f.length;b<c;b++)h=f[b],i=d[h].sType||"string",n[a]._idx===l&&(n[a]._idx=g.inArray(n[a][1],d[h].asSorting)),e.push({src:j,col:h,dir:n[a][1],index:n[a]._idx,type:i,formatter:p.ext.type.order[i+"-pre"]})}return e}function kb(a){var b,c,e=[],d=p.ext.type.order,f=a.aoData,h=0,g,j=a.aiDisplayMaster,n;Ga(a);n=T(a);b=0;for(c=n.length;b<c;b++)g=n[b],g.formatter&&h++,Hb(a,g.col);if("ssp"!=A(a)&&0!==n.length){b=0;for(c=j.length;b<c;b++)e[j[b]]=b;h===n.length?j.sort(function(a,b){var c,d,h,g,i=n.length,
j=f[a]._aSortData,l=f[b]._aSortData;for(h=0;h<i;h++)if(g=n[h],c=j[g.col],d=l[g.col],c=c<d?-1:c>d?1:0,0!==c)return"asc"===g.dir?c:-c;c=e[a];d=e[b];return c<d?-1:c>d?1:0}):j.sort(function(a,b){var c,h,g,i,j=n.length,l=f[a]._aSortData,p=f[b]._aSortData;for(g=0;g<j;g++)if(i=n[g],c=l[i.col],h=p[i.col],i=d[i.type+"-"+i.dir]||d["string-"+i.dir],c=i(c,h),0!==c)return c;c=e[a];h=e[b];return c<h?-1:c>h?1:0})}a.bSorted=!0}function Ib(a){for(var b,c,e=a.aoColumns,d=T(a),a=a.oLanguage.oAria,f=0,h=e.length;f<h;f++){c=
e[f];var g=c.asSorting;b=c.sTitle.replace(/<.*?>/g,"");var j=c.nTh;j.removeAttribute("aria-sort");c.bSortable&&(0<d.length&&d[0].col==f?(j.setAttribute("aria-sort","asc"==d[0].dir?"ascending":"descending"),c=g[d[0].index+1]||g[0]):c=g[0],b+="asc"===c?a.sSortAscending:a.sSortDescending);j.setAttribute("aria-label",b)}}function Ta(a,b,c,e){var d=a.aaSorting,f=a.aoColumns[b].asSorting,h=function(a,b){var c=a._idx;c===l&&(c=g.inArray(a[1],f));return c+1<f.length?c+1:b?null:0};"number"===typeof d[0]&&
(d=a.aaSorting=[d]);c&&a.oFeatures.bSortMulti?(c=g.inArray(b,C(d,"0")),-1!==c?(b=h(d[c],!0),null===b?d.splice(c,1):(d[c][1]=f[b],d[c]._idx=b)):(d.push([b,f[0],0]),d[d.length-1]._idx=0)):d.length&&d[0][0]==b?(b=h(d[0]),d.length=1,d[0][1]=f[b],d[0]._idx=b):(d.length=0,d.push([b,f[0]]),d[0]._idx=0);M(a);"function"==typeof e&&e(a)}function Na(a,b,c,e){var d=a.aoColumns[c];Ua(b,{},function(b){!1!==d.bSortable&&(a.oFeatures.bProcessing?(B(a,!0),setTimeout(function(){Ta(a,c,b.shiftKey,e);"ssp"!==A(a)&&B(a,
!1)},0)):Ta(a,c,b.shiftKey,e))})}function wa(a){var b=a.aLastSort,c=a.oClasses.sSortColumn,e=T(a),d=a.oFeatures,f,h;if(d.bSort&&d.bSortClasses){d=0;for(f=b.length;d<f;d++)h=b[d].src,g(C(a.aoData,"anCells",h)).removeClass(c+(2>d?d+1:3));d=0;for(f=e.length;d<f;d++)h=e[d].src,g(C(a.aoData,"anCells",h)).addClass(c+(2>d?d+1:3))}a.aLastSort=e}function Hb(a,b){var c=a.aoColumns[b],e=p.ext.order[c.sSortDataType],d;e&&(d=e.call(a.oInstance,a,b,$(a,b)));for(var f,h=p.ext.type.order[c.sType+"-pre"],g=0,j=a.aoData.length;g<
j;g++)if(c=a.aoData[g],c._aSortData||(c._aSortData=[]),!c._aSortData[b]||e)f=e?d[g]:v(a,g,b,"sort"),c._aSortData[b]=h?h(f):f}function xa(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:g.extend(!0,[],a.aaSorting),search:yb(a.oPreviousSearch),columns:g.map(a.aoColumns,function(b,e){return{visible:b.bVisible,search:yb(a.aoPreSearchCols[e])}})};u(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,
a,b)}}function Jb(a){var b,c,e=a.aoColumns;if(a.oFeatures.bStateSave){var d=a.fnStateLoadCallback.call(a.oInstance,a);if(d&&d.time&&(b=u(a,"aoStateLoadParams","stateLoadParams",[a,d]),-1===g.inArray(!1,b)&&(b=a.iStateDuration,!(0<b&&d.time<+new Date-1E3*b)&&e.length===d.columns.length))){a.oLoadedState=g.extend(!0,{},d);a._iDisplayStart=d.start;a.iInitDisplayStart=d.start;a._iDisplayLength=d.length;a.aaSorting=[];g.each(d.order,function(b,c){a.aaSorting.push(c[0]>=e.length?[0,c[1]]:c)});g.extend(a.oPreviousSearch,
zb(d.search));b=0;for(c=d.columns.length;b<c;b++){var f=d.columns[b];e[b].bVisible=f.visible;g.extend(a.aoPreSearchCols[b],zb(f.search))}u(a,"aoStateLoaded","stateLoaded",[a,d])}}}function ya(a){var b=p.settings,a=g.inArray(a,C(b,"nTable"));return-1!==a?b[a]:null}function R(a,b,c,e){c="DataTables warning: "+(null!==a?"table id="+a.sTableId+" - ":"")+c;e&&(c+=". For more information about this error, please see http://datatables.net/tn/"+e);if(b)Da.console&&console.log&&console.log(c);else if(a=p.ext,
"alert"==(a.sErrMode||a.errMode))alert(c);else throw Error(c);}function D(a,b,c,e){g.isArray(c)?g.each(c,function(c,f){g.isArray(f)?D(a,b,f[0],f[1]):D(a,b,f)}):(e===l&&(e=c),b[c]!==l&&(a[e]=b[c]))}function Kb(a,b,c){var e,d;for(d in b)b.hasOwnProperty(d)&&(e=b[d],g.isPlainObject(e)?(g.isPlainObject(a[d])||(a[d]={}),g.extend(!0,a[d],e)):a[d]=c&&"data"!==d&&"aaData"!==d&&g.isArray(e)?e.slice():e);return a}function Ua(a,b,c){g(a).bind("click.DT",b,function(b){a.blur();c(b)}).bind("keypress.DT",b,function(a){13===
a.which&&(a.preventDefault(),c(a))}).bind("selectstart.DT",function(){return!1})}function x(a,b,c,e){c&&a[b].push({fn:c,sName:e})}function u(a,b,c,e){var d=[];b&&(d=g.map(a[b].slice().reverse(),function(b){return b.fn.apply(a.oInstance,e)}));null!==c&&g(a.nTable).trigger(c+".dt",e);return d}function Ra(a){var b=a._iDisplayStart,c=a.fnDisplayEnd(),e=a._iDisplayLength;b>=c&&(b=c-e);b-=b%e;if(-1===e||0>b)b=0;a._iDisplayStart=b}function Oa(a,b){var c=a.renderer,e=p.ext.renderer[b];return g.isPlainObject(c)&&
c[b]?e[c[b]]||e._:"string"===typeof c?e[c]||e._:e._}function A(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function Va(a,b){var c=[],c=Lb.numbers_length,e=Math.floor(c/2);b<=c?c=U(0,b):a<=e?(c=U(0,c-2),c.push("ellipsis"),c.push(b-1)):(a>=b-1-e?c=U(b-(c-2),b):(c=U(a-1,a+2),c.push("ellipsis"),c.push(b-1)),c.splice(0,0,"ellipsis"),c.splice(0,0,0));c.DT_el="span";return c}function cb(a){g.each({num:function(b){return za(b,a)},"num-fmt":function(b){return za(b,a,Wa)},"html-num":function(b){return za(b,
a,Aa)},"html-num-fmt":function(b){return za(b,a,Aa,Wa)}},function(b,c){w.type.order[b+a+"-pre"]=c;b.match(/^html\-/)&&(w.type.search[b+a]=w.type.search.html)})}function Mb(a){return function(){var b=[ya(this[p.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return p.ext.internal[a].apply(this,b)}}var p,w,q,r,t,Xa={},Nb=/[\r\n]/g,Aa=/<.*?>/g,$b=/^[\w\+\-]/,ac=/[\w\+\-]$/,Xb=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Wa=/[',$\u00a3\u20ac\u00a5%\u2009\u202F]/g,
H=function(a){return!a||!0===a||"-"===a?!0:!1},Ob=function(a){var b=parseInt(a,10);return!isNaN(b)&&isFinite(a)?b:null},Pb=function(a,b){Xa[b]||(Xa[b]=RegExp(ua(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,"").replace(Xa[b],"."):a},Ya=function(a,b,c){var e="string"===typeof a;b&&e&&(a=Pb(a,b));c&&e&&(a=a.replace(Wa,""));return H(a)||!isNaN(parseFloat(a))&&isFinite(a)},Qb=function(a,b,c){return H(a)?!0:!(H(a)||"string"===typeof a)?null:Ya(a.replace(Aa,""),b,c)?!0:null},C=function(a,
b,c){var e=[],d=0,f=a.length;if(c!==l)for(;d<f;d++)a[d]&&a[d][b]&&e.push(a[d][b][c]);else for(;d<f;d++)a[d]&&e.push(a[d][b]);return e},ha=function(a,b,c,e){var d=[],f=0,h=b.length;if(e!==l)for(;f<h;f++)a[b[f]][c]&&d.push(a[b[f]][c][e]);else for(;f<h;f++)d.push(a[b[f]][c]);return d},U=function(a,b){var c=[],e;b===l?(b=0,e=a):(e=b,b=a);for(var d=b;d<e;d++)c.push(d);return c},Rb=function(a){for(var b=[],c=0,e=a.length;c<e;c++)a[c]&&b.push(a[c]);return b},Ma=function(a){var b=[],c,e,d=a.length,f,h=0;
e=0;a:for(;e<d;e++){c=a[e];for(f=0;f<h;f++)if(b[f]===c)continue a;b.push(c);h++}return b},z=function(a,b,c){a[b]!==l&&(a[c]=a[b])},ba=/\[.*?\]$/,S=/\(\)$/,va=g("<div>")[0],Yb=va.textContent!==l,Zb=/<.*?>/g;p=function(a){this.$=function(a,b){return this.api(!0).$(a,b)};this._=function(a,b){return this.api(!0).rows(a,b).data()};this.api=function(a){return a?new q(ya(this[w.iApiIndex])):new q(this)};this.fnAddData=function(a,b){var c=this.api(!0),e=g.isArray(a)&&(g.isArray(a[0])||g.isPlainObject(a[0]))?
c.rows.add(a):c.row.add(a);(b===l||b)&&c.draw();return e.flatten().toArray()};this.fnAdjustColumnSizing=function(a){var b=this.api(!0).columns.adjust(),c=b.settings()[0],e=c.oScroll;a===l||a?b.draw(!1):(""!==e.sX||""!==e.sY)&&Y(c)};this.fnClearTable=function(a){var b=this.api(!0).clear();(a===l||a)&&b.draw()};this.fnClose=function(a){this.api(!0).row(a).child.hide()};this.fnDeleteRow=function(a,b,c){var e=this.api(!0),a=e.rows(a),d=a.settings()[0],g=d.aoData[a[0][0]];a.remove();b&&b.call(this,d,g);
(c===l||c)&&e.draw();return g};this.fnDestroy=function(a){this.api(!0).destroy(a)};this.fnDraw=function(a){this.api(!0).draw(!a)};this.fnFilter=function(a,b,c,e,d,g){d=this.api(!0);null===b||b===l?d.search(a,c,e,g):d.column(b).search(a,c,e,g);d.draw()};this.fnGetData=function(a,b){var c=this.api(!0);if(a!==l){var e=a.nodeName?a.nodeName.toLowerCase():"";return b!==l||"td"==e||"th"==e?c.cell(a,b).data():c.row(a).data()||null}return c.data().toArray()};this.fnGetNodes=function(a){var b=this.api(!0);
return a!==l?b.row(a).node():b.rows().nodes().flatten().toArray()};this.fnGetPosition=function(a){var b=this.api(!0),c=a.nodeName.toUpperCase();return"TR"==c?b.row(a).index():"TD"==c||"TH"==c?(a=b.cell(a).index(),[a.row,a.columnVisible,a.column]):null};this.fnIsOpen=function(a){return this.api(!0).row(a).child.isShown()};this.fnOpen=function(a,b,c){return this.api(!0).row(a).child(b,c).show().child()[0]};this.fnPageChange=function(a,b){var c=this.api(!0).page(a);(b===l||b)&&c.draw(!1)};this.fnSetColumnVis=
function(a,b,c){a=this.api(!0).column(a).visible(b);(c===l||c)&&a.columns.adjust().draw()};this.fnSettings=function(){return ya(this[w.iApiIndex])};this.fnSort=function(a){this.api(!0).order(a).draw()};this.fnSortListener=function(a,b,c){this.api(!0).order.listener(a,b,c)};this.fnUpdate=function(a,b,c,e,d){var g=this.api(!0);c===l||null===c?g.row(b).data(a):g.cell(b,c).data(a);(d===l||d)&&g.columns.adjust();(e===l||e)&&g.draw();return 0};this.fnVersionCheck=w.fnVersionCheck;var b=this,c=a===l,e=this.length;
c&&(a={});this.oApi=this.internal=w.internal;for(var d in p.ext.internal)d&&(this[d]=Mb(d));this.each(function(){var d={},d=1<e?Kb(d,a,!0):a,h=0,i,j=this.getAttribute("id"),n=!1,m=p.defaults;if("table"!=this.nodeName.toLowerCase())R(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{db(m);eb(m.column);G(m,m,!0);G(m.column,m.column,!0);G(m,d);var o=p.settings,h=0;for(i=o.length;h<i;h++){if(o[h].nTable==this){i=d.bRetrieve!==l?d.bRetrieve:m.bRetrieve;if(c||i)return o[h].oInstance;if(d.bDestroy!==
l?d.bDestroy:m.bDestroy){o[h].oInstance.fnDestroy();break}else{R(o[h],0,"Cannot reinitialise DataTable",3);return}}if(o[h].sTableId==this.id){o.splice(h,1);break}}if(null===j||""===j)this.id=j="DataTables_Table_"+p.ext._unique++;var k=g.extend(!0,{},p.models.oSettings,{nTable:this,oApi:b.internal,oInit:d,sDestroyWidth:g(this)[0].style.width,sInstance:j,sTableId:j});o.push(k);k.oInstance=1===b.length?b:g(this).dataTable();db(d);d.oLanguage&&O(d.oLanguage);d.aLengthMenu&&!d.iDisplayLength&&(d.iDisplayLength=
g.isArray(d.aLengthMenu[0])?d.aLengthMenu[0][0]:d.aLengthMenu[0]);d=Kb(g.extend(!0,{},m),d);D(k.oFeatures,d,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));D(k,d,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback",
"renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);D(k.oScroll,d,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);D(k.oLanguage,d,"fnInfoCallback");x(k,"aoDrawCallback",d.fnDrawCallback,"user");x(k,"aoServerParams",d.fnServerParams,"user");x(k,"aoStateSaveParams",d.fnStateSaveParams,"user");x(k,"aoStateLoadParams",
d.fnStateLoadParams,"user");x(k,"aoStateLoaded",d.fnStateLoaded,"user");x(k,"aoRowCallback",d.fnRowCallback,"user");x(k,"aoRowCreatedCallback",d.fnCreatedRow,"user");x(k,"aoHeaderCallback",d.fnHeaderCallback,"user");x(k,"aoFooterCallback",d.fnFooterCallback,"user");x(k,"aoInitComplete",d.fnInitComplete,"user");x(k,"aoPreDrawCallback",d.fnPreDrawCallback,"user");j=k.oClasses;d.bJQueryUI?(g.extend(j,p.ext.oJUIClasses,d.oClasses),d.sDom===m.sDom&&"lfrtip"===m.sDom&&(k.sDom='<"H"lfr>t<"F"ip>'),k.renderer)?
g.isPlainObject(k.renderer)&&!k.renderer.header&&(k.renderer.header="jqueryui"):k.renderer="jqueryui":g.extend(j,p.ext.classes,d.oClasses);g(this).addClass(j.sTable);if(""!==k.oScroll.sX||""!==k.oScroll.sY)k.oScroll.iBarWidth=Gb();!0===k.oScroll.sX&&(k.oScroll.sX="100%");k.iInitDisplayStart===l&&(k.iInitDisplayStart=d.iDisplayStart,k._iDisplayStart=d.iDisplayStart);null!==d.iDeferLoading&&(k.bDeferLoading=!0,h=g.isArray(d.iDeferLoading),k._iRecordsDisplay=h?d.iDeferLoading[0]:d.iDeferLoading,k._iRecordsTotal=
h?d.iDeferLoading[1]:d.iDeferLoading);var r=k.oLanguage;g.extend(!0,r,d.oLanguage);""!==r.sUrl&&(g.ajax({dataType:"json",url:r.sUrl,success:function(a){O(a);G(m.oLanguage,a);g.extend(true,r,a);ga(k)},error:function(){ga(k)}}),n=!0);null===d.asStripeClasses&&(k.asStripeClasses=[j.sStripeOdd,j.sStripeEven]);var h=k.asStripeClasses,q=g("tbody tr:eq(0)",this);-1!==g.inArray(!0,g.map(h,function(a){return q.hasClass(a)}))&&(g("tbody tr",this).removeClass(h.join(" ")),k.asDestroyStripes=h.slice());var o=
[],s,h=this.getElementsByTagName("thead");0!==h.length&&(da(k.aoHeader,h[0]),o=pa(k));if(null===d.aoColumns){s=[];h=0;for(i=o.length;h<i;h++)s.push(null)}else s=d.aoColumns;h=0;for(i=s.length;h<i;h++)Ea(k,o?o[h]:null);hb(k,d.aoColumnDefs,s,function(a,b){ja(k,a,b)});if(q.length){var t=function(a,b){return a.getAttribute("data-"+b)?b:null};g.each(ma(k,q[0]).cells,function(a,b){var c=k.aoColumns[a];if(c.mData===a){var e=t(b,"sort")||t(b,"order"),d=t(b,"filter")||t(b,"search");if(e!==null||d!==null){c.mData=
{_:a+".display",sort:e!==null?a+".@data-"+e:l,type:e!==null?a+".@data-"+e:l,filter:d!==null?a+".@data-"+d:l};ja(k,a)}}})}var v=k.oFeatures;d.bStateSave&&(v.bStateSave=!0,Jb(k,d),x(k,"aoDrawCallback",xa,"state_save"));if(d.aaSorting===l){o=k.aaSorting;h=0;for(i=o.length;h<i;h++)o[h][1]=k.aoColumns[h].asSorting[0]}wa(k);v.bSort&&x(k,"aoDrawCallback",function(){if(k.bSorted){var a=T(k),b={};g.each(a,function(a,c){b[c.src]=c.dir});u(k,null,"order",[k,a,b]);Ib(k)}});x(k,"aoDrawCallback",function(){(k.bSorted||
A(k)==="ssp"||v.bDeferRender)&&wa(k)},"sc");fb(k);h=g(this).children("caption").each(function(){this._captionSide=g(this).css("caption-side")});i=g(this).children("thead");0===i.length&&(i=g("<thead/>").appendTo(this));k.nTHead=i[0];i=g(this).children("tbody");0===i.length&&(i=g("<tbody/>").appendTo(this));k.nTBody=i[0];i=g(this).children("tfoot");if(0===i.length&&0<h.length&&(""!==k.oScroll.sX||""!==k.oScroll.sY))i=g("<tfoot/>").appendTo(this);0===i.length||0===i.children().length?g(this).addClass(j.sNoFooter):
0<i.length&&(k.nTFoot=i[0],da(k.aoFooter,k.nTFoot));if(d.aaData)for(h=0;h<d.aaData.length;h++)I(k,d.aaData[h]);else(k.bDeferLoading||"dom"==A(k))&&la(k,g(k.nTBody).children("tr"));k.aiDisplay=k.aiDisplayMaster.slice();k.bInitialised=!0;!1===n&&ga(k)}});b=null;return this};var Sb=[],y=Array.prototype,bc=function(a){var b,c,e=p.settings,d=g.map(e,function(a){return a.nTable});if(a){if(a.nTable&&a.oApi)return[a];if(a.nodeName&&"table"===a.nodeName.toLowerCase())return b=g.inArray(a,d),-1!==b?[e[b]]:
null;if(a&&"function"===typeof a.settings)return a.settings().toArray();"string"===typeof a?c=g(a):a instanceof g&&(c=a)}else return[];if(c)return c.map(function(){b=g.inArray(this,d);return-1!==b?e[b]:null}).toArray()};q=function(a,b){if(!this instanceof q)throw"DT API must be constructed as a new object";var c=[],e=function(a){(a=bc(a))&&c.push.apply(c,a)};if(g.isArray(a))for(var d=0,f=a.length;d<f;d++)e(a[d]);else e(a);this.context=Ma(c);b&&this.push.apply(this,b.toArray?b.toArray():b);this.selector=
{rows:null,cols:null,opts:null};q.extend(this,this,Sb)};p.Api=q;q.prototype={concat:y.concat,context:[],each:function(a){for(var b=0,c=this.length;b<c;b++)a.call(this,this[b],b,this);return this},eq:function(a){var b=this.context;return b.length>a?new q(b[a],this[a]):null},filter:function(a){var b=[];if(y.filter)b=y.filter.call(this,a,this);else for(var c=0,e=this.length;c<e;c++)a.call(this,this[c],c,this)&&b.push(this[c]);return new q(this.context,b)},flatten:function(){var a=[];return new q(this.context,
a.concat.apply(a,this.toArray()))},join:y.join,indexOf:y.indexOf||function(a,b){for(var c=b||0,e=this.length;c<e;c++)if(this[c]===a)return c;return-1},iterator:function(a,b,c,e){var d=[],f,h,g,j,n,m=this.context,o,k,p=this.selector;"string"===typeof a&&(e=c,c=b,b=a,a=!1);h=0;for(g=m.length;h<g;h++){var r=new q(m[h]);if("table"===b)f=c.call(r,m[h],h),f!==l&&d.push(f);else if("columns"===b||"rows"===b)f=c.call(r,m[h],this[h],h),f!==l&&d.push(f);else if("column"===b||"column-rows"===b||"row"===b||"cell"===
b){k=this[h];"column-rows"===b&&(o=Ba(m[h],p.opts));j=0;for(n=k.length;j<n;j++)f=k[j],f="cell"===b?c.call(r,m[h],f.row,f.column,h,j):c.call(r,m[h],f,h,j,o),f!==l&&d.push(f)}}return d.length||e?(a=new q(m,a?d.concat.apply([],d):d),b=a.selector,b.rows=p.rows,b.cols=p.cols,b.opts=p.opts,a):this},lastIndexOf:y.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(a){var b=[];if(y.map)b=y.map.call(this,a,this);else for(var c=0,e=this.length;c<e;c++)b.push(a.call(this,
this[c],c));return new q(this.context,b)},pluck:function(a){return this.map(function(b){return b[a]})},pop:y.pop,push:y.push,reduce:y.reduce||function(a,b){return gb(this,a,b,0,this.length,1)},reduceRight:y.reduceRight||function(a,b){return gb(this,a,b,this.length-1,-1,-1)},reverse:y.reverse,selector:null,shift:y.shift,sort:y.sort,splice:y.splice,toArray:function(){return y.slice.call(this)},to$:function(){return g(this)},toJQuery:function(){return g(this)},unique:function(){return new q(this.context,
Ma(this))},unshift:y.unshift};q.extend=function(a,b,c){if(b&&(b instanceof q||b.__dt_wrapper)){var e,d,f,h=function(a,b,c){return function(){var e=b.apply(a,arguments);q.extend(e,e,c.methodExt);return e}};e=0;for(d=c.length;e<d;e++)f=c[e],b[f.name]="function"===typeof f.val?h(a,f.val,f):g.isPlainObject(f.val)?{}:f.val,b[f.name].__dt_wrapper=!0,q.extend(a,b[f.name],f.propExt)}};q.register=r=function(a,b){if(g.isArray(a))for(var c=0,e=a.length;c<e;c++)q.register(a[c],b);else for(var d=a.split("."),
f=Sb,h,i,c=0,e=d.length;c<e;c++){h=(i=-1!==d[c].indexOf("()"))?d[c].replace("()",""):d[c];var j;a:{j=0;for(var n=f.length;j<n;j++)if(f[j].name===h){j=f[j];break a}j=null}j||(j={name:h,val:{},methodExt:[],propExt:[]},f.push(j));c===e-1?j.val=b:f=i?j.methodExt:j.propExt}};q.registerPlural=t=function(a,b,c){q.register(a,c);q.register(b,function(){var a=c.apply(this,arguments);return a===this?this:a instanceof q?a.length?g.isArray(a[0])?new q(a.context,a[0]):a[0]:l:a})};r("tables()",function(a){var b;
if(a){b=q;var c=this.context;if("number"===typeof a)a=[c[a]];else var e=g.map(c,function(a){return a.nTable}),a=g(e).filter(a).map(function(){var a=g.inArray(this,e);return c[a]}).toArray();b=new b(a)}else b=this;return b});r("table()",function(a){var a=this.tables(a),b=a.context;return b.length?new q(b[0]):a});t("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});t("tables().body()","table().body()",function(){return this.iterator("table",
function(a){return a.nTBody},1)});t("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});t("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});t("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});r("draw()",function(a){return this.iterator("table",function(b){M(b,!1===a)})});r("page()",function(a){return a===
l?this.page.info().page:this.iterator("table",function(b){Sa(b,a)})});r("page.info()",function(){if(0===this.context.length)return l;var a=this.context[0],b=a._iDisplayStart,c=a._iDisplayLength,e=a.fnRecordsDisplay(),d=-1===c;return{page:d?0:Math.floor(b/c),pages:d?1:Math.ceil(e/c),start:b,end:a.fnDisplayEnd(),length:c,recordsTotal:a.fnRecordsTotal(),recordsDisplay:e}});r("page.len()",function(a){return a===l?0!==this.context.length?this.context[0]._iDisplayLength:l:this.iterator("table",function(b){Qa(b,
a)})});var Tb=function(a,b,c){"ssp"==A(a)?M(a,b):(B(a,!0),qa(a,[],function(c){na(a);for(var c=ra(a,c),e=0,h=c.length;e<h;e++)I(a,c[e]);M(a,b);B(a,!1)}));if(c){var e=new q(a);e.one("draw",function(){c(e.ajax.json())})}};r("ajax.json()",function(){var a=this.context;if(0<a.length)return a[0].json});r("ajax.params()",function(){var a=this.context;if(0<a.length)return a[0].oAjaxData});r("ajax.reload()",function(a,b){return this.iterator("table",function(c){Tb(c,!1===b,a)})});r("ajax.url()",function(a){var b=
this.context;if(a===l){if(0===b.length)return l;b=b[0];return b.ajax?g.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(b){g.isPlainObject(b.ajax)?b.ajax.url=a:b.ajax=a})});r("ajax.url().load()",function(a,b){return this.iterator("table",function(c){Tb(c,!1===b,a)})});var Za=function(a,b){var c=[],e,d,f,h,i,j;e=typeof a;if(!a||"string"===e||"function"===e||a.length===l)a=[a];f=0;for(h=a.length;f<h;f++){d=a[f]&&a[f].split?a[f].split(","):[a[f]];i=0;for(j=
d.length;i<j;i++)(e=b("string"===typeof d[i]?g.trim(d[i]):d[i]))&&e.length&&c.push.apply(c,e)}return c},$a=function(a){a||(a={});a.filter&&!a.search&&(a.search=a.filter);return{search:a.search||"none",order:a.order||"current",page:a.page||"all"}},ab=function(a){for(var b=0,c=a.length;b<c;b++)if(0<a[b].length)return a[0]=a[b],a.length=1,a.context=[a.context[b]],a;a.length=0;return a},Ba=function(a,b){var c,e,d,f=[],h=a.aiDisplay;c=a.aiDisplayMaster;var i=b.search;e=b.order;d=b.page;if("ssp"==A(a))return"removed"===
i?[]:U(0,c.length);if("current"==d){c=a._iDisplayStart;for(e=a.fnDisplayEnd();c<e;c++)f.push(h[c])}else if("current"==e||"applied"==e)f="none"==i?c.slice():"applied"==i?h.slice():g.map(c,function(a){return-1===g.inArray(a,h)?a:null});else if("index"==e||"original"==e){c=0;for(e=a.aoData.length;c<e;c++)"none"==i?f.push(c):(d=g.inArray(c,h),(-1===d&&"removed"==i||0<=d&&"applied"==i)&&f.push(c))}return f};r("rows()",function(a,b){a===l?a="":g.isPlainObject(a)&&(b=a,a="");var b=$a(b),c=this.iterator("table",
function(c){var d=b;return Za(a,function(a){var b=Ob(a);if(b!==null&&!d)return[b];var i=Ba(c,d);if(b!==null&&g.inArray(b,i)!==-1)return[b];if(!a)return i;if(typeof a==="function")return g.map(i,function(b){var d=c.aoData[b];return a(b,d._aData,d.nTr)?b:null});b=Rb(ha(c.aoData,i,"nTr"));return a.nodeName&&g.inArray(a,b)!==-1?[a._DT_RowIndex]:g(b).filter(a).map(function(){return this._DT_RowIndex}).toArray()})},1);c.selector.rows=a;c.selector.opts=b;return c});r("rows().nodes()",function(){return this.iterator("row",
function(a,b){return a.aoData[b].nTr||l},1)});r("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return ha(a.aoData,b,"_aData")},1)});t("rows().cache()","row().cache()",function(a){return this.iterator("row",function(b,c){var e=b.aoData[c];return"search"===a?e._aFilterData:e._aSortData},1)});t("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(b,c){ca(b,c,a)})});t("rows().indexes()","row().index()",function(){return this.iterator("row",
function(a,b){return b},1)});t("rows().remove()","row().remove()",function(){var a=this;return this.iterator("row",function(b,c,e){var d=b.aoData;d.splice(c,1);for(var f=0,h=d.length;f<h;f++)null!==d[f].nTr&&(d[f].nTr._DT_RowIndex=f);g.inArray(c,b.aiDisplay);oa(b.aiDisplayMaster,c);oa(b.aiDisplay,c);oa(a[e],c,!1);Ra(b)})});r("rows.add()",function(a){var b=this.iterator("table",function(b){var c,f,h,g=[];f=0;for(h=a.length;f<h;f++)c=a[f],c.nodeName&&"TR"===c.nodeName.toUpperCase()?g.push(la(b,c)[0]):
g.push(I(b,c));return g},1),c=this.rows(-1);c.pop();c.push.apply(c,b.toArray());return c});r("row()",function(a,b){return ab(this.rows(a,b))});r("row().data()",function(a){var b=this.context;if(a===l)return b.length&&this.length?b[0].aoData[this[0]]._aData:l;b[0].aoData[this[0]]._aData=a;ca(b[0],this[0],"data");return this});r("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null});r("row.add()",function(a){a instanceof g&&a.length&&(a=a[0]);
var b=this.iterator("table",function(b){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?la(b,a)[0]:I(b,a)});return this.row(b[0])});var bb=function(a,b){var c=a.context;c.length&&(c=c[0].aoData[b!==l?b:a[0]],c._details&&(c._details.remove(),c._detailsShow=l,c._details=l))},Ub=function(a,b){var c=a.context;if(c.length&&a.length){var e=c[0].aoData[a[0]];if(e._details){(e._detailsShow=b)?e._details.insertAfter(e.nTr):e._details.detach();var d=c[0],f=new q(d),h=d.aoData;f.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");
0<C(h,"_details").length&&(f.on("draw.dt.DT_details",function(a,b){d===b&&f.rows({page:"current"}).eq(0).each(function(a){a=h[a];a._detailsShow&&a._details.insertAfter(a.nTr)})}),f.on("column-visibility.dt.DT_details",function(a,b){if(d===b)for(var c,e=aa(b),f=0,g=h.length;f<g;f++)c=h[f],c._details&&c._details.children("td[colspan]").attr("colspan",e)}),f.on("destroy.dt.DT_details",function(a,b){if(d===b)for(var c=0,e=h.length;c<e;c++)h[c]._details&&bb(f,c)}))}}};r("row().child()",function(a,b){var c=
this.context;if(a===l)return c.length&&this.length?c[0].aoData[this[0]]._details:l;if(!0===a)this.child.show();else if(!1===a)bb(this);else if(c.length&&this.length){var e=c[0],c=c[0].aoData[this[0]],d=[],f=function(a,b){if(a.nodeName&&"tr"===a.nodeName.toLowerCase())d.push(a);else{var c=g("<tr><td/></tr>").addClass(b);g("td",c).addClass(b).html(a)[0].colSpan=aa(e);d.push(c[0])}};if(g.isArray(a)||a instanceof g)for(var h=0,i=a.length;h<i;h++)f(a[h],b);else f(a,b);c._details&&c._details.remove();c._details=
g(d);c._detailsShow&&c._details.insertAfter(c.nTr)}return this});r(["row().child.show()","row().child().show()"],function(){Ub(this,!0);return this});r(["row().child.hide()","row().child().hide()"],function(){Ub(this,!1);return this});r(["row().child.remove()","row().child().remove()"],function(){bb(this);return this});r("row().child.isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var cc=/^(.+):(name|visIdx|visible)$/,Vb=function(a,
b,c,e,d){for(var c=[],e=0,f=d.length;e<f;e++)c.push(v(a,d[e],b));return c};r("columns()",function(a,b){a===l?a="":g.isPlainObject(a)&&(b=a,a="");var b=$a(b),c=this.iterator("table",function(c){var d=a,f=b,h=c.aoColumns,i=C(h,"sName"),j=C(h,"nTh");return Za(d,function(a){var b=Ob(a);if(a==="")return U(h.length);if(b!==null)return[b>=0?b:h.length+b];if(typeof a==="function"){var d=Ba(c,f);return g.map(h,function(b,f){return a(f,Vb(c,f,0,0,d),j[f])?f:null})}var k=typeof a==="string"?a.match(cc):"";if(k)switch(k[2]){case "visIdx":case "visible":b=
parseInt(k[1],10);if(b<0){var l=g.map(h,function(a,b){return a.bVisible?b:null});return[l[l.length+b]]}return[ka(c,b)];case "name":return g.map(i,function(a,b){return a===k[1]?b:null})}else return g(j).filter(a).map(function(){return g.inArray(this,j)}).toArray()})},1);c.selector.cols=a;c.selector.opts=b;return c});t("columns().header()","column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});t("columns().footer()","column().footer()",function(){return this.iterator("column",
function(a,b){return a.aoColumns[b].nTf},1)});t("columns().data()","column().data()",function(){return this.iterator("column-rows",Vb,1)});t("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)});t("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(b,c,e,d,f){return ha(b.aoData,f,"search"===a?"_aFilterData":"_aSortData",c)},1)});t("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",
function(a,b,c,e,d){return ha(a.aoData,d,"anCells",b)},1)});t("columns().visible()","column().visible()",function(a,b){return this.iterator("column",function(c,e){if(a===l)return c.aoColumns[e].bVisible;var d=c.aoColumns,f=d[e],h=c.aoData,i,j,n;if(a!==l&&f.bVisible!==a){if(a){var m=g.inArray(!0,C(d,"bVisible"),e+1);i=0;for(j=h.length;i<j;i++)n=h[i].nTr,d=h[i].anCells,n&&n.insertBefore(d[e],d[m]||null)}else g(C(c.aoData,"anCells",e)).detach();f.bVisible=a;ea(c,c.aoHeader);ea(c,c.aoFooter);if(b===l||
b)X(c),(c.oScroll.sX||c.oScroll.sY)&&Y(c);u(c,null,"column-visibility",[c,e,a]);xa(c)}})});t("columns().indexes()","column().index()",function(a){return this.iterator("column",function(b,c){return"visible"===a?$(b,c):c},1)});r("columns.adjust()",function(){return this.iterator("table",function(a){X(a)},1)});r("column.index()",function(a,b){if(0!==this.context.length){var c=this.context[0];if("fromVisible"===a||"toData"===a)return ka(c,b);if("fromData"===a||"toVisible"===a)return $(c,b)}});r("column()",
function(a,b){return ab(this.columns(a,b))});r("cells()",function(a,b,c){g.isPlainObject(a)&&(typeof a.row!==l?(c=b,b=null):(c=a,a=null));g.isPlainObject(b)&&(c=b,b=null);if(null===b||b===l)return this.iterator("table",function(b){var e=a,d=$a(c),f=b.aoData,h=Ba(b,d),d=Rb(ha(f,h,"anCells")),i=g([].concat.apply([],d)),j,m=b.aoColumns.length,n,p,r,q,s,t;return Za(e,function(a){var c=typeof a==="function";if(a===null||a===l||c){n=[];p=0;for(r=h.length;p<r;p++){j=h[p];for(q=0;q<m;q++){s={row:j,column:q};
if(c){t=b.aoData[j];a(s,v(b,j,q),t.anCells[q])&&n.push(s)}else n.push(s)}}return n}return g.isPlainObject(a)?[a]:i.filter(a).map(function(a,b){j=b.parentNode._DT_RowIndex;return{row:j,column:g.inArray(b,f[j].anCells)}}).toArray()})});var e=this.columns(b,c),d=this.rows(a,c),f,h,i,j,n,m=this.iterator("table",function(a,b){f=[];h=0;for(i=d[b].length;h<i;h++){j=0;for(n=e[b].length;j<n;j++)f.push({row:d[b][h],column:e[b][j]})}return f},1);g.extend(m.selector,{cols:b,rows:a,opts:c});return m});t("cells().nodes()",
"cell().node()",function(){return this.iterator("cell",function(a,b,c){return(a=a.aoData[b].anCells)?a[c]:l},1)});r("cells().data()",function(){return this.iterator("cell",function(a,b,c){return v(a,b,c)},1)});t("cells().cache()","cell().cache()",function(a){a="search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(b,c,e){return b.aoData[c][a][e]},1)});t("cells().render()","cell().render()",function(a){return this.iterator("cell",function(b,c,e){return v(b,c,e,a)},1)});t("cells().indexes()",
"cell().index()",function(){return this.iterator("cell",function(a,b,c){return{row:b,column:c,columnVisible:$(a,c)}},1)});t("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(b,c,e){ca(b,c,a,e)})});r("cell()",function(a,b,c){return ab(this.cells(a,b,c))});r("cell().data()",function(a){var b=this.context,c=this[0];if(a===l)return b.length&&c.length?v(b[0],c[0].row,c[0].column):l;Ha(b[0],c[0].row,c[0].column,a);ca(b[0],c[0].row,"data",c[0].column);return this});
r("order()",function(a,b){var c=this.context;if(a===l)return 0!==c.length?c[0].aaSorting:l;"number"===typeof a?a=[[a,b]]:g.isArray(a[0])||(a=Array.prototype.slice.call(arguments));return this.iterator("table",function(b){b.aaSorting=a.slice()})});r("order.listener()",function(a,b,c){return this.iterator("table",function(e){Na(e,a,b,c)})});r(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(c,e){var d=[];g.each(b[e],function(b,c){d.push([c,a])});
c.aaSorting=d})});r("search()",function(a,b,c,e){var d=this.context;return a===l?0!==d.length?d[0].oPreviousSearch.sSearch:l:this.iterator("table",function(d){d.oFeatures.bFilter&&fa(d,g.extend({},d.oPreviousSearch,{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===e?!0:e}),1)})});t("columns().search()","column().search()",function(a,b,c,e){return this.iterator("column",function(d,f){var h=d.aoPreSearchCols;if(a===l)return h[f].sSearch;d.oFeatures.bFilter&&(g.extend(h[f],
{sSearch:a+"",bRegex:null===b?!1:b,bSmart:null===c?!0:c,bCaseInsensitive:null===e?!0:e}),fa(d,d.oPreviousSearch,1))})});r("state()",function(){return this.context.length?this.context[0].oSavedState:null});r("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});r("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});r("state.save()",function(){return this.iterator("table",function(a){xa(a)})});p.versionCheck=
p.fnVersionCheck=function(a){for(var b=p.version.split("."),a=a.split("."),c,e,d=0,f=a.length;d<f;d++)if(c=parseInt(b[d],10)||0,e=parseInt(a[d],10)||0,c!==e)return c>e;return!0};p.isDataTable=p.fnIsDataTable=function(a){var b=g(a).get(0),c=!1;g.each(p.settings,function(a,d){if(d.nTable===b||d.nScrollHead===b||d.nScrollFoot===b)c=!0});return c};p.tables=p.fnTables=function(a){return g.map(p.settings,function(b){if(!a||a&&g(b.nTable).is(":visible"))return b.nTable})};p.util={throttle:ta,escapeRegex:ua};
p.camelToHungarian=G;r("$()",function(a,b){var c=this.rows(b).nodes(),c=g(c);return g([].concat(c.filter(a).toArray(),c.find(a).toArray()))});g.each(["on","one","off"],function(a,b){r(b+"()",function(){var a=Array.prototype.slice.call(arguments);a[0].match(/\.dt\b/)||(a[0]+=".dt");var e=g(this.tables().nodes());e[b].apply(e,a);return this})});r("clear()",function(){return this.iterator("table",function(a){na(a)})});r("settings()",function(){return new q(this.context,this.context)});r("data()",function(){return this.iterator("table",
function(a){return C(a.aoData,"_aData")}).flatten()});r("destroy()",function(a){a=a||!1;return this.iterator("table",function(b){var c=b.nTableWrapper.parentNode,e=b.oClasses,d=b.nTable,f=b.nTBody,h=b.nTHead,i=b.nTFoot,j=g(d),f=g(f),l=g(b.nTableWrapper),m=g.map(b.aoData,function(a){return a.nTr}),o;b.bDestroying=!0;u(b,"aoDestroyCallback","destroy",[b]);a||(new q(b)).columns().visible(!0);l.unbind(".DT").find(":not(tbody *)").unbind(".DT");g(Da).unbind(".DT-"+b.sInstance);d!=h.parentNode&&(j.children("thead").detach(),
j.append(h));i&&d!=i.parentNode&&(j.children("tfoot").detach(),j.append(i));j.detach();l.detach();b.aaSorting=[];b.aaSortingFixed=[];wa(b);g(m).removeClass(b.asStripeClasses.join(" "));g("th, td",h).removeClass(e.sSortable+" "+e.sSortableAsc+" "+e.sSortableDesc+" "+e.sSortableNone);b.bJUI&&(g("th span."+e.sSortIcon+", td span."+e.sSortIcon,h).detach(),g("th, td",h).each(function(){var a=g("div."+e.sSortJUIWrapper,this);g(this).append(a.contents());a.detach()}));!a&&c&&c.insertBefore(d,b.nTableReinsertBefore);
f.children().detach();f.append(m);j.css("width",b.sDestroyWidth).removeClass(e.sTable);(o=b.asDestroyStripes.length)&&f.children().each(function(a){g(this).addClass(b.asDestroyStripes[a%o])});c=g.inArray(b,p.settings);-1!==c&&p.settings.splice(c,1)})});p.version="1.10.4";p.settings=[];p.models={};p.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};p.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null};p.models.oColumn=
{idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};p.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,
aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,
fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(a,b){try{(-1===a.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+a.sInstance+"_"+location.pathname,JSON.stringify(b))}catch(c){}},fnStateSaveParams:null,
iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",
sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:g.extend({},p.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null};V(p.defaults);p.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,
bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};V(p.defaults.column);p.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},
oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],
sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:l,oAjaxData:l,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,
_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==A(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==A(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var a=this._iDisplayLength,b=this._iDisplayStart,c=b+a,e=this.aiDisplay.length,d=this.oFeatures,f=d.bPaginate;return d.bServerSide?!1===f||-1===a?b+e:
Math.min(b+a,this._iRecordsDisplay):!f||c>e||-1===a?e:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}};p.ext=w={classes:{},errMode:"alert",feature:[],search:[],internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:p.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:p.version};g.extend(w,{afnFiltering:w.search,aTypes:w.type.detect,ofnSearch:w.type.search,
oSort:w.type.order,afnSortData:w.order,aoFeatures:w.feature,oApi:w.internal,oStdClasses:w.classes,oPagination:w.pager});g.extend(p.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",
sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",
sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ca="",Ca="",E=Ca+"ui-state-default",ia=Ca+"css_right ui-icon ui-icon-",Wb=Ca+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";g.extend(p.ext.oJUIClasses,p.ext.classes,{sPageButton:"fg-button ui-button "+E,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",
sSortAsc:E+" sorting_asc",sSortDesc:E+" sorting_desc",sSortable:E+" sorting",sSortableAsc:E+" sorting_asc_disabled",sSortableDesc:E+" sorting_desc_disabled",sSortableNone:E+" sorting_disabled",sSortJUIAsc:ia+"triangle-1-n",sSortJUIDesc:ia+"triangle-1-s",sSortJUI:ia+"carat-2-n-s",sSortJUIAscAllowed:ia+"carat-1-n",sSortJUIDescAllowed:ia+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+E,sScrollFoot:"dataTables_scrollFoot "+E,
sHeaderTH:E,sFooterTH:E,sJUIHeader:Wb+" ui-corner-tl ui-corner-tr",sJUIFooter:Wb+" ui-corner-bl ui-corner-br"});var Lb=p.ext.pager;g.extend(Lb,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},simple_numbers:function(a,b){return["previous",Va(a,b),"next"]},full_numbers:function(a,b){return["first","previous",Va(a,b),"next","last"]},_numbers:Va,numbers_length:7});g.extend(!0,p.ext.renderer,{pageButton:{_:function(a,b,c,e,d,f){var h=a.oClasses,i=
a.oLanguage.oPaginate,j,l,m=0,o=function(b,e){var k,p,r,q,s=function(b){Sa(a,b.data.action,true)};k=0;for(p=e.length;k<p;k++){q=e[k];if(g.isArray(q)){r=g("<"+(q.DT_el||"div")+"/>").appendTo(b);o(r,q)}else{l=j="";switch(q){case "ellipsis":b.append("<span>&hellip;</span>");break;case "first":j=i.sFirst;l=q+(d>0?"":" "+h.sPageButtonDisabled);break;case "previous":j=i.sPrevious;l=q+(d>0?"":" "+h.sPageButtonDisabled);break;case "next":j=i.sNext;l=q+(d<f-1?"":" "+h.sPageButtonDisabled);break;case "last":j=
i.sLast;l=q+(d<f-1?"":" "+h.sPageButtonDisabled);break;default:j=q+1;l=d===q?h.sPageButtonActive:""}if(j){r=g("<a>",{"class":h.sPageButton+" "+l,"aria-controls":a.sTableId,"data-dt-idx":m,tabindex:a.iTabIndex,id:c===0&&typeof q==="string"?a.sTableId+"_"+q:null}).html(j).appendTo(b);Ua(r,{action:q},s);m++}}}};try{var k=g(P.activeElement).data("dt-idx");o(g(b).empty(),e);k!==null&&g(b).find("[data-dt-idx="+k+"]").focus()}catch(p){}}}});g.extend(p.ext.type.detect,[function(a,b){var c=b.oLanguage.sDecimal;
return Ya(a,c)?"num"+c:null},function(a){if(a&&!(a instanceof Date)&&(!$b.test(a)||!ac.test(a)))return null;var b=Date.parse(a);return null!==b&&!isNaN(b)||H(a)?"date":null},function(a,b){var c=b.oLanguage.sDecimal;return Ya(a,c,!0)?"num-fmt"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Qb(a,c)?"html-num"+c:null},function(a,b){var c=b.oLanguage.sDecimal;return Qb(a,c,!0)?"html-num-fmt"+c:null},function(a){return H(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":null}]);g.extend(p.ext.type.search,
{html:function(a){return H(a)?a:"string"===typeof a?a.replace(Nb," ").replace(Aa,""):""},string:function(a){return H(a)?a:"string"===typeof a?a.replace(Nb," "):a}});var za=function(a,b,c,e){if(0!==a&&(!a||"-"===a))return-Infinity;b&&(a=Pb(a,b));a.replace&&(c&&(a=a.replace(c,"")),e&&(a=a.replace(e,"")));return 1*a};g.extend(w.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return H(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return H(a)?
"":"string"===typeof a?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}});cb("");g.extend(!0,p.ext.renderer,{header:{_:function(a,b,c,e){g(a.nTable).on("order.dt.DT",function(d,f,h,g){if(a===f){d=c.idx;b.removeClass(c.sSortingClass+" "+e.sSortAsc+" "+e.sSortDesc).addClass(g[d]=="asc"?e.sSortAsc:g[d]=="desc"?e.sSortDesc:c.sSortingClass)}})},jqueryui:function(a,b,c,e){g("<div/>").addClass(e.sSortJUIWrapper).append(b.contents()).append(g("<span/>").addClass(e.sSortIcon+
" "+c.sSortingClassJUI)).appendTo(b);g(a.nTable).on("order.dt.DT",function(d,f,g,i){if(a===f){d=c.idx;b.removeClass(e.sSortAsc+" "+e.sSortDesc).addClass(i[d]=="asc"?e.sSortAsc:i[d]=="desc"?e.sSortDesc:c.sSortingClass);b.find("span."+e.sSortIcon).removeClass(e.sSortJUIAsc+" "+e.sSortJUIDesc+" "+e.sSortJUI+" "+e.sSortJUIAscAllowed+" "+e.sSortJUIDescAllowed).addClass(i[d]=="asc"?e.sSortJUIAsc:i[d]=="desc"?e.sSortJUIDesc:c.sSortingClassJUI)}})}}});p.render={number:function(a,b,c,e){return{display:function(d){var f=
0>d?"-":"",d=Math.abs(parseFloat(d)),g=parseInt(d,10),d=c?b+(d-g).toFixed(c).substring(2):"";return f+(e||"")+g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a)+d}}}};g.extend(p.ext.internal,{_fnExternApiFunc:Mb,_fnBuildAjax:qa,_fnAjaxUpdate:jb,_fnAjaxParameters:sb,_fnAjaxUpdateDraw:tb,_fnAjaxDataSrc:ra,_fnAddColumn:Ea,_fnColumnOptions:ja,_fnAdjustColumnSizing:X,_fnVisibleToColumnIndex:ka,_fnColumnIndexToVisible:$,_fnVisbleColumns:aa,_fnGetColumns:Z,_fnColumnTypes:Ga,_fnApplyColumnDefs:hb,_fnHungarianMap:V,
_fnCamelToHungarian:G,_fnLanguageCompat:O,_fnBrowserDetect:fb,_fnAddData:I,_fnAddTr:la,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==l?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(a,b,c){return g.inArray(c,a.aoData[b].anCells)},_fnGetCellData:v,_fnSetCellData:Ha,_fnSplitObjNotation:Ja,_fnGetObjectDataFn:W,_fnSetObjectDataFn:Q,_fnGetDataMaster:Ka,_fnClearTable:na,_fnDeleteIndex:oa,_fnInvalidate:ca,_fnGetRowElements:ma,_fnCreateTr:Ia,_fnBuildHead:ib,_fnDrawHead:ea,_fnDraw:L,_fnReDraw:M,
_fnAddOptionsHtml:lb,_fnDetectHeader:da,_fnGetUniqueThs:pa,_fnFeatureHtmlFilter:nb,_fnFilterComplete:fa,_fnFilterCustom:wb,_fnFilterColumn:vb,_fnFilter:ub,_fnFilterCreateSearch:Pa,_fnEscapeRegex:ua,_fnFilterData:xb,_fnFeatureHtmlInfo:qb,_fnUpdateInfo:Ab,_fnInfoMacros:Bb,_fnInitialise:ga,_fnInitComplete:sa,_fnLengthChange:Qa,_fnFeatureHtmlLength:mb,_fnFeatureHtmlPaginate:rb,_fnPageChange:Sa,_fnFeatureHtmlProcessing:ob,_fnProcessingDisplay:B,_fnFeatureHtmlTable:pb,_fnScrollDraw:Y,_fnApplyToChildren:F,
_fnCalculateColumnWidths:Fa,_fnThrottle:ta,_fnConvertToWidth:Cb,_fnScrollingWidthAdjust:Eb,_fnGetWidestNode:Db,_fnGetMaxLenString:Fb,_fnStringToCss:s,_fnScrollBarWidth:Gb,_fnSortFlatten:T,_fnSort:kb,_fnSortAria:Ib,_fnSortListener:Ta,_fnSortAttachListener:Na,_fnSortingClasses:wa,_fnSortData:Hb,_fnSaveState:xa,_fnLoadState:Jb,_fnSettingsFromNode:ya,_fnLog:R,_fnMap:D,_fnBindAction:Ua,_fnCallbackReg:x,_fnCallbackFire:u,_fnLengthOverflow:Ra,_fnRenderer:Oa,_fnDataSource:A,_fnRowAttributes:La,_fnCalculateEnd:function(){}});
g.fn.dataTable=p;g.fn.dataTableSettings=p.settings;g.fn.dataTableExt=p.ext;g.fn.DataTable=function(a){return g(this).dataTable(a).api()};g.each(p,function(a,b){g.fn.DataTable[a]=b});return g.fn.dataTable};"function"===typeof define&&define.amd?define("datatables",["jquery"],O):"object"===typeof exports?O(require("jquery")):jQuery&&!jQuery.fn.dataTable&&O(jQuery)})(window,document);

// moment.js
// version : 2.0.0
// author : Tim Wood
// license : MIT
// momentjs.com
(function(t){function n(t,n){return function(e){return u(t.call(this,e),n)}}function e(t){return function(n){return this.lang().ordinal(t.call(this,n))}}function s(){}function r(t){i(this,t)}function a(t){var n=this._data={},e=t.years||t.year||t.y||0,s=t.months||t.month||t.M||0,r=t.weeks||t.week||t.w||0,a=t.days||t.day||t.d||0,i=t.hours||t.hour||t.h||0,u=t.minutes||t.minute||t.m||0,d=t.seconds||t.second||t.s||0,c=t.milliseconds||t.millisecond||t.ms||0;this._milliseconds=c+1e3*d+6e4*u+36e5*i,this._days=a+7*r,this._months=s+12*e,n.milliseconds=c%1e3,d+=o(c/1e3),n.seconds=d%60,u+=o(d/60),n.minutes=u%60,i+=o(u/60),n.hours=i%24,a+=o(i/24),a+=7*r,n.days=a%30,s+=o(a/30),n.months=s%12,e+=o(s/12),n.years=e}function i(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t}function o(t){return 0>t?Math.ceil(t):Math.floor(t)}function u(t,n){for(var e=t+"";n>e.length;)e="0"+e;return e}function d(t,n,e){var s,r=n._milliseconds,a=n._days,i=n._months;r&&t._d.setTime(+t+r*e),a&&t.date(t.date()+a*e),i&&(s=t.date(),t.date(1).month(t.month()+i*e).date(Math.min(s,t.daysInMonth())))}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function h(t,n){var e,s=Math.min(t.length,n.length),r=Math.abs(t.length-n.length),a=0;for(e=0;s>e;e++)~~t[e]!==~~n[e]&&a++;return a+r}function f(t,n){return n.abbr=t,x[t]||(x[t]=new s),x[t].set(n),x[t]}function l(t){return t?(!x[t]&&W&&require("./lang/"+t),x[t]):O.fn._lang}function _(t){return t.match(/\[.*\]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function m(t){var n,e,s=t.match(A);for(n=0,e=s.length;e>n;n++)s[n]=rn[s[n]]?rn[s[n]]:_(s[n]);return function(r){var a="";for(n=0;e>n;n++)a+="function"==typeof s[n].call?s[n].call(r,t):s[n];return a}}function y(t,n){function e(n){return t.lang().longDateFormat(n)||n}for(var s=5;s--&&P.test(n);)n=n.replace(P,e);return nn[n]||(nn[n]=m(n)),nn[n](t)}function M(t){switch(t){case"DDDD":return E;case"YYYY":return N;case"YYYYY":return $;case"S":case"SS":case"SSS":case"DDD":return V;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return I;case"X":return R;case"Z":case"ZZ":return X;case"T":return j;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return J;default:return RegExp(t.replace("\\",""))}}function D(t,n,e){var s,r=e._a;switch(t){case"M":case"MM":r[1]=null==n?0:~~n-1;break;case"MMM":case"MMMM":s=l(e._l).monthsParse(n),null!=s?r[1]=s:e._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=n&&(r[2]=~~n);break;case"YY":r[0]=~~n+(~~n>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~n;break;case"a":case"A":e._isPm="pm"===(n+"").toLowerCase();break;case"H":case"HH":case"h":case"hh":r[3]=~~n;break;case"m":case"mm":r[4]=~~n;break;case"s":case"ss":r[5]=~~n;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+n));break;case"X":e._d=new Date(1e3*parseFloat(n));break;case"Z":case"ZZ":e._useUTC=!0,s=(n+"").match(K),s&&s[1]&&(e._tzh=~~s[1]),s&&s[2]&&(e._tzm=~~s[2]),s&&"+"===s[0]&&(e._tzh=-e._tzh,e._tzm=-e._tzm)}null==n&&(e._isValid=!1)}function Y(t){var n,e,s=[];if(!t._d){for(n=0;7>n;n++)t._a[n]=s[n]=null==t._a[n]?2===n?1:0:t._a[n];s[3]+=t._tzh||0,s[4]+=t._tzm||0,e=new Date(0),t._useUTC?(e.setUTCFullYear(s[0],s[1],s[2]),e.setUTCHours(s[3],s[4],s[5],s[6])):(e.setFullYear(s[0],s[1],s[2]),e.setHours(s[3],s[4],s[5],s[6])),t._d=e}}function p(t){var n,e,s=t._f.match(A),r=t._i;for(t._a=[],n=0;s.length>n;n++)e=(M(s[n]).exec(r)||[])[0],e&&(r=r.slice(r.indexOf(e)+e.length)),rn[s[n]]&&D(s[n],e,t);t._isPm&&12>t._a[3]&&(t._a[3]+=12),t._isPm===!1&&12===t._a[3]&&(t._a[3]=0),Y(t)}function g(t){var n,e,s,a,o,u=99;for(a=t._f.length;a>0;a--){if(n=i({},t),n._f=t._f[a-1],p(n),e=new r(n),e.isValid()){s=e;break}o=h(n._a,e.toArray()),u>o&&(u=o,s=e)}i(t,s)}function w(t){var n,e=t._i;if(q.exec(e)){for(t._f="YYYY-MM-DDT",n=0;4>n;n++)if(G[n][1].exec(e)){t._f+=G[n][0];break}X.exec(e)&&(t._f+=" Z"),p(t)}else t._d=new Date(e)}function T(n){var e=n._i,s=Z.exec(e);e===t?n._d=new Date:s?n._d=new Date(+s[1]):"string"==typeof e?w(n):c(e)?(n._a=e.slice(0),Y(n)):n._d=e instanceof Date?new Date(+e):new Date(e)}function v(t,n,e,s,r){return r.relativeTime(n||1,!!e,t,s)}function k(t,n,e){var s=U(Math.abs(t)/1e3),r=U(s/60),a=U(r/60),i=U(a/24),o=U(i/365),u=45>s&&["s",s]||1===r&&["m"]||45>r&&["mm",r]||1===a&&["h"]||22>a&&["hh",a]||1===i&&["d"]||25>=i&&["dd",i]||45>=i&&["M"]||345>i&&["MM",U(i/30)]||1===o&&["y"]||["yy",o];return u[2]=n,u[3]=t>0,u[4]=e,v.apply({},u)}function S(t,n,e){var s=e-n,r=e-t.day();return r>s&&(r-=7),s-7>r&&(r+=7),Math.ceil(O(t).add("d",r).dayOfYear()/7)}function b(t){var n=t._i,e=t._f;return null===n||""===n?null:("string"==typeof n&&(t._i=n=l().preparse(n)),O.isMoment(n)?(t=i({},n),t._d=new Date(+n._d)):e?c(e)?g(t):p(t):T(t),new r(t))}function F(t,n){O.fn[t]=O.fn[t+"s"]=function(t){var e=this._isUTC?"UTC":"";return null!=t?(this._d["set"+e+n](t),this):this._d["get"+e+n]()}}function L(t){O.duration.fn[t]=function(){return this._data[t]}}function H(t,n){O.duration.fn["as"+t]=function(){return+this/n}}for(var O,z,C="2.0.0",U=Math.round,x={},W="undefined"!=typeof module&&module.exports,Z=/^\/?Date\((\-?\d+)/i,A=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,J=/\d\d?/,V=/\d{1,3}/,E=/\d{3}/,N=/\d{1,4}/,$=/[+\-]?\d{1,6}/,I=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,X=/Z|[\+\-]\d\d:?\d\d/i,j=/T/i,R=/[\+\-]?\d+(\.\d{1,3})?/,q=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,B="YYYY-MM-DDTHH:mm:ssZ",G=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],K=/([\+\-]|\d\d)/gi,Q="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),tn={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},nn={},en="DDD w W M D d".split(" "),sn="M D H h m s w W".split(" "),rn={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return u(this.year()%100,2)},YYYY:function(){return u(this.year(),4)},YYYYY:function(){return u(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return u(~~(this.milliseconds()/10),2)},SSS:function(){return u(this.milliseconds(),3)},Z:function(){var t=-this.zone(),n="+";return 0>t&&(t=-t,n="-"),n+u(~~(t/60),2)+":"+u(~~t%60,2)},ZZ:function(){var t=-this.zone(),n="+";return 0>t&&(t=-t,n="-"),n+u(~~(10*t/6),4)},X:function(){return this.unix()}};en.length;)z=en.pop(),rn[z+"o"]=e(rn[z]);for(;sn.length;)z=sn.pop(),rn[z+z]=n(rn[z],2);for(rn.DDDD=n(rn.DDD,3),s.prototype={set:function(t){var n,e;for(e in t)n=t[e],"function"==typeof n?this[e]=n:this["_"+e]=n},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var n,e,s;for(this._monthsParse||(this._monthsParse=[]),n=0;12>n;n++)if(this._monthsParse[n]||(e=O([2e3,n]),s="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[n]=RegExp(s.replace(".",""),"i")),this._monthsParse[n].test(t))return n},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var n=this._longDateFormat[t];return!n&&this._longDateFormat[t.toUpperCase()]&&(n=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=n),n},meridiem:function(t,n,e){return t>11?e?"pm":"PM":e?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,n){var e=this._calendar[t];return"function"==typeof e?e.apply(n):e},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,n,e,s){var r=this._relativeTime[e];return"function"==typeof r?r(t,n,e,s):r.replace(/%d/i,t)},pastFuture:function(t,n){var e=this._relativeTime[t>0?"future":"past"];return"function"==typeof e?e(n):e.replace(/%s/i,n)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return S(t,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},O=function(t,n,e){return b({_i:t,_f:n,_l:e,_isUTC:!1})},O.utc=function(t,n,e){return b({_useUTC:!0,_isUTC:!0,_l:e,_i:t,_f:n})},O.unix=function(t){return O(1e3*t)},O.duration=function(t,n){var e,s=O.isDuration(t),r="number"==typeof t,i=s?t._data:r?{}:t;return r&&(n?i[n]=t:i.milliseconds=t),e=new a(i),s&&t.hasOwnProperty("_lang")&&(e._lang=t._lang),e},O.version=C,O.defaultFormat=B,O.lang=function(n,e){return n?(e?f(n,e):x[n]||l(n),O.duration.fn._lang=O.fn._lang=l(n),t):O.fn._lang._abbr},O.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),l(t)},O.isMoment=function(t){return t instanceof r},O.isDuration=function(t){return t instanceof a},O.fn=r.prototype={clone:function(){return O(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return O(this).utc().format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!h(this._a,(this._isUTC?O.utc(this._a):O(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){var n=y(this,t||O.defaultFormat);return this.lang().postformat(n)},add:function(t,n){var e;return e="string"==typeof t?O.duration(+n,t):O.duration(t,n),d(this,e,1),this},subtract:function(t,n){var e;return e="string"==typeof t?O.duration(+n,t):O.duration(t,n),d(this,e,-1),this},diff:function(t,n,e){var s,r,a=this._isUTC?O(t).utc():O(t).local(),i=6e4*(this.zone()-a.zone());return n&&(n=n.replace(/s$/,"")),"year"===n||"month"===n?(s=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-O(this).startOf("month")-(a-O(a).startOf("month")))/s,"year"===n&&(r/=12)):(s=this-a-i,r="second"===n?s/1e3:"minute"===n?s/6e4:"hour"===n?s/36e5:"day"===n?s/864e5:"week"===n?s/6048e5:s),e?r:o(r)},from:function(t,n){return O.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!n)},fromNow:function(t){return this.from(O(),t)},calendar:function(){var t=this.diff(O().startOf("day"),"days",!0),n=-6>t?"sameElse":-1>t?"lastWeek":0>t?"lastDay":1>t?"sameDay":2>t?"nextDay":7>t?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){var t=this.year();return 0===t%4&&0!==t%100||0===t%400},isDST:function(){return this.zone()<O([this.year()]).zone()||this.zone()<O([this.year(),5]).zone()},day:function(t){var n=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?n:this.add({d:t-n})},startOf:function(t){switch(t=t.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.day(0),this},endOf:function(t){return this.startOf(t).add(t.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(n,e){return e=e!==t?e:"millisecond",+this.clone().startOf(e)>+O(n).startOf(e)},isBefore:function(n,e){return e=e!==t?e:"millisecond",+this.clone().startOf(e)<+O(n).startOf(e)},isSame:function(n,e){return e=e!==t?e:"millisecond",+this.clone().startOf(e)===+O(n).startOf(e)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return O.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var n=U((O(this).startOf("day")-O(this).startOf("year"))/864e5)+1;return null==t?n:this.add("d",t-n)},isoWeek:function(t){var n=S(this,1,4);return null==t?n:this.add("d",7*(t-n))},week:function(t){var n=this.lang().week(this);return null==t?n:this.add("d",7*(t-n))},lang:function(n){return n===t?this._lang:(this._lang=l(n),this)}},z=0;Q.length>z;z++)F(Q[z].toLowerCase().replace(/s$/,""),Q[z]);F("year","FullYear"),O.fn.days=O.fn.day,O.fn.weeks=O.fn.week,O.fn.isoWeeks=O.fn.isoWeek,O.duration.fn=a.prototype={weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+2592e6*this._months},humanize:function(t){var n=+this,e=k(n,!t,this.lang());return t&&(e=this.lang().pastFuture(n,e)),this.lang().postformat(e)},lang:O.fn.lang};for(z in tn)tn.hasOwnProperty(z)&&(H(z,tn[z]),L(z.toLowerCase()));H("Weeks",6048e5),O.lang("en",{ordinal:function(t){var n=t%10,e=1===~~(t%100/10)?"th":1===n?"st":2===n?"nd":3===n?"rd":"th";return t+e}}),W&&(module.exports=O),"undefined"==typeof ender&&(this.moment=O),"function"==typeof define&&define.amd&&define("moment",[],function(){return O})}).call(this);
/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
(function($) {
    $.cookie = function(key, value, options) {

        // key and at least value given, set cookie...
        if (arguments.length > 1 && (!/Object/.test(Object.prototype.toString.call(value)) || value === null || value === undefined)) {
            options = $.extend({}, options);

            if (value === null || value === undefined) {
                options.expires = -1;
            }

            if (typeof options.expires === 'number') {
                var days = options.expires, t = options.expires = new Date();
                t.setDate(t.getDate() + days);
            }

            value = String(value);

            return (document.cookie = [
                encodeURIComponent(key), '=', options.raw ? value : encodeURIComponent(value),
                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
                options.path    ? '; path=' + options.path : '',
                options.domain  ? '; domain=' + options.domain : '',
                options.secure  ? '; secure' : ''
            ].join(''));
        }

        // key and possibly options given, get cookie...
        options = value || {};
        var decode = options.raw ? function(s) { return s; } : decodeURIComponent;

        var pairs = document.cookie.split('; ');
        for (var i = 0, pair; pair = pairs[i] && pairs[i].split('='); i++) {
            if (decode(pair[0]) === key) return decode(pair[1] || ''); // IE saves cookies with empty string as "c; ", e.g. without "=" as opposed to EOMB, thus pair[1] may be undefined
        }
        return null;
    };
})(jQuery);

/**
*
*  Base64 encode / decode
*  http://www.webtoolkit.info/
*
**/
 
var Base64 = {
 
	// private property
	_keyStr : "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
 
	// public method for encoding
	encode : function (input) {
		var output = "";
		var chr1, chr2, chr3, enc1, enc2, enc3, enc4;
		var i = 0;
 
		input = Base64._utf8_encode(input);
 
		while (i < input.length) {
 
			chr1 = input.charCodeAt(i++);
			chr2 = input.charCodeAt(i++);
			chr3 = input.charCodeAt(i++);
 
			enc1 = chr1 >> 2;
			enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);
			enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);
			enc4 = chr3 & 63;
 
			if (isNaN(chr2)) {
				enc3 = enc4 = 64;
			} else if (isNaN(chr3)) {
				enc4 = 64;
			}
 
			output = output +
			this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +
			this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);
 
		}
 
		return output;
	},
 
	// public method for decoding
	decode : function (input) {
		var output = "";
		var chr1, chr2, chr3;
		var enc1, enc2, enc3, enc4;
		var i = 0;
 
		input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
 
		while (i < input.length) {
 
			enc1 = this._keyStr.indexOf(input.charAt(i++));
			enc2 = this._keyStr.indexOf(input.charAt(i++));
			enc3 = this._keyStr.indexOf(input.charAt(i++));
			enc4 = this._keyStr.indexOf(input.charAt(i++));
 
			chr1 = (enc1 << 2) | (enc2 >> 4);
			chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);
			chr3 = ((enc3 & 3) << 6) | enc4;
 
			output = output + String.fromCharCode(chr1);
 
			if (enc3 != 64) {
				output = output + String.fromCharCode(chr2);
			}
			if (enc4 != 64) {
				output = output + String.fromCharCode(chr3);
			}
 
		}
 
		output = Base64._utf8_decode(output);
 
		return output;
 
	},
 
	// private method for UTF-8 encoding
	_utf8_encode : function (string) {
		string = string.replace(/\r\n/g,"\n");
		var utftext = "";
 
		for (var n = 0; n < string.length; n++) {
 
			var c = string.charCodeAt(n);
 
			if (c < 128) {
				utftext += String.fromCharCode(c);
			}
			else if((c > 127) && (c < 2048)) {
				utftext += String.fromCharCode((c >> 6) | 192);
				utftext += String.fromCharCode((c & 63) | 128);
			}
			else {
				utftext += String.fromCharCode((c >> 12) | 224);
				utftext += String.fromCharCode(((c >> 6) & 63) | 128);
				utftext += String.fromCharCode((c & 63) | 128);
			}
 
		}
 
		return utftext;
	},
 
	// private method for UTF-8 decoding
	_utf8_decode : function (utftext) {
		var string = "";
		var i = 0;
		var c = c1 = c2 = 0;
 
		while ( i < utftext.length ) {
 
			c = utftext.charCodeAt(i);
 
			if (c < 128) {
				string += String.fromCharCode(c);
				i++;
			}
			else if((c > 191) && (c < 224)) {
				c2 = utftext.charCodeAt(i+1);
				string += String.fromCharCode(((c & 31) << 6) | (c2 & 63));
				i += 2;
			}
			else {
				c2 = utftext.charCodeAt(i+1);
				c3 = utftext.charCodeAt(i+2);
				string += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));
				i += 3;
			}
 
		}
 
		return string;
	}
 
}
/*
 * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined
 * in FIPS PUB 180-1
 * Version 2.1a Copyright Paul Johnston 2000 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for details.
 */

/*
 * Configurable variables. You may need to tweak these to be compatible with
 * the server-side, but the defaults work in most cases.
 */
var hexcase = 0;  /* hex output format. 0 - lowercase; 1 - uppercase        */
var b64pad  = "="; /* base-64 pad character. "=" for strict RFC compliance   */
var chrsz   = 8;  /* bits per input character. 8 - ASCII; 16 - Unicode      */

/*
 * These are the functions you'll usually want to call
 * They take string arguments and return either hex or base-64 encoded strings
 */
function hex_sha1(s){return binb2hex(core_sha1(str2binb(s),s.length * chrsz));}
function b64_sha1(s){return binb2b64(core_sha1(str2binb(s),s.length * chrsz));}
function str_sha1(s){return binb2str(core_sha1(str2binb(s),s.length * chrsz));}
function hex_hmac_sha1(key, data){ return binb2hex(core_hmac_sha1(key, data));}
function b64_hmac_sha1(key, data){ return binb2b64(core_hmac_sha1(key, data));}
function str_hmac_sha1(key, data){ return binb2str(core_hmac_sha1(key, data));}

/*
 * Perform a simple self-test to see if the VM is working
 */
function sha1_vm_test()
{
  return hex_sha1("abc") == "a9993e364706816aba3e25717850c26c9cd0d89d";
}

/*
 * Calculate the SHA-1 of an array of big-endian words, and a bit length
 */
function core_sha1(x, len)
{
  /* append padding */
  x[len >> 5] |= 0x80 << (24 - len % 32);
  x[((len + 64 >> 9) << 4) + 15] = len;

  var w = Array(80);
  var a =  1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d =  271733878;
  var e = -1009589776;

  for(var i = 0; i < x.length; i += 16)
  {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;
    var olde = e;

    for(var j = 0; j < 80; j++)
    {
      if(j < 16) w[j] = x[i + j];
      else w[j] = rol(w[j-3] ^ w[j-8] ^ w[j-14] ^ w[j-16], 1);
      var t = safe_add(safe_add(rol(a, 5), sha1_ft(j, b, c, d)),
                       safe_add(safe_add(e, w[j]), sha1_kt(j)));
      e = d;
      d = c;
      c = rol(b, 30);
      b = a;
      a = t;
    }

    a = safe_add(a, olda);
    b = safe_add(b, oldb);
    c = safe_add(c, oldc);
    d = safe_add(d, oldd);
    e = safe_add(e, olde);
  }
  return Array(a, b, c, d, e);

}

/*
 * Perform the appropriate triplet combination function for the current
 * iteration
 */
function sha1_ft(t, b, c, d)
{
  if(t < 20) return (b & c) | ((~b) & d);
  if(t < 40) return b ^ c ^ d;
  if(t < 60) return (b & c) | (b & d) | (c & d);
  return b ^ c ^ d;
}

/*
 * Determine the appropriate additive constant for the current iteration
 */
function sha1_kt(t)
{
  return (t < 20) ?  1518500249 : (t < 40) ?  1859775393 :
         (t < 60) ? -1894007588 : -899497514;
}

/*
 * Calculate the HMAC-SHA1 of a key and some data
 */
function core_hmac_sha1(key, data)
{
  var bkey = str2binb(key);
  if(bkey.length > 16) bkey = core_sha1(bkey, key.length * chrsz);

  var ipad = Array(16), opad = Array(16);
  for(var i = 0; i < 16; i++)
  {
    ipad[i] = bkey[i] ^ 0x36363636;
    opad[i] = bkey[i] ^ 0x5C5C5C5C;
  }

  var hash = core_sha1(ipad.concat(str2binb(data)), 512 + data.length * chrsz);
  return core_sha1(opad.concat(hash), 512 + 160);
}

/*
 * Add integers, wrapping at 2^32. This uses 16-bit operations internally
 * to work around bugs in some JS interpreters.
 */
function safe_add(x, y)
{
  var lsw = (x & 0xFFFF) + (y & 0xFFFF);
  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
  return (msw << 16) | (lsw & 0xFFFF);
}

/*
 * Bitwise rotate a 32-bit number to the left.
 */
function rol(num, cnt)
{
  return (num << cnt) | (num >>> (32 - cnt));
}

/*
 * Convert an 8-bit or 16-bit string to an array of big-endian words
 * In 8-bit function, characters >255 have their hi-byte silently ignored.
 */
function str2binb(str)
{
  var bin = Array();
  var mask = (1 << chrsz) - 1;
  for(var i = 0; i < str.length * chrsz; i += chrsz)
    bin[i>>5] |= (str.charCodeAt(i / chrsz) & mask) << (32 - chrsz - i%32);
  return bin;
}

/*
 * Convert an array of big-endian words to a string
 */
function binb2str(bin)
{
  var str = "";
  var mask = (1 << chrsz) - 1;
  for(var i = 0; i < bin.length * 32; i += chrsz)
    str += String.fromCharCode((bin[i>>5] >>> (32 - chrsz - i%32)) & mask);
  return str;
}

/*
 * Convert an array of big-endian words to a hex string.
 */
function binb2hex(binarray)
{
  var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
  var str = "";
  for(var i = 0; i < binarray.length * 4; i++)
  {
    str += hex_tab.charAt((binarray[i>>2] >> ((3 - i%4)*8+4)) & 0xF) +
           hex_tab.charAt((binarray[i>>2] >> ((3 - i%4)*8  )) & 0xF);
  }
  return str;
}

/*
 * Convert an array of big-endian words to a base-64 string
 */
function binb2b64(binarray)
{
  var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
  var str = "";
  for(var i = 0; i < binarray.length * 4; i += 3)
  {
    var triplet = (((binarray[i   >> 2] >> 8 * (3 -  i   %4)) & 0xFF) << 16)
                | (((binarray[i+1 >> 2] >> 8 * (3 - (i+1)%4)) & 0xFF) << 8 )
                |  ((binarray[i+2 >> 2] >> 8 * (3 - (i+2)%4)) & 0xFF);
    for(var j = 0; j < 4; j++)
    {
      if(i * 8 + j * 6 > binarray.length * 32) str += b64pad;
      else str += tab.charAt((triplet >> 6*(3-j)) & 0x3F);
    }
  }
  return str;
}

!function(a){function b(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function c(){var a=require("util");return"Markdown.mk_block( "+a.inspect(this.toString())+", "+a.inspect(this.trailing)+", "+a.inspect(this.lineNumber)+" )"}function d(a){for(var b=0,c=-1;-1!==(c=a.indexOf("\n",c+1));)b++;return b}function e(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function f(a){if("string"==typeof a)return e(a);var b=a.shift(),c={},d=[];for(!a.length||"object"!=typeof a[0]||a[0]instanceof Array||(c=a.shift());a.length;)d.push(f(a.shift()));var g="";for(var h in c)g+=" "+h+'="'+e(c[h])+'"';return"img"===b||"br"===b||"hr"===b?"<"+b+g+"/>":"<"+b+g+">"+d.join("")+"</"+b+">"}function g(a,b,c){var d;c=c||{};var e=a.slice(0);"function"==typeof c.preprocessTreeNode&&(e=c.preprocessTreeNode(e,b));var f=o(e);if(f){e[1]={};for(d in f)e[1][d]=f[d];f=e[1]}if("string"==typeof e)return e;switch(e[0]){case"header":e[0]="h"+e[1].level,delete e[1].level;break;case"bulletlist":e[0]="ul";break;case"numberlist":e[0]="ol";break;case"listitem":e[0]="li";break;case"para":e[0]="p";break;case"markdown":e[0]="html",f&&delete f.references;break;case"code_block":e[0]="pre",d=f?2:1;var h=["code"];h.push.apply(h,e.splice(d,e.length-d)),e[d]=h;break;case"inlinecode":e[0]="code";break;case"img":e[1].src=e[1].href,delete e[1].href;break;case"linebreak":e[0]="br";break;case"link":e[0]="a";break;case"link_ref":e[0]="a";var i=b[f.ref];if(!i)return f.original;delete f.ref,f.href=i.href,i.title&&(f.title=i.title),delete f.original;break;case"img_ref":e[0]="img";var i=b[f.ref];if(!i)return f.original;delete f.ref,f.src=i.href,i.title&&(f.title=i.title),delete f.original}if(d=1,f){for(var j in e[1]){d=2;break}1===d&&e.splice(d,1)}for(;d<e.length;++d)e[d]=g(e[d],b,c);return e}function h(a){for(var b=o(a)?2:1;b<a.length;)"string"==typeof a[b]?b+1<a.length&&"string"==typeof a[b+1]?a[b]+=a.splice(b+1,1)[0]:++b:(h(a[b]),++b)}function i(a,b){function c(a){this.len_after=a,this.name="close_"+b}var d=a+"_state",e="strong"===a?"em_state":"strong_state";return function(f){if(this[d][0]===b)return this[d].shift(),[f.length,new c(f.length-b.length)];var g=this[e].slice(),h=this[d].slice();this[d].unshift(b);var i=this.processInline(f.substr(b.length)),j=i[i.length-1];if(this[d].shift(),j instanceof c){i.pop();var k=f.length-j.len_after;return[k,[a].concat(i)]}return this[e]=g,this[d]=h,[b.length,b]}}function j(a){for(var b=a.split(""),c=[""],d=!1;b.length;){var e=b.shift();switch(e){case" ":d?c[c.length-1]+=e:c.push("");break;case"'":case'"':d=!d;break;case"\\":e=b.shift();default:c[c.length-1]+=e}}return c}var k={};k.mk_block=function(a,d,e){1===arguments.length&&(d="\n\n");var f=new String(a);return f.trailing=d,f.inspect=c,f.toSource=b,void 0!==e&&(f.lineNumber=e),f};var l=k.isArray=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};k.forEach=Array.prototype.forEach?function(a,b,c){return a.forEach(b,c)}:function(a,b,c){for(var d=0;d<a.length;d++)b.call(c||a,a[d],d,a)},k.isEmpty=function(a){for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0},k.extract_attr=function(a){return l(a)&&a.length>1&&"object"==typeof a[1]&&!l(a[1])?a[1]:void 0};var m=function(a){switch(typeof a){case"undefined":this.dialect=m.dialects.Gruber;break;case"object":this.dialect=a;break;default:if(!(a in m.dialects))throw new Error("Unknown Markdown dialect '"+String(a)+"'");this.dialect=m.dialects[a]}this.em_state=[],this.strong_state=[],this.debug_indent=""};m.dialects={};var n=m.mk_block=k.mk_block,l=k.isArray;m.parse=function(a,b){var c=new m(b);return c.toTree(a)},m.prototype.split_blocks=function(a){a=a.replace(/(\r\n|\n|\r)/g,"\n");var b,c=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,e=[],f=1;for(null!==(b=/^(\s*\n)/.exec(a))&&(f+=d(b[0]),c.lastIndex=b[0].length);null!==(b=c.exec(a));)"\n#"===b[2]&&(b[2]="\n",c.lastIndex--),e.push(n(b[1],b[2],f)),f+=d(b[0]);return e},m.prototype.processBlock=function(a,b){var c=this.dialect.block,d=c.__order__;if("__call__"in c)return c.__call__.call(this,a,b);for(var e=0;e<d.length;e++){var f=c[d[e]].call(this,a,b);if(f)return(!l(f)||f.length>0&&!l(f[0]))&&this.debug(d[e],"didn't return a proper array"),f}return[]},m.prototype.processInline=function(a){return this.dialect.inline.__call__.call(this,String(a))},m.prototype.toTree=function(a,b){var c=a instanceof Array?a:this.split_blocks(a),d=this.tree;try{for(this.tree=b||this.tree||["markdown"];c.length;){var e=this.processBlock(c.shift(),c);e.length&&this.tree.push.apply(this.tree,e)}return this.tree}finally{b&&(this.tree=d)}},m.prototype.debug=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,a),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,a)},m.prototype.loop_re_over_block=function(a,b,c){for(var d,e=b.valueOf();e.length&&null!==(d=a.exec(e));)e=e.substr(d[0].length),c.call(this,d);return e},m.buildBlockOrder=function(a){var b=[];for(var c in a)"__order__"!==c&&"__call__"!==c&&b.push(c);a.__order__=b},m.buildInlinePatterns=function(a){var b=[];for(var c in a)if(!c.match(/^__.*__$/)){var d=c.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");b.push(1===c.length?d:"(?:"+d+")")}b=b.join("|"),a.__patterns__=b;var e=a.__call__;a.__call__=function(a,c){return void 0!==c?e.call(this,a,c):e.call(this,a,b)}};var o=k.extract_attr;m.renderJsonML=function(a,b){b=b||{},b.root=b.root||!1;var c=[];if(b.root)c.push(f(a));else for(a.shift(),!a.length||"object"!=typeof a[0]||a[0]instanceof Array||a.shift();a.length;)c.push(f(a.shift()));return c.join("\n\n")},m.toHTMLTree=function(a,b,c){"string"==typeof a&&(a=this.parse(a,b));var d=o(a),e={};d&&d.references&&(e=d.references);var f=g(a,e,c);return h(f),f},m.toHTML=function(a,b,c){var d=this.toHTMLTree(a,b,c);return this.renderJsonML(d)};var p={};p.inline_until_char=function(a,b){for(var c=0,d=[];;){if(a.charAt(c)===b)return c++,[c,d];if(c>=a.length)return null;var e=this.dialect.inline.__oneElement__.call(this,a.substr(c));c+=e[0],d.push.apply(d,e.slice(1))}},p.subclassDialect=function(a){function b(){}function c(){}return b.prototype=a.block,c.prototype=a.inline,{block:new b,inline:new c}};var q=k.forEach,o=k.extract_attr,n=k.mk_block,r=k.isEmpty,s=p.inline_until_char,t={block:{atxHeader:function(a,b){var c=a.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!c)return void 0;var d=["header",{level:c[1].length}];return Array.prototype.push.apply(d,this.processInline(c[2])),c[0].length<a.length&&b.unshift(n(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[d]},setextHeader:function(a,b){var c=a.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!c)return void 0;var d="="===c[2]?1:2,e=["header",{level:d},c[1]];return c[0].length<a.length&&b.unshift(n(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[e]},code:function(a,b){var c=[],d=/^(?: {0,3}\t| {4})(.*)\n?/;if(!a.match(d))return void 0;a:for(;;){var e=this.loop_re_over_block(d,a.valueOf(),function(a){c.push(a[1])});if(e.length){b.unshift(n(e,a.trailing));break a}if(!b.length)break a;if(!b[0].match(d))break a;c.push(a.trailing.replace(/[^\n]/g,"").substring(2)),a=b.shift()}return[["code_block",c.join("\n")]]},horizRule:function(a,b){var c=a.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!c)return void 0;var d=[["hr"]];if(c[1]){var e=n(c[1],"",a.lineNumber);d.unshift.apply(d,this.toTree(e,[]))}return c[3]&&b.unshift(n(c[3],a.trailing,a.lineNumber+1)),d},lists:function(){function a(a){return new RegExp("(?:^("+i+"{0,"+a+"} {0,3})("+f+")\\s+)|"+"(^"+i+"{0,"+(a-1)+"}[ ]{0,4})")}function b(a){return a.replace(/ {0,3}\t/g,"    ")}function c(a,b,c,d){if(b)return a.push(["para"].concat(c)),void 0;var e=a[a.length-1]instanceof Array&&"para"===a[a.length-1][0]?a[a.length-1]:a;d&&a.length>1&&c.unshift(d);for(var f=0;f<c.length;f++){var g=c[f],h="string"==typeof g;h&&e.length>1&&"string"==typeof e[e.length-1]?e[e.length-1]+=g:e.push(g)}}function d(a,b){for(var c=new RegExp("^("+i+"{"+a+"}.*?\\n?)*$"),d=new RegExp("^"+i+"{"+a+"}","gm"),e=[];b.length>0&&c.exec(b[0]);){var f=b.shift(),g=f.replace(d,"");e.push(n(g,f.trailing,f.lineNumber))}return e}function e(a,b,c){var d=a.list,e=d[d.length-1];if(!(e[1]instanceof Array&&"para"===e[1][0]))if(b+1===c.length)e.push(["para"].concat(e.splice(1,e.length-1)));else{var f=e.pop();e.push(["para"].concat(e.splice(1,e.length-1)),f)}}var f="[*+-]|\\d+\\.",g=/[*+-]/,h=new RegExp("^( {0,3})("+f+")[ 	]+"),i="(?: {0,3}\\t| {4})";return function(f,i){function j(a){var b=g.exec(a[2])?["bulletlist"]:["numberlist"];return n.push({list:b,indent:a[1]}),b}var k=f.match(h);if(!k)return void 0;for(var l,m,n=[],o=j(k),p=!1,r=[n[0].list];;){for(var s=f.split(/(?=\n)/),t="",u="",v=0;v<s.length;v++){u="";var w=s[v].replace(/^\n/,function(a){return u=a,""}),x=a(n.length);if(k=w.match(x),void 0!==k[1]){t.length&&(c(l,p,this.processInline(t),u),p=!1,t=""),k[1]=b(k[1]);var y=Math.floor(k[1].length/4)+1;if(y>n.length)o=j(k),l.push(o),l=o[1]=["listitem"];else{var z=!1;for(m=0;m<n.length;m++)if(n[m].indent===k[1]){o=n[m].list,n.splice(m+1,n.length-(m+1)),z=!0;break}z||(y++,y<=n.length?(n.splice(y,n.length-y),o=n[y-1].list):(o=j(k),l.push(o))),l=["listitem"],o.push(l)}u=""}w.length>k[0].length&&(t+=u+w.substr(k[0].length))}t.length&&(c(l,p,this.processInline(t),u),p=!1,t="");var A=d(n.length,i);A.length>0&&(q(n,e,this),l.push.apply(l,this.toTree(A,[])));var B=i[0]&&i[0].valueOf()||"";if(!B.match(h)&&!B.match(/^ /))break;f=i.shift();var C=this.dialect.block.horizRule(f,i);if(C){r.push.apply(r,C);break}q(n,e,this),p=!0}return r}}(),blockquote:function(a,b){if(!a.match(/^>/m))return void 0;var c=[];if(">"!==a[0]){for(var d=a.split(/\n/),e=[],f=a.lineNumber;d.length&&">"!==d[0][0];)e.push(d.shift()),f++;var g=n(e.join("\n"),"\n",a.lineNumber);c.push.apply(c,this.processBlock(g,[])),a=n(d.join("\n"),a.trailing,f)}for(;b.length&&">"===b[0][0];){var h=b.shift();a=n(a+a.trailing+h,h.trailing,a.lineNumber)}var i=a.replace(/^> ?/gm,""),j=(this.tree,this.toTree(i,["blockquote"])),k=o(j);return k&&k.references&&(delete k.references,r(k)&&j.splice(1,1)),c.push(j),c},referenceDefn:function(a,b){var c=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!a.match(c))return void 0;o(this.tree)||this.tree.splice(1,0,{});var d=o(this.tree);void 0===d.references&&(d.references={});var e=this.loop_re_over_block(c,a,function(a){a[2]&&"<"===a[2][0]&&">"===a[2][a[2].length-1]&&(a[2]=a[2].substring(1,a[2].length-1));var b=d.references[a[1].toLowerCase()]={href:a[2]};void 0!==a[4]?b.title=a[4]:void 0!==a[5]&&(b.title=a[5])});return e.length&&b.unshift(n(e,a.trailing)),[]},para:function(a){return[["para"].concat(this.processInline(a))]}},inline:{__oneElement__:function(a,b,c){var d,e;b=b||this.dialect.inline.__patterns__;var f=new RegExp("([\\s\\S]*?)("+(b.source||b)+")");if(d=f.exec(a),!d)return[a.length,a];if(d[1])return[d[1].length,d[1]];var e;return d[2]in this.dialect.inline&&(e=this.dialect.inline[d[2]].call(this,a.substr(d.index),d,c||[])),e=e||[d[2].length,d[2]]},__call__:function(a,b){function c(a){"string"==typeof a&&"string"==typeof e[e.length-1]?e[e.length-1]+=a:e.push(a)}for(var d,e=[];a.length>0;)d=this.dialect.inline.__oneElement__.call(this,a,b,e),a=a.substr(d.shift()),q(d,c);return e},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(a){return this.dialect.inline.__escape__.exec(a)?[2,a.charAt(1)]:[1,"\\"]},"![":function(a){var b=a.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(b){b[2]&&"<"===b[2][0]&&">"===b[2][b[2].length-1]&&(b[2]=b[2].substring(1,b[2].length-1)),b[2]=this.dialect.inline.__call__.call(this,b[2],/\\/)[0];var c={alt:b[1],href:b[2]||""};return void 0!==b[4]&&(c.title=b[4]),[b[0].length,["img",c]]}return b=a.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),b?[b[0].length,["img_ref",{alt:b[1],ref:b[2].toLowerCase(),original:b[0]}]]:[2,"!["]},"[":function v(a){var b=String(a),c=s.call(this,a.substr(1),"]");if(!c)return[1,"["];var v,d,e=1+c[0],f=c[1];a=a.substr(e);var g=a.match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(g){var h=g[1];if(e+=g[0].length,h&&"<"===h[0]&&">"===h[h.length-1]&&(h=h.substring(1,h.length-1)),!g[3])for(var i=1,j=0;j<h.length;j++)switch(h[j]){case"(":i++;break;case")":0===--i&&(e-=h.length-j,h=h.substring(0,j))}return h=this.dialect.inline.__call__.call(this,h,/\\/)[0],d={href:h||""},void 0!==g[3]&&(d.title=g[3]),v=["link",d].concat(f),[e,v]}return g=a.match(/^\s*\[(.*?)\]/),g?(e+=g[0].length,d={ref:(g[1]||String(f)).toLowerCase(),original:b.substr(0,e)},v=["link_ref",d].concat(f),[e,v]):1===f.length&&"string"==typeof f[0]?(d={ref:f[0].toLowerCase(),original:b.substr(0,e)},v=["link_ref",d,f[0]],[e,v]):[1,"["]},"<":function(a){var b;return null!==(b=a.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?b[3]?[b[0].length,["link",{href:"mailto:"+b[3]},b[3]]]:"mailto"===b[2]?[b[0].length,["link",{href:b[1]},b[1].substr("mailto:".length)]]:[b[0].length,["link",{href:b[1]},b[1]]]:[1,"<"]},"`":function(a){var b=a.match(/(`+)(([\s\S]*?)\1)/);return b&&b[2]?[b[1].length+b[2].length,["inlinecode",b[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}}};t.inline["**"]=i("strong","**"),t.inline.__=i("strong","__"),t.inline["*"]=i("em","*"),t.inline._=i("em","_"),m.dialects.Gruber=t,m.buildBlockOrder(m.dialects.Gruber.block),m.buildInlinePatterns(m.dialects.Gruber.inline);var u=p.subclassDialect(t),o=k.extract_attr,q=k.forEach;u.processMetaHash=function(a){for(var b=j(a),c={},d=0;d<b.length;++d)if(/^#/.test(b[d]))c.id=b[d].substring(1);else if(/^\./.test(b[d]))c["class"]=c["class"]?c["class"]+b[d].replace(/./," "):b[d].substring(1);else if(/\=/.test(b[d])){var e=b[d].split(/\=/);c[e[0]]=e[1]}return c},u.block.document_meta=function(a){if(a.lineNumber>1)return void 0;if(!a.match(/^(?:\w+:.*\n)*\w+:.*$/))return void 0;o(this.tree)||this.tree.splice(1,0,{});var b=a.split(/\n/);for(var c in b){var d=b[c].match(/(\w+):\s*(.*)$/),e=d[1].toLowerCase(),f=d[2];this.tree[1][e]=f}return[]},u.block.block_meta=function(a){var b=a.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!b)return void 0;var c,d=this.dialect.processMetaHash(b[2]);if(""===b[1]){var e=this.tree[this.tree.length-1];if(c=o(e),"string"==typeof e)return void 0;c||(c={},e.splice(1,0,c));for(var f in d)c[f]=d[f];return[]}var g=a.replace(/\n.*$/,""),h=this.processBlock(g,[]);c=o(h[0]),c||(c={},h[0].splice(1,0,c));for(var f in d)c[f]=d[f];return h},u.block.definition_list=function(a,b){var c,d,e=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,f=["dl"];if(!(d=a.match(e)))return void 0;for(var g=[a];b.length&&e.exec(b[0]);)g.push(b.shift());for(var h=0;h<g.length;++h){var d=g[h].match(e),i=d[1].replace(/\n$/,"").split(/\n/),j=d[2].split(/\n:\s+/);for(c=0;c<i.length;++c)f.push(["dt",i[c]]);for(c=0;c<j.length;++c)f.push(["dd"].concat(this.processInline(j[c].replace(/(\n)\s+/,"$1"))))}return[f]},u.block.table=function w(a){var b,c,d=function(a,b){b=b||"\\s",b.match(/^[\\|\[\]{}?*.+^$]$/)&&(b="\\"+b);for(var c,d=[],e=new RegExp("^((?:\\\\.|[^\\\\"+b+"])*)"+b+"(.*)");c=a.match(e);)d.push(c[1]),a=c[2];return d.push(a),d},e=/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/,f=/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/;if(c=a.match(e))c[3]=c[3].replace(/^\s*\|/gm,"");else if(!(c=a.match(f)))return void 0;var w=["table",["thead",["tr"]],["tbody"]];c[2]=c[2].replace(/\|\s*$/,"").split("|");var g=[];for(q(c[2],function(a){a.match(/^\s*-+:\s*$/)?g.push({align:"right"}):a.match(/^\s*:-+\s*$/)?g.push({align:"left"}):a.match(/^\s*:-+:\s*$/)?g.push({align:"center"}):g.push({})}),c[1]=d(c[1].replace(/\|\s*$/,""),"|"),b=0;b<c[1].length;b++)w[1][1].push(["th",g[b]||{}].concat(this.processInline(c[1][b].trim())));return q(c[3].replace(/\|\s*$/gm,"").split("\n"),function(a){var c=["tr"];for(a=d(a,"|"),b=0;b<a.length;b++)c.push(["td",g[b]||{}].concat(this.processInline(a[b].trim())));w[2].push(c)},this),[w]},u.inline["{:"]=function(a,b,c){if(!c.length)return[2,"{:"];var d=c[c.length-1];if("string"==typeof d)return[2,"{:"];var e=a.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!e)return[2,"{:"];var f=this.dialect.processMetaHash(e[1]),g=o(d);g||(g={},d.splice(1,0,g));for(var h in f)g[h]=f[h];return[e[0].length,""]},m.dialects.Maruku=u,m.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,m.buildBlockOrder(m.dialects.Maruku.block),m.buildInlinePatterns(m.dialects.Maruku.inline),a.Markdown=m,a.parse=m.parse,a.toHTML=m.toHTML,a.toHTMLTree=m.toHTMLTree,a.renderJsonML=m.renderJsonML}(function(){return window.markdown={},window.markdown}());
// Enables waiting for accuracy
// https://github.com/gwilson/getAccurateCurrentPosition

// Abort if in phantomjs browser
if (navigator.geolocation != null) {

  navigator.geolocation.getAccurateCurrentPosition = function (geolocationSuccess, geolocationError, geoprogress, options) {
      var lastCheckedPosition,
          locationEventCount = 0,
          timerID;

      if (navigator.geolocation.watchID != null)
        navigator.geolocation.clearWatch(navigator.geolocation.watchID)

      options = options || {};

      var checkLocation = function (position) {
          lastCheckedPosition = position;
          locationEventCount = locationEventCount + 1;
          // We ignore the first event unless it's the only one received because some devices seem to send a cached
          // location even when maxaimumAge is set to zero
          if ((position.coords.accuracy <= options.desiredAccuracy) && (locationEventCount > 1)) {
              clearTimeout(timerID);
              navigator.geolocation.clearWatch(navigator.geolocation.watchID);
              foundPosition(position);
          } else {
              geoprogress(position);
          }
      };

      var stopTrying = function () {
          navigator.geolocation.clearWatch(navigator.geolocation.watchID);
          foundPosition(lastCheckedPosition);
      };

      var onError = function (error) {
          clearTimeout(timerID);
          navigator.geolocation.clearWatch(navigator.geolocation.watchID);
          geolocationError(error);
      };

      var foundPosition = function (position) {
          geolocationSuccess(position);
      };

      if (!options.maxWait)            options.maxWait = 10000; // Default 10 seconds
      if (!options.desiredAccuracy)    options.desiredAccuracy = 20; // Default 20 meters
      if (!options.timeout)            options.timeout = options.maxWait; // Default to maxWait

      options.maximumAge = 0; // Force current locations only
      options.enableHighAccuracy = true; // Force high accuracy (otherwise, why are you using this function?)

      navigator.geolocation.watchID = navigator.geolocation.watchPosition(checkLocation, onError, options);
      timerID = setTimeout(stopTrying, options.maxWait); // Set a timeout that will abandon the location loop
  };
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS0yLjEuMC5taW4uanMiLCJqcXVlcnktbWlncmF0ZS0xLjIuMS5taW4uanMiLCJsb2Rhc2gudW5kZXJzY29yZS5qcyIsImJhY2tib25lLW1pbi5qcyIsImpxdWVyeS5jb3VjaC5qcyIsInBvdWNoZGItMy4zLjEubWluLmpzIiwiYmFja2JvbmUtcG91Y2guanMiLCJqcW0tY29uZmlnLmpzIiwianF1ZXJ5Lm1vYmlsZS0xLjEuMC5taW4uanMiLCJqcXVlcnkubW9iaWxlLmRhdGVib3gubWluLmpzIiwianFtLmF1dG9Db21wbGV0ZS5taW4tMS4zLmpzIiwiY29mZmVlLXNjcmlwdC5qcyIsInR5cGVhaGVhZC5taW4uanMiLCJmb3JtMmpzLmpzIiwianMyZm9ybS5qcyIsImpxdWVyeS50b09iamVjdC5qcyIsImluZmxlY3Rpb24uanMiLCJqcXVlcnkuZGF0ZUZvcm1hdC0xLjAuanMiLCJqcXVlcnkuZGF0YVRhYmxlcy5taW4uanMiLCJtb21lbnQubWluLmpzIiwianF1ZXJ5LmNvb2tpZS5qcyIsImJhc2U2NC5qcyIsInNoYTEuanMiLCJtYXJrZG93bi5taW4uanMiLCJnZW8uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0pBO0FBQ0E7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNuM0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3RDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzdrQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDblBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDbG5DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM1VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2hwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdlFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM3SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDN0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUMxTUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibGlicy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgalF1ZXJ5IHYyLjEuMCB8IChjKSAyMDA1LCAyMDE0IGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXG4hZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9YS5kb2N1bWVudD9iKGEsITApOmZ1bmN0aW9uKGEpe2lmKCFhLmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIik7cmV0dXJuIGIoYSl9OmIoYSl9KFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWMuc2xpY2UsZT1jLmNvbmNhdCxmPWMucHVzaCxnPWMuaW5kZXhPZixoPXt9LGk9aC50b1N0cmluZyxqPWguaGFzT3duUHJvcGVydHksaz1cIlwiLnRyaW0sbD17fSxtPWEuZG9jdW1lbnQsbj1cIjIuMS4wXCIsbz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgby5mbi5pbml0KGEsYil9LHA9L14tbXMtLyxxPS8tKFtcXGRhLXpdKS9naSxyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07by5mbj1vLnByb3RvdHlwZT17anF1ZXJ5Om4sY29uc3RydWN0b3I6byxzZWxlY3RvcjpcIlwiLGxlbmd0aDowLHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWE/MD5hP3RoaXNbYSt0aGlzLmxlbmd0aF06dGhpc1thXTpkLmNhbGwodGhpcyl9LHB1c2hTdGFjazpmdW5jdGlvbihhKXt2YXIgYj1vLm1lcmdlKHRoaXMuY29uc3RydWN0b3IoKSxhKTtyZXR1cm4gYi5wcmV2T2JqZWN0PXRoaXMsYi5jb250ZXh0PXRoaXMuY29udGV4dCxifSxlYWNoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG8uZWFjaCh0aGlzLGEsYil9LG1hcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soby5tYXAodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBhLmNhbGwoYixjLGIpfSkpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnB1c2hTdGFjayhkLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LGVxOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubGVuZ3RoLGM9K2ErKDA+YT9iOjApO3JldHVybiB0aGlzLnB1c2hTdGFjayhjPj0wJiZiPmM/W3RoaXNbY11dOltdKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sby5leHRlbmQ9by5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoXCJib29sZWFuXCI9PXR5cGVvZiBnJiYoaj1nLGc9YXJndW1lbnRzW2hdfHx7fSxoKyspLFwib2JqZWN0XCI9PXR5cGVvZiBnfHxvLmlzRnVuY3Rpb24oZyl8fChnPXt9KSxoPT09aSYmKGc9dGhpcyxoLS0pO2k+aDtoKyspaWYobnVsbCE9KGE9YXJndW1lbnRzW2hdKSlmb3IoYiBpbiBhKWM9Z1tiXSxkPWFbYl0sZyE9PWQmJihqJiZkJiYoby5pc1BsYWluT2JqZWN0KGQpfHwoZT1vLmlzQXJyYXkoZCkpKT8oZT8oZT0hMSxmPWMmJm8uaXNBcnJheShjKT9jOltdKTpmPWMmJm8uaXNQbGFpbk9iamVjdChjKT9jOnt9LGdbYl09by5leHRlbmQoaixmLGQpKTp2b2lkIDAhPT1kJiYoZ1tiXT1kKSk7cmV0dXJuIGd9LG8uZXh0ZW5kKHtleHBhbmRvOlwialF1ZXJ5XCIrKG4rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXFxEL2csXCJcIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuXCJmdW5jdGlvblwiPT09by50eXBlKGEpfSxpc0FycmF5OkFycmF5LmlzQXJyYXksaXNXaW5kb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWEmJmE9PT1hLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGEpe3JldHVybiBhLXBhcnNlRmxvYXQoYSk+PTB9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7aWYoXCJvYmplY3RcIiE9PW8udHlwZShhKXx8YS5ub2RlVHlwZXx8by5pc1dpbmRvdyhhKSlyZXR1cm4hMTt0cnl7aWYoYS5jb25zdHJ1Y3RvciYmIWouY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxcImlzUHJvdG90eXBlT2ZcIikpcmV0dXJuITF9Y2F0Y2goYil7cmV0dXJuITF9cmV0dXJuITB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hK1wiXCI6XCJvYmplY3RcIj09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGE/aFtpLmNhbGwoYSldfHxcIm9iamVjdFwiOnR5cGVvZiBhfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGEpe3ZhciBiLGM9ZXZhbDthPW8udHJpbShhKSxhJiYoMT09PWEuaW5kZXhPZihcInVzZSBzdHJpY3RcIik/KGI9bS5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpLGIudGV4dD1hLG0uaGVhZC5hcHBlbmRDaGlsZChiKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpKTpjKGEpKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCxcIm1zLVwiKS5yZXBsYWNlKHEscil9LG5vZGVOYW1lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZU5hbWUmJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWIudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT0wLGY9YS5sZW5ndGgsZz1zKGEpO2lmKGMpe2lmKGcpe2Zvcig7Zj5lO2UrKylpZihkPWIuYXBwbHkoYVtlXSxjKSxkPT09ITEpYnJlYWt9ZWxzZSBmb3IoZSBpbiBhKWlmKGQ9Yi5hcHBseShhW2VdLGMpLGQ9PT0hMSlicmVha31lbHNlIGlmKGcpe2Zvcig7Zj5lO2UrKylpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrfWVsc2UgZm9yKGUgaW4gYSlpZihkPWIuY2FsbChhW2VdLGUsYVtlXSksZD09PSExKWJyZWFrO3JldHVybiBhfSx0cmltOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP1wiXCI6ay5jYWxsKGEpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oYSxiKXt2YXIgYz1ifHxbXTtyZXR1cm4gbnVsbCE9YSYmKHMoT2JqZWN0KGEpKT9vLm1lcmdlKGMsXCJzdHJpbmdcIj09dHlwZW9mIGE/W2FdOmEpOmYuY2FsbChjLGEpKSxjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbnVsbD09Yj8tMTpnLmNhbGwoYixhLGMpfSxtZXJnZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7Yz5kO2QrKylhW2UrK109YltkXTtyZXR1cm4gYS5sZW5ndGg9ZSxhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQsZT1bXSxmPTAsZz1hLmxlbmd0aCxoPSFjO2c+ZjtmKyspZD0hYihhW2ZdLGYpLGQhPT1oJiZlLnB1c2goYVtmXSk7cmV0dXJuIGV9LG1hcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZj0wLGc9YS5sZW5ndGgsaD1zKGEpLGk9W107aWYoaClmb3IoO2c+ZjtmKyspZD1iKGFbZl0sZixjKSxudWxsIT1kJiZpLnB1c2goZCk7ZWxzZSBmb3IoZiBpbiBhKWQ9YihhW2ZdLGYsYyksbnVsbCE9ZCYmaS5wdXNoKGQpO3JldHVybiBlLmFwcGx5KFtdLGkpfSxndWlkOjEscHJveHk6ZnVuY3Rpb24oYSxiKXt2YXIgYyxlLGY7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGImJihjPWFbYl0sYj1hLGE9Yyksby5pc0Z1bmN0aW9uKGEpPyhlPWQuY2FsbChhcmd1bWVudHMsMiksZj1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsZS5jb25jYXQoZC5jYWxsKGFyZ3VtZW50cykpKX0sZi5ndWlkPWEuZ3VpZD1hLmd1aWR8fG8uZ3VpZCsrLGYpOnZvaWQgMH0sbm93OkRhdGUubm93LHN1cHBvcnQ6bH0pLG8uZWFjaChcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3JcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtoW1wiW29iamVjdCBcIitiK1wiXVwiXT1iLnRvTG93ZXJDYXNlKCl9KTtmdW5jdGlvbiBzKGEpe3ZhciBiPWEubGVuZ3RoLGM9by50eXBlKGEpO3JldHVyblwiZnVuY3Rpb25cIj09PWN8fG8uaXNXaW5kb3coYSk/ITE6MT09PWEubm9kZVR5cGUmJmI/ITA6XCJhcnJheVwiPT09Y3x8MD09PWJ8fFwibnVtYmVyXCI9PXR5cGVvZiBiJiZiPjAmJmItMSBpbiBhfXZhciB0PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscz1cInNpenpsZVwiKy1uZXcgRGF0ZSx0PWEuZG9jdW1lbnQsdT0wLHY9MCx3PWViKCkseD1lYigpLHk9ZWIoKSx6PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iJiYoaj0hMCksMH0sQT1cInVuZGVmaW5lZFwiLEI9MTw8MzEsQz17fS5oYXNPd25Qcm9wZXJ0eSxEPVtdLEU9RC5wb3AsRj1ELnB1c2gsRz1ELnB1c2gsSD1ELnNsaWNlLEk9RC5pbmRleE9mfHxmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMubGVuZ3RoO2M+YjtiKyspaWYodGhpc1tiXT09PWEpcmV0dXJuIGI7cmV0dXJuLTF9LEo9XCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLEs9XCJbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXVwiLEw9XCIoPzpcXFxcXFxcXC58W1xcXFx3LV18W15cXFxceDAwLVxcXFx4YTBdKStcIixNPUwucmVwbGFjZShcIndcIixcIncjXCIpLE49XCJcXFxcW1wiK0srXCIqKFwiK0wrXCIpXCIrSytcIiooPzooWypeJHwhfl0/PSlcIitLK1wiKig/OihbJ1xcXCJdKSgoPzpcXFxcXFxcXC58W15cXFxcXFxcXF0pKj8pXFxcXDN8KFwiK00rXCIpfCl8KVwiK0srXCIqXFxcXF1cIixPPVwiOihcIitMK1wiKSg/OlxcXFwoKChbJ1xcXCJdKSgoPzpcXFxcXFxcXC58W15cXFxcXFxcXF0pKj8pXFxcXDN8KCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiK04ucmVwbGFjZSgzLDgpK1wiKSopfC4qKVxcXFwpfClcIixQPW5ldyBSZWdFeHAoXCJeXCIrSytcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIrSytcIiskXCIsXCJnXCIpLFE9bmV3IFJlZ0V4cChcIl5cIitLK1wiKixcIitLK1wiKlwiKSxSPW5ldyBSZWdFeHAoXCJeXCIrSytcIiooWz4rfl18XCIrSytcIilcIitLK1wiKlwiKSxTPW5ldyBSZWdFeHAoXCI9XCIrSytcIiooW15cXFxcXSdcXFwiXSo/KVwiK0srXCIqXFxcXF1cIixcImdcIiksVD1uZXcgUmVnRXhwKE8pLFU9bmV3IFJlZ0V4cChcIl5cIitNK1wiJFwiKSxWPXtJRDpuZXcgUmVnRXhwKFwiXiMoXCIrTCtcIilcIiksQ0xBU1M6bmV3IFJlZ0V4cChcIl5cXFxcLihcIitMK1wiKVwiKSxUQUc6bmV3IFJlZ0V4cChcIl4oXCIrTC5yZXBsYWNlKFwid1wiLFwidypcIikrXCIpXCIpLEFUVFI6bmV3IFJlZ0V4cChcIl5cIitOKSxQU0VVRE86bmV3IFJlZ0V4cChcIl5cIitPKSxDSElMRDpuZXcgUmVnRXhwKFwiXjoob25seXxmaXJzdHxsYXN0fG50aHxudGgtbGFzdCktKGNoaWxkfG9mLXR5cGUpKD86XFxcXChcIitLK1wiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIrSytcIiooPzooWystXXwpXCIrSytcIiooXFxcXGQrKXwpKVwiK0srXCIqXFxcXCl8KVwiLFwiaVwiKSxib29sOm5ldyBSZWdFeHAoXCJeKD86XCIrSitcIikkXCIsXCJpXCIpLG5lZWRzQ29udGV4dDpuZXcgUmVnRXhwKFwiXlwiK0srXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiK0srXCIqKCg/Oi1cXFxcZCk/XFxcXGQqKVwiK0srXCIqXFxcXCl8KSg/PVteLV18JClcIixcImlcIil9LFc9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxYPS9eaFxcZCQvaSxZPS9eW157XStcXHtcXHMqXFxbbmF0aXZlIFxcdy8sWj0vXig/OiMoW1xcdy1dKyl8KFxcdyspfFxcLihbXFx3LV0rKSkkLywkPS9bK35dLyxfPS8nfFxcXFwvZyxhYj1uZXcgUmVnRXhwKFwiXFxcXFxcXFwoW1xcXFxkYS1mXXsxLDZ9XCIrSytcIj98KFwiK0srXCIpfC4pXCIsXCJpZ1wiKSxiYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9XCIweFwiK2ItNjU1MzY7cmV0dXJuIGQhPT1kfHxjP2I6MD5kP1N0cmluZy5mcm9tQ2hhckNvZGUoZCs2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShkPj4xMHw1NTI5NiwxMDIzJmR8NTYzMjApfTt0cnl7Ry5hcHBseShEPUguY2FsbCh0LmNoaWxkTm9kZXMpLHQuY2hpbGROb2RlcyksRFt0LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChjYil7Rz17YXBwbHk6RC5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtGLmFwcGx5KGEsSC5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZGIoYSxiLGQsZSl7dmFyIGYsZyxoLGksaixtLHAscSx1LHY7aWYoKGI/Yi5vd25lckRvY3VtZW50fHxiOnQpIT09bCYmayhiKSxiPWJ8fGwsZD1kfHxbXSwhYXx8XCJzdHJpbmdcIiE9dHlwZW9mIGEpcmV0dXJuIGQ7aWYoMSE9PShpPWIubm9kZVR5cGUpJiY5IT09aSlyZXR1cm5bXTtpZihuJiYhZSl7aWYoZj1aLmV4ZWMoYSkpaWYoaD1mWzFdKXtpZig5PT09aSl7aWYoZz1iLmdldEVsZW1lbnRCeUlkKGgpLCFnfHwhZy5wYXJlbnROb2RlKXJldHVybiBkO2lmKGcuaWQ9PT1oKXJldHVybiBkLnB1c2goZyksZH1lbHNlIGlmKGIub3duZXJEb2N1bWVudCYmKGc9Yi5vd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGgpKSYmcihiLGcpJiZnLmlkPT09aClyZXR1cm4gZC5wdXNoKGcpLGR9ZWxzZXtpZihmWzJdKXJldHVybiBHLmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoaD1mWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEcuYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaCkpLGR9aWYoYy5xc2EmJighb3x8IW8udGVzdChhKSkpe2lmKHE9cD1zLHU9Yix2PTk9PT1pJiZhLDE9PT1pJiZcIm9iamVjdFwiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXttPW9iKGEpLChwPWIuZ2V0QXR0cmlidXRlKFwiaWRcIikpP3E9cC5yZXBsYWNlKF8sXCJcXFxcJCZcIik6Yi5zZXRBdHRyaWJ1dGUoXCJpZFwiLHEpLHE9XCJbaWQ9J1wiK3ErXCInXSBcIixqPW0ubGVuZ3RoO3doaWxlKGotLSltW2pdPXErcGIobVtqXSk7dT0kLnRlc3QoYSkmJm1iKGIucGFyZW50Tm9kZSl8fGIsdj1tLmpvaW4oXCIsXCIpfWlmKHYpdHJ5e3JldHVybiBHLmFwcGx5KGQsdS5xdWVyeVNlbGVjdG9yQWxsKHYpKSxkfWNhdGNoKHcpe31maW5hbGx5e3B8fGIucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fX1yZXR1cm4geGIoYS5yZXBsYWNlKFAsXCIkMVwiKSxiLGQsZSl9ZnVuY3Rpb24gZWIoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjK1wiIFwiKT5kLmNhY2hlTGVuZ3RoJiZkZWxldGUgYlthLnNoaWZ0KCldLGJbYytcIiBcIl09ZX1yZXR1cm4gYn1mdW5jdGlvbiBmYihhKXtyZXR1cm4gYVtzXT0hMCxhfWZ1bmN0aW9uIGdiKGEpe3ZhciBiPWwuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBoYihhLGIpe3ZhciBjPWEuc3BsaXQoXCJ8XCIpLGU9YS5sZW5ndGg7d2hpbGUoZS0tKWQuYXR0ckhhbmRsZVtjW2VdXT1ifWZ1bmN0aW9uIGliKGEsYil7dmFyIGM9YiYmYSxkPWMmJjE9PT1hLm5vZGVUeXBlJiYxPT09Yi5ub2RlVHlwZSYmKH5iLnNvdXJjZUluZGV4fHxCKS0ofmEuc291cmNlSW5kZXh8fEIpO2lmKGQpcmV0dXJuIGQ7aWYoYyl3aGlsZShjPWMubmV4dFNpYmxpbmcpaWYoYz09PWIpcmV0dXJuLTE7cmV0dXJuIGE/MTotMX1mdW5jdGlvbiBqYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVyblwiaW5wdXRcIj09PWMmJmIudHlwZT09PWF9fWZ1bmN0aW9uIGtiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKFwiaW5wdXRcIj09PWN8fFwiYnV0dG9uXCI9PT1jKSYmYi50eXBlPT09YX19ZnVuY3Rpb24gbGIoYSl7cmV0dXJuIGZiKGZ1bmN0aW9uKGIpe3JldHVybiBiPStiLGZiKGZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hKFtdLGMubGVuZ3RoLGIpLGc9Zi5sZW5ndGg7d2hpbGUoZy0tKWNbZT1mW2ddXSYmKGNbZV09IShkW2VdPWNbZV0pKX0pfSl9ZnVuY3Rpb24gbWIoYSl7cmV0dXJuIGEmJnR5cGVvZiBhLmdldEVsZW1lbnRzQnlUYWdOYW1lIT09QSYmYX1jPWRiLnN1cHBvcnQ9e30sZj1kYi5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj1hJiYoYS5vd25lckRvY3VtZW50fHxhKS5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGI/XCJIVE1MXCIhPT1iLm5vZGVOYW1lOiExfSxrPWRiLnNldERvY3VtZW50PWZ1bmN0aW9uKGEpe3ZhciBiLGU9YT9hLm93bmVyRG9jdW1lbnR8fGE6dCxnPWUuZGVmYXVsdFZpZXc7cmV0dXJuIGUhPT1sJiY5PT09ZS5ub2RlVHlwZSYmZS5kb2N1bWVudEVsZW1lbnQ/KGw9ZSxtPWUuZG9jdW1lbnRFbGVtZW50LG49IWYoZSksZyYmZyE9PWcudG9wJiYoZy5hZGRFdmVudExpc3RlbmVyP2cuYWRkRXZlbnRMaXN0ZW5lcihcInVubG9hZFwiLGZ1bmN0aW9uKCl7aygpfSwhMSk6Zy5hdHRhY2hFdmVudCYmZy5hdHRhY2hFdmVudChcIm9udW5sb2FkXCIsZnVuY3Rpb24oKXtrKCl9KSksYy5hdHRyaWJ1dGVzPWdiKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsYXNzTmFtZT1cImlcIiwhYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWdiKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKGUuY3JlYXRlQ29tbWVudChcIlwiKSksIWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aH0pLGMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1ZLnRlc3QoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSYmZ2IoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5uZXJIVE1MPVwiPGRpdiBjbGFzcz0nYSc+PC9kaXY+PGRpdiBjbGFzcz0nYSBpJz48L2Rpdj5cIixhLmZpcnN0Q2hpbGQuY2xhc3NOYW1lPVwiaVwiLDI9PT1hLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpXCIpLmxlbmd0aH0pLGMuZ2V0QnlJZD1nYihmdW5jdGlvbihhKXtyZXR1cm4gbS5hcHBlbmRDaGlsZChhKS5pZD1zLCFlLmdldEVsZW1lbnRzQnlOYW1lfHwhZS5nZXRFbGVtZW50c0J5TmFtZShzKS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRCeUlkIT09QSYmbil7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYyYmYy5wYXJlbnROb2RlP1tjXTpbXX19LGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShhYixiYik7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImlkXCIpPT09Yn19KTooZGVsZXRlIGQuZmluZC5JRCxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYWIsYmIpO3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlIT09QSYmYS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiB0eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSE9PUE/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKFwiKlwiPT09YSl7d2hpbGUoYz1mW2UrK10pMT09PWMubm9kZVR5cGUmJmQucHVzaChjKTtyZXR1cm4gZH1yZXR1cm4gZn0sZC5maW5kLkNMQVNTPWMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmZnVuY3Rpb24oYSxiKXtyZXR1cm4gdHlwZW9mIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PUEmJm4/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scD1bXSxvPVtdLChjLnFzYT1ZLnRlc3QoZS5xdWVyeVNlbGVjdG9yQWxsKSkmJihnYihmdW5jdGlvbihhKXthLmlubmVySFRNTD1cIjxzZWxlY3QgdD0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiLGEucXVlcnlTZWxlY3RvckFsbChcIlt0Xj0nJ11cIikubGVuZ3RoJiZvLnB1c2goXCJbKl4kXT1cIitLK1wiKig/OicnfFxcXCJcXFwiKVwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aHx8by5wdXNoKFwiXFxcXFtcIitLK1wiKig/OnZhbHVlfFwiK0orXCIpXCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjpjaGVja2VkXCIpLmxlbmd0aHx8by5wdXNoKFwiOmNoZWNrZWRcIil9KSxnYihmdW5jdGlvbihhKXt2YXIgYj1lLmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImhpZGRlblwiKSxhLmFwcGVuZENoaWxkKGIpLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIkRcIiksYS5xdWVyeVNlbGVjdG9yQWxsKFwiW25hbWU9ZF1cIikubGVuZ3RoJiZvLnB1c2goXCJuYW1lXCIrSytcIipbKl4kfCF+XT89XCIpLGEucXVlcnlTZWxlY3RvckFsbChcIjplbmFibGVkXCIpLmxlbmd0aHx8by5wdXNoKFwiOmVuYWJsZWRcIixcIjpkaXNhYmxlZFwiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpLG8ucHVzaChcIiwuKjpcIil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVkudGVzdChxPW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxtLm1vek1hdGNoZXNTZWxlY3Rvcnx8bS5vTWF0Y2hlc1NlbGVjdG9yfHxtLm1zTWF0Y2hlc1NlbGVjdG9yKSkmJmdiKGZ1bmN0aW9uKGEpe2MuZGlzY29ubmVjdGVkTWF0Y2g9cS5jYWxsKGEsXCJkaXZcIikscS5jYWxsKGEsXCJbcyE9JyddOnhcIikscC5wdXNoKFwiIT1cIixPKX0pLG89by5sZW5ndGgmJm5ldyBSZWdFeHAoby5qb2luKFwifFwiKSkscD1wLmxlbmd0aCYmbmV3IFJlZ0V4cChwLmpvaW4oXCJ8XCIpKSxiPVkudGVzdChtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxyPWJ8fFkudGVzdChtLmNvbnRhaW5zKT9mdW5jdGlvbihhLGIpe3ZhciBjPTk9PT1hLm5vZGVUeXBlP2EuZG9jdW1lbnRFbGVtZW50OmEsZD1iJiZiLnBhcmVudE5vZGU7cmV0dXJuIGE9PT1kfHwhKCFkfHwxIT09ZC5ub2RlVHlwZXx8IShjLmNvbnRhaW5zP2MuY29udGFpbnMoZCk6YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkKSkpfTpmdW5jdGlvbihhLGIpe2lmKGIpd2hpbGUoYj1iLnBhcmVudE5vZGUpaWYoYj09PWEpcmV0dXJuITA7cmV0dXJuITF9LHo9Yj9mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiBqPSEwLDA7dmFyIGQ9IWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24tIWIuY29tcGFyZURvY3VtZW50UG9zaXRpb247cmV0dXJuIGQ/ZDooZD0oYS5vd25lckRvY3VtZW50fHxhKT09PShiLm93bmVyRG9jdW1lbnR8fGIpP2EuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYik6MSwxJmR8fCFjLnNvcnREZXRhY2hlZCYmYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKT09PWQ/YT09PWV8fGEub3duZXJEb2N1bWVudD09PXQmJnIodCxhKT8tMTpiPT09ZXx8Yi5vd25lckRvY3VtZW50PT09dCYmcih0LGIpPzE6aT9JLmNhbGwoaSxhKS1JLmNhbGwoaSxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gaj0hMCwwO3ZhciBjLGQ9MCxmPWEucGFyZW50Tm9kZSxnPWIucGFyZW50Tm9kZSxoPVthXSxrPVtiXTtpZighZnx8IWcpcmV0dXJuIGE9PT1lPy0xOmI9PT1lPzE6Zj8tMTpnPzE6aT9JLmNhbGwoaSxhKS1JLmNhbGwoaSxiKTowO2lmKGY9PT1nKXJldHVybiBpYihhLGIpO2M9YTt3aGlsZShjPWMucGFyZW50Tm9kZSloLnVuc2hpZnQoYyk7Yz1iO3doaWxlKGM9Yy5wYXJlbnROb2RlKWsudW5zaGlmdChjKTt3aGlsZShoW2RdPT09a1tkXSlkKys7cmV0dXJuIGQ/aWIoaFtkXSxrW2RdKTpoW2RdPT09dD8tMTprW2RdPT09dD8xOjB9LGUpOmx9LGRiLm1hdGNoZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGIoYSxudWxsLG51bGwsYil9LGRiLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe2lmKChhLm93bmVyRG9jdW1lbnR8fGEpIT09bCYmayhhKSxiPWIucmVwbGFjZShTLFwiPSckMSddXCIpLCEoIWMubWF0Y2hlc1NlbGVjdG9yfHwhbnx8cCYmcC50ZXN0KGIpfHxvJiZvLnRlc3QoYikpKXRyeXt2YXIgZD1xLmNhbGwoYSxiKTtpZihkfHxjLmRpc2Nvbm5lY3RlZE1hdGNofHxhLmRvY3VtZW50JiYxMSE9PWEuZG9jdW1lbnQubm9kZVR5cGUpcmV0dXJuIGR9Y2F0Y2goZSl7fXJldHVybiBkYihiLGwsbnVsbCxbYV0pLmxlbmd0aD4wfSxkYi5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybihhLm93bmVyRG9jdW1lbnR8fGEpIT09bCYmayhhKSxyKGEsYil9LGRiLmF0dHI9ZnVuY3Rpb24oYSxiKXsoYS5vd25lckRvY3VtZW50fHxhKSE9PWwmJmsoYSk7dmFyIGU9ZC5hdHRySGFuZGxlW2IudG9Mb3dlckNhc2UoKV0sZj1lJiZDLmNhbGwoZC5hdHRySGFuZGxlLGIudG9Mb3dlckNhc2UoKSk/ZShhLGIsIW4pOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09Zj9mOmMuYXR0cmlidXRlc3x8IW4/YS5nZXRBdHRyaWJ1dGUoYik6KGY9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSYmZi5zcGVjaWZpZWQ/Zi52YWx1ZTpudWxsfSxkYi5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIithKX0sZGIudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYoaj0hYy5kZXRlY3REdXBsaWNhdGVzLGk9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoeiksail7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGk9bnVsbCxhfSxlPWRiLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz1cIlwiLGQ9MCxmPWEubm9kZVR5cGU7aWYoZil7aWYoMT09PWZ8fDk9PT1mfHwxMT09PWYpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhLnRleHRDb250ZW50KXJldHVybiBhLnRleHRDb250ZW50O2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZyljKz1lKGEpfWVsc2UgaWYoMz09PWZ8fDQ9PT1mKXJldHVybiBhLm5vZGVWYWx1ZX1lbHNlIHdoaWxlKGI9YVtkKytdKWMrPWUoYik7cmV0dXJuIGN9LGQ9ZGIuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86ZmIsbWF0Y2g6VixhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6e1wiPlwiOntkaXI6XCJwYXJlbnROb2RlXCIsZmlyc3Q6ITB9LFwiIFwiOntkaXI6XCJwYXJlbnROb2RlXCJ9LFwiK1wiOntkaXI6XCJwcmV2aW91c1NpYmxpbmdcIixmaXJzdDohMH0sXCJ+XCI6e2RpcjpcInByZXZpb3VzU2libGluZ1wifX0scHJlRmlsdGVyOntBVFRSOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0ucmVwbGFjZShhYixiYiksYVszXT0oYVs0XXx8YVs1XXx8XCJcIikucmVwbGFjZShhYixiYiksXCJ+PVwiPT09YVsyXSYmKGFbM109XCIgXCIrYVszXStcIiBcIiksYS5zbGljZSgwLDQpfSxDSElMRDpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnRvTG93ZXJDYXNlKCksXCJudGhcIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZGIuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooXCJldmVuXCI9PT1hWzNdfHxcIm9kZFwiPT09YVszXSkpLGFbNV09KyhhWzddK2FbOF18fFwib2RkXCI9PT1hWzNdKSk6YVszXSYmZGIuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNV0mJmFbMl07cmV0dXJuIFYuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdJiZ2b2lkIDAhPT1hWzRdP2FbMl09YVs0XTpjJiZULnRlc3QoYykmJihiPW9iKGMsITApKSYmKGI9Yy5pbmRleE9mKFwiKVwiLGMubGVuZ3RoLWIpLWMubGVuZ3RoKSYmKGFbMF09YVswXS5zbGljZSgwLGIpLGFbMl09Yy5zbGljZSgwLGIpKSxhLnNsaWNlKDAsMykpfX0sZmlsdGVyOntUQUc6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZXBsYWNlKGFiLGJiKS50b0xvd2VyQ2FzZSgpO3JldHVyblwiKlwiPT09YT9mdW5jdGlvbigpe3JldHVybiEwfTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn19LENMQVNTOmZ1bmN0aW9uKGEpe3ZhciBiPXdbYStcIiBcIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoXCIoXnxcIitLK1wiKVwiK2ErXCIoXCIrSytcInwkKVwiKSkmJncoYSxmdW5jdGlvbihhKXtyZXR1cm4gYi50ZXN0KFwic3RyaW5nXCI9PXR5cGVvZiBhLmNsYXNzTmFtZSYmYS5jbGFzc05hbWV8fHR5cGVvZiBhLmdldEF0dHJpYnV0ZSE9PUEmJmEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpfSl9LEFUVFI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXt2YXIgZT1kYi5hdHRyKGQsYSk7cmV0dXJuIG51bGw9PWU/XCIhPVwiPT09YjpiPyhlKz1cIlwiLFwiPVwiPT09Yj9lPT09YzpcIiE9XCI9PT1iP2UhPT1jOlwiXj1cIj09PWI/YyYmMD09PWUuaW5kZXhPZihjKTpcIio9XCI9PT1iP2MmJmUuaW5kZXhPZihjKT4tMTpcIiQ9XCI9PT1iP2MmJmUuc2xpY2UoLWMubGVuZ3RoKT09PWM6XCJ+PVwiPT09Yj8oXCIgXCIrZStcIiBcIikuaW5kZXhPZihjKT4tMTpcInw9XCI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jK1wiLVwiOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9XCJudGhcIiE9PWEuc2xpY2UoMCwzKSxnPVwibGFzdFwiIT09YS5zbGljZSgtNCksaD1cIm9mLXR5cGVcIj09PWI7cmV0dXJuIDE9PT1kJiYwPT09ZT9mdW5jdGlvbihhKXtyZXR1cm4hIWEucGFyZW50Tm9kZX06ZnVuY3Rpb24oYixjLGkpe3ZhciBqLGssbCxtLG4sbyxwPWYhPT1nP1wibmV4dFNpYmxpbmdcIjpcInByZXZpb3VzU2libGluZ1wiLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHQ9IWkmJiFoO2lmKHEpe2lmKGYpe3doaWxlKHApe2w9Yjt3aGlsZShsPWxbcF0paWYoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKXJldHVybiExO289cD1cIm9ubHlcIj09PWEmJiFvJiZcIm5leHRTaWJsaW5nXCJ9cmV0dXJuITB9aWYobz1bZz9xLmZpcnN0Q2hpbGQ6cS5sYXN0Q2hpbGRdLGcmJnQpe2s9cVtzXXx8KHFbc109e30pLGo9a1thXXx8W10sbj1qWzBdPT09dSYmalsxXSxtPWpbMF09PT11JiZqWzJdLGw9biYmcS5jaGlsZE5vZGVzW25dO3doaWxlKGw9KytuJiZsJiZsW3BdfHwobT1uPTApfHxvLnBvcCgpKWlmKDE9PT1sLm5vZGVUeXBlJiYrK20mJmw9PT1iKXtrW2FdPVt1LG4sbV07YnJlYWt9fWVsc2UgaWYodCYmKGo9KGJbc118fChiW3NdPXt9KSlbYV0pJiZqWzBdPT09dSltPWpbMV07ZWxzZSB3aGlsZShsPSsrbiYmbCYmbFtwXXx8KG09bj0wKXx8by5wb3AoKSlpZigoaD9sLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1yOjE9PT1sLm5vZGVUeXBlKSYmKyttJiYodCYmKChsW3NdfHwobFtzXT17fSkpW2FdPVt1LG1dKSxsPT09YikpYnJlYWs7cmV0dXJuIG0tPWUsbT09PWR8fG0lZD09PTAmJm0vZD49MH19fSxQU0VVRE86ZnVuY3Rpb24oYSxiKXt2YXIgYyxlPWQucHNldWRvc1thXXx8ZC5zZXRGaWx0ZXJzW2EudG9Mb3dlckNhc2UoKV18fGRiLmVycm9yKFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIithKTtyZXR1cm4gZVtzXT9lKGIpOmUubGVuZ3RoPjE/KGM9W2EsYSxcIlwiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2ZiKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1JLmNhbGwoYSxmW2ddKSxhW2RdPSEoY1tkXT1mW2ddKX0pOmZ1bmN0aW9uKGEpe3JldHVybiBlKGEsMCxjKX0pOmV9fSxwc2V1ZG9zOntub3Q6ZmIoZnVuY3Rpb24oYSl7dmFyIGI9W10sYz1bXSxkPWcoYS5yZXBsYWNlKFAsXCIkMVwiKSk7cmV0dXJuIGRbc10/ZmIoZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGYsZz1kKGEsbnVsbCxlLFtdKSxoPWEubGVuZ3RoO3doaWxlKGgtLSkoZj1nW2hdKSYmKGFbaF09IShiW2hdPWYpKX0pOmZ1bmN0aW9uKGEsZSxmKXtyZXR1cm4gYlswXT1hLGQoYixudWxsLGYsYyksIWMucG9wKCl9fSksaGFzOmZiKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZGIoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpmYihmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuKGIudGV4dENvbnRlbnR8fGIuaW5uZXJUZXh0fHxlKGIpKS5pbmRleE9mKGEpPi0xfX0pLGxhbmc6ZmIoZnVuY3Rpb24oYSl7cmV0dXJuIFUudGVzdChhfHxcIlwiKXx8ZGIuZXJyb3IoXCJ1bnN1cHBvcnRlZCBsYW5nOiBcIithKSxhPWEucmVwbGFjZShhYixiYikudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPW4/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIil8fGIuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKSlyZXR1cm4gYz1jLnRvTG93ZXJDYXNlKCksYz09PWF8fDA9PT1jLmluZGV4T2YoYStcIi1cIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09bX0sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1sLmFjdGl2ZUVsZW1lbnQmJighbC5oYXNGb2N1c3x8bC5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5cImlucHV0XCI9PT1iJiYhIWEuY2hlY2tlZHx8XCJvcHRpb25cIj09PWImJiEhYS5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucGFyZW50Tm9kZSYmYS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsYS5zZWxlY3RlZD09PSEwfSxlbXB0eTpmdW5jdGlvbihhKXtmb3IoYT1hLmZpcnN0Q2hpbGQ7YTthPWEubmV4dFNpYmxpbmcpaWYoYS5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWQucHNldWRvcy5lbXB0eShhKX0saGVhZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBYLnRlc3QoYS5ub2RlTmFtZSl9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybiBXLnRlc3QoYS5ub2RlTmFtZSl9LGJ1dHRvbjpmdW5jdGlvbihhKXt2YXIgYj1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09YiYmXCJidXR0b25cIj09PWEudHlwZXx8XCJidXR0b25cIj09PWJ9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuXCJpbnB1dFwiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZcInRleHRcIj09PWEudHlwZSYmKG51bGw9PShiPWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSl8fFwidGV4dFwiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bGIoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0OmxiKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpsYihmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOmxiKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOmxiKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6bGIoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpsYihmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09amIoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09a2IoYik7ZnVuY3Rpb24gbmIoKXt9bmIucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBuYjtmdW5jdGlvbiBvYihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGs9eFthK1wiIFwiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpeyghY3x8KGU9US5leGVjKGgpKSkmJihlJiYoaD1oLnNsaWNlKGVbMF0ubGVuZ3RoKXx8aCksaS5wdXNoKGY9W10pKSxjPSExLChlPVIuZXhlYyhoKSkmJihjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTplWzBdLnJlcGxhY2UoUCxcIiBcIil9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtmb3IoZyBpbiBkLmZpbHRlcikhKGU9VltnXS5leGVjKGgpKXx8altnXSYmIShlPWpbZ10oZSkpfHwoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZyxtYXRjaGVzOmV9KSxoPWguc2xpY2UoYy5sZW5ndGgpKTtpZighYylicmVha31yZXR1cm4gYj9oLmxlbmd0aDpoP2RiLmVycm9yKGEpOngoYSxpKS5zbGljZSgwKX1mdW5jdGlvbiBwYihhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9XCJcIjtjPmI7YisrKWQrPWFbYl0udmFsdWU7cmV0dXJuIGR9ZnVuY3Rpb24gcWIoYSxiLGMpe3ZhciBkPWIuZGlyLGU9YyYmXCJwYXJlbnROb2RlXCI9PT1kLGY9disrO3JldHVybiBiLmZpcnN0P2Z1bmN0aW9uKGIsYyxmKXt3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpcmV0dXJuIGEoYixjLGYpfTpmdW5jdGlvbihiLGMsZyl7dmFyIGgsaSxqPVt1LGZdO2lmKGcpe3doaWxlKGI9YltkXSlpZigoMT09PWIubm9kZVR5cGV8fGUpJiZhKGIsYyxnKSlyZXR1cm4hMH1lbHNlIHdoaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSl7aWYoaT1iW3NdfHwoYltzXT17fSksKGg9aVtkXSkmJmhbMF09PT11JiZoWzFdPT09ZilyZXR1cm4galsyXT1oWzJdO2lmKGlbZF09aixqWzJdPWEoYixjLGcpKXJldHVybiEwfX19ZnVuY3Rpb24gcmIoYSl7cmV0dXJuIGEubGVuZ3RoPjE/ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEubGVuZ3RoO3doaWxlKGUtLSlpZighYVtlXShiLGMsZCkpcmV0dXJuITE7cmV0dXJuITB9OmFbMF19ZnVuY3Rpb24gc2IoYSxiLGMsZCxlKXtmb3IodmFyIGYsZz1bXSxoPTAsaT1hLmxlbmd0aCxqPW51bGwhPWI7aT5oO2grKykoZj1hW2hdKSYmKCFjfHxjKGYsZCxlKSkmJihnLnB1c2goZiksaiYmYi5wdXNoKGgpKTtyZXR1cm4gZ31mdW5jdGlvbiB0YihhLGIsYyxkLGUsZil7cmV0dXJuIGQmJiFkW3NdJiYoZD10YihkKSksZSYmIWVbc10mJihlPXRiKGUsZikpLGZiKGZ1bmN0aW9uKGYsZyxoLGkpe3ZhciBqLGssbCxtPVtdLG49W10sbz1nLmxlbmd0aCxwPWZ8fHdiKGJ8fFwiKlwiLGgubm9kZVR5cGU/W2hdOmgsW10pLHE9IWF8fCFmJiZiP3A6c2IocCxtLGEsaCxpKSxyPWM/ZXx8KGY/YTpvfHxkKT9bXTpnOnE7aWYoYyYmYyhxLHIsaCxpKSxkKXtqPXNiKHIsbiksZChqLFtdLGgsaSksaz1qLmxlbmd0aDt3aGlsZShrLS0pKGw9altrXSkmJihyW25ba11dPSEocVtuW2tdXT1sKSl9aWYoZil7aWYoZXx8YSl7aWYoZSl7aj1bXSxrPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmai5wdXNoKHFba109bCk7ZShudWxsLHI9W10saixpKX1rPXIubGVuZ3RoO3doaWxlKGstLSkobD1yW2tdKSYmKGo9ZT9JLmNhbGwoZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXNiKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpHLmFwcGx5KGcscil9KX1mdW5jdGlvbiB1YihhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saT1nfHxkLnJlbGF0aXZlW1wiIFwiXSxqPWc/MTowLGs9cWIoZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1ifSxpLCEwKSxsPXFiKGZ1bmN0aW9uKGEpe3JldHVybiBJLmNhbGwoYixhKT4tMX0saSwhMCksbT1bZnVuY3Rpb24oYSxjLGQpe3JldHVybiFnJiYoZHx8YyE9PWgpfHwoKGI9Yykubm9kZVR5cGU/ayhhLGMsZCk6bChhLGMsZCkpfV07Zj5qO2orKylpZihjPWQucmVsYXRpdmVbYVtqXS50eXBlXSltPVtxYihyYihtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2Fbal0udHlwZV0uYXBwbHkobnVsbCxhW2pdLm1hdGNoZXMpLGNbc10pe2ZvcihlPSsrajtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdGIoaj4xJiZyYihtKSxqPjEmJnBiKGEuc2xpY2UoMCxqLTEpLmNvbmNhdCh7dmFsdWU6XCIgXCI9PT1hW2otMl0udHlwZT9cIipcIjpcIlwifSkpLnJlcGxhY2UoUCxcIiQxXCIpLGMsZT5qJiZ1YihhLnNsaWNlKGosZSkpLGY+ZSYmdWIoYT1hLnNsaWNlKGUpKSxmPmUmJnBiKGEpKX1tLnB1c2goYyl9cmV0dXJuIHJiKG0pfWZ1bmN0aW9uIHZiKGEsYil7dmFyIGM9Yi5sZW5ndGg+MCxlPWEubGVuZ3RoPjAsZj1mdW5jdGlvbihmLGcsaSxqLGspe3ZhciBtLG4sbyxwPTAscT1cIjBcIixyPWYmJltdLHM9W10sdD1oLHY9Znx8ZSYmZC5maW5kLlRBRyhcIipcIixrKSx3PXUrPW51bGw9PXQ/MTpNYXRoLnJhbmRvbSgpfHwuMSx4PXYubGVuZ3RoO2ZvcihrJiYoaD1nIT09bCYmZyk7cSE9PXgmJm51bGwhPShtPXZbcV0pO3ErKyl7aWYoZSYmbSl7bj0wO3doaWxlKG89YVtuKytdKWlmKG8obSxnLGkpKXtqLnB1c2gobSk7YnJlYWt9ayYmKHU9dyl9YyYmKChtPSFvJiZtKSYmcC0tLGYmJnIucHVzaChtKSl9aWYocCs9cSxjJiZxIT09cCl7bj0wO3doaWxlKG89YltuKytdKW8ocixzLGcsaSk7aWYoZil7aWYocD4wKXdoaWxlKHEtLSlyW3FdfHxzW3FdfHwoc1txXT1FLmNhbGwoaikpO3M9c2Iocyl9Ry5hcHBseShqLHMpLGsmJiFmJiZzLmxlbmd0aD4wJiZwK2IubGVuZ3RoPjEmJmRiLnVuaXF1ZVNvcnQoail9cmV0dXJuIGsmJih1PXcsaD10KSxyfTtyZXR1cm4gYz9mYihmKTpmfWc9ZGIuY29tcGlsZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT1bXSxmPXlbYStcIiBcIl07aWYoIWYpe2J8fChiPW9iKGEpKSxjPWIubGVuZ3RoO3doaWxlKGMtLSlmPXViKGJbY10pLGZbc10/ZC5wdXNoKGYpOmUucHVzaChmKTtmPXkoYSx2YihlLGQpKX1yZXR1cm4gZn07ZnVuY3Rpb24gd2IoYSxiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZT5kO2QrKylkYihhLGJbZF0sYyk7cmV0dXJuIGN9ZnVuY3Rpb24geGIoYSxiLGUsZil7dmFyIGgsaSxqLGssbCxtPW9iKGEpO2lmKCFmJiYxPT09bS5sZW5ndGgpe2lmKGk9bVswXT1tWzBdLnNsaWNlKDApLGkubGVuZ3RoPjImJlwiSURcIj09PShqPWlbMF0pLnR5cGUmJmMuZ2V0QnlJZCYmOT09PWIubm9kZVR5cGUmJm4mJmQucmVsYXRpdmVbaVsxXS50eXBlXSl7aWYoYj0oZC5maW5kLklEKGoubWF0Y2hlc1swXS5yZXBsYWNlKGFiLGJiKSxiKXx8W10pWzBdLCFiKXJldHVybiBlO2E9YS5zbGljZShpLnNoaWZ0KCkudmFsdWUubGVuZ3RoKX1oPVYubmVlZHNDb250ZXh0LnRlc3QoYSk/MDppLmxlbmd0aDt3aGlsZShoLS0pe2lmKGo9aVtoXSxkLnJlbGF0aXZlW2s9ai50eXBlXSlicmVhaztpZigobD1kLmZpbmRba10pJiYoZj1sKGoubWF0Y2hlc1swXS5yZXBsYWNlKGFiLGJiKSwkLnRlc3QoaVswXS50eXBlKSYmbWIoYi5wYXJlbnROb2RlKXx8YikpKXtpZihpLnNwbGljZShoLDEpLGE9Zi5sZW5ndGgmJnBiKGkpLCFhKXJldHVybiBHLmFwcGx5KGUsZiksZTticmVha319fXJldHVybiBnKGEsbSkoZixiLCFuLGUsJC50ZXN0KGEpJiZtYihiLnBhcmVudE5vZGUpfHxiKSxlfXJldHVybiBjLnNvcnRTdGFibGU9cy5zcGxpdChcIlwiKS5zb3J0KHopLmpvaW4oXCJcIik9PT1zLGMuZGV0ZWN0RHVwbGljYXRlcz0hIWosaygpLGMuc29ydERldGFjaGVkPWdiKGZ1bmN0aW9uKGEpe3JldHVybiAxJmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24obC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKX0pLGdiKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD1cIjxhIGhyZWY9JyMnPjwvYT5cIixcIiNcIj09PWEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfSl8fGhiKFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYz92b2lkIDA6YS5nZXRBdHRyaWJ1dGUoYixcInR5cGVcIj09PWIudG9Mb3dlckNhc2UoKT8xOjIpfSksYy5hdHRyaWJ1dGVzJiZnYihmdW5jdGlvbihhKXtyZXR1cm4gYS5pbm5lckhUTUw9XCI8aW5wdXQvPlwiLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpLFwiXCI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KXx8aGIoXCJ2YWx1ZVwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY3x8XCJpbnB1dFwiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGdiKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpfSl8fGhiKEosZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDphW2JdPT09ITA/Yi50b0xvd2VyQ2FzZSgpOihkPWEuZ2V0QXR0cmlidXRlTm9kZShiKSkmJmQuc3BlY2lmaWVkP2QudmFsdWU6bnVsbH0pLGRifShhKTtvLmZpbmQ9dCxvLmV4cHI9dC5zZWxlY3RvcnMsby5leHByW1wiOlwiXT1vLmV4cHIucHNldWRvcyxvLnVuaXF1ZT10LnVuaXF1ZVNvcnQsby50ZXh0PXQuZ2V0VGV4dCxvLmlzWE1MRG9jPXQuaXNYTUwsby5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PW8uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsdj0vXjwoXFx3KylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sdz0vXi5bXjojXFxbXFwuLF0qJC87ZnVuY3Rpb24geChhLGIsYyl7aWYoby5pc0Z1bmN0aW9uKGIpKXJldHVybiBvLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBvLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2lmKHcudGVzdChiKSlyZXR1cm4gby5maWx0ZXIoYixhLGMpO2I9by5maWx0ZXIoYixhKX1yZXR1cm4gby5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGcuY2FsbChiLGEpPj0wIT09Y30pfW8uZmlsdGVyPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iWzBdO3JldHVybiBjJiYoYT1cIjpub3QoXCIrYStcIilcIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9vLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm8uZmluZC5tYXRjaGVzKGEsby5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxvLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPXRoaXMubGVuZ3RoLGQ9W10sZT10aGlzO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhKXJldHVybiB0aGlzLnB1c2hTdGFjayhvKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7Yz5iO2IrKylpZihvLmNvbnRhaW5zKGVbYl0sdGhpcykpcmV0dXJuITB9KSk7Zm9yKGI9MDtjPmI7YisrKW8uZmluZChhLGVbYl0sZCk7cmV0dXJuIGQ9dGhpcy5wdXNoU3RhY2soYz4xP28udW5pcXVlKGQpOmQpLGQuc2VsZWN0b3I9dGhpcy5zZWxlY3Rvcj90aGlzLnNlbGVjdG9yK1wiIFwiK2E6YSxkfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMSkpfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHgodGhpcyxhfHxbXSwhMCkpfSxpczpmdW5jdGlvbihhKXtyZXR1cm4hIXgodGhpcyxcInN0cmluZ1wiPT10eXBlb2YgYSYmdS50ZXN0KGEpP28oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgeSx6PS9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSopKSQvLEE9by5mbi5pbml0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtpZighYSlyZXR1cm4gdGhpcztpZihcInN0cmluZ1wiPT10eXBlb2YgYSl7aWYoYz1cIjxcIj09PWFbMF0mJlwiPlwiPT09YVthLmxlbmd0aC0xXSYmYS5sZW5ndGg+PTM/W251bGwsYSxudWxsXTp6LmV4ZWMoYSksIWN8fCFjWzFdJiZiKXJldHVybiFifHxiLmpxdWVyeT8oYnx8eSkuZmluZChhKTp0aGlzLmNvbnN0cnVjdG9yKGIpLmZpbmQoYSk7aWYoY1sxXSl7aWYoYj1iIGluc3RhbmNlb2Ygbz9iWzBdOmIsby5tZXJnZSh0aGlzLG8ucGFyc2VIVE1MKGNbMV0sYiYmYi5ub2RlVHlwZT9iLm93bmVyRG9jdW1lbnR8fGI6bSwhMCkpLHYudGVzdChjWzFdKSYmby5pc1BsYWluT2JqZWN0KGIpKWZvcihjIGluIGIpby5pc0Z1bmN0aW9uKHRoaXNbY10pP3RoaXNbY10oYltjXSk6dGhpcy5hdHRyKGMsYltjXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGQ9bS5nZXRFbGVtZW50QnlJZChjWzJdKSxkJiZkLnBhcmVudE5vZGUmJih0aGlzLmxlbmd0aD0xLHRoaXNbMF09ZCksdGhpcy5jb250ZXh0PW0sdGhpcy5zZWxlY3Rvcj1hLHRoaXN9cmV0dXJuIGEubm9kZVR5cGU/KHRoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MSx0aGlzKTpvLmlzRnVuY3Rpb24oYSk/XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHkucmVhZHk/eS5yZWFkeShhKTphKG8pOih2b2lkIDAhPT1hLnNlbGVjdG9yJiYodGhpcy5zZWxlY3Rvcj1hLnNlbGVjdG9yLHRoaXMuY29udGV4dD1hLmNvbnRleHQpLG8ubWFrZUFycmF5KGEsdGhpcykpfTtBLnByb3RvdHlwZT1vLmZuLHk9byhtKTt2YXIgQj0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxDPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O28uZXh0ZW5kKHtkaXI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9dm9pZCAwIT09Yzt3aGlsZSgoYT1hW2JdKSYmOSE9PWEubm9kZVR5cGUpaWYoMT09PWEubm9kZVR5cGUpe2lmKGUmJm8oYSkuaXMoYykpYnJlYWs7ZC5wdXNoKGEpfXJldHVybiBkfSxzaWJsaW5nOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPVtdO2E7YT1hLm5leHRTaWJsaW5nKTE9PT1hLm5vZGVUeXBlJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfX0pLG8uZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24oYSl7dmFyIGI9byhhLHRoaXMpLGM9Yi5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7Yz5hO2ErKylpZihvLmNvbnRhaW5zKHRoaXMsYlthXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dS50ZXN0KGEpfHxcInN0cmluZ1wiIT10eXBlb2YgYT9vKGEsYnx8dGhpcy5jb250ZXh0KTowO2U+ZDtkKyspZm9yKGM9dGhpc1tkXTtjJiZjIT09YjtjPWMucGFyZW50Tm9kZSlpZihjLm5vZGVUeXBlPDExJiYoZz9nLmluZGV4KGMpPi0xOjE9PT1jLm5vZGVUeXBlJiZvLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGMsYSkpKXtmLnB1c2goYyk7YnJlYWt9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGYubGVuZ3RoPjE/by51bmlxdWUoZik6Zil9LGluZGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhP1wic3RyaW5nXCI9PXR5cGVvZiBhP2cuY2FsbChvKGEpLHRoaXNbMF0pOmcuY2FsbCh0aGlzLGEuanF1ZXJ5P2FbMF06YSk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soby51bmlxdWUoby5tZXJnZSh0aGlzLmdldCgpLG8oYSxiKSkpKX0sYWRkQmFjazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09YT90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihhKSl9fSk7ZnVuY3Rpb24gRChhLGIpe3doaWxlKChhPWFbYl0pJiYxIT09YS5ub2RlVHlwZSk7cmV0dXJuIGF9by5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiYxMSE9PWIubm9kZVR5cGU/YjpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBvLmRpcihhLFwicGFyZW50Tm9kZVwiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gby5kaXIoYSxcInBhcmVudE5vZGVcIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gRChhLFwibmV4dFNpYmxpbmdcIil9LHByZXY6ZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSxcInByZXZpb3VzU2libGluZ1wiKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gby5kaXIoYSxcIm5leHRTaWJsaW5nXCIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBvLmRpcihhLFwicHJldmlvdXNTaWJsaW5nXCIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBvLmRpcihhLFwibmV4dFNpYmxpbmdcIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gby5kaXIoYSxcInByZXZpb3VzU2libGluZ1wiLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gby5zaWJsaW5nKChhLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4gby5zaWJsaW5nKGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8by5tZXJnZShbXSxhLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oYSxiKXtvLmZuW2FdPWZ1bmN0aW9uKGMsZCl7dmFyIGU9by5tYXAodGhpcyxiLGMpO3JldHVyblwiVW50aWxcIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiZcInN0cmluZ1wiPT10eXBlb2YgZCYmKGU9by5maWx0ZXIoZCxlKSksdGhpcy5sZW5ndGg+MSYmKENbYV18fG8udW5pcXVlKGUpLEIudGVzdChhKSYmZS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBFPS9cXFMrL2csRj17fTtmdW5jdGlvbiBHKGEpe3ZhciBiPUZbYV09e307cmV0dXJuIG8uZWFjaChhLm1hdGNoKEUpfHxbXSxmdW5jdGlvbihhLGMpe2JbY109ITB9KSxifW8uQ2FsbGJhY2tzPWZ1bmN0aW9uKGEpe2E9XCJzdHJpbmdcIj09dHlwZW9mIGE/RlthXXx8RyhhKTpvLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmLGcsaD1bXSxpPSFhLm9uY2UmJltdLGo9ZnVuY3Rpb24obCl7Zm9yKGI9YS5tZW1vcnkmJmwsYz0hMCxnPWV8fDAsZT0wLGY9aC5sZW5ndGgsZD0hMDtoJiZmPmc7ZysrKWlmKGhbZ10uYXBwbHkobFswXSxsWzFdKT09PSExJiZhLnN0b3BPbkZhbHNlKXtiPSExO2JyZWFrfWQ9ITEsaCYmKGk/aS5sZW5ndGgmJmooaS5zaGlmdCgpKTpiP2g9W106ay5kaXNhYmxlKCkpfSxrPXthZGQ6ZnVuY3Rpb24oKXtpZihoKXt2YXIgYz1oLmxlbmd0aDshZnVuY3Rpb24gZyhiKXtvLmVhY2goYixmdW5jdGlvbihiLGMpe3ZhciBkPW8udHlwZShjKTtcImZ1bmN0aW9uXCI9PT1kP2EudW5pcXVlJiZrLmhhcyhjKXx8aC5wdXNoKGMpOmMmJmMubGVuZ3RoJiZcInN0cmluZ1wiIT09ZCYmZyhjKX0pfShhcmd1bWVudHMpLGQ/Zj1oLmxlbmd0aDpiJiYoZT1jLGooYikpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gaCYmby5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihhLGIpe3ZhciBjO3doaWxlKChjPW8uaW5BcnJheShiLGgsYykpPi0xKWguc3BsaWNlKGMsMSksZCYmKGY+PWMmJmYtLSxnPj1jJiZnLS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBhP28uaW5BcnJheShhLGgpPi0xOiEoIWh8fCFoLmxlbmd0aCl9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIGg9W10sZj0wLHRoaXN9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gaD1pPWI9dm9pZCAwLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWh9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gaT12b2lkIDAsYnx8ay5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWl9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYil7cmV0dXJuIWh8fGMmJiFpfHwoYj1ifHxbXSxiPVthLGIuc2xpY2U/Yi5zbGljZSgpOmJdLGQ/aS5wdXNoKGIpOmooYikpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gay5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN9fTtyZXR1cm4ga30sby5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPVtbXCJyZXNvbHZlXCIsXCJkb25lXCIsby5DYWxsYmFja3MoXCJvbmNlIG1lbW9yeVwiKSxcInJlc29sdmVkXCJdLFtcInJlamVjdFwiLFwiZmFpbFwiLG8uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIiksXCJyZWplY3RlZFwiXSxbXCJub3RpZnlcIixcInByb2dyZXNzXCIsby5DYWxsYmFja3MoXCJtZW1vcnlcIildXSxjPVwicGVuZGluZ1wiLGQ9e3N0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBlLmRvbmUoYXJndW1lbnRzKS5mYWlsKGFyZ3VtZW50cyksdGhpc30sdGhlbjpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50cztyZXR1cm4gby5EZWZlcnJlZChmdW5jdGlvbihjKXtvLmVhY2goYixmdW5jdGlvbihiLGYpe3ZhciBnPW8uaXNGdW5jdGlvbihhW2JdKSYmYVtiXTtlW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIGE9ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YSYmby5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YS5wcm9taXNlKCkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpLnByb2dyZXNzKGMubm90aWZ5KTpjW2ZbMF0rXCJXaXRoXCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP28uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sby5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdK1wiV2l0aFwiXSh0aGlzPT09ZT9kOnRoaXMsYXJndW1lbnRzKSx0aGlzfSxlW2ZbMF0rXCJXaXRoXCJdPWcuZmlyZVdpdGh9KSxkLnByb21pc2UoZSksYSYmYS5jYWxsKGUsZSksZX0sd2hlbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9ZC5jYWxsKGFyZ3VtZW50cyksZT1jLmxlbmd0aCxmPTEhPT1lfHxhJiZvLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9lOjAsZz0xPT09Zj9hOm8uRGVmZXJyZWQoKSxoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZSl7YlthXT10aGlzLGNbYV09YXJndW1lbnRzLmxlbmd0aD4xP2QuY2FsbChhcmd1bWVudHMpOmUsYz09PWk/Zy5ub3RpZnlXaXRoKGIsYyk6LS1mfHxnLnJlc29sdmVXaXRoKGIsYyl9fSxpLGosaztpZihlPjEpZm9yKGk9bmV3IEFycmF5KGUpLGo9bmV3IEFycmF5KGUpLGs9bmV3IEFycmF5KGUpO2U+YjtiKyspY1tiXSYmby5pc0Z1bmN0aW9uKGNbYl0ucHJvbWlzZSk/Y1tiXS5wcm9taXNlKCkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCkucHJvZ3Jlc3MoaChiLGosaSkpOi0tZjtyZXR1cm4gZnx8Zy5yZXNvbHZlV2l0aChrLGMpLGcucHJvbWlzZSgpfX0pO3ZhciBIO28uZm4ucmVhZHk9ZnVuY3Rpb24oYSl7cmV0dXJuIG8ucmVhZHkucHJvbWlzZSgpLmRvbmUoYSksdGhpc30sby5leHRlbmQoe2lzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/by5yZWFkeVdhaXQrKzpvLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7KGE9PT0hMD8tLW8ucmVhZHlXYWl0Om8uaXNSZWFkeSl8fChvLmlzUmVhZHk9ITAsYSE9PSEwJiYtLW8ucmVhZHlXYWl0PjB8fChILnJlc29sdmVXaXRoKG0sW29dKSxvLmZuLnRyaWdnZXImJm8obSkudHJpZ2dlcihcInJlYWR5XCIpLm9mZihcInJlYWR5XCIpKSl9fSk7ZnVuY3Rpb24gSSgpe20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixJLCExKSxhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsSSwhMSksby5yZWFkeSgpfW8ucmVhZHkucHJvbWlzZT1mdW5jdGlvbihiKXtyZXR1cm4gSHx8KEg9by5EZWZlcnJlZCgpLFwiY29tcGxldGVcIj09PW0ucmVhZHlTdGF0ZT9zZXRUaW1lb3V0KG8ucmVhZHkpOihtLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsSSwhMSksYS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLEksITEpKSksSC5wcm9taXNlKGIpfSxvLnJlYWR5LnByb21pc2UoKTt2YXIgSj1vLmFjY2Vzcz1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXt2YXIgaD0wLGk9YS5sZW5ndGgsaj1udWxsPT1jO2lmKFwib2JqZWN0XCI9PT1vLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylvLmFjY2VzcyhhLGIsaCxjW2hdLCEwLGYsZyl9ZWxzZSBpZih2b2lkIDAhPT1kJiYoZT0hMCxvLmlzRnVuY3Rpb24oZCl8fChnPSEwKSxqJiYoZz8oYi5jYWxsKGEsZCksYj1udWxsKTooaj1iLGI9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBqLmNhbGwobyhhKSxjKX0pKSxiKSlmb3IoO2k+aDtoKyspYihhW2hdLGMsZz9kOmQuY2FsbChhW2hdLGgsYihhW2hdLGMpKSk7cmV0dXJuIGU/YTpqP2IuY2FsbChhKTppP2IoYVswXSxjKTpmfTtvLmFjY2VwdERhdGE9ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfHw5PT09YS5ub2RlVHlwZXx8ISthLm5vZGVUeXBlfTtmdW5jdGlvbiBLKCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuY2FjaGU9e30sMCx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJue319fSksdGhpcy5leHBhbmRvPW8uZXhwYW5kbytNYXRoLnJhbmRvbSgpfUsudWlkPTEsSy5hY2NlcHRzPW8uYWNjZXB0RGF0YSxLLnByb3RvdHlwZT17a2V5OmZ1bmN0aW9uKGEpe2lmKCFLLmFjY2VwdHMoYSkpcmV0dXJuIDA7dmFyIGI9e30sYz1hW3RoaXMuZXhwYW5kb107aWYoIWMpe2M9Sy51aWQrKzt0cnl7Ylt0aGlzLmV4cGFuZG9dPXt2YWx1ZTpjfSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhLGIpfWNhdGNoKGQpe2JbdGhpcy5leHBhbmRvXT1jLG8uZXh0ZW5kKGEsYil9fXJldHVybiB0aGlzLmNhY2hlW2NdfHwodGhpcy5jYWNoZVtjXT17fSksY30sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPXRoaXMua2V5KGEpLGY9dGhpcy5jYWNoZVtlXTtpZihcInN0cmluZ1wiPT10eXBlb2YgYilmW2JdPWM7ZWxzZSBpZihvLmlzRW1wdHlPYmplY3QoZikpby5leHRlbmQodGhpcy5jYWNoZVtlXSxiKTtlbHNlIGZvcihkIGluIGIpZltkXT1iW2RdO3JldHVybiBmfSxnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNhY2hlW3RoaXMua2V5KGEpXTtyZXR1cm4gdm9pZCAwPT09Yj9jOmNbYl19LGFjY2VzczpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIHZvaWQgMD09PWJ8fGImJlwic3RyaW5nXCI9PXR5cGVvZiBiJiZ2b2lkIDA9PT1jPyhkPXRoaXMuZ2V0KGEsYiksdm9pZCAwIT09ZD9kOnRoaXMuZ2V0KGEsby5jYW1lbENhc2UoYikpKToodGhpcy5zZXQoYSxiLGMpLHZvaWQgMCE9PWM/YzpiKX0scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpcy5rZXkoYSksZz10aGlzLmNhY2hlW2ZdO2lmKHZvaWQgMD09PWIpdGhpcy5jYWNoZVtmXT17fTtlbHNle28uaXNBcnJheShiKT9kPWIuY29uY2F0KGIubWFwKG8uY2FtZWxDYXNlKSk6KGU9by5jYW1lbENhc2UoYiksYiBpbiBnP2Q9W2IsZV06KGQ9ZSxkPWQgaW4gZz9bZF06ZC5tYXRjaChFKXx8W10pKSxjPWQubGVuZ3RoO3doaWxlKGMtLSlkZWxldGUgZ1tkW2NdXX19LGhhc0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIW8uaXNFbXB0eU9iamVjdCh0aGlzLmNhY2hlW2FbdGhpcy5leHBhbmRvXV18fHt9KX0sZGlzY2FyZDpmdW5jdGlvbihhKXthW3RoaXMuZXhwYW5kb10mJmRlbGV0ZSB0aGlzLmNhY2hlW2FbdGhpcy5leHBhbmRvXV19fTt2YXIgTD1uZXcgSyxNPW5ldyBLLE49L14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLE89LyhbQS1aXSkvZztmdW5jdGlvbiBQKGEsYixjKXt2YXIgZDtpZih2b2lkIDA9PT1jJiYxPT09YS5ub2RlVHlwZSlpZihkPVwiZGF0YS1cIitiLnJlcGxhY2UoTyxcIi0kMVwiKS50b0xvd2VyQ2FzZSgpLGM9YS5nZXRBdHRyaWJ1dGUoZCksXCJzdHJpbmdcIj09dHlwZW9mIGMpe3RyeXtjPVwidHJ1ZVwiPT09Yz8hMDpcImZhbHNlXCI9PT1jPyExOlwibnVsbFwiPT09Yz9udWxsOitjK1wiXCI9PT1jPytjOk4udGVzdChjKT9vLnBhcnNlSlNPTihjKTpjfWNhdGNoKGUpe31NLnNldChhLGIsYyl9ZWxzZSBjPXZvaWQgMDtyZXR1cm4gY31vLmV4dGVuZCh7aGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gTS5oYXNEYXRhKGEpfHxMLmhhc0RhdGEoYSl9LGRhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBNLmFjY2VzcyhhLGIsYyl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtNLnJlbW92ZShhLGIpfSxfZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIEwuYWNjZXNzKGEsYixjKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtMLnJlbW92ZShhLGIpfX0pLG8uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9TS5nZXQoZiksMT09PWYubm9kZVR5cGUmJiFMLmdldChmLFwiaGFzRGF0YUF0dHJzXCIpKSl7Yz1nLmxlbmd0aDtcbndoaWxlKGMtLSlkPWdbY10ubmFtZSwwPT09ZC5pbmRleE9mKFwiZGF0YS1cIikmJihkPW8uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKTtMLnNldChmLFwiaGFzRGF0YUF0dHJzXCIsITApfXJldHVybiBlfXJldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMuZWFjaChmdW5jdGlvbigpe00uc2V0KHRoaXMsYSl9KTpKKHRoaXMsZnVuY3Rpb24oYil7dmFyIGMsZD1vLmNhbWVsQ2FzZShhKTtpZihmJiZ2b2lkIDA9PT1iKXtpZihjPU0uZ2V0KGYsYSksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPU0uZ2V0KGYsZCksdm9pZCAwIT09YylyZXR1cm4gYztpZihjPVAoZixkLHZvaWQgMCksdm9pZCAwIT09YylyZXR1cm4gY31lbHNlIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPU0uZ2V0KHRoaXMsZCk7TS5zZXQodGhpcyxkLGIpLC0xIT09YS5pbmRleE9mKFwiLVwiKSYmdm9pZCAwIT09YyYmTS5zZXQodGhpcyxhLGIpfSl9LG51bGwsYixhcmd1bWVudHMubGVuZ3RoPjEsbnVsbCwhMCl9LHJlbW92ZURhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe00ucmVtb3ZlKHRoaXMsYSl9KX19KSxvLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBhPyhiPShifHxcImZ4XCIpK1wicXVldWVcIixkPUwuZ2V0KGEsYiksYyYmKCFkfHxvLmlzQXJyYXkoYyk/ZD1MLmFjY2VzcyhhLGIsby5tYWtlQXJyYXkoYykpOmQucHVzaChjKSksZHx8W10pOnZvaWQgMH0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8XCJmeFwiO3ZhciBjPW8ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9by5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtvLmRlcXVldWUoYSxiKX07XCJpbnByb2dyZXNzXCI9PT1lJiYoZT1jLnNoaWZ0KCksZC0tKSxlJiYoXCJmeFwiPT09YiYmYy51bnNoaWZ0KFwiaW5wcm9ncmVzc1wiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iK1wicXVldWVIb29rc1wiO3JldHVybiBMLmdldChhLGMpfHxMLmFjY2VzcyhhLGMse2VtcHR5Om8uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikuYWRkKGZ1bmN0aW9uKCl7TC5yZW1vdmUoYSxbYitcInF1ZXVlXCIsY10pfSl9KX19KSxvLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYj1hLGE9XCJmeFwiLGMtLSksYXJndW1lbnRzLmxlbmd0aDxjP28ucXVldWUodGhpc1swXSxhKTp2b2lkIDA9PT1iP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9by5xdWV1ZSh0aGlzLGEsYik7by5fcXVldWVIb29rcyh0aGlzLGEpLFwiZnhcIj09PWEmJlwiaW5wcm9ncmVzc1wiIT09Y1swXSYmby5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5kZXF1ZXVlKHRoaXMsYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHxcImZ4XCIsW10pfSxwcm9taXNlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0xLGU9by5EZWZlcnJlZCgpLGY9dGhpcyxnPXRoaXMubGVuZ3RoLGg9ZnVuY3Rpb24oKXstLWR8fGUucmVzb2x2ZVdpdGgoZixbZl0pfTtcInN0cmluZ1wiIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHxcImZ4XCI7d2hpbGUoZy0tKWM9TC5nZXQoZltnXSxhK1wicXVldWVIb29rc1wiKSxjJiZjLmVtcHR5JiYoZCsrLGMuZW1wdHkuYWRkKGgpKTtyZXR1cm4gaCgpLGUucHJvbWlzZShiKX19KTt2YXIgUT0vWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLy5zb3VyY2UsUj1bXCJUb3BcIixcIlJpZ2h0XCIsXCJCb3R0b21cIixcIkxlZnRcIl0sUz1mdW5jdGlvbihhLGIpe3JldHVybiBhPWJ8fGEsXCJub25lXCI9PT1vLmNzcyhhLFwiZGlzcGxheVwiKXx8IW8uY29udGFpbnMoYS5vd25lckRvY3VtZW50LGEpfSxUPS9eKD86Y2hlY2tib3h8cmFkaW8pJC9pOyFmdW5jdGlvbigpe3ZhciBhPW0uY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGI9YS5hcHBlbmRDaGlsZChtLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO2IuaW5uZXJIVE1MPVwiPGlucHV0IHR5cGU9J3JhZGlvJyBjaGVja2VkPSdjaGVja2VkJyBuYW1lPSd0Jy8+XCIsbC5jaGVja0Nsb25lPWIuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGIuaW5uZXJIVE1MPVwiPHRleHRhcmVhPng8L3RleHRhcmVhPlwiLGwubm9DbG9uZUNoZWNrZWQ9ISFiLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIgVT1cInVuZGVmaW5lZFwiO2wuZm9jdXNpbkJ1YmJsZXM9XCJvbmZvY3VzaW5cImluIGE7dmFyIFY9L15rZXkvLFc9L14oPzptb3VzZXxjb250ZXh0bWVudSl8Y2xpY2svLFg9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFk9L14oW14uXSopKD86XFwuKC4rKXwpJC87ZnVuY3Rpb24gWigpe3JldHVybiEwfWZ1bmN0aW9uICQoKXtyZXR1cm4hMX1mdW5jdGlvbiBfKCl7dHJ5e3JldHVybiBtLmFjdGl2ZUVsZW1lbnR9Y2F0Y2goYSl7fX1vLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxuLHAscSxyPUwuZ2V0KGEpO2lmKHIpe2MuaGFuZGxlciYmKGY9YyxjPWYuaGFuZGxlcixlPWYuc2VsZWN0b3IpLGMuZ3VpZHx8KGMuZ3VpZD1vLmd1aWQrKyksKGk9ci5ldmVudHMpfHwoaT1yLmV2ZW50cz17fSksKGc9ci5oYW5kbGUpfHwoZz1yLmhhbmRsZT1mdW5jdGlvbihiKXtyZXR1cm4gdHlwZW9mIG8hPT1VJiZvLmV2ZW50LnRyaWdnZXJlZCE9PWIudHlwZT9vLmV2ZW50LmRpc3BhdGNoLmFwcGx5KGEsYXJndW1lbnRzKTp2b2lkIDB9KSxiPShifHxcIlwiKS5tYXRjaChFKXx8W1wiXCJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWg9WS5leGVjKGJbal0pfHxbXSxuPXE9aFsxXSxwPShoWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG4mJihsPW8uZXZlbnQuc3BlY2lhbFtuXXx8e30sbj0oZT9sLmRlbGVnYXRlVHlwZTpsLmJpbmRUeXBlKXx8bixsPW8uZXZlbnQuc3BlY2lhbFtuXXx8e30saz1vLmV4dGVuZCh7dHlwZTpuLG9yaWdUeXBlOnEsZGF0YTpkLGhhbmRsZXI6YyxndWlkOmMuZ3VpZCxzZWxlY3RvcjplLG5lZWRzQ29udGV4dDplJiZvLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoZSksbmFtZXNwYWNlOnAuam9pbihcIi5cIil9LGYpLChtPWlbbl0pfHwobT1pW25dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGwuc2V0dXAmJmwuc2V0dXAuY2FsbChhLGQscCxnKSE9PSExfHxhLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihuLGcsITEpKSxsLmFkZCYmKGwuYWRkLmNhbGwoYSxrKSxrLmhhbmRsZXIuZ3VpZHx8KGsuaGFuZGxlci5ndWlkPWMuZ3VpZCkpLGU/bS5zcGxpY2UobS5kZWxlZ2F0ZUNvdW50KyssMCxrKTptLnB1c2goayksby5ldmVudC5nbG9iYWxbbl09ITApfX0scmVtb3ZlOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxuLHAscSxyPUwuaGFzRGF0YShhKSYmTC5nZXQoYSk7aWYociYmKGk9ci5ldmVudHMpKXtiPShifHxcIlwiKS5tYXRjaChFKXx8W1wiXCJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9WS5leGVjKGJbal0pfHxbXSxuPXE9aFsxXSxwPShoWzJdfHxcIlwiKS5zcGxpdChcIi5cIikuc29ydCgpLG4pe2w9by5ldmVudC5zcGVjaWFsW25dfHx7fSxuPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxuLG09aVtuXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKFwiKF58XFxcXC4pXCIrcC5qb2luKFwiXFxcXC4oPzouKlxcXFwufClcIikrXCIoXFxcXC58JClcIiksZz1mPW0ubGVuZ3RoO3doaWxlKGYtLSlrPW1bZl0sIWUmJnEhPT1rLm9yaWdUeXBlfHxjJiZjLmd1aWQhPT1rLmd1aWR8fGgmJiFoLnRlc3Qoay5uYW1lc3BhY2UpfHxkJiZkIT09ay5zZWxlY3RvciYmKFwiKipcIiE9PWR8fCFrLnNlbGVjdG9yKXx8KG0uc3BsaWNlKGYsMSksay5zZWxlY3RvciYmbS5kZWxlZ2F0ZUNvdW50LS0sbC5yZW1vdmUmJmwucmVtb3ZlLmNhbGwoYSxrKSk7ZyYmIW0ubGVuZ3RoJiYobC50ZWFyZG93biYmbC50ZWFyZG93bi5jYWxsKGEscCxyLmhhbmRsZSkhPT0hMXx8by5yZW1vdmVFdmVudChhLG4sci5oYW5kbGUpLGRlbGV0ZSBpW25dKX1lbHNlIGZvcihuIGluIGkpby5ldmVudC5yZW1vdmUoYSxuK2Jbal0sYyxkLCEwKTtvLmlzRW1wdHlPYmplY3QoaSkmJihkZWxldGUgci5oYW5kbGUsTC5yZW1vdmUoYSxcImV2ZW50c1wiKSl9fSx0cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmLGcsaCxpLGssbCxuLHA9W2R8fG1dLHE9ai5jYWxsKGIsXCJ0eXBlXCIpP2IudHlwZTpiLHI9ai5jYWxsKGIsXCJuYW1lc3BhY2VcIik/Yi5uYW1lc3BhY2Uuc3BsaXQoXCIuXCIpOltdO2lmKGc9aD1kPWR8fG0sMyE9PWQubm9kZVR5cGUmJjghPT1kLm5vZGVUeXBlJiYhWC50ZXN0KHErby5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKFwiLlwiKT49MCYmKHI9cS5zcGxpdChcIi5cIikscT1yLnNoaWZ0KCksci5zb3J0KCkpLGs9cS5pbmRleE9mKFwiOlwiKTwwJiZcIm9uXCIrcSxiPWJbby5leHBhbmRvXT9iOm5ldyBvLkV2ZW50KHEsXCJvYmplY3RcIj09dHlwZW9mIGImJmIpLGIuaXNUcmlnZ2VyPWU/MjozLGIubmFtZXNwYWNlPXIuam9pbihcIi5cIiksYi5uYW1lc3BhY2VfcmU9Yi5uYW1lc3BhY2U/bmV3IFJlZ0V4cChcIihefFxcXFwuKVwiK3Iuam9pbihcIlxcXFwuKD86LipcXFxcLnwpXCIpK1wiKFxcXFwufCQpXCIpOm51bGwsYi5yZXN1bHQ9dm9pZCAwLGIudGFyZ2V0fHwoYi50YXJnZXQ9ZCksYz1udWxsPT1jP1tiXTpvLm1ha2VBcnJheShjLFtiXSksbj1vLmV2ZW50LnNwZWNpYWxbcV18fHt9LGV8fCFuLnRyaWdnZXJ8fG4udHJpZ2dlci5hcHBseShkLGMpIT09ITEpKXtpZighZSYmIW4ubm9CdWJibGUmJiFvLmlzV2luZG93KGQpKXtmb3IoaT1uLmRlbGVnYXRlVHlwZXx8cSxYLnRlc3QoaStxKXx8KGc9Zy5wYXJlbnROb2RlKTtnO2c9Zy5wYXJlbnROb2RlKXAucHVzaChnKSxoPWc7aD09PShkLm93bmVyRG9jdW1lbnR8fG0pJiZwLnB1c2goaC5kZWZhdWx0Vmlld3x8aC5wYXJlbnRXaW5kb3d8fGEpfWY9MDt3aGlsZSgoZz1wW2YrK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWIudHlwZT1mPjE/aTpuLmJpbmRUeXBlfHxxLGw9KEwuZ2V0KGcsXCJldmVudHNcIil8fHt9KVtiLnR5cGVdJiZMLmdldChnLFwiaGFuZGxlXCIpLGwmJmwuYXBwbHkoZyxjKSxsPWsmJmdba10sbCYmbC5hcHBseSYmby5hY2NlcHREYXRhKGcpJiYoYi5yZXN1bHQ9bC5hcHBseShnLGMpLGIucmVzdWx0PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7cmV0dXJuIGIudHlwZT1xLGV8fGIuaXNEZWZhdWx0UHJldmVudGVkKCl8fG4uX2RlZmF1bHQmJm4uX2RlZmF1bHQuYXBwbHkocC5wb3AoKSxjKSE9PSExfHwhby5hY2NlcHREYXRhKGQpfHxrJiZvLmlzRnVuY3Rpb24oZFtxXSkmJiFvLmlzV2luZG93KGQpJiYoaD1kW2tdLGgmJihkW2tdPW51bGwpLG8uZXZlbnQudHJpZ2dlcmVkPXEsZFtxXSgpLG8uZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxoJiYoZFtrXT1oKSksYi5yZXN1bHR9fSxkaXNwYXRjaDpmdW5jdGlvbihhKXthPW8uZXZlbnQuZml4KGEpO3ZhciBiLGMsZSxmLGcsaD1bXSxpPWQuY2FsbChhcmd1bWVudHMpLGo9KEwuZ2V0KHRoaXMsXCJldmVudHNcIil8fHt9KVthLnR5cGVdfHxbXSxrPW8uZXZlbnQuc3BlY2lhbFthLnR5cGVdfHx7fTtpZihpWzBdPWEsYS5kZWxlZ2F0ZVRhcmdldD10aGlzLCFrLnByZURpc3BhdGNofHxrLnByZURpc3BhdGNoLmNhbGwodGhpcyxhKSE9PSExKXtoPW8uZXZlbnQuaGFuZGxlcnMuY2FsbCh0aGlzLGEsaiksYj0wO3doaWxlKChmPWhbYisrXSkmJiFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2EuY3VycmVudFRhcmdldD1mLmVsZW0sYz0wO3doaWxlKChnPWYuaGFuZGxlcnNbYysrXSkmJiFhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpKCFhLm5hbWVzcGFjZV9yZXx8YS5uYW1lc3BhY2VfcmUudGVzdChnLm5hbWVzcGFjZSkpJiYoYS5oYW5kbGVPYmo9ZyxhLmRhdGE9Zy5kYXRhLGU9KChvLmV2ZW50LnNwZWNpYWxbZy5vcmlnVHlwZV18fHt9KS5oYW5kbGV8fGcuaGFuZGxlcikuYXBwbHkoZi5lbGVtLGkpLHZvaWQgMCE9PWUmJihhLnJlc3VsdD1lKT09PSExJiYoYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCkpKX1yZXR1cm4gay5wb3N0RGlzcGF0Y2gmJmsucG9zdERpc3BhdGNoLmNhbGwodGhpcyxhKSxhLnJlc3VsdH19LGhhbmRsZXJzOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZz1bXSxoPWIuZGVsZWdhdGVDb3VudCxpPWEudGFyZ2V0O2lmKGgmJmkubm9kZVR5cGUmJighYS5idXR0b258fFwiY2xpY2tcIiE9PWEudHlwZSkpZm9yKDtpIT09dGhpcztpPWkucGFyZW50Tm9kZXx8dGhpcylpZihpLmRpc2FibGVkIT09ITB8fFwiY2xpY2tcIiE9PWEudHlwZSl7Zm9yKGQ9W10sYz0wO2g+YztjKyspZj1iW2NdLGU9Zi5zZWxlY3RvcitcIiBcIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9vKGUsdGhpcykuaW5kZXgoaSk+PTA6by5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LHByb3BzOlwiYWx0S2V5IGJ1YmJsZXMgY2FuY2VsYWJsZSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoXCIuc3BsaXQoXCIgXCIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczpcImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGVcIi5zcGxpdChcIiBcIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWEud2hpY2gmJihhLndoaWNoPW51bGwhPWIuY2hhckNvZGU/Yi5jaGFyQ29kZTpiLmtleUNvZGUpLGF9fSxtb3VzZUhvb2tzOntwcm9wczpcImJ1dHRvbiBidXR0b25zIGNsaWVudFggY2xpZW50WSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIHRvRWxlbWVudFwiLnNwbGl0KFwiIFwiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZj1iLmJ1dHRvbjtyZXR1cm4gbnVsbD09YS5wYWdlWCYmbnVsbCE9Yi5jbGllbnRYJiYoYz1hLnRhcmdldC5vd25lckRvY3VtZW50fHxtLGQ9Yy5kb2N1bWVudEVsZW1lbnQsZT1jLmJvZHksYS5wYWdlWD1iLmNsaWVudFgrKGQmJmQuc2Nyb2xsTGVmdHx8ZSYmZS5zY3JvbGxMZWZ0fHwwKS0oZCYmZC5jbGllbnRMZWZ0fHxlJiZlLmNsaWVudExlZnR8fDApLGEucGFnZVk9Yi5jbGllbnRZKyhkJiZkLnNjcm9sbFRvcHx8ZSYmZS5zY3JvbGxUb3B8fDApLShkJiZkLmNsaWVudFRvcHx8ZSYmZS5jbGllbnRUb3B8fDApKSxhLndoaWNofHx2b2lkIDA9PT1mfHwoYS53aGljaD0xJmY/MToyJmY/Mzo0JmY/MjowKSxhfX0sZml4OmZ1bmN0aW9uKGEpe2lmKGFbby5leHBhbmRvXSlyZXR1cm4gYTt2YXIgYixjLGQsZT1hLnR5cGUsZj1hLGc9dGhpcy5maXhIb29rc1tlXTtnfHwodGhpcy5maXhIb29rc1tlXT1nPVcudGVzdChlKT90aGlzLm1vdXNlSG9va3M6Vi50ZXN0KGUpP3RoaXMua2V5SG9va3M6e30pLGQ9Zy5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChnLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG8uRXZlbnQoZiksYj1kLmxlbmd0aDt3aGlsZShiLS0pYz1kW2JdLGFbY109ZltjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1tKSwzPT09YS50YXJnZXQubm9kZVR5cGUmJihhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlKSxnLmZpbHRlcj9nLmZpbHRlcihhLGYpOmF9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzIT09XygpJiZ0aGlzLmZvY3VzPyh0aGlzLmZvY3VzKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNpblwifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1fKCkmJnRoaXMuYmx1cj8odGhpcy5ibHVyKCksITEpOnZvaWQgMH0sZGVsZWdhdGVUeXBlOlwiZm9jdXNvdXRcIn0sY2xpY2s6e3RyaWdnZXI6ZnVuY3Rpb24oKXtyZXR1cm5cImNoZWNrYm94XCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2smJm8ubm9kZU5hbWUodGhpcyxcImlucHV0XCIpPyh0aGlzLmNsaWNrKCksITEpOnZvaWQgMH0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIG8ubm9kZU5hbWUoYS50YXJnZXQsXCJhXCIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJihhLm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWU9YS5yZXN1bHQpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW8uZXh0ZW5kKG5ldyBvLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7ZD9vLmV2ZW50LnRyaWdnZXIoZSxudWxsLGIpOm8uZXZlbnQuZGlzcGF0Y2guY2FsbChiLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmMucHJldmVudERlZmF1bHQoKX19LG8ucmVtb3ZlRXZlbnQ9ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9LG8uRXZlbnQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG8uRXZlbnQ/KGEmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PWEuZGVmYXVsdFByZXZlbnRlZCYmYS5nZXRQcmV2ZW50RGVmYXVsdCYmYS5nZXRQcmV2ZW50RGVmYXVsdCgpP1o6JCk6dGhpcy50eXBlPWEsYiYmby5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1hJiZhLnRpbWVTdGFtcHx8by5ub3coKSx2b2lkKHRoaXNbby5leHBhbmRvXT0hMCkpOm5ldyBvLkV2ZW50KGEsYil9LG8uRXZlbnQucHJvdG90eXBlPXtpc0RlZmF1bHRQcmV2ZW50ZWQ6JCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDokLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiQscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9WixhJiZhLnByZXZlbnREZWZhdWx0JiZhLnByZXZlbnREZWZhdWx0KCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPVosYSYmYS5zdG9wUHJvcGFnYXRpb24mJmEuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9Wix0aGlzLnN0b3BQcm9wYWdhdGlvbigpfX0sby5lYWNoKHttb3VzZWVudGVyOlwibW91c2VvdmVyXCIsbW91c2VsZWF2ZTpcIm1vdXNlb3V0XCJ9LGZ1bmN0aW9uKGEsYil7by5ldmVudC5zcGVjaWFsW2FdPXtkZWxlZ2F0ZVR5cGU6YixiaW5kVHlwZTpiLGhhbmRsZTpmdW5jdGlvbihhKXt2YXIgYyxkPXRoaXMsZT1hLnJlbGF0ZWRUYXJnZXQsZj1hLmhhbmRsZU9iajtyZXR1cm4oIWV8fGUhPT1kJiYhby5jb250YWlucyhkLGUpKSYmKGEudHlwZT1mLm9yaWdUeXBlLGM9Zi5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxhLnR5cGU9YiksY319fSksbC5mb2N1c2luQnViYmxlc3x8by5lYWNoKHtmb2N1czpcImZvY3VzaW5cIixibHVyOlwiZm9jdXNvdXRcIn0sZnVuY3Rpb24oYSxiKXt2YXIgYz1mdW5jdGlvbihhKXtvLmV2ZW50LnNpbXVsYXRlKGIsYS50YXJnZXQsby5ldmVudC5maXgoYSksITApfTtvLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGU9TC5hY2Nlc3MoZCxiKTtlfHxkLmFkZEV2ZW50TGlzdGVuZXIoYSxjLCEwKSxMLmFjY2VzcyhkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPUwuYWNjZXNzKGQsYiktMTtlP0wuYWNjZXNzKGQsYixlKTooZC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMCksTC5yZW1vdmUoZCxiKSl9fX0pLG8uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmLGc7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYz1jfHxiLGI9dm9pZCAwKTtmb3IoZyBpbiBhKXRoaXMub24oZyxiLGMsYVtnXSxlKTtyZXR1cm4gdGhpc31pZihudWxsPT1jJiZudWxsPT1kPyhkPWIsYz1iPXZvaWQgMCk6bnVsbD09ZCYmKFwic3RyaW5nXCI9PXR5cGVvZiBiPyhkPWMsYz12b2lkIDApOihkPWMsYz1iLGI9dm9pZCAwKSksZD09PSExKWQ9JDtlbHNlIGlmKCFkKXJldHVybiB0aGlzO3JldHVybiAxPT09ZSYmKGY9ZCxkPWZ1bmN0aW9uKGEpe3JldHVybiBvKCkub2ZmKGEpLGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxkLmd1aWQ9Zi5ndWlkfHwoZi5ndWlkPW8uZ3VpZCsrKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5ldmVudC5hZGQodGhpcyxhLGQsYyxiKX0pfSxvbmU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYSxiLGMsZCwxKX0sb2ZmOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKGEmJmEucHJldmVudERlZmF1bHQmJmEuaGFuZGxlT2JqKXJldHVybiBkPWEuaGFuZGxlT2JqLG8oYS5kZWxlZ2F0ZVRhcmdldCkub2ZmKGQubmFtZXNwYWNlP2Qub3JpZ1R5cGUrXCIuXCIrZC5uYW1lc3BhY2U6ZC5vcmlnVHlwZSxkLnNlbGVjdG9yLGQuaGFuZGxlciksdGhpcztpZihcIm9iamVjdFwiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuKGI9PT0hMXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYikmJihjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9JCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5ldmVudC5yZW1vdmUodGhpcyxhLGMsYil9KX0sdHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1swXTtyZXR1cm4gYz9vLmV2ZW50LnRyaWdnZXIoYSxiLGMsITApOnZvaWQgMH19KTt2YXIgYWI9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzpdKylbXj5dKilcXC8+L2dpLGJiPS88KFtcXHc6XSspLyxjYj0vPHwmIz9cXHcrOy8sZGI9LzwoPzpzY3JpcHR8c3R5bGV8bGluaykvaSxlYj0vY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLGZiPS9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksZ2I9L150cnVlXFwvKC4qKS8saGI9L15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nLGliPXtvcHRpb246WzEsXCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+XCIsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07aWIub3B0Z3JvdXA9aWIub3B0aW9uLGliLnRib2R5PWliLnRmb290PWliLmNvbGdyb3VwPWliLmNhcHRpb249aWIudGhlYWQsaWIudGg9aWIudGQ7ZnVuY3Rpb24gamIoYSxiKXtyZXR1cm4gby5ub2RlTmFtZShhLFwidGFibGVcIikmJm8ubm9kZU5hbWUoMTEhPT1iLm5vZGVUeXBlP2I6Yi5maXJzdENoaWxkLFwidHJcIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRib2R5XCIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIikpOmF9ZnVuY3Rpb24ga2IoYSl7cmV0dXJuIGEudHlwZT0obnVsbCE9PWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkrXCIvXCIrYS50eXBlLGF9ZnVuY3Rpb24gbGIoYSl7dmFyIGI9Z2IuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKFwidHlwZVwiKSxhfWZ1bmN0aW9uIG1iKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKUwuc2V0KGFbY10sXCJnbG9iYWxFdmFsXCIsIWJ8fEwuZ2V0KGJbY10sXCJnbG9iYWxFdmFsXCIpKX1mdW5jdGlvbiBuYihhLGIpe3ZhciBjLGQsZSxmLGcsaCxpLGo7aWYoMT09PWIubm9kZVR5cGUpe2lmKEwuaGFzRGF0YShhKSYmKGY9TC5hY2Nlc3MoYSksZz1MLnNldChiLGYpLGo9Zi5ldmVudHMpKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGUgaW4gailmb3IoYz0wLGQ9altlXS5sZW5ndGg7ZD5jO2MrKylvLmV2ZW50LmFkZChiLGUsaltlXVtjXSl9TS5oYXNEYXRhKGEpJiYoaD1NLmFjY2VzcyhhKSxpPW8uZXh0ZW5kKHt9LGgpLE0uc2V0KGIsaSkpfX1mdW5jdGlvbiBvYihhLGIpe3ZhciBjPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHxcIipcIik6YS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHxcIipcIik6W107cmV0dXJuIHZvaWQgMD09PWJ8fGImJm8ubm9kZU5hbWUoYSxiKT9vLm1lcmdlKFthXSxjKTpjfWZ1bmN0aW9uIHBiKGEsYil7dmFyIGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wiaW5wdXRcIj09PWMmJlQudGVzdChhLnR5cGUpP2IuY2hlY2tlZD1hLmNoZWNrZWQ6KFwiaW5wdXRcIj09PWN8fFwidGV4dGFyZWFcIj09PWMpJiYoYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWUpfW8uZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLmNsb25lTm9kZSghMCksaT1vLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZighKGwubm9DbG9uZUNoZWNrZWR8fDEhPT1hLm5vZGVUeXBlJiYxMSE9PWEubm9kZVR5cGV8fG8uaXNYTUxEb2MoYSkpKWZvcihnPW9iKGgpLGY9b2IoYSksZD0wLGU9Zi5sZW5ndGg7ZT5kO2QrKylwYihmW2RdLGdbZF0pO2lmKGIpaWYoYylmb3IoZj1mfHxvYihhKSxnPWd8fG9iKGgpLGQ9MCxlPWYubGVuZ3RoO2U+ZDtkKyspbmIoZltkXSxnW2RdKTtlbHNlIG5iKGEsaCk7cmV0dXJuIGc9b2IoaCxcInNjcmlwdFwiKSxnLmxlbmd0aD4wJiZtYihnLCFpJiZvYihhLFwic2NyaXB0XCIpKSxofSxidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZSxmLGcsaCxpLGosaz1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxsPVtdLG09MCxuPWEubGVuZ3RoO24+bTttKyspaWYoZT1hW21dLGV8fDA9PT1lKWlmKFwib2JqZWN0XCI9PT1vLnR5cGUoZSkpby5tZXJnZShsLGUubm9kZVR5cGU/W2VdOmUpO2Vsc2UgaWYoY2IudGVzdChlKSl7Zj1mfHxrLmFwcGVuZENoaWxkKGIuY3JlYXRlRWxlbWVudChcImRpdlwiKSksZz0oYmIuZXhlYyhlKXx8W1wiXCIsXCJcIl0pWzFdLnRvTG93ZXJDYXNlKCksaD1pYltnXXx8aWIuX2RlZmF1bHQsZi5pbm5lckhUTUw9aFsxXStlLnJlcGxhY2UoYWIsXCI8JDE+PC8kMj5cIikraFsyXSxqPWhbMF07d2hpbGUoai0tKWY9Zi5sYXN0Q2hpbGQ7by5tZXJnZShsLGYuY2hpbGROb2RlcyksZj1rLmZpcnN0Q2hpbGQsZi50ZXh0Q29udGVudD1cIlwifWVsc2UgbC5wdXNoKGIuY3JlYXRlVGV4dE5vZGUoZSkpO2sudGV4dENvbnRlbnQ9XCJcIixtPTA7d2hpbGUoZT1sW20rK10paWYoKCFkfHwtMT09PW8uaW5BcnJheShlLGQpKSYmKGk9by5jb250YWlucyhlLm93bmVyRG9jdW1lbnQsZSksZj1vYihrLmFwcGVuZENoaWxkKGUpLFwic2NyaXB0XCIpLGkmJm1iKGYpLGMpKXtqPTA7d2hpbGUoZT1mW2orK10pZmIudGVzdChlLnR5cGV8fFwiXCIpJiZjLnB1c2goZSl9cmV0dXJuIGt9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkLGUsZixnLGg9by5ldmVudC5zcGVjaWFsLGk9MDt2b2lkIDAhPT0oYz1hW2ldKTtpKyspe2lmKG8uYWNjZXB0RGF0YShjKSYmKGY9Y1tMLmV4cGFuZG9dLGYmJihiPUwuY2FjaGVbZl0pKSl7aWYoZD1PYmplY3Qua2V5cyhiLmV2ZW50c3x8e30pLGQubGVuZ3RoKWZvcihnPTA7dm9pZCAwIT09KGU9ZFtnXSk7ZysrKWhbZV0/by5ldmVudC5yZW1vdmUoYyxlKTpvLnJlbW92ZUV2ZW50KGMsZSxiLmhhbmRsZSk7TC5jYWNoZVtmXSYmZGVsZXRlIEwuY2FjaGVbZl19ZGVsZXRlIE0uY2FjaGVbY1tNLmV4cGFuZG9dXX19fSksby5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9vLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpJiYodGhpcy50ZXh0Q29udGVudD1hKX0pfSxudWxsLGEsYXJndW1lbnRzLmxlbmd0aCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmdW5jdGlvbihhKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIGI9amIodGhpcyxhKTtiLmFwcGVuZENoaWxkKGEpfX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1qYih0aGlzLGEpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX19KX0sYmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMpfSl9LGFmdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSl9LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPWE/by5maWx0ZXIoYSx0aGlzKTp0aGlzLGU9MDtudWxsIT0oYz1kW2VdKTtlKyspYnx8MSE9PWMubm9kZVR5cGV8fG8uY2xlYW5EYXRhKG9iKGMpKSxjLnBhcmVudE5vZGUmJihiJiZvLmNvbnRhaW5zKGMub3duZXJEb2N1bWVudCxjKSYmbWIob2IoYyxcInNjcmlwdFwiKSksYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpKTtyZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKykxPT09YS5ub2RlVHlwZSYmKG8uY2xlYW5EYXRhKG9iKGEsITEpKSxhLnRleHRDb250ZW50PVwiXCIpO3JldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPW51bGw9PWE/ITE6YSxiPW51bGw9PWI/YTpiLHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIG8uY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdfHx7fSxjPTAsZD10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1hJiYxPT09Yi5ub2RlVHlwZSlyZXR1cm4gYi5pbm5lckhUTUw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEmJiFkYi50ZXN0KGEpJiYhaWJbKGJiLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1hLnJlcGxhY2UoYWIsXCI8JDE+PC8kMj5cIik7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYoby5jbGVhbkRhdGEob2IoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHNbMF07cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2E9dGhpcy5wYXJlbnROb2RlLG8uY2xlYW5EYXRhKG9iKHRoaXMpKSxhJiZhLnJlcGxhY2VDaGlsZChiLHRoaXMpfSksYSYmKGEubGVuZ3RofHxhLm5vZGVUeXBlKT90aGlzOnRoaXMucmVtb3ZlKCl9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYil7YT1lLmFwcGx5KFtdLGEpO3ZhciBjLGQsZixnLGgsaSxqPTAsaz10aGlzLmxlbmd0aCxtPXRoaXMsbj1rLTEscD1hWzBdLHE9by5pc0Z1bmN0aW9uKHApO2lmKHF8fGs+MSYmXCJzdHJpbmdcIj09dHlwZW9mIHAmJiFsLmNoZWNrQ2xvbmUmJmViLnRlc3QocCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihjKXt2YXIgZD1tLmVxKGMpO3EmJihhWzBdPXAuY2FsbCh0aGlzLGMsZC5odG1sKCkpKSxkLmRvbU1hbmlwKGEsYil9KTtpZihrJiYoYz1vLmJ1aWxkRnJhZ21lbnQoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQsITEsdGhpcyksZD1jLmZpcnN0Q2hpbGQsMT09PWMuY2hpbGROb2Rlcy5sZW5ndGgmJihjPWQpLGQpKXtmb3IoZj1vLm1hcChvYihjLFwic2NyaXB0XCIpLGtiKSxnPWYubGVuZ3RoO2s+ajtqKyspaD1jLGohPT1uJiYoaD1vLmNsb25lKGgsITAsITApLGcmJm8ubWVyZ2UoZixvYihoLFwic2NyaXB0XCIpKSksYi5jYWxsKHRoaXNbal0saCxqKTtpZihnKWZvcihpPWZbZi5sZW5ndGgtMV0ub3duZXJEb2N1bWVudCxvLm1hcChmLGxiKSxqPTA7Zz5qO2orKyloPWZbal0sZmIudGVzdChoLnR5cGV8fFwiXCIpJiYhTC5hY2Nlc3MoaCxcImdsb2JhbEV2YWxcIikmJm8uY29udGFpbnMoaSxoKSYmKGguc3JjP28uX2V2YWxVcmwmJm8uX2V2YWxVcmwoaC5zcmMpOm8uZ2xvYmFsRXZhbChoLnRleHRDb250ZW50LnJlcGxhY2UoaGIsXCJcIikpKX1yZXR1cm4gdGhpc319KSxvLmVhY2goe2FwcGVuZFRvOlwiYXBwZW5kXCIscHJlcGVuZFRvOlwicHJlcGVuZFwiLGluc2VydEJlZm9yZTpcImJlZm9yZVwiLGluc2VydEFmdGVyOlwiYWZ0ZXJcIixyZXBsYWNlQWxsOlwicmVwbGFjZVdpdGhcIn0sZnVuY3Rpb24oYSxiKXtvLmZuW2FdPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYyxkPVtdLGU9byhhKSxnPWUubGVuZ3RoLTEsaD0wO2c+PWg7aCsrKWM9aD09PWc/dGhpczp0aGlzLmNsb25lKCEwKSxvKGVbaF0pW2JdKGMpLGYuYXBwbHkoZCxjLmdldCgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCl9fSk7dmFyIHFiLHJiPXt9O2Z1bmN0aW9uIHNiKGIsYyl7dmFyIGQ9byhjLmNyZWF0ZUVsZW1lbnQoYikpLmFwcGVuZFRvKGMuYm9keSksZT1hLmdldERlZmF1bHRDb21wdXRlZFN0eWxlP2EuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUoZFswXSkuZGlzcGxheTpvLmNzcyhkWzBdLFwiZGlzcGxheVwiKTtyZXR1cm4gZC5kZXRhY2goKSxlfWZ1bmN0aW9uIHRiKGEpe3ZhciBiPW0sYz1yYlthXTtyZXR1cm4gY3x8KGM9c2IoYSxiKSxcIm5vbmVcIiE9PWMmJmN8fChxYj0ocWJ8fG8oXCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+XCIpKS5hcHBlbmRUbyhiLmRvY3VtZW50RWxlbWVudCksYj1xYlswXS5jb250ZW50RG9jdW1lbnQsYi53cml0ZSgpLGIuY2xvc2UoKSxjPXNiKGEsYikscWIuZGV0YWNoKCkpLHJiW2FdPWMpLGN9dmFyIHViPS9ebWFyZ2luLyx2Yj1uZXcgUmVnRXhwKFwiXihcIitRK1wiKSg/IXB4KVthLXolXSskXCIsXCJpXCIpLHdiPWZ1bmN0aW9uKGEpe3JldHVybiBhLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpfTtmdW5jdGlvbiB4YihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLnN0eWxlO3JldHVybiBjPWN8fHdiKGEpLGMmJihnPWMuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXSksYyYmKFwiXCIhPT1nfHxvLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9by5zdHlsZShhLGIpKSx2Yi50ZXN0KGcpJiZ1Yi50ZXN0KGIpJiYoZD1oLndpZHRoLGU9aC5taW5XaWR0aCxmPWgubWF4V2lkdGgsaC5taW5XaWR0aD1oLm1heFdpZHRoPWgud2lkdGg9ZyxnPWMud2lkdGgsaC53aWR0aD1kLGgubWluV2lkdGg9ZSxoLm1heFdpZHRoPWYpKSx2b2lkIDAhPT1nP2crXCJcIjpnfWZ1bmN0aW9uIHliKGEsYil7cmV0dXJue2dldDpmdW5jdGlvbigpe3JldHVybiBhKCk/dm9pZCBkZWxldGUgdGhpcy5nZXQ6KHRoaXMuZ2V0PWIpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSFmdW5jdGlvbigpe3ZhciBiLGMsZD1cInBhZGRpbmc6MDttYXJnaW46MDtib3JkZXI6MDtkaXNwbGF5OmJsb2NrOy13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveFwiLGU9bS5kb2N1bWVudEVsZW1lbnQsZj1tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZz1tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Zy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcD1cImNvbnRlbnQtYm94XCIsZy5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPVwiXCIsbC5jbGVhckNsb25lU3R5bGU9XCJjb250ZW50LWJveFwiPT09Zy5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCxmLnN0eWxlLmNzc1RleHQ9XCJib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LTk5OTlweDttYXJnaW4tdG9wOjFweFwiLGYuYXBwZW5kQ2hpbGQoZyk7ZnVuY3Rpb24gaCgpe2cuc3R5bGUuY3NzVGV4dD1cIi13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwYWRkaW5nOjFweDtib3JkZXI6MXB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6NHB4O21hcmdpbi10b3A6MSU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjElXCIsZS5hcHBlbmRDaGlsZChmKTt2YXIgZD1hLmdldENvbXB1dGVkU3R5bGUoZyxudWxsKTtiPVwiMSVcIiE9PWQudG9wLGM9XCI0cHhcIj09PWQud2lkdGgsZS5yZW1vdmVDaGlsZChmKX1hLmdldENvbXB1dGVkU3R5bGUmJm8uZXh0ZW5kKGwse3BpeGVsUG9zaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gaCgpLGJ9LGJveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWMmJmgoKSxjfSxyZWxpYWJsZU1hcmdpblJpZ2h0OmZ1bmN0aW9uKCl7dmFyIGIsYz1nLmFwcGVuZENoaWxkKG0uY3JlYXRlRWxlbWVudChcImRpdlwiKSk7cmV0dXJuIGMuc3R5bGUuY3NzVGV4dD1nLnN0eWxlLmNzc1RleHQ9ZCxjLnN0eWxlLm1hcmdpblJpZ2h0PWMuc3R5bGUud2lkdGg9XCIwXCIsZy5zdHlsZS53aWR0aD1cIjFweFwiLGUuYXBwZW5kQ2hpbGQoZiksYj0hcGFyc2VGbG9hdChhLmdldENvbXB1dGVkU3R5bGUoYyxudWxsKS5tYXJnaW5SaWdodCksZS5yZW1vdmVDaGlsZChmKSxnLmlubmVySFRNTD1cIlwiLGJ9fSl9KCksby5zd2FwPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZz17fTtmb3IoZiBpbiBiKWdbZl09YS5zdHlsZVtmXSxhLnN0eWxlW2ZdPWJbZl07ZT1jLmFwcGx5KGEsZHx8W10pO2ZvcihmIGluIGIpYS5zdHlsZVtmXT1nW2ZdO3JldHVybiBlfTt2YXIgemI9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLEFiPW5ldyBSZWdFeHAoXCJeKFwiK1ErXCIpKC4qKSRcIixcImlcIiksQmI9bmV3IFJlZ0V4cChcIl4oWystXSk9KFwiK1ErXCIpXCIsXCJpXCIpLENiPXtwb3NpdGlvbjpcImFic29sdXRlXCIsdmlzaWJpbGl0eTpcImhpZGRlblwiLGRpc3BsYXk6XCJibG9ja1wifSxEYj17bGV0dGVyU3BhY2luZzowLGZvbnRXZWlnaHQ6NDAwfSxFYj1bXCJXZWJraXRcIixcIk9cIixcIk1velwiLFwibXNcIl07ZnVuY3Rpb24gRmIoYSxiKXtpZihiIGluIGEpcmV0dXJuIGI7dmFyIGM9YlswXS50b1VwcGVyQ2FzZSgpK2Iuc2xpY2UoMSksZD1iLGU9RWIubGVuZ3RoO3doaWxlKGUtLSlpZihiPUViW2VdK2MsYiBpbiBhKXJldHVybiBiO3JldHVybiBkfWZ1bmN0aW9uIEdiKGEsYixjKXt2YXIgZD1BYi5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHxcInB4XCIpOmJ9ZnVuY3Rpb24gSGIoYSxiLGMsZCxlKXtmb3IodmFyIGY9Yz09PShkP1wiYm9yZGVyXCI6XCJjb250ZW50XCIpPzQ6XCJ3aWR0aFwiPT09Yj8xOjAsZz0wOzQ+ZjtmKz0yKVwibWFyZ2luXCI9PT1jJiYoZys9by5jc3MoYSxjK1JbZl0sITAsZSkpLGQ/KFwiY29udGVudFwiPT09YyYmKGctPW8uY3NzKGEsXCJwYWRkaW5nXCIrUltmXSwhMCxlKSksXCJtYXJnaW5cIiE9PWMmJihnLT1vLmNzcyhhLFwiYm9yZGVyXCIrUltmXStcIldpZHRoXCIsITAsZSkpKTooZys9by5jc3MoYSxcInBhZGRpbmdcIitSW2ZdLCEwLGUpLFwicGFkZGluZ1wiIT09YyYmKGcrPW8uY3NzKGEsXCJib3JkZXJcIitSW2ZdK1wiV2lkdGhcIiwhMCxlKSkpO3JldHVybiBnfWZ1bmN0aW9uIEliKGEsYixjKXt2YXIgZD0hMCxlPVwid2lkdGhcIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPXdiKGEpLGc9XCJib3JkZXItYm94XCI9PT1vLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT14YihhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLHZiLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK0hiKGEsYixjfHwoZz9cImJvcmRlclwiOlwiY29udGVudFwiKSxkLGYpK1wicHhcIn1mdW5jdGlvbiBKYihhLGIpe2Zvcih2YXIgYyxkLGUsZj1bXSxnPTAsaD1hLmxlbmd0aDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoZltnXT1MLmdldChkLFwib2xkZGlzcGxheVwiKSxjPWQuc3R5bGUuZGlzcGxheSxiPyhmW2ddfHxcIm5vbmVcIiE9PWN8fChkLnN0eWxlLmRpc3BsYXk9XCJcIiksXCJcIj09PWQuc3R5bGUuZGlzcGxheSYmUyhkKSYmKGZbZ109TC5hY2Nlc3MoZCxcIm9sZGRpc3BsYXlcIix0YihkLm5vZGVOYW1lKSkpKTpmW2ddfHwoZT1TKGQpLChjJiZcIm5vbmVcIiE9PWN8fCFlKSYmTC5zZXQoZCxcIm9sZGRpc3BsYXlcIixlP2M6by5jc3MoZCxcImRpc3BsYXlcIikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmXCJub25lXCIhPT1kLnN0eWxlLmRpc3BsYXkmJlwiXCIhPT1kLnN0eWxlLmRpc3BsYXl8fChkLnN0eWxlLmRpc3BsYXk9Yj9mW2ddfHxcIlwiOlwibm9uZVwiKSk7cmV0dXJuIGF9by5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oYSxiKXtpZihiKXt2YXIgYz14YihhLFwib3BhY2l0eVwiKTtyZXR1cm5cIlwiPT09Yz9cIjFcIjpjfX19fSxjc3NOdW1iZXI6e2NvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZvbnRXZWlnaHQ6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsd2lkb3dzOiEwLHpJbmRleDohMCx6b29tOiEwfSxjc3NQcm9wczp7XCJmbG9hdFwiOlwiY3NzRmxvYXRcIn0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1vLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7cmV0dXJuIGI9by5jc3NQcm9wc1toXXx8KG8uY3NzUHJvcHNbaF09RmIoaSxoKSksZz1vLmNzc0hvb2tzW2JdfHxvLmNzc0hvb2tzW2hdLHZvaWQgMD09PWM/ZyYmXCJnZXRcImluIGcmJnZvaWQgMCE9PShlPWcuZ2V0KGEsITEsZCkpP2U6aVtiXTooZj10eXBlb2YgYyxcInN0cmluZ1wiPT09ZiYmKGU9QmIuZXhlYyhjKSkmJihjPShlWzFdKzEpKmVbMl0rcGFyc2VGbG9hdChvLmNzcyhhLGIpKSxmPVwibnVtYmVyXCIpLG51bGwhPWMmJmM9PT1jJiYoXCJudW1iZXJcIiE9PWZ8fG8uY3NzTnVtYmVyW2hdfHwoYys9XCJweFwiKSxsLmNsZWFyQ2xvbmVTdHlsZXx8XCJcIiE9PWN8fDAhPT1iLmluZGV4T2YoXCJiYWNrZ3JvdW5kXCIpfHwoaVtiXT1cImluaGVyaXRcIiksZyYmXCJzZXRcImluIGcmJnZvaWQgMD09PShjPWcuc2V0KGEsYyxkKSl8fChpW2JdPVwiXCIsaVtiXT1jKSksdm9pZCAwKX19LGNzczpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGcsaD1vLmNhbWVsQ2FzZShiKTtyZXR1cm4gYj1vLmNzc1Byb3BzW2hdfHwoby5jc3NQcm9wc1toXT1GYihhLnN0eWxlLGgpKSxnPW8uY3NzSG9va3NbYl18fG8uY3NzSG9va3NbaF0sZyYmXCJnZXRcImluIGcmJihlPWcuZ2V0KGEsITAsYykpLHZvaWQgMD09PWUmJihlPXhiKGEsYixkKSksXCJub3JtYWxcIj09PWUmJmIgaW4gRGImJihlPURiW2JdKSxcIlwiPT09Y3x8Yz8oZj1wYXJzZUZsb2F0KGUpLGM9PT0hMHx8by5pc051bWVyaWMoZik/Znx8MDplKTplfX0pLG8uZWFjaChbXCJoZWlnaHRcIixcIndpZHRoXCJdLGZ1bmN0aW9uKGEsYil7by5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gYz8wPT09YS5vZmZzZXRXaWR0aCYmemIudGVzdChvLmNzcyhhLFwiZGlzcGxheVwiKSk/by5zd2FwKGEsQ2IsZnVuY3Rpb24oKXtyZXR1cm4gSWIoYSxiLGQpfSk6SWIoYSxiLGQpOnZvaWQgMH0sc2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1kJiZ3YihhKTtyZXR1cm4gR2IoYSxjLGQ/SGIoYSxiLGQsXCJib3JkZXItYm94XCI9PT1vLmNzcyhhLFwiYm94U2l6aW5nXCIsITEsZSksZSk6MCl9fX0pLG8uY3NzSG9va3MubWFyZ2luUmlnaHQ9eWIobC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/by5zd2FwKGEse2Rpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIn0seGIsW2EsXCJtYXJnaW5SaWdodFwiXSk6dm9pZCAwfSksby5lYWNoKHttYXJnaW46XCJcIixwYWRkaW5nOlwiXCIsYm9yZGVyOlwiV2lkdGhcIn0sZnVuY3Rpb24oYSxiKXtvLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9XCJzdHJpbmdcIj09dHlwZW9mIGM/Yy5zcGxpdChcIiBcIik6W2NdOzQ+ZDtkKyspZVthK1JbZF0rYl09ZltkXXx8ZltkLTJdfHxmWzBdO3JldHVybiBlfX0sdWIudGVzdChhKXx8KG8uY3NzSG9va3NbYStiXS5zZXQ9R2IpfSksby5mbi5leHRlbmQoe2NzczpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj17fSxnPTA7aWYoby5pc0FycmF5KGIpKXtmb3IoZD13YihhKSxlPWIubGVuZ3RoO2U+ZztnKyspZltiW2ddXT1vLmNzcyhhLGJbZ10sITEsZCk7cmV0dXJuIGZ9cmV0dXJuIHZvaWQgMCE9PWM/by5zdHlsZShhLGIsYyk6by5jc3MoYSxiKX0sYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHNob3c6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcywhMCl9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gSmIodGhpcyl9LHRvZ2dsZTpmdW5jdGlvbihhKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtTKHRoaXMpP28odGhpcykuc2hvdygpOm8odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gS2IoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IEtiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9by5Ud2Vlbj1LYixLYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOktiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fFwic3dpbmdcIix0aGlzLm9wdGlvbnM9Yix0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9ZCx0aGlzLnVuaXQ9Znx8KG8uY3NzTnVtYmVyW2NdP1wiXCI6XCJweFwiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIGE9S2IucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIGEmJmEuZ2V0P2EuZ2V0KHRoaXMpOktiLnByb3BIb29rcy5fZGVmYXVsdC5nZXQodGhpcyl9LHJ1bjpmdW5jdGlvbihhKXt2YXIgYixjPUtiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz1iPXRoaXMub3B0aW9ucy5kdXJhdGlvbj9vLmVhc2luZ1t0aGlzLmVhc2luZ10oYSx0aGlzLm9wdGlvbnMuZHVyYXRpb24qYSwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTphLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOktiLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LEtiLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1LYi5wcm90b3R5cGUsS2IucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiBudWxsPT1hLmVsZW1bYS5wcm9wXXx8YS5lbGVtLnN0eWxlJiZudWxsIT1hLmVsZW0uc3R5bGVbYS5wcm9wXT8oYj1vLmNzcyhhLmVsZW0sYS5wcm9wLFwiXCIpLGImJlwiYXV0b1wiIT09Yj9iOjApOmEuZWxlbVthLnByb3BdfSxzZXQ6ZnVuY3Rpb24oYSl7by5meC5zdGVwW2EucHJvcF0/by5meC5zdGVwW2EucHJvcF0oYSk6YS5lbGVtLnN0eWxlJiYobnVsbCE9YS5lbGVtLnN0eWxlW28uY3NzUHJvcHNbYS5wcm9wXV18fG8uY3NzSG9va3NbYS5wcm9wXSk/by5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCk6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0sS2IucHJvcEhvb2tzLnNjcm9sbFRvcD1LYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxvLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9fSxvLmZ4PUtiLnByb3RvdHlwZS5pbml0LG8uZnguc3RlcD17fTt2YXIgTGIsTWIsTmI9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLE9iPW5ldyBSZWdFeHAoXCJeKD86KFsrLV0pPXwpKFwiK1ErXCIpKFthLXolXSopJFwiLFwiaVwiKSxQYj0vcXVldWVIb29rcyQvLFFiPVtWYl0sUmI9e1wiKlwiOltmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlVHdlZW4oYSxiKSxkPWMuY3VyKCksZT1PYi5leGVjKGIpLGY9ZSYmZVszXXx8KG8uY3NzTnVtYmVyW2FdP1wiXCI6XCJweFwiKSxnPShvLmNzc051bWJlclthXXx8XCJweFwiIT09ZiYmK2QpJiZPYi5leGVjKG8uY3NzKGMuZWxlbSxhKSksaD0xLGk9MjA7aWYoZyYmZ1szXSE9PWYpe2Y9Znx8Z1szXSxlPWV8fFtdLGc9K2R8fDE7ZG8gaD1ofHxcIi41XCIsZy89aCxvLnN0eWxlKGMuZWxlbSxhLGcrZik7d2hpbGUoaCE9PShoPWMuY3VyKCkvZCkmJjEhPT1oJiYtLWkpfXJldHVybiBlJiYoZz1jLnN0YXJ0PStnfHwrZHx8MCxjLnVuaXQ9ZixjLmVuZD1lWzFdP2crKGVbMV0rMSkqZVsyXTorZVsyXSksY31dfTtmdW5jdGlvbiBTYigpe3JldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7TGI9dm9pZCAwfSksTGI9by5ub3coKX1mdW5jdGlvbiBUYihhLGIpe3ZhciBjLGQ9MCxlPXtoZWlnaHQ6YX07Zm9yKGI9Yj8xOjA7ND5kO2QrPTItYiljPVJbZF0sZVtcIm1hcmdpblwiK2NdPWVbXCJwYWRkaW5nXCIrY109YTtyZXR1cm4gYiYmKGUub3BhY2l0eT1lLndpZHRoPWEpLGV9ZnVuY3Rpb24gVWIoYSxiLGMpe2Zvcih2YXIgZCxlPShSYltiXXx8W10pLmNvbmNhdChSYltcIipcIl0pLGY9MCxnPWUubGVuZ3RoO2c+ZjtmKyspaWYoZD1lW2ZdLmNhbGwoYyxiLGEpKXJldHVybiBkfWZ1bmN0aW9uIFZiKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPXRoaXMsbD17fSxtPWEuc3R5bGUsbj1hLm5vZGVUeXBlJiZTKGEpLHA9TC5nZXQoYSxcImZ4c2hvd1wiKTtjLnF1ZXVlfHwoaD1vLl9xdWV1ZUhvb2tzKGEsXCJmeFwiKSxudWxsPT1oLnVucXVldWVkJiYoaC51bnF1ZXVlZD0wLGk9aC5lbXB0eS5maXJlLGguZW1wdHkuZmlyZT1mdW5jdGlvbigpe2gudW5xdWV1ZWR8fGkoKX0pLGgudW5xdWV1ZWQrKyxrLmFsd2F5cyhmdW5jdGlvbigpe2suYWx3YXlzKGZ1bmN0aW9uKCl7aC51bnF1ZXVlZC0tLG8ucXVldWUoYSxcImZ4XCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKFwiaGVpZ2h0XCJpbiBifHxcIndpZHRoXCJpbiBiKSYmKGMub3ZlcmZsb3c9W20ub3ZlcmZsb3csbS5vdmVyZmxvd1gsbS5vdmVyZmxvd1ldLGo9by5jc3MoYSxcImRpc3BsYXlcIiksXCJub25lXCI9PT1qJiYoaj10YihhLm5vZGVOYW1lKSksXCJpbmxpbmVcIj09PWomJlwibm9uZVwiPT09by5jc3MoYSxcImZsb2F0XCIpJiYobS5kaXNwbGF5PVwiaW5saW5lLWJsb2NrXCIpKSxjLm92ZXJmbG93JiYobS5vdmVyZmxvdz1cImhpZGRlblwiLGsuYWx3YXlzKGZ1bmN0aW9uKCl7bS5vdmVyZmxvdz1jLm92ZXJmbG93WzBdLG0ub3ZlcmZsb3dYPWMub3ZlcmZsb3dbMV0sbS5vdmVyZmxvd1k9Yy5vdmVyZmxvd1syXX0pKTtmb3IoZCBpbiBiKWlmKGU9YltkXSxOYi5leGVjKGUpKXtpZihkZWxldGUgYltkXSxmPWZ8fFwidG9nZ2xlXCI9PT1lLGU9PT0obj9cImhpZGVcIjpcInNob3dcIikpe2lmKFwic2hvd1wiIT09ZXx8IXB8fHZvaWQgMD09PXBbZF0pY29udGludWU7bj0hMH1sW2RdPXAmJnBbZF18fG8uc3R5bGUoYSxkKX1pZighby5pc0VtcHR5T2JqZWN0KGwpKXtwP1wiaGlkZGVuXCJpbiBwJiYobj1wLmhpZGRlbik6cD1MLmFjY2VzcyhhLFwiZnhzaG93XCIse30pLGYmJihwLmhpZGRlbj0hbiksbj9vKGEpLnNob3coKTprLmRvbmUoZnVuY3Rpb24oKXtvKGEpLmhpZGUoKX0pLGsuZG9uZShmdW5jdGlvbigpe3ZhciBiO0wucmVtb3ZlKGEsXCJmeHNob3dcIik7Zm9yKGIgaW4gbClvLnN0eWxlKGEsYixsW2JdKX0pO2ZvcihkIGluIGwpZz1VYihuP3BbZF06MCxkLGspLGQgaW4gcHx8KHBbZF09Zy5zdGFydCxuJiYoZy5lbmQ9Zy5zdGFydCxnLnN0YXJ0PVwid2lkdGhcIj09PWR8fFwiaGVpZ2h0XCI9PT1kPzE6MCkpfX1mdW5jdGlvbiBXYihhLGIpe3ZhciBjLGQsZSxmLGc7Zm9yKGMgaW4gYSlpZihkPW8uY2FtZWxDYXNlKGMpLGU9YltkXSxmPWFbY10sby5pc0FycmF5KGYpJiYoZT1mWzFdLGY9YVtjXT1mWzBdKSxjIT09ZCYmKGFbZF09ZixkZWxldGUgYVtjXSksZz1vLmNzc0hvb2tzW2RdLGcmJlwiZXhwYW5kXCJpbiBnKXtmPWcuZXhwYW5kKGYpLGRlbGV0ZSBhW2RdO2ZvcihjIGluIGYpYyBpbiBhfHwoYVtjXT1mW2NdLGJbY109ZSl9ZWxzZSBiW2RdPWV9ZnVuY3Rpb24gWGIoYSxiLGMpe3ZhciBkLGUsZj0wLGc9UWIubGVuZ3RoLGg9by5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBpLmVsZW19KSxpPWZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4hMTtmb3IodmFyIGI9TGJ8fFNiKCksYz1NYXRoLm1heCgwLGouc3RhcnRUaW1lK2ouZHVyYXRpb24tYiksZD1jL2ouZHVyYXRpb258fDAsZj0xLWQsZz0wLGk9ai50d2VlbnMubGVuZ3RoO2k+ZztnKyspai50d2VlbnNbZ10ucnVuKGYpO3JldHVybiBoLm5vdGlmeVdpdGgoYSxbaixmLGNdKSwxPmYmJmk/YzooaC5yZXNvbHZlV2l0aChhLFtqXSksITEpfSxqPWgucHJvbWlzZSh7ZWxlbTphLHByb3BzOm8uZXh0ZW5kKHt9LGIpLG9wdHM6by5leHRlbmQoITAse3NwZWNpYWxFYXNpbmc6e319LGMpLG9yaWdpbmFsUHJvcGVydGllczpiLG9yaWdpbmFsT3B0aW9uczpjLHN0YXJ0VGltZTpMYnx8U2IoKSxkdXJhdGlvbjpjLmR1cmF0aW9uLHR3ZWVuczpbXSxjcmVhdGVUd2VlbjpmdW5jdGlvbihiLGMpe3ZhciBkPW8uVHdlZW4oYSxqLm9wdHMsYixjLGoub3B0cy5zcGVjaWFsRWFzaW5nW2JdfHxqLm9wdHMuZWFzaW5nKTtyZXR1cm4gai50d2VlbnMucHVzaChkKSxkfSxzdG9wOmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD1iP2oudHdlZW5zLmxlbmd0aDowO2lmKGUpcmV0dXJuIHRoaXM7Zm9yKGU9ITA7ZD5jO2MrKylqLnR3ZWVuc1tjXS5ydW4oMSk7cmV0dXJuIGI/aC5yZXNvbHZlV2l0aChhLFtqLGJdKTpoLnJlamVjdFdpdGgoYSxbaixiXSksdGhpc319KSxrPWoucHJvcHM7Zm9yKFdiKGssai5vcHRzLnNwZWNpYWxFYXNpbmcpO2c+ZjtmKyspaWYoZD1RYltmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIGQ7cmV0dXJuIG8ubWFwKGssVWIsaiksby5pc0Z1bmN0aW9uKGoub3B0cy5zdGFydCkmJmoub3B0cy5zdGFydC5jYWxsKGEsaiksby5meC50aW1lcihvLmV4dGVuZChpLHtlbGVtOmEsYW5pbTpqLHF1ZXVlOmoub3B0cy5xdWV1ZX0pKSxqLnByb2dyZXNzKGoub3B0cy5wcm9ncmVzcykuZG9uZShqLm9wdHMuZG9uZSxqLm9wdHMuY29tcGxldGUpLmZhaWwoai5vcHRzLmZhaWwpLmFsd2F5cyhqLm9wdHMuYWx3YXlzKX1vLkFuaW1hdGlvbj1vLmV4dGVuZChYYix7dHdlZW5lcjpmdW5jdGlvbihhLGIpe28uaXNGdW5jdGlvbihhKT8oYj1hLGE9W1wiKlwiXSk6YT1hLnNwbGl0KFwiIFwiKTtmb3IodmFyIGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyljPWFbZF0sUmJbY109UmJbY118fFtdLFJiW2NdLnVuc2hpZnQoYil9LHByZWZpbHRlcjpmdW5jdGlvbihhLGIpe2I/UWIudW5zaGlmdChhKTpRYi5wdXNoKGEpfX0pLG8uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJlwib2JqZWN0XCI9PXR5cGVvZiBhP28uZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8by5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFvLmlzRnVuY3Rpb24oYikmJmJ9O3JldHVybiBkLmR1cmF0aW9uPW8uZngub2ZmPzA6XCJudW1iZXJcIj09dHlwZW9mIGQuZHVyYXRpb24/ZC5kdXJhdGlvbjpkLmR1cmF0aW9uIGluIG8uZnguc3BlZWRzP28uZnguc3BlZWRzW2QuZHVyYXRpb25dOm8uZnguc3BlZWRzLl9kZWZhdWx0LChudWxsPT1kLnF1ZXVlfHxkLnF1ZXVlPT09ITApJiYoZC5xdWV1ZT1cImZ4XCIpLGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbigpe28uaXNGdW5jdGlvbihkLm9sZCkmJmQub2xkLmNhbGwodGhpcyksZC5xdWV1ZSYmby5kZXF1ZXVlKHRoaXMsZC5xdWV1ZSl9LGR9LG8uZm4uZXh0ZW5kKHtmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKFMpLmNzcyhcIm9wYWNpdHlcIiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9by5pc0VtcHR5T2JqZWN0KGEpLGY9by5zcGVlZChiLGMsZCksZz1mdW5jdGlvbigpe3ZhciBiPVhiKHRoaXMsby5leHRlbmQoe30sYSksZik7KGV8fEwuZ2V0KHRoaXMsXCJmaW5pc2hcIikpJiZiLnN0b3AoITApfTtyZXR1cm4gZy5maW5pc2g9ZyxlfHxmLnF1ZXVlPT09ITE/dGhpcy5lYWNoKGcpOnRoaXMucXVldWUoZi5xdWV1ZSxnKX0sc3RvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdG9wO2RlbGV0ZSBhLnN0b3AsYihjKX07cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8XCJmeFwiLFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj0hMCxlPW51bGwhPWEmJmErXCJxdWV1ZUhvb2tzXCIsZj1vLnRpbWVycyxnPUwuZ2V0KHRoaXMpO2lmKGUpZ1tlXSYmZ1tlXS5zdG9wJiZkKGdbZV0pO2Vsc2UgZm9yKGUgaW4gZylnW2VdJiZnW2VdLnN0b3AmJlBiLnRlc3QoZSkmJmQoZ1tlXSk7Zm9yKGU9Zi5sZW5ndGg7ZS0tOylmW2VdLmVsZW0hPT10aGlzfHxudWxsIT1hJiZmW2VdLnF1ZXVlIT09YXx8KGZbZV0uYW5pbS5zdG9wKGMpLGI9ITEsZi5zcGxpY2UoZSwxKSk7KGJ8fCFjKSYmby5kZXF1ZXVlKHRoaXMsYSl9KX0sZmluaXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhIT09ITEmJihhPWF8fFwiZnhcIiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1MLmdldCh0aGlzKSxkPWNbYStcInF1ZXVlXCJdLGU9Y1thK1wicXVldWVIb29rc1wiXSxmPW8udGltZXJzLGc9ZD9kLmxlbmd0aDowO2ZvcihjLmZpbmlzaD0hMCxvLnF1ZXVlKHRoaXMsYSxbXSksZSYmZS5zdG9wJiZlLnN0b3AuY2FsbCh0aGlzLCEwKSxiPWYubGVuZ3RoO2ItLTspZltiXS5lbGVtPT09dGhpcyYmZltiXS5xdWV1ZT09PWEmJihmW2JdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UoYiwxKSk7Zm9yKGI9MDtnPmI7YisrKWRbYl0mJmRbYl0uZmluaXNoJiZkW2JdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBjLmZpbmlzaH0pfX0pLG8uZWFjaChbXCJ0b2dnbGVcIixcInNob3dcIixcImhpZGVcIl0sZnVuY3Rpb24oYSxiKXt2YXIgYz1vLmZuW2JdO28uZm5bYl09ZnVuY3Rpb24oYSxkLGUpe3JldHVybiBudWxsPT1hfHxcImJvb2xlYW5cIj09dHlwZW9mIGE/Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dGhpcy5hbmltYXRlKFRiKGIsITApLGEsZCxlKX19KSxvLmVhY2goe3NsaWRlRG93bjpUYihcInNob3dcIiksc2xpZGVVcDpUYihcImhpZGVcIiksc2xpZGVUb2dnbGU6VGIoXCJ0b2dnbGVcIiksZmFkZUluOntvcGFjaXR5Olwic2hvd1wifSxmYWRlT3V0OntvcGFjaXR5OlwiaGlkZVwifSxmYWRlVG9nZ2xlOntvcGFjaXR5OlwidG9nZ2xlXCJ9fSxmdW5jdGlvbihhLGIpe28uZm5bYV09ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmFuaW1hdGUoYixhLGMsZCl9fSksby50aW1lcnM9W10sby5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGEsYj0wLGM9by50aW1lcnM7Zm9yKExiPW8ubm93KCk7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGEoKXx8Y1tiXSE9PWF8fGMuc3BsaWNlKGItLSwxKTtjLmxlbmd0aHx8by5meC5zdG9wKCksTGI9dm9pZCAwfSxvLmZ4LnRpbWVyPWZ1bmN0aW9uKGEpe28udGltZXJzLnB1c2goYSksYSgpP28uZnguc3RhcnQoKTpvLnRpbWVycy5wb3AoKX0sby5meC5pbnRlcnZhbD0xMyxvLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7TWJ8fChNYj1zZXRJbnRlcnZhbChvLmZ4LnRpY2ssby5meC5pbnRlcnZhbCkpfSxvLmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKE1iKSxNYj1udWxsfSxvLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxvLmZuLmRlbGF5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9by5meD9vLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8XCJmeFwiLHRoaXMucXVldWUoYixmdW5jdGlvbihiLGMpe3ZhciBkPXNldFRpbWVvdXQoYixhKTtjLnN0b3A9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCl9fSl9LGZ1bmN0aW9uKCl7dmFyIGE9bS5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksYj1tLmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksYz1iLmFwcGVuZENoaWxkKG0uY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSk7YS50eXBlPVwiY2hlY2tib3hcIixsLmNoZWNrT249XCJcIiE9PWEudmFsdWUsbC5vcHRTZWxlY3RlZD1jLnNlbGVjdGVkLGIuZGlzYWJsZWQ9ITAsbC5vcHREaXNhYmxlZD0hYy5kaXNhYmxlZCxhPW0uY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGEudmFsdWU9XCJ0XCIsYS50eXBlPVwicmFkaW9cIixsLnJhZGlvVmFsdWU9XCJ0XCI9PT1hLnZhbHVlfSgpO3ZhciBZYixaYiwkYj1vLmV4cHIuYXR0ckhhbmRsZTtvLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBKKHRoaXMsby5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG8uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZihhJiYzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiB0eXBlb2YgYS5nZXRBdHRyaWJ1dGU9PT1VP28ucHJvcChhLGIsYyk6KDE9PT1mJiZvLmlzWE1MRG9jKGEpfHwoYj1iLnRvTG93ZXJDYXNlKCksZD1vLmF0dHJIb29rc1tiXXx8KG8uZXhwci5tYXRjaC5ib29sLnRlc3QoYik/WmI6WWIpKSx2b2lkIDA9PT1jP2QmJlwiZ2V0XCJpbiBkJiZudWxsIT09KGU9ZC5nZXQoYSxiKSk/ZTooZT1vLmZpbmQuYXR0cihhLGIpLG51bGw9PWU/dm9pZCAwOmUpOm51bGwhPT1jP2QmJlwic2V0XCJpbiBkJiZ2b2lkIDAhPT0oZT1kLnNldChhLGMsYikpP2U6KGEuc2V0QXR0cmlidXRlKGIsYytcIlwiKSxjKTp2b2lkIG8ucmVtb3ZlQXR0cihhLGIpKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0wLGY9YiYmYi5tYXRjaChFKTtpZihmJiYxPT09YS5ub2RlVHlwZSl3aGlsZShjPWZbZSsrXSlkPW8ucHJvcEZpeFtjXXx8YyxvLmV4cHIubWF0Y2guYm9vbC50ZXN0KGMpJiYoYVtkXT0hMSksYS5yZW1vdmVBdHRyaWJ1dGUoYyl9LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGEsYil7aWYoIWwucmFkaW9WYWx1ZSYmXCJyYWRpb1wiPT09YiYmby5ub2RlTmFtZShhLFwiaW5wdXRcIikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKFwidHlwZVwiLGIpLGMmJihhLnZhbHVlPWMpLGJ9fX19fSksWmI9e3NldDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGI9PT0hMT9vLnJlbW92ZUF0dHIoYSxjKTphLnNldEF0dHJpYnV0ZShjLGMpLGN9fSxvLmVhY2goby5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKC9cXHcrL2cpLGZ1bmN0aW9uKGEsYil7dmFyIGM9JGJbYl18fG8uZmluZC5hdHRyOyRiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO1xucmV0dXJuIGR8fChmPSRiW2JdLCRiW2JdPWUsZT1udWxsIT1jKGEsYixkKT9iLnRvTG93ZXJDYXNlKCk6bnVsbCwkYltiXT1mKSxlfX0pO3ZhciBfYj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pO28uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEoodGhpcyxvLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW28ucHJvcEZpeFthXXx8YV19KX19KSxvLmV4dGVuZCh7cHJvcEZpeDp7XCJmb3JcIjpcImh0bWxGb3JcIixcImNsYXNzXCI6XCJjbGFzc05hbWVcIn0scHJvcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGc9YS5ub2RlVHlwZTtpZihhJiYzIT09ZyYmOCE9PWcmJjIhPT1nKXJldHVybiBmPTEhPT1nfHwhby5pc1hNTERvYyhhKSxmJiYoYj1vLnByb3BGaXhbYl18fGIsZT1vLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiZcInNldFwiaW4gZSYmdm9pZCAwIT09KGQ9ZS5zZXQoYSxjLGIpKT9kOmFbYl09YzplJiZcImdldFwiaW4gZSYmbnVsbCE9PShkPWUuZ2V0KGEsYikpP2Q6YVtiXX0scHJvcEhvb2tzOnt0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpfHxfYi50ZXN0KGEubm9kZU5hbWUpfHxhLmhyZWY/YS50YWJJbmRleDotMX19fX0pLGwub3B0U2VsZWN0ZWR8fChvLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfX0pLG8uZWFjaChbXCJ0YWJJbmRleFwiLFwicmVhZE9ubHlcIixcIm1heExlbmd0aFwiLFwiY2VsbFNwYWNpbmdcIixcImNlbGxQYWRkaW5nXCIsXCJyb3dTcGFuXCIsXCJjb2xTcGFuXCIsXCJ1c2VNYXBcIixcImZyYW1lQm9yZGVyXCIsXCJjb250ZW50RWRpdGFibGVcIl0sZnVuY3Rpb24oKXtvLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7dmFyIGFjPS9bXFx0XFxyXFxuXFxmXS9nO28uZm4uZXh0ZW5kKHthZGRDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD1cInN0cmluZ1wiPT10eXBlb2YgYSYmYSxpPTAsaj10aGlzLmxlbmd0aDtpZihvLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtvKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGgpZm9yKGI9KGF8fFwiXCIpLm1hdGNoKEUpfHxbXTtqPmk7aSsrKWlmKGM9dGhpc1tpXSxkPTE9PT1jLm5vZGVUeXBlJiYoYy5jbGFzc05hbWU/KFwiIFwiK2MuY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKGFjLFwiIFwiKTpcIiBcIikpe2Y9MDt3aGlsZShlPWJbZisrXSlkLmluZGV4T2YoXCIgXCIrZStcIiBcIik8MCYmKGQrPWUrXCIgXCIpO2c9by50cmltKGQpLGMuY2xhc3NOYW1lIT09ZyYmKGMuY2xhc3NOYW1lPWcpfXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaD0wPT09YXJndW1lbnRzLmxlbmd0aHx8XCJzdHJpbmdcIj09dHlwZW9mIGEmJmEsaT0wLGo9dGhpcy5sZW5ndGg7aWYoby5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7byh0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihoKWZvcihiPShhfHxcIlwiKS5tYXRjaChFKXx8W107aj5pO2krKylpZihjPXRoaXNbaV0sZD0xPT09Yy5ub2RlVHlwZSYmKGMuY2xhc3NOYW1lPyhcIiBcIitjLmNsYXNzTmFtZStcIiBcIikucmVwbGFjZShhYyxcIiBcIik6XCJcIikpe2Y9MDt3aGlsZShlPWJbZisrXSl3aGlsZShkLmluZGV4T2YoXCIgXCIrZStcIiBcIik+PTApZD1kLnJlcGxhY2UoXCIgXCIrZStcIiBcIixcIiBcIik7Zz1hP28udHJpbShkKTpcIlwiLGMuY2xhc3NOYW1lIT09ZyYmKGMuY2xhc3NOYW1lPWcpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhO3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgYiYmXCJzdHJpbmdcIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6dGhpcy5lYWNoKG8uaXNGdW5jdGlvbihhKT9mdW5jdGlvbihjKXtvKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsdGhpcy5jbGFzc05hbWUsYiksYil9OmZ1bmN0aW9uKCl7aWYoXCJzdHJpbmdcIj09PWMpe3ZhciBiLGQ9MCxlPW8odGhpcyksZj1hLm1hdGNoKEUpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlKGM9PT1VfHxcImJvb2xlYW5cIj09PWMpJiYodGhpcy5jbGFzc05hbWUmJkwuc2V0KHRoaXMsXCJfX2NsYXNzTmFtZV9fXCIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHxhPT09ITE/XCJcIjpMLmdldCh0aGlzLFwiX19jbGFzc05hbWVfX1wiKXx8XCJcIil9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVwiIFwiK2ErXCIgXCIsYz0wLGQ9dGhpcy5sZW5ndGg7ZD5jO2MrKylpZigxPT09dGhpc1tjXS5ub2RlVHlwZSYmKFwiIFwiK3RoaXNbY10uY2xhc3NOYW1lK1wiIFwiKS5yZXBsYWNlKGFjLFwiIFwiKS5pbmRleE9mKGIpPj0wKXJldHVybiEwO3JldHVybiExfX0pO3ZhciBiYz0vXFxyL2c7by5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW8uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxvKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT1cIlwiOlwibnVtYmVyXCI9PXR5cGVvZiBlP2UrPVwiXCI6by5pc0FycmF5KGUpJiYoZT1vLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP1wiXCI6YStcIlwifSkpLGI9by52YWxIb29rc1t0aGlzLnR5cGVdfHxvLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0sYiYmXCJzZXRcImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSxcInZhbHVlXCIpfHwodGhpcy52YWx1ZT1lKSl9KTtpZihlKXJldHVybiBiPW8udmFsSG9va3NbZS50eXBlXXx8by52YWxIb29rc1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldLGImJlwiZ2V0XCJpbiBiJiZ2b2lkIDAhPT0oYz1iLmdldChlLFwidmFsdWVcIikpP2M6KGM9ZS52YWx1ZSxcInN0cmluZ1wiPT10eXBlb2YgYz9jLnJlcGxhY2UoYmMsXCJcIik6bnVsbD09Yz9cIlwiOmMpfX19KSxvLmV4dGVuZCh7dmFsSG9va3M6e3NlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjLGQ9YS5vcHRpb25zLGU9YS5zZWxlY3RlZEluZGV4LGY9XCJzZWxlY3Qtb25lXCI9PT1hLnR5cGV8fDA+ZSxnPWY/bnVsbDpbXSxoPWY/ZSsxOmQubGVuZ3RoLGk9MD5lP2g6Zj9lOjA7aD5pO2krKylpZihjPWRbaV0sISghYy5zZWxlY3RlZCYmaSE9PWV8fChsLm9wdERpc2FibGVkP2MuZGlzYWJsZWQ6bnVsbCE9PWMuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpfHxjLnBhcmVudE5vZGUuZGlzYWJsZWQmJm8ubm9kZU5hbWUoYy5wYXJlbnROb2RlLFwib3B0Z3JvdXBcIikpKXtpZihiPW8oYykudmFsKCksZilyZXR1cm4gYjtnLnB1c2goYil9cmV0dXJuIGd9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1hLm9wdGlvbnMsZj1vLm1ha2VBcnJheShiKSxnPWUubGVuZ3RoO3doaWxlKGctLSlkPWVbZ10sKGQuc2VsZWN0ZWQ9by5pbkFycmF5KG8oZCkudmFsKCksZik+PTApJiYoYz0hMCk7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGZ9fX19KSxvLmVhY2goW1wicmFkaW9cIixcImNoZWNrYm94XCJdLGZ1bmN0aW9uKCl7by52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG8uaXNBcnJheShiKT9hLmNoZWNrZWQ9by5pbkFycmF5KG8oYSkudmFsKCksYik+PTA6dm9pZCAwfX0sbC5jaGVja09ufHwoby52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpP1wib25cIjphLnZhbHVlfSl9KSxvLmVhY2goXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIGNvbnRleHRtZW51XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEsYil7by5mbltiXT1mdW5jdGlvbihhLGMpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbihiLG51bGwsYSxjKTp0aGlzLnRyaWdnZXIoYil9fSksby5mbi5leHRlbmQoe2hvdmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubW91c2VlbnRlcihhKS5tb3VzZWxlYXZlKGJ8fGEpfSxiaW5kOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5vbihhLG51bGwsYixjKX0sdW5iaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMub2ZmKGEsbnVsbCxiKX0sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMub24oYixhLGMsZCl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiAxPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLm9mZihhLFwiKipcIik6dGhpcy5vZmYoYixhfHxcIioqXCIsYyl9fSk7dmFyIGNjPW8ubm93KCksZGM9L1xcPy87by5wYXJzZUpTT049ZnVuY3Rpb24oYSl7cmV0dXJuIEpTT04ucGFyc2UoYStcIlwiKX0sby5wYXJzZVhNTD1mdW5jdGlvbihhKXt2YXIgYixjO2lmKCFhfHxcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gbnVsbDt0cnl7Yz1uZXcgRE9NUGFyc2VyLGI9Yy5wYXJzZUZyb21TdHJpbmcoYSxcInRleHQveG1sXCIpfWNhdGNoKGQpe2I9dm9pZCAwfXJldHVybighYnx8Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aCkmJm8uZXJyb3IoXCJJbnZhbGlkIFhNTDogXCIrYSksYn07dmFyIGVjLGZjLGdjPS8jLiokLyxoYz0vKFs/Jl0pXz1bXiZdKi8saWM9L14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9nbSxqYz0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxrYz0vXig/OkdFVHxIRUFEKSQvLGxjPS9eXFwvXFwvLyxtYz0vXihbXFx3ListXSs6KSg/OlxcL1xcLyg/OlteXFwvPyNdKkB8KShbXlxcLz8jOl0qKSg/OjooXFxkKyl8KXwpLyxuYz17fSxvYz17fSxwYz1cIiovXCIuY29uY2F0KFwiKlwiKTt0cnl7ZmM9bG9jYXRpb24uaHJlZn1jYXRjaChxYyl7ZmM9bS5jcmVhdGVFbGVtZW50KFwiYVwiKSxmYy5ocmVmPVwiXCIsZmM9ZmMuaHJlZn1lYz1tYy5leGVjKGZjLnRvTG93ZXJDYXNlKCkpfHxbXTtmdW5jdGlvbiByYyhhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtcInN0cmluZ1wiIT10eXBlb2YgYiYmKGM9YixiPVwiKlwiKTt2YXIgZCxlPTAsZj1iLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFtdO2lmKG8uaXNGdW5jdGlvbihjKSl3aGlsZShkPWZbZSsrXSlcIitcIj09PWRbMF0/KGQ9ZC5zbGljZSgxKXx8XCIqXCIsKGFbZF09YVtkXXx8W10pLnVuc2hpZnQoYykpOihhW2RdPWFbZF18fFtdKS5wdXNoKGMpfX1mdW5jdGlvbiBzYyhhLGIsYyxkKXt2YXIgZT17fSxmPWE9PT1vYztmdW5jdGlvbiBnKGgpe3ZhciBpO3JldHVybiBlW2hdPSEwLG8uZWFjaChhW2hdfHxbXSxmdW5jdGlvbihhLGgpe3ZhciBqPWgoYixjLGQpO3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBqfHxmfHxlW2pdP2Y/IShpPWopOnZvaWQgMDooYi5kYXRhVHlwZXMudW5zaGlmdChqKSxnKGopLCExKX0pLGl9cmV0dXJuIGcoYi5kYXRhVHlwZXNbMF0pfHwhZVtcIipcIl0mJmcoXCIqXCIpfWZ1bmN0aW9uIHRjKGEsYil7dmFyIGMsZCxlPW8uYWpheFNldHRpbmdzLmZsYXRPcHRpb25zfHx7fTtmb3IoYyBpbiBiKXZvaWQgMCE9PWJbY10mJigoZVtjXT9hOmR8fChkPXt9KSlbY109YltjXSk7cmV0dXJuIGQmJm8uZXh0ZW5kKCEwLGEsZCksYX1mdW5jdGlvbiB1YyhhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLmNvbnRlbnRzLGk9YS5kYXRhVHlwZXM7d2hpbGUoXCIqXCI9PT1pWzBdKWkuc2hpZnQoKSx2b2lkIDA9PT1kJiYoZD1hLm1pbWVUeXBlfHxiLmdldFJlc3BvbnNlSGVhZGVyKFwiQ29udGVudC1UeXBlXCIpKTtpZihkKWZvcihlIGluIGgpaWYoaFtlXSYmaFtlXS50ZXN0KGQpKXtpLnVuc2hpZnQoZSk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGUgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tlK1wiIFwiK2lbMF1dKXtmPWU7YnJlYWt9Z3x8KGc9ZSl9Zj1mfHxnfXJldHVybiBmPyhmIT09aVswXSYmaS51bnNoaWZ0KGYpLGNbZl0pOnZvaWQgMH1mdW5jdGlvbiB2YyhhLGIsYyxkKXt2YXIgZSxmLGcsaCxpLGo9e30saz1hLmRhdGFUeXBlcy5zbGljZSgpO2lmKGtbMV0pZm9yKGcgaW4gYS5jb252ZXJ0ZXJzKWpbZy50b0xvd2VyQ2FzZSgpXT1hLmNvbnZlcnRlcnNbZ107Zj1rLnNoaWZ0KCk7d2hpbGUoZilpZihhLnJlc3BvbnNlRmllbGRzW2ZdJiYoY1thLnJlc3BvbnNlRmllbGRzW2ZdXT1iKSwhaSYmZCYmYS5kYXRhRmlsdGVyJiYoYj1hLmRhdGFGaWx0ZXIoYixhLmRhdGFUeXBlKSksaT1mLGY9ay5zaGlmdCgpKWlmKFwiKlwiPT09ZilmPWk7ZWxzZSBpZihcIipcIiE9PWkmJmkhPT1mKXtpZihnPWpbaStcIiBcIitmXXx8altcIiogXCIrZl0sIWcpZm9yKGUgaW4gailpZihoPWUuc3BsaXQoXCIgXCIpLGhbMV09PT1mJiYoZz1qW2krXCIgXCIraFswXV18fGpbXCIqIFwiK2hbMF1dKSl7Zz09PSEwP2c9altlXTpqW2VdIT09ITAmJihmPWhbMF0say51bnNoaWZ0KGhbMV0pKTticmVha31pZihnIT09ITApaWYoZyYmYVtcInRocm93c1wiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZTpcInBhcnNlcmVycm9yXCIsZXJyb3I6Zz9sOlwiTm8gY29udmVyc2lvbiBmcm9tIFwiK2krXCIgdG8gXCIrZn19fXJldHVybntzdGF0ZTpcInN1Y2Nlc3NcIixkYXRhOmJ9fW8uZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpmYyx0eXBlOlwiR0VUXCIsaXNMb2NhbDpqYy50ZXN0KGVjWzFdKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLThcIixhY2NlcHRzOntcIipcIjpwYyx0ZXh0OlwidGV4dC9wbGFpblwiLGh0bWw6XCJ0ZXh0L2h0bWxcIix4bWw6XCJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sXCIsanNvbjpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFwifSxjb250ZW50czp7eG1sOi94bWwvLGh0bWw6L2h0bWwvLGpzb246L2pzb24vfSxyZXNwb25zZUZpZWxkczp7eG1sOlwicmVzcG9uc2VYTUxcIix0ZXh0OlwicmVzcG9uc2VUZXh0XCIsanNvbjpcInJlc3BvbnNlSlNPTlwifSxjb252ZXJ0ZXJzOntcIiogdGV4dFwiOlN0cmluZyxcInRleHQgaHRtbFwiOiEwLFwidGV4dCBqc29uXCI6by5wYXJzZUpTT04sXCJ0ZXh0IHhtbFwiOm8ucGFyc2VYTUx9LGZsYXRPcHRpb25zOnt1cmw6ITAsY29udGV4dDohMH19LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe3JldHVybiBiP3RjKHRjKGEsby5hamF4U2V0dGluZ3MpLGIpOnRjKG8uYWpheFNldHRpbmdzLGEpfSxhamF4UHJlZmlsdGVyOnJjKG5jKSxhamF4VHJhbnNwb3J0OnJjKG9jKSxhamF4OmZ1bmN0aW9uKGEsYil7XCJvYmplY3RcIj09dHlwZW9mIGEmJihiPWEsYT12b2lkIDApLGI9Ynx8e307dmFyIGMsZCxlLGYsZyxoLGksaixrPW8uYWpheFNldHVwKHt9LGIpLGw9ay5jb250ZXh0fHxrLG09ay5jb250ZXh0JiYobC5ub2RlVHlwZXx8bC5qcXVlcnkpP28obCk6by5ldmVudCxuPW8uRGVmZXJyZWQoKSxwPW8uQ2FsbGJhY2tzKFwib25jZSBtZW1vcnlcIikscT1rLnN0YXR1c0NvZGV8fHt9LHI9e30scz17fSx0PTAsdT1cImNhbmNlbGVkXCIsdj17cmVhZHlTdGF0ZTowLGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKDI9PT10KXtpZighZil7Zj17fTt3aGlsZShiPWljLmV4ZWMoZSkpZltiWzFdLnRvTG93ZXJDYXNlKCldPWJbMl19Yj1mW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIG51bGw9PWI/bnVsbDpifSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gMj09PXQ/ZTpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO3JldHVybiB0fHwoYT1zW2NdPXNbY118fGEsclthXT1iKSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiB0fHwoay5taW1lVHlwZT1hKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEpaWYoMj50KWZvcihiIGluIGEpcVtiXT1bcVtiXSxhW2JdXTtlbHNlIHYuYWx3YXlzKGFbdi5zdGF0dXNdKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9YXx8dTtyZXR1cm4gYyYmYy5hYm9ydChiKSx4KDAsYiksdGhpc319O2lmKG4ucHJvbWlzZSh2KS5jb21wbGV0ZT1wLmFkZCx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLGsudXJsPSgoYXx8ay51cmx8fGZjKStcIlwiKS5yZXBsYWNlKGdjLFwiXCIpLnJlcGxhY2UobGMsZWNbMV0rXCIvL1wiKSxrLnR5cGU9Yi5tZXRob2R8fGIudHlwZXx8ay5tZXRob2R8fGsudHlwZSxrLmRhdGFUeXBlcz1vLnRyaW0oay5kYXRhVHlwZXx8XCIqXCIpLnRvTG93ZXJDYXNlKCkubWF0Y2goRSl8fFtcIlwiXSxudWxsPT1rLmNyb3NzRG9tYWluJiYoaD1tYy5leGVjKGsudXJsLnRvTG93ZXJDYXNlKCkpLGsuY3Jvc3NEb21haW49ISghaHx8aFsxXT09PWVjWzFdJiZoWzJdPT09ZWNbMl0mJihoWzNdfHwoXCJodHRwOlwiPT09aFsxXT9cIjgwXCI6XCI0NDNcIikpPT09KGVjWzNdfHwoXCJodHRwOlwiPT09ZWNbMV0/XCI4MFwiOlwiNDQzXCIpKSkpLGsuZGF0YSYmay5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIGsuZGF0YSYmKGsuZGF0YT1vLnBhcmFtKGsuZGF0YSxrLnRyYWRpdGlvbmFsKSksc2MobmMsayxiLHYpLDI9PT10KXJldHVybiB2O2k9ay5nbG9iYWwsaSYmMD09PW8uYWN0aXZlKysmJm8uZXZlbnQudHJpZ2dlcihcImFqYXhTdGFydFwiKSxrLnR5cGU9ay50eXBlLnRvVXBwZXJDYXNlKCksay5oYXNDb250ZW50PSFrYy50ZXN0KGsudHlwZSksZD1rLnVybCxrLmhhc0NvbnRlbnR8fChrLmRhdGEmJihkPWsudXJsKz0oZGMudGVzdChkKT9cIiZcIjpcIj9cIikray5kYXRhLGRlbGV0ZSBrLmRhdGEpLGsuY2FjaGU9PT0hMSYmKGsudXJsPWhjLnRlc3QoZCk/ZC5yZXBsYWNlKGhjLFwiJDFfPVwiK2NjKyspOmQrKGRjLnRlc3QoZCk/XCImXCI6XCI/XCIpK1wiXz1cIitjYysrKSksay5pZk1vZGlmaWVkJiYoby5sYXN0TW9kaWZpZWRbZF0mJnYuc2V0UmVxdWVzdEhlYWRlcihcIklmLU1vZGlmaWVkLVNpbmNlXCIsby5sYXN0TW9kaWZpZWRbZF0pLG8uZXRhZ1tkXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKFwiSWYtTm9uZS1NYXRjaFwiLG8uZXRhZ1tkXSkpLChrLmRhdGEmJmsuaGFzQ29udGVudCYmay5jb250ZW50VHlwZSE9PSExfHxiLmNvbnRlbnRUeXBlKSYmdi5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsay5jb250ZW50VHlwZSksdi5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsay5kYXRhVHlwZXNbMF0mJmsuYWNjZXB0c1trLmRhdGFUeXBlc1swXV0/ay5hY2NlcHRzW2suZGF0YVR5cGVzWzBdXSsoXCIqXCIhPT1rLmRhdGFUeXBlc1swXT9cIiwgXCIrcGMrXCI7IHE9MC4wMVwiOlwiXCIpOmsuYWNjZXB0c1tcIipcIl0pO2ZvcihqIGluIGsuaGVhZGVycyl2LnNldFJlcXVlc3RIZWFkZXIoaixrLmhlYWRlcnNbal0pO2lmKGsuYmVmb3JlU2VuZCYmKGsuYmVmb3JlU2VuZC5jYWxsKGwsdixrKT09PSExfHwyPT09dCkpcmV0dXJuIHYuYWJvcnQoKTt1PVwiYWJvcnRcIjtmb3IoaiBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl2W2pdKGtbal0pO2lmKGM9c2Mob2MsayxiLHYpKXt2LnJlYWR5U3RhdGU9MSxpJiZtLnRyaWdnZXIoXCJhamF4U2VuZFwiLFt2LGtdKSxrLmFzeW5jJiZrLnRpbWVvdXQ+MCYmKGc9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoXCJ0aW1lb3V0XCIpfSxrLnRpbWVvdXQpKTt0cnl7dD0xLGMuc2VuZChyLHgpfWNhdGNoKHcpe2lmKCEoMj50KSl0aHJvdyB3O3goLTEsdyl9fWVsc2UgeCgtMSxcIk5vIFRyYW5zcG9ydFwiKTtmdW5jdGlvbiB4KGEsYixmLGgpe3ZhciBqLHIscyx1LHcseD1iOzIhPT10JiYodD0yLGcmJmNsZWFyVGltZW91dChnKSxjPXZvaWQgMCxlPWh8fFwiXCIsdi5yZWFkeVN0YXRlPWE+MD80OjAsaj1hPj0yMDAmJjMwMD5hfHwzMDQ9PT1hLGYmJih1PXVjKGssdixmKSksdT12YyhrLHUsdixqKSxqPyhrLmlmTW9kaWZpZWQmJih3PXYuZ2V0UmVzcG9uc2VIZWFkZXIoXCJMYXN0LU1vZGlmaWVkXCIpLHcmJihvLmxhc3RNb2RpZmllZFtkXT13KSx3PXYuZ2V0UmVzcG9uc2VIZWFkZXIoXCJldGFnXCIpLHcmJihvLmV0YWdbZF09dykpLDIwND09PWF8fFwiSEVBRFwiPT09ay50eXBlP3g9XCJub2NvbnRlbnRcIjozMDQ9PT1hP3g9XCJub3Rtb2RpZmllZFwiOih4PXUuc3RhdGUscj11LmRhdGEscz11LmVycm9yLGo9IXMpKToocz14LChhfHwheCkmJih4PVwiZXJyb3JcIiwwPmEmJihhPTApKSksdi5zdGF0dXM9YSx2LnN0YXR1c1RleHQ9KGJ8fHgpK1wiXCIsaj9uLnJlc29sdmVXaXRoKGwsW3IseCx2XSk6bi5yZWplY3RXaXRoKGwsW3YseCxzXSksdi5zdGF0dXNDb2RlKHEpLHE9dm9pZCAwLGkmJm0udHJpZ2dlcihqP1wiYWpheFN1Y2Nlc3NcIjpcImFqYXhFcnJvclwiLFt2LGssaj9yOnNdKSxwLmZpcmVXaXRoKGwsW3YseF0pLGkmJihtLnRyaWdnZXIoXCJhamF4Q29tcGxldGVcIixbdixrXSksLS1vLmFjdGl2ZXx8by5ldmVudC50cmlnZ2VyKFwiYWpheFN0b3BcIikpKX1yZXR1cm4gdn0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG8uZ2V0KGEsYixjLFwianNvblwiKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG8uZ2V0KGEsdm9pZCAwLGIsXCJzY3JpcHRcIil9fSksby5lYWNoKFtcImdldFwiLFwicG9zdFwiXSxmdW5jdGlvbihhLGIpe29bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG8uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG8uYWpheCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0pfX0pLG8uZWFjaChbXCJhamF4U3RhcnRcIixcImFqYXhTdG9wXCIsXCJhamF4Q29tcGxldGVcIixcImFqYXhFcnJvclwiLFwiYWpheFN1Y2Nlc3NcIixcImFqYXhTZW5kXCJdLGZ1bmN0aW9uKGEsYil7by5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vbihiLGEpfX0pLG8uX2V2YWxVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIG8uYWpheCh7dXJsOmEsdHlwZTpcIkdFVFwiLGRhdGFUeXBlOlwic2NyaXB0XCIsYXN5bmM6ITEsZ2xvYmFsOiExLFwidGhyb3dzXCI6ITB9KX0sby5mbi5leHRlbmQoe3dyYXBBbGw6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG8uaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7byh0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pOih0aGlzWzBdJiYoYj1vKGEsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKSxiLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXM7d2hpbGUoYS5maXJzdEVsZW1lbnRDaGlsZClhPWEuZmlyc3RFbGVtZW50Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcykpLHRoaXMpfSx3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChvLmlzRnVuY3Rpb24oYSk/ZnVuY3Rpb24oYil7byh0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfTpmdW5jdGlvbigpe3ZhciBiPW8odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9by5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7byh0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe28ubm9kZU5hbWUodGhpcyxcImJvZHlcIil8fG8odGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfX0pLG8uZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXtyZXR1cm4gYS5vZmZzZXRXaWR0aDw9MCYmYS5vZmZzZXRIZWlnaHQ8PTB9LG8uZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIW8uZXhwci5maWx0ZXJzLmhpZGRlbihhKX07dmFyIHdjPS8lMjAvZyx4Yz0vXFxbXFxdJC8seWM9L1xccj9cXG4vZyx6Yz0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksQWM9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2Z1bmN0aW9uIEJjKGEsYixjLGQpe3ZhciBlO2lmKG8uaXNBcnJheShiKSlvLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fHhjLnRlc3QoYSk/ZChhLGUpOkJjKGErXCJbXCIrKFwib2JqZWN0XCI9PXR5cGVvZiBlP2I6XCJcIikrXCJdXCIsZSxjLGQpfSk7ZWxzZSBpZihjfHxcIm9iamVjdFwiIT09by50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpQmMoYStcIltcIitlK1wiXVwiLGJbZV0sYyxkKX1vLnBhcmFtPWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPWZ1bmN0aW9uKGEsYil7Yj1vLmlzRnVuY3Rpb24oYik/YigpOm51bGw9PWI/XCJcIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoYil9O2lmKHZvaWQgMD09PWImJihiPW8uYWpheFNldHRpbmdzJiZvLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCksby5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIW8uaXNQbGFpbk9iamVjdChhKSlvLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IoYyBpbiBhKUJjKGMsYVtjXSxiLGUpO3JldHVybiBkLmpvaW4oXCImXCIpLnJlcGxhY2Uod2MsXCIrXCIpfSxvLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG8ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1vLnByb3AodGhpcyxcImVsZW1lbnRzXCIpO3JldHVybiBhP28ubWFrZUFycmF5KGEpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgYT10aGlzLnR5cGU7cmV0dXJuIHRoaXMubmFtZSYmIW8odGhpcykuaXMoXCI6ZGlzYWJsZWRcIikmJkFjLnRlc3QodGhpcy5ub2RlTmFtZSkmJiF6Yy50ZXN0KGEpJiYodGhpcy5jaGVja2VkfHwhVC50ZXN0KGEpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPW8odGhpcykudmFsKCk7cmV0dXJuIG51bGw9PWM/bnVsbDpvLmlzQXJyYXkoYyk/by5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKHljLFwiXFxyXFxuXCIpfX0pOntuYW1lOmIubmFtZSx2YWx1ZTpjLnJlcGxhY2UoeWMsXCJcXHJcXG5cIil9fSkuZ2V0KCl9fSksby5hamF4U2V0dGluZ3MueGhyPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYSl7fX07dmFyIENjPTAsRGM9e30sRWM9ezA6MjAwLDEyMjM6MjA0fSxGYz1vLmFqYXhTZXR0aW5ncy54aHIoKTthLkFjdGl2ZVhPYmplY3QmJm8oYSkub24oXCJ1bmxvYWRcIixmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBEYylEY1thXSgpfSksbC5jb3JzPSEhRmMmJlwid2l0aENyZWRlbnRpYWxzXCJpbiBGYyxsLmFqYXg9RmM9ISFGYyxvLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIGwuY29yc3x8RmMmJiFhLmNyb3NzRG9tYWluP3tzZW5kOmZ1bmN0aW9uKGMsZCl7dmFyIGUsZj1hLnhocigpLGc9KytDYztpZihmLm9wZW4oYS50eXBlLGEudXJsLGEuYXN5bmMsYS51c2VybmFtZSxhLnBhc3N3b3JkKSxhLnhockZpZWxkcylmb3IoZSBpbiBhLnhockZpZWxkcylmW2VdPWEueGhyRmllbGRzW2VdO2EubWltZVR5cGUmJmYub3ZlcnJpZGVNaW1lVHlwZSYmZi5vdmVycmlkZU1pbWVUeXBlKGEubWltZVR5cGUpLGEuY3Jvc3NEb21haW58fGNbXCJYLVJlcXVlc3RlZC1XaXRoXCJdfHwoY1tcIlgtUmVxdWVzdGVkLVdpdGhcIl09XCJYTUxIdHRwUmVxdWVzdFwiKTtmb3IoZSBpbiBjKWYuc2V0UmVxdWVzdEhlYWRlcihlLGNbZV0pO2I9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YiYmKGRlbGV0ZSBEY1tnXSxiPWYub25sb2FkPWYub25lcnJvcj1udWxsLFwiYWJvcnRcIj09PWE/Zi5hYm9ydCgpOlwiZXJyb3JcIj09PWE/ZChmLnN0YXR1cyxmLnN0YXR1c1RleHQpOmQoRWNbZi5zdGF0dXNdfHxmLnN0YXR1cyxmLnN0YXR1c1RleHQsXCJzdHJpbmdcIj09dHlwZW9mIGYucmVzcG9uc2VUZXh0P3t0ZXh0OmYucmVzcG9uc2VUZXh0fTp2b2lkIDAsZi5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkpfX0sZi5vbmxvYWQ9YigpLGYub25lcnJvcj1iKFwiZXJyb3JcIiksYj1EY1tnXT1iKFwiYWJvcnRcIiksZi5zZW5kKGEuaGFzQ29udGVudCYmYS5kYXRhfHxudWxsKX0sYWJvcnQ6ZnVuY3Rpb24oKXtiJiZiKCl9fTp2b2lkIDB9KSxvLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OlwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcIn0sY29udGVudHM6e3NjcmlwdDovKD86amF2YXxlY21hKXNjcmlwdC99LGNvbnZlcnRlcnM6e1widGV4dCBzY3JpcHRcIjpmdW5jdGlvbihhKXtyZXR1cm4gby5nbG9iYWxFdmFsKGEpLGF9fX0pLG8uYWpheFByZWZpbHRlcihcInNjcmlwdFwiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPVwiR0VUXCIpfSksby5hamF4VHJhbnNwb3J0KFwic2NyaXB0XCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGIsYztyZXR1cm57c2VuZDpmdW5jdGlvbihkLGUpe2I9byhcIjxzY3JpcHQ+XCIpLnByb3Aoe2FzeW5jOiEwLGNoYXJzZXQ6YS5zY3JpcHRDaGFyc2V0LHNyYzphLnVybH0pLm9uKFwibG9hZCBlcnJvclwiLGM9ZnVuY3Rpb24oYSl7Yi5yZW1vdmUoKSxjPW51bGwsYSYmZShcImVycm9yXCI9PT1hLnR5cGU/NDA0OjIwMCxhLnR5cGUpfSksbS5oZWFkLmFwcGVuZENoaWxkKGJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe2MmJmMoKX19fX0pO3ZhciBHYz1bXSxIYz0vKD0pXFw/KD89JnwkKXxcXD9cXD8vO28uYWpheFNldHVwKHtqc29ucDpcImNhbGxiYWNrXCIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBhPUdjLnBvcCgpfHxvLmV4cGFuZG8rXCJfXCIrY2MrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG8uYWpheFByZWZpbHRlcihcImpzb24ganNvbnBcIixmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGg9Yi5qc29ucCE9PSExJiYoSGMudGVzdChiLnVybCk/XCJ1cmxcIjpcInN0cmluZ1wiPT10eXBlb2YgYi5kYXRhJiYhKGIuY29udGVudFR5cGV8fFwiXCIpLmluZGV4T2YoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIikmJkhjLnRlc3QoYi5kYXRhKSYmXCJkYXRhXCIpO3JldHVybiBofHxcImpzb25wXCI9PT1iLmRhdGFUeXBlc1swXT8oZT1iLmpzb25wQ2FsbGJhY2s9by5pc0Z1bmN0aW9uKGIuanNvbnBDYWxsYmFjayk/Yi5qc29ucENhbGxiYWNrKCk6Yi5qc29ucENhbGxiYWNrLGg/YltoXT1iW2hdLnJlcGxhY2UoSGMsXCIkMVwiK2UpOmIuanNvbnAhPT0hMSYmKGIudXJsKz0oZGMudGVzdChiLnVybCk/XCImXCI6XCI/XCIpK2IuanNvbnArXCI9XCIrZSksYi5jb252ZXJ0ZXJzW1wic2NyaXB0IGpzb25cIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8by5lcnJvcihlK1wiIHdhcyBub3QgY2FsbGVkXCIpLGdbMF19LGIuZGF0YVR5cGVzWzBdPVwianNvblwiLGY9YVtlXSxhW2VdPWZ1bmN0aW9uKCl7Zz1hcmd1bWVudHN9LGQuYWx3YXlzKGZ1bmN0aW9uKCl7YVtlXT1mLGJbZV0mJihiLmpzb25wQ2FsbGJhY2s9Yy5qc29ucENhbGxiYWNrLEdjLnB1c2goZSkpLGcmJm8uaXNGdW5jdGlvbihmKSYmZihnWzBdKSxnPWY9dm9pZCAwfSksXCJzY3JpcHRcIik6dm9pZCAwfSksby5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHxcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gbnVsbDtcImJvb2xlYW5cIj09dHlwZW9mIGImJihjPWIsYj0hMSksYj1ifHxtO3ZhciBkPXYuZXhlYyhhKSxlPSFjJiZbXTtyZXR1cm4gZD9bYi5jcmVhdGVFbGVtZW50KGRbMV0pXTooZD1vLmJ1aWxkRnJhZ21lbnQoW2FdLGIsZSksZSYmZS5sZW5ndGgmJm8oZSkucmVtb3ZlKCksby5tZXJnZShbXSxkLmNoaWxkTm9kZXMpKX07dmFyIEljPW8uZm4ubG9hZDtvLmZuLmxvYWQ9ZnVuY3Rpb24oYSxiLGMpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhJiZJYylyZXR1cm4gSWMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBkLGUsZixnPXRoaXMsaD1hLmluZGV4T2YoXCIgXCIpO3JldHVybiBoPj0wJiYoZD1hLnNsaWNlKGgpLGE9YS5zbGljZSgwLGgpKSxvLmlzRnVuY3Rpb24oYik/KGM9YixiPXZvaWQgMCk6YiYmXCJvYmplY3RcIj09dHlwZW9mIGImJihlPVwiUE9TVFwiKSxnLmxlbmd0aD4wJiZvLmFqYXgoe3VybDphLHR5cGU6ZSxkYXRhVHlwZTpcImh0bWxcIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP28oXCI8ZGl2PlwiKS5hcHBlbmQoby5wYXJzZUhUTUwoYSkpLmZpbmQoZCk6YSl9KS5jb21wbGV0ZShjJiZmdW5jdGlvbihhLGIpe2cuZWFjaChjLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pLHRoaXN9LG8uZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBvLmdyZXAoby50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9O3ZhciBKYz1hLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtmdW5jdGlvbiBLYyhhKXtyZXR1cm4gby5pc1dpbmRvdyhhKT9hOjk9PT1hLm5vZGVUeXBlJiZhLmRlZmF1bHRWaWV3fW8ub2Zmc2V0PXtzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs9by5jc3MoYSxcInBvc2l0aW9uXCIpLGw9byhhKSxtPXt9O1wic3RhdGljXCI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj1cInJlbGF0aXZlXCIpLGg9bC5vZmZzZXQoKSxmPW8uY3NzKGEsXCJ0b3BcIiksaT1vLmNzcyhhLFwibGVmdFwiKSxqPShcImFic29sdXRlXCI9PT1rfHxcImZpeGVkXCI9PT1rKSYmKGYraSkuaW5kZXhPZihcImF1dG9cIik+LTEsaj8oZD1sLnBvc2l0aW9uKCksZz1kLnRvcCxlPWQubGVmdCk6KGc9cGFyc2VGbG9hdChmKXx8MCxlPXBhcnNlRmxvYXQoaSl8fDApLG8uaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxoKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSxcInVzaW5nXCJpbiBiP2IudXNpbmcuY2FsbChhLG0pOmwuY3NzKG0pfX0sby5mbi5leHRlbmQoe29mZnNldDpmdW5jdGlvbihhKXtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiB2b2lkIDA9PT1hP3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe28ub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTt2YXIgYixjLGQ9dGhpc1swXSxlPXt0b3A6MCxsZWZ0OjB9LGY9ZCYmZC5vd25lckRvY3VtZW50O2lmKGYpcmV0dXJuIGI9Zi5kb2N1bWVudEVsZW1lbnQsby5jb250YWlucyhiLGQpPyh0eXBlb2YgZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QhPT1VJiYoZT1kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKSxjPUtjKGYpLHt0b3A6ZS50b3ArYy5wYWdlWU9mZnNldC1iLmNsaWVudFRvcCxsZWZ0OmUubGVmdCtjLnBhZ2VYT2Zmc2V0LWIuY2xpZW50TGVmdH0pOmV9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXRoaXNbMF0sZD17dG9wOjAsbGVmdDowfTtyZXR1cm5cImZpeGVkXCI9PT1vLmNzcyhjLFwicG9zaXRpb25cIik/Yj1jLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOihhPXRoaXMub2Zmc2V0UGFyZW50KCksYj10aGlzLm9mZnNldCgpLG8ubm9kZU5hbWUoYVswXSxcImh0bWxcIil8fChkPWEub2Zmc2V0KCkpLGQudG9wKz1vLmNzcyhhWzBdLFwiYm9yZGVyVG9wV2lkdGhcIiwhMCksZC5sZWZ0Kz1vLmNzcyhhWzBdLFwiYm9yZGVyTGVmdFdpZHRoXCIsITApKSx7dG9wOmIudG9wLWQudG9wLW8uY3NzKGMsXCJtYXJnaW5Ub3BcIiwhMCksbGVmdDpiLmxlZnQtZC5sZWZ0LW8uY3NzKGMsXCJtYXJnaW5MZWZ0XCIsITApfX19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50fHxKYzt3aGlsZShhJiYhby5ub2RlTmFtZShhLFwiaHRtbFwiKSYmXCJzdGF0aWNcIj09PW8uY3NzKGEsXCJwb3NpdGlvblwiKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxKY30pfX0pLG8uZWFjaCh7c2Nyb2xsTGVmdDpcInBhZ2VYT2Zmc2V0XCIsc2Nyb2xsVG9wOlwicGFnZVlPZmZzZXRcIn0sZnVuY3Rpb24oYixjKXt2YXIgZD1cInBhZ2VZT2Zmc2V0XCI9PT1jO28uZm5bYl09ZnVuY3Rpb24oZSl7cmV0dXJuIEoodGhpcyxmdW5jdGlvbihiLGUsZil7dmFyIGc9S2MoYik7cmV0dXJuIHZvaWQgMD09PWY/Zz9nW2NdOmJbZV06dm9pZChnP2cuc2Nyb2xsVG8oZD9hLnBhZ2VYT2Zmc2V0OmYsZD9mOmEucGFnZVlPZmZzZXQpOmJbZV09Zil9LGIsZSxhcmd1bWVudHMubGVuZ3RoLG51bGwpfX0pLG8uZWFjaChbXCJ0b3BcIixcImxlZnRcIl0sZnVuY3Rpb24oYSxiKXtvLmNzc0hvb2tzW2JdPXliKGwucGl4ZWxQb3NpdGlvbixmdW5jdGlvbihhLGMpe3JldHVybiBjPyhjPXhiKGEsYiksdmIudGVzdChjKT9vKGEpLnBvc2l0aW9uKClbYl0rXCJweFwiOmMpOnZvaWQgMH0pfSksby5lYWNoKHtIZWlnaHQ6XCJoZWlnaHRcIixXaWR0aDpcIndpZHRoXCJ9LGZ1bmN0aW9uKGEsYil7by5lYWNoKHtwYWRkaW5nOlwiaW5uZXJcIithLGNvbnRlbnQ6YixcIlwiOlwib3V0ZXJcIithfSxmdW5jdGlvbihjLGQpe28uZm5bZF09ZnVuY3Rpb24oZCxlKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoJiYoY3x8XCJib29sZWFuXCIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD9cIm1hcmdpblwiOlwiYm9yZGVyXCIpO3JldHVybiBKKHRoaXMsZnVuY3Rpb24oYixjLGQpe3ZhciBlO3JldHVybiBvLmlzV2luZG93KGIpP2IuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W1wiY2xpZW50XCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5W1wic2Nyb2xsXCIrYV0sZVtcInNjcm9sbFwiK2FdLGIuYm9keVtcIm9mZnNldFwiK2FdLGVbXCJvZmZzZXRcIithXSxlW1wiY2xpZW50XCIrYV0pKTp2b2lkIDA9PT1kP28uY3NzKGIsYyxnKTpvLnN0eWxlKGIsYyxkLGcpfSxiLGY/ZDp2b2lkIDAsZixudWxsKX19KX0pLG8uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sby5mbi5hbmRTZWxmPW8uZm4uYWRkQmFjayxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcImpxdWVyeVwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIG99KTt2YXIgTGM9YS5qUXVlcnksTWM9YS4kO3JldHVybiBvLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGEuJD09PW8mJihhLiQ9TWMpLGImJmEualF1ZXJ5PT09byYmKGEualF1ZXJ5PUxjKSxvfSx0eXBlb2YgYj09PVUmJihhLmpRdWVyeT1hLiQ9byksb30pO1xuIiwiLyohIGpRdWVyeSBNaWdyYXRlIHYxLjIuMSB8IChjKSAyMDA1LCAyMDEzIGpRdWVyeSBGb3VuZGF0aW9uLCBJbmMuIGFuZCBvdGhlciBjb250cmlidXRvcnMgfCBqcXVlcnkub3JnL2xpY2Vuc2UgKi9cbmpRdWVyeS5taWdyYXRlTXV0ZT09PXZvaWQgMCYmKGpRdWVyeS5taWdyYXRlTXV0ZT0hMCksZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIobil7dmFyIHI9dC5jb25zb2xlO2lbbl18fChpW25dPSEwLGUubWlncmF0ZVdhcm5pbmdzLnB1c2gobiksciYmci53YXJuJiYhZS5taWdyYXRlTXV0ZSYmKHIud2FybihcIkpRTUlHUkFURTogXCIrbiksZS5taWdyYXRlVHJhY2UmJnIudHJhY2UmJnIudHJhY2UoKSkpfWZ1bmN0aW9uIGEodCxhLGksbyl7aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KXRyeXtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsYSx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIobyksaX0sc2V0OmZ1bmN0aW9uKGUpe3IobyksaT1lfX0pLG59Y2F0Y2gocyl7fWUuX2RlZmluZVByb3BlcnR5QnJva2VuPSEwLHRbYV09aX12YXIgaT17fTtlLm1pZ3JhdGVXYXJuaW5ncz1bXSwhZS5taWdyYXRlTXV0ZSYmdC5jb25zb2xlJiZ0LmNvbnNvbGUubG9nJiZ0LmNvbnNvbGUubG9nKFwiSlFNSUdSQVRFOiBMb2dnaW5nIGlzIGFjdGl2ZVwiKSxlLm1pZ3JhdGVUcmFjZT09PW4mJihlLm1pZ3JhdGVUcmFjZT0hMCksZS5taWdyYXRlUmVzZXQ9ZnVuY3Rpb24oKXtpPXt9LGUubWlncmF0ZVdhcm5pbmdzLmxlbmd0aD0wfSxcIkJhY2tDb21wYXRcIj09PWRvY3VtZW50LmNvbXBhdE1vZGUmJnIoXCJqUXVlcnkgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBRdWlya3MgTW9kZVwiKTt2YXIgbz1lKFwiPGlucHV0Lz5cIix7c2l6ZToxfSkuYXR0cihcInNpemVcIikmJmUuYXR0ckZuLHM9ZS5hdHRyLHU9ZS5hdHRySG9va3MudmFsdWUmJmUuYXR0ckhvb2tzLnZhbHVlLmdldHx8ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sYz1lLmF0dHJIb29rcy52YWx1ZSYmZS5hdHRySG9va3MudmFsdWUuc2V0fHxmdW5jdGlvbigpe3JldHVybiBufSxsPS9eKD86aW5wdXR8YnV0dG9uKSQvaSxkPS9eWzIzOF0kLyxwPS9eKD86YXV0b2ZvY3VzfGF1dG9wbGF5fGFzeW5jfGNoZWNrZWR8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWR8c2VsZWN0ZWQpJC9pLGY9L14oPzpjaGVja2VkfHNlbGVjdGVkKSQvaTthKGUsXCJhdHRyRm5cIixvfHx7fSxcImpRdWVyeS5hdHRyRm4gaXMgZGVwcmVjYXRlZFwiKSxlLmF0dHI9ZnVuY3Rpb24odCxhLGksdSl7dmFyIGM9YS50b0xvd2VyQ2FzZSgpLGc9dCYmdC5ub2RlVHlwZTtyZXR1cm4gdSYmKDQ+cy5sZW5ndGgmJnIoXCJqUXVlcnkuZm4uYXR0ciggcHJvcHMsIHBhc3MgKSBpcyBkZXByZWNhdGVkXCIpLHQmJiFkLnRlc3QoZykmJihvP2EgaW4gbzplLmlzRnVuY3Rpb24oZS5mblthXSkpKT9lKHQpW2FdKGkpOihcInR5cGVcIj09PWEmJmkhPT1uJiZsLnRlc3QodC5ub2RlTmFtZSkmJnQucGFyZW50Tm9kZSYmcihcIkNhbid0IGNoYW5nZSB0aGUgJ3R5cGUnIG9mIGFuIGlucHV0IG9yIGJ1dHRvbiBpbiBJRSA2LzcvOFwiKSwhZS5hdHRySG9va3NbY10mJnAudGVzdChjKSYmKGUuYXR0ckhvb2tzW2NdPXtnZXQ6ZnVuY3Rpb24odCxyKXt2YXIgYSxpPWUucHJvcCh0LHIpO3JldHVybiBpPT09ITB8fFwiYm9vbGVhblwiIT10eXBlb2YgaSYmKGE9dC5nZXRBdHRyaWJ1dGVOb2RlKHIpKSYmYS5ub2RlVmFsdWUhPT0hMT9yLnRvTG93ZXJDYXNlKCk6bn0sc2V0OmZ1bmN0aW9uKHQsbixyKXt2YXIgYTtyZXR1cm4gbj09PSExP2UucmVtb3ZlQXR0cih0LHIpOihhPWUucHJvcEZpeFtyXXx8cixhIGluIHQmJih0W2FdPSEwKSx0LnNldEF0dHJpYnV0ZShyLHIudG9Mb3dlckNhc2UoKSkpLHJ9fSxmLnRlc3QoYykmJnIoXCJqUXVlcnkuZm4uYXR0cignXCIrYytcIicpIG1heSB1c2UgcHJvcGVydHkgaW5zdGVhZCBvZiBhdHRyaWJ1dGVcIikpLHMuY2FsbChlLHQsYSxpKSl9LGUuYXR0ckhvb2tzLnZhbHVlPXtnZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj0oZS5ub2RlTmFtZXx8XCJcIikudG9Mb3dlckNhc2UoKTtyZXR1cm5cImJ1dHRvblwiPT09bj91LmFwcGx5KHRoaXMsYXJndW1lbnRzKTooXCJpbnB1dFwiIT09biYmXCJvcHRpb25cIiE9PW4mJnIoXCJqUXVlcnkuZm4uYXR0cigndmFsdWUnKSBubyBsb25nZXIgZ2V0cyBwcm9wZXJ0aWVzXCIpLHQgaW4gZT9lLnZhbHVlOm51bGwpfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgYT0oZS5ub2RlTmFtZXx8XCJcIikudG9Mb3dlckNhc2UoKTtyZXR1cm5cImJ1dHRvblwiPT09YT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTooXCJpbnB1dFwiIT09YSYmXCJvcHRpb25cIiE9PWEmJnIoXCJqUXVlcnkuZm4uYXR0cigndmFsdWUnLCB2YWwpIG5vIGxvbmdlciBzZXRzIHByb3BlcnRpZXNcIiksZS52YWx1ZT10LG4pfX07dmFyIGcsaCx2PWUuZm4uaW5pdCxtPWUucGFyc2VKU09OLHk9L14oW148XSopKDxbXFx3XFxXXSs+KShbXj5dKikkLztlLmZuLmluaXQ9ZnVuY3Rpb24odCxuLGEpe3ZhciBpO3JldHVybiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdCYmIWUuaXNQbGFpbk9iamVjdChuKSYmKGk9eS5leGVjKGUudHJpbSh0KSkpJiZpWzBdJiYoXCI8XCIhPT10LmNoYXJBdCgwKSYmcihcIiQoaHRtbCkgSFRNTCBzdHJpbmdzIG11c3Qgc3RhcnQgd2l0aCAnPCcgY2hhcmFjdGVyXCIpLGlbM10mJnIoXCIkKGh0bWwpIEhUTUwgdGV4dCBhZnRlciBsYXN0IHRhZyBpcyBpZ25vcmVkXCIpLFwiI1wiPT09aVswXS5jaGFyQXQoMCkmJihyKFwiSFRNTCBzdHJpbmcgY2Fubm90IHN0YXJ0IHdpdGggYSAnIycgY2hhcmFjdGVyXCIpLGUuZXJyb3IoXCJKUU1JR1JBVEU6IEludmFsaWQgc2VsZWN0b3Igc3RyaW5nIChYU1MpXCIpKSxuJiZuLmNvbnRleHQmJihuPW4uY29udGV4dCksZS5wYXJzZUhUTUwpP3YuY2FsbCh0aGlzLGUucGFyc2VIVE1MKGlbMl0sbiwhMCksbixhKTp2LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5mbi5pbml0LnByb3RvdHlwZT1lLmZuLGUucGFyc2VKU09OPWZ1bmN0aW9uKGUpe3JldHVybiBlfHxudWxsPT09ZT9tLmFwcGx5KHRoaXMsYXJndW1lbnRzKToocihcImpRdWVyeS5wYXJzZUpTT04gcmVxdWlyZXMgYSB2YWxpZCBKU09OIHN0cmluZ1wiKSxudWxsKX0sZS51YU1hdGNoPWZ1bmN0aW9uKGUpe2U9ZS50b0xvd2VyQ2FzZSgpO3ZhciB0PS8oY2hyb21lKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyhlKXx8Lyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspLy5leGVjKGUpfHwvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcXC9dKFtcXHcuXSspLy5leGVjKGUpfHwvKG1zaWUpIChbXFx3Ll0rKS8uZXhlYyhlKXx8MD5lLmluZGV4T2YoXCJjb21wYXRpYmxlXCIpJiYvKG1vemlsbGEpKD86Lio/IHJ2OihbXFx3Ll0rKXwpLy5leGVjKGUpfHxbXTtyZXR1cm57YnJvd3Nlcjp0WzFdfHxcIlwiLHZlcnNpb246dFsyXXx8XCIwXCJ9fSxlLmJyb3dzZXJ8fChnPWUudWFNYXRjaChuYXZpZ2F0b3IudXNlckFnZW50KSxoPXt9LGcuYnJvd3NlciYmKGhbZy5icm93c2VyXT0hMCxoLnZlcnNpb249Zy52ZXJzaW9uKSxoLmNocm9tZT9oLndlYmtpdD0hMDpoLndlYmtpdCYmKGguc2FmYXJpPSEwKSxlLmJyb3dzZXI9aCksYShlLFwiYnJvd3NlclwiLGUuYnJvd3NlcixcImpRdWVyeS5icm93c2VyIGlzIGRlcHJlY2F0ZWRcIiksZS5zdWI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUsbil7cmV0dXJuIG5ldyB0LmZuLmluaXQoZSxuKX1lLmV4dGVuZCghMCx0LHRoaXMpLHQuc3VwZXJjbGFzcz10aGlzLHQuZm49dC5wcm90b3R5cGU9dGhpcygpLHQuZm4uY29uc3RydWN0b3I9dCx0LnN1Yj10aGlzLnN1Yix0LmZuLmluaXQ9ZnVuY3Rpb24ocixhKXtyZXR1cm4gYSYmYSBpbnN0YW5jZW9mIGUmJiEoYSBpbnN0YW5jZW9mIHQpJiYoYT10KGEpKSxlLmZuLmluaXQuY2FsbCh0aGlzLHIsYSxuKX0sdC5mbi5pbml0LnByb3RvdHlwZT10LmZuO3ZhciBuPXQoZG9jdW1lbnQpO3JldHVybiByKFwialF1ZXJ5LnN1YigpIGlzIGRlcHJlY2F0ZWRcIiksdH0sZS5hamF4U2V0dXAoe2NvbnZlcnRlcnM6e1widGV4dCBqc29uXCI6ZS5wYXJzZUpTT059fSk7dmFyIGI9ZS5mbi5kYXRhO2UuZm4uZGF0YT1mdW5jdGlvbih0KXt2YXIgYSxpLG89dGhpc1swXTtyZXR1cm4hb3x8XCJldmVudHNcIiE9PXR8fDEhPT1hcmd1bWVudHMubGVuZ3RofHwoYT1lLmRhdGEobyx0KSxpPWUuX2RhdGEobyx0KSxhIT09biYmYSE9PWl8fGk9PT1uKT9iLmFwcGx5KHRoaXMsYXJndW1lbnRzKToocihcIlVzZSBvZiBqUXVlcnkuZm4uZGF0YSgnZXZlbnRzJykgaXMgZGVwcmVjYXRlZFwiKSxpKX07dmFyIGo9L1xcLyhqYXZhfGVjbWEpc2NyaXB0L2ksdz1lLmZuLmFuZFNlbGZ8fGUuZm4uYWRkQmFjaztlLmZuLmFuZFNlbGY9ZnVuY3Rpb24oKXtyZXR1cm4gcihcImpRdWVyeS5mbi5hbmRTZWxmKCkgcmVwbGFjZWQgYnkgalF1ZXJ5LmZuLmFkZEJhY2soKVwiKSx3LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5jbGVhbnx8KGUuY2xlYW49ZnVuY3Rpb24odCxhLGksbyl7YT1hfHxkb2N1bWVudCxhPSFhLm5vZGVUeXBlJiZhWzBdfHxhLGE9YS5vd25lckRvY3VtZW50fHxhLHIoXCJqUXVlcnkuY2xlYW4oKSBpcyBkZXByZWNhdGVkXCIpO3ZhciBzLHUsYyxsLGQ9W107aWYoZS5tZXJnZShkLGUuYnVpbGRGcmFnbWVudCh0LGEpLmNoaWxkTm9kZXMpLGkpZm9yKGM9ZnVuY3Rpb24oZSl7cmV0dXJuIWUudHlwZXx8ai50ZXN0KGUudHlwZSk/bz9vLnB1c2goZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTplKTppLmFwcGVuZENoaWxkKGUpOm59LHM9MDtudWxsIT0odT1kW3NdKTtzKyspZS5ub2RlTmFtZSh1LFwic2NyaXB0XCIpJiZjKHUpfHwoaS5hcHBlbmRDaGlsZCh1KSx1LmdldEVsZW1lbnRzQnlUYWdOYW1lIT09biYmKGw9ZS5ncmVwKGUubWVyZ2UoW10sdS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSksYyksZC5zcGxpY2UuYXBwbHkoZCxbcysxLDBdLmNvbmNhdChsKSkscys9bC5sZW5ndGgpKTtyZXR1cm4gZH0pO3ZhciBRPWUuZXZlbnQuYWRkLHg9ZS5ldmVudC5yZW1vdmUsaz1lLmV2ZW50LnRyaWdnZXIsTj1lLmZuLnRvZ2dsZSxUPWUuZm4ubGl2ZSxNPWUuZm4uZGllLFM9XCJhamF4U3RhcnR8YWpheFN0b3B8YWpheFNlbmR8YWpheENvbXBsZXRlfGFqYXhFcnJvcnxhamF4U3VjY2Vzc1wiLEM9UmVnRXhwKFwiXFxcXGIoPzpcIitTK1wiKVxcXFxiXCIpLEg9Lyg/Ol58XFxzKWhvdmVyKFxcLlxcUyt8KVxcYi8sQT1mdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgdHx8ZS5ldmVudC5zcGVjaWFsLmhvdmVyP3Q6KEgudGVzdCh0KSYmcihcIidob3ZlcicgcHNldWRvLWV2ZW50IGlzIGRlcHJlY2F0ZWQsIHVzZSAnbW91c2VlbnRlciBtb3VzZWxlYXZlJ1wiKSx0JiZ0LnJlcGxhY2UoSCxcIm1vdXNlZW50ZXIkMSBtb3VzZWxlYXZlJDFcIikpfTtlLmV2ZW50LnByb3BzJiZcImF0dHJDaGFuZ2VcIiE9PWUuZXZlbnQucHJvcHNbMF0mJmUuZXZlbnQucHJvcHMudW5zaGlmdChcImF0dHJDaGFuZ2VcIixcImF0dHJOYW1lXCIsXCJyZWxhdGVkTm9kZVwiLFwic3JjRWxlbWVudFwiKSxlLmV2ZW50LmRpc3BhdGNoJiZhKGUuZXZlbnQsXCJoYW5kbGVcIixlLmV2ZW50LmRpc3BhdGNoLFwialF1ZXJ5LmV2ZW50LmhhbmRsZSBpcyB1bmRvY3VtZW50ZWQgYW5kIGRlcHJlY2F0ZWRcIiksZS5ldmVudC5hZGQ9ZnVuY3Rpb24oZSx0LG4sYSxpKXtlIT09ZG9jdW1lbnQmJkMudGVzdCh0KSYmcihcIkFKQVggZXZlbnRzIHNob3VsZCBiZSBhdHRhY2hlZCB0byBkb2N1bWVudDogXCIrdCksUS5jYWxsKHRoaXMsZSxBKHR8fFwiXCIpLG4sYSxpKX0sZS5ldmVudC5yZW1vdmU9ZnVuY3Rpb24oZSx0LG4scixhKXt4LmNhbGwodGhpcyxlLEEodCl8fFwiXCIsbixyLGEpfSxlLmZuLmVycm9yPWZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiByKFwialF1ZXJ5LmZuLmVycm9yKCkgaXMgZGVwcmVjYXRlZFwiKSxlLnNwbGljZSgwLDAsXCJlcnJvclwiKSxhcmd1bWVudHMubGVuZ3RoP3RoaXMuYmluZC5hcHBseSh0aGlzLGUpOih0aGlzLnRyaWdnZXJIYW5kbGVyLmFwcGx5KHRoaXMsZSksdGhpcyl9LGUuZm4udG9nZ2xlPWZ1bmN0aW9uKHQsbil7aWYoIWUuaXNGdW5jdGlvbih0KXx8IWUuaXNGdW5jdGlvbihuKSlyZXR1cm4gTi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cihcImpRdWVyeS5mbi50b2dnbGUoaGFuZGxlciwgaGFuZGxlci4uLikgaXMgZGVwcmVjYXRlZFwiKTt2YXIgYT1hcmd1bWVudHMsaT10Lmd1aWR8fGUuZ3VpZCsrLG89MCxzPWZ1bmN0aW9uKG4pe3ZhciByPShlLl9kYXRhKHRoaXMsXCJsYXN0VG9nZ2xlXCIrdC5ndWlkKXx8MCklbztyZXR1cm4gZS5fZGF0YSh0aGlzLFwibGFzdFRvZ2dsZVwiK3QuZ3VpZCxyKzEpLG4ucHJldmVudERlZmF1bHQoKSxhW3JdLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8ITF9O2ZvcihzLmd1aWQ9aTthLmxlbmd0aD5vOylhW28rK10uZ3VpZD1pO3JldHVybiB0aGlzLmNsaWNrKHMpfSxlLmZuLmxpdmU9ZnVuY3Rpb24odCxuLGEpe3JldHVybiByKFwialF1ZXJ5LmZuLmxpdmUoKSBpcyBkZXByZWNhdGVkXCIpLFQ/VC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGUodGhpcy5jb250ZXh0KS5vbih0LHRoaXMuc2VsZWN0b3IsbixhKSx0aGlzKX0sZS5mbi5kaWU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gcihcImpRdWVyeS5mbi5kaWUoKSBpcyBkZXByZWNhdGVkXCIpLE0/TS5hcHBseSh0aGlzLGFyZ3VtZW50cyk6KGUodGhpcy5jb250ZXh0KS5vZmYodCx0aGlzLnNlbGVjdG9yfHxcIioqXCIsbiksdGhpcyl9LGUuZXZlbnQudHJpZ2dlcj1mdW5jdGlvbihlLHQsbixhKXtyZXR1cm4gbnx8Qy50ZXN0KGUpfHxyKFwiR2xvYmFsIGV2ZW50cyBhcmUgdW5kb2N1bWVudGVkIGFuZCBkZXByZWNhdGVkXCIpLGsuY2FsbCh0aGlzLGUsdCxufHxkb2N1bWVudCxhKX0sZS5lYWNoKFMuc3BsaXQoXCJ8XCIpLGZ1bmN0aW9uKHQsbil7ZS5ldmVudC5zcGVjaWFsW25dPXtzZXR1cDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHQhPT1kb2N1bWVudCYmKGUuZXZlbnQuYWRkKGRvY3VtZW50LG4rXCIuXCIrZS5ndWlkLGZ1bmN0aW9uKCl7ZS5ldmVudC50cmlnZ2VyKG4sbnVsbCx0LCEwKX0pLGUuX2RhdGEodGhpcyxuLGUuZ3VpZCsrKSksITF9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMhPT1kb2N1bWVudCYmZS5ldmVudC5yZW1vdmUoZG9jdW1lbnQsbitcIi5cIitlLl9kYXRhKHRoaXMsbikpLCExfX19KX0oalF1ZXJ5LHdpbmRvdyk7IiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG8tRGFzaCAyLjQuMSAoQ3VzdG9tIEJ1aWxkKSA8aHR0cDovL2xvZGFzaC5jb20vPlxuICogQnVpbGQ6IGBsb2Rhc2ggdW5kZXJzY29yZSBleHBvcnRzPVwiYW1kLGNvbW1vbmpzLGdsb2JhbCxub2RlXCIgLW8gLi9kaXN0L2xvZGFzaC51bmRlcnNjb3JlLmpzYFxuICogQ29weXJpZ2h0IDIwMTItMjAxMyBUaGUgRG9qbyBGb3VuZGF0aW9uIDxodHRwOi8vZG9qb2ZvdW5kYXRpb24ub3JnLz5cbiAqIEJhc2VkIG9uIFVuZGVyc2NvcmUuanMgMS41LjIgPGh0dHA6Ly91bmRlcnNjb3JlanMub3JnL0xJQ0VOU0U+XG4gKiBDb3B5cmlnaHQgMjAwOS0yMDEzIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKiBBdmFpbGFibGUgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHA6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKi9cbjsoZnVuY3Rpb24oKSB7XG5cbiAgLyoqIFVzZWQgYXMgYSBzYWZlIHJlZmVyZW5jZSBmb3IgYHVuZGVmaW5lZGAgaW4gcHJlIEVTNSBlbnZpcm9ubWVudHMgKi9cbiAgdmFyIHVuZGVmaW5lZDtcblxuICAvKiogVXNlZCB0byBnZW5lcmF0ZSB1bmlxdWUgSURzICovXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuXG4gIC8qKiBVc2VkIGludGVybmFsbHkgdG8gaW5kaWNhdGUgdmFyaW91cyB0aGluZ3MgKi9cbiAgdmFyIGluZGljYXRvck9iamVjdCA9IHt9O1xuXG4gIC8qKiBVc2VkIHRvIHByZWZpeCBrZXlzIHRvIGF2b2lkIGlzc3VlcyB3aXRoIGBfX3Byb3RvX19gIGFuZCBwcm9wZXJ0aWVzIG9uIGBPYmplY3QucHJvdG90eXBlYCAqL1xuICB2YXIga2V5UHJlZml4ID0gK25ldyBEYXRlICsgJyc7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggXCJpbnRlcnBvbGF0ZVwiIHRlbXBsYXRlIGRlbGltaXRlcnMgKi9cbiAgdmFyIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMgKi9cbiAgdmFyIHJlTm9NYXRjaCA9IC8oJF4pLztcblxuICAvKiogVXNlZCB0byBtYXRjaCB1bmVzY2FwZWQgY2hhcmFjdGVycyBpbiBjb21waWxlZCBzdHJpbmcgbGl0ZXJhbHMgKi9cbiAgdmFyIHJlVW5lc2NhcGVkU3RyaW5nID0gL1snXFxuXFxyXFx0XFx1MjAyOFxcdTIwMjlcXFxcXS9nO1xuXG4gIC8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgc2hvcnRjdXRzICovXG4gIHZhciBhcmdzQ2xhc3MgPSAnW29iamVjdCBBcmd1bWVudHNdJyxcbiAgICAgIGFycmF5Q2xhc3MgPSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgYm9vbENsYXNzID0gJ1tvYmplY3QgQm9vbGVhbl0nLFxuICAgICAgZGF0ZUNsYXNzID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZnVuY0NsYXNzID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIG51bWJlckNsYXNzID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgICBvYmplY3RDbGFzcyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcmVnZXhwQ2xhc3MgPSAnW29iamVjdCBSZWdFeHBdJyxcbiAgICAgIHN0cmluZ0NsYXNzID0gJ1tvYmplY3QgU3RyaW5nXSc7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZXJtaW5lIGlmIHZhbHVlcyBhcmUgb2YgdGhlIGxhbmd1YWdlIHR5cGUgT2JqZWN0ICovXG4gIHZhciBvYmplY3RUeXBlcyA9IHtcbiAgICAnYm9vbGVhbic6IGZhbHNlLFxuICAgICdmdW5jdGlvbic6IHRydWUsXG4gICAgJ29iamVjdCc6IHRydWUsXG4gICAgJ251bWJlcic6IGZhbHNlLFxuICAgICdzdHJpbmcnOiBmYWxzZSxcbiAgICAndW5kZWZpbmVkJzogZmFsc2VcbiAgfTtcblxuICAvKiogVXNlZCB0byBlc2NhcGUgY2hhcmFjdGVycyBmb3IgaW5jbHVzaW9uIGluIGNvbXBpbGVkIHN0cmluZyBsaXRlcmFscyAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHQnOiAndCcsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0ICovXG4gIHZhciByb290ID0gKG9iamVjdFR5cGVzW3R5cGVvZiB3aW5kb3ddICYmIHdpbmRvdykgfHwgdGhpcztcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgICovXG4gIHZhciBmcmVlRXhwb3J0cyA9IG9iamVjdFR5cGVzW3R5cGVvZiBleHBvcnRzXSAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgICovXG4gIHZhciBmcmVlTW9kdWxlID0gb2JqZWN0VHlwZXNbdHlwZW9mIG1vZHVsZV0gJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AgKi9cbiAgdmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHMgJiYgZnJlZUV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcyBvciBCcm93c2VyaWZpZWQgY29kZSBhbmQgdXNlIGl0IGFzIGByb290YCAqL1xuICB2YXIgZnJlZUdsb2JhbCA9IG9iamVjdFR5cGVzW3R5cGVvZiBnbG9iYWxdICYmIGdsb2JhbDtcbiAgaWYgKGZyZWVHbG9iYWwgJiYgKGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8IGZyZWVHbG9iYWwud2luZG93ID09PSBmcmVlR2xvYmFsKSkge1xuICAgIHJvb3QgPSBmcmVlR2xvYmFsO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgYmluYXJ5IHNlYXJjaGVzXG4gICAqIG9yIGBmcm9tSW5kZXhgIGNvbnN0cmFpbnRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlIG9yIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IChmcm9tSW5kZXggfHwgMCkgLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgc29ydEJ5YCB0byBjb21wYXJlIHRyYW5zZm9ybWVkIGBjb2xsZWN0aW9uYCBlbGVtZW50cywgc3RhYmxlIHNvcnRpbmdcbiAgICogdGhlbSBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gY29tcGFyZSB0byBgYmAuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29tcGFyZSB0byBgYWAuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHNvcnQgb3JkZXIgaW5kaWNhdG9yIG9mIGAxYCBvciBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyhhLCBiKSB7XG4gICAgdmFyIGFjID0gYS5jcml0ZXJpYSxcbiAgICAgICAgYmMgPSBiLmNyaXRlcmlhLFxuICAgICAgICBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhYy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYWNbaW5kZXhdLFxuICAgICAgICAgIG90aGVyID0gYmNbaW5kZXhdO1xuXG4gICAgICBpZiAodmFsdWUgIT09IG90aGVyKSB7XG4gICAgICAgIGlmICh2YWx1ZSA+IG90aGVyIHx8IHR5cGVvZiB2YWx1ZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSA8IG90aGVyIHx8IHR5cGVvZiBvdGhlciA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgLy8gdGhhdCBjYXVzZXMgaXQsIHVuZGVyIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcywgdG8gcmV0dXJuIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgIC8vIGBhYCBhbmQgYGJgLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2phc2hrZW5hcy91bmRlcnNjb3JlL3B1bGwvMTI0N1xuICAgIC8vXG4gICAgLy8gVGhpcyBhbHNvIGVuc3VyZXMgYSBzdGFibGUgc29ydCBpbiBWOCBhbmQgb3RoZXIgZW5naW5lcy5cbiAgICAvLyBTZWUgaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTBcbiAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgdGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWRcbiAgICogc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVTdHJpbmdDaGFyKG1hdGNoKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIHN0cmluZ0VzY2FwZXNbbWF0Y2hdO1xuICB9XG5cbiAgLyoqXG4gICAqIFNsaWNlcyB0aGUgYGNvbGxlY3Rpb25gIGZyb20gdGhlIGBzdGFydGAgaW5kZXggdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLFxuICAgKiB0aGUgYGVuZGAgaW5kZXguXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBpbnN0ZWFkIG9mIGBBcnJheSNzbGljZWAgdG8gc3VwcG9ydCBub2RlIGxpc3RzXG4gICAqIGluIElFIDwgOSBhbmQgdG8gZW5zdXJlIGRlbnNlIGFycmF5cyBhcmUgcmV0dXJuZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzbGljZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFRoZSBzdGFydCBpbmRleC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIGluZGV4LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIHNsaWNlKGFycmF5LCBzdGFydCwgZW5kKSB7XG4gICAgc3RhcnQgfHwgKHN0YXJ0ID0gMCk7XG4gICAgaWYgKHR5cGVvZiBlbmQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGVuZCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICB9XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGVuZCAtIHN0YXJ0IHx8IDAsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCA8IDAgPyAwIDogbGVuZ3RoKTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbc3RhcnQgKyBpbmRleF07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogVXNlZCBmb3IgYEFycmF5YCBtZXRob2QgcmVmZXJlbmNlcy5cbiAgICpcbiAgICogTm9ybWFsbHkgYEFycmF5LnByb3RvdHlwZWAgd291bGQgc3VmZmljZSwgaG93ZXZlciwgdXNpbmcgYW4gYXJyYXkgbGl0ZXJhbFxuICAgKiBhdm9pZHMgaXNzdWVzIGluIE5hcndoYWwuXG4gICAqL1xuICB2YXIgYXJyYXlSZWYgPSBbXTtcblxuICAvKiogVXNlZCBmb3IgbmF0aXZlIG1ldGhvZCByZWZlcmVuY2VzICovXG4gIHZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgLyoqIFVzZWQgdG8gcmVzdG9yZSB0aGUgb3JpZ2luYWwgYF9gIHJlZmVyZW5jZSBpbiBgbm9Db25mbGljdGAgKi9cbiAgdmFyIG9sZERhc2ggPSByb290Ll87XG5cbiAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgaW50ZXJuYWwgW1tDbGFzc11dIG9mIHZhbHVlcyAqL1xuICB2YXIgdG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaWYgYSBtZXRob2QgaXMgbmF0aXZlICovXG4gIHZhciByZU5hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgIFN0cmluZyh0b1N0cmluZylcbiAgICAgIC5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgJ1xcXFwkJicpXG4gICAgICAucmVwbGFjZSgvdG9TdHJpbmd8IGZvciBbXlxcXV0rL2csICcuKj8nKSArICckJ1xuICApO1xuXG4gIC8qKiBOYXRpdmUgbWV0aG9kIHNob3J0Y3V0cyAqL1xuICB2YXIgY2VpbCA9IE1hdGguY2VpbCxcbiAgICAgIGZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHksXG4gICAgICBwdXNoID0gYXJyYXlSZWYucHVzaCxcbiAgICAgIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbiAgLyogTmF0aXZlIG1ldGhvZCBzaG9ydGN1dHMgZm9yIG1ldGhvZHMgd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMgKi9cbiAgdmFyIG5hdGl2ZUNyZWF0ZSA9IGlzTmF0aXZlKG5hdGl2ZUNyZWF0ZSA9IE9iamVjdC5jcmVhdGUpICYmIG5hdGl2ZUNyZWF0ZSxcbiAgICAgIG5hdGl2ZUlzQXJyYXkgPSBpc05hdGl2ZShuYXRpdmVJc0FycmF5ID0gQXJyYXkuaXNBcnJheSkgJiYgbmF0aXZlSXNBcnJheSxcbiAgICAgIG5hdGl2ZUlzRmluaXRlID0gcm9vdC5pc0Zpbml0ZSxcbiAgICAgIG5hdGl2ZUlzTmFOID0gcm9vdC5pc05hTixcbiAgICAgIG5hdGl2ZUtleXMgPSBpc05hdGl2ZShuYXRpdmVLZXlzID0gT2JqZWN0LmtleXMpICYmIG5hdGl2ZUtleXMsXG4gICAgICBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluLFxuICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb207XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBgbG9kYXNoYCBvYmplY3Qgd2hpY2ggd3JhcHMgdGhlIGdpdmVuIHZhbHVlIHRvIGVuYWJsZSBpbnR1aXRpdmVcbiAgICogbWV0aG9kIGNoYWluaW5nLlxuICAgKlxuICAgKiBJbiBhZGRpdGlvbiB0byBMby1EYXNoIG1ldGhvZHMsIHdyYXBwZXJzIGFsc28gaGF2ZSB0aGUgZm9sbG93aW5nIGBBcnJheWAgbWV0aG9kczpcbiAgICogYGNvbmNhdGAsIGBqb2luYCwgYHBvcGAsIGBwdXNoYCwgYHJldmVyc2VgLCBgc2hpZnRgLCBgc2xpY2VgLCBgc29ydGAsIGBzcGxpY2VgLFxuICAgKiBhbmQgYHVuc2hpZnRgXG4gICAqXG4gICAqIENoYWluaW5nIGlzIHN1cHBvcnRlZCBpbiBjdXN0b20gYnVpbGRzIGFzIGxvbmcgYXMgdGhlIGB2YWx1ZWAgbWV0aG9kIGlzXG4gICAqIGltcGxpY2l0bHkgb3IgZXhwbGljaXRseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAqXG4gICAqIFRoZSBjaGFpbmFibGUgd3JhcHBlciBmdW5jdGlvbnMgYXJlOlxuICAgKiBgYWZ0ZXJgLCBgYXNzaWduYCwgYGJpbmRgLCBgYmluZEFsbGAsIGBiaW5kS2V5YCwgYGNoYWluYCwgYGNvbXBhY3RgLFxuICAgKiBgY29tcG9zZWAsIGBjb25jYXRgLCBgY291bnRCeWAsIGBjcmVhdGVgLCBgY3JlYXRlQ2FsbGJhY2tgLCBgY3VycnlgLFxuICAgKiBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmZXJgLCBgZGVsYXlgLCBgZGlmZmVyZW5jZWAsIGBmaWx0ZXJgLCBgZmxhdHRlbmAsXG4gICAqIGBmb3JFYWNoYCwgYGZvckVhY2hSaWdodGAsIGBmb3JJbmAsIGBmb3JJblJpZ2h0YCwgYGZvck93bmAsIGBmb3JPd25SaWdodGAsXG4gICAqIGBmdW5jdGlvbnNgLCBgZ3JvdXBCeWAsIGBpbmRleEJ5YCwgYGluaXRpYWxgLCBgaW50ZXJzZWN0aW9uYCwgYGludmVydGAsXG4gICAqIGBpbnZva2VgLCBga2V5c2AsIGBtYXBgLCBgbWF4YCwgYG1lbW9pemVgLCBgbWVyZ2VgLCBgbWluYCwgYG9iamVjdGAsIGBvbWl0YCxcbiAgICogYG9uY2VgLCBgcGFpcnNgLCBgcGFydGlhbGAsIGBwYXJ0aWFsUmlnaHRgLCBgcGlja2AsIGBwbHVja2AsIGBwdWxsYCwgYHB1c2hgLFxuICAgKiBgcmFuZ2VgLCBgcmVqZWN0YCwgYHJlbW92ZWAsIGByZXN0YCwgYHJldmVyc2VgLCBgc2h1ZmZsZWAsIGBzbGljZWAsIGBzb3J0YCxcbiAgICogYHNvcnRCeWAsIGBzcGxpY2VgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRpbWVzYCwgYHRvQXJyYXlgLCBgdHJhbnNmb3JtYCxcbiAgICogYHVuaW9uYCwgYHVuaXFgLCBgdW5zaGlmdGAsIGB1bnppcGAsIGB2YWx1ZXNgLCBgd2hlcmVgLCBgd2l0aG91dGAsIGB3cmFwYCxcbiAgICogYW5kIGB6aXBgXG4gICAqXG4gICAqIFRoZSBub24tY2hhaW5hYmxlIHdyYXBwZXIgZnVuY3Rpb25zIGFyZTpcbiAgICogYGNsb25lYCwgYGNsb25lRGVlcGAsIGBjb250YWluc2AsIGBlc2NhcGVgLCBgZXZlcnlgLCBgZmluZGAsIGBmaW5kSW5kZXhgLFxuICAgKiBgZmluZEtleWAsIGBmaW5kTGFzdGAsIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGhhc2AsIGBpZGVudGl0eWAsXG4gICAqIGBpbmRleE9mYCwgYGlzQXJndW1lbnRzYCwgYGlzQXJyYXlgLCBgaXNCb29sZWFuYCwgYGlzRGF0ZWAsIGBpc0VsZW1lbnRgLFxuICAgKiBgaXNFbXB0eWAsIGBpc0VxdWFsYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNOYU5gLCBgaXNOdWxsYCwgYGlzTnVtYmVyYCxcbiAgICogYGlzT2JqZWN0YCwgYGlzUGxhaW5PYmplY3RgLCBgaXNSZWdFeHBgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgam9pbmAsXG4gICAqIGBsYXN0SW5kZXhPZmAsIGBtaXhpbmAsIGBub0NvbmZsaWN0YCwgYHBhcnNlSW50YCwgYHBvcGAsIGByYW5kb21gLCBgcmVkdWNlYCxcbiAgICogYHJlZHVjZVJpZ2h0YCwgYHJlc3VsdGAsIGBzaGlmdGAsIGBzaXplYCwgYHNvbWVgLCBgc29ydGVkSW5kZXhgLCBgcnVuSW5Db250ZXh0YCxcbiAgICogYHRlbXBsYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYW5kIGB2YWx1ZWBcbiAgICpcbiAgICogVGhlIHdyYXBwZXIgZnVuY3Rpb25zIGBmaXJzdGAgYW5kIGBsYXN0YCByZXR1cm4gd3JhcHBlZCB2YWx1ZXMgd2hlbiBgbmAgaXNcbiAgICogcHJvdmlkZWQsIG90aGVyd2lzZSB0aGV5IHJldHVybiB1bndyYXBwZWQgdmFsdWVzLlxuICAgKlxuICAgKiBFeHBsaWNpdCBjaGFpbmluZyBjYW4gYmUgZW5hYmxlZCBieSB1c2luZyB0aGUgYF8uY2hhaW5gIG1ldGhvZC5cbiAgICpcbiAgICogQG5hbWUgX1xuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAgaW4gYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDIsIDNdKTtcbiAgICpcbiAgICogLy8gcmV0dXJucyBhbiB1bndyYXBwZWQgdmFsdWVcbiAgICogd3JhcHBlZC5yZWR1Y2UoZnVuY3Rpb24oc3VtLCBudW0pIHtcbiAgICogICByZXR1cm4gc3VtICsgbnVtO1xuICAgKiB9KTtcbiAgICogLy8gPT4gNlxuICAgKlxuICAgKiAvLyByZXR1cm5zIGEgd3JhcHBlZCB2YWx1ZVxuICAgKiB2YXIgc3F1YXJlcyA9IHdyYXBwZWQubWFwKGZ1bmN0aW9uKG51bSkge1xuICAgKiAgIHJldHVybiBudW0gKiBudW07XG4gICAqIH0pO1xuICAgKlxuICAgKiBfLmlzQXJyYXkoc3F1YXJlcyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNBcnJheShzcXVhcmVzLnZhbHVlKCkpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqL1xuICBmdW5jdGlvbiBsb2Rhc2godmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGluc3RhbmNlb2YgbG9kYXNoKVxuICAgICAgPyB2YWx1ZVxuICAgICAgOiBuZXcgbG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQSBmYXN0IHBhdGggZm9yIGNyZWF0aW5nIGBsb2Rhc2hgIHdyYXBwZXIgb2JqZWN0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd3JhcCBpbiBhIGBsb2Rhc2hgIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNoYWluQWxsIEEgZmxhZyB0byBlbmFibGUgY2hhaW5pbmcgZm9yIGFsbCBtZXRob2RzXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYSBgbG9kYXNoYCBpbnN0YW5jZS5cbiAgICovXG4gIGZ1bmN0aW9uIGxvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgdGhpcy5fX2NoYWluX18gPSAhIWNoYWluQWxsO1xuICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgfVxuICAvLyBlbnN1cmUgYG5ldyBsb2Rhc2hXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgbG9kYXNoYFxuICBsb2Rhc2hXcmFwcGVyLnByb3RvdHlwZSA9IGxvZGFzaC5wcm90b3R5cGU7XG5cbiAgLyoqXG4gICAqIEFuIG9iamVjdCB1c2VkIHRvIGZsYWcgZW52aXJvbm1lbnRzIGZlYXR1cmVzLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEB0eXBlIE9iamVjdFxuICAgKi9cbiAgdmFyIHN1cHBvcnQgPSB7fTtcblxuICAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9iamVjdCA9IHsgJzAnOiAxLCAnbGVuZ3RoJzogMSB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIGBBcnJheSNzaGlmdGAgYW5kIGBBcnJheSNzcGxpY2VgIGF1Z21lbnQgYXJyYXktbGlrZSBvYmplY3RzIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEZpcmVmb3ggPCAxMCwgSUUgY29tcGF0aWJpbGl0eSBtb2RlLCBhbmQgSUUgPCA5IGhhdmUgYnVnZ3kgQXJyYXkgYHNoaWZ0KClgXG4gICAgICogYW5kIGBzcGxpY2UoKWAgZnVuY3Rpb25zIHRoYXQgZmFpbCB0byByZW1vdmUgdGhlIGxhc3QgZWxlbWVudCwgYHZhbHVlWzBdYCxcbiAgICAgKiBvZiBhcnJheS1saWtlIG9iamVjdHMgZXZlbiB0aG91Z2ggdGhlIGBsZW5ndGhgIHByb3BlcnR5IGlzIHNldCB0byBgMGAuXG4gICAgICogVGhlIGBzaGlmdCgpYCBtZXRob2QgaXMgYnVnZ3kgaW4gSUUgOCBjb21wYXRpYmlsaXR5IG1vZGUsIHdoaWxlIGBzcGxpY2UoKWBcbiAgICAgKiBpcyBidWdneSByZWdhcmRsZXNzIG9mIG1vZGUgaW4gSUUgPCA5IGFuZCBidWdneSBpbiBjb21wYXRpYmlsaXR5IG1vZGUgaW4gSUUgOS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBfLnN1cHBvcnRcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICovXG4gICAgc3VwcG9ydC5zcGxpY2VPYmplY3RzID0gKGFycmF5UmVmLnNwbGljZS5jYWxsKG9iamVjdCwgMCwgMSksICFvYmplY3RbMF0pO1xuICB9KDEpKTtcblxuICAvKipcbiAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBMby1EYXNoIGFyZSBzaW1pbGFyIHRvIHRob3NlIGluXG4gICAqIGVtYmVkZGVkIFJ1YnkgKEVSQikuIENoYW5nZSB0aGUgZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZVxuICAgKiBkZWxpbWl0ZXJzLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEB0eXBlIE9iamVjdFxuICAgKi9cbiAgbG9kYXNoLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGRldGVjdCBgZGF0YWAgcHJvcGVydHkgdmFsdWVzIHRvIGJlIEhUTUwtZXNjYXBlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgKiBAdHlwZSBSZWdFeHBcbiAgICAgKi9cbiAgICAnZXNjYXBlJzogLzwlLShbXFxzXFxTXSs/KSU+L2csXG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgKiBAdHlwZSBSZWdFeHBcbiAgICAgKi9cbiAgICAnZXZhbHVhdGUnOiAvPCUoW1xcc1xcU10rPyklPi9nLFxuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBkZXRlY3QgYGRhdGFgIHByb3BlcnR5IHZhbHVlcyB0byBpbmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICogQHR5cGUgUmVnRXhwXG4gICAgICovXG4gICAgJ2ludGVycG9sYXRlJzogcmVJbnRlcnBvbGF0ZSxcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gcmVmZXJlbmNlIHRoZSBkYXRhIG9iamVjdCBpbiB0aGUgdGVtcGxhdGUgdGV4dC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKi9cbiAgICAndmFyaWFibGUnOiAnJ1xuICB9O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5iaW5kYCB0aGF0IGNyZWF0ZXMgdGhlIGJvdW5kIGZ1bmN0aW9uIGFuZFxuICAgKiBzZXRzIGl0cyBtZXRhIGRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGJpbmREYXRhIFRoZSBiaW5kIGRhdGEgYXJyYXkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJvdW5kIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUJpbmQoYmluZERhdGEpIHtcbiAgICB2YXIgZnVuYyA9IGJpbmREYXRhWzBdLFxuICAgICAgICBwYXJ0aWFsQXJncyA9IGJpbmREYXRhWzJdLFxuICAgICAgICB0aGlzQXJnID0gYmluZERhdGFbNF07XG5cbiAgICBmdW5jdGlvbiBib3VuZCgpIHtcbiAgICAgIC8vIGBGdW5jdGlvbiNiaW5kYCBzcGVjXG4gICAgICAvLyBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjMuNC41XG4gICAgICBpZiAocGFydGlhbEFyZ3MpIHtcbiAgICAgICAgLy8gYXZvaWQgYGFyZ3VtZW50c2Agb2JqZWN0IGRlb3B0aW1pemF0aW9ucyBieSB1c2luZyBgc2xpY2VgIGluc3RlYWRcbiAgICAgICAgLy8gb2YgYEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsYCBhbmQgbm90IGFzc2lnbmluZyBgYXJndW1lbnRzYCB0byBhXG4gICAgICAgIC8vIHZhcmlhYmxlIGFzIGEgdGVybmFyeSBleHByZXNzaW9uXG4gICAgICAgIHZhciBhcmdzID0gc2xpY2UocGFydGlhbEFyZ3MpO1xuICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgICAvLyBtaW1pYyB0aGUgY29uc3RydWN0b3IncyBgcmV0dXJuYCBiZWhhdmlvclxuICAgICAgLy8gaHR0cDovL2VzNS5naXRodWIuaW8vI3gxMy4yLjJcbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgLy8gZW5zdXJlIGBuZXcgYm91bmRgIGlzIGFuIGluc3RhbmNlIG9mIGBmdW5jYFxuICAgICAgICB2YXIgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKGZ1bmMucHJvdG90eXBlKSxcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MgfHwgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MgfHwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICogcHJvcGVydGllcyB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIG9iamVjdCB0byBpbmhlcml0IGZyb20uXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlQ3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgIHJldHVybiBpc09iamVjdChwcm90b3R5cGUpID8gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSkgOiB7fTtcbiAgfVxuICAvLyBmYWxsYmFjayBmb3IgYnJvd3NlcnMgd2l0aG91dCBgT2JqZWN0LmNyZWF0ZWBcbiAgaWYgKCFuYXRpdmVDcmVhdGUpIHtcbiAgICBiYXNlQ3JlYXRlID0gKGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gT2JqZWN0KCkge31cbiAgICAgIHJldHVybiBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHByb3RvdHlwZSkpIHtcbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlID0gcHJvdG90eXBlO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQgfHwgcm9vdC5PYmplY3QoKTtcbiAgICAgIH07XG4gICAgfSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jcmVhdGVDYWxsYmFja2Agd2l0aG91dCBzdXBwb3J0IGZvciBjcmVhdGluZ1xuICAgKiBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja3MuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gW2Z1bmM9aWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGEgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgY3JlYXRlZCBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFthcmdDb3VudF0gVGhlIG51bWJlciBvZiBhcmd1bWVudHMgdGhlIGNhbGxiYWNrIGFjY2VwdHMuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBhIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUNyZWF0ZUNhbGxiYWNrKGZ1bmMsIHRoaXNBcmcsIGFyZ0NvdW50KSB7XG4gICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICB9XG4gICAgLy8gZXhpdCBlYXJseSBmb3Igbm8gYHRoaXNBcmdgIG9yIGFscmVhZHkgYm91bmQgYnkgYEZ1bmN0aW9uI2JpbmRgXG4gICAgaWYgKHR5cGVvZiB0aGlzQXJnID09ICd1bmRlZmluZWQnIHx8ICEoJ3Byb3RvdHlwZScgaW4gZnVuYykpIHtcbiAgICAgIHJldHVybiBmdW5jO1xuICAgIH1cbiAgICBzd2l0Y2ggKGFyZ0NvdW50KSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKHRoaXNBcmcsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYSwgYik7XG4gICAgICB9O1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDQ6IHJldHVybiBmdW5jdGlvbihhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwodGhpc0FyZywgYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYmluZChmdW5jLCB0aGlzQXJnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgY3JlYXRlV3JhcHBlcmAgdGhhdCBjcmVhdGVzIHRoZSB3cmFwcGVyIGFuZFxuICAgKiBzZXRzIGl0cyBtZXRhIGRhdGEuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGJpbmREYXRhIFRoZSBiaW5kIGRhdGEgYXJyYXkuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUNyZWF0ZVdyYXBwZXIoYmluZERhdGEpIHtcbiAgICB2YXIgZnVuYyA9IGJpbmREYXRhWzBdLFxuICAgICAgICBiaXRtYXNrID0gYmluZERhdGFbMV0sXG4gICAgICAgIHBhcnRpYWxBcmdzID0gYmluZERhdGFbMl0sXG4gICAgICAgIHBhcnRpYWxSaWdodEFyZ3MgPSBiaW5kRGF0YVszXSxcbiAgICAgICAgdGhpc0FyZyA9IGJpbmREYXRhWzRdLFxuICAgICAgICBhcml0eSA9IGJpbmREYXRhWzVdO1xuXG4gICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiAxLFxuICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgMixcbiAgICAgICAgaXNDdXJyeSA9IGJpdG1hc2sgJiA0LFxuICAgICAgICBpc0N1cnJ5Qm91bmQgPSBiaXRtYXNrICYgOCxcbiAgICAgICAga2V5ID0gZnVuYztcblxuICAgIGZ1bmN0aW9uIGJvdW5kKCkge1xuICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXM7XG4gICAgICBpZiAocGFydGlhbEFyZ3MpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBzbGljZShwYXJ0aWFsQXJncyk7XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0aWFsUmlnaHRBcmdzIHx8IGlzQ3VycnkpIHtcbiAgICAgICAgYXJncyB8fCAoYXJncyA9IHNsaWNlKGFyZ3VtZW50cykpO1xuICAgICAgICBpZiAocGFydGlhbFJpZ2h0QXJncykge1xuICAgICAgICAgIHB1c2guYXBwbHkoYXJncywgcGFydGlhbFJpZ2h0QXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ3VycnkgJiYgYXJncy5sZW5ndGggPCBhcml0eSkge1xuICAgICAgICAgIGJpdG1hc2sgfD0gMTYgJiB+MzI7XG4gICAgICAgICAgcmV0dXJuIGJhc2VDcmVhdGVXcmFwcGVyKFtmdW5jLCAoaXNDdXJyeUJvdW5kID8gYml0bWFzayA6IGJpdG1hc2sgJiB+MyksIGFyZ3MsIG51bGwsIHRoaXNBcmcsIGFyaXR5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFyZ3MgfHwgKGFyZ3MgPSBhcmd1bWVudHMpO1xuICAgICAgaWYgKGlzQmluZEtleSkge1xuICAgICAgICBmdW5jID0gdGhpc0JpbmRpbmdba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgYm91bmQpIHtcbiAgICAgICAgdGhpc0JpbmRpbmcgPSBiYXNlQ3JlYXRlKGZ1bmMucHJvdG90eXBlKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gaXNPYmplY3QocmVzdWx0KSA/IHJlc3VsdCA6IHRoaXNCaW5kaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gYm91bmQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGlmZmVyZW5jZWAgdGhhdCBhY2NlcHRzIGEgc2luZ2xlIGFycmF5XG4gICAqIG9mIHZhbHVlcyB0byBleGNsdWRlLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcHJvY2Vzcy5cbiAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIGFycmF5IG9mIHZhbHVlcyB0byBleGNsdWRlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZURpZmZlcmVuY2UoYXJyYXksIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBpbmRleE9mID0gZ2V0SW5kZXhPZigpLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChpbmRleE9mKHZhbHVlcywgdmFsdWUpIDwgMCkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmxhdHRlbmAgd2l0aG91dCBzdXBwb3J0IGZvciBjYWxsYmFja1xuICAgKiBzaG9ydGhhbmRzIG9yIGB0aGlzQXJnYCBiaW5kaW5nLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNTaGFsbG93PWZhbHNlXSBBIGZsYWcgdG8gcmVzdHJpY3QgZmxhdHRlbmluZyB0byBhIHNpbmdsZSBsZXZlbC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3Q9ZmFsc2VdIEEgZmxhZyB0byByZXN0cmljdCBmbGF0dGVuaW5nIHRvIGFycmF5cyBhbmQgYGFyZ3VtZW50c2Agb2JqZWN0cy5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHN0YXJ0IGZyb20uXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmxhdHRlbihhcnJheSwgaXNTaGFsbG93LCBpc1N0cmljdCwgZnJvbUluZGV4KSB7XG4gICAgdmFyIGluZGV4ID0gKGZyb21JbmRleCB8fCAwKSAtIDEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuXG4gICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT0gJ251bWJlcidcbiAgICAgICAgICAmJiAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAvLyByZWN1cnNpdmVseSBmbGF0dGVuIGFycmF5cyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpXG4gICAgICAgIGlmICghaXNTaGFsbG93KSB7XG4gICAgICAgICAgdmFsdWUgPSBiYXNlRmxhdHRlbih2YWx1ZSwgaXNTaGFsbG93LCBpc1N0cmljdCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbEluZGV4ID0gLTEsXG4gICAgICAgICAgICB2YWxMZW5ndGggPSB2YWx1ZS5sZW5ndGgsXG4gICAgICAgICAgICByZXNJbmRleCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgICAgcmVzdWx0Lmxlbmd0aCArPSB2YWxMZW5ndGg7XG4gICAgICAgIHdoaWxlICgrK3ZhbEluZGV4IDwgdmFsTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWVbdmFsSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNFcXVhbGAsIHdpdGhvdXQgc3VwcG9ydCBmb3IgYHRoaXNBcmdgIGJpbmRpbmcsXG4gICAqIHRoYXQgYWxsb3dzIHBhcnRpYWwgXCJfLndoZXJlXCIgc3R5bGUgY29tcGFyaXNvbnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gYSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICogQHBhcmFtIHsqfSBiIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaW5nIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2lzV2hlcmU9ZmFsc2VdIEEgZmxhZyB0byBpbmRpY2F0ZSBwZXJmb3JtaW5nIHBhcnRpYWwgY29tcGFyaXNvbnMuXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0E9W11dIFRyYWNrcyB0cmF2ZXJzZWQgYGFgIG9iamVjdHMuXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtzdGFja0I9W11dIFRyYWNrcyB0cmF2ZXJzZWQgYGJgIG9iamVjdHMuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSXNFcXVhbChhLCBiLCBzdGFja0EsIHN0YWNrQikge1xuICAgIGlmIChhID09PSBiKSB7XG4gICAgICByZXR1cm4gYSAhPT0gMCB8fCAoMSAvIGEgPT0gMSAvIGIpO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBhLFxuICAgICAgICBvdGhlclR5cGUgPSB0eXBlb2YgYjtcblxuICAgIGlmIChhID09PSBhICYmXG4gICAgICAgICEoYSAmJiBvYmplY3RUeXBlc1t0eXBlXSkgJiZcbiAgICAgICAgIShiICYmIG9iamVjdFR5cGVzW290aGVyVHlwZV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gYSA9PT0gYjtcbiAgICB9XG4gICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSksXG4gICAgICAgIG90aGVyQ2xhc3MgPSB0b1N0cmluZy5jYWxsKGIpO1xuXG4gICAgaWYgKGNsYXNzTmFtZSAhPSBvdGhlckNsYXNzKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICBjYXNlIGJvb2xDbGFzczpcbiAgICAgIGNhc2UgZGF0ZUNsYXNzOlxuICAgICAgICByZXR1cm4gK2EgPT0gK2I7XG5cbiAgICAgIGNhc2UgbnVtYmVyQ2xhc3M6XG4gICAgICAgIHJldHVybiBhICE9ICthXG4gICAgICAgICAgPyBiICE9ICtiXG4gICAgICAgICAgOiAoYSA9PSAwID8gKDEgLyBhID09IDEgLyBiKSA6IGEgPT0gK2IpO1xuXG4gICAgICBjYXNlIHJlZ2V4cENsYXNzOlxuICAgICAgY2FzZSBzdHJpbmdDbGFzczpcbiAgICAgICAgcmV0dXJuIGEgPT0gU3RyaW5nKGIpO1xuICAgIH1cbiAgICB2YXIgaXNBcnIgPSBjbGFzc05hbWUgPT0gYXJyYXlDbGFzcztcbiAgICBpZiAoIWlzQXJyKSB7XG4gICAgICB2YXIgYVdyYXBwZWQgPSBhIGluc3RhbmNlb2YgbG9kYXNoLFxuICAgICAgICAgIGJXcmFwcGVkID0gYiBpbnN0YW5jZW9mIGxvZGFzaDtcblxuICAgICAgaWYgKGFXcmFwcGVkIHx8IGJXcmFwcGVkKSB7XG4gICAgICAgIHJldHVybiBiYXNlSXNFcXVhbChhV3JhcHBlZCA/IGEuX193cmFwcGVkX18gOiBhLCBiV3JhcHBlZCA/IGIuX193cmFwcGVkX18gOiBiLCBzdGFja0EsIHN0YWNrQik7XG4gICAgICB9XG4gICAgICBpZiAoY2xhc3NOYW1lICE9IG9iamVjdENsYXNzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBjdG9yQSA9IGEuY29uc3RydWN0b3IsXG4gICAgICAgICAgY3RvckIgPSBiLmNvbnN0cnVjdG9yO1xuXG4gICAgICBpZiAoY3RvckEgIT0gY3RvckIgJiZcbiAgICAgICAgICAgICEoaXNGdW5jdGlvbihjdG9yQSkgJiYgY3RvckEgaW5zdGFuY2VvZiBjdG9yQSAmJiBpc0Z1bmN0aW9uKGN0b3JCKSAmJiBjdG9yQiBpbnN0YW5jZW9mIGN0b3JCKSAmJlxuICAgICAgICAgICAgKCdjb25zdHJ1Y3RvcicgaW4gYSAmJiAnY29uc3RydWN0b3InIGluIGIpXG4gICAgICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3RhY2tBIHx8IChzdGFja0EgPSBbXSk7XG4gICAgc3RhY2tCIHx8IChzdGFja0IgPSBbXSk7XG5cbiAgICB2YXIgbGVuZ3RoID0gc3RhY2tBLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChzdGFja0FbbGVuZ3RoXSA9PSBhKSB7XG4gICAgICAgIHJldHVybiBzdGFja0JbbGVuZ3RoXSA9PSBiO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gdHJ1ZSxcbiAgICAgICAgc2l6ZSA9IDA7XG5cbiAgICBzdGFja0EucHVzaChhKTtcbiAgICBzdGFja0IucHVzaChiKTtcblxuICAgIGlmIChpc0Fycikge1xuICAgICAgc2l6ZSA9IGIubGVuZ3RoO1xuICAgICAgcmVzdWx0ID0gc2l6ZSA9PSBhLmxlbmd0aDtcblxuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICB3aGlsZSAoc2l6ZS0tKSB7XG4gICAgICAgICAgaWYgKCEocmVzdWx0ID0gYmFzZUlzRXF1YWwoYVtzaXplXSwgYltzaXplXSwgc3RhY2tBLCBzdGFja0IpKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZm9ySW4oYiwgZnVuY3Rpb24odmFsdWUsIGtleSwgYikge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXkpKSB7XG4gICAgICAgICAgc2l6ZSsrO1xuICAgICAgICAgIHJldHVybiAhKHJlc3VsdCA9IGhhc093blByb3BlcnR5LmNhbGwoYSwga2V5KSAmJiBiYXNlSXNFcXVhbChhW2tleV0sIHZhbHVlLCBzdGFja0EsIHN0YWNrQikpICYmIGluZGljYXRvck9iamVjdDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgZm9ySW4oYSwgZnVuY3Rpb24odmFsdWUsIGtleSwgYSkge1xuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGEsIGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiAhKHJlc3VsdCA9IC0tc2l6ZSA+IC0xKSAmJiBpbmRpY2F0b3JPYmplY3Q7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3RhY2tBLnBvcCgpO1xuICAgIHN0YWNrQi5wb3AoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBhcmd1bWVudCBqdWdnbGluZyBvciBzdXBwb3J0XG4gICAqIGZvciByZXR1cm5pbmcgZmxvYXRpbmctcG9pbnQgbnVtYmVycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pbiBUaGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heCBUaGUgbWF4aW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmFuZG9tKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIG1pbiArIGZsb29yKG5hdGl2ZVJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmlxYCB3aXRob3V0IHN1cHBvcnQgZm9yIGNhbGxiYWNrIHNob3J0aGFuZHNcbiAgICogb3IgYHRoaXNBcmdgIGJpbmRpbmcuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1NvcnRlZD1mYWxzZV0gQSBmbGFnIHRvIGluZGljYXRlIHRoYXQgYGFycmF5YCBpcyBzb3J0ZWQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBkdXBsaWNhdGUtdmFsdWUtZnJlZSBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VVbmlxKGFycmF5LCBpc1NvcnRlZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgaW5kZXhPZiA9IGdldEluZGV4T2YoKSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgc2VlbiA9IGNhbGxiYWNrID8gW10gOiByZXN1bHQ7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgIGNvbXB1dGVkID0gY2FsbGJhY2sgPyBjYWxsYmFjayh2YWx1ZSwgaW5kZXgsIGFycmF5KSA6IHZhbHVlO1xuXG4gICAgICBpZiAoaXNTb3J0ZWRcbiAgICAgICAgICAgID8gIWluZGV4IHx8IHNlZW5bc2Vlbi5sZW5ndGggLSAxXSAhPT0gY29tcHV0ZWRcbiAgICAgICAgICAgIDogaW5kZXhPZihzZWVuLCBjb21wdXRlZCkgPCAwXG4gICAgICAgICAgKSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYSBjb2xsZWN0aW9uLCBjcmVhdGluZyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICogb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nIGVhY2ggZWxlbWVudCBvZiB0aGUgY29sbGVjdGlvblxuICAgKiB0aHJvdWdoIGEgY2FsbGJhY2suIFRoZSBnaXZlbiBgc2V0dGVyYCBmdW5jdGlvbiBzZXRzIHRoZSBrZXlzIGFuZCB2YWx1ZXNcbiAgICogb2YgdGhlIGNvbXBvc2VkIG9iamVjdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBzZXR0ZXIgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVBZ2dyZWdhdG9yKHNldHRlcikge1xuICAgIHJldHVybiBmdW5jdGlvbihjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgY2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG5cbiAgICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgICAgc2V0dGVyKHJlc3VsdCwgdmFsdWUsIGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbiksIGNvbGxlY3Rpb24pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICAgIHNldHRlcihyZXN1bHQsIHZhbHVlLCBjYWxsYmFjayh2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSwgY29sbGVjdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgZWl0aGVyIGN1cnJpZXMgb3IgaW52b2tlcyBgZnVuY2BcbiAgICogd2l0aCBhbiBvcHRpb25hbCBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gcmVmZXJlbmNlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBvZiBtZXRob2QgZmxhZ3MgdG8gY29tcG9zZS5cbiAgICogIFRoZSBiaXRtYXNrIG1heSBiZSBjb21wb3NlZCBvZiB0aGUgZm9sbG93aW5nIGZsYWdzOlxuICAgKiAgMSAtIGBfLmJpbmRgXG4gICAqICAyIC0gYF8uYmluZEtleWBcbiAgICogIDQgLSBgXy5jdXJyeWBcbiAgICogIDggLSBgXy5jdXJyeWAgKGJvdW5kKVxuICAgKiAgMTYgLSBgXy5wYXJ0aWFsYFxuICAgKiAgMzIgLSBgXy5wYXJ0aWFsUmlnaHRgXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsQXJnc10gQW4gYXJyYXkgb2YgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2VcbiAgICogIHByb3ZpZGVkIHRvIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsUmlnaHRBcmdzXSBBbiBhcnJheSBvZiBhcmd1bWVudHMgdG8gYXBwZW5kIHRvIHRob3NlXG4gICAqICBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZVdyYXBwZXIoZnVuYywgYml0bWFzaywgcGFydGlhbEFyZ3MsIHBhcnRpYWxSaWdodEFyZ3MsIHRoaXNBcmcsIGFyaXR5KSB7XG4gICAgdmFyIGlzQmluZCA9IGJpdG1hc2sgJiAxLFxuICAgICAgICBpc0JpbmRLZXkgPSBiaXRtYXNrICYgMixcbiAgICAgICAgaXNDdXJyeSA9IGJpdG1hc2sgJiA0LFxuICAgICAgICBpc0N1cnJ5Qm91bmQgPSBiaXRtYXNrICYgOCxcbiAgICAgICAgaXNQYXJ0aWFsID0gYml0bWFzayAmIDE2LFxuICAgICAgICBpc1BhcnRpYWxSaWdodCA9IGJpdG1hc2sgJiAzMjtcblxuICAgIGlmICghaXNCaW5kS2V5ICYmICFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgIH1cbiAgICBpZiAoaXNQYXJ0aWFsICYmICFwYXJ0aWFsQXJncy5sZW5ndGgpIHtcbiAgICAgIGJpdG1hc2sgJj0gfjE2O1xuICAgICAgaXNQYXJ0aWFsID0gcGFydGlhbEFyZ3MgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGlzUGFydGlhbFJpZ2h0ICYmICFwYXJ0aWFsUmlnaHRBcmdzLmxlbmd0aCkge1xuICAgICAgYml0bWFzayAmPSB+MzI7XG4gICAgICBpc1BhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodEFyZ3MgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gZmFzdCBwYXRoIGZvciBgXy5iaW5kYFxuICAgIHZhciBjcmVhdGVyID0gKGJpdG1hc2sgPT0gMSB8fCBiaXRtYXNrID09PSAxNykgPyBiYXNlQmluZCA6IGJhc2VDcmVhdGVXcmFwcGVyO1xuICAgIHJldHVybiBjcmVhdGVyKFtmdW5jLCBiaXRtYXNrLCBwYXJ0aWFsQXJncywgcGFydGlhbFJpZ2h0QXJncywgdGhpc0FyZywgYXJpdHldKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBlc2NhcGVgIHRvIGNvbnZlcnQgY2hhcmFjdGVycyB0byBIVE1MIGVudGl0aWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGVIdG1sQ2hhcihtYXRjaCkge1xuICAgIHJldHVybiBodG1sRXNjYXBlc1ttYXRjaF07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYXBwcm9wcmlhdGUgXCJpbmRleE9mXCIgZnVuY3Rpb24uIElmIHRoZSBgXy5pbmRleE9mYCBtZXRob2QgaXNcbiAgICogY3VzdG9taXplZCwgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnNcbiAgICogdGhlIGBiYXNlSW5kZXhPZmAgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgXCJpbmRleE9mXCIgZnVuY3Rpb24uXG4gICAqL1xuICBmdW5jdGlvbiBnZXRJbmRleE9mKCkge1xuICAgIHZhciByZXN1bHQgPSAocmVzdWx0ID0gbG9kYXNoLmluZGV4T2YpID09PSBpbmRleE9mID8gYmFzZUluZGV4T2YgOiByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgJiYgcmVOYXRpdmUudGVzdCh2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgdW5lc2NhcGVgIHRvIGNvbnZlcnQgSFRNTCBlbnRpdGllcyB0byBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWF0Y2ggVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gdW5lc2NhcGVIdG1sQ2hhcihtYXRjaCkge1xuICAgIHJldHVybiBodG1sVW5lc2NhcGVzW21hdGNoXTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogKGZ1bmN0aW9uKCkgeyByZXR1cm4gXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpOyB9KSgxLCAyLCAzKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzQXJndW1lbnRzKFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PSAnbnVtYmVyJyAmJlxuICAgICAgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYXJnc0NsYXNzIHx8IGZhbHNlO1xuICB9XG4gIC8vIGZhbGxiYWNrIGZvciBicm93c2VycyB0aGF0IGNhbid0IGRldGVjdCBgYXJndW1lbnRzYCBvYmplY3RzIGJ5IFtbQ2xhc3NdXVxuICBpZiAoIWlzQXJndW1lbnRzKGFyZ3VtZW50cykpIHtcbiAgICBpc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS5sZW5ndGggPT0gJ251bWJlcicgJiZcbiAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgJ2NhbGxlZScpICYmICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgfHwgZmFsc2U7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBhcnJheS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAdHlwZSBGdW5jdGlvblxuICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIChmdW5jdGlvbigpIHsgcmV0dXJuIF8uaXNBcnJheShhcmd1bWVudHMpOyB9KSgpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKi9cbiAgdmFyIGlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUubGVuZ3RoID09ICdudW1iZXInICYmXG4gICAgICB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBhcnJheUNsYXNzIHx8IGZhbHNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGZhbGxiYWNrIGltcGxlbWVudGF0aW9uIG9mIGBPYmplY3Qua2V5c2Agd2hpY2ggcHJvZHVjZXMgYW4gYXJyYXkgb2YgdGhlXG4gICAqIGdpdmVuIG9iamVjdCdzIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAdHlwZSBGdW5jdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgKi9cbiAgdmFyIHNoaW1LZXlzID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgdmFyIGluZGV4LCBpdGVyYWJsZSA9IG9iamVjdCwgcmVzdWx0ID0gW107XG4gICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoIShvYmplY3RUeXBlc1t0eXBlb2Ygb2JqZWN0XSkpIHJldHVybiByZXN1bHQ7XG4gICAgICBmb3IgKGluZGV4IGluIGl0ZXJhYmxlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhYmxlLCBpbmRleCkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgY29tcG9zZWQgb2YgdGhlIG93biBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGFuIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmtleXMoeyAnb25lJzogMSwgJ3R3byc6IDIsICd0aHJlZSc6IDMgfSk7XG4gICAqIC8vID0+IFsnb25lJywgJ3R3bycsICd0aHJlZSddIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgKi9cbiAgdmFyIGtleXMgPSAhbmF0aXZlS2V5cyA/IHNoaW1LZXlzIDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBuYXRpdmVLZXlzKG9iamVjdCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXM6XG4gICAqXG4gICAqIFRob3VnaCB0aGUgYD5gIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlIGA+YCBhbmQgYC9gXG4gICAqIGRvbid0IHJlcXVpcmUgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmcgdW5sZXNzIHRoZXkncmUgcGFydFxuICAgKiBvZiBhIHRhZyBvciBhbiB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUuXG4gICAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKVxuICAgKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjeDI3OydcbiAgfTtcblxuICAvKiogVXNlZCB0byBjb252ZXJ0IEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycyAqL1xuICB2YXIgaHRtbFVuZXNjYXBlcyA9IGludmVydChodG1sRXNjYXBlcyk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzICovXG4gIHZhciByZUVzY2FwZWRIdG1sID0gUmVnRXhwKCcoJyArIGtleXMoaHRtbFVuZXNjYXBlcykuam9pbignfCcpICsgJyknLCAnZycpLFxuICAgICAgcmVVbmVzY2FwZWRIdG1sID0gUmVnRXhwKCdbJyArIGtleXMoaHRtbEVzY2FwZXMpLmpvaW4oJycpICsgJ10nLCAnZycpO1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBc3NpZ25zIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdChzKSB0byB0aGUgZGVzdGluYXRpb25cbiAgICogb2JqZWN0LiBTdWJzZXF1ZW50IHNvdXJjZXMgd2lsbCBvdmVyd3JpdGUgcHJvcGVydHkgYXNzaWdubWVudHMgb2YgcHJldmlvdXNcbiAgICogc291cmNlcy4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHByb2R1Y2UgdGhlXG4gICAqIGFzc2lnbmVkIHZhbHVlcy4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHR3b1xuICAgKiBhcmd1bWVudHM7IChvYmplY3RWYWx1ZSwgc291cmNlVmFsdWUpLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAqIEBhbGlhcyBleHRlbmRcbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZV0gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduaW5nIHZhbHVlcy5cbiAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5hc3NpZ24oeyAnbmFtZSc6ICdmcmVkJyB9LCB7ICdlbXBsb3llcic6ICdzbGF0ZScgfSk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcsICdlbXBsb3llcic6ICdzbGF0ZScgfVxuICAgKlxuICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbiwgZnVuY3Rpb24oYSwgYikge1xuICAgKiAgIHJldHVybiB0eXBlb2YgYSA9PSAndW5kZWZpbmVkJyA/IGIgOiBhO1xuICAgKiB9KTtcbiAgICpcbiAgICogdmFyIG9iamVjdCA9IHsgJ25hbWUnOiAnYmFybmV5JyB9O1xuICAgKiBkZWZhdWx0cyhvYmplY3QsIHsgJ25hbWUnOiAnZnJlZCcsICdlbXBsb3llcic6ICdzbGF0ZScgfSk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XG4gICAqL1xuICBmdW5jdGlvbiBhc3NpZ24ob2JqZWN0KSB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIGZvciAodmFyIGFyZ3NJbmRleCA9IDEsIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoOyBhcmdzSW5kZXgrKykge1xuICAgICAgdmFyIGl0ZXJhYmxlID0gYXJndW1lbnRzW2FyZ3NJbmRleF07XG4gICAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGl0ZXJhYmxlKSB7XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSBpdGVyYWJsZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGB2YWx1ZWAuIElmIGBpc0RlZXBgIGlzIGB0cnVlYCBuZXN0ZWQgb2JqZWN0cyB3aWxsIGFsc29cbiAgICogYmUgY2xvbmVkLCBvdGhlcndpc2UgdGhleSB3aWxsIGJlIGFzc2lnbmVkIGJ5IHJlZmVyZW5jZS4gSWYgYSBjYWxsYmFja1xuICAgKiBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIHRvIHByb2R1Y2UgdGhlIGNsb25lZCB2YWx1ZXMuIElmIHRoZVxuICAgKiBjYWxsYmFjayByZXR1cm5zIGB1bmRlZmluZWRgIGNsb25pbmcgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC5cbiAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwPWZhbHNlXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcgdmFsdWVzLlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGNsb25lZCB2YWx1ZS5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAqIF07XG4gICAqXG4gICAqIHZhciBzaGFsbG93ID0gXy5jbG9uZShjaGFyYWN0ZXJzKTtcbiAgICogc2hhbGxvd1swXSA9PT0gY2hhcmFjdGVyc1swXTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiB2YXIgZGVlcCA9IF8uY2xvbmUoY2hhcmFjdGVycywgdHJ1ZSk7XG4gICAqIGRlZXBbMF0gPT09IGNoYXJhY3RlcnNbMF07XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8ubWl4aW4oe1xuICAgKiAgICdjbG9uZSc6IF8ucGFydGlhbFJpZ2h0KF8uY2xvbmUsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAqICAgICByZXR1cm4gXy5pc0VsZW1lbnQodmFsdWUpID8gdmFsdWUuY2xvbmVOb2RlKGZhbHNlKSA6IHVuZGVmaW5lZDtcbiAgICogICB9KVxuICAgKiB9KTtcbiAgICpcbiAgICogdmFyIGNsb25lID0gXy5jbG9uZShkb2N1bWVudC5ib2R5KTtcbiAgICogY2xvbmUuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAqIC8vID0+IDBcbiAgICovXG4gIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKVxuICAgICAgPyAoaXNBcnJheSh2YWx1ZSkgPyBzbGljZSh2YWx1ZSkgOiBhc3NpZ24oe30sIHZhbHVlKSlcbiAgICAgIDogdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQXNzaWducyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3QocykgdG8gdGhlIGRlc3RpbmF0aW9uXG4gICAqIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdCByZXNvbHZlIHRvIGB1bmRlZmluZWRgLiBPbmNlIGFcbiAgICogcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIGRlZmF1bHRzIG9mIHRoZSBzYW1lIHByb3BlcnR5IHdpbGwgYmUgaWdub3JlZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAdHlwZSBGdW5jdGlvblxuICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlXSBUaGUgc291cmNlIG9iamVjdHMuXG4gICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBBbGxvd3Mgd29ya2luZyB3aXRoIGBfLnJlZHVjZWAgd2l0aG91dCB1c2luZyBpdHNcbiAgICogIGBrZXlgIGFuZCBgb2JqZWN0YCBhcmd1bWVudHMgYXMgc291cmNlcy5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdiYXJuZXknIH07XG4gICAqIF8uZGVmYXVsdHMob2JqZWN0LCB7ICduYW1lJzogJ2ZyZWQnLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdlbXBsb3llcic6ICdzbGF0ZScgfVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdHMob2JqZWN0KSB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuICAgIGZvciAodmFyIGFyZ3NJbmRleCA9IDEsIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBhcmdzSW5kZXggPCBhcmdzTGVuZ3RoOyBhcmdzSW5kZXgrKykge1xuICAgICAgdmFyIGl0ZXJhYmxlID0gYXJndW1lbnRzW2FyZ3NJbmRleF07XG4gICAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGl0ZXJhYmxlKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvYmplY3Rba2V5XSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgb2JqZWN0W2tleV0gPSBpdGVyYWJsZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCxcbiAgICogZXhlY3V0aW5nIHRoZSBjYWxsYmFjayBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYFxuICAgKiBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBrZXksIG9iamVjdCkuIENhbGxiYWNrcyBtYXkgZXhpdFxuICAgKiBpdGVyYXRpb24gZWFybHkgYnkgZXhwbGljaXRseSByZXR1cm5pbmcgYGZhbHNlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAdHlwZSBGdW5jdGlvblxuICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgKiAgIHRoaXMueCA9IDA7XG4gICAqICAgdGhpcy55ID0gMDtcbiAgICogfVxuICAgKlxuICAgKiBTaGFwZS5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICogICB0aGlzLnggKz0geDtcbiAgICogICB0aGlzLnkgKz0geTtcbiAgICogfTtcbiAgICpcbiAgICogXy5mb3JJbihuZXcgU2hhcGUsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgKiB9KTtcbiAgICogLy8gPT4gbG9ncyAneCcsICd5JywgYW5kICdtb3ZlJyAocHJvcGVydHkgb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIGVudmlyb25tZW50cylcbiAgICovXG4gIHZhciBmb3JJbiA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGluZGV4LCBpdGVyYWJsZSA9IGNvbGxlY3Rpb24sIHJlc3VsdCA9IGl0ZXJhYmxlO1xuICAgIGlmICghaXRlcmFibGUpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKCFvYmplY3RUeXBlc1t0eXBlb2YgaXRlcmFibGVdKSByZXR1cm4gcmVzdWx0O1xuICAgICAgZm9yIChpbmRleCBpbiBpdGVyYWJsZSkge1xuICAgICAgICBpZiAoY2FsbGJhY2soaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikgPT09IGluZGljYXRvck9iamVjdCkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH07XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QsIGV4ZWN1dGluZyB0aGUgY2FsbGJhY2tcbiAgICogZm9yIGVhY2ggcHJvcGVydHkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwga2V5LCBvYmplY3QpLiBDYWxsYmFja3MgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5XG4gICAqIGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHR5cGUgRnVuY3Rpb25cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmZvck93bih7ICcwJzogJ3plcm8nLCAnMSc6ICdvbmUnLCAnbGVuZ3RoJzogMiB9LCBmdW5jdGlvbihudW0sIGtleSkge1xuICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAqIH0pO1xuICAgKiAvLyA9PiBsb2dzICcwJywgJzEnLCBhbmQgJ2xlbmd0aCcgKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAqL1xuICB2YXIgZm9yT3duID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgY2FsbGJhY2spIHtcbiAgICB2YXIgaW5kZXgsIGl0ZXJhYmxlID0gY29sbGVjdGlvbiwgcmVzdWx0ID0gaXRlcmFibGU7XG4gICAgaWYgKCFpdGVyYWJsZSkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAoIW9iamVjdFR5cGVzW3R5cGVvZiBpdGVyYWJsZV0pIHJldHVybiByZXN1bHQ7XG4gICAgICBmb3IgKGluZGV4IGluIGl0ZXJhYmxlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhYmxlLCBpbmRleCkpIHtcbiAgICAgICAgICBpZiAoY2FsbGJhY2soaXRlcmFibGVbaW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikgPT09IGluZGljYXRvck9iamVjdCkgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNvcnRlZCBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBvZiBhbGwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLFxuICAgKiBvd24gYW5kIGluaGVyaXRlZCwgb2YgYG9iamVjdGAgdGhhdCBoYXZlIGZ1bmN0aW9uIHZhbHVlcy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAYWxpYXMgbWV0aG9kc1xuICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIHRoYXQgaGF2ZSBmdW5jdGlvbiB2YWx1ZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uZnVuY3Rpb25zKF8pO1xuICAgKiAvLyA9PiBbJ2FsbCcsICdhbnknLCAnYmluZCcsICdiaW5kQWxsJywgJ2Nsb25lJywgJ2NvbXBhY3QnLCAnY29tcG9zZScsIC4uLl1cbiAgICovXG4gIGZ1bmN0aW9uIGZ1bmN0aW9ucyhvYmplY3QpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgZm9ySW4ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0LnNvcnQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSBuYW1lIGV4aXN0cyBhcyBhIGRpcmVjdCBwcm9wZXJ0eSBvZiBgb2JqZWN0YCxcbiAgICogaW5zdGVhZCBvZiBhbiBpbmhlcml0ZWQgcHJvcGVydHkuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYga2V5IGlzIGEgZGlyZWN0IHByb3BlcnR5LCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaGFzKHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCAnYicpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqL1xuICBmdW5jdGlvbiBoYXMob2JqZWN0LCBrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID8gaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgOiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgaW52ZXJ0ZWQga2V5cyBhbmQgdmFsdWVzIG9mIHRoZSBnaXZlbiBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3JlYXRlZCBpbnZlcnRlZCBvYmplY3QuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaW52ZXJ0KHsgJ2ZpcnN0JzogJ2ZyZWQnLCAnc2Vjb25kJzogJ2Jhcm5leScgfSk7XG4gICAqIC8vID0+IHsgJ2ZyZWQnOiAnZmlyc3QnLCAnYmFybmV5JzogJ3NlY29uZCcgfVxuICAgKi9cbiAgZnVuY3Rpb24gaW52ZXJ0KG9iamVjdCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBwcm9wcyA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgICAgcmVzdWx0W29iamVjdFtrZXldXSA9IGtleTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGJvb2xlYW4gdmFsdWUuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIGJvb2xlYW4gdmFsdWUsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlIHx8XG4gICAgICB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gYm9vbENsYXNzIHx8IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZGF0ZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBgdmFsdWVgIGlzIGEgZGF0ZSwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAqIC8vID0+IHRydWVcbiAgICovXG4gIGZ1bmN0aW9uIGlzRGF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gZGF0ZUNsYXNzIHx8IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50LCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNFbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqL1xuICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUubm9kZVR5cGUgPT09IDEgfHwgZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZW1wdHkuIEFycmF5cywgc3RyaW5ncywgb3IgYGFyZ3VtZW50c2Agb2JqZWN0cyB3aXRoIGFcbiAgICogbGVuZ3RoIG9mIGAwYCBhbmQgb2JqZWN0cyB3aXRoIG5vIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYXJlIGNvbnNpZGVyZWRcbiAgICogXCJlbXB0eVwiLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBlbXB0eSwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzRW1wdHkoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc0VtcHR5KHt9KTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzRW1wdHkoJycpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqL1xuICBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KHZhbHVlKSB8fCBpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgIH1cbiAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWUpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYSBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgKiBlcXVpdmFsZW50IHRvIGVhY2ggb3RoZXIuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZFxuICAgKiB0byBjb21wYXJlIHZhbHVlcy4gSWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYHVuZGVmaW5lZGAgY29tcGFyaXNvbnMgd2lsbFxuICAgKiBiZSBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICogaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM7IChhLCBiKS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgKiBAcGFyYW0geyp9IGEgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAqIEBwYXJhbSB7Kn0gYiBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmluZyB2YWx1ZXMuXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgb2JqZWN0ID0geyAnbmFtZSc6ICdmcmVkJyB9O1xuICAgKiB2YXIgY29weSA9IHsgJ25hbWUnOiAnZnJlZCcgfTtcbiAgICpcbiAgICogb2JqZWN0ID09IGNvcHk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqXG4gICAqIF8uaXNFcXVhbChvYmplY3QsIGNvcHkpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIHZhciB3b3JkcyA9IFsnaGVsbG8nLCAnZ29vZGJ5ZSddO1xuICAgKiB2YXIgb3RoZXJXb3JkcyA9IFsnaGknLCAnZ29vZGJ5ZSddO1xuICAgKlxuICAgKiBfLmlzRXF1YWwod29yZHMsIG90aGVyV29yZHMsIGZ1bmN0aW9uKGEsIGIpIHtcbiAgICogICB2YXIgcmVHcmVldCA9IC9eKD86aGVsbG98aGkpJC9pLFxuICAgKiAgICAgICBhR3JlZXQgPSBfLmlzU3RyaW5nKGEpICYmIHJlR3JlZXQudGVzdChhKSxcbiAgICogICAgICAgYkdyZWV0ID0gXy5pc1N0cmluZyhiKSAmJiByZUdyZWV0LnRlc3QoYik7XG4gICAqXG4gICAqICAgcmV0dXJuIChhR3JlZXQgfHwgYkdyZWV0KSA/IChhR3JlZXQgPT0gYkdyZWV0KSA6IHVuZGVmaW5lZDtcbiAgICogfSk7XG4gICAqIC8vID0+IHRydWVcbiAgICovXG4gIGZ1bmN0aW9uIGlzRXF1YWwoYSwgYikge1xuICAgIHJldHVybiBiYXNlSXNFcXVhbChhLCBiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcywgb3IgY2FuIGJlIGNvZXJjZWQgdG8sIGEgZmluaXRlIG51bWJlci5cbiAgICpcbiAgICogTm90ZTogVGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgbmF0aXZlIGBpc0Zpbml0ZWAgd2hpY2ggd2lsbCByZXR1cm4gdHJ1ZSBmb3JcbiAgICogYm9vbGVhbnMgYW5kIGVtcHR5IHN0cmluZ3MuIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi41LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgZmluaXRlLCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNGaW5pdGUoLTEwMSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc0Zpbml0ZSgnMTAnKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzRmluaXRlKHRydWUpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBfLmlzRmluaXRlKCcnKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqL1xuICBmdW5jdGlvbiBpc0Zpbml0ZSh2YWx1ZSkge1xuICAgIHJldHVybiBuYXRpdmVJc0Zpbml0ZSh2YWx1ZSkgJiYgIW5hdGl2ZUlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzRnVuY3Rpb24oXyk7XG4gICAqIC8vID0+IHRydWVcbiAgICovXG4gIGZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbic7XG4gIH1cbiAgLy8gZmFsbGJhY2sgZm9yIG9sZGVyIHZlcnNpb25zIG9mIENocm9tZSBhbmQgU2FmYXJpXG4gIGlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgICBpc0Z1bmN0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBmdW5jQ2xhc3M7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGUgbGFuZ3VhZ2UgdHlwZSBvZiBPYmplY3QuXG4gICAqIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaXNPYmplY3Qoe30pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBfLmlzT2JqZWN0KDEpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAvLyBjaGVjayBpZiB0aGUgdmFsdWUgaXMgdGhlIEVDTUFTY3JpcHQgbGFuZ3VhZ2UgdHlwZSBvZiBPYmplY3RcbiAgICAvLyBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDhcbiAgICAvLyBhbmQgYXZvaWQgYSBWOCBidWdcbiAgICAvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMjkxXG4gICAgcmV0dXJuICEhKHZhbHVlICYmIG9iamVjdFR5cGVzW3R5cGVvZiB2YWx1ZV0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBOYU5gLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIGlzIG5vdCB0aGUgc2FtZSBhcyBuYXRpdmUgYGlzTmFOYCB3aGljaCB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yXG4gICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtZXJpYyB2YWx1ZXMuIFNlZSBodHRwOi8vZXM1LmdpdGh1Yi5pby8jeDE1LjEuMi40LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc05hTihOYU4pO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgLy8gYE5hTmAgYXMgYSBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmXG4gICAgLy8gKHBlcmZvcm0gdGhlIFtbQ2xhc3NdXSBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lIGhvc3Qgb2JqZWN0cyBpbiBJRSlcbiAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBgbnVsbGAsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc051bGwobnVsbCk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5pc051bGwodW5kZWZpbmVkKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICovXG4gIGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIG51bWJlci5cbiAgICpcbiAgICogTm90ZTogYE5hTmAgaXMgY29uc2lkZXJlZCBhIG51bWJlci4gU2VlIGh0dHA6Ly9lczUuZ2l0aHViLmlvLyN4OC41LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYSBudW1iZXIsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc051bWJlcig4LjQgKiA1KTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8XG4gICAgICB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gbnVtYmVyQ2xhc3MgfHwgZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSByZWd1bGFyIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzUmVnRXhwKC9mcmVkLyk7XG4gICAqIC8vID0+IHRydWVcbiAgICovXG4gIGZ1bmN0aW9uIGlzUmVnRXhwKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIG9iamVjdFR5cGVzW3R5cGVvZiB2YWx1ZV0gJiYgdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT0gcmVnZXhwQ2xhc3MgfHwgZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHZhbHVlYCBpcyBhIHN0cmluZywgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmlzU3RyaW5nKCdmcmVkJyk7XG4gICAqIC8vID0+IHRydWVcbiAgICovXG4gIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fFxuICAgICAgdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnICYmIHRvU3RyaW5nLmNhbGwodmFsdWUpID09IHN0cmluZ0NsYXNzIHx8IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAsIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pc1VuZGVmaW5lZCh2b2lkIDApO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqL1xuICBmdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3VuZGVmaW5lZCc7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYG9iamVjdGAgZXhjbHVkaW5nIHRoZSBzcGVjaWZpZWQgcHJvcGVydGllcy5cbiAgICogUHJvcGVydHkgbmFtZXMgbWF5IGJlIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIGFyZ3VtZW50cyBvciBhcyBhcnJheXMgb2ZcbiAgICogcHJvcGVydHkgbmFtZXMuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZCBmb3IgZWFjaFxuICAgKiBwcm9wZXJ0eSBvZiBgb2JqZWN0YCBvbWl0dGluZyB0aGUgcHJvcGVydGllcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleVxuICAgKiBmb3IuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258Li4uc3RyaW5nfHN0cmluZ1tdfSBbY2FsbGJhY2tdIFRoZSBwcm9wZXJ0aWVzIHRvIG9taXQgb3IgdGhlXG4gICAqICBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IHdpdGhvdXQgdGhlIG9taXR0ZWQgcHJvcGVydGllcy5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5vbWl0KHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LCAnYWdlJyk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgKlxuICAgKiBfLm9taXQoeyAnbmFtZSc6ICdmcmVkJywgJ2FnZSc6IDQwIH0sIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAqICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJztcbiAgICogfSk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgKi9cbiAgZnVuY3Rpb24gb21pdChvYmplY3QpIHtcbiAgICB2YXIgcHJvcHMgPSBbXTtcbiAgICBmb3JJbihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgIHByb3BzLnB1c2goa2V5KTtcbiAgICB9KTtcbiAgICBwcm9wcyA9IGJhc2VEaWZmZXJlbmNlKHByb3BzLCBiYXNlRmxhdHRlbihhcmd1bWVudHMsIHRydWUsIGZhbHNlLCAxKSk7XG5cbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgICAgcmVzdWx0W2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgdHdvIGRpbWVuc2lvbmFsIGFycmF5IG9mIGFuIG9iamVjdCdzIGtleS12YWx1ZSBwYWlycyxcbiAgICogaS5lLiBgW1trZXkxLCB2YWx1ZTFdLCBba2V5MiwgdmFsdWUyXV1gLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBPYmplY3RzXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgbmV3IGFycmF5IG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5wYWlycyh7ICdiYXJuZXknOiAzNiwgJ2ZyZWQnOiA0MCB9KTtcbiAgICogLy8gPT4gW1snYmFybmV5JywgMzZdLCBbJ2ZyZWQnLCA0MF1dIChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgKi9cbiAgZnVuY3Rpb24gcGFpcnMob2JqZWN0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHNoYWxsb3cgY2xvbmUgb2YgYG9iamVjdGAgY29tcG9zZWQgb2YgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICAgKiBQcm9wZXJ0eSBuYW1lcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5cyBvZlxuICAgKiBwcm9wZXJ0eSBuYW1lcy4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIGV4ZWN1dGVkIGZvciBlYWNoXG4gICAqIHByb3BlcnR5IG9mIGBvYmplY3RgIHBpY2tpbmcgdGhlIHByb3BlcnRpZXMgdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXlcbiAgICogZm9yLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgKiAodmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgT2JqZWN0c1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufC4uLnN0cmluZ3xzdHJpbmdbXX0gW2NhbGxiYWNrXSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlclxuICAgKiAgaXRlcmF0aW9uIG9yIHByb3BlcnR5IG5hbWVzIHRvIHBpY2ssIHNwZWNpZmllZCBhcyBpbmRpdmlkdWFsIHByb3BlcnR5XG4gICAqICBuYW1lcyBvciBhcnJheXMgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIHByb3BlcnRpZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ucGljayh7ICduYW1lJzogJ2ZyZWQnLCAnX3VzZXJpZCc6ICdmcmVkMScgfSwgJ25hbWUnKTtcbiAgICogLy8gPT4geyAnbmFtZSc6ICdmcmVkJyB9XG4gICAqXG4gICAqIF8ucGljayh7ICduYW1lJzogJ2ZyZWQnLCAnX3VzZXJpZCc6ICdmcmVkMScgfSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgKiAgIHJldHVybiBrZXkuY2hhckF0KDApICE9ICdfJztcbiAgICogfSk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcgfVxuICAgKi9cbiAgZnVuY3Rpb24gcGljayhvYmplY3QpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcHJvcHMgPSBiYXNlRmxhdHRlbihhcmd1bWVudHMsIHRydWUsIGZhbHNlLCAxKSxcbiAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIga2V5ID0gcHJvcHNbaW5kZXhdO1xuICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IGNvbXBvc2VkIG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IE9iamVjdHNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8udmFsdWVzKHsgJ29uZSc6IDEsICd0d28nOiAyLCAndGhyZWUnOiAzIH0pO1xuICAgKiAvLyA9PiBbMSwgMiwgM10gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAqL1xuICBmdW5jdGlvbiB2YWx1ZXMob2JqZWN0KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIHByb3BzID0ga2V5cyhvYmplY3QpLFxuICAgICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IG9iamVjdFtwcm9wc1tpbmRleF1dO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhIGdpdmVuIHZhbHVlIGlzIHByZXNlbnQgaW4gYSBjb2xsZWN0aW9uIHVzaW5nIHN0cmljdCBlcXVhbGl0eVxuICAgKiBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCBpcyB1c2VkIGFzIHRoZVxuICAgKiBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBhbGlhcyBpbmNsdWRlXG4gICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gY2hlY2sgZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYHRhcmdldGAgZWxlbWVudCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmNvbnRhaW5zKFsxLCAyLCAzXSwgMSk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogXy5jb250YWlucyhbMSwgMiwgM10sIDEsIDIpO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiBfLmNvbnRhaW5zKHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LCAnZnJlZCcpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIF8uY29udGFpbnMoJ3BlYmJsZXMnLCAnZWInKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKi9cbiAgZnVuY3Rpb24gY29udGFpbnMoY29sbGVjdGlvbiwgdGFyZ2V0KSB7XG4gICAgdmFyIGluZGV4T2YgPSBnZXRJbmRleE9mKCksXG4gICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDAsXG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgcmVzdWx0ID0gaW5kZXhPZihjb2xsZWN0aW9uLCB0YXJnZXQpID4gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gKHJlc3VsdCA9IHZhbHVlID09PSB0YXJnZXQpICYmIGluZGljYXRvck9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocm91Z2ggdGhlIGNhbGxiYWNrLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZVxuICAgKiBvZiBlYWNoIGtleSBpcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBrZXkgd2FzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjay5cbiAgICogVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50cztcbiAgICogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgKlxuICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICogZWxzZSBgZmFsc2VgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmNvdW50QnkoWzQuMywgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguZmxvb3IobnVtKTsgfSk7XG4gICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgKlxuICAgKiBfLmNvdW50QnkoWzQuMywgNi4xLCA2LjRdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuZmxvb3IobnVtKTsgfSwgTWF0aCk7XG4gICAqIC8vID0+IHsgJzQnOiAxLCAnNic6IDIgfVxuICAgKlxuICAgKiBfLmNvdW50QnkoWydvbmUnLCAndHdvJywgJ3RocmVlJ10sICdsZW5ndGgnKTtcbiAgICogLy8gPT4geyAnMyc6IDIsICc1JzogMSB9XG4gICAqL1xuICB2YXIgY291bnRCeSA9IGNyZWF0ZUFnZ3JlZ2F0b3IoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpID8gcmVzdWx0W2tleV0rKyA6IHJlc3VsdFtrZXldID0gMSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkgdmFsdWUgZm9yICoqYWxsKiogZWxlbWVudHMgb2ZcbiAgICogYSBjb2xsZWN0aW9uLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAqXG4gICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgKiBlbHNlIGBmYWxzZWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGFsaWFzIGFsbFxuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFsbCBlbGVtZW50cyBwYXNzZWQgdGhlIGNhbGxiYWNrIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKlxuICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1cbiAgICogXTtcbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8uZXZlcnkoY2hhcmFjdGVycywgJ2FnZScpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgKiBfLmV2ZXJ5KGNoYXJhY3RlcnMsIHsgJ2FnZSc6IDM2IH0pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gZXZlcnkoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICBjYWxsYmFjayA9IGNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcblxuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGlmICghKHJlc3VsdCA9ICEhY2FsbGJhY2soY29sbGVjdGlvbltpbmRleF0sIGluZGV4LCBjb2xsZWN0aW9uKSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiAhKHJlc3VsdCA9ICEhY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkgJiYgaW5kaWNhdG9yT2JqZWN0O1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyBhbiBhcnJheSBvZiBhbGwgZWxlbWVudHNcbiAgICogdGhlIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkgZm9yLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZFxuICAgKiBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAqXG4gICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgKiBlbHNlIGBmYWxzZWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGFsaWFzIHNlbGVjdFxuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgcGFzc2VkIHRoZSBjYWxsYmFjayBjaGVjay5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIGV2ZW5zID0gXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAlIDIgPT0gMDsgfSk7XG4gICAqIC8vID0+IFsyLCA0LCA2XVxuICAgKlxuICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfVxuICAgKiBdO1xuICAgKlxuICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICogXy5maWx0ZXIoY2hhcmFjdGVycywgJ2Jsb2NrZWQnKTtcbiAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1dXG4gICAqXG4gICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgKiBfLmZpbHRlcihjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAzNiB9KTtcbiAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAnYmxvY2tlZCc6IGZhbHNlIH1dXG4gICAqL1xuICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgY2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAoY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyB0aGUgZmlyc3QgZWxlbWVudCB0aGF0XG4gICAqIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5IGZvci4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgKlxuICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICogZWxzZSBgZmFsc2VgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBhbGlhcyBkZXRlY3QsIGZpbmRXaGVyZVxuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH0sXG4gICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICogXTtcbiAgICpcbiAgICogXy5maW5kKGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikge1xuICAgKiAgIHJldHVybiBjaHIuYWdlIDwgNDA7XG4gICAqIH0pO1xuICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9XG4gICAqXG4gICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgKiBfLmZpbmQoY2hhcmFjdGVycywgeyAnYWdlJzogMSB9KTtcbiAgICogLy8gPT4gIHsgJ25hbWUnOiAncGViYmxlcycsICdhZ2UnOiAxLCAnYmxvY2tlZCc6IGZhbHNlIH1cbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8uZmluZChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpO1xuICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XG4gICAqL1xuICBmdW5jdGlvbiBmaW5kKGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgY2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBjb2xsZWN0aW9uW2luZGV4XTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gaW5kaWNhdG9yT2JqZWN0O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV4YW1pbmVzIGVhY2ggZWxlbWVudCBpbiBhIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCB0aGF0XG4gICAqIGhhcyB0aGUgZ2l2ZW4gcHJvcGVydGllcy4gV2hlbiBjaGVja2luZyBgcHJvcGVydGllc2AsIHRoaXMgbWV0aG9kXG4gICAqIHBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZVxuICAgKiBlcXVpdmFsZW50IHRvIGVhY2ggb3RoZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIGZpbHRlciBieS5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZvdW5kIGVsZW1lbnQsIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBmb29kID0gW1xuICAgKiAgIHsgJ25hbWUnOiAnYXBwbGUnLCAgJ29yZ2FuaWMnOiBmYWxzZSwgJ3R5cGUnOiAnZnJ1aXQnIH0sXG4gICAqICAgeyAnbmFtZSc6ICdiYW5hbmEnLCAnb3JnYW5pYyc6IHRydWUsICAndHlwZSc6ICdmcnVpdCcgfSxcbiAgICogICB7ICduYW1lJzogJ2JlZXQnLCAgICdvcmdhbmljJzogZmFsc2UsICd0eXBlJzogJ3ZlZ2V0YWJsZScgfVxuICAgKiBdO1xuICAgKlxuICAgKiBfLmZpbmRXaGVyZShmb29kLCB7ICd0eXBlJzogJ3ZlZ2V0YWJsZScgfSk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAnYmVldCcsICdvcmdhbmljJzogZmFsc2UsICd0eXBlJzogJ3ZlZ2V0YWJsZScgfVxuICAgKi9cbiAgZnVuY3Rpb24gZmluZFdoZXJlKG9iamVjdCwgcHJvcGVydGllcykge1xuICAgIHJldHVybiB3aGVyZShvYmplY3QsIHByb3BlcnRpZXMsIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYSBjb2xsZWN0aW9uLCBleGVjdXRpbmcgdGhlIGNhbGxiYWNrIGZvciBlYWNoXG4gICAqIGVsZW1lbnQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS4gQ2FsbGJhY2tzIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieVxuICAgKiBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgKlxuICAgKiBOb3RlOiBBcyB3aXRoIG90aGVyIFwiQ29sbGVjdGlvbnNcIiBtZXRob2RzLCBvYmplY3RzIHdpdGggYSBgbGVuZ3RoYCBwcm9wZXJ0eVxuICAgKiBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgYF8uZm9ySW5gIG9yIGBfLmZvck93bmBcbiAgICogbWF5IGJlIHVzZWQgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGFsaWFzIGVhY2hcbiAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMge0FycmF5fE9iamVjdHxzdHJpbmd9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfKFsxLCAyLCAzXSkuZm9yRWFjaChmdW5jdGlvbihudW0pIHsgY29uc29sZS5sb2cobnVtKTsgfSkuam9pbignLCcpO1xuICAgKiAvLyA9PiBsb2dzIGVhY2ggbnVtYmVyIGFuZCByZXR1cm5zICcxLDIsMydcbiAgICpcbiAgICogXy5mb3JFYWNoKHsgJ29uZSc6IDEsICd0d28nOiAyLCAndGhyZWUnOiAzIH0sIGZ1bmN0aW9uKG51bSkgeyBjb25zb2xlLmxvZyhudW0pOyB9KTtcbiAgICogLy8gPT4gbG9ncyBlYWNoIG51bWJlciBhbmQgcmV0dXJucyB0aGUgb2JqZWN0IChwcm9wZXJ0eSBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgZW52aXJvbm1lbnRzKVxuICAgKi9cbiAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgY2FsbGJhY2sgPSBjYWxsYmFjayAmJiB0eXBlb2YgdGhpc0FyZyA9PSAndW5kZWZpbmVkJyA/IGNhbGxiYWNrIDogYmFzZUNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICBpZiAodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikgPT09IGluZGljYXRvck9iamVjdCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvck93bihjb2xsZWN0aW9uLCBjYWxsYmFjayk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGFsaWFzIGVhY2hSaWdodFxuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgKiBAcmV0dXJucyB7QXJyYXl8T2JqZWN0fHN0cmluZ30gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8oWzEsIDIsIDNdKS5mb3JFYWNoUmlnaHQoZnVuY3Rpb24obnVtKSB7IGNvbnNvbGUubG9nKG51bSk7IH0pLmpvaW4oJywnKTtcbiAgICogLy8gPT4gbG9ncyBlYWNoIG51bWJlciBmcm9tIHJpZ2h0IHRvIGxlZnQgYW5kIHJldHVybnMgJzMsMiwxJ1xuICAgKi9cbiAgZnVuY3Rpb24gZm9yRWFjaFJpZ2h0KGNvbGxlY3Rpb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG4gICAgaWYgKHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicpIHtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoY2FsbGJhY2soY29sbGVjdGlvbltsZW5ndGhdLCBsZW5ndGgsIGNvbGxlY3Rpb24pID09PSBmYWxzZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICBsZW5ndGggPSBwcm9wcy5sZW5ndGg7XG4gICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBrZXkgPSBwcm9wcyA/IHByb3BzWy0tbGVuZ3RoXSA6IC0tbGVuZ3RoO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY29sbGVjdGlvbltrZXldLCBrZXksIGNvbGxlY3Rpb24pID09PSBmYWxzZSAmJiBpbmRpY2F0b3JPYmplY3Q7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAqIGVhY2ggZWxlbWVudCBvZiBhIGNvbGxlY3Rpb24gdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlXG4gICAqIG9mIGVhY2gga2V5IGlzIGFuIGFycmF5IG9mIHRoZSBlbGVtZW50cyByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUga2V5LlxuICAgKiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzO1xuICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAqXG4gICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgKiBlbHNlIGBmYWxzZWBcbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5ncm91cEJ5KFs0LjIsIDYuMSwgNi40XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBNYXRoLmZsb29yKG51bSk7IH0pO1xuICAgKiAvLyA9PiB7ICc0JzogWzQuMl0sICc2JzogWzYuMSwgNi40XSB9XG4gICAqXG4gICAqIF8uZ3JvdXBCeShbNC4yLCA2LjEsIDYuNF0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gdGhpcy5mbG9vcihudW0pOyB9LCBNYXRoKTtcbiAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuNF0gfVxuICAgKlxuICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAqIC8vID0+IHsgJzMnOiBbJ29uZScsICd0d28nXSwgJzUnOiBbJ3RocmVlJ10gfVxuICAgKi9cbiAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSA/IHJlc3VsdFtrZXldIDogcmVzdWx0W2tleV0gPSBbXSkucHVzaCh2YWx1ZSk7XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICogZWFjaCBlbGVtZW50IG9mIHRoZSBjb2xsZWN0aW9uIHRocm91Z2ggdGhlIGdpdmVuIGNhbGxiYWNrLiBUaGUgY29ycmVzcG9uZGluZ1xuICAgKiB2YWx1ZSBvZiBlYWNoIGtleSBpcyB0aGUgbGFzdCBlbGVtZW50IHJlc3BvbnNpYmxlIGZvciBnZW5lcmF0aW5nIHRoZSBrZXkuXG4gICAqIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7XG4gICAqICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICpcbiAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAqIGVsc2UgYGZhbHNlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIGtleXMgPSBbXG4gICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAqICAgeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfVxuICAgKiBdO1xuICAgKlxuICAgKiBfLmluZGV4Qnkoa2V5cywgJ2RpcicpO1xuICAgKiAvLyA9PiB7ICdsZWZ0JzogeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sICdyaWdodCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgKlxuICAgKiBfLmluZGV4Qnkoa2V5cywgZnVuY3Rpb24oa2V5KSB7IHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGtleS5jb2RlKTsgfSk7XG4gICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICpcbiAgICogXy5pbmRleEJ5KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGtleSkgeyB0aGlzLmZyb21DaGFyQ29kZShrZXkuY29kZSk7IH0sIFN0cmluZyk7XG4gICAqIC8vID0+IHsgJ2EnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ2QnOiB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9IH1cbiAgICovXG4gIHZhciBpbmRleEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICB9KTtcblxuICAvKipcbiAgICogSW52b2tlcyB0aGUgbWV0aG9kIG5hbWVkIGJ5IGBtZXRob2ROYW1lYCBvbiBlYWNoIGVsZW1lbnQgaW4gdGhlIGBjb2xsZWN0aW9uYFxuICAgKiByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdGhlIHJlc3VsdHMgb2YgZWFjaCBpbnZva2VkIG1ldGhvZC4gQWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICogd2lsbCBiZSBwcm92aWRlZCB0byBlYWNoIGludm9rZWQgbWV0aG9kLiBJZiBgbWV0aG9kTmFtZWAgaXMgYSBmdW5jdGlvbiBpdFxuICAgKiB3aWxsIGJlIGludm9rZWQgZm9yLCBhbmQgYHRoaXNgIGJvdW5kIHRvLCBlYWNoIGVsZW1lbnQgaW4gdGhlIGBjb2xsZWN0aW9uYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IG1ldGhvZE5hbWUgVGhlIG5hbWUgb2YgdGhlIG1ldGhvZCB0byBpbnZva2Ugb3JcbiAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmludm9rZShbWzUsIDEsIDddLCBbMywgMiwgMV1dLCAnc29ydCcpO1xuICAgKiAvLyA9PiBbWzEsIDUsIDddLCBbMSwgMiwgM11dXG4gICAqXG4gICAqIF8uaW52b2tlKFsxMjMsIDQ1Nl0sIFN0cmluZy5wcm90b3R5cGUuc3BsaXQsICcnKTtcbiAgICogLy8gPT4gW1snMScsICcyJywgJzMnXSwgWyc0JywgJzUnLCAnNiddXVxuICAgKi9cbiAgZnVuY3Rpb24gaW52b2tlKGNvbGxlY3Rpb24sIG1ldGhvZE5hbWUpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlKGFyZ3VtZW50cywgMiksXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGlzRnVuYyA9IHR5cGVvZiBtZXRob2ROYW1lID09ICdmdW5jdGlvbicsXG4gICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDAsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgPyBsZW5ndGggOiAwKTtcblxuICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IChpc0Z1bmMgPyBtZXRob2ROYW1lIDogdmFsdWVbbWV0aG9kTmFtZV0pLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdmFsdWVzIGJ5IHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIHRoZSBjb2xsZWN0aW9uXG4gICAqIHRocm91Z2ggdGhlIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGhcbiAgICogdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAqXG4gICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgKiBlbHNlIGBmYWxzZWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGFsaWFzIGNvbGxlY3RcbiAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGBjYWxsYmFja2AgZXhlY3V0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1hcChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gbnVtICogMzsgfSk7XG4gICAqIC8vID0+IFszLCA2LCA5XVxuICAgKlxuICAgKiBfLm1hcCh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9LCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIG51bSAqIDM7IH0pO1xuICAgKiAvLyA9PiBbMywgNiwgOV0gKHByb3BlcnR5IG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkIGFjcm9zcyBlbnZpcm9ubWVudHMpXG4gICAqXG4gICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgKiBdO1xuICAgKlxuICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICogXy5tYXAoY2hhcmFjdGVycywgJ25hbWUnKTtcbiAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAqL1xuICBmdW5jdGlvbiBtYXAoY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgIGNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtpbmRleF0gPSBjYWxsYmFjayhjb2xsZWN0aW9uW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBbXTtcbiAgICAgIGZvck93bihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGNhbGxiYWNrKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBtYXhpbXVtIHZhbHVlIG9mIGEgY29sbGVjdGlvbi4gSWYgdGhlIGNvbGxlY3Rpb24gaXMgZW1wdHkgb3JcbiAgICogZmFsc2V5IGAtSW5maW5pdHlgIGlzIHJldHVybmVkLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWRcbiAgICogZm9yIGVhY2ggdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaCB0aGUgdmFsdWVcbiAgICogaXMgcmFua2VkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKS5cbiAgICpcbiAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAqIGVsc2UgYGZhbHNlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAqIC8vID0+IDhcbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAqIF07XG4gICAqXG4gICAqIF8ubWF4KGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikgeyByZXR1cm4gY2hyLmFnZTsgfSk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9O1xuICAgKlxuICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICogXy5tYXgoY2hhcmFjdGVycywgJ2FnZScpO1xuICAgKiAvLyA9PiB7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAgfTtcbiAgICovXG4gIGZ1bmN0aW9uIG1heChjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIHZhciBjb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgICAgcmVzdWx0ID0gY29tcHV0ZWQ7XG5cbiAgICAvLyBhbGxvd3Mgd29ya2luZyB3aXRoIGZ1bmN0aW9ucyBsaWtlIGBfLm1hcGAgd2l0aG91dCB1c2luZ1xuICAgIC8vIHRoZWlyIGBpbmRleGAgYXJndW1lbnQgYXMgYSBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJyAmJiB0aGlzQXJnICYmIHRoaXNBcmdbY2FsbGJhY2tdID09PSBjb2xsZWN0aW9uKSB7XG4gICAgICBjYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgaWYgKGNhbGxiYWNrID09IG51bGwgJiYgdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3VycmVudCA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIGlmIChjdXJyZW50ID4gY29tcHV0ZWQpIHtcbiAgICAgICAgICBjb21wdXRlZCA9IGN1cnJlbnQ7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbWluaW11bSB2YWx1ZSBvZiBhIGNvbGxlY3Rpb24uIElmIHRoZSBjb2xsZWN0aW9uIGlzIGVtcHR5IG9yXG4gICAqIGZhbHNleSBgSW5maW5pdHlgIGlzIHJldHVybmVkLiBJZiBhIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgZXhlY3V0ZWRcbiAgICogZm9yIGVhY2ggdmFsdWUgaW4gdGhlIGNvbGxlY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaCB0aGUgdmFsdWVcbiAgICogaXMgcmFua2VkLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWVcbiAgICogYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKS5cbiAgICpcbiAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAqIGVsc2UgYGZhbHNlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAqIC8vID0+IDJcbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAqIF07XG4gICAqXG4gICAqIF8ubWluKGNoYXJhY3RlcnMsIGZ1bmN0aW9uKGNocikgeyByZXR1cm4gY2hyLmFnZTsgfSk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH07XG4gICAqXG4gICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgKiBfLm1pbihjaGFyYWN0ZXJzLCAnYWdlJyk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH07XG4gICAqL1xuICBmdW5jdGlvbiBtaW4oY29sbGVjdGlvbiwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICB2YXIgY29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgICAgcmVzdWx0ID0gY29tcHV0ZWQ7XG5cbiAgICAvLyBhbGxvd3Mgd29ya2luZyB3aXRoIGZ1bmN0aW9ucyBsaWtlIGBfLm1hcGAgd2l0aG91dCB1c2luZ1xuICAgIC8vIHRoZWlyIGBpbmRleGAgYXJndW1lbnQgYXMgYSBjYWxsYmFja1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ2Z1bmN0aW9uJyAmJiB0aGlzQXJnICYmIHRoaXNBcmdbY2FsbGJhY2tdID09PSBjb2xsZWN0aW9uKSB7XG4gICAgICBjYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uID8gY29sbGVjdGlvbi5sZW5ndGggOiAwO1xuXG4gICAgaWYgKGNhbGxiYWNrID09IG51bGwgJiYgdHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJykge1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbltpbmRleF07XG4gICAgICAgIGlmICh2YWx1ZSA8IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuXG4gICAgICBmb3JFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3VycmVudCA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICAgIGlmIChjdXJyZW50IDwgY29tcHV0ZWQpIHtcbiAgICAgICAgICBjb21wdXRlZCA9IGN1cnJlbnQ7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYSBzcGVjaWZpZWQgcHJvcGVydHkgZnJvbSBhbGwgZWxlbWVudHMgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHR5cGUgRnVuY3Rpb25cbiAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gcGx1Y2suXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sXG4gICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgKiBdO1xuICAgKlxuICAgKiBfLnBsdWNrKGNoYXJhY3RlcnMsICduYW1lJyk7XG4gICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgKi9cbiAgdmFyIHBsdWNrID0gbWFwO1xuXG4gIC8qKlxuICAgKiBSZWR1Y2VzIGEgY29sbGVjdGlvbiB0byBhIHZhbHVlIHdoaWNoIGlzIHRoZSBhY2N1bXVsYXRlZCByZXN1bHQgb2YgcnVubmluZ1xuICAgKiBlYWNoIGVsZW1lbnQgaW4gdGhlIGNvbGxlY3Rpb24gdGhyb3VnaCB0aGUgY2FsbGJhY2ssIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgKiBjYWxsYmFjayBleGVjdXRpb24gY29uc3VtZXMgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMgZXhlY3V0aW9uLiBJZlxuICAgKiBgYWNjdW11bGF0b3JgIGlzIG5vdCBwcm92aWRlZCB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgY29sbGVjdGlvbiB3aWxsIGJlXG4gICAqIHVzZWQgYXMgdGhlIGluaXRpYWwgYGFjY3VtdWxhdG9yYCB2YWx1ZS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYFxuICAgKiBhbmQgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOyAoYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBhbGlhcyBmb2xkbCwgaW5qZWN0XG4gICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIEluaXRpYWwgdmFsdWUgb2YgdGhlIGFjY3VtdWxhdG9yLlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgc3VtID0gXy5yZWR1Y2UoWzEsIDIsIDNdLCBmdW5jdGlvbihzdW0sIG51bSkge1xuICAgKiAgIHJldHVybiBzdW0gKyBudW07XG4gICAqIH0pO1xuICAgKiAvLyA9PiA2XG4gICAqXG4gICAqIHZhciBtYXBwZWQgPSBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfSwgZnVuY3Rpb24ocmVzdWx0LCBudW0sIGtleSkge1xuICAgKiAgIHJlc3VsdFtrZXldID0gbnVtICogMztcbiAgICogICByZXR1cm4gcmVzdWx0O1xuICAgKiB9LCB7fSk7XG4gICAqIC8vID0+IHsgJ2EnOiAzLCAnYic6IDYsICdjJzogOSB9XG4gICAqL1xuICBmdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgY2FsbGJhY2ssIGFjY3VtdWxhdG9yLCB0aGlzQXJnKSB7XG4gICAgaWYgKCFjb2xsZWN0aW9uKSByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgdmFyIG5vYWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcbiAgICBjYWxsYmFjayA9IGNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCA0KTtcblxuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcblxuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICBpZiAobm9hY2N1bSkge1xuICAgICAgICBhY2N1bXVsYXRvciA9IGNvbGxlY3Rpb25bKytpbmRleF07XG4gICAgICB9XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBhY2N1bXVsYXRvciA9IGNhbGxiYWNrKGFjY3VtdWxhdG9yLCBjb2xsZWN0aW9uW2luZGV4XSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3JPd24oY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIGFjY3VtdWxhdG9yID0gbm9hY2N1bVxuICAgICAgICAgID8gKG5vYWNjdW0gPSBmYWxzZSwgdmFsdWUpXG4gICAgICAgICAgOiBjYWxsYmFjayhhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJlZHVjZWAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgKiBvZiBhIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGFsaWFzIGZvbGRyXG4gICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIEluaXRpYWwgdmFsdWUgb2YgdGhlIGFjY3VtdWxhdG9yLlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGFjY3VtdWxhdGVkIHZhbHVlLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgbGlzdCA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICogdmFyIGZsYXQgPSBfLnJlZHVjZVJpZ2h0KGxpc3QsIGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGEuY29uY2F0KGIpOyB9LCBbXSk7XG4gICAqIC8vID0+IFs0LCA1LCAyLCAzLCAwLCAxXVxuICAgKi9cbiAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgY2FsbGJhY2ssIGFjY3VtdWxhdG9yLCB0aGlzQXJnKSB7XG4gICAgdmFyIG5vYWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcbiAgICBjYWxsYmFjayA9IGNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCA0KTtcbiAgICBmb3JFYWNoUmlnaHQoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IG5vYWNjdW1cbiAgICAgICAgPyAobm9hY2N1bSA9IGZhbHNlLCB2YWx1ZSlcbiAgICAgICAgOiBjYWxsYmFjayhhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogVGhlIG9wcG9zaXRlIG9mIGBfLmZpbHRlcmAgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYVxuICAgKiBjb2xsZWN0aW9uIHRoYXQgdGhlIGNhbGxiYWNrIGRvZXMgKipub3QqKiByZXR1cm4gdHJ1ZXkgZm9yLlxuICAgKlxuICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICogZWxzZSBgZmFsc2VgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBmYWlsZWQgdGhlIGNhbGxiYWNrIGNoZWNrLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgb2RkcyA9IF8ucmVqZWN0KFsxLCAyLCAzLCA0LCA1LCA2XSwgZnVuY3Rpb24obnVtKSB7IHJldHVybiBudW0gJSAyID09IDA7IH0pO1xuICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYsICdibG9ja2VkJzogZmFsc2UgfSxcbiAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2Jsb2NrZWQnOiB0cnVlIH1cbiAgICogXTtcbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8ucmVqZWN0KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9XVxuICAgKlxuICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICogXy5yZWplY3QoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAqIC8vID0+IFt7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAsICdibG9ja2VkJzogdHJ1ZSB9XVxuICAgKi9cbiAgZnVuY3Rpb24gcmVqZWN0KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgY2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgcmV0dXJuIGZpbHRlcihjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgIHJldHVybiAhY2FsbGJhY2sodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgYSByYW5kb20gZWxlbWVudCBvciBgbmAgcmFuZG9tIGVsZW1lbnRzIGZyb20gYSBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW25dIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gc2FtcGxlLlxuICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gQWxsb3dzIHdvcmtpbmcgd2l0aCBmdW5jdGlvbnMgbGlrZSBgXy5tYXBgXG4gICAqICB3aXRob3V0IHVzaW5nIHRoZWlyIGBpbmRleGAgYXJndW1lbnRzIGFzIGBuYC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gc2FtcGxlKHMpIG9mIGBjb2xsZWN0aW9uYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICogLy8gPT4gMlxuICAgKlxuICAgKiBfLnNhbXBsZShbMSwgMiwgMywgNF0sIDIpO1xuICAgKiAvLyA9PiBbMywgMV1cbiAgICovXG4gIGZ1bmN0aW9uIHNhbXBsZShjb2xsZWN0aW9uLCBuLCBndWFyZCkge1xuICAgIGlmIChjb2xsZWN0aW9uICYmIHR5cGVvZiBjb2xsZWN0aW9uLmxlbmd0aCAhPSAnbnVtYmVyJykge1xuICAgICAgY29sbGVjdGlvbiA9IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgICAgcmV0dXJuIGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uW2Jhc2VSYW5kb20oMCwgY29sbGVjdGlvbi5sZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBzaHVmZmxlKGNvbGxlY3Rpb24pO1xuICAgIHJlc3VsdC5sZW5ndGggPSBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIG4pLCByZXN1bHQubGVuZ3RoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygc2h1ZmZsZWQgdmFsdWVzLCB1c2luZyBhIHZlcnNpb24gb2YgdGhlIEZpc2hlci1ZYXRlc1xuICAgKiBzaHVmZmxlLiBTZWUgaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZS5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBzaHVmZmxlZCBjb2xsZWN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLnNodWZmbGUoWzEsIDIsIDMsIDQsIDUsIDZdKTtcbiAgICogLy8gPT4gWzQsIDEsIDYsIDMsIDUsIDJdXG4gICAqL1xuICBmdW5jdGlvbiBzaHVmZmxlKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMCxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkodHlwZW9mIGxlbmd0aCA9PSAnbnVtYmVyJyA/IGxlbmd0aCA6IDApO1xuXG4gICAgZm9yRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIHJhbmQgPSBiYXNlUmFuZG9tKDAsICsraW5kZXgpO1xuICAgICAgcmVzdWx0W2luZGV4XSA9IHJlc3VsdFtyYW5kXTtcbiAgICAgIHJlc3VsdFtyYW5kXSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiB0aGUgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBgY29sbGVjdGlvbi5sZW5ndGhgIGZvciBhcnJheXNcbiAgICogYW5kIGFycmF5LWxpa2Ugb2JqZWN0cyBvciB0aGUgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGBjb2xsZWN0aW9uLmxlbmd0aGAgb3IgbnVtYmVyIG9mIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uc2l6ZShbMSwgMl0pO1xuICAgKiAvLyA9PiAyXG4gICAqXG4gICAqIF8uc2l6ZSh7ICdvbmUnOiAxLCAndHdvJzogMiwgJ3RocmVlJzogMyB9KTtcbiAgICogLy8gPT4gM1xuICAgKlxuICAgKiBfLnNpemUoJ3BlYmJsZXMnKTtcbiAgICogLy8gPT4gN1xuICAgKi9cbiAgZnVuY3Rpb24gc2l6ZShjb2xsZWN0aW9uKSB7XG4gICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDA7XG4gICAgcmV0dXJuIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgPyBsZW5ndGggOiBrZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGNhbGxiYWNrIHJldHVybnMgYSB0cnVleSB2YWx1ZSBmb3IgKiphbnkqKiBlbGVtZW50IG9mIGFcbiAgICogY29sbGVjdGlvbi4gVGhlIGZ1bmN0aW9uIHJldHVybnMgYXMgc29vbiBhcyBpdCBmaW5kcyBhIHBhc3NpbmcgdmFsdWUgYW5kXG4gICAqIGRvZXMgbm90IGl0ZXJhdGUgb3ZlciB0aGUgZW50aXJlIGNvbGxlY3Rpb24uIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0b1xuICAgKiBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICpcbiAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAqIGVsc2UgYGZhbHNlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAYWxpYXMgYW55XG4gICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxzdHJpbmd9IFtjYWxsYmFjaz1pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGNhbGxlZFxuICAgKiAgcGVyIGl0ZXJhdGlvbi4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWRcbiAgICogIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW55IGVsZW1lbnQgcGFzc2VkIHRoZSBjYWxsYmFjayBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5zb21lKFtudWxsLCAwLCAneWVzJywgZmFsc2VdLCBCb29sZWFuKTtcbiAgICogLy8gPT4gdHJ1ZVxuICAgKlxuICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2Jsb2NrZWQnOiBmYWxzZSB9LFxuICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYmxvY2tlZCc6IHRydWUgfVxuICAgKiBdO1xuICAgKlxuICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICogXy5zb21lKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAqIC8vID0+IHRydWVcbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8uc29tZShjaGFyYWN0ZXJzLCB7ICdhZ2UnOiAxIH0pO1xuICAgKiAvLyA9PiBmYWxzZVxuICAgKi9cbiAgZnVuY3Rpb24gc29tZShjb2xsZWN0aW9uLCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgY2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG5cbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbiA/IGNvbGxlY3Rpb24ubGVuZ3RoIDogMDtcblxuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICBpZiAoKHJlc3VsdCA9IGNhbGxiYWNrKGNvbGxlY3Rpb25baW5kZXhdLCBpbmRleCwgY29sbGVjdGlvbikpKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yT3duKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gKHJlc3VsdCA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpICYmIGluZGljYXRvck9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gISFyZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgKiBydW5uaW5nIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24gdGhyb3VnaCB0aGUgY2FsbGJhY2suIFRoaXMgbWV0aG9kXG4gICAqIHBlcmZvcm1zIGEgc3RhYmxlIHNvcnQsIHRoYXQgaXMsIGl0IHdpbGwgcHJlc2VydmUgdGhlIG9yaWdpbmFsIHNvcnQgb3JkZXJcbiAgICogb2YgZXF1YWwgZWxlbWVudHMuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aFxuICAgKiB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICpcbiAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogSWYgYW4gYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNvbGxlY3Rpb25cbiAgICogd2lsbCBiZSBzb3J0ZWQgYnkgZWFjaCBwcm9wZXJ0eSB2YWx1ZS5cbiAgICpcbiAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAqIGVsc2UgYGZhbHNlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvbnNcbiAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIHNvcnRlZCBlbGVtZW50cy5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIE1hdGguc2luKG51bSk7IH0pO1xuICAgKiAvLyA9PiBbMywgMSwgMl1cbiAgICpcbiAgICogXy5zb3J0QnkoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHsgcmV0dXJuIHRoaXMuc2luKG51bSk7IH0sIE1hdGgpO1xuICAgKiAvLyA9PiBbMywgMSwgMl1cbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDI2IH0sXG4gICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDMwIH1cbiAgICogXTtcbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8ubWFwKF8uc29ydEJ5KGNoYXJhY3RlcnMsICdhZ2UnKSwgXy52YWx1ZXMpO1xuICAgKiAvLyA9PiBbWydiYXJuZXknLCAyNl0sIFsnZnJlZCcsIDMwXSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDQwXV1cbiAgICpcbiAgICogLy8gc29ydGluZyBieSBtdWx0aXBsZSBwcm9wZXJ0aWVzXG4gICAqIF8ubWFwKF8uc29ydEJ5KGNoYXJhY3RlcnMsIFsnbmFtZScsICdhZ2UnXSksIF8udmFsdWVzKTtcbiAgICogLy8gPSA+IFtbJ2Jhcm5leScsIDI2XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDBdXVxuICAgKi9cbiAgZnVuY3Rpb24gc29ydEJ5KGNvbGxlY3Rpb24sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGNvbGxlY3Rpb24gPyBjb2xsZWN0aW9uLmxlbmd0aCA6IDAsXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgPyBsZW5ndGggOiAwKTtcblxuICAgIGNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgIGZvckVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0ge1xuICAgICAgICAnY3JpdGVyaWEnOiBbY2FsbGJhY2sodmFsdWUsIGtleSwgY29sbGVjdGlvbildLFxuICAgICAgICAnaW5kZXgnOiBpbmRleCxcbiAgICAgICAgJ3ZhbHVlJzogdmFsdWVcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuICAgIHJlc3VsdC5zb3J0KGNvbXBhcmVBc2NlbmRpbmcpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgcmVzdWx0W2xlbmd0aF0gPSByZXN1bHRbbGVuZ3RoXS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgYGNvbGxlY3Rpb25gIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uc1xuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdHxzdHJpbmd9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgY29udmVydGVkIGFycmF5LlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiAoZnVuY3Rpb24oKSB7IHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKS5zbGljZSgxKTsgfSkoMSwgMiwgMywgNCk7XG4gICAqIC8vID0+IFsyLCAzLCA0XVxuICAgKi9cbiAgZnVuY3Rpb24gdG9BcnJheShjb2xsZWN0aW9uKSB7XG4gICAgaWYgKGlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgIHJldHVybiBzbGljZShjb2xsZWN0aW9uKTtcbiAgICB9XG4gICAgaWYgKGNvbGxlY3Rpb24gJiYgdHlwZW9mIGNvbGxlY3Rpb24ubGVuZ3RoID09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gbWFwKGNvbGxlY3Rpb24pO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzKGNvbGxlY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGEgZGVlcCBjb21wYXJpc29uIG9mIGVhY2ggZWxlbWVudCBpbiBhIGBjb2xsZWN0aW9uYCB0byB0aGUgZ2l2ZW5cbiAgICogYHByb3BlcnRpZXNgIG9iamVjdCwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIGFsbCBlbGVtZW50cyB0aGF0IGhhdmUgZXF1aXZhbGVudFxuICAgKiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHR5cGUgRnVuY3Rpb25cbiAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25zXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBmaWx0ZXIgYnkuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIGdpdmVuIHByb3BlcnRpZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2LCAncGV0cyc6IFsnaG9wcHknXSB9LFxuICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAncGV0cyc6IFsnYmFieSBwdXNzJywgJ2Rpbm8nXSB9XG4gICAqIF07XG4gICAqXG4gICAqIF8ud2hlcmUoY2hhcmFjdGVycywgeyAnYWdlJzogMzYgfSk7XG4gICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ3BldHMnOiBbJ2hvcHB5J10gfV1cbiAgICpcbiAgICogXy53aGVyZShjaGFyYWN0ZXJzLCB7ICdwZXRzJzogWydkaW5vJ10gfSk7XG4gICAqIC8vID0+IFt7ICduYW1lJzogJ2ZyZWQnLCAnYWdlJzogNDAsICdwZXRzJzogWydiYWJ5IHB1c3MnLCAnZGlubyddIH1dXG4gICAqL1xuICBmdW5jdGlvbiB3aGVyZShjb2xsZWN0aW9uLCBwcm9wZXJ0aWVzLCBmaXJzdCkge1xuICAgIHJldHVybiAoZmlyc3QgJiYgaXNFbXB0eShwcm9wZXJ0aWVzKSlcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IChmaXJzdCA/IGZpbmQgOiBmaWx0ZXIpKGNvbGxlY3Rpb24sIHByb3BlcnRpZXMpO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgd2l0aCBhbGwgZmFsc2V5IHZhbHVlcyByZW1vdmVkLiBUaGUgdmFsdWVzIGBmYWxzZWAsIGBudWxsYCxcbiAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGFsbCBmYWxzZXkuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29tcGFjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAqL1xuICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgdmFsdWVzIG9mIHRoZSBwcm92aWRlZCBhcnJheXMgdXNpbmcgc3RyaWN0XG4gICAqIGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBwcm9jZXNzLlxuICAgKiBAcGFyYW0gey4uLkFycmF5fSBbdmFsdWVzXSBUaGUgYXJyYXlzIG9mIHZhbHVlcyB0byBleGNsdWRlLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmRpZmZlcmVuY2UoWzEsIDIsIDMsIDQsIDVdLCBbNSwgMiwgMTBdKTtcbiAgICogLy8gPT4gWzEsIDMsIDRdXG4gICAqL1xuICBmdW5jdGlvbiBkaWZmZXJlbmNlKGFycmF5KSB7XG4gICAgcmV0dXJuIGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUsIDEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBmaXJzdCBlbGVtZW50IG9yIGZpcnN0IGBuYCBlbGVtZW50cyBvZiBhbiBhcnJheS4gSWYgYSBjYWxsYmFja1xuICAgKiBpcyBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhcmUgcmV0dXJuZWQgYXMgbG9uZ1xuICAgKiBhcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVleS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmRcbiAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgKlxuICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICogZWxzZSBgZmFsc2VgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBhbGlhcyBoZWFkLCB0YWtlXG4gICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxudW1iZXJ8c3RyaW5nfSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBlbGVtZW50IG9yIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gcmV0dXJuLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICogIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCJcbiAgICogIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudChzKSBvZiBgYXJyYXlgLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmZpcnN0KFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IDFcbiAgICpcbiAgICogXy5maXJzdChbMSwgMiwgM10sIDIpO1xuICAgKiAvLyA9PiBbMSwgMl1cbiAgICpcbiAgICogXy5maXJzdChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgKiAgIHJldHVybiBudW0gPCAzO1xuICAgKiB9KTtcbiAgICogLy8gPT4gWzEsIDJdXG4gICAqXG4gICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IGZhbHNlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAgJ2VtcGxveWVyJzogJ25hJyB9XG4gICAqIF07XG4gICAqXG4gICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgKiBfLmZpcnN0KGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICdibG9ja2VkJzogdHJ1ZSwgJ2VtcGxveWVyJzogJ3NsYXRlJyB9XVxuICAgKlxuICAgKiAvLyB1c2luZyBcIl8ud2hlcmVcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICogXy5wbHVjayhfLmZpcnN0KGNoYXJhY3RlcnMsIHsgJ2VtcGxveWVyJzogJ3NsYXRlJyB9KSwgJ25hbWUnKTtcbiAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAqL1xuICBmdW5jdGlvbiBmaXJzdChhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICB2YXIgbiA9IDAsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ251bWJlcicgJiYgY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICBjYWxsYmFjayA9IGNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICBuKys7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG4gPSBjYWxsYmFjaztcbiAgICAgIGlmIChuID09IG51bGwgfHwgdGhpc0FyZykge1xuICAgICAgICByZXR1cm4gYXJyYXkgPyBhcnJheVswXSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNsaWNlKGFycmF5LCAwLCBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIG4pLCBsZW5ndGgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGbGF0dGVucyBhIG5lc3RlZCBhcnJheSAodGhlIG5lc3RpbmcgY2FuIGJlIHRvIGFueSBkZXB0aCkuIElmIGBpc1NoYWxsb3dgXG4gICAqIGlzIHRydWV5LCB0aGUgYXJyYXkgd2lsbCBvbmx5IGJlIGZsYXR0ZW5lZCBhIHNpbmdsZSBsZXZlbC4gSWYgYSBjYWxsYmFja1xuICAgKiBpcyBwcm92aWRlZCBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5IGlzIHBhc3NlZCB0aHJvdWdoIHRoZSBjYWxsYmFjayBiZWZvcmVcbiAgICogZmxhdHRlbmluZy4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZCB3aXRoIHRocmVlXG4gICAqIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgKlxuICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICogZWxzZSBgZmFsc2VgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU2hhbGxvdz1mYWxzZV0gQSBmbGFnIHRvIHJlc3RyaWN0IGZsYXR0ZW5pbmcgdG8gYSBzaW5nbGUgbGV2ZWwuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uZmxhdHRlbihbMSwgWzJdLCBbMywgW1s0XV1dXSk7XG4gICAqIC8vID0+IFsxLCAyLCAzLCA0XTtcbiAgICpcbiAgICogXy5mbGF0dGVuKFsxLCBbMl0sIFszLCBbWzRdXV1dLCB0cnVlKTtcbiAgICogLy8gPT4gWzEsIDIsIDMsIFtbNF1dXTtcbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzAsICdwZXRzJzogWydob3BweSddIH0sXG4gICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAnYWdlJzogNDAsICdwZXRzJzogWydiYWJ5IHB1c3MnLCAnZGlubyddIH1cbiAgICogXTtcbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8uZmxhdHRlbihjaGFyYWN0ZXJzLCAncGV0cycpO1xuICAgKiAvLyA9PiBbJ2hvcHB5JywgJ2JhYnkgcHVzcycsICdkaW5vJ11cbiAgICovXG4gIGZ1bmN0aW9uIGZsYXR0ZW4oYXJyYXksIGlzU2hhbGxvdykge1xuICAgIHJldHVybiBiYXNlRmxhdHRlbihhcnJheSwgaXNTaGFsbG93KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBpbmRleCBhdCB3aGljaCB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIHVzaW5nXG4gICAqIHN0cmljdCBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIHRoZSBhcnJheSBpcyBhbHJlYWR5IHNvcnRlZFxuICAgKiBwcm92aWRpbmcgYHRydWVgIGZvciBgZnJvbUluZGV4YCB3aWxsIHJ1biBhIGZhc3RlciBiaW5hcnkgc2VhcmNoLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtib29sZWFufG51bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20gb3IgYHRydWVgXG4gICAqICB0byBwZXJmb3JtIGEgYmluYXJ5IHNlYXJjaCBvbiBhIHNvcnRlZCBhcnJheS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUgb3IgYC0xYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5pbmRleE9mKFsxLCAyLCAzLCAxLCAyLCAzXSwgMik7XG4gICAqIC8vID0+IDFcbiAgICpcbiAgICogXy5pbmRleE9mKFsxLCAyLCAzLCAxLCAyLCAzXSwgMiwgMyk7XG4gICAqIC8vID0+IDRcbiAgICpcbiAgICogXy5pbmRleE9mKFsxLCAxLCAyLCAyLCAzLCAzXSwgMiwgdHJ1ZSk7XG4gICAqIC8vID0+IDJcbiAgICovXG4gIGZ1bmN0aW9uIGluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICBpZiAodHlwZW9mIGZyb21JbmRleCA9PSAnbnVtYmVyJykge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggPCAwID8gbmF0aXZlTWF4KDAsIGxlbmd0aCArIGZyb21JbmRleCkgOiBmcm9tSW5kZXggfHwgMCk7XG4gICAgfSBlbHNlIGlmIChmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBpbmRleCA9IHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICByZXR1cm4gYXJyYXlbaW5kZXhdID09PSB2YWx1ZSA/IGluZGV4IDogLTE7XG4gICAgfVxuICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgb3IgbGFzdCBgbmAgZWxlbWVudHMgb2YgYW4gYXJyYXkuIElmIGFcbiAgICogY2FsbGJhY2sgaXMgcHJvdmlkZWQgZWxlbWVudHMgYXQgdGhlIGVuZCBvZiB0aGUgYXJyYXkgYXJlIGV4Y2x1ZGVkIGZyb21cbiAgICogdGhlIHJlc3VsdCBhcyBsb25nIGFzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWV5LiBUaGUgY2FsbGJhY2sgaXMgYm91bmRcbiAgICogdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOyAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAqXG4gICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgKiBlbHNlIGBmYWxzZWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fG51bWJlcnxzdHJpbmd9IFtjYWxsYmFjaz0xXSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAqICBwZXIgZWxlbWVudCBvciB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIGV4Y2x1ZGUuIElmIGEgcHJvcGVydHkgbmFtZSBvclxuICAgKiAgb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZCB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIlxuICAgKiAgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIHNsaWNlIG9mIGBhcnJheWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaW5pdGlhbChbMSwgMiwgM10pO1xuICAgKiAvLyA9PiBbMSwgMl1cbiAgICpcbiAgICogXy5pbml0aWFsKFsxLCAyLCAzXSwgMik7XG4gICAqIC8vID0+IFsxXVxuICAgKlxuICAgKiBfLmluaXRpYWwoWzEsIDIsIDNdLCBmdW5jdGlvbihudW0pIHtcbiAgICogICByZXR1cm4gbnVtID4gMTtcbiAgICogfSk7XG4gICAqIC8vID0+IFsxXVxuICAgKlxuICAgKiB2YXIgY2hhcmFjdGVycyA9IFtcbiAgICogICB7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IGZhbHNlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH0sXG4gICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2Jsb2NrZWQnOiB0cnVlLCAgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICduYScgfVxuICAgKiBdO1xuICAgKlxuICAgKiAvLyB1c2luZyBcIl8ucGx1Y2tcIiBjYWxsYmFjayBzaG9ydGhhbmRcbiAgICogXy5pbml0aWFsKGNoYXJhY3RlcnMsICdibG9ja2VkJyk7XG4gICAqIC8vID0+IFt7ICduYW1lJzogJ2Jhcm5leScsICAnYmxvY2tlZCc6IGZhbHNlLCAnZW1wbG95ZXInOiAnc2xhdGUnIH1dXG4gICAqXG4gICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgKiBfLnBsdWNrKF8uaW5pdGlhbChjaGFyYWN0ZXJzLCB7ICdlbXBsb3llcic6ICduYScgfSksICduYW1lJyk7XG4gICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgKi9cbiAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICB2YXIgbiA9IDAsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogMDtcblxuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ251bWJlcicgJiYgY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgY2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMyk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSAmJiBjYWxsYmFjayhhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHtcbiAgICAgICAgbisrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuID0gKGNhbGxiYWNrID09IG51bGwgfHwgdGhpc0FyZykgPyAxIDogY2FsbGJhY2sgfHwgbjtcbiAgICB9XG4gICAgcmV0dXJuIHNsaWNlKGFycmF5LCAwLCBuYXRpdmVNaW4obmF0aXZlTWF4KDAsIGxlbmd0aCAtIG4pLCBsZW5ndGgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHVuaXF1ZSB2YWx1ZXMgcHJlc2VudCBpbiBhbGwgcHJvdmlkZWQgYXJyYXlzIHVzaW5nXG4gICAqIHN0cmljdCBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXldIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHNoYXJlZCB2YWx1ZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uaW50ZXJzZWN0aW9uKFsxLCAyLCAzXSwgWzUsIDIsIDEsIDRdLCBbMiwgMV0pO1xuICAgKiAvLyA9PiBbMSwgMl1cbiAgICovXG4gIGZ1bmN0aW9uIGludGVyc2VjdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IFtdLFxuICAgICAgICBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKythcmdzSW5kZXggPCBhcmdzTGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcmd1bWVudHNbYXJnc0luZGV4XTtcbiAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpKSB7XG4gICAgICAgICBhcmdzLnB1c2godmFsdWUpO1xuICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGFycmF5ID0gYXJnc1swXSxcbiAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgaW5kZXhPZiA9IGdldEluZGV4T2YoKSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgIG91dGVyOlxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmIChpbmRleE9mKHJlc3VsdCwgdmFsdWUpIDwgMCkge1xuICAgICAgICB2YXIgYXJnc0luZGV4ID0gYXJnc0xlbmd0aDtcbiAgICAgICAgd2hpbGUgKC0tYXJnc0luZGV4KSB7XG4gICAgICAgICAgaWYgKGluZGV4T2YoYXJnc1thcmdzSW5kZXhdLCB2YWx1ZSkgPCAwKSB7XG4gICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGxhc3QgZWxlbWVudCBvciBsYXN0IGBuYCBlbGVtZW50cyBvZiBhbiBhcnJheS4gSWYgYSBjYWxsYmFjayBpc1xuICAgKiBwcm92aWRlZCBlbGVtZW50cyBhdCB0aGUgZW5kIG9mIHRoZSBhcnJheSBhcmUgcmV0dXJuZWQgYXMgbG9uZyBhcyB0aGVcbiAgICogY2FsbGJhY2sgcmV0dXJucyB0cnVleS4gVGhlIGNhbGxiYWNrIGlzIGJvdW5kIHRvIGB0aGlzQXJnYCBhbmQgaW52b2tlZFxuICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czsgKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgKlxuICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICogZWxzZSBgZmFsc2VgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdHxudW1iZXJ8c3RyaW5nfSBbY2FsbGJhY2tdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBlbGVtZW50IG9yIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gcmV0dXJuLiBJZiBhIHByb3BlcnR5IG5hbWUgb3JcbiAgICogIG9iamVjdCBpcyBwcm92aWRlZCBpdCB3aWxsIGJlIHVzZWQgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCJcbiAgICogIHN0eWxlIGNhbGxiYWNrLCByZXNwZWN0aXZlbHkuXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgY2FsbGJhY2tgLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50KHMpIG9mIGBhcnJheWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ubGFzdChbMSwgMiwgM10pO1xuICAgKiAvLyA9PiAzXG4gICAqXG4gICAqIF8ubGFzdChbMSwgMiwgM10sIDIpO1xuICAgKiAvLyA9PiBbMiwgM11cbiAgICpcbiAgICogXy5sYXN0KFsxLCAyLCAzXSwgZnVuY3Rpb24obnVtKSB7XG4gICAqICAgcmV0dXJuIG51bSA+IDE7XG4gICAqIH0pO1xuICAgKiAvLyA9PiBbMiwgM11cbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2Jsb2NrZWQnOiBmYWxzZSwgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICogICB7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICAnZW1wbG95ZXInOiAnbmEnIH1cbiAgICogXTtcbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8ucGx1Y2soXy5sYXN0KGNoYXJhY3RlcnMsICdibG9ja2VkJyksICduYW1lJyk7XG4gICAqIC8vID0+IFsnZnJlZCcsICdwZWJibGVzJ11cbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLndoZXJlXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8ubGFzdChjaGFyYWN0ZXJzLCB7ICdlbXBsb3llcic6ICduYScgfSk7XG4gICAqIC8vID0+IFt7ICduYW1lJzogJ3BlYmJsZXMnLCAnYmxvY2tlZCc6IHRydWUsICdlbXBsb3llcic6ICduYScgfV1cbiAgICovXG4gIGZ1bmN0aW9uIGxhc3QoYXJyYXksIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgdmFyIG4gPSAwLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9ICdudW1iZXInICYmIGNhbGxiYWNrICE9IG51bGwpIHtcbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aDtcbiAgICAgIGNhbGxiYWNrID0gY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDMpO1xuICAgICAgd2hpbGUgKGluZGV4LS0gJiYgY2FsbGJhY2soYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIG4rKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbiA9IGNhbGxiYWNrO1xuICAgICAgaWYgKG4gPT0gbnVsbCB8fCB0aGlzQXJnKSB7XG4gICAgICAgIHJldHVybiBhcnJheSA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2xpY2UoYXJyYXksIG5hdGl2ZU1heCgwLCBsZW5ndGggLSBuKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGxhc3Qgb2NjdXJyZW5jZSBvZiBgdmFsdWVgIGlzIGZvdW5kIHVzaW5nIHN0cmljdFxuICAgKiBlcXVhbGl0eSBmb3IgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuIElmIGBmcm9tSW5kZXhgIGlzIG5lZ2F0aXZlLCBpdCBpcyB1c2VkXG4gICAqIGFzIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKlxuICAgKiBJZiBhIHByb3BlcnR5IG5hbWUgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLnBsdWNrXCIgc3R5bGVcbiAgICogY2FsbGJhY2sgd2lsbCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQgZm9yIGBjYWxsYmFja2AgdGhlIGNyZWF0ZWQgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2tcbiAgICogd2lsbCByZXR1cm4gYHRydWVgIGZvciBlbGVtZW50cyB0aGF0IGhhdmUgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGdpdmVuIG9iamVjdCxcbiAgICogZWxzZSBgZmFsc2VgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNlYXJjaC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUgb3IgYC0xYC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMywgMSwgMiwgM10sIDIpO1xuICAgKiAvLyA9PiA0XG4gICAqXG4gICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDMsIDEsIDIsIDNdLCAyLCAzKTtcbiAgICogLy8gPT4gMVxuICAgKi9cbiAgZnVuY3Rpb24gbGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBhcnJheSA/IGFycmF5Lmxlbmd0aCA6IDA7XG4gICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggPT0gJ251bWJlcicpIHtcbiAgICAgIGluZGV4ID0gKGZyb21JbmRleCA8IDAgPyBuYXRpdmVNYXgoMCwgaW5kZXggKyBmcm9tSW5kZXgpIDogbmF0aXZlTWluKGZyb21JbmRleCwgaW5kZXggLSAxKSkgKyAxO1xuICAgIH1cbiAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICogYHN0YXJ0YCB1cCB0byBidXQgbm90IGluY2x1ZGluZyBgZW5kYC4gSWYgYHN0YXJ0YCBpcyBsZXNzIHRoYW4gYHN0b3BgIGFcbiAgICogemVyby1sZW5ndGggcmFuZ2UgaXMgY3JlYXRlZCB1bmxlc3MgYSBuZWdhdGl2ZSBgc3RlcGAgaXMgc3BlY2lmaWVkLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyByYW5nZSBhcnJheS5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5yYW5nZSg0KTtcbiAgICogLy8gPT4gWzAsIDEsIDIsIDNdXG4gICAqXG4gICAqIF8ucmFuZ2UoMSwgNSk7XG4gICAqIC8vID0+IFsxLCAyLCAzLCA0XVxuICAgKlxuICAgKiBfLnJhbmdlKDAsIDIwLCA1KTtcbiAgICogLy8gPT4gWzAsIDUsIDEwLCAxNV1cbiAgICpcbiAgICogXy5yYW5nZSgwLCAtNCwgLTEpO1xuICAgKiAvLyA9PiBbMCwgLTEsIC0yLCAtM11cbiAgICpcbiAgICogXy5yYW5nZSgxLCA0LCAwKTtcbiAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAqXG4gICAqIF8ucmFuZ2UoMCk7XG4gICAqIC8vID0+IFtdXG4gICAqL1xuICBmdW5jdGlvbiByYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgc3RhcnQgPSArc3RhcnQgfHwgMDtcbiAgICBzdGVwID0gICgrc3RlcCB8fCAxKTtcblxuICAgIGlmIChlbmQgPT0gbnVsbCkge1xuICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIC8vIHVzZSBgQXJyYXkobGVuZ3RoKWAgc28gZW5naW5lcyBsaWtlIENoYWtyYSBhbmQgVjggYXZvaWQgc2xvd2VyIG1vZGVzXG4gICAgLy8gaHR0cDovL3lvdXR1LmJlL1hBcUlwR1U4WlprI3Q9MTdtMjVzXG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heCgwLCBjZWlsKChlbmQgLSBzdGFydCkgLyBzdGVwKSksXG4gICAgICAgIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IHN0YXJ0O1xuICAgICAgc3RhcnQgKz0gc3RlcDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uaW5pdGlhbGAgdGhpcyBtZXRob2QgZ2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9yXG4gICAqIGZpcnN0IGBuYCBlbGVtZW50cyBvZiBhbiBhcnJheS4gSWYgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwcm92aWRlZCBlbGVtZW50c1xuICAgKiBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSBhcmUgZXhjbHVkZWQgZnJvbSB0aGUgcmVzdWx0IGFzIGxvbmcgYXMgdGhlXG4gICAqIGNhbGxiYWNrIHJldHVybnMgdHJ1ZXkuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWRcbiAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICpcbiAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAqIGVsc2UgYGZhbHNlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAYWxpYXMgZHJvcCwgdGFpbFxuICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8bnVtYmVyfHN0cmluZ30gW2NhbGxiYWNrPTFdIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBlbGVtZW50IG9yIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZXhjbHVkZS4gSWYgYSBwcm9wZXJ0eSBuYW1lIG9yXG4gICAqICBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFwiXy5wbHVja1wiIG9yIFwiXy53aGVyZVwiXG4gICAqICBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogXy5yZXN0KFsxLCAyLCAzXSk7XG4gICAqIC8vID0+IFsyLCAzXVxuICAgKlxuICAgKiBfLnJlc3QoWzEsIDIsIDNdLCAyKTtcbiAgICogLy8gPT4gWzNdXG4gICAqXG4gICAqIF8ucmVzdChbMSwgMiwgM10sIGZ1bmN0aW9uKG51bSkge1xuICAgKiAgIHJldHVybiBudW0gPCAzO1xuICAgKiB9KTtcbiAgICogLy8gPT4gWzNdXG4gICAqXG4gICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgKiAgIHsgJ25hbWUnOiAnYmFybmV5JywgICdibG9ja2VkJzogdHJ1ZSwgICdlbXBsb3llcic6ICdzbGF0ZScgfSxcbiAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICAnYmxvY2tlZCc6IGZhbHNlLCAgJ2VtcGxveWVyJzogJ3NsYXRlJyB9LFxuICAgKiAgIHsgJ25hbWUnOiAncGViYmxlcycsICdibG9ja2VkJzogdHJ1ZSwgJ2VtcGxveWVyJzogJ25hJyB9XG4gICAqIF07XG4gICAqXG4gICAqIC8vIHVzaW5nIFwiXy5wbHVja1wiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgKiBfLnBsdWNrKF8ucmVzdChjaGFyYWN0ZXJzLCAnYmxvY2tlZCcpLCAnbmFtZScpO1xuICAgKiAvLyA9PiBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAqXG4gICAqIC8vIHVzaW5nIFwiXy53aGVyZVwiIGNhbGxiYWNrIHNob3J0aGFuZFxuICAgKiBfLnJlc3QoY2hhcmFjdGVycywgeyAnZW1wbG95ZXInOiAnc2xhdGUnIH0pO1xuICAgKiAvLyA9PiBbeyAnbmFtZSc6ICdwZWJibGVzJywgJ2Jsb2NrZWQnOiB0cnVlLCAnZW1wbG95ZXInOiAnbmEnIH1dXG4gICAqL1xuICBmdW5jdGlvbiByZXN0KGFycmF5LCBjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT0gJ251bWJlcicgJiYgY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgdmFyIG4gPSAwLFxuICAgICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gICAgICBjYWxsYmFjayA9IGNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoICYmIGNhbGxiYWNrKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICBuKys7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG4gPSAoY2FsbGJhY2sgPT0gbnVsbCB8fCB0aGlzQXJnKSA/IDEgOiBuYXRpdmVNYXgoMCwgY2FsbGJhY2spO1xuICAgIH1cbiAgICByZXR1cm4gc2xpY2UoYXJyYXksIG4pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2ggYSB2YWx1ZVxuICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBhIGdpdmVuIHNvcnRlZCBhcnJheSBpbiBvcmRlciB0byBtYWludGFpbiB0aGUgc29ydFxuICAgKiBvcmRlciBvZiB0aGUgYXJyYXkuIElmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSBleGVjdXRlZCBmb3JcbiAgICogYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZVxuICAgKiBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7ICh2YWx1ZSkuXG4gICAqXG4gICAqIElmIGEgcHJvcGVydHkgbmFtZSBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ucGx1Y2tcIiBzdHlsZVxuICAgKiBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCBmb3IgYGNhbGxiYWNrYCB0aGUgY3JlYXRlZCBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFja1xuICAgKiB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzIHRoYXQgaGF2ZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgZ2l2ZW4gb2JqZWN0LFxuICAgKiBlbHNlIGBmYWxzZWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fHN0cmluZ30gW2NhbGxiYWNrPWlkZW50aXR5XSBUaGUgZnVuY3Rpb24gY2FsbGVkXG4gICAqICBwZXIgaXRlcmF0aW9uLiBJZiBhIHByb3BlcnR5IG5hbWUgb3Igb2JqZWN0IGlzIHByb3ZpZGVkIGl0IHdpbGwgYmUgdXNlZFxuICAgKiAgdG8gY3JlYXRlIGEgXCJfLnBsdWNrXCIgb3IgXCJfLndoZXJlXCIgc3R5bGUgY2FsbGJhY2ssIHJlc3BlY3RpdmVseS5cbiAgICogQHBhcmFtIHsqfSBbdGhpc0FyZ10gVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBjYWxsYmFja2AuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAqICBpbnRvIGBhcnJheWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uc29ydGVkSW5kZXgoWzIwLCAzMCwgNTBdLCA0MCk7XG4gICAqIC8vID0+IDJcbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8uc29ydGVkSW5kZXgoW3sgJ3gnOiAyMCB9LCB7ICd4JzogMzAgfSwgeyAneCc6IDUwIH1dLCB7ICd4JzogNDAgfSwgJ3gnKTtcbiAgICogLy8gPT4gMlxuICAgKlxuICAgKiB2YXIgZGljdCA9IHtcbiAgICogICAnd29yZFRvTnVtYmVyJzogeyAndHdlbnR5JzogMjAsICd0aGlydHknOiAzMCwgJ2ZvdXJ0eSc6IDQwLCAnZmlmdHknOiA1MCB9XG4gICAqIH07XG4gICAqXG4gICAqIF8uc29ydGVkSW5kZXgoWyd0d2VudHknLCAndGhpcnR5JywgJ2ZpZnR5J10sICdmb3VydHknLCBmdW5jdGlvbih3b3JkKSB7XG4gICAqICAgcmV0dXJuIGRpY3Qud29yZFRvTnVtYmVyW3dvcmRdO1xuICAgKiB9KTtcbiAgICogLy8gPT4gMlxuICAgKlxuICAgKiBfLnNvcnRlZEluZGV4KFsndHdlbnR5JywgJ3RoaXJ0eScsICdmaWZ0eSddLCAnZm91cnR5JywgZnVuY3Rpb24od29yZCkge1xuICAgKiAgIHJldHVybiB0aGlzLndvcmRUb051bWJlclt3b3JkXTtcbiAgICogfSwgZGljdCk7XG4gICAqIC8vID0+IDJcbiAgICovXG4gIGZ1bmN0aW9uIHNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgaGlnaCA9IGFycmF5ID8gYXJyYXkubGVuZ3RoIDogbG93O1xuXG4gICAgLy8gZXhwbGljaXRseSByZWZlcmVuY2UgYGlkZW50aXR5YCBmb3IgYmV0dGVyIGlubGluaW5nIGluIEZpcmVmb3hcbiAgICBjYWxsYmFjayA9IGNhbGxiYWNrID8gY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2ssIHRoaXNBcmcsIDEpIDogaWRlbnRpdHk7XG4gICAgdmFsdWUgPSBjYWxsYmFjayh2YWx1ZSk7XG5cbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICAgIChjYWxsYmFjayhhcnJheVttaWRdKSA8IHZhbHVlKVxuICAgICAgICA/IGxvdyA9IG1pZCArIDFcbiAgICAgICAgOiBoaWdoID0gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gbG93O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdW5pcXVlIHZhbHVlcywgaW4gb3JkZXIsIG9mIHRoZSBwcm92aWRlZCBhcnJheXMgdXNpbmdcbiAgICogc3RyaWN0IGVxdWFsaXR5IGZvciBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheV0gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYW4gYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLnVuaW9uKFsxLCAyLCAzXSwgWzUsIDIsIDEsIDRdLCBbMiwgMV0pO1xuICAgKiAvLyA9PiBbMSwgMiwgMywgNSwgNF1cbiAgICovXG4gIGZ1bmN0aW9uIHVuaW9uKCkge1xuICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZHVwbGljYXRlLXZhbHVlLWZyZWUgdmVyc2lvbiBvZiBhbiBhcnJheSB1c2luZyBzdHJpY3QgZXF1YWxpdHlcbiAgICogZm9yIGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLiBJZiB0aGUgYXJyYXkgaXMgc29ydGVkLCBwcm92aWRpbmdcbiAgICogYHRydWVgIGZvciBgaXNTb3J0ZWRgIHdpbGwgdXNlIGEgZmFzdGVyIGFsZ29yaXRobS4gSWYgYSBjYWxsYmFjayBpcyBwcm92aWRlZFxuICAgKiBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBpcyBwYXNzZWQgdGhyb3VnaCB0aGUgY2FsbGJhY2sgYmVmb3JlIHVuaXF1ZW5lc3NcbiAgICogaXMgY29tcHV0ZWQuIFRoZSBjYWxsYmFjayBpcyBib3VuZCB0byBgdGhpc0FyZ2AgYW5kIGludm9rZWQgd2l0aCB0aHJlZVxuICAgKiBhcmd1bWVudHM7ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICpcbiAgICogSWYgYSBwcm9wZXJ0eSBuYW1lIGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy5wbHVja1wiIHN0eWxlXG4gICAqIGNhbGxiYWNrIHdpbGwgcmV0dXJuIHRoZSBwcm9wZXJ0eSB2YWx1ZSBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkIGZvciBgY2FsbGJhY2tgIHRoZSBjcmVhdGVkIFwiXy53aGVyZVwiIHN0eWxlIGNhbGxiYWNrXG4gICAqIHdpbGwgcmV0dXJuIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBnaXZlbiBvYmplY3QsXG4gICAqIGVsc2UgYGZhbHNlYC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAYWxpYXMgdW5pcXVlXG4gICAqIEBjYXRlZ29yeSBBcnJheXNcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU29ydGVkPWZhbHNlXSBBIGZsYWcgdG8gaW5kaWNhdGUgdGhhdCBgYXJyYXlgIGlzIHNvcnRlZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R8c3RyaW5nfSBbY2FsbGJhY2s9aWRlbnRpdHldIFRoZSBmdW5jdGlvbiBjYWxsZWRcbiAgICogIHBlciBpdGVyYXRpb24uIElmIGEgcHJvcGVydHkgbmFtZSBvciBvYmplY3QgaXMgcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkXG4gICAqICB0byBjcmVhdGUgYSBcIl8ucGx1Y2tcIiBvciBcIl8ud2hlcmVcIiBzdHlsZSBjYWxsYmFjaywgcmVzcGVjdGl2ZWx5LlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGEgZHVwbGljYXRlLXZhbHVlLWZyZWUgYXJyYXkuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8udW5pcShbMSwgMiwgMSwgMywgMV0pO1xuICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICpcbiAgICogXy51bmlxKFsxLCAxLCAyLCAyLCAzXSwgdHJ1ZSk7XG4gICAqIC8vID0+IFsxLCAyLCAzXVxuICAgKlxuICAgKiBfLnVuaXEoWydBJywgJ2InLCAnQycsICdhJywgJ0InLCAnYyddLCBmdW5jdGlvbihsZXR0ZXIpIHsgcmV0dXJuIGxldHRlci50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgICogLy8gPT4gWydBJywgJ2InLCAnQyddXG4gICAqXG4gICAqIF8udW5pcShbMSwgMi41LCAzLCAxLjUsIDIsIDMuNV0sIGZ1bmN0aW9uKG51bSkgeyByZXR1cm4gdGhpcy5mbG9vcihudW0pOyB9LCBNYXRoKTtcbiAgICogLy8gPT4gWzEsIDIuNSwgM11cbiAgICpcbiAgICogLy8gdXNpbmcgXCJfLnBsdWNrXCIgY2FsbGJhY2sgc2hvcnRoYW5kXG4gICAqIF8udW5pcShbeyAneCc6IDEgfSwgeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAqIC8vID0+IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9XVxuICAgKi9cbiAgZnVuY3Rpb24gdW5pcShhcnJheSwgaXNTb3J0ZWQsIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgLy8ganVnZ2xlIGFyZ3VtZW50c1xuICAgIGlmICh0eXBlb2YgaXNTb3J0ZWQgIT0gJ2Jvb2xlYW4nICYmIGlzU29ydGVkICE9IG51bGwpIHtcbiAgICAgIHRoaXNBcmcgPSBjYWxsYmFjaztcbiAgICAgIGNhbGxiYWNrID0gKHR5cGVvZiBpc1NvcnRlZCAhPSAnZnVuY3Rpb24nICYmIHRoaXNBcmcgJiYgdGhpc0FyZ1tpc1NvcnRlZF0gPT09IGFycmF5KSA/IG51bGwgOiBpc1NvcnRlZDtcbiAgICAgIGlzU29ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICBjYWxsYmFjayA9IGNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrLCB0aGlzQXJnLCAzKTtcbiAgICB9XG4gICAgcmV0dXJuIGJhc2VVbmlxKGFycmF5LCBpc1NvcnRlZCwgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgZXhjbHVkaW5nIGFsbCBwcm92aWRlZCB2YWx1ZXMgdXNpbmcgc3RyaWN0IGVxdWFsaXR5IGZvclxuICAgKiBjb21wYXJpc29ucywgaS5lLiBgPT09YC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWx0ZXIuXG4gICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ud2l0aG91dChbMSwgMiwgMSwgMCwgMywgMSwgNF0sIDAsIDEpO1xuICAgKiAvLyA9PiBbMiwgMywgNF1cbiAgICovXG4gIGZ1bmN0aW9uIHdpdGhvdXQoYXJyYXkpIHtcbiAgICByZXR1cm4gYmFzZURpZmZlcmVuY2UoYXJyYXksIHNsaWNlKGFyZ3VtZW50cywgMSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cywgdGhlIGZpcnN0IG9mIHdoaWNoIGNvbnRhaW5zIHRoZSBmaXJzdFxuICAgKiBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZSBzZWNvbmRcbiAgICogZWxlbWVudHMgb2YgdGhlIGdpdmVuIGFycmF5cywgYW5kIHNvIG9uLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBhbGlhcyB1bnppcFxuICAgKiBAY2F0ZWdvcnkgQXJyYXlzXG4gICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheV0gQXJyYXlzIHRvIHByb2Nlc3MuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBhIG5ldyBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLnppcChbJ2ZyZWQnLCAnYmFybmV5J10sIFszMCwgNDBdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICogLy8gPT4gW1snZnJlZCcsIDMwLCB0cnVlXSwgWydiYXJuZXknLCA0MCwgZmFsc2VdXVxuICAgKi9cbiAgZnVuY3Rpb24gemlwKCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBtYXgocGx1Y2soYXJndW1lbnRzLCAnbGVuZ3RoJykpLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGggPCAwID8gMCA6IGxlbmd0aCk7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IHBsdWNrKGFyZ3VtZW50cywgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIGZyb20gYXJyYXlzIG9mIGBrZXlzYCBhbmQgYHZhbHVlc2AuIFByb3ZpZGVcbiAgICogZWl0aGVyIGEgc2luZ2xlIHR3byBkaW1lbnNpb25hbCBhcnJheSwgaS5lLiBgW1trZXkxLCB2YWx1ZTFdLCBba2V5MiwgdmFsdWUyXV1gXG4gICAqIG9yIHR3byBhcnJheXMsIG9uZSBvZiBga2V5c2AgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIGB2YWx1ZXNgLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBhbGlhcyBvYmplY3RcbiAgICogQGNhdGVnb3J5IEFycmF5c1xuICAgKiBAcGFyYW0ge0FycmF5fSBrZXlzIFRoZSBhcnJheSBvZiBrZXlzLlxuICAgKiBAcGFyYW0ge0FycmF5fSBbdmFsdWVzPVtdXSBUaGUgYXJyYXkgb2YgdmFsdWVzLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgZ2l2ZW4ga2V5cyBhbmRcbiAgICogIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLnppcE9iamVjdChbJ2ZyZWQnLCAnYmFybmV5J10sIFszMCwgNDBdKTtcbiAgICogLy8gPT4geyAnZnJlZCc6IDMwLCAnYmFybmV5JzogNDAgfVxuICAgKi9cbiAgZnVuY3Rpb24gemlwT2JqZWN0KGtleXMsIHZhbHVlcykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBrZXlzID8ga2V5cy5sZW5ndGggOiAwLFxuICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgIGlmICghdmFsdWVzICYmIGxlbmd0aCAmJiAhaXNBcnJheShrZXlzWzBdKSkge1xuICAgICAgdmFsdWVzID0gW107XG4gICAgfVxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVzW2luZGV4XTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICAgIHJlc3VsdFtrZXlbMF1dID0ga2V5WzFdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGV4ZWN1dGVzIGBmdW5jYCwgd2l0aCAgdGhlIGB0aGlzYCBiaW5kaW5nIGFuZFxuICAgKiBhcmd1bWVudHMgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24sIG9ubHkgYWZ0ZXIgYmVpbmcgY2FsbGVkIGBuYCB0aW1lcy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGZ1bmN0aW9uIG11c3QgYmUgY2FsbGVkIGJlZm9yZVxuICAgKiAgYGZ1bmNgIGlzIGV4ZWN1dGVkLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAqXG4gICAqIHZhciBkb25lID0gXy5hZnRlcihzYXZlcy5sZW5ndGgsIGZ1bmN0aW9uKCkge1xuICAgKiAgIGNvbnNvbGUubG9nKCdEb25lIHNhdmluZyEnKTtcbiAgICogfSk7XG4gICAqXG4gICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgKiAgIGFzeW5jU2F2ZSh7ICd0eXBlJzogdHlwZSwgJ2NvbXBsZXRlJzogZG9uZSB9KTtcbiAgICogfSk7XG4gICAqIC8vID0+IGxvZ3MgJ0RvbmUgc2F2aW5nIScsIGFmdGVyIGFsbCBzYXZlcyBoYXZlIGNvbXBsZXRlZFxuICAgKi9cbiAgZnVuY3Rpb24gYWZ0ZXIobiwgZnVuYykge1xuICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tbiA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYHRoaXNgXG4gICAqIGJpbmRpbmcgb2YgYHRoaXNBcmdgIGFuZCBwcmVwZW5kcyBhbnkgYWRkaXRpb25hbCBgYmluZGAgYXJndW1lbnRzIHRvIHRob3NlXG4gICAqIHByb3ZpZGVkIHRvIHRoZSBib3VuZCBmdW5jdGlvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIGZ1bmMgPSBmdW5jdGlvbihncmVldGluZykge1xuICAgKiAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMubmFtZTtcbiAgICogfTtcbiAgICpcbiAgICogZnVuYyA9IF8uYmluZChmdW5jLCB7ICduYW1lJzogJ2ZyZWQnIH0sICdoaScpO1xuICAgKiBmdW5jKCk7XG4gICAqIC8vID0+ICdoaSBmcmVkJ1xuICAgKi9cbiAgZnVuY3Rpb24gYmluZChmdW5jLCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAyXG4gICAgICA/IGNyZWF0ZVdyYXBwZXIoZnVuYywgMTcsIHNsaWNlKGFyZ3VtZW50cywgMiksIG51bGwsIHRoaXNBcmcpXG4gICAgICA6IGNyZWF0ZVdyYXBwZXIoZnVuYywgMSwgbnVsbCwgbnVsbCwgdGhpc0FyZyk7XG4gIH1cblxuICAvKipcbiAgICogQmluZHMgbWV0aG9kcyBvZiBhbiBvYmplY3QgdG8gdGhlIG9iamVjdCBpdHNlbGYsIG92ZXJ3cml0aW5nIHRoZSBleGlzdGluZ1xuICAgKiBtZXRob2QuIE1ldGhvZCBuYW1lcyBtYXkgYmUgc3BlY2lmaWVkIGFzIGluZGl2aWR1YWwgYXJndW1lbnRzIG9yIGFzIGFycmF5c1xuICAgKiBvZiBtZXRob2QgbmFtZXMuIElmIG5vIG1ldGhvZCBuYW1lcyBhcmUgcHJvdmlkZWQgYWxsIHRoZSBmdW5jdGlvbiBwcm9wZXJ0aWVzXG4gICAqIG9mIGBvYmplY3RgIHdpbGwgYmUgYm91bmQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgKiBAcGFyYW0gey4uLnN0cmluZ30gW21ldGhvZE5hbWVdIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvXG4gICAqICBiaW5kLCBzcGVjaWZpZWQgYXMgaW5kaXZpZHVhbCBtZXRob2QgbmFtZXMgb3IgYXJyYXlzIG9mIG1ldGhvZCBuYW1lcy5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIHZpZXcgPSB7XG4gICAqICAgJ2xhYmVsJzogJ2RvY3MnLFxuICAgKiAgICdvbkNsaWNrJzogZnVuY3Rpb24oKSB7IGNvbnNvbGUubG9nKCdjbGlja2VkICcgKyB0aGlzLmxhYmVsKTsgfVxuICAgKiB9O1xuICAgKlxuICAgKiBfLmJpbmRBbGwodmlldyk7XG4gICAqIGpRdWVyeSgnI2RvY3MnKS5vbignY2xpY2snLCB2aWV3Lm9uQ2xpY2spO1xuICAgKiAvLyA9PiBsb2dzICdjbGlja2VkIGRvY3MnLCB3aGVuIHRoZSBidXR0b24gaXMgY2xpY2tlZFxuICAgKi9cbiAgZnVuY3Rpb24gYmluZEFsbChvYmplY3QpIHtcbiAgICB2YXIgZnVuY3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGJhc2VGbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgZmFsc2UsIDEpIDogZnVuY3Rpb25zKG9iamVjdCksXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIga2V5ID0gZnVuY3NbaW5kZXhdO1xuICAgICAgb2JqZWN0W2tleV0gPSBjcmVhdGVXcmFwcGVyKG9iamVjdFtrZXldLCAxLCBudWxsLCBudWxsLCBvYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiB0aGUgcHJvdmlkZWQgZnVuY3Rpb25zLFxuICAgKiB3aGVyZSBlYWNoIGZ1bmN0aW9uIGNvbnN1bWVzIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgICogRm9yIGV4YW1wbGUsIGNvbXBvc2luZyB0aGUgZnVuY3Rpb25zIGBmKClgLCBgZygpYCwgYW5kIGBoKClgIHByb2R1Y2VzIGBmKGcoaCgpKSlgLlxuICAgKiBFYWNoIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjb21wb3NlZCBmdW5jdGlvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IFtmdW5jXSBGdW5jdGlvbnMgdG8gY29tcG9zZS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY29tcG9zZWQgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciByZWFsTmFtZU1hcCA9IHtcbiAgICogICAncGViYmxlcyc6ICdwZW5lbG9wZSdcbiAgICogfTtcbiAgICpcbiAgICogdmFyIGZvcm1hdCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICogICBuYW1lID0gcmVhbE5hbWVNYXBbbmFtZS50b0xvd2VyQ2FzZSgpXSB8fCBuYW1lO1xuICAgKiAgIHJldHVybiBuYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpO1xuICAgKiB9O1xuICAgKlxuICAgKiB2YXIgZ3JlZXQgPSBmdW5jdGlvbihmb3JtYXR0ZWQpIHtcbiAgICogICByZXR1cm4gJ0hpeWEgJyArIGZvcm1hdHRlZCArICchJztcbiAgICogfTtcbiAgICpcbiAgICogdmFyIHdlbGNvbWUgPSBfLmNvbXBvc2UoZ3JlZXQsIGZvcm1hdCk7XG4gICAqIHdlbGNvbWUoJ3BlYmJsZXMnKTtcbiAgICogLy8gPT4gJ0hpeWEgUGVuZWxvcGUhJ1xuICAgKi9cbiAgZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgICB2YXIgZnVuY3MgPSBhcmd1bWVudHMsXG4gICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmNzW2xlbmd0aF0pKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgIGxlbmd0aCA9IGZ1bmNzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIGFyZ3MgPSBbZnVuY3NbbGVuZ3RoXS5hcHBseSh0aGlzLCBhcmdzKV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJnc1swXTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgZGVsYXkgdGhlIGV4ZWN1dGlvbiBvZiBgZnVuY2AgdW50aWwgYWZ0ZXJcbiAgICogYHdhaXRgIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSBpdCB3YXMgaW52b2tlZC5cbiAgICogUHJvdmlkZSBhbiBvcHRpb25zIG9iamVjdCB0byBpbmRpY2F0ZSB0aGF0IGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvblxuICAgKiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFN1YnNlcXVlbnQgY2FsbHNcbiAgICogdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYCBjYWxsLlxuICAgKlxuICAgKiBOb3RlOiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgIGBmdW5jYCB3aWxsIGJlIGNhbGxlZFxuICAgKiBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIGlzXG4gICAqIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV0gU3BlY2lmeSBleGVjdXRpb24gb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBjYWxsZWQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV0gU3BlY2lmeSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogLy8gYXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eFxuICAgKiB2YXIgbGF6eUxheW91dCA9IF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApO1xuICAgKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgbGF6eUxheW91dCk7XG4gICAqXG4gICAqIC8vIGV4ZWN1dGUgYHNlbmRNYWlsYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzXG4gICAqIGpRdWVyeSgnI3Bvc3Rib3gnKS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICogICAnbGVhZGluZyc6IHRydWUsXG4gICAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIGVuc3VyZSBgYmF0Y2hMb2dgIGlzIGV4ZWN1dGVkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzXG4gICAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAgICogc291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHtcbiAgICogICAnbWF4V2FpdCc6IDEwMDBcbiAgICogfSwgZmFsc2UpO1xuICAgKi9cbiAgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciBhcmdzLFxuICAgICAgICBtYXhUaW1lb3V0SWQsXG4gICAgICAgIHJlc3VsdCxcbiAgICAgICAgc3RhbXAsXG4gICAgICAgIHRoaXNBcmcsXG4gICAgICAgIHRpbWVvdXRJZCxcbiAgICAgICAgdHJhaWxpbmdDYWxsLFxuICAgICAgICBsYXN0Q2FsbGVkID0gMCxcbiAgICAgICAgbWF4V2FpdCA9IGZhbHNlLFxuICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgfVxuICAgIHdhaXQgPSBuYXRpdmVNYXgoMCwgd2FpdCkgfHwgMDtcbiAgICBpZiAob3B0aW9ucyA9PT0gdHJ1ZSkge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlO1xuICAgICAgdHJhaWxpbmcgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICBsZWFkaW5nID0gb3B0aW9ucy5sZWFkaW5nO1xuICAgICAgbWF4V2FpdCA9ICdtYXhXYWl0JyBpbiBvcHRpb25zICYmIChuYXRpdmVNYXgod2FpdCwgb3B0aW9ucy5tYXhXYWl0KSB8fCAwKTtcbiAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgIH1cbiAgICB2YXIgZGVsYXllZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93KCkgLSBzdGFtcCk7XG4gICAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgaWYgKG1heFRpbWVvdXRJZCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChtYXhUaW1lb3V0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0NhbGxlZCA9IHRyYWlsaW5nQ2FsbDtcbiAgICAgICAgbWF4VGltZW91dElkID0gdGltZW91dElkID0gdHJhaWxpbmdDYWxsID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoaXNDYWxsZWQpIHtcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gbm93KCk7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgICBpZiAoIXRpbWVvdXRJZCAmJiAhbWF4VGltZW91dElkKSB7XG4gICAgICAgICAgICBhcmdzID0gdGhpc0FyZyA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGRlbGF5ZWQsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBtYXhEZWxheWVkID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGltZW91dElkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgfVxuICAgICAgbWF4VGltZW91dElkID0gdGltZW91dElkID0gdHJhaWxpbmdDYWxsID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKHRyYWlsaW5nIHx8IChtYXhXYWl0ICE9PSB3YWl0KSkge1xuICAgICAgICBsYXN0Q2FsbGVkID0gbm93KCk7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dElkICYmICFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICBhcmdzID0gdGhpc0FyZyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHN0YW1wID0gbm93KCk7XG4gICAgICB0aGlzQXJnID0gdGhpcztcbiAgICAgIHRyYWlsaW5nQ2FsbCA9IHRyYWlsaW5nICYmICh0aW1lb3V0SWQgfHwgIWxlYWRpbmcpO1xuXG4gICAgICBpZiAobWF4V2FpdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgdmFyIGxlYWRpbmdDYWxsID0gbGVhZGluZyAmJiAhdGltZW91dElkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFtYXhUaW1lb3V0SWQgJiYgIWxlYWRpbmcpIHtcbiAgICAgICAgICBsYXN0Q2FsbGVkID0gc3RhbXA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlbWFpbmluZyA9IG1heFdhaXQgLSAoc3RhbXAgLSBsYXN0Q2FsbGVkKSxcbiAgICAgICAgICAgIGlzQ2FsbGVkID0gcmVtYWluaW5nIDw9IDA7XG5cbiAgICAgICAgaWYgKGlzQ2FsbGVkKSB7XG4gICAgICAgICAgaWYgKG1heFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgbWF4VGltZW91dElkID0gY2xlYXJUaW1lb3V0KG1heFRpbWVvdXRJZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFtYXhUaW1lb3V0SWQpIHtcbiAgICAgICAgICBtYXhUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KG1heERlbGF5ZWQsIHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0NhbGxlZCAmJiB0aW1lb3V0SWQpIHtcbiAgICAgICAgdGltZW91dElkID0gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICghdGltZW91dElkICYmIHdhaXQgIT09IG1heFdhaXQpIHtcbiAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChkZWxheWVkLCB3YWl0KTtcbiAgICAgIH1cbiAgICAgIGlmIChsZWFkaW5nQ2FsbCkge1xuICAgICAgICBpc0NhbGxlZCA9IHRydWU7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgICB9XG4gICAgICBpZiAoaXNDYWxsZWQgJiYgIXRpbWVvdXRJZCAmJiAhbWF4VGltZW91dElkKSB7XG4gICAgICAgIGFyZ3MgPSB0aGlzQXJnID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZlcnMgZXhlY3V0aW5nIHRoZSBgZnVuY2AgZnVuY3Rpb24gdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC5cbiAgICogQWRkaXRpb25hbCBhcmd1bWVudHMgd2lsbCBiZSBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCBpcyBpbnZva2VkLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVmZXIuXG4gICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uZGVmZXIoZnVuY3Rpb24odGV4dCkgeyBjb25zb2xlLmxvZyh0ZXh0KTsgfSwgJ2RlZmVycmVkJyk7XG4gICAqIC8vIGxvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgb3IgbW9yZSBtaWxsaXNlY29uZHNcbiAgICovXG4gIGZ1bmN0aW9uIGRlZmVyKGZ1bmMpIHtcbiAgICBpZiAoIWlzRnVuY3Rpb24oZnVuYykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3I7XG4gICAgfVxuICAgIHZhciBhcmdzID0gc2xpY2UoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCAxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyB0aGUgYGZ1bmNgIGZ1bmN0aW9uIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAqIHdpbGwgYmUgcHJvdmlkZWQgdG8gYGZ1bmNgIHdoZW4gaXQgaXMgaW52b2tlZC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlbGF5LlxuICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBleGVjdXRpb24uXG4gICAqIEBwYXJhbSB7Li4uKn0gW2FyZ10gQXJndW1lbnRzIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXIgaWQuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8uZGVsYXkoZnVuY3Rpb24odGV4dCkgeyBjb25zb2xlLmxvZyh0ZXh0KTsgfSwgMTAwMCwgJ2xhdGVyJyk7XG4gICAqIC8vID0+IGxvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kXG4gICAqL1xuICBmdW5jdGlvbiBkZWxheShmdW5jLCB3YWl0KSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgIH1cbiAgICB2YXIgYXJncyA9IHNsaWNlKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGZ1bmMuYXBwbHkodW5kZWZpbmVkLCBhcmdzKTsgfSwgd2FpdCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAgICogcHJvdmlkZWQgaXQgd2lsbCBiZSB1c2VkIHRvIGRldGVybWluZSB0aGUgY2FjaGUga2V5IGZvciBzdG9yaW5nIHRoZSByZXN1bHRcbiAgICogYmFzZWQgb24gdGhlIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZVxuICAgKiBmaXJzdCBhcmd1bWVudCBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24gaXMgdXNlZCBhcyB0aGUgY2FjaGUga2V5LlxuICAgKiBUaGUgYGZ1bmNgIGlzIGV4ZWN1dGVkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICogVGhlIHJlc3VsdCBjYWNoZSBpcyBleHBvc2VkIGFzIHRoZSBgY2FjaGVgIHByb3BlcnR5IG9uIHRoZSBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jlc29sdmVyXSBBIGZ1bmN0aW9uIHVzZWQgdG8gcmVzb2x2ZSB0aGUgY2FjaGUga2V5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXppbmcgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBmaWJvbmFjY2kgPSBfLm1lbW9pemUoZnVuY3Rpb24obikge1xuICAgKiAgIHJldHVybiBuIDwgMiA/IG4gOiBmaWJvbmFjY2kobiAtIDEpICsgZmlib25hY2NpKG4gLSAyKTtcbiAgICogfSk7XG4gICAqXG4gICAqIGZpYm9uYWNjaSg5KVxuICAgKiAvLyA9PiAzNFxuICAgKlxuICAgKiB2YXIgZGF0YSA9IHtcbiAgICogICAnZnJlZCc6IHsgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9LFxuICAgKiAgICdwZWJibGVzJzogeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgKiB9O1xuICAgKlxuICAgKiAvLyBtb2RpZnlpbmcgdGhlIHJlc3VsdCBjYWNoZVxuICAgKiB2YXIgZ2V0ID0gXy5tZW1vaXplKGZ1bmN0aW9uKG5hbWUpIHsgcmV0dXJuIGRhdGFbbmFtZV07IH0sIF8uaWRlbnRpdHkpO1xuICAgKiBnZXQoJ3BlYmJsZXMnKTtcbiAgICogLy8gPT4geyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgKlxuICAgKiBnZXQuY2FjaGUucGViYmxlcy5uYW1lID0gJ3BlbmVsb3BlJztcbiAgICogZ2V0KCdwZWJibGVzJyk7XG4gICAqIC8vID0+IHsgJ25hbWUnOiAncGVuZWxvcGUnLCAnYWdlJzogMSB9XG4gICAqL1xuICBmdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gICAgdmFyIGNhY2hlID0ge307XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGtleSA9IHJlc29sdmVyID8gcmVzb2x2ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IGtleVByZWZpeCArIGFyZ3VtZW50c1swXTtcbiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNhY2hlLCBrZXkpXG4gICAgICAgID8gY2FjaGVba2V5XVxuICAgICAgICA6IChjYWNoZVtrZXldID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gZXhlY3V0ZSBgZnVuY2Agb25jZS4gUmVwZWF0IGNhbGxzIHRvXG4gICAqIHRoZSBmdW5jdGlvbiB3aWxsIHJldHVybiB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGNhbGwuIFRoZSBgZnVuY2AgaXMgZXhlY3V0ZWRcbiAgICogd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgKiBpbml0aWFsaXplKCk7XG4gICAqIGluaXRpYWxpemUoKTtcbiAgICogLy8gYGluaXRpYWxpemVgIGV4ZWN1dGVzIGBjcmVhdGVBcHBsaWNhdGlvbmAgb25jZVxuICAgKi9cbiAgZnVuY3Rpb24gb25jZShmdW5jKSB7XG4gICAgdmFyIHJhbixcbiAgICAgICAgcmVzdWx0O1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocmFuKSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByYW4gPSB0cnVlO1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAvLyBjbGVhciB0aGUgYGZ1bmNgIHZhcmlhYmxlIHNvIHRoZSBmdW5jdGlvbiBtYXkgYmUgZ2FyYmFnZSBjb2xsZWN0ZWRcbiAgICAgIGZ1bmMgPSBudWxsO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgaW52b2tlcyBgZnVuY2Agd2l0aCBhbnkgYWRkaXRpb25hbFxuICAgKiBgcGFydGlhbGAgYXJndW1lbnRzIHByZXBlbmRlZCB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgbmV3IGZ1bmN0aW9uLiBUaGlzXG4gICAqIG1ldGhvZCBpcyBzaW1pbGFyIHRvIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KiogYWx0ZXIgdGhlIGB0aGlzYCBiaW5kaW5nLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBGdW5jdGlvbnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcGFydGlhbGx5IGFwcGx5IGFyZ3VtZW50cyB0by5cbiAgICogQHBhcmFtIHsuLi4qfSBbYXJnXSBBcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgZ3JlZXQgPSBmdW5jdGlvbihncmVldGluZywgbmFtZSkgeyByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lOyB9O1xuICAgKiB2YXIgaGkgPSBfLnBhcnRpYWwoZ3JlZXQsICdoaScpO1xuICAgKiBoaSgnZnJlZCcpO1xuICAgKiAvLyA9PiAnaGkgZnJlZCdcbiAgICovXG4gIGZ1bmN0aW9uIHBhcnRpYWwoZnVuYykge1xuICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKGZ1bmMsIDE2LCBzbGljZShhcmd1bWVudHMsIDEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBleGVjdXRlZCwgd2lsbCBvbmx5IGNhbGwgdGhlIGBmdW5jYCBmdW5jdGlvblxuICAgKiBhdCBtb3N0IG9uY2UgcGVyIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFByb3ZpZGUgYW4gb3B0aW9ucyBvYmplY3QgdG9cbiAgICogaW5kaWNhdGUgdGhhdCBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2VcbiAgICogb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBTdWJzZXF1ZW50IGNhbGxzIHRvIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gd2lsbFxuICAgKiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgY2FsbC5cbiAgICpcbiAgICogTm90ZTogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCBgZnVuY2Agd2lsbCBiZSBjYWxsZWRcbiAgICogb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgdGhlIHRocm90dGxlZCBmdW5jdGlvbiBpc1xuICAgKiBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB0aHJvdHRsZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdGhyb3R0bGUgZXhlY3V0aW9ucyB0by5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXSBTcGVjaWZ5IGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdIFNwZWNpZnkgZXhlY3V0aW9uIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB0aHJvdHRsZWQgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIC8vIGF2b2lkIGV4Y2Vzc2l2ZWx5IHVwZGF0aW5nIHRoZSBwb3NpdGlvbiB3aGlsZSBzY3JvbGxpbmdcbiAgICogdmFyIHRocm90dGxlZCA9IF8udGhyb3R0bGUodXBkYXRlUG9zaXRpb24sIDEwMCk7XG4gICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCB0aHJvdHRsZWQpO1xuICAgKlxuICAgKiAvLyBleGVjdXRlIGByZW5ld1Rva2VuYCB3aGVuIHRoZSBjbGljayBldmVudCBpcyBmaXJlZCwgYnV0IG5vdCBtb3JlIHRoYW4gb25jZSBldmVyeSA1IG1pbnV0ZXNcbiAgICogalF1ZXJ5KCcuaW50ZXJhY3RpdmUnKS5vbignY2xpY2snLCBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwge1xuICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAqIH0pKTtcbiAgICovXG4gIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICAgIGlmICghaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICBsZWFkaW5nID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgIH1cbiAgICBvcHRpb25zID0ge307XG4gICAgb3B0aW9ucy5sZWFkaW5nID0gbGVhZGluZztcbiAgICBvcHRpb25zLm1heFdhaXQgPSB3YWl0O1xuICAgIG9wdGlvbnMudHJhaWxpbmcgPSB0cmFpbGluZztcblxuICAgIHJldHVybiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm92aWRlcyBgdmFsdWVgIHRvIHRoZSB3cmFwcGVyIGZ1bmN0aW9uIGFzIGl0c1xuICAgKiBmaXJzdCBhcmd1bWVudC4gQWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgKiB0byB0aG9zZSBwcm92aWRlZCB0byB0aGUgd3JhcHBlciBmdW5jdGlvbi4gVGhlIHdyYXBwZXIgaXMgZXhlY3V0ZWQgd2l0aFxuICAgKiB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IEZ1bmN0aW9uc1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwcGVyIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIHAgPSBfLndyYXAoXy5lc2NhcGUsIGZ1bmN0aW9uKGZ1bmMsIHRleHQpIHtcbiAgICogICByZXR1cm4gJzxwPicgKyBmdW5jKHRleHQpICsgJzwvcD4nO1xuICAgKiB9KTtcbiAgICpcbiAgICogcCgnRnJlZCwgV2lsbWEsICYgUGViYmxlcycpO1xuICAgKiAvLyA9PiAnPHA+RnJlZCwgV2lsbWEsICZhbXA7IFBlYmJsZXM8L3A+J1xuICAgKi9cbiAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgIHJldHVybiBjcmVhdGVXcmFwcGVyKHdyYXBwZXIsIDE2LCBbdmFsdWVdKTtcbiAgfVxuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBQcm9kdWNlcyBhIGNhbGxiYWNrIGJvdW5kIHRvIGFuIG9wdGlvbmFsIGB0aGlzQXJnYC4gSWYgYGZ1bmNgIGlzIGEgcHJvcGVydHlcbiAgICogbmFtZSB0aGUgY3JlYXRlZCBjYWxsYmFjayB3aWxsIHJldHVybiB0aGUgcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC5cbiAgICogSWYgYGZ1bmNgIGlzIGFuIG9iamVjdCB0aGUgY3JlYXRlZCBjYWxsYmFjayB3aWxsIHJldHVybiBgdHJ1ZWAgZm9yIGVsZW1lbnRzXG4gICAqIHRoYXQgY29udGFpbiB0aGUgZXF1aXZhbGVudCBvYmplY3QgcHJvcGVydGllcywgb3RoZXJ3aXNlIGl0IHdpbGwgcmV0dXJuIGBmYWxzZWAuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgKiBAcGFyYW0geyp9IFtmdW5jPWlkZW50aXR5XSBUaGUgdmFsdWUgdG8gY29udmVydCB0byBhIGNhbGxiYWNrLlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIGNyZWF0ZWQgY2FsbGJhY2suXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJnQ291bnRdIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRoZSBjYWxsYmFjayBhY2NlcHRzLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAqIF07XG4gICAqXG4gICAqIC8vIHdyYXAgdG8gY3JlYXRlIGN1c3RvbSBjYWxsYmFjayBzaG9ydGhhbmRzXG4gICAqIF8uY3JlYXRlQ2FsbGJhY2sgPSBfLndyYXAoXy5jcmVhdGVDYWxsYmFjaywgZnVuY3Rpb24oZnVuYywgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICogICB2YXIgbWF0Y2ggPSAvXiguKz8pX18oW2dsXXQpKC4rKSQvLmV4ZWMoY2FsbGJhY2spO1xuICAgKiAgIHJldHVybiAhbWF0Y2ggPyBmdW5jKGNhbGxiYWNrLCB0aGlzQXJnKSA6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgKiAgICAgcmV0dXJuIG1hdGNoWzJdID09ICdndCcgPyBvYmplY3RbbWF0Y2hbMV1dID4gbWF0Y2hbM10gOiBvYmplY3RbbWF0Y2hbMV1dIDwgbWF0Y2hbM107XG4gICAqICAgfTtcbiAgICogfSk7XG4gICAqXG4gICAqIF8uZmlsdGVyKGNoYXJhY3RlcnMsICdhZ2VfX2d0MzgnKTtcbiAgICogLy8gPT4gW3sgJ25hbWUnOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlQ2FsbGJhY2soZnVuYywgdGhpc0FyZywgYXJnQ291bnQpIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBmdW5jO1xuICAgIGlmIChmdW5jID09IG51bGwgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gYmFzZUNyZWF0ZUNhbGxiYWNrKGZ1bmMsIHRoaXNBcmcsIGFyZ0NvdW50KTtcbiAgICB9XG4gICAgLy8gaGFuZGxlIFwiXy5wbHVja1wiIHN0eWxlIGNhbGxiYWNrIHNob3J0aGFuZHNcbiAgICBpZiAodHlwZSAhPSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHByb3BlcnR5KGZ1bmMpO1xuICAgIH1cbiAgICB2YXIgcHJvcHMgPSBrZXlzKGZ1bmMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBsZW5ndGggPSBwcm9wcy5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3RbcHJvcHNbbGVuZ3RoXV0gPT09IGZ1bmNbcHJvcHNbbGVuZ3RoXV0pKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBgJmAsIGA8YCwgYD5gLCBgXCJgLCBhbmQgYCdgIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLmVzY2FwZSgnRnJlZCwgV2lsbWEsICYgUGViYmxlcycpO1xuICAgKiAvLyA9PiAnRnJlZCwgV2lsbWEsICZhbXA7IFBlYmJsZXMnXG4gICAqL1xuICBmdW5jdGlvbiBlc2NhcGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZyA9PSBudWxsID8gJycgOiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IHByb3ZpZGVkIHRvIGl0LlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAqIF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0O1xuICAgKiAvLyA9PiB0cnVlXG4gICAqL1xuICBmdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGZ1bmN0aW9uIHByb3BlcnRpZXMgb2YgYSBzb3VyY2Ugb2JqZWN0IHRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAqIElmIGBvYmplY3RgIGlzIGEgZnVuY3Rpb24gbWV0aG9kcyB3aWxsIGJlIGFkZGVkIHRvIGl0cyBwcm90b3R5cGUgYXMgd2VsbC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBbb2JqZWN0PWxvZGFzaF0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBmdW5jdGlvbnMgdG8gYWRkLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgdGhlIGZ1bmN0aW9ucyBhZGRlZCBhcmUgY2hhaW5hYmxlLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBmdW5jdGlvbiBjYXBpdGFsaXplKHN0cmluZykge1xuICAgKiAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJpbmcuc2xpY2UoMSkudG9Mb3dlckNhc2UoKTtcbiAgICogfVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2NhcGl0YWxpemUnOiBjYXBpdGFsaXplIH0pO1xuICAgKiBfLmNhcGl0YWxpemUoJ2ZyZWQnKTtcbiAgICogLy8gPT4gJ0ZyZWQnXG4gICAqXG4gICAqIF8oJ2ZyZWQnKS5jYXBpdGFsaXplKCkudmFsdWUoKTtcbiAgICogLy8gPT4gJ0ZyZWQnXG4gICAqXG4gICAqIF8ubWl4aW4oeyAnY2FwaXRhbGl6ZSc6IGNhcGl0YWxpemUgfSwgeyAnY2hhaW4nOiBmYWxzZSB9KTtcbiAgICogXygnZnJlZCcpLmNhcGl0YWxpemUoKTtcbiAgICogLy8gPT4gJ0ZyZWQnXG4gICAqL1xuICBmdW5jdGlvbiBtaXhpbihvYmplY3QpIHtcbiAgICBmb3JFYWNoKGZ1bmN0aW9ucyhvYmplY3QpLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IGxvZGFzaFttZXRob2ROYW1lXSA9IG9iamVjdFttZXRob2ROYW1lXTtcblxuICAgICAgbG9kYXNoLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IFt0aGlzLl9fd3JhcHBlZF9fXTtcbiAgICAgICAgcHVzaC5hcHBseShhcmdzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KGxvZGFzaCwgYXJncyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9fY2hhaW5fX1xuICAgICAgICAgID8gbmV3IGxvZGFzaFdyYXBwZXIocmVzdWx0LCB0cnVlKVxuICAgICAgICAgIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXZlcnRzIHRoZSAnXycgdmFyaWFibGUgdG8gaXRzIHByZXZpb3VzIHZhbHVlIGFuZCByZXR1cm5zIGEgcmVmZXJlbmNlIHRvXG4gICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgYGxvZGFzaGAgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBsb2Rhc2ggPSBfLm5vQ29uZmxpY3QoKTtcbiAgICovXG4gIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgcm9vdC5fID0gb2xkRGFzaDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBIG5vLW9wZXJhdGlvbiBmdW5jdGlvbi5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBvYmplY3QgPSB7ICduYW1lJzogJ2ZyZWQnIH07XG4gICAqIF8ubm9vcChvYmplY3QpID09PSB1bmRlZmluZWQ7XG4gICAqIC8vID0+IHRydWVcbiAgICovXG4gIGZ1bmN0aW9uIG5vb3AoKSB7XG4gICAgLy8gbm8gb3BlcmF0aW9uIHBlcmZvcm1lZFxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIFVuaXggZXBvY2hcbiAgICogKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiB2YXIgc3RhbXAgPSBfLm5vdygpO1xuICAgKiBfLmRlZmVyKGZ1bmN0aW9uKCkgeyBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApOyB9KTtcbiAgICogLy8gPT4gbG9ncyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpdCB0b29rIGZvciB0aGUgZGVmZXJyZWQgZnVuY3Rpb24gdG8gYmUgY2FsbGVkXG4gICAqL1xuICB2YXIgbm93ID0gaXNOYXRpdmUobm93ID0gRGF0ZS5ub3cpICYmIG5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBcIl8ucGx1Y2tcIiBzdHlsZSBmdW5jdGlvbiwgd2hpY2ggcmV0dXJucyB0aGUgYGtleWAgdmFsdWUgb2YgYVxuICAgKiBnaXZlbiBvYmplY3QuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byByZXRyaWV2ZS5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBjaGFyYWN0ZXJzID0gW1xuICAgKiAgIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfVxuICAgKiBdO1xuICAgKlxuICAgKiB2YXIgZ2V0TmFtZSA9IF8ucHJvcGVydHkoJ25hbWUnKTtcbiAgICpcbiAgICogXy5tYXAoY2hhcmFjdGVycywgZ2V0TmFtZSk7XG4gICAqIC8vID0+IFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgKlxuICAgKiBfLnNvcnRCeShjaGFyYWN0ZXJzLCBnZXROYW1lKTtcbiAgICogLy8gPT4gW3sgJ25hbWUnOiAnYmFybmV5JywgJ2FnZSc6IDM2IH0sIHsgJ25hbWUnOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH1dXG4gICAqL1xuICBmdW5jdGlvbiBwcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0W2tleV07XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9kdWNlcyBhIHJhbmRvbSBudW1iZXIgYmV0d2VlbiBgbWluYCBhbmQgYG1heGAgKGluY2x1c2l2ZSkuIElmIG9ubHkgb25lXG4gICAqIGFyZ3VtZW50IGlzIHByb3ZpZGVkIGEgbnVtYmVyIGJldHdlZW4gYDBgIGFuZCB0aGUgZ2l2ZW4gbnVtYmVyIHdpbGwgYmVcbiAgICogcmV0dXJuZWQuIElmIGBmbG9hdGluZ2AgaXMgdHJ1ZXkgb3IgZWl0aGVyIGBtaW5gIG9yIGBtYXhgIGFyZSBmbG9hdHMgYVxuICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXIgd2lsbCBiZSByZXR1cm5lZCBpbnN0ZWFkIG9mIGFuIGludGVnZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgKiBAcGFyYW0ge251bWJlcn0gW21pbj0wXSBUaGUgbWluaW11bSBwb3NzaWJsZSB2YWx1ZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFttYXg9MV0gVGhlIG1heGltdW0gcG9zc2libGUgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nPWZhbHNlXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHJhbmRvbSBudW1iZXIuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8ucmFuZG9tKDAsIDUpO1xuICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgKlxuICAgKiBfLnJhbmRvbSg1KTtcbiAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgKlxuICAgKiBfLnJhbmRvbSg1LCB0cnVlKTtcbiAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAqXG4gICAqIF8ucmFuZG9tKDEuMiwgNS4yKTtcbiAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgKi9cbiAgZnVuY3Rpb24gcmFuZG9tKG1pbiwgbWF4KSB7XG4gICAgaWYgKG1pbiA9PSBudWxsICYmIG1heCA9PSBudWxsKSB7XG4gICAgICBtYXggPSAxO1xuICAgIH1cbiAgICBtaW4gPSArbWluIHx8IDA7XG4gICAgaWYgKG1heCA9PSBudWxsKSB7XG4gICAgICBtYXggPSBtaW47XG4gICAgICBtaW4gPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXggPSArbWF4IHx8IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBmbG9vcihuYXRpdmVSYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZXMgdGhlIHZhbHVlIG9mIHByb3BlcnR5IGBrZXlgIG9uIGBvYmplY3RgLiBJZiBga2V5YCBpcyBhIGZ1bmN0aW9uXG4gICAqIGl0IHdpbGwgYmUgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiBgb2JqZWN0YCBhbmQgaXRzIHJlc3VsdCByZXR1cm5lZCxcbiAgICogZWxzZSB0aGUgcHJvcGVydHkgdmFsdWUgaXMgcmV0dXJuZWQuIElmIGBvYmplY3RgIGlzIGZhbHNleSB0aGVuIGB1bmRlZmluZWRgXG4gICAqIGlzIHJldHVybmVkLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIG9iamVjdCA9IHtcbiAgICogICAnY2hlZXNlJzogJ2NydW1wZXRzJyxcbiAgICogICAnc3R1ZmYnOiBmdW5jdGlvbigpIHtcbiAgICogICAgIHJldHVybiAnbm9uc2Vuc2UnO1xuICAgKiAgIH1cbiAgICogfTtcbiAgICpcbiAgICogXy5yZXN1bHQob2JqZWN0LCAnY2hlZXNlJyk7XG4gICAqIC8vID0+ICdjcnVtcGV0cydcbiAgICpcbiAgICogXy5yZXN1bHQob2JqZWN0LCAnc3R1ZmYnKTtcbiAgICogLy8gPT4gJ25vbnNlbnNlJ1xuICAgKi9cbiAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwga2V5KSB7XG4gICAgaWYgKG9iamVjdCkge1xuICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSkgPyBvYmplY3Rba2V5XSgpIDogdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEEgbWljcm8tdGVtcGxhdGluZyBtZXRob2QgdGhhdCBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXNcbiAgICogd2hpdGVzcGFjZSwgYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gICAqXG4gICAqIE5vdGU6IEluIHRoZSBkZXZlbG9wbWVudCBidWlsZCwgYF8udGVtcGxhdGVgIHV0aWxpemVzIHNvdXJjZVVSTHMgZm9yIGVhc2llclxuICAgKiBkZWJ1Z2dpbmcuIFNlZSBodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsXG4gICAqXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHByZWNvbXBpbGluZyB0ZW1wbGF0ZXMgc2VlOlxuICAgKiBodHRwOi8vbG9kYXNoLmNvbS9jdXN0b20tYnVpbGRzXG4gICAqXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIENocm9tZSBleHRlbnNpb24gc2FuZGJveGVzIHNlZTpcbiAgICogaHR0cDovL2RldmVsb3Blci5jaHJvbWUuY29tL3N0YWJsZS9leHRlbnNpb25zL3NhbmRib3hpbmdFdmFsLmh0bWxcbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAY2F0ZWdvcnkgVXRpbGl0aWVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBUaGUgZGF0YSBvYmplY3QgdXNlZCB0byBwb3B1bGF0ZSB0aGUgdGV4dC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGVdIFRoZSBcImVzY2FwZVwiIGRlbGltaXRlci5cbiAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlXSBUaGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHNdIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgbG9jYWwgdmFyaWFibGVzLlxuICAgKiBAcGFyYW0ge1JlZ0V4cH0gW29wdGlvbnMuaW50ZXJwb2xhdGVdIFRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NvdXJjZVVSTF0gVGhlIHNvdXJjZVVSTCBvZiB0aGUgdGVtcGxhdGUncyBjb21waWxlZCBzb3VyY2UuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdmFyaWFibGVdIFRoZSBkYXRhIG9iamVjdCB2YXJpYWJsZSBuYW1lLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb258c3RyaW5nfSBSZXR1cm5zIGEgY29tcGlsZWQgZnVuY3Rpb24gd2hlbiBubyBgZGF0YWAgb2JqZWN0XG4gICAqICBpcyBnaXZlbiwgZWxzZSBpdCByZXR1cm5zIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogLy8gdXNpbmcgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGVcbiAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IG5hbWUgJT4nKTtcbiAgICogY29tcGlsZWQoeyAnbmFtZSc6ICdmcmVkJyB9KTtcbiAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAqXG4gICAqIC8vIHVzaW5nIHRoZSBcImVzY2FwZVwiIGRlbGltaXRlciB0byBlc2NhcGUgSFRNTCBpbiBkYXRhIHByb3BlcnR5IHZhbHVlc1xuICAgKiBfLnRlbXBsYXRlKCc8Yj48JS0gdmFsdWUgJT48L2I+JywgeyAndmFsdWUnOiAnPHNjcmlwdD4nIH0pO1xuICAgKiAvLyA9PiAnPGI+Jmx0O3NjcmlwdCZndDs8L2I+J1xuICAgKlxuICAgKiAvLyB1c2luZyB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBnZW5lcmF0ZSBIVE1MXG4gICAqIHZhciBsaXN0ID0gJzwlIF8uZm9yRWFjaChwZW9wbGUsIGZ1bmN0aW9uKG5hbWUpIHsgJT48bGk+PCUtIG5hbWUgJT48L2xpPjwlIH0pOyAlPic7XG4gICAqIF8udGVtcGxhdGUobGlzdCwgeyAncGVvcGxlJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICpcbiAgICogLy8gdXNpbmcgdGhlIEVTNiBkZWxpbWl0ZXIgYXMgYW4gYWx0ZXJuYXRpdmUgdG8gdGhlIGRlZmF1bHQgXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlclxuICAgKiBfLnRlbXBsYXRlKCdoZWxsbyAkeyBuYW1lIH0nLCB7ICduYW1lJzogJ3BlYmJsZXMnIH0pO1xuICAgKiAvLyA9PiAnaGVsbG8gcGViYmxlcydcbiAgICpcbiAgICogLy8gdXNpbmcgdGhlIGludGVybmFsIGBwcmludGAgZnVuY3Rpb24gaW4gXCJldmFsdWF0ZVwiIGRlbGltaXRlcnNcbiAgICogXy50ZW1wbGF0ZSgnPCUgcHJpbnQoXCJoZWxsbyBcIiArIG5hbWUpOyAlPiEnLCB7ICduYW1lJzogJ2Jhcm5leScgfSk7XG4gICAqIC8vID0+ICdoZWxsbyBiYXJuZXkhJ1xuICAgKlxuICAgKiAvLyB1c2luZyBhIGN1c3RvbSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXG4gICAqIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICogICAnaW50ZXJwb2xhdGUnOiAve3soW1xcc1xcU10rPyl9fS9nXG4gICAqIH07XG4gICAqXG4gICAqIF8udGVtcGxhdGUoJ2hlbGxvIHt7IG5hbWUgfX0hJywgeyAnbmFtZSc6ICdtdXN0YWNoZScgfSk7XG4gICAqIC8vID0+ICdoZWxsbyBtdXN0YWNoZSEnXG4gICAqXG4gICAqIC8vIHVzaW5nIHRoZSBgaW1wb3J0c2Agb3B0aW9uIHRvIGltcG9ydCBqUXVlcnlcbiAgICogdmFyIGxpc3QgPSAnPCUganEuZWFjaChwZW9wbGUsIGZ1bmN0aW9uKG5hbWUpIHsgJT48bGk+PCUtIG5hbWUgJT48L2xpPjwlIH0pOyAlPic7XG4gICAqIF8udGVtcGxhdGUobGlzdCwgeyAncGVvcGxlJzogWydmcmVkJywgJ2Jhcm5leSddIH0sIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICpcbiAgICogLy8gdXNpbmcgdGhlIGBzb3VyY2VVUkxgIG9wdGlvbiB0byBzcGVjaWZ5IGEgY3VzdG9tIHNvdXJjZVVSTCBmb3IgdGhlIHRlbXBsYXRlXG4gICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIDwlPSBuYW1lICU+JywgbnVsbCwgeyAnc291cmNlVVJMJzogJy9iYXNpYy9ncmVldGluZy5qc3QnIH0pO1xuICAgKiBjb21waWxlZChkYXRhKTtcbiAgICogLy8gPT4gZmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3RvclxuICAgKlxuICAgKiAvLyB1c2luZyB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGVcbiAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEubmFtZSAlPiEnLCBudWxsLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICogY29tcGlsZWQuc291cmNlO1xuICAgKiAvLyA9PiBmdW5jdGlvbihkYXRhKSB7XG4gICAqICAgdmFyIF9fdCwgX19wID0gJycsIF9fZSA9IF8uZXNjYXBlO1xuICAgKiAgIF9fcCArPSAnaGkgJyArICgoX190ID0gKCBkYXRhLm5hbWUgKSkgPT0gbnVsbCA/ICcnIDogX190KSArICchJztcbiAgICogICByZXR1cm4gX19wO1xuICAgKiB9XG4gICAqXG4gICAqIC8vIHVzaW5nIHRoZSBgc291cmNlYCBwcm9wZXJ0eSB0byBpbmxpbmUgY29tcGlsZWQgdGVtcGxhdGVzIGZvciBtZWFuaW5nZnVsXG4gICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgYSBzdGFjayB0cmFjZVxuICAgKiBmcy53cml0ZUZpbGVTeW5jKHBhdGguam9pbihjd2QsICdqc3QuanMnKSwgJ1xcXG4gICAqICAgdmFyIEpTVCA9IHtcXFxuICAgKiAgICAgXCJtYWluXCI6ICcgKyBfLnRlbXBsYXRlKG1haW5UZXh0KS5zb3VyY2UgKyAnXFxcbiAgICogICB9O1xcXG4gICAqICcpO1xuICAgKi9cbiAgZnVuY3Rpb24gdGVtcGxhdGUodGV4dCwgZGF0YSwgb3B0aW9ucykge1xuICAgIHZhciBfID0gbG9kYXNoLFxuICAgICAgICBzZXR0aW5ncyA9IF8udGVtcGxhdGVTZXR0aW5ncztcblxuICAgIHRleHQgPSBTdHJpbmcodGV4dCB8fCAnJyk7XG4gICAgb3B0aW9ucyA9IGRlZmF1bHRzKHt9LCBvcHRpb25zLCBzZXR0aW5ncyk7XG5cbiAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICBzb3VyY2UgPSBcIl9fcCArPSAnXCIsXG4gICAgICAgIHZhcmlhYmxlID0gb3B0aW9ucy52YXJpYWJsZTtcblxuICAgIHZhciByZURlbGltaXRlcnMgPSBSZWdFeHAoXG4gICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgKG9wdGlvbnMuaW50ZXJwb2xhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgKG9wdGlvbnMuZXZhbHVhdGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCQnXG4gICAgLCAnZycpO1xuXG4gICAgdGV4dC5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBldmFsdWF0ZVZhbHVlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpLnJlcGxhY2UocmVVbmVzY2FwZWRTdHJpbmcsIGVzY2FwZVN0cmluZ0NoYXIpO1xuICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicgK1xcbl8uZXNjYXBlKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgIH1cbiAgICAgIGlmIChldmFsdWF0ZVZhbHVlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZVZhbHVlICsgXCI7XFxuX19wICs9ICdcIjtcbiAgICAgIH1cbiAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicgK1xcbigoX190ID0gKFwiICsgaW50ZXJwb2xhdGVWYWx1ZSArIFwiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG5cbiAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuICAgIGlmICghdmFyaWFibGUpIHtcbiAgICAgIHZhcmlhYmxlID0gJ29iaic7XG4gICAgICBzb3VyY2UgPSAnd2l0aCAoJyArIHZhcmlhYmxlICsgJyB8fCB7fSkge1xcbicgKyBzb3VyY2UgKyAnXFxufVxcbic7XG4gICAgfVxuICAgIHNvdXJjZSA9ICdmdW5jdGlvbignICsgdmFyaWFibGUgKyAnKSB7XFxuJyArXG4gICAgICBcInZhciBfX3QsIF9fcCA9ICcnLCBfX2ogPSBBcnJheS5wcm90b3R5cGUuam9pbjtcXG5cIiArXG4gICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiICtcbiAgICAgIHNvdXJjZSArXG4gICAgICAncmV0dXJuIF9fcFxcbn0nO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciByZXN1bHQgPSBGdW5jdGlvbignXycsICdyZXR1cm4gJyArIHNvdXJjZSkoXyk7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGlmIChkYXRhKSB7XG4gICAgICByZXR1cm4gcmVzdWx0KGRhdGEpO1xuICAgIH1cbiAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGNhbGxiYWNrIGBuYCB0aW1lcywgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzXG4gICAqIG9mIGVhY2ggY2FsbGJhY2sgZXhlY3V0aW9uLiBUaGUgY2FsbGJhY2sgaXMgYm91bmQgdG8gYHRoaXNBcmdgIGFuZCBpbnZva2VkXG4gICAqIHdpdGggb25lIGFyZ3VtZW50OyAoaW5kZXgpLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBVdGlsaXRpZXNcbiAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiB0aW1lcyB0byBleGVjdXRlIHRoZSBjYWxsYmFjay5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIGNhbGxlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGNhbGxiYWNrYC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSByZXN1bHRzIG9mIGVhY2ggYGNhbGxiYWNrYCBleGVjdXRpb24uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIHZhciBkaWNlUm9sbHMgPSBfLnRpbWVzKDMsIF8ucGFydGlhbChfLnJhbmRvbSwgMSwgNikpO1xuICAgKiAvLyA9PiBbMywgNiwgNF1cbiAgICpcbiAgICogXy50aW1lcygzLCBmdW5jdGlvbihuKSB7IG1hZ2UuY2FzdFNwZWxsKG4pOyB9KTtcbiAgICogLy8gPT4gY2FsbHMgYG1hZ2UuY2FzdFNwZWxsKG4pYCB0aHJlZSB0aW1lcywgcGFzc2luZyBgbmAgb2YgYDBgLCBgMWAsIGFuZCBgMmAgcmVzcGVjdGl2ZWx5XG4gICAqXG4gICAqIF8udGltZXMoMywgZnVuY3Rpb24obikgeyB0aGlzLmNhc3Qobik7IH0sIG1hZ2UpO1xuICAgKiAvLyA9PiBhbHNvIGNhbGxzIGBtYWdlLmNhc3RTcGVsbChuKWAgdGhyZWUgdGltZXNcbiAgICovXG4gIGZ1bmN0aW9uIHRpbWVzKG4sIGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgbiA9IChuID0gK24pID4gLTEgPyBuIDogMDtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICBjYWxsYmFjayA9IGJhc2VDcmVhdGVDYWxsYmFjayhjYWxsYmFjaywgdGhpc0FyZywgMSk7XG4gICAgd2hpbGUgKCsraW5kZXggPCBuKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gY2FsbGJhY2soaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBpbnZlcnNlIG9mIGBfLmVzY2FwZWAgdGhpcyBtZXRob2QgY29udmVydHMgdGhlIEhUTUwgZW50aXRpZXNcbiAgICogYCZhbXA7YCwgYCZsdDtgLCBgJmd0O2AsIGAmcXVvdDtgLCBhbmQgYCYjMzk7YCBpbiBgc3RyaW5nYCB0byB0aGVpclxuICAgKiBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVuZXNjYXBlZCBzdHJpbmcuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8udW5lc2NhcGUoJ0ZyZWQsIEJhcm5leSAmYW1wOyBQZWJibGVzJyk7XG4gICAqIC8vID0+ICdGcmVkLCBCYXJuZXkgJiBQZWJibGVzJ1xuICAgKi9cbiAgZnVuY3Rpb24gdW5lc2NhcGUoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZyA9PSBudWxsID8gJycgOiBTdHJpbmcoc3RyaW5nKS5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlcyBhIHVuaXF1ZSBJRC4gSWYgYHByZWZpeGAgaXMgcHJvdmlkZWQgdGhlIElEIHdpbGwgYmUgYXBwZW5kZWQgdG8gaXQuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IFV0aWxpdGllc1xuICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeF0gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5pcXVlIElELlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLnVuaXF1ZUlkKCdjb250YWN0XycpO1xuICAgKiAvLyA9PiAnY29udGFjdF8xMDQnXG4gICAqXG4gICAqIF8udW5pcXVlSWQoKTtcbiAgICogLy8gPT4gJzEwNSdcbiAgICovXG4gIGZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCkge1xuICAgIHZhciBpZCA9ICsraWRDb3VudGVyICsgJyc7XG4gICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG4gIH1cblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIG9iamVjdCB0aGF0IHdyYXBzIHRoZSBnaXZlbiB2YWx1ZSB3aXRoIGV4cGxpY2l0XG4gICAqIG1ldGhvZCBjaGFpbmluZyBlbmFibGVkLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAgJ2FnZSc6IDM2IH0sXG4gICAqICAgeyAnbmFtZSc6ICdmcmVkJywgICAgJ2FnZSc6IDQwIH0sXG4gICAqICAgeyAnbmFtZSc6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgKiBdO1xuICAgKlxuICAgKiB2YXIgeW91bmdlc3QgPSBfLmNoYWluKGNoYXJhY3RlcnMpXG4gICAqICAgICAuc29ydEJ5KCdhZ2UnKVxuICAgKiAgICAgLm1hcChmdW5jdGlvbihjaHIpIHsgcmV0dXJuIGNoci5uYW1lICsgJyBpcyAnICsgY2hyLmFnZTsgfSlcbiAgICogICAgIC5maXJzdCgpXG4gICAqICAgICAudmFsdWUoKTtcbiAgICogLy8gPT4gJ3BlYmJsZXMgaXMgMSdcbiAgICovXG4gIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgdmFsdWUgPSBuZXcgbG9kYXNoV3JhcHBlcih2YWx1ZSk7XG4gICAgdmFsdWUuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogSW52b2tlcyBgaW50ZXJjZXB0b3JgIHdpdGggdGhlIGB2YWx1ZWAgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IGFuZCB0aGVuXG4gICAqIHJldHVybnMgYHZhbHVlYC4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kXG4gICAqIGNoYWluIGluIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW5cbiAgICogdGhlIGNoYWluLlxuICAgKlxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBfXG4gICAqIEBjYXRlZ29yeSBDaGFpbmluZ1xuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm92aWRlIHRvIGBpbnRlcmNlcHRvcmAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIF8oWzEsIDIsIDMsIDRdKVxuICAgKiAgLnRhcChmdW5jdGlvbihhcnJheSkgeyBhcnJheS5wb3AoKTsgfSlcbiAgICogIC5yZXZlcnNlKClcbiAgICogIC52YWx1ZSgpO1xuICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICovXG4gIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgZXhwbGljaXQgbWV0aG9kIGNoYWluaW5nIG9uIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICpcbiAgICogQG5hbWUgY2hhaW5cbiAgICogQG1lbWJlck9mIF9cbiAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICogQGV4YW1wbGVcbiAgICpcbiAgICogdmFyIGNoYXJhY3RlcnMgPSBbXG4gICAqICAgeyAnbmFtZSc6ICdiYXJuZXknLCAnYWdlJzogMzYgfSxcbiAgICogICB7ICduYW1lJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCB9XG4gICAqIF07XG4gICAqXG4gICAqIC8vIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmdcbiAgICogXyhjaGFyYWN0ZXJzKS5maXJzdCgpO1xuICAgKiAvLyA9PiB7ICduYW1lJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAqXG4gICAqIC8vIHdpdGggZXhwbGljaXQgY2hhaW5pbmdcbiAgICogXyhjaGFyYWN0ZXJzKS5jaGFpbigpXG4gICAqICAgLmZpcnN0KClcbiAgICogICAucGljaygnYWdlJylcbiAgICogICAudmFsdWUoKTtcbiAgICogLy8gPT4geyAnYWdlJzogMzYgfVxuICAgKi9cbiAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgIHRoaXMuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHRyYWN0cyB0aGUgd3JhcHBlZCB2YWx1ZS5cbiAgICpcbiAgICogQG5hbWUgdmFsdWVPZlxuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAYWxpYXMgdmFsdWVcbiAgICogQGNhdGVnb3J5IENoYWluaW5nXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfKFsxLCAyLCAzXSkudmFsdWVPZigpO1xuICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICovXG4gIGZ1bmN0aW9uIHdyYXBwZXJWYWx1ZU9mKCkge1xuICAgIHJldHVybiB0aGlzLl9fd3JhcHBlZF9fO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gYWRkIGZ1bmN0aW9ucyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyB3aGVuIGNoYWluaW5nXG4gIGxvZGFzaC5hZnRlciA9IGFmdGVyO1xuICBsb2Rhc2guYmluZCA9IGJpbmQ7XG4gIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgbG9kYXNoLmNoYWluID0gY2hhaW47XG4gIGxvZGFzaC5jb21wYWN0ID0gY29tcGFjdDtcbiAgbG9kYXNoLmNvbXBvc2UgPSBjb21wb3NlO1xuICBsb2Rhc2guY291bnRCeSA9IGNvdW50Qnk7XG4gIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICBsb2Rhc2guZGVmYXVsdHMgPSBkZWZhdWx0cztcbiAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gIGxvZGFzaC5kZWxheSA9IGRlbGF5O1xuICBsb2Rhc2guZGlmZmVyZW5jZSA9IGRpZmZlcmVuY2U7XG4gIGxvZGFzaC5maWx0ZXIgPSBmaWx0ZXI7XG4gIGxvZGFzaC5mbGF0dGVuID0gZmxhdHRlbjtcbiAgbG9kYXNoLmZvckVhY2ggPSBmb3JFYWNoO1xuICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICBsb2Rhc2guZ3JvdXBCeSA9IGdyb3VwQnk7XG4gIGxvZGFzaC5pbmRleEJ5ID0gaW5kZXhCeTtcbiAgbG9kYXNoLmluaXRpYWwgPSBpbml0aWFsO1xuICBsb2Rhc2guaW50ZXJzZWN0aW9uID0gaW50ZXJzZWN0aW9uO1xuICBsb2Rhc2guaW52ZXJ0ID0gaW52ZXJ0O1xuICBsb2Rhc2guaW52b2tlID0gaW52b2tlO1xuICBsb2Rhc2gua2V5cyA9IGtleXM7XG4gIGxvZGFzaC5tYXAgPSBtYXA7XG4gIGxvZGFzaC5tYXggPSBtYXg7XG4gIGxvZGFzaC5tZW1vaXplID0gbWVtb2l6ZTtcbiAgbG9kYXNoLm1pbiA9IG1pbjtcbiAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICBsb2Rhc2gub25jZSA9IG9uY2U7XG4gIGxvZGFzaC5wYWlycyA9IHBhaXJzO1xuICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gIGxvZGFzaC5waWNrID0gcGljaztcbiAgbG9kYXNoLnBsdWNrID0gcGx1Y2s7XG4gIGxvZGFzaC5yYW5nZSA9IHJhbmdlO1xuICBsb2Rhc2gucmVqZWN0ID0gcmVqZWN0O1xuICBsb2Rhc2gucmVzdCA9IHJlc3Q7XG4gIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgbG9kYXNoLnNvcnRCeSA9IHNvcnRCeTtcbiAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgbG9kYXNoLnRocm90dGxlID0gdGhyb3R0bGU7XG4gIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICBsb2Rhc2gudG9BcnJheSA9IHRvQXJyYXk7XG4gIGxvZGFzaC51bmlvbiA9IHVuaW9uO1xuICBsb2Rhc2gudW5pcSA9IHVuaXE7XG4gIGxvZGFzaC52YWx1ZXMgPSB2YWx1ZXM7XG4gIGxvZGFzaC53aGVyZSA9IHdoZXJlO1xuICBsb2Rhc2gud2l0aG91dCA9IHdpdGhvdXQ7XG4gIGxvZGFzaC53cmFwID0gd3JhcDtcbiAgbG9kYXNoLnppcCA9IHppcDtcblxuICAvLyBhZGQgYWxpYXNlc1xuICBsb2Rhc2guY29sbGVjdCA9IG1hcDtcbiAgbG9kYXNoLmRyb3AgPSByZXN0O1xuICBsb2Rhc2guZWFjaCA9IGZvckVhY2g7XG4gIGxvZGFzaC5leHRlbmQgPSBhc3NpZ247XG4gIGxvZGFzaC5tZXRob2RzID0gZnVuY3Rpb25zO1xuICBsb2Rhc2gub2JqZWN0ID0gemlwT2JqZWN0O1xuICBsb2Rhc2guc2VsZWN0ID0gZmlsdGVyO1xuICBsb2Rhc2gudGFpbCA9IHJlc3Q7XG4gIGxvZGFzaC51bmlxdWUgPSB1bmlxO1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIGFkZCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyB3aGVuIGNoYWluaW5nXG4gIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICBsb2Rhc2guY29udGFpbnMgPSBjb250YWlucztcbiAgbG9kYXNoLmVzY2FwZSA9IGVzY2FwZTtcbiAgbG9kYXNoLmV2ZXJ5ID0gZXZlcnk7XG4gIGxvZGFzaC5maW5kID0gZmluZDtcbiAgbG9kYXNoLmhhcyA9IGhhcztcbiAgbG9kYXNoLmlkZW50aXR5ID0gaWRlbnRpdHk7XG4gIGxvZGFzaC5pbmRleE9mID0gaW5kZXhPZjtcbiAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gIGxvZGFzaC5pc0FycmF5ID0gaXNBcnJheTtcbiAgbG9kYXNoLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcbiAgbG9kYXNoLmlzRGF0ZSA9IGlzRGF0ZTtcbiAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgbG9kYXNoLmlzRW1wdHkgPSBpc0VtcHR5O1xuICBsb2Rhc2guaXNFcXVhbCA9IGlzRXF1YWw7XG4gIGxvZGFzaC5pc0Zpbml0ZSA9IGlzRmluaXRlO1xuICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gIGxvZGFzaC5pc05hTiA9IGlzTmFOO1xuICBsb2Rhc2guaXNOdWxsID0gaXNOdWxsO1xuICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgbG9kYXNoLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG4gIGxvZGFzaC5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuICBsb2Rhc2guaXNTdHJpbmcgPSBpc1N0cmluZztcbiAgbG9kYXNoLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG4gIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICBsb2Rhc2gucmVkdWNlID0gcmVkdWNlO1xuICBsb2Rhc2gucmVkdWNlUmlnaHQgPSByZWR1Y2VSaWdodDtcbiAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgbG9kYXNoLnNpemUgPSBzaXplO1xuICBsb2Rhc2guc29tZSA9IHNvbWU7XG4gIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICBsb2Rhc2gudGVtcGxhdGUgPSB0ZW1wbGF0ZTtcbiAgbG9kYXNoLnVuZXNjYXBlID0gdW5lc2NhcGU7XG4gIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuXG4gIC8vIGFkZCBhbGlhc2VzXG4gIGxvZGFzaC5hbGwgPSBldmVyeTtcbiAgbG9kYXNoLmFueSA9IHNvbWU7XG4gIGxvZGFzaC5kZXRlY3QgPSBmaW5kO1xuICBsb2Rhc2guZmluZFdoZXJlID0gZmluZFdoZXJlO1xuICBsb2Rhc2guZm9sZGwgPSByZWR1Y2U7XG4gIGxvZGFzaC5mb2xkciA9IHJlZHVjZVJpZ2h0O1xuICBsb2Rhc2guaW5jbHVkZSA9IGNvbnRhaW5zO1xuICBsb2Rhc2guaW5qZWN0ID0gcmVkdWNlO1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8vIGFkZCBmdW5jdGlvbnMgY2FwYWJsZSBvZiByZXR1cm5pbmcgd3JhcHBlZCBhbmQgdW53cmFwcGVkIHZhbHVlcyB3aGVuIGNoYWluaW5nXG4gIGxvZGFzaC5maXJzdCA9IGZpcnN0O1xuICBsb2Rhc2gubGFzdCA9IGxhc3Q7XG4gIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG5cbiAgLy8gYWRkIGFsaWFzZXNcbiAgbG9kYXNoLnRha2UgPSBmaXJzdDtcbiAgbG9kYXNoLmhlYWQgPSBmaXJzdDtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBhZGQgZnVuY3Rpb25zIHRvIGBsb2Rhc2gucHJvdG90eXBlYFxuICBtaXhpbihsb2Rhc2gpO1xuXG4gIC8qKlxuICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAqXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIF9cbiAgICogQHR5cGUgc3RyaW5nXG4gICAqL1xuICBsb2Rhc2guVkVSU0lPTiA9ICcyLjQuMSc7XG5cbiAgLy8gYWRkIFwiQ2hhaW5pbmdcIiBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXJcbiAgbG9kYXNoLnByb3RvdHlwZS5jaGFpbiA9IHdyYXBwZXJDaGFpbjtcbiAgbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZU9mO1xuXG4gICAgLy8gYWRkIGBBcnJheWAgbXV0YXRvciBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXJcbiAgICBmb3JFYWNoKFsncG9wJywgJ3B1c2gnLCAncmV2ZXJzZScsICdzaGlmdCcsICdzb3J0JywgJ3NwbGljZScsICd1bnNoaWZ0J10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gYXJyYXlSZWZbbWV0aG9kTmFtZV07XG4gICAgICBsb2Rhc2gucHJvdG90eXBlW21ldGhvZE5hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX193cmFwcGVkX187XG4gICAgICAgIGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgLy8gYXZvaWQgYXJyYXktbGlrZSBvYmplY3QgYnVncyB3aXRoIGBBcnJheSNzaGlmdGAgYW5kIGBBcnJheSNzcGxpY2VgXG4gICAgICAgIC8vIGluIEZpcmVmb3ggPCAxMCBhbmQgSUUgPCA5XG4gICAgICAgIGlmICghc3VwcG9ydC5zcGxpY2VPYmplY3RzICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgYEFycmF5YCBhY2Nlc3NvciBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXJcbiAgICBmb3JFYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVJlZlttZXRob2ROYW1lXTtcbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgcmVzdWx0ID0gbmV3IGxvZGFzaFdyYXBwZXIocmVzdWx0KTtcbiAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAvLyBzb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzIGxpa2Ugci5qcyBjaGVjayBmb3IgY29uZGl0aW9uIHBhdHRlcm5zIGxpa2UgdGhlIGZvbGxvd2luZzpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvLURhc2ggdG8gdGhlIGdsb2JhbCBvYmplY3QgZXZlbiB3aGVuIGFuIEFNRCBsb2FkZXIgaXMgcHJlc2VudCBpblxuICAgIC8vIGNhc2UgTG8tRGFzaCBpcyBsb2FkZWQgd2l0aCBhIFJlcXVpcmVKUyBzaGltIGNvbmZpZy5cbiAgICAvLyBTZWUgaHR0cDovL3JlcXVpcmVqcy5vcmcvZG9jcy9hcGkuaHRtbCNjb25maWctc2hpbVxuICAgIHJvb3QuXyA9IGxvZGFzaDtcblxuICAgIC8vIGRlZmluZSBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHNvLCB0aHJvdWdoIHBhdGggbWFwcGluZywgaXQgY2FuIGJlXG4gICAgLy8gcmVmZXJlbmNlZCBhcyB0aGUgXCJ1bmRlcnNjb3JlXCIgbW9kdWxlXG4gICAgZGVmaW5lKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGxvZGFzaDtcbiAgICB9KTtcbiAgfVxuICAvLyBjaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBhbiBgZXhwb3J0c2Agb2JqZWN0XG4gIGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcbiAgICAvLyBpbiBOb2RlLmpzIG9yIFJpbmdvSlNcbiAgICBpZiAobW9kdWxlRXhwb3J0cykge1xuICAgICAgKGZyZWVNb2R1bGUuZXhwb3J0cyA9IGxvZGFzaCkuXyA9IGxvZGFzaDtcbiAgICB9XG4gICAgLy8gaW4gTmFyd2hhbCBvciBSaGlubyAtcmVxdWlyZVxuICAgIGVsc2Uge1xuICAgICAgZnJlZUV4cG9ydHMuXyA9IGxvZGFzaDtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgLy8gaW4gYSBicm93c2VyIG9yIFJoaW5vXG4gICAgcm9vdC5fID0gbG9kYXNoO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiLy8gQmFja2JvbmUuanMgMC45LjJcblxuLy8gKGMpIDIwMTAtMjAxMiBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgSW5jLlxuLy8gQmFja2JvbmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG4vLyBGb3IgYWxsIGRldGFpbHMgYW5kIGRvY3VtZW50YXRpb246XG4vLyBodHRwOi8vYmFja2JvbmVqcy5vcmdcbihmdW5jdGlvbigpe3ZhciBsPXRoaXMseT1sLkJhY2tib25lLHo9QXJyYXkucHJvdG90eXBlLnNsaWNlLEE9QXJyYXkucHJvdG90eXBlLnNwbGljZSxnO2c9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6bC5CYWNrYm9uZT17fTtnLlZFUlNJT049XCIwLjkuMlwiO3ZhciBmPWwuXzshZiYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiByZXF1aXJlJiYoZj1yZXF1aXJlKFwidW5kZXJzY29yZVwiKSk7dmFyIGk9bC5qUXVlcnl8fGwuWmVwdG98fGwuZW5kZXI7Zy5zZXREb21MaWJyYXJ5PWZ1bmN0aW9uKGEpe2k9YX07Zy5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7bC5CYWNrYm9uZT15O3JldHVybiB0aGlzfTtnLmVtdWxhdGVIVFRQPSExO2cuZW11bGF0ZUpTT049ITE7dmFyIHA9L1xccysvLGs9Zy5FdmVudHM9e29uOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxqO2lmKCFiKXJldHVybiB0aGlzO2E9YS5zcGxpdChwKTtmb3IoZD10aGlzLl9jYWxsYmFja3N8fCh0aGlzLl9jYWxsYmFja3M9XG57fSk7ZT1hLnNoaWZ0KCk7KWY9KGo9ZFtlXSk/ai50YWlsOnt9LGYubmV4dD1nPXt9LGYuY29udGV4dD1jLGYuY2FsbGJhY2s9YixkW2VdPXt0YWlsOmcsbmV4dDpqP2oubmV4dDpmfTtyZXR1cm4gdGhpc30sb2ZmOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGgsZyxqLHE7aWYoZT10aGlzLl9jYWxsYmFja3Mpe2lmKCFhJiYhYiYmIWMpcmV0dXJuIGRlbGV0ZSB0aGlzLl9jYWxsYmFja3MsdGhpcztmb3IoYT1hP2Euc3BsaXQocCk6Zi5rZXlzKGUpO2Q9YS5zaGlmdCgpOylpZihoPWVbZF0sZGVsZXRlIGVbZF0saCYmKGJ8fGMpKWZvcihnPWgudGFpbDsoaD1oLm5leHQpIT09ZzspaWYoaj1oLmNhbGxiYWNrLHE9aC5jb250ZXh0LGImJmohPT1ifHxjJiZxIT09Yyl0aGlzLm9uKGQsaixxKTtyZXR1cm4gdGhpc319LHRyaWdnZXI6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnO2lmKCEoZD10aGlzLl9jYWxsYmFja3MpKXJldHVybiB0aGlzO2Y9ZC5hbGw7YT1hLnNwbGl0KHApO2ZvcihnPVxuei5jYWxsKGFyZ3VtZW50cywxKTtiPWEuc2hpZnQoKTspe2lmKGM9ZFtiXSlmb3IoZT1jLnRhaWw7KGM9Yy5uZXh0KSE9PWU7KWMuY2FsbGJhY2suYXBwbHkoYy5jb250ZXh0fHx0aGlzLGcpO2lmKGM9Zil7ZT1jLnRhaWw7Zm9yKGI9W2JdLmNvbmNhdChnKTsoYz1jLm5leHQpIT09ZTspYy5jYWxsYmFjay5hcHBseShjLmNvbnRleHR8fHRoaXMsYil9fXJldHVybiB0aGlzfX07ay5iaW5kPWsub247ay51bmJpbmQ9ay5vZmY7dmFyIG89Zy5Nb2RlbD1mdW5jdGlvbihhLGIpe3ZhciBjO2F8fChhPXt9KTtiJiZiLnBhcnNlJiYoYT10aGlzLnBhcnNlKGEpKTtpZihjPW4odGhpcyxcImRlZmF1bHRzXCIpKWE9Zi5leHRlbmQoe30sYyxhKTtiJiZiLmNvbGxlY3Rpb24mJih0aGlzLmNvbGxlY3Rpb249Yi5jb2xsZWN0aW9uKTt0aGlzLmF0dHJpYnV0ZXM9e307dGhpcy5fZXNjYXBlZEF0dHJpYnV0ZXM9e307dGhpcy5jaWQ9Zi51bmlxdWVJZChcImNcIik7dGhpcy5jaGFuZ2VkPXt9O3RoaXMuX3NpbGVudD1cbnt9O3RoaXMuX3BlbmRpbmc9e307dGhpcy5zZXQoYSx7c2lsZW50OiEwfSk7dGhpcy5jaGFuZ2VkPXt9O3RoaXMuX3NpbGVudD17fTt0aGlzLl9wZW5kaW5nPXt9O3RoaXMuX3ByZXZpb3VzQXR0cmlidXRlcz1mLmNsb25lKHRoaXMuYXR0cmlidXRlcyk7dGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Zi5leHRlbmQoby5wcm90b3R5cGUsayx7Y2hhbmdlZDpudWxsLF9zaWxlbnQ6bnVsbCxfcGVuZGluZzpudWxsLGlkQXR0cmlidXRlOlwiaWRcIixpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gZi5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thXX0sZXNjYXBlOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGI9dGhpcy5fZXNjYXBlZEF0dHJpYnV0ZXNbYV0pcmV0dXJuIGI7Yj10aGlzLmdldChhKTtyZXR1cm4gdGhpcy5fZXNjYXBlZEF0dHJpYnV0ZXNbYV09Zi5lc2NhcGUobnVsbD09XG5iP1wiXCI6XCJcIitiKX0saGFzOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT10aGlzLmdldChhKX0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2YuaXNPYmplY3QoYSl8fG51bGw9PWE/KGQ9YSxjPWIpOihkPXt9LGRbYV09Yik7Y3x8KGM9e30pO2lmKCFkKXJldHVybiB0aGlzO2QgaW5zdGFuY2VvZiBvJiYoZD1kLmF0dHJpYnV0ZXMpO2lmKGMudW5zZXQpZm9yKGUgaW4gZClkW2VdPXZvaWQgMDtpZighdGhpcy5fdmFsaWRhdGUoZCxjKSlyZXR1cm4hMTt0aGlzLmlkQXR0cmlidXRlIGluIGQmJih0aGlzLmlkPWRbdGhpcy5pZEF0dHJpYnV0ZV0pO3ZhciBiPWMuY2hhbmdlcz17fSxoPXRoaXMuYXR0cmlidXRlcyxnPXRoaXMuX2VzY2FwZWRBdHRyaWJ1dGVzLGo9dGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzfHx7fTtmb3IoZSBpbiBkKXthPWRbZV07aWYoIWYuaXNFcXVhbChoW2VdLGEpfHxjLnVuc2V0JiZmLmhhcyhoLGUpKWRlbGV0ZSBnW2VdLChjLnNpbGVudD90aGlzLl9zaWxlbnQ6XG5iKVtlXT0hMDtjLnVuc2V0P2RlbGV0ZSBoW2VdOmhbZV09YTshZi5pc0VxdWFsKGpbZV0sYSl8fGYuaGFzKGgsZSkhPWYuaGFzKGosZSk/KHRoaXMuY2hhbmdlZFtlXT1hLGMuc2lsZW50fHwodGhpcy5fcGVuZGluZ1tlXT0hMCkpOihkZWxldGUgdGhpcy5jaGFuZ2VkW2VdLGRlbGV0ZSB0aGlzLl9wZW5kaW5nW2VdKX1jLnNpbGVudHx8dGhpcy5jaGFuZ2UoYyk7cmV0dXJuIHRoaXN9LHVuc2V0OmZ1bmN0aW9uKGEsYil7KGJ8fChiPXt9KSkudW5zZXQ9ITA7cmV0dXJuIHRoaXMuc2V0KGEsbnVsbCxiKX0sY2xlYXI6ZnVuY3Rpb24oYSl7KGF8fChhPXt9KSkudW5zZXQ9ITA7cmV0dXJuIHRoaXMuc2V0KGYuY2xvbmUodGhpcy5hdHRyaWJ1dGVzKSxhKX0sZmV0Y2g6ZnVuY3Rpb24oYSl7dmFyIGE9YT9mLmNsb25lKGEpOnt9LGI9dGhpcyxjPWEuc3VjY2VzczthLnN1Y2Nlc3M9ZnVuY3Rpb24oZCxlLGYpe2lmKCFiLnNldChiLnBhcnNlKGQsZiksYSkpcmV0dXJuITE7YyYmYyhiLGQpfTtcbmEuZXJyb3I9Zy53cmFwRXJyb3IoYS5lcnJvcixiLGEpO3JldHVybih0aGlzLnN5bmN8fGcuc3luYykuY2FsbCh0aGlzLFwicmVhZFwiLHRoaXMsYSl9LHNhdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7Zi5pc09iamVjdChhKXx8bnVsbD09YT8oZD1hLGM9Yik6KGQ9e30sZFthXT1iKTtjPWM/Zi5jbG9uZShjKTp7fTtpZihjLndhaXQpe2lmKCF0aGlzLl92YWxpZGF0ZShkLGMpKXJldHVybiExO2U9Zi5jbG9uZSh0aGlzLmF0dHJpYnV0ZXMpfWE9Zi5leHRlbmQoe30sYyx7c2lsZW50OiEwfSk7aWYoZCYmIXRoaXMuc2V0KGQsYy53YWl0P2E6YykpcmV0dXJuITE7dmFyIGg9dGhpcyxpPWMuc3VjY2VzcztjLnN1Y2Nlc3M9ZnVuY3Rpb24oYSxiLGUpe2I9aC5wYXJzZShhLGUpO2lmKGMud2FpdCl7ZGVsZXRlIGMud2FpdDtiPWYuZXh0ZW5kKGR8fHt9LGIpfWlmKCFoLnNldChiLGMpKXJldHVybiBmYWxzZTtpP2koaCxhKTpoLnRyaWdnZXIoXCJzeW5jXCIsaCxhLGMpfTtjLmVycm9yPWcud3JhcEVycm9yKGMuZXJyb3IsXG5oLGMpO2I9dGhpcy5pc05ldygpP1wiY3JlYXRlXCI6XCJ1cGRhdGVcIjtiPSh0aGlzLnN5bmN8fGcuc3luYykuY2FsbCh0aGlzLGIsdGhpcyxjKTtjLndhaXQmJnRoaXMuc2V0KGUsYSk7cmV0dXJuIGJ9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dmFyIGE9YT9mLmNsb25lKGEpOnt9LGI9dGhpcyxjPWEuc3VjY2VzcyxkPWZ1bmN0aW9uKCl7Yi50cmlnZ2VyKFwiZGVzdHJveVwiLGIsYi5jb2xsZWN0aW9uLGEpfTtpZih0aGlzLmlzTmV3KCkpcmV0dXJuIGQoKSwhMTthLnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7YS53YWl0JiZkKCk7Yz9jKGIsZSk6Yi50cmlnZ2VyKFwic3luY1wiLGIsZSxhKX07YS5lcnJvcj1nLndyYXBFcnJvcihhLmVycm9yLGIsYSk7dmFyIGU9KHRoaXMuc3luY3x8Zy5zeW5jKS5jYWxsKHRoaXMsXCJkZWxldGVcIix0aGlzLGEpO2Eud2FpdHx8ZCgpO3JldHVybiBlfSx1cmw6ZnVuY3Rpb24oKXt2YXIgYT1uKHRoaXMsXCJ1cmxSb290XCIpfHxuKHRoaXMuY29sbGVjdGlvbixcInVybFwiKXx8dCgpO1xucmV0dXJuIHRoaXMuaXNOZXcoKT9hOmErKFwiL1wiPT1hLmNoYXJBdChhLmxlbmd0aC0xKT9cIlwiOlwiL1wiKStlbmNvZGVVUklDb21wb25lbnQodGhpcy5pZCl9LHBhcnNlOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmF0dHJpYnV0ZXMpfSxpc05ldzpmdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLmlkfSxjaGFuZ2U6ZnVuY3Rpb24oYSl7YXx8KGE9e30pO3ZhciBiPXRoaXMuX2NoYW5naW5nO3RoaXMuX2NoYW5naW5nPSEwO2Zvcih2YXIgYyBpbiB0aGlzLl9zaWxlbnQpdGhpcy5fcGVuZGluZ1tjXT0hMDt2YXIgZD1mLmV4dGVuZCh7fSxhLmNoYW5nZXMsdGhpcy5fc2lsZW50KTt0aGlzLl9zaWxlbnQ9e307Zm9yKGMgaW4gZCl0aGlzLnRyaWdnZXIoXCJjaGFuZ2U6XCIrYyx0aGlzLHRoaXMuZ2V0KGMpLGEpO2lmKGIpcmV0dXJuIHRoaXM7Zm9yKDshZi5pc0VtcHR5KHRoaXMuX3BlbmRpbmcpOyl7dGhpcy5fcGVuZGluZz1cbnt9O3RoaXMudHJpZ2dlcihcImNoYW5nZVwiLHRoaXMsYSk7Zm9yKGMgaW4gdGhpcy5jaGFuZ2VkKSF0aGlzLl9wZW5kaW5nW2NdJiYhdGhpcy5fc2lsZW50W2NdJiZkZWxldGUgdGhpcy5jaGFuZ2VkW2NdO3RoaXMuX3ByZXZpb3VzQXR0cmlidXRlcz1mLmNsb25lKHRoaXMuYXR0cmlidXRlcyl9dGhpcy5fY2hhbmdpbmc9ITE7cmV0dXJuIHRoaXN9LGhhc0NoYW5nZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIWFyZ3VtZW50cy5sZW5ndGg/IWYuaXNFbXB0eSh0aGlzLmNoYW5nZWQpOmYuaGFzKHRoaXMuY2hhbmdlZCxhKX0sY2hhbmdlZEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIHRoaXMuaGFzQ2hhbmdlZCgpP2YuY2xvbmUodGhpcy5jaGFuZ2VkKTohMTt2YXIgYixjPSExLGQ9dGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzLGU7Zm9yKGUgaW4gYSlpZighZi5pc0VxdWFsKGRbZV0sYj1hW2VdKSkoY3x8KGM9e30pKVtlXT1iO3JldHVybiBjfSxwcmV2aW91czpmdW5jdGlvbihhKXtyZXR1cm4hYXJndW1lbnRzLmxlbmd0aHx8XG4hdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzP251bGw6dGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzW2FdfSxwcmV2aW91c0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jbG9uZSh0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMpfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMudmFsaWRhdGUodGhpcy5hdHRyaWJ1dGVzKX0sX3ZhbGlkYXRlOmZ1bmN0aW9uKGEsYil7aWYoYi5zaWxlbnR8fCF0aGlzLnZhbGlkYXRlKXJldHVybiEwO3ZhciBhPWYuZXh0ZW5kKHt9LHRoaXMuYXR0cmlidXRlcyxhKSxjPXRoaXMudmFsaWRhdGUoYSxiKTtpZighYylyZXR1cm4hMDtiJiZiLmVycm9yP2IuZXJyb3IodGhpcyxjLGIpOnRoaXMudHJpZ2dlcihcImVycm9yXCIsdGhpcyxjLGIpO3JldHVybiExfX0pO3ZhciByPWcuQ29sbGVjdGlvbj1mdW5jdGlvbihhLGIpe2J8fChiPXt9KTtiLm1vZGVsJiYodGhpcy5tb2RlbD1iLm1vZGVsKTtiLmNvbXBhcmF0b3ImJih0aGlzLmNvbXBhcmF0b3I9Yi5jb21wYXJhdG9yKTtcbnRoaXMuX3Jlc2V0KCk7dGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZ0aGlzLnJlc2V0KGEse3NpbGVudDohMCxwYXJzZTpiLnBhcnNlfSl9O2YuZXh0ZW5kKHIucHJvdG90eXBlLGsse21vZGVsOm8saW5pdGlhbGl6ZTpmdW5jdGlvbigpe30sdG9KU09OOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYi50b0pTT04oYSl9KX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGcsaSxqPXt9LGs9e30sbD1bXTtifHwoYj17fSk7YT1mLmlzQXJyYXkoYSk/YS5zbGljZSgpOlthXTtjPTA7Zm9yKGQ9YS5sZW5ndGg7YzxkO2MrKyl7aWYoIShlPWFbY109dGhpcy5fcHJlcGFyZU1vZGVsKGFbY10sYikpKXRocm93IEVycm9yKFwiQ2FuJ3QgYWRkIGFuIGludmFsaWQgbW9kZWwgdG8gYSBjb2xsZWN0aW9uXCIpO2c9ZS5jaWQ7aT1lLmlkO2pbZ118fHRoaXMuX2J5Q2lkW2ddfHxudWxsIT1pJiYoa1tpXXx8dGhpcy5fYnlJZFtpXSk/XG5sLnB1c2goYyk6altnXT1rW2ldPWV9Zm9yKGM9bC5sZW5ndGg7Yy0tOylhLnNwbGljZShsW2NdLDEpO2M9MDtmb3IoZD1hLmxlbmd0aDtjPGQ7YysrKShlPWFbY10pLm9uKFwiYWxsXCIsdGhpcy5fb25Nb2RlbEV2ZW50LHRoaXMpLHRoaXMuX2J5Q2lkW2UuY2lkXT1lLG51bGwhPWUuaWQmJih0aGlzLl9ieUlkW2UuaWRdPWUpO3RoaXMubGVuZ3RoKz1kO0EuYXBwbHkodGhpcy5tb2RlbHMsW251bGwhPWIuYXQ/Yi5hdDp0aGlzLm1vZGVscy5sZW5ndGgsMF0uY29uY2F0KGEpKTt0aGlzLmNvbXBhcmF0b3ImJnRoaXMuc29ydCh7c2lsZW50OiEwfSk7aWYoYi5zaWxlbnQpcmV0dXJuIHRoaXM7Yz0wO2ZvcihkPXRoaXMubW9kZWxzLmxlbmd0aDtjPGQ7YysrKWlmKGpbKGU9dGhpcy5tb2RlbHNbY10pLmNpZF0pYi5pbmRleD1jLGUudHJpZ2dlcihcImFkZFwiLGUsdGhpcyxiKTtyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGc7Ynx8KGI9e30pO2E9Zi5pc0FycmF5KGEpP1xuYS5zbGljZSgpOlthXTtjPTA7Zm9yKGQ9YS5sZW5ndGg7YzxkO2MrKylpZihnPXRoaXMuZ2V0QnlDaWQoYVtjXSl8fHRoaXMuZ2V0KGFbY10pKWRlbGV0ZSB0aGlzLl9ieUlkW2cuaWRdLGRlbGV0ZSB0aGlzLl9ieUNpZFtnLmNpZF0sZT10aGlzLmluZGV4T2YoZyksdGhpcy5tb2RlbHMuc3BsaWNlKGUsMSksdGhpcy5sZW5ndGgtLSxiLnNpbGVudHx8KGIuaW5kZXg9ZSxnLnRyaWdnZXIoXCJyZW1vdmVcIixnLHRoaXMsYikpLHRoaXMuX3JlbW92ZVJlZmVyZW5jZShnKTtyZXR1cm4gdGhpc30scHVzaDpmdW5jdGlvbihhLGIpe2E9dGhpcy5fcHJlcGFyZU1vZGVsKGEsYik7dGhpcy5hZGQoYSxiKTtyZXR1cm4gYX0scG9wOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXQodGhpcy5sZW5ndGgtMSk7dGhpcy5yZW1vdmUoYixhKTtyZXR1cm4gYn0sdW5zaGlmdDpmdW5jdGlvbihhLGIpe2E9dGhpcy5fcHJlcGFyZU1vZGVsKGEsYik7dGhpcy5hZGQoYSxmLmV4dGVuZCh7YXQ6MH0sYikpO3JldHVybiBhfSxcbnNoaWZ0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXQoMCk7dGhpcy5yZW1vdmUoYixhKTtyZXR1cm4gYn0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hP3ZvaWQgMDp0aGlzLl9ieUlkW251bGwhPWEuaWQ/YS5pZDphXX0sZ2V0QnlDaWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJnRoaXMuX2J5Q2lkW2EuY2lkfHxhXX0sYXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW9kZWxzW2FdfSx3aGVyZTpmdW5jdGlvbihhKXtyZXR1cm4gZi5pc0VtcHR5KGEpP1tdOnRoaXMuZmlsdGVyKGZ1bmN0aW9uKGIpe2Zvcih2YXIgYyBpbiBhKWlmKGFbY10hPT1iLmdldChjKSlyZXR1cm4hMTtyZXR1cm4hMH0pfSxzb3J0OmZ1bmN0aW9uKGEpe2F8fChhPXt9KTtpZighdGhpcy5jb21wYXJhdG9yKXRocm93IEVycm9yKFwiQ2Fubm90IHNvcnQgYSBzZXQgd2l0aG91dCBhIGNvbXBhcmF0b3JcIik7dmFyIGI9Zi5iaW5kKHRoaXMuY29tcGFyYXRvcix0aGlzKTsxPT10aGlzLmNvbXBhcmF0b3IubGVuZ3RoP1xudGhpcy5tb2RlbHM9dGhpcy5zb3J0QnkoYik6dGhpcy5tb2RlbHMuc29ydChiKTthLnNpbGVudHx8dGhpcy50cmlnZ2VyKFwicmVzZXRcIix0aGlzLGEpO3JldHVybiB0aGlzfSxwbHVjazpmdW5jdGlvbihhKXtyZXR1cm4gZi5tYXAodGhpcy5tb2RlbHMsZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0KGEpfSl9LHJlc2V0OmZ1bmN0aW9uKGEsYil7YXx8KGE9W10pO2J8fChiPXt9KTtmb3IodmFyIGM9MCxkPXRoaXMubW9kZWxzLmxlbmd0aDtjPGQ7YysrKXRoaXMuX3JlbW92ZVJlZmVyZW5jZSh0aGlzLm1vZGVsc1tjXSk7dGhpcy5fcmVzZXQoKTt0aGlzLmFkZChhLGYuZXh0ZW5kKHtzaWxlbnQ6ITB9LGIpKTtiLnNpbGVudHx8dGhpcy50cmlnZ2VyKFwicmVzZXRcIix0aGlzLGIpO3JldHVybiB0aGlzfSxmZXRjaDpmdW5jdGlvbihhKXthPWE/Zi5jbG9uZShhKTp7fTt2b2lkIDA9PT1hLnBhcnNlJiYoYS5wYXJzZT0hMCk7dmFyIGI9dGhpcyxjPWEuc3VjY2VzczthLnN1Y2Nlc3M9ZnVuY3Rpb24oZCxcbmUsZil7YlthLmFkZD9cImFkZFwiOlwicmVzZXRcIl0oYi5wYXJzZShkLGYpLGEpO2MmJmMoYixkKX07YS5lcnJvcj1nLndyYXBFcnJvcihhLmVycm9yLGIsYSk7cmV0dXJuKHRoaXMuc3luY3x8Zy5zeW5jKS5jYWxsKHRoaXMsXCJyZWFkXCIsdGhpcyxhKX0sY3JlYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxiPWI/Zi5jbG9uZShiKTp7fSxhPXRoaXMuX3ByZXBhcmVNb2RlbChhLGIpO2lmKCFhKXJldHVybiExO2Iud2FpdHx8Yy5hZGQoYSxiKTt2YXIgZD1iLnN1Y2Nlc3M7Yi5zdWNjZXNzPWZ1bmN0aW9uKGUsZil7Yi53YWl0JiZjLmFkZChlLGIpO2Q/ZChlLGYpOmUudHJpZ2dlcihcInN5bmNcIixhLGYsYil9O2Euc2F2ZShudWxsLGIpO3JldHVybiBhfSxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gYX0sY2hhaW46ZnVuY3Rpb24oKXtyZXR1cm4gZih0aGlzLm1vZGVscykuY2hhaW4oKX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5sZW5ndGg9MDt0aGlzLm1vZGVscz1bXTt0aGlzLl9ieUlkPVxue307dGhpcy5fYnlDaWQ9e319LF9wcmVwYXJlTW9kZWw6ZnVuY3Rpb24oYSxiKXtifHwoYj17fSk7YSBpbnN0YW5jZW9mIG8/YS5jb2xsZWN0aW9ufHwoYS5jb2xsZWN0aW9uPXRoaXMpOihiLmNvbGxlY3Rpb249dGhpcyxhPW5ldyB0aGlzLm1vZGVsKGEsYiksYS5fdmFsaWRhdGUoYS5hdHRyaWJ1dGVzLGIpfHwoYT0hMSkpO3JldHVybiBhfSxfcmVtb3ZlUmVmZXJlbmNlOmZ1bmN0aW9uKGEpe3RoaXM9PWEuY29sbGVjdGlvbiYmZGVsZXRlIGEuY29sbGVjdGlvbjthLm9mZihcImFsbFwiLHRoaXMuX29uTW9kZWxFdmVudCx0aGlzKX0sX29uTW9kZWxFdmVudDpmdW5jdGlvbihhLGIsYyxkKXsoXCJhZGRcIj09YXx8XCJyZW1vdmVcIj09YSkmJmMhPXRoaXN8fChcImRlc3Ryb3lcIj09YSYmdGhpcy5yZW1vdmUoYixkKSxiJiZhPT09XCJjaGFuZ2U6XCIrYi5pZEF0dHJpYnV0ZSYmKGRlbGV0ZSB0aGlzLl9ieUlkW2IucHJldmlvdXMoYi5pZEF0dHJpYnV0ZSldLHRoaXMuX2J5SWRbYi5pZF09YiksdGhpcy50cmlnZ2VyLmFwcGx5KHRoaXMsXG5hcmd1bWVudHMpKX19KTtmLmVhY2goXCJmb3JFYWNoLGVhY2gsbWFwLHJlZHVjZSxyZWR1Y2VSaWdodCxmaW5kLGRldGVjdCxmaWx0ZXIsc2VsZWN0LHJlamVjdCxldmVyeSxhbGwsc29tZSxhbnksaW5jbHVkZSxjb250YWlucyxpbnZva2UsbWF4LG1pbixzb3J0Qnksc29ydGVkSW5kZXgsdG9BcnJheSxzaXplLGZpcnN0LGluaXRpYWwscmVzdCxsYXN0LHdpdGhvdXQsaW5kZXhPZixzaHVmZmxlLGxhc3RJbmRleE9mLGlzRW1wdHksZ3JvdXBCeVwiLnNwbGl0KFwiLFwiKSxmdW5jdGlvbihhKXtyLnByb3RvdHlwZVthXT1mdW5jdGlvbigpe3JldHVybiBmW2FdLmFwcGx5KGYsW3RoaXMubW9kZWxzXS5jb25jYXQoZi50b0FycmF5KGFyZ3VtZW50cykpKX19KTt2YXIgdT1nLlJvdXRlcj1mdW5jdGlvbihhKXthfHwoYT17fSk7YS5yb3V0ZXMmJih0aGlzLnJvdXRlcz1hLnJvdXRlcyk7dGhpcy5fYmluZFJvdXRlcygpO3RoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LEI9LzpcXHcrL2csXG5DPS9cXCpcXHcrL2csRD0vWy1bXFxde30oKSs/LixcXFxcXiR8I1xcc10vZztmLmV4dGVuZCh1LnByb3RvdHlwZSxrLHtpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSxyb3V0ZTpmdW5jdGlvbihhLGIsYyl7Zy5oaXN0b3J5fHwoZy5oaXN0b3J5PW5ldyBtKTtmLmlzUmVnRXhwKGEpfHwoYT10aGlzLl9yb3V0ZVRvUmVnRXhwKGEpKTtjfHwoYz10aGlzW2JdKTtnLmhpc3Rvcnkucm91dGUoYSxmLmJpbmQoZnVuY3Rpb24oZCl7ZD10aGlzLl9leHRyYWN0UGFyYW1ldGVycyhhLGQpO2MmJmMuYXBwbHkodGhpcyxkKTt0aGlzLnRyaWdnZXIuYXBwbHkodGhpcyxbXCJyb3V0ZTpcIitiXS5jb25jYXQoZCkpO2cuaGlzdG9yeS50cmlnZ2VyKFwicm91dGVcIix0aGlzLGIsZCl9LHRoaXMpKTtyZXR1cm4gdGhpc30sbmF2aWdhdGU6ZnVuY3Rpb24oYSxiKXtnLmhpc3RvcnkubmF2aWdhdGUoYSxiKX0sX2JpbmRSb3V0ZXM6ZnVuY3Rpb24oKXtpZih0aGlzLnJvdXRlcyl7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLnJvdXRlcylhLnVuc2hpZnQoW2IsXG50aGlzLnJvdXRlc1tiXV0pO2I9MDtmb3IodmFyIGM9YS5sZW5ndGg7YjxjO2IrKyl0aGlzLnJvdXRlKGFbYl1bMF0sYVtiXVsxXSx0aGlzW2FbYl1bMV1dKX19LF9yb3V0ZVRvUmVnRXhwOmZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKEQsXCJcXFxcJCZcIikucmVwbGFjZShCLFwiKFteL10rKVwiKS5yZXBsYWNlKEMsXCIoLio/KVwiKTtyZXR1cm4gUmVnRXhwKFwiXlwiK2ErXCIkXCIpfSxfZXh0cmFjdFBhcmFtZXRlcnM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5leGVjKGIpLnNsaWNlKDEpfX0pO3ZhciBtPWcuSGlzdG9yeT1mdW5jdGlvbigpe3RoaXMuaGFuZGxlcnM9W107Zi5iaW5kQWxsKHRoaXMsXCJjaGVja1VybFwiKX0scz0vXlsjXFwvXS8sRT0vbXNpZSBbXFx3Ll0rLzttLnN0YXJ0ZWQ9ITE7Zi5leHRlbmQobS5wcm90b3R5cGUsayx7aW50ZXJ2YWw6NTAsZ2V0SGFzaDpmdW5jdGlvbihhKXtyZXR1cm4oYT0oYT9hLmxvY2F0aW9uOndpbmRvdy5sb2NhdGlvbikuaHJlZi5tYXRjaCgvIyguKikkLykpP2FbMV06XG5cIlwifSxnZXRGcmFnbWVudDpmdW5jdGlvbihhLGIpe2lmKG51bGw9PWEpaWYodGhpcy5faGFzUHVzaFN0YXRlfHxiKXt2YXIgYT13aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsYz13aW5kb3cubG9jYXRpb24uc2VhcmNoO2MmJihhKz1jKX1lbHNlIGE9dGhpcy5nZXRIYXNoKCk7YS5pbmRleE9mKHRoaXMub3B0aW9ucy5yb290KXx8KGE9YS5zdWJzdHIodGhpcy5vcHRpb25zLnJvb3QubGVuZ3RoKSk7cmV0dXJuIGEucmVwbGFjZShzLFwiXCIpfSxzdGFydDpmdW5jdGlvbihhKXtpZihtLnN0YXJ0ZWQpdGhyb3cgRXJyb3IoXCJCYWNrYm9uZS5oaXN0b3J5IGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZFwiKTttLnN0YXJ0ZWQ9ITA7dGhpcy5vcHRpb25zPWYuZXh0ZW5kKHt9LHtyb290OlwiL1wifSx0aGlzLm9wdGlvbnMsYSk7dGhpcy5fd2FudHNIYXNoQ2hhbmdlPSExIT09dGhpcy5vcHRpb25zLmhhc2hDaGFuZ2U7dGhpcy5fd2FudHNQdXNoU3RhdGU9ISF0aGlzLm9wdGlvbnMucHVzaFN0YXRlO3RoaXMuX2hhc1B1c2hTdGF0ZT1cbiEoIXRoaXMub3B0aW9ucy5wdXNoU3RhdGV8fCF3aW5kb3cuaGlzdG9yeXx8IXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSk7dmFyIGE9dGhpcy5nZXRGcmFnbWVudCgpLGI9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlO2lmKGI9RS5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSkmJighYnx8Nz49YikpdGhpcy5pZnJhbWU9aSgnPGlmcmFtZSBzcmM9XCJqYXZhc2NyaXB0OjBcIiB0YWJpbmRleD1cIi0xXCIgLz4nKS5oaWRlKCkuYXBwZW5kVG8oXCJib2R5XCIpWzBdLmNvbnRlbnRXaW5kb3csdGhpcy5uYXZpZ2F0ZShhKTt0aGlzLl9oYXNQdXNoU3RhdGU/aSh3aW5kb3cpLmJpbmQoXCJwb3BzdGF0ZVwiLHRoaXMuY2hlY2tVcmwpOnRoaXMuX3dhbnRzSGFzaENoYW5nZSYmXCJvbmhhc2hjaGFuZ2VcImluIHdpbmRvdyYmIWI/aSh3aW5kb3cpLmJpbmQoXCJoYXNoY2hhbmdlXCIsdGhpcy5jaGVja1VybCk6dGhpcy5fd2FudHNIYXNoQ2hhbmdlJiYodGhpcy5fY2hlY2tVcmxJbnRlcnZhbD1zZXRJbnRlcnZhbCh0aGlzLmNoZWNrVXJsLFxudGhpcy5pbnRlcnZhbCkpO3RoaXMuZnJhZ21lbnQ9YTthPXdpbmRvdy5sb2NhdGlvbjtiPWEucGF0aG5hbWU9PXRoaXMub3B0aW9ucy5yb290O2lmKHRoaXMuX3dhbnRzSGFzaENoYW5nZSYmdGhpcy5fd2FudHNQdXNoU3RhdGUmJiF0aGlzLl9oYXNQdXNoU3RhdGUmJiFiKXJldHVybiB0aGlzLmZyYWdtZW50PXRoaXMuZ2V0RnJhZ21lbnQobnVsbCwhMCksd2luZG93LmxvY2F0aW9uLnJlcGxhY2UodGhpcy5vcHRpb25zLnJvb3QrXCIjXCIrdGhpcy5mcmFnbWVudCksITA7dGhpcy5fd2FudHNQdXNoU3RhdGUmJnRoaXMuX2hhc1B1c2hTdGF0ZSYmYiYmYS5oYXNoJiYodGhpcy5mcmFnbWVudD10aGlzLmdldEhhc2goKS5yZXBsYWNlKHMsXCJcIiksd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LGRvY3VtZW50LnRpdGxlLGEucHJvdG9jb2wrXCIvL1wiK2EuaG9zdCt0aGlzLm9wdGlvbnMucm9vdCt0aGlzLmZyYWdtZW50KSk7aWYoIXRoaXMub3B0aW9ucy5zaWxlbnQpcmV0dXJuIHRoaXMubG9hZFVybCgpfSxcbnN0b3A6ZnVuY3Rpb24oKXtpKHdpbmRvdykudW5iaW5kKFwicG9wc3RhdGVcIix0aGlzLmNoZWNrVXJsKS51bmJpbmQoXCJoYXNoY2hhbmdlXCIsdGhpcy5jaGVja1VybCk7Y2xlYXJJbnRlcnZhbCh0aGlzLl9jaGVja1VybEludGVydmFsKTttLnN0YXJ0ZWQ9ITF9LHJvdXRlOmZ1bmN0aW9uKGEsYil7dGhpcy5oYW5kbGVycy51bnNoaWZ0KHtyb3V0ZTphLGNhbGxiYWNrOmJ9KX0sY2hlY2tVcmw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEZyYWdtZW50KCk7YT09dGhpcy5mcmFnbWVudCYmdGhpcy5pZnJhbWUmJihhPXRoaXMuZ2V0RnJhZ21lbnQodGhpcy5nZXRIYXNoKHRoaXMuaWZyYW1lKSkpO2lmKGE9PXRoaXMuZnJhZ21lbnQpcmV0dXJuITE7dGhpcy5pZnJhbWUmJnRoaXMubmF2aWdhdGUoYSk7dGhpcy5sb2FkVXJsKCl8fHRoaXMubG9hZFVybCh0aGlzLmdldEhhc2goKSl9LGxvYWRVcmw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5mcmFnbWVudD10aGlzLmdldEZyYWdtZW50KGEpO3JldHVybiBmLmFueSh0aGlzLmhhbmRsZXJzLFxuZnVuY3Rpb24oYSl7aWYoYS5yb3V0ZS50ZXN0KGIpKXJldHVybiBhLmNhbGxiYWNrKGIpLCEwfSl9LG5hdmlnYXRlOmZ1bmN0aW9uKGEsYil7aWYoIW0uc3RhcnRlZClyZXR1cm4hMTtpZighYnx8ITA9PT1iKWI9e3RyaWdnZXI6Yn07dmFyIGM9KGF8fFwiXCIpLnJlcGxhY2UocyxcIlwiKTt0aGlzLmZyYWdtZW50IT1jJiYodGhpcy5faGFzUHVzaFN0YXRlPygwIT1jLmluZGV4T2YodGhpcy5vcHRpb25zLnJvb3QpJiYoYz10aGlzLm9wdGlvbnMucm9vdCtjKSx0aGlzLmZyYWdtZW50PWMsd2luZG93Lmhpc3RvcnlbYi5yZXBsYWNlP1wicmVwbGFjZVN0YXRlXCI6XCJwdXNoU3RhdGVcIl0oe30sZG9jdW1lbnQudGl0bGUsYykpOnRoaXMuX3dhbnRzSGFzaENoYW5nZT8odGhpcy5mcmFnbWVudD1jLHRoaXMuX3VwZGF0ZUhhc2god2luZG93LmxvY2F0aW9uLGMsYi5yZXBsYWNlKSx0aGlzLmlmcmFtZSYmYyE9dGhpcy5nZXRGcmFnbWVudCh0aGlzLmdldEhhc2godGhpcy5pZnJhbWUpKSYmKGIucmVwbGFjZXx8XG50aGlzLmlmcmFtZS5kb2N1bWVudC5vcGVuKCkuY2xvc2UoKSx0aGlzLl91cGRhdGVIYXNoKHRoaXMuaWZyYW1lLmxvY2F0aW9uLGMsYi5yZXBsYWNlKSkpOndpbmRvdy5sb2NhdGlvbi5hc3NpZ24odGhpcy5vcHRpb25zLnJvb3QrYSksYi50cmlnZ2VyJiZ0aGlzLmxvYWRVcmwoYSkpfSxfdXBkYXRlSGFzaDpmdW5jdGlvbihhLGIsYyl7Yz9hLnJlcGxhY2UoYS50b1N0cmluZygpLnJlcGxhY2UoLyhqYXZhc2NyaXB0OnwjKS4qJC8sXCJcIikrXCIjXCIrYik6YS5oYXNoPWJ9fSk7dmFyIHY9Zy5WaWV3PWZ1bmN0aW9uKGEpe3RoaXMuY2lkPWYudW5pcXVlSWQoXCJ2aWV3XCIpO3RoaXMuX2NvbmZpZ3VyZShhfHx7fSk7dGhpcy5fZW5zdXJlRWxlbWVudCgpO3RoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5kZWxlZ2F0ZUV2ZW50cygpfSxGPS9eKFxcUyspXFxzKiguKikkLyx3PVwibW9kZWwsY29sbGVjdGlvbixlbCxpZCxhdHRyaWJ1dGVzLGNsYXNzTmFtZSx0YWdOYW1lXCIuc3BsaXQoXCIsXCIpO1xuZi5leHRlbmQodi5wcm90b3R5cGUsayx7dGFnTmFtZTpcImRpdlwiLCQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJGVsLmZpbmQoYSl9LGluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LHJlbmRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLiRlbC5yZW1vdmUoKTtyZXR1cm4gdGhpc30sbWFrZTpmdW5jdGlvbihhLGIsYyl7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpO2ImJmkoYSkuYXR0cihiKTtjJiZpKGEpLmh0bWwoYyk7cmV0dXJuIGF9LHNldEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt0aGlzLiRlbCYmdGhpcy51bmRlbGVnYXRlRXZlbnRzKCk7dGhpcy4kZWw9YSBpbnN0YW5jZW9mIGk/YTppKGEpO3RoaXMuZWw9dGhpcy4kZWxbMF07ITEhPT1iJiZ0aGlzLmRlbGVnYXRlRXZlbnRzKCk7cmV0dXJuIHRoaXN9LGRlbGVnYXRlRXZlbnRzOmZ1bmN0aW9uKGEpe2lmKGF8fChhPW4odGhpcyxcImV2ZW50c1wiKSkpe3RoaXMudW5kZWxlZ2F0ZUV2ZW50cygpO1xuZm9yKHZhciBiIGluIGEpe3ZhciBjPWFbYl07Zi5pc0Z1bmN0aW9uKGMpfHwoYz10aGlzW2FbYl1dKTtpZighYyl0aHJvdyBFcnJvcignTWV0aG9kIFwiJythW2JdKydcIiBkb2VzIG5vdCBleGlzdCcpO3ZhciBkPWIubWF0Y2goRiksZT1kWzFdLGQ9ZFsyXSxjPWYuYmluZChjLHRoaXMpLGU9ZSsoXCIuZGVsZWdhdGVFdmVudHNcIit0aGlzLmNpZCk7XCJcIj09PWQ/dGhpcy4kZWwuYmluZChlLGMpOnRoaXMuJGVsLmRlbGVnYXRlKGQsZSxjKX19fSx1bmRlbGVnYXRlRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy4kZWwudW5iaW5kKFwiLmRlbGVnYXRlRXZlbnRzXCIrdGhpcy5jaWQpfSxfY29uZmlndXJlOmZ1bmN0aW9uKGEpe3RoaXMub3B0aW9ucyYmKGE9Zi5leHRlbmQoe30sdGhpcy5vcHRpb25zLGEpKTtmb3IodmFyIGI9MCxjPXcubGVuZ3RoO2I8YztiKyspe3ZhciBkPXdbYl07YVtkXSYmKHRoaXNbZF09YVtkXSl9dGhpcy5vcHRpb25zPWF9LF9lbnN1cmVFbGVtZW50OmZ1bmN0aW9uKCl7aWYodGhpcy5lbCl0aGlzLnNldEVsZW1lbnQodGhpcy5lbCxcbiExKTtlbHNle3ZhciBhPW4odGhpcyxcImF0dHJpYnV0ZXNcIil8fHt9O3RoaXMuaWQmJihhLmlkPXRoaXMuaWQpO3RoaXMuY2xhc3NOYW1lJiYoYVtcImNsYXNzXCJdPXRoaXMuY2xhc3NOYW1lKTt0aGlzLnNldEVsZW1lbnQodGhpcy5tYWtlKHRoaXMudGFnTmFtZSxhKSwhMSl9fX0pO28uZXh0ZW5kPXIuZXh0ZW5kPXUuZXh0ZW5kPXYuZXh0ZW5kPWZ1bmN0aW9uKGEsYil7dmFyIGM9Ryh0aGlzLGEsYik7Yy5leHRlbmQ9dGhpcy5leHRlbmQ7cmV0dXJuIGN9O3ZhciBIPXtjcmVhdGU6XCJQT1NUXCIsdXBkYXRlOlwiUFVUXCIsXCJkZWxldGVcIjpcIkRFTEVURVwiLHJlYWQ6XCJHRVRcIn07Zy5zeW5jPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1IW2FdO2N8fChjPXt9KTt2YXIgZT17dHlwZTpkLGRhdGFUeXBlOlwianNvblwifTtjLnVybHx8KGUudXJsPW4oYixcInVybFwiKXx8dCgpKTtpZighYy5kYXRhJiZiJiYoXCJjcmVhdGVcIj09YXx8XCJ1cGRhdGVcIj09YSkpZS5jb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL2pzb25cIixcbmUuZGF0YT1KU09OLnN0cmluZ2lmeShiLnRvSlNPTigpKTtnLmVtdWxhdGVKU09OJiYoZS5jb250ZW50VHlwZT1cImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLGUuZGF0YT1lLmRhdGE/e21vZGVsOmUuZGF0YX06e30pO2lmKGcuZW11bGF0ZUhUVFAmJihcIlBVVFwiPT09ZHx8XCJERUxFVEVcIj09PWQpKWcuZW11bGF0ZUpTT04mJihlLmRhdGEuX21ldGhvZD1kKSxlLnR5cGU9XCJQT1NUXCIsZS5iZWZvcmVTZW5kPWZ1bmN0aW9uKGEpe2Euc2V0UmVxdWVzdEhlYWRlcihcIlgtSFRUUC1NZXRob2QtT3ZlcnJpZGVcIixkKX07XCJHRVRcIiE9PWUudHlwZSYmIWcuZW11bGF0ZUpTT04mJihlLnByb2Nlc3NEYXRhPSExKTtyZXR1cm4gaS5hamF4KGYuZXh0ZW5kKGUsYykpfTtnLndyYXBFcnJvcj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGZ1bmN0aW9uKGQsZSl7ZT1kPT09Yj9lOmQ7YT9hKGIsZSxjKTpiLnRyaWdnZXIoXCJlcnJvclwiLGIsZSxjKX19O3ZhciB4PWZ1bmN0aW9uKCl7fSxHPWZ1bmN0aW9uKGEsXG5iLGMpe3ZhciBkO2Q9YiYmYi5oYXNPd25Qcm9wZXJ0eShcImNvbnN0cnVjdG9yXCIpP2IuY29uc3RydWN0b3I6ZnVuY3Rpb24oKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Zi5leHRlbmQoZCxhKTt4LnByb3RvdHlwZT1hLnByb3RvdHlwZTtkLnByb3RvdHlwZT1uZXcgeDtiJiZmLmV4dGVuZChkLnByb3RvdHlwZSxiKTtjJiZmLmV4dGVuZChkLGMpO2QucHJvdG90eXBlLmNvbnN0cnVjdG9yPWQ7ZC5fX3N1cGVyX189YS5wcm90b3R5cGU7cmV0dXJuIGR9LG49ZnVuY3Rpb24oYSxiKXtyZXR1cm4hYXx8IWFbYl0/bnVsbDpmLmlzRnVuY3Rpb24oYVtiXSk/YVtiXSgpOmFbYl19LHQ9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcignQSBcInVybFwiIHByb3BlcnR5IG9yIGZ1bmN0aW9uIG11c3QgYmUgc3BlY2lmaWVkJyk7fX0pLmNhbGwodGhpcyk7XG4iLCIvLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdFxuLy8gdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2Zcbi8vIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbi8vIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuLy8gTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXJcbi8vIHRoZSBMaWNlbnNlLlxuXG4vKipcbiAqIEBuYW1lc3BhY2VcbiAqICQuY291Y2ggaXMgdXNlZCB0byBjb21tdW5pY2F0ZSB3aXRoIGEgQ291Y2hEQiBzZXJ2ZXIsIHRoZSBzZXJ2ZXIgbWV0aG9kcyBjYW5cbiAqIGJlIGNhbGxlZCBkaXJlY3RseSB3aXRob3V0IGNyZWF0aW5nIGFuIGluc3RhbmNlLiBUeXBpY2FsbHkgYWxsIG1ldGhvZHMgYXJlXG4gKiBwYXNzZWQgYW4gPGNvZGU+b3B0aW9uczwvY29kZT4gb2JqZWN0IHdoaWNoIGRlZmluZXMgYSBzdWNjZXNzIGNhbGxiYWNrIHdoaWNoXG4gKiBpcyBjYWxsZWQgd2l0aCB0aGUgZGF0YSByZXR1cm5lZCBmcm9tIHRoZSBodHRwIHJlcXVlc3QgdG8gQ291Y2hEQiwgeW91IGNhblxuICogZmluZCB0aGUgb3RoZXIgc2V0dGluZ3MgdGhhdCBjYW4gYmUgdXNlZCBpbiB0aGUgPGNvZGU+b3B0aW9uczwvY29kZT4gb2JqZWN0XG4gKiBmcm9tIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+XG4gKiBqUXVlcnkuYWpheCBzZXR0aW5nczwvYT5cbiAqIDxwcmU+PGNvZGU+JC5jb3VjaC5hY3RpdmVUYXNrcyh7XG4gKiAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XG4gKiAgICAgY29uc29sZS5sb2coZGF0YSk7XG4gKiAgIH1cbiAqIH0pOzwvY29kZT48L3ByZT5cbiAqIE91dHB1dHMgKGZvciBleGFtcGxlKTpcbiAqIDxwcmU+PGNvZGU+W1xuICogIHtcbiAqICAgXCJwaWRcIiA6IFwiPDAuMTE1OTkuMD5cIixcbiAqICAgXCJzdGF0dXNcIiA6IFwiQ29waWVkIDAgb2YgMTgzNjkgY2hhbmdlcyAoMCUpXCIsXG4gKiAgIFwidGFza1wiIDogXCJyZWNpcGVzXCIsXG4gKiAgIFwidHlwZVwiIDogXCJEYXRhYmFzZSBDb21wYWN0aW9uXCJcbiAqICB9XG4gKl08L2NvZGU+PC9wcmU+XG4gKi9cbihmdW5jdGlvbigkKSB7XG5cbiAgJC5jb3VjaCA9ICQuY291Y2ggfHwge307XG4gIC8qKiBAbGVuZHMgJC5jb3VjaCAqL1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gZW5jb2RlRG9jSWQoZG9jSUQpIHtcbiAgICB2YXIgcGFydHMgPSBkb2NJRC5zcGxpdChcIi9cIik7XG4gICAgaWYgKHBhcnRzWzBdID09IFwiX2Rlc2lnblwiKSB7XG4gICAgICBwYXJ0cy5zaGlmdCgpO1xuICAgICAgcmV0dXJuIFwiX2Rlc2lnbi9cIiArIGVuY29kZVVSSUNvbXBvbmVudChwYXJ0cy5qb2luKCcvJykpO1xuICAgIH1cbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGRvY0lEKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuICB2YXIgdXVpZENhY2hlID0gW107XG5cbiAgJC5leHRlbmQoJC5jb3VjaCwge1xuICAgIHVybFByZWZpeDogJycsXG5cbiAgICAvKipcbiAgICAgKiBZb3UgY2FuIG9idGFpbiBhIGxpc3Qgb2YgYWN0aXZlIHRhc2tzIGJ5IHVzaW5nIHRoZSAvX2FjdGl2ZV90YXNrcyBVUkwuXG4gICAgICogVGhlIHJlc3VsdCBpcyBhIEpTT04gYXJyYXkgb2YgdGhlIGN1cnJlbnRseSBydW5uaW5nIHRhc2tzLCB3aXRoIGVhY2ggdGFza1xuICAgICAqIGJlaW5nIGRlc2NyaWJlZCB3aXRoIGEgc2luZ2xlIG9iamVjdC5cbiAgICAgKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3VwbG9hZHMvXG4gICAgICogYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1taXNjLmh0bWwjY291Y2hiYXNlLWFwaS1taXNjX2FjdGl2ZS10YXNrXG4gICAgICogc19nZXRcIj5kb2NzIGZvciAvX2FjdGl2ZV90YXNrczwvYT5cbiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4XG4gICAgICogLyNqUXVlcnktYWpheC1zZXR0aW5nc1wiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAqL1xuICAgIGFjdGl2ZVRhc2tzOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBhamF4KFxuICAgICAgICB7dXJsOiB0aGlzLnVybFByZWZpeCArIFwiL19hY3RpdmVfdGFza3NcIn0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIFwiQWN0aXZlIHRhc2sgc3RhdHVzIGNvdWxkIG5vdCBiZSByZXRyaWV2ZWRcIlxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgYWxsIHRoZSBkYXRhYmFzZXMgaW4gdGhlIENvdWNoREIgaW5zdGFuY2VcbiAgICAgKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3VwbG9hZHMvXG4gICAgICogYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1taXNjLmh0bWwjY291Y2hiYXNlLWFwaS1taXNjX2FjdGl2ZS10YXNrXG4gICAgICogc19nZXRcIj5kb2NzIGZvciAvX2FsbF9kYnM8L2E+XG4gICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj1cImh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkuYWpheFxuICAgICAqIC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgKi9cbiAgICBhbGxEYnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGFqYXgoXG4gICAgICAgIHt1cmw6IHRoaXMudXJsUHJlZml4ICsgXCIvX2FsbF9kYnNcIn0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIFwiQW4gZXJyb3Igb2NjdXJyZWQgcmV0cmlldmluZyB0aGUgbGlzdCBvZiBhbGwgZGF0YWJhc2VzXCJcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFZpZXcgYW5kIGVkaXQgdGhlIENvdWNoREIgY29uZmlndXJhdGlvbiwgY2FsbGVkIHdpdGgganVzdCB0aGUgb3B0aW9uc1xuICAgICAqIHBhcmFtZXRlciB0aGUgZW50aXJlIGNvbmZpZyBpcyByZXR1cm5lZCwgeW91IGNhbiBiZSBtb3JlIHNwZWNpZmljIGJ5XG4gICAgICogcGFzc2luZyB0aGUgc2VjdGlvbiBhbmQgb3B0aW9uIHBhcmFtZXRlcnMsIGlmIHlvdSBzcGVjaWZ5IGEgdmFsdWUgdGhhdFxuICAgICAqIHZhbHVlIHdpbGwgYmUgc3RvcmVkIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvdXBsb2Fkcy9cbiAgICAgKiBhbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWNvbmZpZy5odG1sI2NvdWNoYmFzZS1hcGktY29uZmlnX2NvbmZpZ1xuICAgICAqIC1zZWN0aW9uLWtleV9wdXRcIj5kb2NzIGZvciAvX2NvbmZpZzwvYT5cbiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9uc1xuICAgICAqIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+XG4gICAgICogalF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtzZWN0aW9uXSB0aGUgc2VjdGlvbiBvZiB0aGUgY29uZmlnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25dIHRoZSBwYXJ0aWN1bGFyIGNvbmZpZyBvcHRpb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3ZhbHVlXSB2YWx1ZSB0byBiZSBzZXRcbiAgICAgKi9cbiAgICBjb25maWc6IGZ1bmN0aW9uKG9wdGlvbnMsIHNlY3Rpb24sIG9wdGlvbiwgdmFsdWUpIHtcbiAgICAgIHZhciByZXEgPSB7dXJsOiB0aGlzLnVybFByZWZpeCArIFwiL19jb25maWcvXCJ9O1xuICAgICAgaWYgKHNlY3Rpb24pIHtcbiAgICAgICAgcmVxLnVybCArPSBlbmNvZGVVUklDb21wb25lbnQoc2VjdGlvbikgKyBcIi9cIjtcbiAgICAgICAgaWYgKG9wdGlvbikge1xuICAgICAgICAgIHJlcS51cmwgKz0gZW5jb2RlVVJJQ29tcG9uZW50KG9wdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXEudHlwZSA9IFwiREVMRVRFXCI7ICAgICAgICBcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXEudHlwZSA9IFwiUFVUXCI7XG4gICAgICAgIHJlcS5kYXRhID0gdG9KU09OKHZhbHVlKTtcbiAgICAgICAgcmVxLmNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XG4gICAgICAgIHJlcS5wcm9jZXNzRGF0YSA9IGZhbHNlXG4gICAgICB9XG5cbiAgICAgIGFqYXgocmVxLCBvcHRpb25zLFxuICAgICAgICBcIkFuIGVycm9yIG9jY3VycmVkIHJldHJpZXZpbmcvdXBkYXRpbmcgdGhlIHNlcnZlciBjb25maWd1cmF0aW9uXCJcbiAgICAgICk7XG4gICAgfSxcbiAgICBcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzZXNzaW9uIGluZm9ybWF0aW9uIGZvciB0aGUgY3VycmVudGx5IGxvZ2dlZCBpbiB1c2VyLlxuICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zXG4gICAgICogPGEgaHJlZj1cImh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5cbiAgICAgKiBqUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgKi9cbiAgICBzZXNzaW9uOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiR0VUXCIsIHVybDogdGhpcy51cmxQcmVmaXggKyBcIi9fc2Vzc2lvblwiLFxuICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgICAgICB9LFxuICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVxKSB7XG4gICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDApIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbGVydChcIkFuIGVycm9yIG9jY3VycmVkIGdldHRpbmcgc2Vzc2lvbiBpbmZvOiBcIiArIHJlc3AucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHVzZXJEYiA6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAkLmNvdWNoLnNlc3Npb24oe1xuICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgIHZhciB1c2VyRGIgPSAkLmNvdWNoLmRiKHJlc3AuaW5mby5hdXRoZW50aWNhdGlvbl9kYik7XG4gICAgICAgICAgY2FsbGJhY2sodXNlckRiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyB1c2VyIG9uIHRoZSBDb3VjaERCIHNlcnZlciwgPGNvZGU+dXNlcl9kb2M8L2NvZGU+IGlzIGFuXG4gICAgICogb2JqZWN0IHdpdGggYSA8Y29kZT5uYW1lPC9jb2RlPiBmaWVsZCBhbmQgb3RoZXIgaW5mb3JtYXRpb24geW91IHdhbnRcbiAgICAgKiB0byBzdG9yZSByZWxhdGluZyB0byB0aGF0IHVzZXIsIGZvciBleGFtcGxlXG4gICAgICogPGNvZGU+e1wibmFtZVwiOiBcImRhbGVoYXJ2ZXlcIn08L2NvZGU+XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVzZXJfZG9jIFVzZXJzIGRldGFpbHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFzc3dvcmQgVXNlcnMgcGFzc3dvcmRcbiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9uc1xuICAgICAqIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+XG4gICAgICAqIGpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAqL1xuICAgIHNpZ251cDogZnVuY3Rpb24odXNlcl9kb2MsIHBhc3N3b3JkLCBvcHRpb25zKSB7ICAgICAgXG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIC8vIHByZXBhcmUgdXNlciBkb2MgYmFzZWQgb24gbmFtZSBhbmQgcGFzc3dvcmRcbiAgICAgIHVzZXJfZG9jID0gdGhpcy5wcmVwYXJlVXNlckRvYyh1c2VyX2RvYywgcGFzc3dvcmQpO1xuICAgICAgJC5jb3VjaC51c2VyRGIoZnVuY3Rpb24oZGIpIHtcbiAgICAgICAgZGIuc2F2ZURvYyh1c2VyX2RvYywgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUG9wdWxhdGVzIGEgdXNlciBkb2Mgd2l0aCBhIG5ldyBwYXNzd29yZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdXNlcl9kb2MgVXNlciBkZXRhaWxzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5ld19wYXNzd29yZCBOZXcgUGFzc3dvcmRcbiAgICAgKi9cbiAgICBwcmVwYXJlVXNlckRvYzogZnVuY3Rpb24odXNlcl9kb2MsIG5ld19wYXNzd29yZCkge1xuICAgICAgaWYgKHR5cGVvZiBoZXhfc2hhMSA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGFsZXJ0KFwiY3JlYXRpbmcgYSB1c2VyIGRvYyByZXF1aXJlcyBzaGExLmpzIHRvIGJlIGxvYWRlZCBpbiB0aGUgcGFnZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHVzZXJfcHJlZml4ID0gXCJvcmcuY291Y2hkYi51c2VyOlwiO1xuICAgICAgdXNlcl9kb2MuX2lkID0gdXNlcl9kb2MuX2lkIHx8IHVzZXJfcHJlZml4ICsgdXNlcl9kb2MubmFtZTtcbiAgICAgIGlmIChuZXdfcGFzc3dvcmQpIHtcbiAgICAgICAgLy8gaGFuZGxlIHRoZSBwYXNzd29yZCBjcnlwdG9cbiAgICAgICAgdXNlcl9kb2Muc2FsdCA9ICQuY291Y2gubmV3VVVJRCgpO1xuICAgICAgICB1c2VyX2RvYy5wYXNzd29yZF9zaGEgPSBoZXhfc2hhMShuZXdfcGFzc3dvcmQgKyB1c2VyX2RvYy5zYWx0KTtcbiAgICAgIH1cbiAgICAgIHVzZXJfZG9jLnR5cGUgPSBcInVzZXJcIjtcbiAgICAgIGlmICghdXNlcl9kb2Mucm9sZXMpIHtcbiAgICAgICAgdXNlcl9kb2Mucm9sZXMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1c2VyX2RvYztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXV0aGVudGljYXRlIGFnYWluc3QgQ291Y2hEQiwgdGhlIDxjb2RlPm9wdGlvbnM8L2NvZGU+IHBhcmFtZXRlciBpc1xuICAgICAgKmV4cGVjdGVkIHRvIGhhdmUgPGNvZGU+bmFtZTwvY29kZT4gYW5kIDxjb2RlPnBhc3N3b3JkPC9jb2RlPiBmaWVsZHMuXG4gICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnNcbiAgICAgKiA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5nc1wiPlxuICAgICAqIGpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAqL1xuICAgIGxvZ2luOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiUE9TVFwiLCB1cmw6IHRoaXMudXJsUHJlZml4ICsgXCIvX3Nlc3Npb25cIiwgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICBkYXRhOiB7bmFtZTogb3B0aW9ucy5uYW1lLCBwYXNzd29yZDogb3B0aW9ucy5wYXNzd29yZH0sXG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHtcbiAgICAgICAgICB2YXIgcmVzcCA9ICQucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIGlmIChyZXEuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwLmVycm9yLCByZXNwLnJlYXNvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiQW4gZXJyb3Igb2NjdXJyZWQgbG9nZ2luZyBpbjogXCIgKyByZXNwLnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb21wbGV0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgIG9wdGlvbnMuY29tcGxldGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSB5b3VyIGN1cnJlbnQgQ291Y2hEQiB1c2VyIHNlc3Npb25cbiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9uc1xuICAgICAqIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+XG4gICAgICogalF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICovXG4gICAgbG9nb3V0OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICQuYWpheCh7XG4gICAgICAgIHR5cGU6IFwiREVMRVRFXCIsIHVybDogdGhpcy51cmxQcmVmaXggKyBcIi9fc2Vzc2lvblwiLCBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgIHVzZXJuYW1lIDogXCJfXCIsIHBhc3N3b3JkIDogXCJfXCIsXG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHtcbiAgICAgICAgICB2YXIgcmVzcCA9ICQucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIGlmIChyZXEuc3RhdHVzID09IDIwMCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwLmVycm9yLCByZXNwLnJlYXNvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiQW4gZXJyb3Igb2NjdXJyZWQgbG9nZ2luZyBvdXQ6IFwiICsgcmVzcC5yZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBuYW1lc3BhY2VcbiAgICAgKiAkLmNvdWNoLmRiIGlzIHVzZWQgdG8gY29tbXVuaWNhdGUgd2l0aCBhIHNwZWNpZmljIENvdWNoREIgZGF0YWJhc2VcbiAgICAgKiA8cHJlPjxjb2RlPnZhciAkZGIgPSAkLmNvdWNoLmRiKFwibXlkYXRhYmFzZVwiKTtcbiAgICAgKiRkYi5hbGxBcHBzKHtcbiAgICAgKiAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgKiAgICAuLi4gcHJvY2VzcyBkYXRhIC4uLlxuICAgICAqICB9XG4gICAgICp9KTtcbiAgICAgKiA8L2NvZGU+PC9wcmU+XG4gICAgICovXG4gICAgZGI6IGZ1bmN0aW9uKG5hbWUsIGRiX29wdHMpIHtcbiAgICAgIGRiX29wdHMgPSBkYl9vcHRzIHx8IHt9O1xuICAgICAgdmFyIHJhd0RvY3MgPSB7fTtcbiAgICAgIGZ1bmN0aW9uIG1heWJlQXBwbHlWZXJzaW9uKGRvYykge1xuICAgICAgICBpZiAoZG9jLl9pZCAmJiBkb2MuX3JldiAmJiByYXdEb2NzW2RvYy5faWRdICYmXG4gICAgICAgICAgICByYXdEb2NzW2RvYy5faWRdLnJldiA9PSBkb2MuX3Jldikge1xuICAgICAgICAgIC8vIHRvZG86IGNhbiB3ZSB1c2UgY29tbW9uanMgcmVxdWlyZSBoZXJlP1xuICAgICAgICAgIGlmICh0eXBlb2YgQmFzZTY0ID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwicGxlYXNlIGluY2x1ZGUgL191dGlscy9zY3JpcHQvYmFzZTY0LmpzIGluIHRoZSBwYWdlIGZvciBcIiArXG4gICAgICAgICAgICAgICAgICBcImJhc2U2NCBzdXBwb3J0XCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkb2MuX2F0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cyB8fCB7fTtcbiAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHNbXCJyZXYtXCIrZG9jLl9yZXYuc3BsaXQoXCItXCIpWzBdXSA9IHtcbiAgICAgICAgICAgICAgY29udGVudF90eXBlIDpcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgZGF0YSA6IEJhc2U2NC5lbmNvZGUocmF3RG9jc1tkb2MuX2lkXS5yYXcpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIC8qKiBAbGVuZHMgJC5jb3VjaC5kYiAqL3tcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgdXJpOiB0aGlzLnVybFByZWZpeCArIFwiL1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgXCIvXCIsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcXVlc3QgY29tcGFjdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLlxuICAgICAgICAgKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL1xuICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGIuaHRtbCNjb3VjaGJhc2UtYXBpLWRiX1xuICAgICAgICAgKiBkYi1jb21wYWN0X3Bvc3RcIj5kb2NzIGZvciAvZGIvX2NvbXBhY3Q8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zXG4gICAgICAgICAqIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+XG4gICAgICAgICAqIGpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAgICAgKi9cbiAgICAgICAgY29tcGFjdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDJ9KTtcbiAgICAgICAgICBhamF4KHtcbiAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsIHVybDogdGhpcy51cmkgKyBcIl9jb21wYWN0XCIsXG4gICAgICAgICAgICAgIGRhdGE6IFwiXCIsIHByb2Nlc3NEYXRhOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSBkYXRhYmFzZSBjb3VsZCBub3QgYmUgY29tcGFjdGVkXCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGVhbnMgdXAgdGhlIGNhY2hlZCB2aWV3IG91dHB1dCBvbiBkaXNrIGZvciBhIGdpdmVuIHZpZXcuXG4gICAgICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvXG4gICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGJcbiAgICAgICAgICogX2RiLXZpZXctY2xlYW51cF9wb3N0XCI+ZG9jcyBmb3IgL2RiL19jb21wYWN0PC9hPlxuICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL1xuICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgICAgICovXG4gICAgICAgIHZpZXdDbGVhbnVwOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMn0pO1xuICAgICAgICAgIGFqYXgoe1xuICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIiwgdXJsOiB0aGlzLnVyaSArIFwiX3ZpZXdfY2xlYW51cFwiLFxuICAgICAgICAgICAgICBkYXRhOiBcIlwiLCBwcm9jZXNzRGF0YTogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJUaGUgdmlld3MgY291bGQgbm90IGJlIGNsZWFuZWQgdXBcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBhY3RzIHRoZSB2aWV3IGluZGV4ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgZGVzaWduXG4gICAgICAgICAqIGRvY3VtZW50LiBZb3UgY2FuIHVzZSB0aGlzIGluIHBsYWNlIG9mIHRoZSBmdWxsIGRhdGFiYXNlIGNvbXBhY3Rpb25cbiAgICAgICAgICogaWYgeW91IGtub3cgYSBzcGVjaWZpYyBzZXQgb2YgdmlldyBpbmRleGVzIGhhdmUgYmVlbiBhZmZlY3RlZCBieSBhXG4gICAgICAgICAqIHJlY2VudCBkYXRhYmFzZSBjaGFuZ2UuXG4gICAgICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvdXBsXG4gICAgICAgICAqIG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGJfZGItXG4gICAgICAgICAqIGNvbXBhY3QtZGVzaWduLWRvY19wb3N0XCI+ZG9jcyBmb3IgL2RiL19jb21wYWN0L2Rlc2lnbi1kb2M8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBncm91cG5hbWUgTmFtZSBvZiBkZXNpZ24tZG9jIHRvIGNvbXBhY3RcbiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj1cImh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9cbiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICAgICAqL1xuICAgICAgICBjb21wYWN0VmlldzogZnVuY3Rpb24oZ3JvdXBuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMn0pO1xuICAgICAgICAgIGFqYXgoe1xuICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIiwgdXJsOiB0aGlzLnVyaSArIFwiX2NvbXBhY3QvXCIgKyBncm91cG5hbWUsXG4gICAgICAgICAgICAgIGRhdGE6IFwiXCIsIHByb2Nlc3NEYXRhOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSB2aWV3IGNvdWxkIG5vdCBiZSBjb21wYWN0ZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG5ldyBkYXRhYmFzZVxuICAgICAgICAgKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL1xuICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGIuaHRtbCNjb3VjaGJhc2UtYXBpLWRiX1xuICAgICAgICAgKiBkYl9wdXRcIj5kb2NzIGZvciBQVVQgL2RiLzwvYT5cbiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj1cImh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9cbiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7c3VjY2Vzc1N0YXR1czogMjAxfSk7XG4gICAgICAgICAgYWpheCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiUFVUXCIsIHVybDogdGhpcy51cmksIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgZGF0YTogXCJcIiwgcHJvY2Vzc0RhdGE6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIFwiVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjcmVhdGVkXCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxldGVzIHRoZSBzcGVjaWZpZWQgZGF0YWJhc2UsIGFuZCBhbGwgdGhlIGRvY3VtZW50cyBhbmRcbiAgICAgICAgICogYXR0YWNobWVudHMgY29udGFpbmVkIHdpdGhpbiBpdC5cbiAgICAgICAgICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy9cbiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYl9cbiAgICAgICAgICogZGJfZGVsZXRlXCI+ZG9jcyBmb3IgREVMRVRFIC9kYi88L2E+XG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20vXG4gICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5nc1wiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAgICAgKi9cbiAgICAgICAgZHJvcDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgIGFqYXgoXG4gICAgICAgICAgICB7dHlwZTogXCJERUxFVEVcIiwgdXJsOiB0aGlzLnVyaX0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGRlbGV0ZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNwZWNpZmllZCBkYXRhYmFzZS5cbiAgICAgICAgICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy9cbiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYlxuICAgICAgICAgKiBfZGJfZ2V0XCI+ZG9jcyBmb3IgR0VUIC9kYi88L2E+XG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20vXG4gICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5nc1wiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAgICAgKi9cbiAgICAgICAgaW5mbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgIGFqYXgoXG4gICAgICAgICAgICB7dXJsOiB0aGlzLnVyaX0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJEYXRhYmFzZSBpbmZvcm1hdGlvbiBjb3VsZCBub3QgYmUgcmV0cmlldmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZXNwYWNlXG4gICAgICAgICAqICQuY291Y2guZGIuY2hhbmdlcyBwcm92aWRlcyBhbiBBUEkgZm9yIHN1YnNjcmliaW5nIHRvIHRoZSBjaGFuZ2VzXG4gICAgICAgICAqIGZlZWRcbiAgICAgICAgICogPHByZT48Y29kZT52YXIgJGNoYW5nZXMgPSAkLmNvdWNoLmRiKFwibXlkYXRhYmFzZVwiKS5jaGFuZ2VzKCk7XG4gICAgICAgICAqJGNoYW5nZXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgKiAgICAuLi4gcHJvY2VzcyBkYXRhIC4uLlxuICAgICAgICAgKiB9XG4gICAgICAgICAqICRjaGFuZ2VzLnN0b3AoKTtcbiAgICAgICAgICogPC9jb2RlPjwvcHJlPlxuICAgICAgICAgKi9cbiAgICAgICAgY2hhbmdlczogZnVuY3Rpb24oc2luY2UsIG9wdGlvbnMpIHtcblxuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIC8vIHNldCB1cCB0aGUgcHJvbWlzZSBvYmplY3Qgd2l0aGluIGEgY2xvc3VyZSBmb3IgdGhpcyBoYW5kbGVyXG4gICAgICAgICAgdmFyIHRpbWVvdXQgPSAxMDAsIGRiID0gdGhpcywgYWN0aXZlID0gdHJ1ZSxcbiAgICAgICAgICAgIGxpc3RlbmVycyA9IFtdLFxuICAgICAgICAgICAgcHJvbWlzZSA9IC8qKiBAbGVuZHMgJC5jb3VjaC5kYi5jaGFuZ2VzICovIHtcbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIEFkZCBhIGxpc3RlbmVyIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvXG4gICAgICAgICAgICAgICAqIGZpbGVzL3VwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoXG4gICAgICAgICAgICAgICAqIGJhc2UtYXBpLWRiX2RiLWNoYW5nZXNfZ2V0XCI+ZG9jcyBmb3IgL2RiL19jaGFuZ2VzPC9hPlxuICAgICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW4gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuIHdoZW5cbiAgICAgICAgICAgICAgICogbm90aWZpZWQgb2YgY2hhbmdlcy5cbiAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICBvbkNoYW5nZSA6IGZ1bmN0aW9uKGZ1bikge1xuICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChmdW4pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAqIFN0b3Agc3Vic2NyaWJpbmcgdG8gdGhlIGNoYW5nZXMgZmVlZFxuICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0b3AgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBjYWxsIGVhY2ggbGlzdGVuZXIgd2hlbiB0aGVyZSBpcyBhIGNoYW5nZVxuICAgICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJMaXN0ZW5lcnMocmVzcCkge1xuICAgICAgICAgICAgJC5lYWNoKGxpc3RlbmVycywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHRoaXMocmVzcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UsIGNhbGwgYW55IGxpc3RlbmVycywgdGhlbiBjaGVjayBmb3JcbiAgICAgICAgICAvLyBhbm90aGVyIGNoYW5nZVxuICAgICAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSAxMDA7XG4gICAgICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICAgIHNpbmNlID0gcmVzcC5sYXN0X3NlcTtcbiAgICAgICAgICAgICAgdHJpZ2dlckxpc3RlbmVycyhyZXNwKTtcbiAgICAgICAgICAgICAgZ2V0Q2hhbmdlc1NpbmNlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgICAgb3B0aW9ucy5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGdldENoYW5nZXNTaW5jZSwgdGltZW91dCk7XG4gICAgICAgICAgICAgIHRpbWVvdXQgPSB0aW1lb3V0ICogMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIGFjdHVhbGx5IG1ha2UgdGhlIGNoYW5nZXMgcmVxdWVzdFxuICAgICAgICAgIGZ1bmN0aW9uIGdldENoYW5nZXNTaW5jZSgpIHtcbiAgICAgICAgICAgIHZhciBvcHRzID0gJC5leHRlbmQoe2hlYXJ0YmVhdCA6IDEwICogMTAwMH0sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICAgZmVlZCA6IFwibG9uZ3BvbGxcIixcbiAgICAgICAgICAgICAgc2luY2UgOiBzaW5jZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhamF4KFxuICAgICAgICAgICAgICB7dXJsOiBkYi51cmkgKyBcIl9jaGFuZ2VzXCIrZW5jb2RlT3B0aW9ucyhvcHRzKX0sXG4gICAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICAgIFwiRXJyb3IgY29ubmVjdGluZyB0byBcIitkYi51cmkrXCIvX2NoYW5nZXMuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHN0YXJ0IHRoZSBmaXJzdCByZXF1ZXN0XG4gICAgICAgICAgaWYgKHNpbmNlKSB7XG4gICAgICAgICAgICBnZXRDaGFuZ2VzU2luY2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGIuaW5mbyh7XG4gICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihpbmZvKSB7XG4gICAgICAgICAgICAgICAgc2luY2UgPSBpbmZvLnVwZGF0ZV9zZXE7XG4gICAgICAgICAgICAgICAgZ2V0Q2hhbmdlc1NpbmNlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmV0Y2ggYWxsIHRoZSBkb2NzIGluIHRoaXMgZGIsIHlvdSBjYW4gc3BlY2lmeSBhbiBhcnJheSBvZiBrZXlzIHRvXG4gICAgICAgICAqIGZldGNoIGJ5IHBhc3NpbmcgdGhlIDxjb2RlPmtleXM8L2NvZGU+IGZpZWxkIGluIHRoZVxuICAgICAgICAgKiA8Y29kZT5vcHRpb25zPC9jb2RlPlxuICAgICAgICAgKiBwYXJhbWV0ZXIuXG4gICAgICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvXG4gICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGJfXG4gICAgICAgICAqIGRiLWFsbC1kb2NzX2dldFwiPmRvY3MgZm9yIC9kYi9hbGxfZG9jcy88L2E+XG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20vXG4gICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5nc1wiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAgICAgKi9cbiAgICAgICAgYWxsRG9jczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgIHZhciB0eXBlID0gXCJHRVRcIjtcbiAgICAgICAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgICAgICAgaWYgKG9wdGlvbnNbXCJrZXlzXCJdKSB7XG4gICAgICAgICAgICB0eXBlID0gXCJQT1NUXCI7XG4gICAgICAgICAgICB2YXIga2V5cyA9IG9wdGlvbnNbXCJrZXlzXCJdO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbXCJrZXlzXCJdO1xuICAgICAgICAgICAgZGF0YSA9IHRvSlNPTih7IFwia2V5c1wiOiBrZXlzIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhamF4KHtcbiAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArIFwiX2FsbF9kb2NzXCIgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIFwiQW4gZXJyb3Igb2NjdXJyZWQgcmV0cmlldmluZyBhIGxpc3Qgb2YgYWxsIGRvY3VtZW50c1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmV0Y2ggYWxsIHRoZSBkZXNpZ24gZG9jcyBpbiB0aGlzIGRiXG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20vXG4gICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5nc1wiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAgICAgKi9cbiAgICAgICAgYWxsRGVzaWduRG9jczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICAgIHRoaXMuYWxsRG9jcygkLmV4dGVuZChcbiAgICAgICAgICAgIHtzdGFydGtleTpcIl9kZXNpZ25cIiwgZW5ka2V5OlwiX2Rlc2lnbjBcIn0sIG9wdGlvbnMpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmV0Y2ggYWxsIHRoZSBkZXNpZ24gZG9jcyB3aXRoIGFuIGluZGV4Lmh0bWwsIDxjb2RlPm9wdGlvbnM8L2NvZGU+XG4gICAgICAgICAqIHBhcmFtZXRlciBleHBlY3RzIGFuIDxjb2RlPmVhY2hBcHA8L2NvZGU+IGZpZWxkIHdoaWNoIGlzIGEgY2FsbGJhY2tcbiAgICAgICAgICogY2FsbGVkIG9uIGVhY2ggYXBwIGZvdW5kLlxuICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL1xuICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgICAgICovXG4gICAgICAgIGFsbEFwcHM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuZWFjaEFwcCkge1xuICAgICAgICAgICAgdGhpcy5hbGxEZXNpZ25Eb2NzKHtcbiAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgICAgICQuZWFjaChyZXNwLnJvd3MsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2VsZi5vcGVuRG9jKHRoaXMuaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGRvYykge1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCwgYXBwUGF0aCwgYXBwTmFtZSA9IGRkb2MuX2lkLnNwbGl0KCcvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgYXBwTmFtZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgIGFwcE5hbWUgPSBhcHBOYW1lLmpvaW4oJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGRkb2MuY291Y2hhcHAgJiYgZGRvYy5jb3VjaGFwcC5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcFBhdGggPSBbJycsIG5hbWUsIGRkb2MuX2lkLCBpbmRleF0uam9pbignLycpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGRvYy5fYXR0YWNobWVudHMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRkb2MuX2F0dGFjaG1lbnRzW1wiaW5kZXguaHRtbFwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwUGF0aCA9IFsnJywgbmFtZSwgZGRvYy5faWQsIFwiaW5kZXguaHRtbFwiXS5qb2luKCcvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHBQYXRoKSBvcHRpb25zLmVhY2hBcHAoYXBwTmFtZSwgYXBwUGF0aCwgZGRvYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgcHJvdmlkZSBhbiBlYWNoQXBwIGZ1bmN0aW9uIGZvciBhbGxBcHBzKClcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBzcGVjaWZpZWQgZG9jIGZyb20gdGhlIHNwZWNpZmllZCBkYi5cbiAgICAgICAgICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy9cbiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiZG9jLmh0bWwjY291Y2hiYXNlLWFwaS1cbiAgICAgICAgICogZGJkb2NfZGItZG9jX2dldFwiPmRvY3MgZm9yIEdFVCAvZGIvZG9jPC9hPlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZG9jSWQgaWQgb2YgZG9jdW1lbnQgdG8gZmV0Y2hcbiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj1cImh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9cbiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBhamF4T3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL1xuICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Eb2M6IGZ1bmN0aW9uKGRvY0lkLCBvcHRpb25zLCBhamF4T3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgIGlmIChkYl9vcHRzLmF0dGFjaFByZXZSZXYgfHwgb3B0aW9ucy5hdHRhY2hQcmV2UmV2KSB7XG4gICAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7XG4gICAgICAgICAgICAgIGJlZm9yZVN1Y2Nlc3MgOiBmdW5jdGlvbihyZXEsIGRvYykge1xuICAgICAgICAgICAgICAgIHJhd0RvY3NbZG9jLl9pZF0gPSB7XG4gICAgICAgICAgICAgICAgICByZXYgOiBkb2MuX3JldixcbiAgICAgICAgICAgICAgICAgIHJhdyA6IHJlcS5yZXNwb25zZVRleHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge1xuICAgICAgICAgICAgICBiZWZvcmVTdWNjZXNzIDogZnVuY3Rpb24ocmVxLCBkb2MpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9jW1wianF1ZXJ5LmNvdWNoLmF0dGFjaFByZXZSZXZcIl0pIHtcbiAgICAgICAgICAgICAgICAgIHJhd0RvY3NbZG9jLl9pZF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHJldiA6IGRvYy5fcmV2LFxuICAgICAgICAgICAgICAgICAgICByYXcgOiByZXEucmVzcG9uc2VUZXh0XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFqYXgoe3VybDogdGhpcy51cmkgKyBlbmNvZGVEb2NJZChkb2NJZCkgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgcmV0cmlldmVkXCIsXG4gICAgICAgICAgICBhamF4T3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG5ldyBkb2N1bWVudCBpbiB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLCB1c2luZyB0aGUgc3VwcGxpZWRcbiAgICAgICAgICogSlNPTiBkb2N1bWVudCBzdHJ1Y3R1cmUuIElmIHRoZSBKU09OIHN0cnVjdHVyZSBpbmNsdWRlcyB0aGUgX2lkXG4gICAgICAgICAqIGZpZWxkLCB0aGVuIHRoZSBkb2N1bWVudCB3aWxsIGJlIGNyZWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGRvY3VtZW50XG4gICAgICAgICAqIElELiBJZiB0aGUgX2lkIGZpZWxkIGlzIG5vdCBzcGVjaWZpZWQsIGEgbmV3IHVuaXF1ZSBJRCB3aWxsIGJlXG4gICAgICAgICAqIGdlbmVyYXRlZC5cbiAgICAgICAgICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy9cbiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiZG9jLmh0bWwjY291Y2hiYXNlLWFwaS1cbiAgICAgICAgICogZGJkb2NfZGJfcG9zdFwiPmRvY3MgZm9yIEdFVCAvZGIvZG9jPC9hPlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZG9jIGRvY3VtZW50IHRvIHNhdmVcbiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj1cImh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9cbiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICAgICAqL1xuICAgICAgICBzYXZlRG9jOiBmdW5jdGlvbihkb2MsIG9wdGlvbnMpIHtcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICB2YXIgZGIgPSB0aGlzO1xuICAgICAgICAgIHZhciBiZWZvcmVTZW5kID0gZnVsbENvbW1pdChvcHRpb25zKTtcbiAgICAgICAgICBpZiAoZG9jLl9pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gXCJQT1NUXCI7XG4gICAgICAgICAgICB2YXIgdXJpID0gdGhpcy51cmk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBtZXRob2QgPSBcIlBVVFwiO1xuICAgICAgICAgICAgdmFyIHVyaSA9IHRoaXMudXJpICsgZW5jb2RlRG9jSWQoZG9jLl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2ZXJzaW9uZWQgPSBtYXliZUFwcGx5VmVyc2lvbihkb2MpO1xuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBtZXRob2QsIHVybDogdXJpICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKSxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIiwgZGF0YTogdG9KU09OKGRvYyksXG4gICAgICAgICAgICBiZWZvcmVTZW5kIDogYmVmb3JlU2VuZCxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gMjAwIHx8IHJlcS5zdGF0dXMgPT0gMjAxIHx8IHJlcS5zdGF0dXMgPT0gMjAyKSB7XG4gICAgICAgICAgICAgICAgZG9jLl9pZCA9IHJlc3AuaWQ7XG4gICAgICAgICAgICAgICAgZG9jLl9yZXYgPSByZXNwLnJldjtcbiAgICAgICAgICAgICAgICBpZiAodmVyc2lvbmVkKSB7XG4gICAgICAgICAgICAgICAgICBkYi5vcGVuRG9jKGRvYy5faWQsIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUHJldlJldiA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLl9hdHRhY2htZW50cyA9IGQuX2F0dGFjaG1lbnRzO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBzYXZlZDogXCIgKyByZXNwLnJlYXNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2F2ZSBhIGxpc3Qgb2YgZG9jdW1lbnRzXG4gICAgICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvXG4gICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGJfXG4gICAgICAgICAqIGRiLWJ1bGstZG9jc19wb3N0XCI+ZG9jcyBmb3IgL2RiL19idWxrX2RvY3M8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGRvY3MgTGlzdCBvZiBkb2N1bWVudHMgdG8gc2F2ZVxuICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL1xuICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgICAgICovXG4gICAgICAgIGJ1bGtTYXZlOiBmdW5jdGlvbihkb2NzLCBvcHRpb25zKSB7XG4gICAgICAgICAgdmFyIGJlZm9yZVNlbmQgPSBmdWxsQ29tbWl0KG9wdGlvbnMpO1xuICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDEsIGJlZm9yZVNlbmQgOiBiZWZvcmVTZW5kfSk7XG4gICAgICAgICAgYWpheCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgXCJfYnVsa19kb2NzXCIgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLFxuICAgICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsIGRhdGE6IHRvSlNPTihkb2NzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSBkb2N1bWVudHMgY291bGQgbm90IGJlIHNhdmVkXCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxldGVzIHRoZSBzcGVjaWZpZWQgZG9jdW1lbnQgZnJvbSB0aGUgZGF0YWJhc2UuIFlvdSBtdXN0IHN1cHBseVxuICAgICAgICAgKiB0aGUgY3VycmVudCAobGF0ZXN0KSByZXZpc2lvbiBhbmQgPGNvZGU+aWQ8L2NvZGU+IG9mIHRoZSBkb2N1bWVudFxuICAgICAgICAgKiB0byBkZWxldGUgZWcgPGNvZGU+cmVtb3ZlRG9jKHtfaWQ6XCJteWRvY1wiLCBfcmV2OiBcIjEtMjM0NVwifSk8L2NvZGU+XG4gICAgICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvXG4gICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYmRvYy5odG1sI2NvdWNoYmFzZS1hcGlcbiAgICAgICAgICogLWRiZG9jX2RiLWRvY19kZWxldGVcIj5kb2NzIGZvciBERUxFVEUgL2RiL2RvYzwvYT5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRvYyBEb2N1bWVudCB0byBkZWxldGVcbiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj1cImh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9cbiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVEb2M6IGZ1bmN0aW9uKGRvYywgb3B0aW9ucykge1xuICAgICAgICAgIGFqYXgoe1xuICAgICAgICAgICAgICB0eXBlOiBcIkRFTEVURVwiLFxuICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICtcbiAgICAgICAgICAgICAgICAgICBlbmNvZGVEb2NJZChkb2MuX2lkKSArXG4gICAgICAgICAgICAgICAgICAgZW5jb2RlT3B0aW9ucyh7cmV2OiBkb2MuX3Jldn0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIFwiVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBkZWxldGVkXCJcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgYSBzZXQgb2YgZG9jdW1lbnRzXG4gICAgICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvXG4gICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGJfXG4gICAgICAgICAqIGRiLWJ1bGstZG9jc19wb3N0XCI+ZG9jcyBmb3IgL2RiL19idWxrX2RvY3M8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nW119IGRvY3MgTGlzdCBvZiBkb2N1bWVudCBpZCdzIHRvIHJlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL1xuICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgICAgICovXG4gICAgICAgIGJ1bGtSZW1vdmU6IGZ1bmN0aW9uKGRvY3MsIG9wdGlvbnMpe1xuICAgICAgICAgIGRvY3MuZG9jcyA9ICQuZWFjaChcbiAgICAgICAgICAgIGRvY3MuZG9jcywgZnVuY3Rpb24oaSwgZG9jKXtcbiAgICAgICAgICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDF9KTtcbiAgICAgICAgICBhamF4KHtcbiAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBcIl9idWxrX2RvY3NcIiArIGVuY29kZU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgICAgICAgIGRhdGE6IHRvSlNPTihkb2NzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSBkb2N1bWVudHMgY291bGQgbm90IGJlIGRlbGV0ZWRcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBDT1BZIGNvbW1hbmQgKHdoaWNoIGlzIG5vbi1zdGFuZGFyZCBIVFRQKSBjb3BpZXMgYW4gZXhpc3RpbmdcbiAgICAgICAgICogZG9jdW1lbnQgdG8gYSBuZXcgb3IgZXhpc3RpbmcgZG9jdW1lbnQuXG4gICAgICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvXG4gICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYmRvYy5odG1sI2NvdWNoYmFzZS1hcGktXG4gICAgICAgICAqIGRiZG9jX2RiLWRvY19jb3B5XCI+ZG9jcyBmb3IgQ09QWSAvZGIvZG9jPC9hPlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBkb2NJZCBkb2N1bWVudCBpZCB0byBjb3B5XG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20vXG4gICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5nc1wiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL1xuICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgICAgICovXG4gICAgICAgIGNvcHlEb2M6IGZ1bmN0aW9uKGRvY0lkLCBvcHRpb25zLCBhamF4T3B0aW9ucykge1xuICAgICAgICAgIGFqYXhPcHRpb25zID0gJC5leHRlbmQoYWpheE9wdGlvbnMsIHtcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHtcbiAgICAgICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gMjAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmVycm9yKHJlcS5zdGF0dXMsIHJlc3AuZXJyb3IsIHJlc3AucmVhc29uKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgY29waWVkOiBcIiArIHJlc3AucmVhc29uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGFqYXgoe1xuICAgICAgICAgICAgICB0eXBlOiBcIkNPUFlcIixcbiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArIGVuY29kZURvY0lkKGRvY0lkKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICBcIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgY29waWVkXCIsXG4gICAgICAgICAgICBhamF4T3B0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgKGFuZCBleGVjdXRlcykgYSB0ZW1wb3JhcnkgdmlldyBiYXNlZCBvbiB0aGUgdmlldyBmdW5jdGlvblxuICAgICAgICAgKiBzdXBwbGllZCBpbiB0aGUgSlNPTiByZXF1ZXN0LlxuICAgICAgICAgKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL1xuICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGIuaHRtbCNjb3VjaGJhc2UtYXBpLWRiXG4gICAgICAgICAqIF9kYi10ZW1wLXZpZXdfcG9zdFwiPmRvY3MgZm9yIC9kYi9fdGVtcF92aWV3PC9hPlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtYXBGdW4gTWFwIGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZUZ1biBSZWR1Y2UgZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGFuZ3VhZ2UgTGFuZ3VhZ2UgdGhlIG1hcCAvIHJlZHVjZSBmdW5zIGFyZVxuICAgICAgICAgKiBpbXBsZW1lbnRlZCBpblxuICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL1xuICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgICAgICovXG4gICAgICAgIHF1ZXJ5OiBmdW5jdGlvbihtYXBGdW4sIHJlZHVjZUZ1biwgbGFuZ3VhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICBsYW5ndWFnZSA9IGxhbmd1YWdlIHx8IFwiamF2YXNjcmlwdFwiO1xuICAgICAgICAgIGlmICh0eXBlb2YobWFwRnVuKSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgbWFwRnVuID0gbWFwRnVuLnRvU291cmNlID8gbWFwRnVuLnRvU291cmNlKClcbiAgICAgICAgICAgICAgOiBcIihcIiArIG1hcEZ1bi50b1N0cmluZygpICsgXCIpXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBib2R5ID0ge2xhbmd1YWdlOiBsYW5ndWFnZSwgbWFwOiBtYXBGdW59O1xuICAgICAgICAgIGlmIChyZWR1Y2VGdW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZihyZWR1Y2VGdW4pICE9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICByZWR1Y2VGdW4gPSByZWR1Y2VGdW4udG9Tb3VyY2UgPyByZWR1Y2VGdW4udG9Tb3VyY2UoKVxuICAgICAgICAgICAgICAgIDogXCIoXCIgKyByZWR1Y2VGdW4udG9TdHJpbmcoKSArIFwiKVwiO1xuICAgICAgICAgICAgYm9keS5yZWR1Y2UgPSByZWR1Y2VGdW47XG4gICAgICAgICAgfVxuICAgICAgICAgIGFqYXgoe1xuICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArIFwiX3RlbXBfdmlld1wiICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKSxcbiAgICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLCBkYXRhOiB0b0pTT04oYm9keSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJBbiBlcnJvciBvY2N1cnJlZCBxdWVyeWluZyB0aGUgZGF0YWJhc2VcIlxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZldGNoIGEgX2xpc3QgdmlldyBvdXRwdXQsIHlvdSBjYW4gc3BlY2lmeSBhIGxpc3Qgb2ZcbiAgICAgICAgICogPGNvZGU+a2V5czwvY29kZT4gaW4gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIHJlY2lldmUgb25seSB0aG9zZSBrZXlzLlxuICAgICAgICAgKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL1xuICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGVzaWduLmh0bWwjY291Y2hiYXNlLWFwaVxuICAgICAgICAgKiAtZGVzaWduX2RiLWRlc2lnbi1kZXNpZ25kb2MtbGlzdC1saXN0bmFtZS12aWV3bmFtZV9nZXRcIj5cbiAgICAgICAgICogZG9jcyBmb3IgL2RiL19kZXNpZ24vZGVzaWduLWRvYy9fbGlzdC9sMS92MTwvYT5cbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGxpc3QgTGlzdG5hbWUgaW4gdGhlIGZvcm0gb2YgZGRvYy9saXN0bmFtZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmlldyBWaWV3IHRvIHJ1biBsaXN0IGFnYWluc3RcbiAgICAgICAgICogQHBhcmFtIHtvcHRpb25zfSBDb3VjaERCIDxhIGhyZWY9XCJodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvXG4gICAgICAgICAqIEhUVFBfdmlld19BUElcIj5WaWV3IE9wdGlvbnM8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20vXG4gICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5nc1wiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdDogZnVuY3Rpb24obGlzdCwgdmlldywgb3B0aW9ucywgYWpheE9wdGlvbnMpIHtcbiAgICAgICAgICB2YXIgbGlzdCA9IGxpc3Quc3BsaXQoJy8nKTtcbiAgICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgdmFyIHR5cGUgPSAnR0VUJztcbiAgICAgICAgICB2YXIgZGF0YSA9IG51bGw7XG4gICAgICAgICAgaWYgKG9wdGlvbnNbJ2tleXMnXSkge1xuICAgICAgICAgICAgdHlwZSA9ICdQT1NUJztcbiAgICAgICAgICAgIHZhciBrZXlzID0gb3B0aW9uc1sna2V5cyddO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbJ2tleXMnXTtcbiAgICAgICAgICAgIGRhdGEgPSB0b0pTT04oeydrZXlzJzoga2V5cyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWpheCh7XG4gICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyAnX2Rlc2lnbi8nICsgbGlzdFswXSArXG4gICAgICAgICAgICAgICAgICAgJy9fbGlzdC8nICsgbGlzdFsxXSArICcvJyArIHZpZXcgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGFqYXhPcHRpb25zLCAnQW4gZXJyb3Igb2NjdXJlZCBhY2Nlc3NpbmcgdGhlIGxpc3QnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXhlY3V0ZXMgdGhlIHNwZWNpZmllZCB2aWV3LW5hbWUgZnJvbSB0aGUgc3BlY2lmaWVkIGRlc2lnbi1kb2NcbiAgICAgICAgICogZGVzaWduIGRvY3VtZW50LCB5b3UgY2FuIHNwZWNpZnkgYSBsaXN0IG9mIDxjb2RlPmtleXM8L2NvZGU+XG4gICAgICAgICAqIGluIHRoZSBvcHRpb25zIG9iamVjdCB0byByZWNpZXZlIG9ubHkgdGhvc2Uga2V5cy5cbiAgICAgICAgICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy9cbiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRlc2lnbi5odG1sI2NvdWNoYmFzZS1hcGktXG4gICAgICAgICAqIGRlc2lnbl9kYi1kZXNpZ24tZGVzaWduZG9jLXZpZXctdmlld25hbWVfZ2V0XCI+ZG9jcyBmb3IgL2RiL1xuICAgICAgICAgKiBfZGVzaWduL2Rlc2lnbi1kb2MvX2xpc3QvbDEvdjE8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFZpZXcgdG8gcnVuIGxpc3QgYWdhaW5zdCAoc3RyaW5nIHNob3VsZCBoYXZlIFxuICAgICAgICAgKiB0aGUgZGVzaWduLWRvYyBuYW1lIGZvbGxvd2VkIGJ5IGEgc2xhc2ggYW5kIHRoZSB2aWV3IG5hbWUpXG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20vXG4gICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5nc1wiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPlxuICAgICAgICAgKi9cbiAgICAgICAgdmlldzogZnVuY3Rpb24obmFtZSwgb3B0aW9ucykge1xuICAgICAgICAgIHZhciBuYW1lID0gbmFtZS5zcGxpdCgnLycpO1xuICAgICAgICAgIHZhciBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgICB2YXIgdHlwZSA9IFwiR0VUXCI7XG4gICAgICAgICAgdmFyIGRhdGE9IG51bGw7XG4gICAgICAgICAgaWYgKG9wdGlvbnNbXCJrZXlzXCJdKSB7XG4gICAgICAgICAgICB0eXBlID0gXCJQT1NUXCI7XG4gICAgICAgICAgICB2YXIga2V5cyA9IG9wdGlvbnNbXCJrZXlzXCJdO1xuICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbXCJrZXlzXCJdO1xuICAgICAgICAgICAgZGF0YSA9IHRvSlNPTih7IFwia2V5c1wiOiBrZXlzIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhamF4KHtcbiAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArIFwiX2Rlc2lnbi9cIiArIG5hbWVbMF0gK1xuICAgICAgICAgICAgICAgICAgIFwiL192aWV3L1wiICsgbmFtZVsxXSArIGVuY29kZU9wdGlvbnMob3B0aW9ucylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zLCBcIkFuIGVycm9yIG9jY3VycmVkIGFjY2Vzc2luZyB0aGUgdmlld1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmV0Y2ggYW4gYXJiaXRyYXJ5IENvdWNoREIgZGF0YWJhc2UgcHJvcGVydHlcbiAgICAgICAgICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy9cbiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLmh0bWxcIj5kb2NzIGZvciAvZGIvX3Byb3A8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wTmFtZSBQcm9wZXJ5IG5hbWUgdG8gZmV0Y2hcbiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj1cImh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9cbiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBhamF4T3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL1xuICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgICAgICovXG4gICAgICAgIGdldERiUHJvcGVydHk6IGZ1bmN0aW9uKHByb3BOYW1lLCBvcHRpb25zLCBhamF4T3B0aW9ucykge1xuICAgICAgICAgIGFqYXgoe3VybDogdGhpcy51cmkgKyBwcm9wTmFtZSArIGVuY29kZU9wdGlvbnMob3B0aW9ucyl9LFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIFwiVGhlIHByb3BlcnR5IGNvdWxkIG5vdCBiZSByZXRyaWV2ZWRcIixcbiAgICAgICAgICAgIGFqYXhPcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IGFuIGFyYml0cmFyeSBDb3VjaERCIGRhdGFiYXNlIHByb3BlcnR5XG4gICAgICAgICAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvXG4gICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS5odG1sXCI+ZG9jcyBmb3IgL2RiL19wcm9wPC9hPlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcE5hbWUgUHJvcGVyeSBuYW1lIHRvIGZldGNoXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wVmFsdWUgUHJvcGVyeSB2YWx1ZSB0byBzZXRcbiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj1cImh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9cbiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBhamF4T3B0aW9ucyA8YSBocmVmPVwiaHR0cDovL2FwaS5qcXVlcnkuY29tL1xuICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3NcIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT5cbiAgICAgICAgICovXG4gICAgICAgIHNldERiUHJvcGVydHk6IGZ1bmN0aW9uKHByb3BOYW1lLCBwcm9wVmFsdWUsIG9wdGlvbnMsIGFqYXhPcHRpb25zKSB7XG4gICAgICAgICAgYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBVVFwiLCBcbiAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBwcm9wTmFtZSArIGVuY29kZU9wdGlvbnMob3B0aW9ucyksXG4gICAgICAgICAgICBkYXRhIDogSlNPTi5zdHJpbmdpZnkocHJvcFZhbHVlKVxuICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgXCJUaGUgcHJvcGVydHkgY291bGQgbm90IGJlIHVwZGF0ZWRcIixcbiAgICAgICAgICAgIGFqYXhPcHRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgZW5jb2RlRG9jSWQ6IGVuY29kZURvY0lkLCBcblxuICAgIC8qKlxuICAgICAqIEFjY2Vzc2luZyB0aGUgcm9vdCBvZiBhIENvdWNoREIgaW5zdGFuY2UgcmV0dXJucyBtZXRhIGluZm9ybWF0aW9uIGFib3V0XG4gICAgICogdGhlIGluc3RhbmNlLiBUaGUgcmVzcG9uc2UgaXMgYSBKU09OIHN0cnVjdHVyZSBjb250YWluaW5nIGluZm9ybWF0aW9uXG4gICAgICogYWJvdXQgdGhlIHNlcnZlciwgaW5jbHVkaW5nIGEgd2VsY29tZSBtZXNzYWdlIGFuZCB0aGUgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBzZXJ2ZXIuXG4gICAgICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy91cGxvYWRzL1xuICAgICAqIGFsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktbWlzYy5odG1sI2NvdWNoYmFzZS1hcGktbWlzY19yb290X2dldFwiPlxuICAgICAqIGRvY3MgZm9yIEdFVCAvPC9hPlxuICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20vXG4gICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICovXG4gICAgaW5mbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgYWpheChcbiAgICAgICAge3VybDogdGhpcy51cmxQcmVmaXggKyBcIi9cIn0sXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIFwiU2VydmVyIGluZm9ybWF0aW9uIGNvdWxkIG5vdCBiZSByZXRyaWV2ZWRcIlxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCwgY29uZmlndXJlLCBvciBzdG9wLCBhIHJlcGxpY2F0aW9uIG9wZXJhdGlvbi5cbiAgICAgKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL1xuICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1taXNjLmh0bWwjY291Y2hiYXNlLWFwaS1cbiAgICAgKiBtaXNjX3JlcGxpY2F0ZV9wb3N0XCI+ZG9jcyBmb3IgUE9TVCAvX3JlcGxpY2F0ZTwvYT5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc291cmNlIFBhdGggb3IgdXJsIHRvIHNvdXJjZSBkYXRhYmFzZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YXJnZXQgUGF0aCBvciB1cmwgdG8gdGFyZ2V0IGRhdGFiYXNlXG4gICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IGFqYXhPcHRpb25zIDxhIGhyZWY9XCJodHRwOi8vYXBpLmpxdWVyeS5jb20vXG4gICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzXCI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHJlcE9wdHMgQWRkaXRpb25hbCByZXBsaWNhdGlvbiBvcHRpb25zXG4gICAgICovXG4gICAgcmVwbGljYXRlOiBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgYWpheE9wdGlvbnMsIHJlcE9wdHMpIHtcbiAgICAgIHJlcE9wdHMgPSAkLmV4dGVuZCh7c291cmNlOiBzb3VyY2UsIHRhcmdldDogdGFyZ2V0fSwgcmVwT3B0cyk7XG4gICAgICBpZiAocmVwT3B0cy5jb250aW51b3VzICYmICFyZXBPcHRzLmNhbmNlbCkge1xuICAgICAgICBhamF4T3B0aW9ucy5zdWNjZXNzU3RhdHVzID0gMjAyO1xuICAgICAgfVxuICAgICAgYWpheCh7XG4gICAgICAgICAgdHlwZTogXCJQT1NUXCIsIHVybDogdGhpcy51cmxQcmVmaXggKyBcIi9fcmVwbGljYXRlXCIsXG4gICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocmVwT3B0cyksXG4gICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXG4gICAgICAgIH0sXG4gICAgICAgIGFqYXhPcHRpb25zLFxuICAgICAgICBcIlJlcGxpY2F0aW9uIGZhaWxlZFwiXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGZXRjaCBhIG5ldyBVVUlEXG4gICAgICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy9cbiAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktbWlzYy5odG1sI2NvdWNoYmFzZS1hcGktXG4gICAgICogbWlzY191dWlkc19nZXRcIj5kb2NzIGZvciAvX3V1aWRzPC9hPlxuICAgICAqIEBwYXJhbSB7SW50fSBjYWNoZU51bSBOdW1iZXIgb2YgdXVpZHMgdG8ga2VlcCBjYWNoZWQgZm9yIGZ1dHVyZSB1c2VcbiAgICAgKi9cbiAgICBuZXdVVUlEOiBmdW5jdGlvbihjYWNoZU51bSkge1xuICAgICAgaWYgKGNhY2hlTnVtID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FjaGVOdW0gPSAxO1xuICAgICAgfVxuICAgICAgaWYgKCF1dWlkQ2FjaGUubGVuZ3RoKSB7XG4gICAgICAgIGFqYXgoe3VybDogdGhpcy51cmxQcmVmaXggKyBcIi9fdXVpZHNcIiwgZGF0YToge2NvdW50OiBjYWNoZU51bX0sIGFzeW5jOlxuICAgICAgICAgICAgICBmYWxzZX0sIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3ApIHtcbiAgICAgICAgICAgICAgdXVpZENhY2hlID0gcmVzcC51dWlkcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiRmFpbGVkIHRvIHJldHJpZXZlIFVVSUQgYmF0Y2guXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1dWlkQ2FjaGUuc2hpZnQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gYWpheChvYmosIG9wdGlvbnMsIGVycm9yTWVzc2FnZSwgYWpheE9wdGlvbnMpIHtcblxuICAgIHZhciBkZWZhdWx0QWpheE9wdHMgPSB7XG4gICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBoZWFkZXJzOntcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL2pzb25cIn1cbiAgICB9O1xuXG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHtzdWNjZXNzU3RhdHVzOiAyMDB9LCBvcHRpb25zKTtcbiAgICBhamF4T3B0aW9ucyA9ICQuZXh0ZW5kKGRlZmF1bHRBamF4T3B0cywgYWpheE9wdGlvbnMpO1xuICAgIGVycm9yTWVzc2FnZSA9IGVycm9yTWVzc2FnZSB8fCBcIlVua25vd24gZXJyb3JcIjtcbiAgICAkLmFqYXgoJC5leHRlbmQoJC5leHRlbmQoe1xuICAgICAgdHlwZTogXCJHRVRcIiwgZGF0YVR5cGU6IFwianNvblwiLCBjYWNoZSA6ICEkLmJyb3dzZXIubXNpZSxcbiAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocil7XG4gICAgICAgIGlmKGFqYXhPcHRpb25zICYmIGFqYXhPcHRpb25zLmhlYWRlcnMpe1xuICAgICAgICAgIGZvciAodmFyIGhlYWRlciBpbiBhamF4T3B0aW9ucy5oZWFkZXJzKXtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlciwgYWpheE9wdGlvbnMuaGVhZGVyc1toZWFkZXJdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVxKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuZXJyb3IpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVxLCBlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoZXJyb3JNZXNzYWdlICsgXCI6IFwiICsgZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5hamF4U3RhcnQpIHtcbiAgICAgICAgICBvcHRpb25zLmFqYXhTdGFydChyZXNwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSBvcHRpb25zLnN1Y2Nlc3NTdGF0dXMpIHtcbiAgICAgICAgICBpZiAob3B0aW9ucy5iZWZvcmVTdWNjZXNzKSBvcHRpb25zLmJlZm9yZVN1Y2Nlc3MocmVxLCByZXNwKTtcbiAgICAgICAgICBpZiAob3B0aW9ucy5zdWNjZXNzKSBvcHRpb25zLnN1Y2Nlc3MocmVzcCk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikge1xuICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcCAmJiByZXNwLmVycm9yIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UsIHJlc3AgJiYgcmVzcC5yZWFzb24gfHwgXCJubyByZXNwb25zZVwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChlcnJvck1lc3NhZ2UgKyBcIjogXCIgKyByZXNwLnJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBvYmopLCBhamF4T3B0aW9ucykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBmdWxsQ29tbWl0KG9wdGlvbnMpIHtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmVuc3VyZV9mdWxsX2NvbW1pdCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdmFyIGNvbW1pdCA9IG9wdGlvbnMuZW5zdXJlX2Z1bGxfY29tbWl0O1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZW5zdXJlX2Z1bGxfY29tbWl0O1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHhocikge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJYLUNvdWNoLUZ1bGwtQ29tbWl0XCIsIGNvbW1pdC50b1N0cmluZygpKTtcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgLy8gQ29udmVydCBhIG9wdGlvbnMgb2JqZWN0IHRvIGFuIHVybCBxdWVyeSBzdHJpbmcuXG4gIC8vIGV4OiB7a2V5Oid2YWx1ZScsa2V5MjondmFsdWUyJ30gYmVjb21lcyAnP2tleT1cInZhbHVlXCIma2V5Mj1cInZhbHVlMlwiJ1xuICBmdW5jdGlvbiBlbmNvZGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICB2YXIgYnVmID0gW107XG4gICAgaWYgKHR5cGVvZihvcHRpb25zKSA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zICE9PSBudWxsKSB7XG4gICAgICBmb3IgKHZhciBuYW1lIGluIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCQuaW5BcnJheShuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIFtcImVycm9yXCIsIFwic3VjY2Vzc1wiLCBcImJlZm9yZVN1Y2Nlc3NcIiwgXCJhamF4U3RhcnRcIl0pID49IDApXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvbnNbbmFtZV07XG4gICAgICAgIGlmICgkLmluQXJyYXkobmFtZSwgW1wia2V5XCIsIFwic3RhcnRrZXlcIiwgXCJlbmRrZXlcIl0pID49IDApIHtcbiAgICAgICAgICB2YWx1ZSA9IHRvSlNPTih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnVmLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJ1Zi5sZW5ndGggPyBcIj9cIiArIGJ1Zi5qb2luKFwiJlwiKSA6IFwiXCI7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHRvSlNPTihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBudWxsID8gSlNPTi5zdHJpbmdpZnkob2JqKSA6IG51bGw7XG4gIH1cblxufSkoalF1ZXJ5KTtcbiIsIi8vICAgIFBvdWNoREIgMy4zLjFcbi8vICAgIFxuLy8gICAgKGMpIDIwMTItMjAxNSBEYWxlIEhhcnZleSBhbmQgdGhlIFBvdWNoREIgdGVhbVxuLy8gICAgUG91Y2hEQiBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBBcGFjaGUgbGljZW5zZSwgdmVyc2lvbiAyLjAuXG4vLyAgICBGb3IgYWxsIGRldGFpbHMgYW5kIGRvY3VtZW50YXRpb246XG4vLyAgICBodHRwOi8vcG91Y2hkYi5jb21cbiFmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz90PXdpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP3Q9Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiYodD1zZWxmKSx0LlBvdWNoREI9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiBmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBvKHMsYSl7aWYoIW5bc10pe2lmKCF0W3NdKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFhJiZjKXJldHVybiBjKHMsITApO2lmKGkpcmV0dXJuIGkocywhMCk7dmFyIHU9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitzK1wiJ1wiKTt0aHJvdyB1LmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsdX12YXIgZj1uW3NdPXtleHBvcnRzOnt9fTt0W3NdWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbc11bMV1bZV07cmV0dXJuIG8obj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltzXS5leHBvcnRzfWZvcih2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLHM9MDtzPHIubGVuZ3RoO3MrKylvKHJbc10pO3JldHVybiBvfSh7MTpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYodChlW25dLG4pPT09ITApcmV0dXJuIGVbbl07cmV0dXJuITF9ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt0fHxuWzBdJiZuWzBdLmVycm9yP2UodHx8blswXSk6ZShudWxsLG4ubGVuZ3RoP25bMF06bil9fWZ1bmN0aW9uIG8oZSl7dmFyIHQ9e30sbj1bXTtyZXR1cm4gYy50cmF2ZXJzZVJldlRyZWUoZSxmdW5jdGlvbihlLHIsbyxpKXt2YXIgcz1yK1wiLVwiK287cmV0dXJuIGUmJih0W3NdPTApLHZvaWQgMCE9PWkmJm4ucHVzaCh7ZnJvbTppLHRvOnN9KSxzfSksbi5yZXZlcnNlKCksbi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZS5mcm9tXT12b2lkIDA9PT10W2UuZnJvbV0/MSt0W2UudG9dOk1hdGgubWluKHRbZS5mcm9tXSwxK3RbZS50b10pfSksdH1mdW5jdGlvbiBpKGUsdCxuKXt2YXIgcj1cImxpbWl0XCJpbiB0P3Qua2V5cy5zbGljZSh0LnNraXAsdC5saW1pdCt0LnNraXApOnQuc2tpcD4wP3Qua2V5cy5zbGljZSh0LnNraXApOnQua2V5cztpZih0LmRlc2NlbmRpbmcmJnIucmV2ZXJzZSgpLCFyLmxlbmd0aClyZXR1cm4gZS5fYWxsRG9jcyh7bGltaXQ6MH0sbik7dmFyIG89e29mZnNldDp0LnNraXB9O3JldHVybiBwLmFsbChyLm1hcChmdW5jdGlvbihuKXt2YXIgcj1hLmV4dGVuZCghMCx7a2V5Om4sZGVsZXRlZDpcIm9rXCJ9LHQpO3JldHVybltcImxpbWl0XCIsXCJza2lwXCIsXCJrZXlzXCJdLmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIHJbZV19KSxuZXcgcChmdW5jdGlvbih0LGkpe2UuX2FsbERvY3MocixmdW5jdGlvbihlLHIpe3JldHVybiBlP2koZSk6KG8udG90YWxfcm93cz1yLnRvdGFsX3Jvd3Msdm9pZCB0KHIucm93c1swXXx8e2tleTpuLGVycm9yOlwibm90X2ZvdW5kXCJ9KSl9KX0pfSkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIG8ucm93cz1lLG99KX1mdW5jdGlvbiBzKCl7dmFyIGU9dGhpcztmLmNhbGwodGhpcyk7dmFyIHQsbj0wLHI9W1wiY2hhbmdlXCIsXCJkZWxldGVcIixcImNyZWF0ZVwiLFwidXBkYXRlXCJdO3RoaXMub24oXCJuZXdMaXN0ZW5lclwiLGZ1bmN0aW9uKG8pe2lmKH5yLmluZGV4T2Yobykpe2lmKG4pcmV0dXJuIHZvaWQgbisrO24rKzt2YXIgaT0wO3Q9dGhpcy5jaGFuZ2VzKHtjb25mbGljdHM6ITAsaW5jbHVkZV9kb2NzOiEwLGNvbnRpbnVvdXM6ITAsc2luY2U6XCJub3dcIixvbkNoYW5nZTpmdW5jdGlvbih0KXt0LnNlcTw9aXx8KGk9dC5zZXEsZS5lbWl0KFwiY2hhbmdlXCIsdCksdC5kb2MuX2RlbGV0ZWQ/ZS5lbWl0KFwiZGVsZXRlXCIsdCk6XCIxXCI9PT10LmRvYy5fcmV2LnNwbGl0KFwiLVwiKVswXT9lLmVtaXQoXCJjcmVhdGVcIix0KTplLmVtaXQoXCJ1cGRhdGVcIix0KSl9fSl9fSksdGhpcy5vbihcInJlbW92ZUxpc3RlbmVyXCIsZnVuY3Rpb24oZSl7fnIuaW5kZXhPZihlKSYmKG4tLSxufHx0LmNhbmNlbCgpKX0pfXZhciBhPWUoMzQpLGM9ZSgyOSksdT1lKDE5KSxmPWUoMzgpLkV2ZW50RW1pdHRlcixsPWUoMjUpLGQ9ZSgxMykscD1hLlByb21pc2U7YS5pbmhlcml0cyhzLGYpLHQuZXhwb3J0cz1zLHMucHJvdG90eXBlLnBvc3Q9YS5hZGFwdGVyRnVuKFwicG9zdFwiLGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobj10LHQ9e30pLFwib2JqZWN0XCIhPXR5cGVvZiBlfHxBcnJheS5pc0FycmF5KGUpP24odS5lcnJvcih1Lk5PVF9BTl9PQkpFQ1QpKTp2b2lkIHRoaXMuYnVsa0RvY3Moe2RvY3M6W2VdfSx0LHIobikpfSkscy5wcm90b3R5cGUucHV0PWEuYWRhcHRlckZ1bihcInB1dFwiLGEuZ2V0QXJndW1lbnRzKGZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxpLHM9ZS5zaGlmdCgpLGM9XCJfaWRcImluIHM7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHN8fEFycmF5LmlzQXJyYXkocykpcmV0dXJuKGk9ZS5wb3AoKSkodS5lcnJvcih1Lk5PVF9BTl9PQkpFQ1QpKTtmb3Iocz1hLmNsb25lKHMpOzspaWYodD1lLnNoaWZ0KCksbj10eXBlb2YgdCxcInN0cmluZ1wiIT09bnx8Yz9cInN0cmluZ1wiIT09bnx8IWN8fFwiX3JldlwiaW4gcz9cIm9iamVjdFwiPT09bj9vPXQ6XCJmdW5jdGlvblwiPT09biYmKGk9dCk6cy5fcmV2PXQ6KHMuX2lkPXQsYz0hMCksIWUubGVuZ3RoKWJyZWFrO289b3x8e307dmFyIGY9YS5pbnZhbGlkSWRFcnJvcihzLl9pZCk7cmV0dXJuIGY/aShmKTphLmlzTG9jYWxJZChzLl9pZCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuX3B1dExvY2FsP3MuX2RlbGV0ZWQ/dGhpcy5fcmVtb3ZlTG9jYWwocyxpKTp0aGlzLl9wdXRMb2NhbChzLGkpOnZvaWQgdGhpcy5idWxrRG9jcyh7ZG9jczpbc119LG8scihpKSl9KSkscy5wcm90b3R5cGUucHV0QXR0YWNobWVudD1hLmFkYXB0ZXJGdW4oXCJwdXRBdHRhY2htZW50XCIsZnVuY3Rpb24oZSx0LG4scixvLGkpe2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUuX2F0dGFjaG1lbnRzPWUuX2F0dGFjaG1lbnRzfHx7fSxlLl9hdHRhY2htZW50c1t0XT17Y29udGVudF90eXBlOm8sZGF0YTpyfSxhLnB1dChlKX12YXIgYT10aGlzO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG8mJihpPW8sbz1yLHI9bixuPW51bGwpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBvJiYobz1yLHI9bixuPW51bGwpLGEuZ2V0KGUpLnRoZW4oZnVuY3Rpb24oZSl7aWYoZS5fcmV2IT09bil0aHJvdyB1LmVycm9yKHUuUkVWX0NPTkZMSUNUKTtyZXR1cm4gcyhlKX0sZnVuY3Rpb24odCl7aWYodC5yZWFzb249PT11Lk1JU1NJTkdfRE9DLm1lc3NhZ2UpcmV0dXJuIHMoe19pZDplfSk7dGhyb3cgdH0pfSkscy5wcm90b3R5cGUucmVtb3ZlQXR0YWNobWVudD1hLmFkYXB0ZXJGdW4oXCJyZW1vdmVBdHRhY2htZW50XCIsZnVuY3Rpb24oZSx0LG4scil7dmFyIG89dGhpcztvLmdldChlLGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGU/dm9pZCByKGUpOmkuX3JldiE9PW4/dm9pZCByKHUuZXJyb3IodS5SRVZfQ09ORkxJQ1QpKTppLl9hdHRhY2htZW50cz8oZGVsZXRlIGkuX2F0dGFjaG1lbnRzW3RdLDA9PT1PYmplY3Qua2V5cyhpLl9hdHRhY2htZW50cykubGVuZ3RoJiZkZWxldGUgaS5fYXR0YWNobWVudHMsdm9pZCBvLnB1dChpLHIpKTpyKCl9KX0pLHMucHJvdG90eXBlLnJlbW92ZT1hLmFkYXB0ZXJGdW4oXCJyZW1vdmVcIixmdW5jdGlvbihlLHQsbixvKXt2YXIgaTtcInN0cmluZ1wiPT10eXBlb2YgdD8oaT17X2lkOmUsX3Jldjp0fSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYobz1uLG49e30pKTooaT1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/KG89dCxuPXt9KToobz1uLG49dCkpLG49YS5jbG9uZShufHx7fSksbi53YXNfZGVsZXRlPSEwO3ZhciBzPXtfaWQ6aS5faWQsX3JldjppLl9yZXZ8fG4ucmV2fTtyZXR1cm4gcy5fZGVsZXRlZD0hMCxhLmlzTG9jYWxJZChzLl9pZCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuX3JlbW92ZUxvY2FsP3RoaXMuX3JlbW92ZUxvY2FsKGksbyk6dm9pZCB0aGlzLmJ1bGtEb2NzKHtkb2NzOltzXX0sbixyKG8pKX0pLHMucHJvdG90eXBlLnJldnNEaWZmPWEuYWRhcHRlckZ1bihcInJldnNEaWZmXCIsZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXt1LmhhcyhlKXx8dS5zZXQoZSx7bWlzc2luZzpbXX0pLHUuZ2V0KGUpLm1pc3NpbmcucHVzaCh0KX1mdW5jdGlvbiBvKHQsbil7dmFyIG89ZVt0XS5zbGljZSgwKTtjLnRyYXZlcnNlUmV2VHJlZShuLGZ1bmN0aW9uKGUsbixpLHMsYSl7dmFyIGM9bitcIi1cIitpLHU9by5pbmRleE9mKGMpOy0xIT09dSYmKG8uc3BsaWNlKHUsMSksXCJhdmFpbGFibGVcIiE9PWEuc3RhdHVzJiZyKHQsYykpfSksby5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IodCxlKX0pfVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQsdD17fSksdD1hLmNsb25lKHQpO3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKCFpLmxlbmd0aClyZXR1cm4gbihudWxsLHt9KTt2YXIgcz0wLHU9bmV3IGEuTWFwO2kubWFwKGZ1bmN0aW9uKHQpe3RoaXMuX2dldFJldmlzaW9uVHJlZSh0LGZ1bmN0aW9uKHIsYSl7aWYociYmNDA0PT09ci5zdGF0dXMmJlwibWlzc2luZ1wiPT09ci5tZXNzYWdlKXUuc2V0KHQse21pc3Npbmc6ZVt0XX0pO2Vsc2V7aWYocilyZXR1cm4gbihyKTtvKHQsYSl9aWYoKytzPT09aS5sZW5ndGgpe3ZhciBjPXt9O3JldHVybiB1LmZvckVhY2goZnVuY3Rpb24oZSx0KXtjW3RdPWV9KSxuKG51bGwsYyl9fSl9LHRoaXMpfSkscy5wcm90b3R5cGUuY29tcGFjdERvY3VtZW50PWEuYWRhcHRlckZ1bihcImNvbXBhY3REb2N1bWVudFwiLGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzO3RoaXMuX2dldFJldmlzaW9uVHJlZShlLGZ1bmN0aW9uKGkscyl7aWYoaSlyZXR1cm4gbihpKTt2YXIgYT1vKHMpLHU9W10sZj1bXTtPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZV0+dCYmdS5wdXNoKGUpfSksYy50cmF2ZXJzZVJldlRyZWUocyxmdW5jdGlvbihlLHQsbixyLG8pe3ZhciBpPXQrXCItXCIrbjtcImF2YWlsYWJsZVwiPT09by5zdGF0dXMmJi0xIT09dS5pbmRleE9mKGkpJiZmLnB1c2goaSl9KSxyLl9kb0NvbXBhY3Rpb24oZSxmLG4pfSl9KSxzLnByb3RvdHlwZS5jb21wYWN0PWEuYWRhcHRlckZ1bihcImNvbXBhY3RcIixmdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUsZT17fSk7dmFyIG49dGhpcztlPWEuY2xvbmUoZXx8e30pLG4uZ2V0KFwiX2xvY2FsL2NvbXBhY3Rpb25cIilbXCJjYXRjaFwiXShmdW5jdGlvbigpe3JldHVybiExfSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuLl9jb21wYWN0PyhyJiZyLmxhc3Rfc2VxJiYoZS5sYXN0X3NlcT1yLmxhc3Rfc2VxKSxuLl9jb21wYWN0KGUsdCkpOnZvaWQgMH0pfSkscy5wcm90b3R5cGUuX2NvbXBhY3Q9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3MucHVzaChvLmNvbXBhY3REb2N1bWVudChlLmlkLDApKX1mdW5jdGlvbiByKGUpe3ZhciBuPWUubGFzdF9zZXE7cC5hbGwocykudGhlbihmdW5jdGlvbigpe3JldHVybiBsKG8sXCJfbG9jYWwvY29tcGFjdGlvblwiLGZ1bmN0aW9uKGUpe3JldHVybiFlLmxhc3Rfc2VxfHxlLmxhc3Rfc2VxPG4/KGUubGFzdF9zZXE9bixlKTohMX0pfSkudGhlbihmdW5jdGlvbigpe3QobnVsbCx7b2s6ITB9KX0pW1wiY2F0Y2hcIl0odCl9dmFyIG89dGhpcyxpPXtyZXR1cm5Eb2NzOiExLGxhc3Rfc2VxOmUubGFzdF9zZXF8fDB9LHM9W107by5jaGFuZ2VzKGkpLm9uKFwiY2hhbmdlXCIsbikub24oXCJjb21wbGV0ZVwiLHIpLm9uKFwiZXJyb3JcIix0KX0scy5wcm90b3R5cGUuZ2V0PWEuYWRhcHRlckZ1bihcImdldFwiLGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBvKCl7dmFyIG49W10sbz1pLmxlbmd0aDtyZXR1cm4gbz92b2lkIGkuZm9yRWFjaChmdW5jdGlvbihpKXtzLmdldChlLHtyZXY6aSxyZXZzOnQucmV2cyxhdHRhY2htZW50czp0LmF0dGFjaG1lbnRzfSxmdW5jdGlvbihlLHQpe24ucHVzaChlP3ttaXNzaW5nOml9Ontvazp0fSksby0tLG98fHIobnVsbCxuKX0pfSk6cihudWxsLG4pfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihyPXQsdD17fSksXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIHIodS5lcnJvcih1LklOVkFMSURfSUQpKTtpZihhLmlzTG9jYWxJZChlKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZ2V0TG9jYWwpcmV0dXJuIHRoaXMuX2dldExvY2FsKGUscik7dmFyIGk9W10scz10aGlzO2lmKCF0Lm9wZW5fcmV2cylyZXR1cm4gdGhpcy5fZ2V0KGUsdCxmdW5jdGlvbihlLG8pe2lmKHQ9YS5jbG9uZSh0KSxlKXJldHVybiByKGUpO3ZhciBpPW8uZG9jLHU9by5tZXRhZGF0YSxmPW8uY3R4O2lmKHQuY29uZmxpY3RzKXt2YXIgbD1jLmNvbGxlY3RDb25mbGljdHModSk7bC5sZW5ndGgmJihpLl9jb25mbGljdHM9bCl9aWYoYS5pc0RlbGV0ZWQodSxpLl9yZXYpJiYoaS5fZGVsZXRlZD0hMCksdC5yZXZzfHx0LnJldnNfaW5mbyl7dmFyIGQ9Yy5yb290VG9MZWFmKHUucmV2X3RyZWUpLHA9bihkLGZ1bmN0aW9uKGUpe3JldHVybi0xIT09ZS5pZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkuaW5kZXhPZihpLl9yZXYuc3BsaXQoXCItXCIpWzFdKX0pLGg9cC5pZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkuaW5kZXhPZihpLl9yZXYuc3BsaXQoXCItXCIpWzFdKSsxLHY9cC5pZHMubGVuZ3RoLWg7aWYocC5pZHMuc3BsaWNlKGgsdikscC5pZHMucmV2ZXJzZSgpLHQucmV2cyYmKGkuX3JldmlzaW9ucz17c3RhcnQ6cC5wb3MrcC5pZHMubGVuZ3RoLTEsaWRzOnAuaWRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pfSksdC5yZXZzX2luZm8pe3ZhciBfPXAucG9zK3AuaWRzLmxlbmd0aDtpLl9yZXZzX2luZm89cC5pZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBfLS0se3JldjpfK1wiLVwiK2UuaWQsc3RhdHVzOmUub3B0cy5zdGF0dXN9fSl9fWlmKHQubG9jYWxfc2VxJiYoYS5pbmZvKCdUaGUgXCJsb2NhbF9zZXFcIiBvcHRpb24gaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkJyksaS5fbG9jYWxfc2VxPW8ubWV0YWRhdGEuc2VxKSx0LmF0dGFjaG1lbnRzJiZpLl9hdHRhY2htZW50cyl7dmFyIG09aS5fYXR0YWNobWVudHMsZz1PYmplY3Qua2V5cyhtKS5sZW5ndGg7aWYoMD09PWcpcmV0dXJuIHIobnVsbCxpKTtPYmplY3Qua2V5cyhtKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RoaXMuX2dldEF0dGFjaG1lbnQobVtlXSx7ZW5jb2RlOiEwLGN0eDpmfSxmdW5jdGlvbih0LG4pe3ZhciBvPWkuX2F0dGFjaG1lbnRzW2VdO28uZGF0YT1uLGRlbGV0ZSBvLnN0dWIsZGVsZXRlIG8ubGVuZ3RoLC0tZ3x8cihudWxsLGkpfSl9LHMpfWVsc2V7aWYoaS5fYXR0YWNobWVudHMpZm9yKHZhciB5IGluIGkuX2F0dGFjaG1lbnRzKWkuX2F0dGFjaG1lbnRzLmhhc093blByb3BlcnR5KHkpJiYoaS5fYXR0YWNobWVudHNbeV0uc3R1Yj0hMCk7cihudWxsLGkpfX0pO2lmKFwiYWxsXCI9PT10Lm9wZW5fcmV2cyl0aGlzLl9nZXRSZXZpc2lvblRyZWUoZSxmdW5jdGlvbihlLHQpe3JldHVybiBlP3IoZSk6KGk9Yy5jb2xsZWN0TGVhdmVzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXZ9KSx2b2lkIG8oKSl9KTtlbHNle2lmKCFBcnJheS5pc0FycmF5KHQub3Blbl9yZXZzKSlyZXR1cm4gcih1LmVycm9yKHUuVU5LTk9XTl9FUlJPUixcImZ1bmN0aW9uX2NsYXVzZVwiKSk7aT10Lm9wZW5fcmV2cztmb3IodmFyIGY9MDtmPGkubGVuZ3RoO2YrKyl7dmFyIGw9aVtmXTtpZihcInN0cmluZ1wiIT10eXBlb2YgbHx8IS9eXFxkKy0vLnRlc3QobCkpcmV0dXJuIHIodS5lcnJvcih1LklOVkFMSURfUkVWKSl9bygpfX0pLHMucHJvdG90eXBlLmdldEF0dGFjaG1lbnQ9YS5hZGFwdGVyRnVuKFwiZ2V0QXR0YWNobWVudFwiLGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBvPXRoaXM7biBpbnN0YW5jZW9mIEZ1bmN0aW9uJiYocj1uLG49e30pLG49YS5jbG9uZShuKSx0aGlzLl9nZXQoZSxuLGZ1bmN0aW9uKGUsaSl7cmV0dXJuIGU/cihlKTppLmRvYy5fYXR0YWNobWVudHMmJmkuZG9jLl9hdHRhY2htZW50c1t0XT8obi5jdHg9aS5jdHgsdm9pZCBvLl9nZXRBdHRhY2htZW50KGkuZG9jLl9hdHRhY2htZW50c1t0XSxuLHIpKTpyKHUuZXJyb3IodS5NSVNTSU5HX0RPQykpfSl9KSxzLnByb3RvdHlwZS5hbGxEb2NzPWEuYWRhcHRlckZ1bihcImFsbERvY3NcIixmdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUsZT17fSksZT1hLmNsb25lKGUpLGUuc2tpcD1cInVuZGVmaW5lZFwiIT10eXBlb2YgZS5za2lwP2Uuc2tpcDowLFwia2V5c1wiaW4gZSl7aWYoIUFycmF5LmlzQXJyYXkoZS5rZXlzKSlyZXR1cm4gdChuZXcgVHlwZUVycm9yKFwib3B0aW9ucy5rZXlzIG11c3QgYmUgYW4gYXJyYXlcIikpO3ZhciBuPVtcInN0YXJ0a2V5XCIsXCJlbmRrZXlcIixcImtleVwiXS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW4gZX0pWzBdO2lmKG4pcmV0dXJuIHZvaWQgdCh1LmVycm9yKHUuUVVFUllfUEFSU0VfRVJST1IsXCJRdWVyeSBwYXJhbWV0ZXIgYFwiK24rXCJgIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggbXVsdGktZ2V0XCIpKTtpZihcImh0dHBcIiE9PXRoaXMudHlwZSgpKXJldHVybiBpKHRoaXMsZSx0KX1yZXR1cm4gdGhpcy5fYWxsRG9jcyhlLHQpfSkscy5wcm90b3R5cGUuY2hhbmdlcz1mdW5jdGlvbihlLHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUsZT17fSksbmV3IGQodGhpcyxlLHQpfSxzLnByb3RvdHlwZS5jbG9zZT1hLmFkYXB0ZXJGdW4oXCJjbG9zZVwiLGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jbG9zZWQ9ITAsdGhpcy5fY2xvc2UoZSl9KSxzLnByb3RvdHlwZS5pbmZvPWEuYWRhcHRlckZ1bihcImluZm9cIixmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX2luZm8oZnVuY3Rpb24obixyKXtyZXR1cm4gbj9lKG4pOihyLmRiX25hbWU9ci5kYl9uYW1lfHx0Ll9kYl9uYW1lLHIuYXV0b19jb21wYWN0aW9uPSEoIXQuYXV0b19jb21wYWN0aW9ufHxcImh0dHBcIj09PXQudHlwZSgpKSx2b2lkIGUobnVsbCxyKSl9KX0pLHMucHJvdG90eXBlLmlkPWEuYWRhcHRlckZ1bihcImlkXCIsZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2lkKGUpfSkscy5wcm90b3R5cGUudHlwZT1mdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuX3R5cGU/dGhpcy5fdHlwZSgpOnRoaXMuYWRhcHRlcn0scy5wcm90b3R5cGUuYnVsa0RvY3M9YS5hZGFwdGVyRnVuKFwiYnVsa0RvY3NcIixmdW5jdGlvbihlLHQsbil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG49dCx0PXt9KSx0PWEuY2xvbmUodCksQXJyYXkuaXNBcnJheShlKSYmKGU9e2RvY3M6ZX0pLCFlfHwhZS5kb2NzfHwhQXJyYXkuaXNBcnJheShlLmRvY3MpKXJldHVybiBuKHUuZXJyb3IodS5NSVNTSU5HX0JVTEtfRE9DUykpO2Zvcih2YXIgcj0wO3I8ZS5kb2NzLmxlbmd0aDsrK3IpaWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuZG9jc1tyXXx8QXJyYXkuaXNBcnJheShlLmRvY3Nbcl0pKXJldHVybiBuKHUuZXJyb3IodS5OT1RfQU5fT0JKRUNUKSk7cmV0dXJuIGU9YS5jbG9uZShlKSxcIm5ld19lZGl0c1wiaW4gdHx8KHQubmV3X2VkaXRzPVwibmV3X2VkaXRzXCJpbiBlP2UubmV3X2VkaXRzOiEwKSx0Lm5ld19lZGl0c3x8XCJodHRwXCI9PT10aGlzLnR5cGUoKXx8ZS5kb2NzLnNvcnQoZnVuY3Rpb24oZSx0KXt2YXIgbj1hLmNvbXBhcmUoZS5faWQsdC5faWQpO2lmKDAhPT1uKXJldHVybiBuO3ZhciByPWUuX3JldmlzaW9ucz9lLl9yZXZpc2lvbnMuc3RhcnQ6MCxvPXQuX3JldmlzaW9ucz90Ll9yZXZpc2lvbnMuc3RhcnQ6MDtyZXR1cm4gYS5jb21wYXJlKHIsbyl9KSxlLmRvY3MuZm9yRWFjaChmdW5jdGlvbihlKXtlLl9kZWxldGVkJiZkZWxldGUgZS5fYXR0YWNobWVudHN9KSx0aGlzLl9idWxrRG9jcyhlLHQsZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT9uKGUpOih0Lm5ld19lZGl0c3x8KHI9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXJyb3J9KSksdm9pZCBuKG51bGwscikpfSl9KSxzLnByb3RvdHlwZS5yZWdpc3RlckRlcGVuZGVudERhdGFiYXNlPWEuYWRhcHRlckZ1bihcInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2VcIixmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQuZGVwZW5kZW50RGJzPXQuZGVwZW5kZW50RGJzfHx7fSx0LmRlcGVuZGVudERic1tlXT8hMToodC5kZXBlbmRlbnREYnNbZV09ITAsdCl9dmFyIHI9bmV3IHRoaXMuY29uc3RydWN0b3IoZSx0aGlzLl9fb3B0c3x8e30pO2wodGhpcyxcIl9sb2NhbC9fcG91Y2hfZGVwZW5kZW50RGJzXCIsbixmdW5jdGlvbihlKXtyZXR1cm4gZT90KGUpOnQobnVsbCx7ZGI6cn0pfSl9KX0se31dLDI6W2Z1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuL15fKGRlc2lnbnxsb2NhbCkvLnRlc3QoZSk/ZTplbmNvZGVVUklDb21wb25lbnQoZSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZS5fYXR0YWNobWVudHMmJk9iamVjdC5rZXlzKGUuX2F0dGFjaG1lbnRzKT9sLlByb21pc2UuYWxsKE9iamVjdC5rZXlzKGUuX2F0dGFjaG1lbnRzKS5tYXAoZnVuY3Rpb24odCl7dmFyIG49ZS5fYXR0YWNobWVudHNbdF07aWYobi5kYXRhJiZcInN0cmluZ1wiIT10eXBlb2Ygbi5kYXRhKXtpZihoKXJldHVybiBuZXcgbC5Qcm9taXNlKGZ1bmN0aW9uKGUpe2wucmVhZEFzQmluYXJ5U3RyaW5nKG4uZGF0YSxmdW5jdGlvbih0KXtuLmRhdGE9bC5idG9hKHQpLGUoKX0pfSk7bi5kYXRhPW4uZGF0YS50b1N0cmluZyhcImJhc2U2NFwiKX19KSk6bC5Qcm9taXNlLnJlc29sdmUoKX1mdW5jdGlvbiBpKGUsdCl7aWYoL2h0dHAocz8pOi8udGVzdChlKSl7dmFyIG49bC5wYXJzZVVyaShlKTtuLnJlbW90ZT0hMCwobi51c2VyfHxuLnBhc3N3b3JkKSYmKG4uYXV0aD17dXNlcm5hbWU6bi51c2VyLHBhc3N3b3JkOm4ucGFzc3dvcmR9KTt2YXIgcj1uLnBhdGgucmVwbGFjZSgvKF5cXC98XFwvJCkvZyxcIlwiKS5zcGxpdChcIi9cIik7aWYobi5kYj1yLnBvcCgpLG4ucGF0aD1yLmpvaW4oXCIvXCIpLHQ9dHx8e30sdD1sLmNsb25lKHQpLG4uaGVhZGVycz10LmhlYWRlcnN8fHQuYWpheCYmdC5hamF4LmhlYWRlcnN8fHt9LHQuYXV0aHx8bi5hdXRoKXt2YXIgbz10LmF1dGh8fG4uYXV0aCxpPWwuYnRvYShvLnVzZXJuYW1lK1wiOlwiK28ucGFzc3dvcmQpO24uaGVhZGVycy5BdXRob3JpemF0aW9uPVwiQmFzaWMgXCIraX1yZXR1cm4gdC5oZWFkZXJzJiYobi5oZWFkZXJzPXQuaGVhZGVycyksbn1yZXR1cm57aG9zdDpcIlwiLHBhdGg6XCIvXCIsZGI6ZSxhdXRoOiExfX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGEoZSxlLmRiK1wiL1wiK3QpfWZ1bmN0aW9uIGEoZSx0KXtpZihlLnJlbW90ZSl7dmFyIG49ZS5wYXRoP1wiL1wiOlwiXCI7cmV0dXJuIGUucHJvdG9jb2wrXCI6Ly9cIitlLmhvc3QrXCI6XCIrZS5wb3J0K1wiL1wiK2UucGF0aCtuK3R9cmV0dXJuXCIvXCIrdH1mdW5jdGlvbiBjKGUsdCl7ZnVuY3Rpb24gbihlLHQpe3ZhciBuPWwuZXh0ZW5kKHt9LHksZSk7cmV0dXJuIHAobi5tZXRob2QrXCIgXCIrbi51cmwpLGwuYWpheChuLHQpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGUuc3BsaXQoXCIvXCIpLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oXCIvXCIpfXZhciBfPXRoaXM7Xy5nZXRIb3N0PWUuZ2V0SG9zdD9lLmdldEhvc3Q6aTt2YXIgbT1fLmdldEhvc3QoZS5uYW1lLGUpLGc9cyhtLFwiXCIpO18uZ2V0VXJsPWZ1bmN0aW9uKCl7cmV0dXJuIGd9LF8uZ2V0SGVhZGVycz1mdW5jdGlvbigpe3JldHVybiBsLmNsb25lKG0uaGVhZGVycyl9O3ZhciB5PWUuYWpheHx8e307ZT1sLmNsb25lKGUpO3ZhciBiPWZ1bmN0aW9uKCl7bih7aGVhZGVyczptLmhlYWRlcnMsbWV0aG9kOlwiUFVUXCIsdXJsOmd9LGZ1bmN0aW9uKGUpe2UmJjQwMT09PWUuc3RhdHVzP24oe2hlYWRlcnM6bS5oZWFkZXJzLG1ldGhvZDpcIkhFQURcIix1cmw6Z30sZnVuY3Rpb24oZSl7ZT90KGUpOnQobnVsbCxfKX0pOmUmJjQxMiE9PWUuc3RhdHVzP3QoZSk6dChudWxsLF8pfSl9O2Uuc2tpcFNldHVwfHxuKHtoZWFkZXJzOm0uaGVhZGVycyxtZXRob2Q6XCJHRVRcIix1cmw6Z30sZnVuY3Rpb24oZSl7ZT80MDQ9PT1lLnN0YXR1cz8obC5leHBsYWluNDA0KFwiUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlIERCIGV4aXN0cy5cIiksYigpKTp0KGUpOnQobnVsbCxfKX0pLF8udHlwZT1mdW5jdGlvbigpe3JldHVyblwiaHR0cFwifSxfLmlkPWwuYWRhcHRlckZ1bihcImlkXCIsZnVuY3Rpb24oZSl7bih7aGVhZGVyczptLmhlYWRlcnMsbWV0aG9kOlwiR0VUXCIsdXJsOmEobSxcIlwiKX0sZnVuY3Rpb24odCxuKXt2YXIgcj1uJiZuLnV1aWQ/bi51dWlkK20uZGI6cyhtLFwiXCIpO2UobnVsbCxyKX0pfSksXy5yZXF1ZXN0PWwuYWRhcHRlckZ1bihcInJlcXVlc3RcIixmdW5jdGlvbihlLHQpe2UuaGVhZGVycz1tLmhlYWRlcnMsZS51cmw9cyhtLGUudXJsKSxuKGUsdCl9KSxfLmNvbXBhY3Q9bC5hZGFwdGVyRnVuKFwiY29tcGFjdFwiLGZ1bmN0aW9uKGUsdCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKHQ9ZSxlPXt9KSxlPWwuY2xvbmUoZSksbih7aGVhZGVyczptLmhlYWRlcnMsdXJsOnMobSxcIl9jb21wYWN0XCIpLG1ldGhvZDpcIlBPU1RcIn0sZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7Xy5pbmZvKGZ1bmN0aW9uKHIsbyl7by5jb21wYWN0X3J1bm5pbmc/c2V0VGltZW91dChuLGUuaW50ZXJ2YWx8fDIwMCk6dChudWxsLHtvazohMH0pfSl9XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmbigpfSl9KSxfLl9pbmZvPWZ1bmN0aW9uKGUpe24oe2hlYWRlcnM6bS5oZWFkZXJzLG1ldGhvZDpcIkdFVFwiLHVybDpzKG0sXCJcIil9LGZ1bmN0aW9uKHQsbil7dD9lKHQpOihuLmhvc3Q9cyhtLFwiXCIpLGUobnVsbCxuKSl9KX0sXy5nZXQ9bC5hZGFwdGVyRnVuKFwiZ2V0XCIsZnVuY3Rpb24oZSx0LG8pe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihvPXQsdD17fSksdD1sLmNsb25lKHQpLHZvaWQgMD09PXQuYXV0b19lbmNvZGUmJih0LmF1dG9fZW5jb2RlPSEwKTt2YXIgaT1bXTt0LnJldnMmJmkucHVzaChcInJldnM9dHJ1ZVwiKSx0LnJldnNfaW5mbyYmaS5wdXNoKFwicmV2c19pbmZvPXRydWVcIiksdC5sb2NhbF9zZXEmJmkucHVzaChcImxvY2FsX3NlcT10cnVlXCIpLHQub3Blbl9yZXZzJiYoXCJhbGxcIiE9PXQub3Blbl9yZXZzJiYodC5vcGVuX3JldnM9SlNPTi5zdHJpbmdpZnkodC5vcGVuX3JldnMpKSxpLnB1c2goXCJvcGVuX3JldnM9XCIrdC5vcGVuX3JldnMpKSx0LmF0dGFjaG1lbnRzJiZpLnB1c2goXCJhdHRhY2htZW50cz10cnVlXCIpLHQucmV2JiZpLnB1c2goXCJyZXY9XCIrdC5yZXYpLHQuY29uZmxpY3RzJiZpLnB1c2goXCJjb25mbGljdHM9XCIrdC5jb25mbGljdHMpLGk9aS5qb2luKFwiJlwiKSxpPVwiXCI9PT1pP1wiXCI6XCI/XCIraSx0LmF1dG9fZW5jb2RlJiYoZT1yKGUpKTt2YXIgYT17aGVhZGVyczptLmhlYWRlcnMsbWV0aG9kOlwiR0VUXCIsdXJsOnMobSxlK2kpfSxjPWUuc3BsaXQoXCIvXCIpOyhjLmxlbmd0aD4xJiZcIl9kZXNpZ25cIiE9PWNbMF0mJlwiX2xvY2FsXCIhPT1jWzBdfHxjLmxlbmd0aD4yJiZcIl9kZXNpZ25cIj09PWNbMF0mJlwiX2xvY2FsXCIhPT1jWzBdKSYmKGEuYmluYXJ5PSEwKSxuKGEsZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlP28oZSk6dm9pZCBvKG51bGwsdCxuKX0pfSksXy5yZW1vdmU9bC5hZGFwdGVyRnVuKFwicmVtb3ZlXCIsZnVuY3Rpb24oZSx0LG8saSl7dmFyIGE7XCJzdHJpbmdcIj09dHlwZW9mIHQ/KGE9e19pZDplLF9yZXY6dH0sXCJmdW5jdGlvblwiPT10eXBlb2YgbyYmKGk9byxvPXt9KSk6KGE9ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0PyhpPXQsbz17fSk6KGk9byxvPXQpKTt2YXIgYz1hLl9yZXZ8fG8ucmV2O24oe2hlYWRlcnM6bS5oZWFkZXJzLG1ldGhvZDpcIkRFTEVURVwiLHVybDpzKG0scihhLl9pZCkpK1wiP3Jldj1cIitjfSxpKX0pLF8uZ2V0QXR0YWNobWVudD1sLmFkYXB0ZXJGdW4oXCJnZXRBdHRhY2htZW50XCIsZnVuY3Rpb24oZSx0LG4sbyl7XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKG89bixuPXt9KSxuPWwuY2xvbmUobiksdm9pZCAwPT09bi5hdXRvX2VuY29kZSYmKG4uYXV0b19lbmNvZGU9ITApLG4uYXV0b19lbmNvZGUmJihlPXIoZSkpLG4uYXV0b19lbmNvZGU9ITEsXy5nZXQoZStcIi9cIitjKHQpLG4sbyl9KSxfLnJlbW92ZUF0dGFjaG1lbnQ9bC5hZGFwdGVyRnVuKFwicmVtb3ZlQXR0YWNobWVudFwiLGZ1bmN0aW9uKGUsdCxvLGkpe3ZhciBhPXMobSxyKGUpK1wiL1wiK2ModCkpK1wiP3Jldj1cIitvO24oe2hlYWRlcnM6bS5oZWFkZXJzLG1ldGhvZDpcIkRFTEVURVwiLHVybDphfSxpKX0pLF8ucHV0QXR0YWNobWVudD1sLmFkYXB0ZXJGdW4oXCJwdXRBdHRhY2htZW50XCIsZnVuY3Rpb24oZSx0LG8saSxhLHUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGEmJih1PWEsYT1pLGk9byxvPW51bGwpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhJiYoYT1pLGk9byxvPW51bGwpO3ZhciBmPXIoZSkrXCIvXCIrYyh0KSxwPXMobSxmKTtpZihvJiYocCs9XCI/cmV2PVwiK28pLFwic3RyaW5nXCI9PXR5cGVvZiBpKXt2YXIgXzt0cnl7Xz1sLmF0b2IoaSl9Y2F0Y2goZyl7cmV0dXJuIHUoZC5lcnJvcihkLkJBRF9BUkcsXCJBdHRhY2htZW50cyBuZWVkIHRvIGJlIGJhc2U2NCBlbmNvZGVkXCIpKX1pPWg/bC5jcmVhdGVCbG9iKFtsLmZpeEJpbmFyeShfKV0se3R5cGU6YX0pOl8/bmV3IHYoXyxcImJpbmFyeVwiKTpcIlwifXZhciB5PXtoZWFkZXJzOmwuY2xvbmUobS5oZWFkZXJzKSxtZXRob2Q6XCJQVVRcIix1cmw6cCxwcm9jZXNzRGF0YTohMSxib2R5OmksdGltZW91dDo2ZTR9O3kuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXT1hLG4oeSx1KX0pLF8ucHV0PWwuYWRhcHRlckZ1bihcInB1dFwiLGwuZ2V0QXJndW1lbnRzKGZ1bmN0aW9uKGUpe3ZhciB0LGksYSxjPWUuc2hpZnQoKSx1PVwiX2lkXCJpbiBjLGY9ZS5wb3AoKTtyZXR1cm5cIm9iamVjdFwiIT10eXBlb2YgY3x8QXJyYXkuaXNBcnJheShjKT9mKGQuZXJyb3IoZC5OT1RfQU5fT0JKRUNUKSk6KGM9bC5jbG9uZShjKSx2b2lkIG8oYykudGhlbihmdW5jdGlvbigpe2Zvcig7OylpZih0PWUuc2hpZnQoKSxpPXR5cGVvZiB0LFwic3RyaW5nXCIhPT1pfHx1P1wic3RyaW5nXCIhPT1pfHwhdXx8XCJfcmV2XCJpbiBjP1wib2JqZWN0XCI9PT1pJiYoYT1sLmNsb25lKHQpKTpjLl9yZXY9dDooYy5faWQ9dCx1PSEwKSwhZS5sZW5ndGgpYnJlYWs7YT1hfHx7fTt2YXIgbz1sLmludmFsaWRJZEVycm9yKGMuX2lkKTtpZihvKXRocm93IG87dmFyIGQ9W107YSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEubmV3X2VkaXRzJiZkLnB1c2goXCJuZXdfZWRpdHM9XCIrYS5uZXdfZWRpdHMpLGQ9ZC5qb2luKFwiJlwiKSxcIlwiIT09ZCYmKGQ9XCI/XCIrZCksbih7aGVhZGVyczptLmhlYWRlcnMsbWV0aG9kOlwiUFVUXCIsdXJsOnMobSxyKGMuX2lkKSkrZCxib2R5OmN9LGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ZihlKToodC5vaz0hMCx2b2lkIGYobnVsbCx0KSl9KX0pW1wiY2F0Y2hcIl0oZikpfSkpLF8ucG9zdD1sLmFkYXB0ZXJGdW4oXCJwb3N0XCIsZnVuY3Rpb24oZSx0LG4pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQsdD17fSksdD1sLmNsb25lKHQpLFwib2JqZWN0XCIhPXR5cGVvZiBlP24oZC5lcnJvcihkLk5PVF9BTl9PQkpFQ1QpKTooXCJfaWRcImluIGV8fChlLl9pZD1sLnV1aWQoKSksdm9pZCBfLnB1dChlLHQsZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9uKGUpOih0Lm9rPSEwLHZvaWQgbihudWxsLHQpKX0pKX0pLF8uX2J1bGtEb2NzPWZ1bmN0aW9uKGUsdCxyKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5uZXdfZWRpdHMmJihlLm5ld19lZGl0cz10Lm5ld19lZGl0cyksbC5Qcm9taXNlLmFsbChlLmRvY3MubWFwKG8pKS50aGVuKGZ1bmN0aW9uKCl7bih7aGVhZGVyczptLmhlYWRlcnMsbWV0aG9kOlwiUE9TVFwiLHVybDpzKG0sXCJfYnVsa19kb2NzXCIpLGJvZHk6ZX0sZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9yKGUpOih0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5vaz0hMH0pLHZvaWQgcihudWxsLHQpKX0pfSlbXCJjYXRjaFwiXShyKX0sXy5hbGxEb2NzPWwuYWRhcHRlckZ1bihcImFsbERvY3NcIixmdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJih0PWUsZT17fSksZT1sLmNsb25lKGUpO3ZhciByLG89W10saT1cIkdFVFwiO2lmKGUuY29uZmxpY3RzJiZvLnB1c2goXCJjb25mbGljdHM9dHJ1ZVwiKSxlLmRlc2NlbmRpbmcmJm8ucHVzaChcImRlc2NlbmRpbmc9dHJ1ZVwiKSxlLmluY2x1ZGVfZG9jcyYmby5wdXNoKFwiaW5jbHVkZV9kb2NzPXRydWVcIiksZS5hdHRhY2htZW50cyYmby5wdXNoKFwiYXR0YWNobWVudHM9dHJ1ZVwiKSxlLmtleSYmby5wdXNoKFwia2V5PVwiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlLmtleSkpKSxlLnN0YXJ0a2V5JiZvLnB1c2goXCJzdGFydGtleT1cIitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZS5zdGFydGtleSkpKSxlLmVuZGtleSYmby5wdXNoKFwiZW5ka2V5PVwiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlLmVuZGtleSkpKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5pbmNsdXNpdmVfZW5kJiZvLnB1c2goXCJpbmNsdXNpdmVfZW5kPVwiKyEhZS5pbmNsdXNpdmVfZW5kKSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5saW1pdCYmby5wdXNoKFwibGltaXQ9XCIrZS5saW1pdCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUuc2tpcCYmby5wdXNoKFwic2tpcD1cIitlLnNraXApLG89by5qb2luKFwiJlwiKSxcIlwiIT09byYmKG89XCI/XCIrbyksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUua2V5cyl7dmFyIGE9XCJrZXlzPVwiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlLmtleXMpKTthLmxlbmd0aCtvLmxlbmd0aCsxPD1mP28rPSgtMSE9PW8uaW5kZXhPZihcIj9cIik/XCImXCI6XCI/XCIpK2E6KGk9XCJQT1NUXCIscj1KU09OLnN0cmluZ2lmeSh7a2V5czplLmtleXN9KSl9bih7aGVhZGVyczptLmhlYWRlcnMsbWV0aG9kOmksdXJsOnMobSxcIl9hbGxfZG9jc1wiK28pLGJvZHk6cn0sdCl9KSxfLl9jaGFuZ2VzPWZ1bmN0aW9uKGUpe3ZhciB0PVwiYmF0Y2hfc2l6ZVwiaW4gZT9lLmJhdGNoX3NpemU6dTtlPWwuY2xvbmUoZSksZS50aW1lb3V0PWUudGltZW91dHx8M2U0O3ZhciByPXt0aW1lb3V0OmUudGltZW91dC01ZTN9LG89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGUubGltaXQ/ZS5saW1pdDohMTswPT09byYmKG89MSk7dmFyIGk7aT1cInJldHVybkRvY3NcImluIGU/ZS5yZXR1cm5Eb2NzOiEwO3ZhciBhPW87aWYoZS5zdHlsZSYmKHIuc3R5bGU9ZS5zdHlsZSksKGUuaW5jbHVkZV9kb2NzfHxlLmZpbHRlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5maWx0ZXIpJiYoci5pbmNsdWRlX2RvY3M9ITApLGUuYXR0YWNobWVudHMmJihyLmF0dGFjaG1lbnRzPSEwKSxlLmNvbnRpbnVvdXMmJihyLmZlZWQ9XCJsb25ncG9sbFwiKSxlLmNvbmZsaWN0cyYmKHIuY29uZmxpY3RzPSEwKSxlLmRlc2NlbmRpbmcmJihyLmRlc2NlbmRpbmc9ITApLGUuZmlsdGVyJiZcInN0cmluZ1wiPT10eXBlb2YgZS5maWx0ZXImJihyLmZpbHRlcj1lLmZpbHRlcixcIl92aWV3XCI9PT1lLmZpbHRlciYmZS52aWV3JiZcInN0cmluZ1wiPT10eXBlb2YgZS52aWV3JiYoci52aWV3PWUudmlldykpLGUucXVlcnlfcGFyYW1zJiZcIm9iamVjdFwiPT10eXBlb2YgZS5xdWVyeV9wYXJhbXMpZm9yKHZhciBjIGluIGUucXVlcnlfcGFyYW1zKWUucXVlcnlfcGFyYW1zLmhhc093blByb3BlcnR5KGMpJiYocltjXT1lLnF1ZXJ5X3BhcmFtc1tjXSk7dmFyIHAsaD1cIkdFVFwiO2lmKGUuZG9jX2lkcyl7ci5maWx0ZXI9XCJfZG9jX2lkc1wiO3ZhciB2PUpTT04uc3RyaW5naWZ5KGUuZG9jX2lkcyk7di5sZW5ndGg8Zj9yLmRvY19pZHM9djooaD1cIlBPU1RcIixwPXtkb2NfaWRzOmUuZG9jX2lkc30pfWlmKGUuY29udGludW91cyYmXy5fdXNlU1NFKXJldHVybiBfLnNzZShlLHIsaSk7dmFyIGcseSxiPWZ1bmN0aW9uKGksYyl7aWYoIWUuYWJvcnRlZCl7ci5zaW5jZT1pLFwib2JqZWN0XCI9PXR5cGVvZiByLnNpbmNlJiYoci5zaW5jZT1KU09OLnN0cmluZ2lmeShyLnNpbmNlKSksZS5kZXNjZW5kaW5nP28mJihyLmxpbWl0PWEpOnIubGltaXQ9IW98fGE+dD90OmE7dmFyIHU9XCI/XCIrT2JqZWN0LmtleXMocikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlK1wiPVwiK3JbZV19KS5qb2luKFwiJlwiKSxmPXtoZWFkZXJzOm0uaGVhZGVycyxtZXRob2Q6aCx1cmw6cyhtLFwiX2NoYW5nZXNcIit1KSx0aW1lb3V0OmUudGltZW91dCxib2R5OnB9O3k9aSxlLmFib3J0ZWR8fChnPW4oZixjKSl9fSxFPTEwLHc9MCxTPXtyZXN1bHRzOltdfSxUPWZ1bmN0aW9uKG4scil7aWYoIWUuYWJvcnRlZCl7dmFyIHM9MDtpZihyJiZyLnJlc3VsdHMpe3M9ci5yZXN1bHRzLmxlbmd0aCxTLmxhc3Rfc2VxPXIubGFzdF9zZXE7dmFyIGM9e307Yy5xdWVyeT1lLnF1ZXJ5X3BhcmFtcyxyLnJlc3VsdHM9ci5yZXN1bHRzLmZpbHRlcihmdW5jdGlvbih0KXthLS07dmFyIG49bC5maWx0ZXJDaGFuZ2UoZSkodCk7cmV0dXJuIG4mJihpJiZTLnJlc3VsdHMucHVzaCh0KSxsLmNhbGwoZS5vbkNoYW5nZSx0KSksbn0pfWVsc2UgaWYobilyZXR1cm4gZS5hYm9ydGVkPSEwLHZvaWQgbC5jYWxsKGUuY29tcGxldGUsbik7ciYmci5sYXN0X3NlcSYmKHk9ci5sYXN0X3NlcSk7dmFyIHU9byYmMD49YXx8ciYmdD5zfHxlLmRlc2NlbmRpbmc7aWYoKCFlLmNvbnRpbnVvdXN8fG8mJjA+PWEpJiZ1KWwuY2FsbChlLmNvbXBsZXRlLG51bGwsUyk7ZWxzZXtuP3crPTE6dz0wO3ZhciBmPTE8PHcscD1FKmYsaD1lLm1heGltdW1XYWl0fHwzZTQ7aWYocD5oKXJldHVybiB2b2lkIGwuY2FsbChlLmNvbXBsZXRlLG58fGQuZXJyb3IoZC5VTktOT1dOX0VSUk9SKSk7c2V0VGltZW91dChmdW5jdGlvbigpe2IoeSxUKX0scCl9fX07cmV0dXJuIGIoZS5zaW5jZXx8MCxUKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7ZS5hYm9ydGVkPSEwLGcmJmcuYWJvcnQoKX19fSxfLnNzZT1mdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcih0KXt2YXIgcj1KU09OLnBhcnNlKHQuZGF0YSk7biYmdS5yZXN1bHRzLnB1c2gociksdS5sYXN0X3NlcT1yLnNlcSxsLmNhbGwoZS5vbkNoYW5nZSxyKX1mdW5jdGlvbiBvKHQpe3JldHVybiBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsciwhMSksZD09PSExPyhfLl91c2VTU0U9ITEsdm9pZChmPV8uX2NoYW5nZXMoZSkpKTooYy5jbG9zZSgpLHZvaWQgbC5jYWxsKGUuY29tcGxldGUsdCkpfXQuZmVlZD1cImV2ZW50c291cmNlXCIsdC5zaW5jZT1lLnNpbmNlfHwwLHQubGltaXQ9ZS5saW1pdCxkZWxldGUgdC50aW1lb3V0O3ZhciBpPVwiP1wiK09iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZStcIj1cIit0W2VdfSkuam9pbihcIiZcIiksYT1zKG0sXCJfY2hhbmdlc1wiK2kpLGM9bmV3IEV2ZW50U291cmNlKGEpLHU9e3Jlc3VsdHM6W10sbGFzdF9zZXE6ITF9LGY9ITEsZD0hMTtyZXR1cm4gYy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHIsITEpLGMub25vcGVuPWZ1bmN0aW9uKCl7ZD0hMH0sYy5vbmVycm9yPW8se2NhbmNlbDpmdW5jdGlvbigpe3JldHVybiBmP2YuY2FuY2VsKCk6KGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixyLCExKSx2b2lkIGMuY2xvc2UoKSl9fX0sXy5fdXNlU1NFPSExLF8ucmV2c0RpZmY9bC5hZGFwdGVyRnVuKFwicmV2c0RpZmZcIixmdW5jdGlvbihlLHQscil7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKHI9dCx0PXt9KSxuKHtoZWFkZXJzOm0uaGVhZGVycyxtZXRob2Q6XCJQT1NUXCIsdXJsOnMobSxcIl9yZXZzX2RpZmZcIiksYm9keTpKU09OLnN0cmluZ2lmeShlKX0scil9KSxfLl9jbG9zZT1mdW5jdGlvbihlKXtlKCl9LF8uZGVzdHJveT1sLmFkYXB0ZXJGdW4oXCJkZXN0cm95XCIsZnVuY3Rpb24oZSl7bih7dXJsOnMobSxcIlwiKSxtZXRob2Q6XCJERUxFVEVcIixoZWFkZXJzOm0uaGVhZGVyc30sZnVuY3Rpb24odCxuKXt0PyhfLmVtaXQoXCJlcnJvclwiLHQpLGUodCkpOihfLmVtaXQoXCJkZXN0cm95ZWRcIiksZShudWxsLG4pKX0pfSl9dmFyIHU9MjUsZj0xODAwLGw9ZSgzNCksZD1lKDE5KSxwPWUoNDApKFwicG91Y2hkYjpodHRwXCIpLGg9XCJ1bmRlZmluZWRcIj09dHlwZW9mIG58fG4uYnJvd3Nlcix2PWUoMTgpO2MuZGVzdHJveT1sLnRvUHJvbWlzZShmdW5jdGlvbihlLHQsbil7dmFyIHI9aShlLHQpO3Q9dHx8e30sXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmKG49dCx0PXt9KSx0PWwuY2xvbmUodCksdC5oZWFkZXJzPXIuaGVhZGVycyx0Lm1ldGhvZD1cIkRFTEVURVwiLHQudXJsPXMocixcIlwiKTt2YXIgbz10LmFqYXh8fHt9O3Q9bC5leHRlbmQoe30sdCxvKSxsLmFqYXgodCxuKX0pLGMudmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sdC5leHBvcnRzPWN9KS5jYWxsKHRoaXMsZSgzOSkpfSx7fV0sMzpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIG5ldyByLlByb21pc2UoZnVuY3Rpb24obixvKXt2YXIgcz1yLmNyZWF0ZUJsb2IoW1wiXCJdLHt0eXBlOlwiaW1hZ2UvcG5nXCJ9KTtlLm9iamVjdFN0b3JlKGkpLnB1dChzLFwia2V5XCIpLGUub25jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBlPXQudHJhbnNhY3Rpb24oW2ldLFwicmVhZHdyaXRlXCIpLHM9ZS5vYmplY3RTdG9yZShpKS5nZXQoXCJrZXlcIik7cy5vbmVycm9yPW8scy5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0LG89VVJMLmNyZWF0ZU9iamVjdFVSTCh0KTtyLmFqYXgoe3VybDpvLGNhY2hlOiEwLGJpbmFyeTohMH0sZnVuY3Rpb24oZSx0KXtlJiY0MDU9PT1lLnN0YXR1cz9uKCEwKToobighKCF0fHxcImltYWdlL3BuZ1wiIT09dC50eXBlKSksZSYmNDA0PT09ZS5zdGF0dXMmJnIuZXhwbGFpbjQwNChcIlBvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgYmxvYiBVUkwgc3VwcG9ydC5cIikpLFVSTC5yZXZva2VPYmplY3RVUkwobyl9KX19fSlbXCJjYXRjaFwiXShmdW5jdGlvbigpe3JldHVybiExfSl9dmFyIHI9ZSgzNCksbz1lKDUpLGk9by5ERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFO3QuZXhwb3J0cz1ufSx7fV0sNDpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxuLGkscyxnKXtmdW5jdGlvbiB5KCl7dmFyIGU9W2YsdSxjLGQsbCxhXSx0PW0oaSxlLFwicmVhZHdyaXRlXCIpO3JldHVybiB0LmVycm9yP2codC5lcnJvcik6KEQ9dC50eG4sRC5vbmVycm9yPV8oZyksRC5vbnRpbWVvdXQ9XyhnKSxELm9uY29tcGxldGU9dyxDPUQub2JqZWN0U3RvcmUoZiksTD1ELm9iamVjdFN0b3JlKHUpLEk9RC5vYmplY3RTdG9yZShjKSxOPUQub2JqZWN0U3RvcmUoYSksdm9pZCBUKGZ1bmN0aW9uKGUpe3JldHVybiBlPyhIPSEwLGcoZSkpOnZvaWQgRSgpfSkpfWZ1bmN0aW9uIGIoKXtyLnByb2Nlc3NEb2NzKEIsbixKLEQsVSx4LHQpfWZ1bmN0aW9uIEUoKXtmdW5jdGlvbiBlKCl7KytuPT09Qi5sZW5ndGgmJmIoKX1mdW5jdGlvbiB0KHQpe3ZhciBuPWgodC50YXJnZXQucmVzdWx0KTtuJiZKLnNldChuLmlkLG4pLGUoKX1pZihCLmxlbmd0aClmb3IodmFyIG49MCxvPTAsaT1CLmxlbmd0aDtpPm87bysrKXt2YXIgcz1CW29dO2lmKHMuX2lkJiZyLmlzTG9jYWxJZChzLl9pZCkpZSgpO2Vsc2V7dmFyIGE9Qy5nZXQocy5tZXRhZGF0YS5pZCk7YS5vbnN1Y2Nlc3M9dH19fWZ1bmN0aW9uIHcoKXtIfHwocy5ub3RpZnkobi5fbmFtZSksbi5fZG9jQ291bnQ9LTEsZyhudWxsLFUpKX1mdW5jdGlvbiBTKGUsdCl7dmFyIG49SS5nZXQoZSk7bi5vbnN1Y2Nlc3M9ZnVuY3Rpb24obil7aWYobi50YXJnZXQucmVzdWx0KXQoKTtlbHNle3ZhciByPW8uZXJyb3Ioby5NSVNTSU5HX1NUVUIsXCJ1bmtub3duIHN0dWIgYXR0YWNobWVudCB3aXRoIGRpZ2VzdCBcIitlKTtyLnN0YXR1cz00MTIsdChyKX19fWZ1bmN0aW9uIFQoZSl7ZnVuY3Rpb24gdCgpeysrbz09PW4ubGVuZ3RoJiZlKHIpfXZhciBuPVtdO2lmKEIuZm9yRWFjaChmdW5jdGlvbihlKXtlLmRhdGEmJmUuZGF0YS5fYXR0YWNobWVudHMmJk9iamVjdC5rZXlzKGUuZGF0YS5fYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9ZS5kYXRhLl9hdHRhY2htZW50c1t0XTtyLnN0dWImJm4ucHVzaChyLmRpZ2VzdCl9KX0pLCFuLmxlbmd0aClyZXR1cm4gZSgpO3ZhciByLG89MDtuLmZvckVhY2goZnVuY3Rpb24oZSl7UyhlLGZ1bmN0aW9uKGUpe2UmJiFyJiYocj1lKSx0KCl9KX0pfWZ1bmN0aW9uIHgoZSx0LG4scixvLGkscyl7dmFyIGE9ZS5kYXRhO2EuX2lkPWUubWV0YWRhdGEuaWQsYS5fcmV2PWUubWV0YWRhdGEucmV2LG4mJihhLl9kZWxldGVkPSEwKTt2YXIgYz1hLl9hdHRhY2htZW50cyYmT2JqZWN0LmtleXMoYS5fYXR0YWNobWVudHMpLmxlbmd0aDtyZXR1cm4gYz9rKGUsdCxuLHIsbyxzKTp2b2lkIE8oZSx0LG4scixvLHMpfWZ1bmN0aW9uIEEoZSl7dmFyIHQ9ci5jb21wYWN0VHJlZShlLm1ldGFkYXRhKTtwKHQsZS5tZXRhZGF0YS5pZCxEKX1mdW5jdGlvbiBPKGUsdCxyLG8saSxzKXtmdW5jdGlvbiBhKG8pe2kmJm4uYXV0b19jb21wYWN0aW9uJiZBKGUpLGwuc2VxPW8udGFyZ2V0LnJlc3VsdCxkZWxldGUgbC5yZXY7dmFyIHM9dihsLHQsciksYT1DLnB1dChzKTthLm9uc3VjY2Vzcz11fWZ1bmN0aW9uIGMoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpLGUuc3RvcFByb3BhZ2F0aW9uKCk7dmFyIHQ9TC5pbmRleChcIl9kb2NfaWRfcmV2XCIpLG49dC5nZXRLZXkoZi5fZG9jX2lkX3Jldik7bi5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9TC5wdXQoZixlLnRhcmdldC5yZXN1bHQpO3Qub25zdWNjZXNzPWF9fWZ1bmN0aW9uIHUoKXtVW3NdPXtvazohMCxpZDpsLmlkLHJldjp0fSxKLnNldChlLm1ldGFkYXRhLmlkLGUubWV0YWRhdGEpLHEoZSxsLnNlcSxvKX12YXIgZj1lLmRhdGEsbD1lLm1ldGFkYXRhO2YuX2RvY19pZF9yZXY9bC5pZCtcIjo6XCIrbC5yZXYsZGVsZXRlIGYuX2lkLGRlbGV0ZSBmLl9yZXY7dmFyIGQ9TC5wdXQoZik7ZC5vbnN1Y2Nlc3M9YSxkLm9uZXJyb3I9Y31mdW5jdGlvbiBrKGUsdCxuLHIsbyxpKXtmdW5jdGlvbiBzKCl7dT09PWYubGVuZ3RoJiZPKGUsdCxuLHIsbyxpKX1mdW5jdGlvbiBhKCl7dSsrLHMoKX12YXIgYz1lLmRhdGEsdT0wLGY9T2JqZWN0LmtleXMoYy5fYXR0YWNobWVudHMpO2YuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1lLmRhdGEuX2F0dGFjaG1lbnRzW3RdO2lmKG4uc3R1Yil1KysscygpO2Vsc2V7dmFyIHI9bi5kYXRhO2RlbGV0ZSBuLmRhdGE7dmFyIG89bi5kaWdlc3Q7UihvLHIsYSl9fSl9ZnVuY3Rpb24gcShlLHQsbil7ZnVuY3Rpb24gcigpeysraT09PXMubGVuZ3RoJiZuKCl9ZnVuY3Rpb24gbyhuKXt2YXIgbz1lLmRhdGEuX2F0dGFjaG1lbnRzW25dLmRpZ2VzdCxpPU4ucHV0KHtzZXE6dCxkaWdlc3RTZXE6bytcIjo6XCIrdH0pO2kub25zdWNjZXNzPXIsaS5vbmVycm9yPWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKSxlLnN0b3BQcm9wYWdhdGlvbigpLHIoKX19dmFyIGk9MCxzPU9iamVjdC5rZXlzKGUuZGF0YS5fYXR0YWNobWVudHN8fHt9KTtpZighcy5sZW5ndGgpcmV0dXJuIG4oKTtmb3IodmFyIGE9MDthPHMubGVuZ3RoO2ErKylvKHNbYV0pfWZ1bmN0aW9uIFIoZSx0LG4pe3ZhciByPUkuY291bnQoZSk7ci5vbnN1Y2Nlc3M9ZnVuY3Rpb24ocil7dmFyIG89ci50YXJnZXQucmVzdWx0O2lmKG8pcmV0dXJuIG4oKTt2YXIgaT17ZGlnZXN0OmUsYm9keTp0fSxzPUkucHV0KGkpO3Mub25zdWNjZXNzPW59fWZvcih2YXIgRCxDLEwsSSxOLGosQj1lLmRvY3MsRj0wLE09Qi5sZW5ndGg7TT5GO0YrKyl7dmFyIFA9QltGXTtQLl9pZCYmci5pc0xvY2FsSWQoUC5faWQpfHwoUD1CW0ZdPXIucGFyc2VEb2MoUCx0Lm5ld19lZGl0cyksUC5lcnJvciYmIWomJihqPVApKX1pZihqKXJldHVybiBnKGopO3ZhciBVPW5ldyBBcnJheShCLmxlbmd0aCksSj1uZXcgci5NYXAsSD0hMSxWPW4uX2Jsb2JTdXBwb3J0P1wiYmxvYlwiOlwiYmFzZTY0XCI7ci5wcmVwcm9jZXNzQXR0YWNobWVudHMoQixWLGZ1bmN0aW9uKGUpe3JldHVybiBlP2coZSk6dm9pZCB5KCl9KX12YXIgcj1lKDM0KSxvPWUoMTkpLGk9ZSg2KSxzPWUoNSksYT1zLkFUVEFDSF9BTkRfU0VRX1NUT1JFLGM9cy5BVFRBQ0hfU1RPUkUsdT1zLkJZX1NFUV9TVE9SRSxmPXMuRE9DX1NUT1JFLGw9cy5MT0NBTF9TVE9SRSxkPXMuTUVUQV9TVE9SRSxwPWkuY29tcGFjdFJldnMsaD1pLmRlY29kZU1ldGFkYXRhLHY9aS5lbmNvZGVNZXRhZGF0YSxfPWkuaWRiRXJyb3IsbT1pLm9wZW5UcmFuc2FjdGlvblNhZmVseTt0LmV4cG9ydHM9bn0se31dLDU6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLkFEQVBURVJfVkVSU0lPTj01LG4uRE9DX1NUT1JFPVwiZG9jdW1lbnQtc3RvcmVcIixuLkJZX1NFUV9TVE9SRT1cImJ5LXNlcXVlbmNlXCIsbi5BVFRBQ0hfU1RPUkU9XCJhdHRhY2gtc3RvcmVcIixuLkFUVEFDSF9BTkRfU0VRX1NUT1JFPVwiYXR0YWNoLXNlcS1zdG9yZVwiLG4uTUVUQV9TVE9SRT1cIm1ldGEtc3RvcmVcIixuLkxPQ0FMX1NUT1JFPVwibG9jYWwtc3RvcmVcIixuLkRFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkU9XCJkZXRlY3QtYmxvYi1zdXBwb3J0XCJ9LHt9XSw2OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0LG4pe3RyeXtlLmFwcGx5KHQsbil9Y2F0Y2gocil7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFBvdWNoREImJlBvdWNoREIuZW1pdChcImVycm9yXCIscil9fXZhciBvPWUoMTkpLGk9ZSgzNCkscz1lKDUpO24udGFza1F1ZXVlPXtydW5uaW5nOiExLHF1ZXVlOltdfSxuLmFwcGx5TmV4dD1mdW5jdGlvbigpe2lmKCFuLnRhc2tRdWV1ZS5ydW5uaW5nJiZuLnRhc2tRdWV1ZS5xdWV1ZS5sZW5ndGgpe24udGFza1F1ZXVlLnJ1bm5pbmc9ITA7dmFyIGU9bi50YXNrUXVldWUucXVldWUuc2hpZnQoKTtlLmFjdGlvbihmdW5jdGlvbihvLGkpe3IoZS5jYWxsYmFjayx0aGlzLFtvLGldKSxuLnRhc2tRdWV1ZS5ydW5uaW5nPSExLHQubmV4dFRpY2sobi5hcHBseU5leHQpfSl9fSxuLmlkYkVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10LnRhcmdldCYmdC50YXJnZXQuZXJyb3ImJnQudGFyZ2V0LmVycm9yLm5hbWV8fHQudGFyZ2V0O2Uoby5lcnJvcihvLklEQl9FUlJPUixuLHQudHlwZSkpfX0sbi5lbmNvZGVNZXRhZGF0YT1mdW5jdGlvbihlLHQsbil7cmV0dXJue2RhdGE6aS5zYWZlSnNvblN0cmluZ2lmeShlKSx3aW5uaW5nUmV2OnQsZGVsZXRlZE9yTG9jYWw6bj9cIjFcIjpcIjBcIixzZXE6ZS5zZXEsaWQ6ZS5pZH19LG4uZGVjb2RlTWV0YWRhdGE9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9aS5zYWZlSnNvblBhcnNlKGUuZGF0YSk7cmV0dXJuIHQud2lubmluZ1Jldj1lLndpbm5pbmdSZXYsdC5kZWxldGVkT3JMb2NhbD1cIjFcIj09PWUuZGVsZXRlZE9yTG9jYWwsdC5zZXE9ZS5zZXEsdH0sbi5kZWNvZGVEb2M9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuIGU7dmFyIHQ9aS5sYXN0SW5kZXhPZihlLl9kb2NfaWRfcmV2LFwiOlwiKTtyZXR1cm4gZS5faWQ9ZS5fZG9jX2lkX3Jldi5zdWJzdHJpbmcoMCx0LTEpLGUuX3Jldj1lLl9kb2NfaWRfcmV2LnN1YnN0cmluZyh0KzEpLGRlbGV0ZSBlLl9kb2NfaWRfcmV2LGV9LG4ucmVhZEJsb2JEYXRhPWZ1bmN0aW9uKGUsdCxuLHIpe24/ZT9cInN0cmluZ1wiIT10eXBlb2YgZT9pLnJlYWRBc0JpbmFyeVN0cmluZyhlLGZ1bmN0aW9uKGUpe3IoaS5idG9hKGUpKX0pOnIoZSk6cihcIlwiKTplP1wic3RyaW5nXCIhPXR5cGVvZiBlP3IoZSk6KGU9aS5maXhCaW5hcnkoYXRvYihlKSkscihpLmNyZWF0ZUJsb2IoW2VdLHt0eXBlOnR9KSkpOnIoaS5jcmVhdGVCbG9iKFtcIlwiXSx7dHlwZTp0fSkpfSxuLmZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeT1mdW5jdGlvbihlLHQsbixyKXtmdW5jdGlvbiBvKCl7KytjPT09YS5sZW5ndGgmJnImJnIoKX1mdW5jdGlvbiBpKGUsdCl7dmFyIHI9ZS5fYXR0YWNobWVudHNbdF0saT1yLmRpZ2VzdCxhPW4ub2JqZWN0U3RvcmUocy5BVFRBQ0hfU1RPUkUpLmdldChpKTthLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtyLmJvZHk9ZS50YXJnZXQucmVzdWx0LmJvZHksbygpfX12YXIgYT1PYmplY3Qua2V5cyhlLl9hdHRhY2htZW50c3x8e30pO2lmKCFhLmxlbmd0aClyZXR1cm4gciYmcigpO3ZhciBjPTA7YS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3QuYXR0YWNobWVudHMmJnQuaW5jbHVkZV9kb2NzP2koZSxuKTooZS5fYXR0YWNobWVudHNbbl0uc3R1Yj0hMCxvKCkpfSl9LG4ucG9zdFByb2Nlc3NBdHRhY2htZW50cz1mdW5jdGlvbihlKXtyZXR1cm4gaS5Qcm9taXNlLmFsbChlLm1hcChmdW5jdGlvbihlKXtpZihlLmRvYyYmZS5kb2MuX2F0dGFjaG1lbnRzKXt2YXIgdD1PYmplY3Qua2V5cyhlLmRvYy5fYXR0YWNobWVudHMpO3JldHVybiBpLlByb21pc2UuYWxsKHQubWFwKGZ1bmN0aW9uKHQpe3ZhciByPWUuZG9jLl9hdHRhY2htZW50c1t0XTtpZihcImJvZHlcImluIHIpe3ZhciBvPXIuYm9keSxzPXIuY29udGVudF90eXBlO3JldHVybiBuZXcgaS5Qcm9taXNlKGZ1bmN0aW9uKGEpe24ucmVhZEJsb2JEYXRhKG8scywhMCxmdW5jdGlvbihuKXtlLmRvYy5fYXR0YWNobWVudHNbdF09aS5leHRlbmQoaS5waWNrKHIsW1wiZGlnZXN0XCIsXCJjb250ZW50X3R5cGVcIl0pLHtkYXRhOm59KSxhKCl9KX0pfX0pKX19KSl9LG4uY29tcGFjdFJldnM9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXtmLS0sZnx8bygpfWZ1bmN0aW9uIG8oKXtpLmxlbmd0aCYmaS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXUuaW5kZXgoXCJkaWdlc3RTZXFcIikuY291bnQoSURCS2V5UmFuZ2UuYm91bmQoZStcIjo6XCIsZStcIjo677+/XCIsITEsITEpKTt0Lm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgbj10LnRhcmdldC5yZXN1bHQ7bnx8Y1tcImRlbGV0ZVwiXShlKX19KX12YXIgaT1bXSxhPW4ub2JqZWN0U3RvcmUocy5CWV9TRVFfU1RPUkUpLGM9bi5vYmplY3RTdG9yZShzLkFUVEFDSF9TVE9SRSksdT1uLm9iamVjdFN0b3JlKHMuQVRUQUNIX0FORF9TRVFfU1RPUkUpLGY9ZS5sZW5ndGg7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWEuaW5kZXgoXCJfZG9jX2lkX3JldlwiKSxvPXQrXCI6OlwiK2U7bi5nZXRLZXkobykub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LnJlc3VsdDtpZihcIm51bWJlclwiIT10eXBlb2YgdClyZXR1cm4gcigpO2FbXCJkZWxldGVcIl0odCk7dmFyIG49dS5pbmRleChcInNlcVwiKS5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkodCkpO24ub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LnJlc3VsdDtpZih0KXt2YXIgbj10LnZhbHVlLmRpZ2VzdFNlcS5zcGxpdChcIjo6XCIpWzBdO2kucHVzaChuKSx1W1wiZGVsZXRlXCJdKHQucHJpbWFyeUtleSksdFtcImNvbnRpbnVlXCJdKCl9ZWxzZSByKCl9fX0pfSxuLm9wZW5UcmFuc2FjdGlvblNhZmVseT1mdW5jdGlvbihlLHQsbil7dHJ5e3JldHVybnt0eG46ZS50cmFuc2FjdGlvbih0LG4pfX1jYXRjaChyKXtyZXR1cm57ZXJyb3I6cn19fX0pLmNhbGwodGhpcyxlKDM5KSl9LHt9XSw3OltmdW5jdGlvbihlLHQpeyhmdW5jdGlvbihuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUsdCl7dmFyIG49dGhpcztELnF1ZXVlLnB1c2goe2FjdGlvbjpmdW5jdGlvbih0KXtvKG4sZSx0KX0sY2FsbGJhY2s6dH0pLHcoKX1mdW5jdGlvbiBvKGUsdCxvKXtmdW5jdGlvbiBpKGUpe3ZhciB0PWUuY3JlYXRlT2JqZWN0U3RvcmUoeSx7a2V5UGF0aDpcImlkXCJ9KTtlLmNyZWF0ZU9iamVjdFN0b3JlKG0se2F1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleChcIl9kb2NfaWRfcmV2XCIsXCJfZG9jX2lkX3JldlwiLHt1bmlxdWU6ITB9KSxlLmNyZWF0ZU9iamVjdFN0b3JlKF8se2tleVBhdGg6XCJkaWdlc3RcIn0pLGUuY3JlYXRlT2JqZWN0U3RvcmUoRSx7a2V5UGF0aDpcImlkXCIsYXV0b0luY3JlbWVudDohMX0pLGUuY3JlYXRlT2JqZWN0U3RvcmUoZyksdC5jcmVhdGVJbmRleChcImRlbGV0ZWRPckxvY2FsXCIsXCJkZWxldGVkT3JMb2NhbFwiLHt1bmlxdWU6ITF9KSxlLmNyZWF0ZU9iamVjdFN0b3JlKGIse2tleVBhdGg6XCJfaWRcIn0pO3ZhciBuPWUuY3JlYXRlT2JqZWN0U3RvcmUodix7YXV0b0luY3JlbWVudDohMH0pO24uY3JlYXRlSW5kZXgoXCJzZXFcIixcInNlcVwiKSxuLmNyZWF0ZUluZGV4KFwiZGlnZXN0U2VxXCIsXCJkaWdlc3RTZXFcIix7dW5pcXVlOiEwfSl9ZnVuY3Rpb24gZihlLHQpe3ZhciBuPWUub2JqZWN0U3RvcmUoeSk7bi5jcmVhdGVJbmRleChcImRlbGV0ZWRPckxvY2FsXCIsXCJkZWxldGVkT3JMb2NhbFwiLHt1bmlxdWU6ITF9KSxuLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHI9ZS50YXJnZXQucmVzdWx0O2lmKHIpe3ZhciBvPXIudmFsdWUsaT1hLmlzRGVsZXRlZChvKTtvLmRlbGV0ZWRPckxvY2FsPWk/XCIxXCI6XCIwXCIsbi5wdXQobykscltcImNvbnRpbnVlXCJdKCl9ZWxzZSB0KCl9fWZ1bmN0aW9uIGwoZSl7ZS5jcmVhdGVPYmplY3RTdG9yZShiLHtrZXlQYXRoOlwiX2lkXCJ9KS5jcmVhdGVJbmRleChcIl9kb2NfaWRfcmV2XCIsXCJfZG9jX2lkX3JldlwiLHt1bmlxdWU6ITB9KX1mdW5jdGlvbiB3KGUsdCl7dmFyIG49ZS5vYmplY3RTdG9yZShiKSxyPWUub2JqZWN0U3RvcmUoeSksbz1lLm9iamVjdFN0b3JlKG0pLGk9ci5vcGVuQ3Vyc29yKCk7aS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIGk9ZS50YXJnZXQucmVzdWx0O2lmKGkpe3ZhciBzPWkudmFsdWUsdT1zLmlkLGY9YS5pc0xvY2FsSWQodSksbD1jLndpbm5pbmdSZXYocyk7aWYoZil7dmFyIGQ9dStcIjo6XCIrbCxwPXUrXCI6OlwiLGg9dStcIjo6flwiLHY9by5pbmRleChcIl9kb2NfaWRfcmV2XCIpLF89SURCS2V5UmFuZ2UuYm91bmQocCxoLCExLCExKSxtPXYub3BlbkN1cnNvcihfKTttLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtpZihtPWUudGFyZ2V0LnJlc3VsdCl7dmFyIHQ9bS52YWx1ZTt0Ll9kb2NfaWRfcmV2PT09ZCYmbi5wdXQodCksb1tcImRlbGV0ZVwiXShtLnByaW1hcnlLZXkpLG1bXCJjb250aW51ZVwiXSgpfWVsc2UgcltcImRlbGV0ZVwiXShpLnByaW1hcnlLZXkpLGlbXCJjb250aW51ZVwiXSgpfX1lbHNlIGlbXCJjb250aW51ZVwiXSgpfWVsc2UgdCYmdCgpfX1mdW5jdGlvbiBEKGUpe3ZhciB0PWUuY3JlYXRlT2JqZWN0U3RvcmUodix7YXV0b0luY3JlbWVudDohMH0pO3QuY3JlYXRlSW5kZXgoXCJzZXFcIixcInNlcVwiKSx0LmNyZWF0ZUluZGV4KFwiZGlnZXN0U2VxXCIsXCJkaWdlc3RTZXFcIix7dW5pcXVlOiEwfSl9ZnVuY3Rpb24gSShlLHQpe3ZhciBuPWUub2JqZWN0U3RvcmUobSkscj1lLm9iamVjdFN0b3JlKF8pLG89ZS5vYmplY3RTdG9yZSh2KSxpPXIuY291bnQoKTtpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgcj1lLnRhcmdldC5yZXN1bHQ7cmV0dXJuIHI/dm9pZChuLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIG49ZS50YXJnZXQucmVzdWx0O2lmKCFuKXJldHVybiB0KCk7Zm9yKHZhciByPW4udmFsdWUsaT1uLnByaW1hcnlLZXkscz1PYmplY3Qua2V5cyhyLl9hdHRhY2htZW50c3x8e30pLGE9e30sYz0wO2M8cy5sZW5ndGg7YysrKXt2YXIgdT1yLl9hdHRhY2htZW50c1tzW2NdXTthW3UuZGlnZXN0XT0hMH12YXIgZj1PYmplY3Qua2V5cyhhKTtmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKXt2YXIgbD1mW2NdO28ucHV0KHtzZXE6aSxkaWdlc3RTZXE6bCtcIjo6XCIraX0pfW5bXCJjb250aW51ZVwiXSgpfSk6dCgpfX1mdW5jdGlvbiBOKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUuZGF0YT94KGUpOihlLmRlbGV0ZWRPckxvY2FsPVwiMVwiPT09ZS5kZWxldGVkT3JMb2NhbCxlKX12YXIgbj1lLm9iamVjdFN0b3JlKG0pLHI9ZS5vYmplY3RTdG9yZSh5KSxvPXIub3BlbkN1cnNvcigpO28ub25zdWNjZXNzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG8oKXt2YXIgZT1hLmlkK1wiOjpcIix0PWEuaWQrXCI6Ou+/v1wiLHI9bi5pbmRleChcIl9kb2NfaWRfcmV2XCIpLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2UuYm91bmQoZSx0KSksbz0wO3Iub25zdWNjZXNzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LnJlc3VsdDtpZighdClyZXR1cm4gYS5zZXE9byxpKCk7dmFyIG49dC5wcmltYXJ5S2V5O24+byYmKG89biksdFtcImNvbnRpbnVlXCJdKCl9fWZ1bmN0aW9uIGkoKXt2YXIgZT1BKGEsYS53aW5uaW5nUmV2LGEuZGVsZXRlZE9yTG9jYWwpLHQ9ci5wdXQoZSk7dC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtzW1wiY29udGludWVcIl0oKX19dmFyIHM9ZS50YXJnZXQucmVzdWx0O2lmKHMpe3ZhciBhPXQocy52YWx1ZSk7cmV0dXJuIGEud2lubmluZ1Jldj1hLndpbm5pbmdSZXZ8fGMud2lubmluZ1JldihhKSxhLnNlcT9pKCk6dm9pZCBvKCl9fX1mdW5jdGlvbiBqKGUsdCxuLHIsbyl7dHJ5e2lmKGUmJnQpcmV0dXJuIG8/SURCS2V5UmFuZ2UuYm91bmQodCxlLCFuLCExKTpJREJLZXlSYW5nZS5ib3VuZChlLHQsITEsIW4pO2lmKGUpcmV0dXJuIG8/SURCS2V5UmFuZ2UudXBwZXJCb3VuZChlKTpJREJLZXlSYW5nZS5sb3dlckJvdW5kKGUpO2lmKHQpcmV0dXJuIG8/SURCS2V5UmFuZ2UubG93ZXJCb3VuZCh0LCFuKTpJREJLZXlSYW5nZS51cHBlckJvdW5kKHQsIW4pO2lmKHIpcmV0dXJuIElEQktleVJhbmdlLm9ubHkocil9Y2F0Y2goaSl7cmV0dXJue2Vycm9yOml9fXJldHVybiBudWxsfWZ1bmN0aW9uIEIoZSx0LG4pe2Z1bmN0aW9uIHIoKXtuKG51bGwse3RvdGFsX3Jvd3M6ZSxvZmZzZXQ6dC5za2lwLHJvd3M6QX0pfXZhciBvPVwic3RhcnRrZXlcImluIHQ/dC5zdGFydGtleTohMSxpPVwiZW5ka2V5XCJpbiB0P3QuZW5ka2V5OiExLHM9XCJrZXlcImluIHQ/dC5rZXk6ITEsZj10LnNraXB8fDAsbD1cIm51bWJlclwiPT10eXBlb2YgdC5saW1pdD90LmxpbWl0Oi0xLGQ9dC5pbmNsdXNpdmVfZW5kIT09ITEscD1cImRlc2NlbmRpbmdcImluIHQmJnQuZGVzY2VuZGluZz9cInByZXZcIjpudWxsLGg9aihvLGksZCxzLHApO2lmKGgmJmguZXJyb3Ipe3ZhciB2PWguZXJyb3I7cmV0dXJuXCJEYXRhRXJyb3JcIj09PXYubmFtZSYmMD09PXYuY29kZT9uKG51bGwse3RvdGFsX3Jvd3M6ZSxvZmZzZXQ6dC5za2lwLHJvd3M6W119KTpuKHUuZXJyb3IodS5JREJfRVJST1Isdi5uYW1lLHYubWVzc2FnZSkpfXZhciBnPVt5LG1dO3QuYXR0YWNobWVudHMmJmcucHVzaChfKTt2YXIgYj1DKEosZyxcInJlYWRvbmx5XCIpO2lmKGIuZXJyb3IpcmV0dXJuIG4oYi5lcnJvcik7dmFyIEU9Yi50eG47RS5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7dC5hdHRhY2htZW50cz9xKEEpLnRoZW4ocik6cigpfTt2YXIgdz1FLm9iamVjdFN0b3JlKHkpLFM9cD93Lm9wZW5DdXJzb3IoaCxwKTp3Lm9wZW5DdXJzb3IoaCksQT1bXTtTLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKGUsbil7dmFyIG89e2lkOmUuaWQsa2V5OmUuaWQsdmFsdWU6e3JldjppfX07dC5pbmNsdWRlX2RvY3MmJihvLmRvYz1uLHQuY29uZmxpY3RzJiYoby5kb2MuX2NvbmZsaWN0cz1jLmNvbGxlY3RDb25mbGljdHMoZSkpLE8oby5kb2MsdCxFKSk7dmFyIHM9YS5pc0RlbGV0ZWQoZSxpKTtpZihcIm9rXCI9PT10LmRlbGV0ZWQpcyYmKG8udmFsdWUuZGVsZXRlZD0hMCxvLmRvYz1udWxsKSxBLnB1c2gobyk7ZWxzZSBpZighcyYmZi0tPD0wJiYoQS5wdXNoKG8pLDA9PT0tLWwpKXJldHVybjtyW1wiY29udGludWVcIl0oKX1pZihlLnRhcmdldC5yZXN1bHQpe3ZhciByPWUudGFyZ2V0LnJlc3VsdCxvPXgoci52YWx1ZSksaT1vLndpbm5pbmdSZXY7aWYodC5pbmNsdWRlX2RvY3Mpe3ZhciBzPUUub2JqZWN0U3RvcmUobSkuaW5kZXgoXCJfZG9jX2lkX3JldlwiKSx1PW8uaWQrXCI6OlwiK2k7cy5nZXQodSkub25zdWNjZXNzPWZ1bmN0aW9uKGUpe24oeChyLnZhbHVlKSxUKGUudGFyZ2V0LnJlc3VsdCkpfX1lbHNlIG4obyl9fX1mdW5jdGlvbiBGKHQpe2lmKC0xIT09ZS5fZG9jQ291bnQpcmV0dXJuIHQobnVsbCxlLl9kb2NDb3VudCk7dmFyIG4scj1DKEosW3ldLFwicmVhZG9ubHlcIik7aWYoci5lcnJvcilyZXR1cm4gdChyLmVycm9yKTt2YXIgbz1yLnR4bixpPW8ub2JqZWN0U3RvcmUoeSkuaW5kZXgoXCJkZWxldGVkT3JMb2NhbFwiKTtpLmNvdW50KElEQktleVJhbmdlLm9ubHkoXCIwXCIpKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7bj1lLnRhcmdldC5yZXN1bHRcbn0sby5vbmVycm9yPWsodCksby5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7ZS5fZG9jQ291bnQ9bix0KG51bGwsZS5fZG9jQ291bnQpfX12YXIgTT10Lm5hbWUsUD1udWxsLFU9ITEsSj1udWxsO2UuX2RvY0NvdW50PS0xLGUuX2Jsb2JTdXBwb3J0PW51bGwsZS5fbmFtZT1NLGUudHlwZT1mdW5jdGlvbigpe3JldHVyblwiaWRiXCJ9LGUuX2lkPWEudG9Qcm9taXNlKGZ1bmN0aW9uKGUpe2UobnVsbCxQKX0pLGUuX2J1bGtEb2NzPWZ1bmN0aW9uKHQsbixvKXtkKHQsbixlLEosci5DaGFuZ2VzLG8pfSxlLl9nZXQ9ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXtuKHMse2RvYzpvLG1ldGFkYXRhOmksY3R4OmN9KX12YXIgbyxpLHMsYztpZih0PWEuY2xvbmUodCksdC5jdHgpYz10LmN0eDtlbHNle3ZhciBmPUMoSixbeSxtLF9dLFwicmVhZG9ubHlcIik7aWYoZi5lcnJvcilyZXR1cm4gbihmLmVycm9yKTtjPWYudHhufWMub2JqZWN0U3RvcmUoeSkuZ2V0KGUpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtpZihpPXgoZS50YXJnZXQucmVzdWx0KSwhaSlyZXR1cm4gcz11LmVycm9yKHUuTUlTU0lOR19ET0MsXCJtaXNzaW5nXCIpLHIoKTtpZihhLmlzRGVsZXRlZChpKSYmIXQucmV2KXJldHVybiBzPXUuZXJyb3IodS5NSVNTSU5HX0RPQyxcImRlbGV0ZWRcIikscigpO3ZhciBuPWMub2JqZWN0U3RvcmUobSksZj10LnJldnx8aS53aW5uaW5nUmV2LGw9aS5pZCtcIjo6XCIrZjtuLmluZGV4KFwiX2RvY19pZF9yZXZcIikuZ2V0KGwpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXtyZXR1cm4gbz1lLnRhcmdldC5yZXN1bHQsbyYmKG89VChvKSksbz92b2lkIHIoKToocz11LmVycm9yKHUuTUlTU0lOR19ET0MsXCJtaXNzaW5nXCIpLHIoKSl9fX0sZS5fZ2V0QXR0YWNobWVudD1mdW5jdGlvbihlLHQsbil7dmFyIHI7aWYodD1hLmNsb25lKHQpLHQuY3R4KXI9dC5jdHg7ZWxzZXt2YXIgbz1DKEosW3ksbSxfXSxcInJlYWRvbmx5XCIpO2lmKG8uZXJyb3IpcmV0dXJuIG4oby5lcnJvcik7cj1vLnR4bn12YXIgaT1lLmRpZ2VzdCxzPWUuY29udGVudF90eXBlO3Iub2JqZWN0U3RvcmUoXykuZ2V0KGkpLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgcj1lLnRhcmdldC5yZXN1bHQuYm9keTtSKHIscyx0LmVuY29kZSxmdW5jdGlvbihlKXtuKG51bGwsZSl9KX19LGUuX2FsbERvY3M9ZnVuY3Rpb24oZSx0KXtGKGZ1bmN0aW9uKG4scil7cmV0dXJuIG4/dChuKTowPT09ZS5saW1pdD90KG51bGwse3RvdGFsX3Jvd3M6cixvZmZzZXQ6ZS5za2lwLHJvd3M6W119KTp2b2lkIEIocixlLHQpfSl9LGUuX2luZm89ZnVuY3Rpb24odCl7RihmdW5jdGlvbihuLHIpe2lmKG4pcmV0dXJuIHQobik7aWYobnVsbD09PUp8fCFMW2UuX25hbWVdKXt2YXIgbz1uZXcgRXJyb3IoXCJkYiBpc24ndCBvcGVuXCIpO3JldHVybiBvLmlkPVwiaWRiTnVsbFwiLHQobyl9dmFyIGk9MCxzPUMoSixbbV0sXCJyZWFkb25seVwiKTtpZihzLmVycm9yKXJldHVybiB0KHMuZXJyb3IpO3ZhciBhPXMudHhuO2Eub2JqZWN0U3RvcmUobSkub3BlbkN1cnNvcihudWxsLFwicHJldlwiKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQucmVzdWx0O2k9dD90LmtleTowfSxhLm9uY29tcGxldGU9ZnVuY3Rpb24oKXt0KG51bGwse2RvY19jb3VudDpyLHVwZGF0ZV9zZXE6aSxpZGJfYXR0YWNobWVudF9mb3JtYXQ6ZS5fYmxvYlN1cHBvcnQ/XCJiaW5hcnlcIjpcImJhc2U2NFwifSl9fSl9LGUuX2NoYW5nZXM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlKXtmdW5jdGlvbiBuKCl7cmV0dXJuIGEuc2VxIT09cz9lW1wiY29udGludWVcIl0oKToobD1zLGEud2lubmluZ1Jldj09PWkuX3Jldj9vKGkpOnZvaWQgcigpKX1mdW5jdGlvbiByKCl7dmFyIGU9aS5faWQrXCI6OlwiK2Eud2lubmluZ1Jldix0PXYuaW5kZXgoXCJfZG9jX2lkX3JldlwiKS5vcGVuQ3Vyc29yKElEQktleVJhbmdlLmJvdW5kKGUsZStcIu+/v1wiKSk7dC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7byhUKGUudGFyZ2V0LnJlc3VsdC52YWx1ZSkpfX1mdW5jdGlvbiBvKG4pe3ZhciByPXQucHJvY2Vzc0NoYW5nZShuLGEsdCk7ci5zZXE9YS5zZXEsdyhyKSYmKEUrKyxwJiZiLnB1c2gociksdC5hdHRhY2htZW50cyYmdC5pbmNsdWRlX2RvY3M/TyhuLHQsaCxmdW5jdGlvbigpe3EoW3JdKS50aGVuKGZ1bmN0aW9uKCl7dC5vbkNoYW5nZShyKX0pfSk6dC5vbkNoYW5nZShyKSksRSE9PWQmJmVbXCJjb250aW51ZVwiXSgpfXZhciBpPVQoZS52YWx1ZSkscz1lLmtleTtpZih1JiYhdS5oYXMoaS5faWQpKXJldHVybiBlW1wiY29udGludWVcIl0oKTt2YXIgYTtyZXR1cm4oYT1TLmdldChpLl9pZCkpP24oKTp2b2lkKGcuZ2V0KGkuX2lkKS5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZSl7YT14KGUudGFyZ2V0LnJlc3VsdCksUy5zZXQoaS5faWQsYSksbigpfSl9ZnVuY3Rpb24gbyhlKXt2YXIgdD1lLnRhcmdldC5yZXN1bHQ7dCYmbih0KX1mdW5jdGlvbiBpKCl7dmFyIGU9W3ksbV07dC5hdHRhY2htZW50cyYmZS5wdXNoKF8pO3ZhciBuPUMoSixlLFwicmVhZG9ubHlcIik7aWYobi5lcnJvcilyZXR1cm4gdC5jb21wbGV0ZShuLmVycm9yKTtoPW4udHhuLGgub25lcnJvcj1rKHQuY29tcGxldGUpLGgub25jb21wbGV0ZT1zLHY9aC5vYmplY3RTdG9yZShtKSxnPWgub2JqZWN0U3RvcmUoeSk7dmFyIHI7cj1mP3Yub3BlbkN1cnNvcihudWxsLGYpOnYub3BlbkN1cnNvcihJREJLZXlSYW5nZS5sb3dlckJvdW5kKHQuc2luY2UsITApKSxyLm9uc3VjY2Vzcz1vfWZ1bmN0aW9uIHMoKXtmdW5jdGlvbiBlKCl7dC5jb21wbGV0ZShudWxsLHtyZXN1bHRzOmIsbGFzdF9zZXE6bH0pfSF0LmNvbnRpbnVvdXMmJnQuYXR0YWNobWVudHM/cShiKS50aGVuKGUpOmUoKX1pZih0PWEuY2xvbmUodCksdC5jb250aW51b3VzKXt2YXIgYz1NK1wiOlwiK2EudXVpZCgpO3JldHVybiByLkNoYW5nZXMuYWRkTGlzdGVuZXIoTSxjLGUsdCksci5DaGFuZ2VzLm5vdGlmeShNKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7ci5DaGFuZ2VzLnJlbW92ZUxpc3RlbmVyKE0sYyl9fX12YXIgdT10LmRvY19pZHMmJm5ldyBhLlNldCh0LmRvY19pZHMpLGY9dC5kZXNjZW5kaW5nP1wicHJldlwiOm51bGw7dC5zaW5jZT10LnNpbmNlfHwwO3ZhciBsPXQuc2luY2UsZD1cImxpbWl0XCJpbiB0P3QubGltaXQ6LTE7MD09PWQmJihkPTEpO3ZhciBwO3A9XCJyZXR1cm5Eb2NzXCJpbiB0P3QucmV0dXJuRG9jczohMDt2YXIgaCx2LGcsYj1bXSxFPTAsdz1hLmZpbHRlckNoYW5nZSh0KSxTPW5ldyBhLk1hcDtpKCl9LGUuX2Nsb3NlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT09Sj9lKHUuZXJyb3IodS5OT1RfT1BFTikpOihKLmNsb3NlKCksZGVsZXRlIExbTV0sSj1udWxsLHZvaWQgZSgpKX0sZS5fZ2V0UmV2aXNpb25UcmVlPWZ1bmN0aW9uKGUsdCl7dmFyIG49QyhKLFt5XSxcInJlYWRvbmx5XCIpO2lmKG4uZXJyb3IpcmV0dXJuIHQobi5lcnJvcik7dmFyIHI9bi50eG4sbz1yLm9iamVjdFN0b3JlKHkpLmdldChlKTtvLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgbj14KGUudGFyZ2V0LnJlc3VsdCk7bj90KG51bGwsbi5yZXZfdHJlZSk6dCh1LmVycm9yKHUuTUlTU0lOR19ET0MpKX19LGUuX2RvQ29tcGFjdGlvbj1mdW5jdGlvbihlLHQsbil7dmFyIHI9W3ksbSxfLHZdLG89QyhKLHIsXCJyZWFkd3JpdGVcIik7aWYoby5lcnJvcilyZXR1cm4gbihvLmVycm9yKTt2YXIgaT1vLnR4bixzPWkub2JqZWN0U3RvcmUoeSk7cy5nZXQoZSkub25zdWNjZXNzPWZ1bmN0aW9uKG4pe3ZhciByPXgobi50YXJnZXQucmVzdWx0KTtjLnRyYXZlcnNlUmV2VHJlZShyLnJldl90cmVlLGZ1bmN0aW9uKGUsbixyLG8saSl7dmFyIHM9bitcIi1cIityOy0xIT09dC5pbmRleE9mKHMpJiYoaS5zdGF0dXM9XCJtaXNzaW5nXCIpfSksUyh0LGUsaSk7dmFyIG89ci53aW5uaW5nUmV2LHM9ci5kZWxldGVkT3JMb2NhbDtpLm9iamVjdFN0b3JlKHkpLnB1dChBKHIsbyxzKSl9LGkub25lcnJvcj1rKG4pLGkub25jb21wbGV0ZT1mdW5jdGlvbigpe2EuY2FsbChuKX19LGUuX2dldExvY2FsPWZ1bmN0aW9uKGUsdCl7dmFyIG49QyhKLFtiXSxcInJlYWRvbmx5XCIpO2lmKG4uZXJyb3IpcmV0dXJuIHQobi5lcnJvcik7dmFyIHI9bi50eG4sbz1yLm9iamVjdFN0b3JlKGIpLmdldChlKTtvLm9uZXJyb3I9ayh0KSxvLm9uc3VjY2Vzcz1mdW5jdGlvbihlKXt2YXIgbj1lLnRhcmdldC5yZXN1bHQ7bj8oZGVsZXRlIG4uX2RvY19pZF9yZXYsdChudWxsLG4pKTp0KHUuZXJyb3IodS5NSVNTSU5HX0RPQykpfX0sZS5fcHV0TG9jYWw9ZnVuY3Rpb24oZSx0LG4pe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQsdD17fSksZGVsZXRlIGUuX3JldmlzaW9uczt2YXIgcj1lLl9yZXYsbz1lLl9pZDtlLl9yZXY9cj9cIjAtXCIrKHBhcnNlSW50KHIuc3BsaXQoXCItXCIpWzFdLDEwKSsxKTpcIjAtMVwiO3ZhciBpLHM9dC5jdHg7aWYoIXMpe3ZhciBhPUMoSixbYl0sXCJyZWFkd3JpdGVcIik7aWYoYS5lcnJvcilyZXR1cm4gbihhLmVycm9yKTtzPWEudHhuLHMub25lcnJvcj1rKG4pLHMub25jb21wbGV0ZT1mdW5jdGlvbigpe2kmJm4obnVsbCxpKX19dmFyIGMsZj1zLm9iamVjdFN0b3JlKGIpO3I/KGM9Zi5nZXQobyksYy5vbnN1Y2Nlc3M9ZnVuY3Rpb24obyl7dmFyIHM9by50YXJnZXQucmVzdWx0O2lmKHMmJnMuX3Jldj09PXIpe3ZhciBhPWYucHV0KGUpO2Eub25zdWNjZXNzPWZ1bmN0aW9uKCl7aT17b2s6ITAsaWQ6ZS5faWQscmV2OmUuX3Jldn0sdC5jdHgmJm4obnVsbCxpKX19ZWxzZSBuKHUuZXJyb3IodS5SRVZfQ09ORkxJQ1QpKX0pOihjPWYuYWRkKGUpLGMub25lcnJvcj1mdW5jdGlvbihlKXtuKHUuZXJyb3IodS5SRVZfQ09ORkxJQ1QpKSxlLnByZXZlbnREZWZhdWx0KCksZS5zdG9wUHJvcGFnYXRpb24oKX0sYy5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtpPXtvazohMCxpZDplLl9pZCxyZXY6ZS5fcmV2fSx0LmN0eCYmbihudWxsLGkpfSl9LGUuX3JlbW92ZUxvY2FsPWZ1bmN0aW9uKGUsdCl7dmFyIG49QyhKLFtiXSxcInJlYWR3cml0ZVwiKTtpZihuLmVycm9yKXJldHVybiB0KG4uZXJyb3IpO3ZhciByLG89bi50eG47by5vbmNvbXBsZXRlPWZ1bmN0aW9uKCl7ciYmdChudWxsLHIpfTt2YXIgaT1lLl9pZCxzPW8ub2JqZWN0U3RvcmUoYiksYT1zLmdldChpKTthLm9uZXJyb3I9ayh0KSxhLm9uc3VjY2Vzcz1mdW5jdGlvbihuKXt2YXIgbz1uLnRhcmdldC5yZXN1bHQ7byYmby5fcmV2PT09ZS5fcmV2PyhzW1wiZGVsZXRlXCJdKGkpLHI9e29rOiEwLGlkOmkscmV2OlwiMC0wXCJ9KTp0KHUuZXJyb3IodS5NSVNTSU5HX0RPQykpfX07dmFyIEg9TFtNXTtpZihIKXJldHVybiBKPUguaWRiLFA9SC5pbnN0YW5jZUlkLGUuX2Jsb2JTdXBwb3J0PUguYmxvYlN1cHBvcnQsdm9pZCBuLm5leHRUaWNrKGZ1bmN0aW9uKCl7byhudWxsLGUpfSk7dmFyIFY9aW5kZXhlZERCLm9wZW4oTSxoKTtcIm9wZW5SZXFMaXN0XCJpbiByfHwoci5vcGVuUmVxTGlzdD17fSksci5vcGVuUmVxTGlzdFtNXT1WLFYub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZT1vW3MtMV07cysrLGUmJmUocix0KX12YXIgbj1lLnRhcmdldC5yZXN1bHQ7aWYoZS5vbGRWZXJzaW9uPDEpcmV0dXJuIGkobik7dmFyIHI9ZS5jdXJyZW50VGFyZ2V0LnRyYW5zYWN0aW9uO2Uub2xkVmVyc2lvbjwzJiZsKG4pLGUub2xkVmVyc2lvbjw0JiZEKG4pO3ZhciBvPVtmLHcsSSxOXSxzPWUub2xkVmVyc2lvbjt0KCl9LFYub25zdWNjZXNzPWZ1bmN0aW9uKHQpe0o9dC50YXJnZXQucmVzdWx0LEoub252ZXJzaW9uY2hhbmdlPWZ1bmN0aW9uKCl7Si5jbG9zZSgpLGRlbGV0ZSBMW01dfSxKLm9uYWJvcnQ9ZnVuY3Rpb24oKXtKLmNsb3NlKCksZGVsZXRlIExbTV19O3ZhciBuPUoudHJhbnNhY3Rpb24oW0UsZ10sXCJyZWFkd3JpdGVcIikscj1uLm9iamVjdFN0b3JlKEUpLmdldChFKTtyLm9uc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgcj1mdW5jdGlvbigpe251bGwhPT1lLl9ibG9iU3VwcG9ydCYmVSYmKExbTV09e2lkYjpKLGluc3RhbmNlSWQ6UCxibG9iU3VwcG9ydDplLl9ibG9iU3VwcG9ydCxsb2FkZWQ6ITB9LG8obnVsbCxlKSl9LGk9dC50YXJnZXQucmVzdWx0fHx7aWQ6RX07TStcIl9pZFwiaW4gaT8oUD1pW00rXCJfaWRcIl0sVT0hMCxyKCkpOihQPWEudXVpZCgpLGlbTStcIl9pZFwiXT1QLG4ub2JqZWN0U3RvcmUoRSkucHV0KGkpLm9uc3VjY2Vzcz1mdW5jdGlvbigpe1U9ITAscigpfSksc3x8KHM9cChuLEopKSxzLnRoZW4oZnVuY3Rpb24odCl7ZS5fYmxvYlN1cHBvcnQ9dCxyKCl9KX19LFYub25lcnJvcj1rKG8pfWZ1bmN0aW9uIGkoZSx0LG4pe1wib3BlblJlcUxpc3RcImluIHJ8fChyLm9wZW5SZXFMaXN0PXt9KSxyLkNoYW5nZXMucmVtb3ZlQWxsTGlzdGVuZXJzKGUpLHIub3BlblJlcUxpc3RbZV0mJnIub3BlblJlcUxpc3RbZV0ucmVzdWx0JiYoci5vcGVuUmVxTGlzdFtlXS5yZXN1bHQuY2xvc2UoKSxkZWxldGUgTFtlXSk7dmFyIG89aW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGUpO28ub25zdWNjZXNzPWZ1bmN0aW9uKCl7ci5vcGVuUmVxTGlzdFtlXSYmKHIub3BlblJlcUxpc3RbZV09bnVsbCksYS5oYXNMb2NhbFN0b3JhZ2UoKSYmZSBpbiBsb2NhbFN0b3JhZ2UmJmRlbGV0ZSBsb2NhbFN0b3JhZ2VbZV0sbihudWxsLHtvazohMH0pfSxvLm9uZXJyb3I9ayhuKX12YXIgcyxhPWUoMzQpLGM9ZSgyOSksdT1lKDE5KSxmPWUoNiksbD1lKDUpLGQ9ZSg0KSxwPWUoMyksaD1sLkFEQVBURVJfVkVSU0lPTix2PWwuQVRUQUNIX0FORF9TRVFfU1RPUkUsXz1sLkFUVEFDSF9TVE9SRSxtPWwuQllfU0VRX1NUT1JFLGc9bC5ERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFLHk9bC5ET0NfU1RPUkUsYj1sLkxPQ0FMX1NUT1JFLEU9bC5NRVRBX1NUT1JFLHc9Zi5hcHBseU5leHQsUz1mLmNvbXBhY3RSZXZzLFQ9Zi5kZWNvZGVEb2MseD1mLmRlY29kZU1ldGFkYXRhLEE9Zi5lbmNvZGVNZXRhZGF0YSxPPWYuZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5LGs9Zi5pZGJFcnJvcixxPWYucG9zdFByb2Nlc3NBdHRhY2htZW50cyxSPWYucmVhZEJsb2JEYXRhLEQ9Zi50YXNrUXVldWUsQz1mLm9wZW5UcmFuc2FjdGlvblNhZmVseSxMPXt9O3IudmFsaWQ9ZnVuY3Rpb24oKXt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygb3BlbkRhdGFiYXNlJiYvKFNhZmFyaXxpUGhvbmV8aVBhZHxpUG9kKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmIS9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7cmV0dXJuIWUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBpbmRleGVkREImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBJREJLZXlSYW5nZX0sci5kZXN0cm95PWEudG9Qcm9taXNlKGZ1bmN0aW9uKGUsdCxuKXtELnF1ZXVlLnB1c2goe2FjdGlvbjpmdW5jdGlvbihuKXtpKGUsdCxuKX0sY2FsbGJhY2s6bn0pLHcoKX0pLHIuQ2hhbmdlcz1uZXcgYS5DaGFuZ2VzLHQuZXhwb3J0cz1yfSkuY2FsbCh0aGlzLGUoMzkpKX0se31dLDg6W2Z1bmN0aW9uKGUsdCl7dC5leHBvcnRzPVtcImlkYlwiLFwid2Vic3FsXCJdfSx7fV0sOTpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxuLHMsdixfKXtmdW5jdGlvbiBtKCl7cmV0dXJuIHE/XyhxKToodi5ub3RpZnkobi5fbmFtZSksbi5fZG9jQ291bnQ9LTEsdm9pZCBfKG51bGwsUikpfWZ1bmN0aW9uIGcoZSx0KXt2YXIgbj1cIlNFTEVDVCBjb3VudCgqKSBhcyBjbnQgRlJPTSBcIit1K1wiIFdIRVJFIGRpZ2VzdD0/XCI7ay5leGVjdXRlU3FsKG4sW2VdLGZ1bmN0aW9uKG4scil7aWYoMD09PXIucm93cy5pdGVtKDApLmNudCl7dmFyIGk9by5lcnJvcihvLk1JU1NJTkdfU1RVQixcInVua25vd24gc3R1YiBhdHRhY2htZW50IHdpdGggZGlnZXN0IFwiK2UpO3QoaSl9ZWxzZSB0KCl9KX1mdW5jdGlvbiB5KGUpe2Z1bmN0aW9uIHQoKXsrK289PT1uLmxlbmd0aCYmZShyKX12YXIgbj1bXTtpZihBLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kYXRhJiZlLmRhdGEuX2F0dGFjaG1lbnRzJiZPYmplY3Qua2V5cyhlLmRhdGEuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByPWUuZGF0YS5fYXR0YWNobWVudHNbdF07ci5zdHViJiZuLnB1c2goci5kaWdlc3QpfSl9KSwhbi5sZW5ndGgpcmV0dXJuIGUoKTt2YXIgcixvPTA7bi5mb3JFYWNoKGZ1bmN0aW9uKGUpe2coZSxmdW5jdGlvbihlKXtlJiYhciYmKHI9ZSksdCgpfSl9KX1mdW5jdGlvbiBiKGUsdCxvLGkscyx1LGgpe2Z1bmN0aW9uIHYoKXtmdW5jdGlvbiB0KGUsdCl7ZnVuY3Rpb24gcigpe3JldHVybisraT09PXMubGVuZ3RoJiZ0KCksITF9ZnVuY3Rpb24gbyh0KXt2YXIgbz1cIklOU0VSVCBJTlRPIFwiK2YrXCIgKGRpZ2VzdCwgc2VxKSBWQUxVRVMgKD8sPylcIixpPVtuLl9hdHRhY2htZW50c1t0XS5kaWdlc3QsZV07ay5leGVjdXRlU3FsKG8saSxyLHIpfXZhciBpPTAscz1PYmplY3Qua2V5cyhuLl9hdHRhY2htZW50c3x8e30pO2lmKCFzLmxlbmd0aClyZXR1cm4gdCgpO2Zvcih2YXIgYT0wO2E8cy5sZW5ndGg7YSsrKW8oc1thXSl9dmFyIG49ZS5kYXRhLHI9bz8xOjAsaT1uLl9pZCxzPW4uX3JldixhPWQobiksdT1cIklOU0VSVCBJTlRPIFwiK2MrXCIgKGRvY19pZCwgcmV2LCBqc29uLCBkZWxldGVkKSBWQUxVRVMgKD8sID8sID8sID8pO1wiLHA9W2kscyxhLHJdO2suZXhlY3V0ZVNxbCh1LHAsZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmluc2VydElkO3QocixmdW5jdGlvbigpe3koZSxyKX0pfSxmdW5jdGlvbigpe3ZhciBlPWwoXCJzZXFcIixjLG51bGwsXCJkb2NfaWQ9PyBBTkQgcmV2PT9cIik7cmV0dXJuIGsuZXhlY3V0ZVNxbChlLFtpLHNdLGZ1bmN0aW9uKGUsbil7dmFyIG89bi5yb3dzLml0ZW0oMCkuc2VxLHU9XCJVUERBVEUgXCIrYytcIiBTRVQganNvbj0/LCBkZWxldGVkPT8gV0hFUkUgZG9jX2lkPT8gQU5EIHJldj0/O1wiLGY9W2EscixpLHNdO2UuZXhlY3V0ZVNxbCh1LGYsZnVuY3Rpb24oZSl7dChvLGZ1bmN0aW9uKCl7eShlLG8pfSl9KX0pLCExfSl9ZnVuY3Rpb24gXyhlKXtifHwoZT8oYj1lLGkoYikpOkU9PT13Lmxlbmd0aCYmdigpKX1mdW5jdGlvbiBtKGUpe0UrKyxfKGUpfWZ1bmN0aW9uIGcoKXtpZihzJiZuLmF1dG9fY29tcGFjdGlvbil7dmFyIHQ9ZS5tZXRhZGF0YS5pZCxvPXIuY29tcGFjdFRyZWUoZS5tZXRhZGF0YSk7cChvLHQsayl9fWZ1bmN0aW9uIHkobixvKXtnKCksZS5tZXRhZGF0YS5zZXE9byxkZWxldGUgZS5tZXRhZGF0YS5yZXY7dmFyIHU9cz9cIlVQREFURSBcIithK1wiIFNFVCBqc29uPT8sIG1heF9zZXE9Pywgd2lubmluZ3NlcT0oU0VMRUNUIHNlcSBGUk9NIFwiK2MrXCIgV0hFUkUgZG9jX2lkPVwiK2ErXCIuaWQgQU5EIHJldj0/KSBXSEVSRSBpZD0/XCI6XCJJTlNFUlQgSU5UTyBcIithK1wiIChpZCwgd2lubmluZ3NlcSwgbWF4X3NlcSwganNvbikgVkFMVUVTICg/LD8sPyw/KTtcIixmPXIuc2FmZUpzb25TdHJpbmdpZnkoZS5tZXRhZGF0YSksbD1lLm1ldGFkYXRhLmlkLGQ9cz9bZixvLHQsbF06W2wsbyxvLGZdO24uZXhlY3V0ZVNxbCh1LGQsZnVuY3Rpb24oKXtSW2hdPXtvazohMCxpZDplLm1ldGFkYXRhLmlkLHJldjp0fSxELnNldChsLGUubWV0YWRhdGEpLGkoKX0pfXZhciBiPW51bGwsRT0wO2UuZGF0YS5faWQ9ZS5tZXRhZGF0YS5pZCxlLmRhdGEuX3Jldj1lLm1ldGFkYXRhLnJldjt2YXIgdz1PYmplY3Qua2V5cyhlLmRhdGEuX2F0dGFjaG1lbnRzfHx7fSk7byYmKGUuZGF0YS5fZGVsZXRlZD0hMCksdy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPWUuZGF0YS5fYXR0YWNobWVudHNbdF07aWYobi5zdHViKUUrKyxfKCk7ZWxzZXt2YXIgcj1uLmRhdGE7ZGVsZXRlIG4uZGF0YTt2YXIgbz1uLmRpZ2VzdDtTKG8scixtKX19KSx3Lmxlbmd0aHx8digpfWZ1bmN0aW9uIEUoKXtyLnByb2Nlc3NEb2NzKEEsbixELGssUixiLHQpfWZ1bmN0aW9uIHcoZSl7ZnVuY3Rpb24gdCgpeysrbj09PUEubGVuZ3RoJiZlKCl9aWYoIUEubGVuZ3RoKXJldHVybiBlKCk7dmFyIG49MDtBLmZvckVhY2goZnVuY3Rpb24oZSl7aWYoZS5faWQmJnIuaXNMb2NhbElkKGUuX2lkKSlyZXR1cm4gdCgpO3ZhciBuPWUubWV0YWRhdGEuaWQ7ay5leGVjdXRlU3FsKFwiU0VMRUNUIGpzb24gRlJPTSBcIithK1wiIFdIRVJFIGlkID0gP1wiLFtuXSxmdW5jdGlvbihlLG8pe2lmKG8ucm93cy5sZW5ndGgpe3ZhciBpPXIuc2FmZUpzb25QYXJzZShvLnJvd3MuaXRlbSgwKS5qc29uKTtELnNldChuLGkpfXQoKX0pfSl9ZnVuY3Rpb24gUyhlLHQsbil7dmFyIHI9XCJTRUxFQ1QgZGlnZXN0IEZST00gXCIrdStcIiBXSEVSRSBkaWdlc3Q9P1wiO2suZXhlY3V0ZVNxbChyLFtlXSxmdW5jdGlvbihvLHMpe3JldHVybiBzLnJvd3MubGVuZ3RoP24oKToocj1cIklOU0VSVCBJTlRPIFwiK3UrXCIgKGRpZ2VzdCwgYm9keSwgZXNjYXBlZCkgVkFMVUVTICg/LD8sMSlcIix2b2lkIG8uZXhlY3V0ZVNxbChyLFtlLGkuZXNjYXBlQmxvYih0KV0sZnVuY3Rpb24oKXtuKCl9LGZ1bmN0aW9uKCl7cmV0dXJuIG4oKSwhMX0pKX0pfXZhciBUPXQubmV3X2VkaXRzLHg9ZS5kb2NzLEE9eC5tYXAoZnVuY3Rpb24oZSl7aWYoZS5faWQmJnIuaXNMb2NhbElkKGUuX2lkKSlyZXR1cm4gZTt2YXIgdD1yLnBhcnNlRG9jKGUsVCk7cmV0dXJuIHR9KSxPPUEuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmVycm9yfSk7aWYoTy5sZW5ndGgpcmV0dXJuIF8oT1swXSk7dmFyIGsscSxSPW5ldyBBcnJheShBLmxlbmd0aCksRD1uZXcgci5NYXA7ci5wcmVwcm9jZXNzQXR0YWNobWVudHMoQSxcImJpbmFyeVwiLGZ1bmN0aW9uKGUpe3JldHVybiBlP18oZSk6dm9pZCBzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGUpe2s9ZSx5KGZ1bmN0aW9uKGUpe2U/cT1lOncoRSl9KX0saChfKSxtKX0pfXZhciByPWUoMzQpLG89ZSgxOSksaT1lKDExKSxzPWUoMTApLGE9cy5ET0NfU1RPUkUsYz1zLkJZX1NFUV9TVE9SRSx1PXMuQVRUQUNIX1NUT1JFLGY9cy5BVFRBQ0hfQU5EX1NFUV9TVE9SRSxsPWkuc2VsZWN0LGQ9aS5zdHJpbmdpZnlEb2MscD1pLmNvbXBhY3RSZXZzLGg9aS51bmtub3duRXJyb3I7dC5leHBvcnRzPW59LHt9XSwxMDpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuXCInXCIrZStcIidcIn1uLkFEQVBURVJfVkVSU0lPTj03LG4uRE9DX1NUT1JFPXIoXCJkb2N1bWVudC1zdG9yZVwiKSxuLkJZX1NFUV9TVE9SRT1yKFwiYnktc2VxdWVuY2VcIiksbi5BVFRBQ0hfU1RPUkU9cihcImF0dGFjaC1zdG9yZVwiKSxuLkxPQ0FMX1NUT1JFPXIoXCJsb2NhbC1zdG9yZVwiKSxuLk1FVEFfU1RPUkU9cihcIm1ldGFkYXRhLXN0b3JlXCIpLG4uQVRUQUNIX0FORF9TRVFfU1RPUkU9cihcImF0dGFjaC1zZXEtc3RvcmVcIil9LHt9XSwxMTpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcdTAwMDIvZyxcIlx1MDAwMlx1MDAwMlwiKS5yZXBsYWNlKC9cXHUwMDAxL2csXCJcdTAwMDFcdTAwMDJcIikucmVwbGFjZSgvXFx1MDAwMC9nLFwiXHUwMDAxXHUwMDAxXCIpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGUucmVwbGFjZSgvXFx1MDAwMVxcdTAwMDEvZyxcIlxceDAwXCIpLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAyL2csXCJcdTAwMDFcIikucmVwbGFjZSgvXFx1MDAwMlxcdTAwMDIvZyxcIlx1MDAwMlwiKX1mdW5jdGlvbiBvKGUpe3JldHVybiBkZWxldGUgZS5faWQsZGVsZXRlIGUuX3JldixKU09OLnN0cmluZ2lmeShlKX1mdW5jdGlvbiBpKGUsdCxuKXtyZXR1cm4gZT1KU09OLnBhcnNlKGUpLGUuX2lkPXQsZS5fcmV2PW4sZX1mdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD1cIihcIjtlLS07KXQrPVwiP1wiLGUmJih0Kz1cIixcIik7cmV0dXJuIHQrXCIpXCJ9ZnVuY3Rpb24gYShlLHQsbixyLG8pe3JldHVyblwiU0VMRUNUIFwiK2UrXCIgRlJPTSBcIisoXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LmpvaW4oXCIgSk9JTiBcIikpKyhuP1wiIE9OIFwiK246XCJcIikrKHI/XCIgV0hFUkUgXCIrKFwic3RyaW5nXCI9PXR5cGVvZiByP3I6ci5qb2luKFwiIEFORCBcIikpOlwiXCIpKyhvP1wiIE9SREVSIEJZIFwiK286XCJcIil9ZnVuY3Rpb24gYyhlLHQsbil7ZnVuY3Rpb24gcigpeysraT09PWUubGVuZ3RoJiZvKCl9ZnVuY3Rpb24gbygpe2lmKGEubGVuZ3RoKXt2YXIgZT1cIlNFTEVDVCBESVNUSU5DVCBkaWdlc3QgQVMgZGlnZXN0IEZST00gXCIrZytcIiBXSEVSRSBzZXEgSU4gXCIrcyhhLmxlbmd0aCk7bi5leGVjdXRlU3FsKGUsYSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPTA7cjx0LnJvd3MubGVuZ3RoO3IrKyluLnB1c2godC5yb3dzLml0ZW0ocikuZGlnZXN0KTtpZihuLmxlbmd0aCl7dmFyIG89XCJERUxFVEUgRlJPTSBcIitnK1wiIFdIRVJFIHNlcSBJTiAoXCIrYS5tYXAoZnVuY3Rpb24oKXtyZXR1cm5cIj9cIn0pLmpvaW4oXCIsXCIpK1wiKVwiO2UuZXhlY3V0ZVNxbChvLGEsZnVuY3Rpb24oZSl7dmFyIHQ9XCJTRUxFQ1QgZGlnZXN0IEZST00gXCIrZytcIiBXSEVSRSBkaWdlc3QgSU4gKFwiK24ubWFwKGZ1bmN0aW9uKCl7cmV0dXJuXCI/XCJ9KS5qb2luKFwiLFwiKStcIilcIjtlLmV4ZWN1dGVTcWwodCxuLGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPW5ldyBwLlNldCxvPTA7bzx0LnJvd3MubGVuZ3RoO28rKylyLmFkZCh0LnJvd3MuaXRlbShvKS5kaWdlc3QpO24uZm9yRWFjaChmdW5jdGlvbih0KXtyLmhhcyh0KXx8KGUuZXhlY3V0ZVNxbChcIkRFTEVURSBGUk9NIFwiK2crXCIgV0hFUkUgZGlnZXN0PT9cIixbdF0pLGUuZXhlY3V0ZVNxbChcIkRFTEVURSBGUk9NIFwiK20rXCIgV0hFUkUgZGlnZXN0PT9cIixbdF0pKX0pfSl9KX19KX19aWYoZS5sZW5ndGgpe3ZhciBpPTAsYT1bXTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG89XCJTRUxFQ1Qgc2VxIEZST00gXCIrXytcIiBXSEVSRSBkb2NfaWQ9PyBBTkQgcmV2PT9cIjtuLmV4ZWN1dGVTcWwobyxbdCxlXSxmdW5jdGlvbihlLHQpe2lmKCF0LnJvd3MubGVuZ3RoKXJldHVybiByKCk7dmFyIG49dC5yb3dzLml0ZW0oMCkuc2VxO2EucHVzaChuKSxlLmV4ZWN1dGVTcWwoXCJERUxFVEUgRlJPTSBcIitfK1wiIFdIRVJFIHNlcT0/XCIsW25dLHIpfSl9KX19ZnVuY3Rpb24gdShlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dCYmdC5jb25zdHJ1Y3Rvci50b1N0cmluZygpLm1hdGNoKC9mdW5jdGlvbiAoW15cXChdKykvKSxyPW4mJm5bMV18fHQudHlwZSxvPXQudGFyZ2V0fHx0Lm1lc3NhZ2U7ZShoLmVycm9yKGguV1NRX0VSUk9SLG8scikpfX1mdW5jdGlvbiBmKGUpe2lmKFwic2l6ZVwiaW4gZSlyZXR1cm4gMWU2KmUuc2l6ZTt2YXIgdD0vQW5kcm9pZC8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7cmV0dXJuIHQ/NWU2OjF9ZnVuY3Rpb24gbChlLHQsbixyKXt2YXIgbz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc3FsaXRlUGx1Z2luJiZzcWxpdGVQbHVnaW4ub3BlbkRhdGFiYXNlJiZzcWxpdGVQbHVnaW4ub3BlbkRhdGFiYXNlLmJpbmQoc3FsaXRlUGx1Z2luKSxpPW98fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBvcGVuRGF0YWJhc2UmJm9wZW5EYXRhYmFzZSxzPXlbZV07cmV0dXJuIHN8fChzPXlbZV09aShlLHQsbixyKSxzLl9zcWxpdGVQbHVnaW49ISFvKSxzfWZ1bmN0aW9uIGQoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2Ygb3BlbkRhdGFiYXNlfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgU1FMaXRlUGx1Z2lufXZhciBwPWUoMzQpLGg9ZSgxOSksdj1lKDEwKSxfPXYuQllfU0VRX1NUT1JFLG09di5BVFRBQ0hfU1RPUkUsZz12LkFUVEFDSF9BTkRfU0VRX1NUT1JFLHk9e307dC5leHBvcnRzPXtlc2NhcGVCbG9iOm4sdW5lc2NhcGVCbG9iOnIsc3RyaW5naWZ5RG9jOm8sdW5zdHJpbmdpZnlEb2M6aSxxTWFya3M6cyxzZWxlY3Q6YSxjb21wYWN0UmV2czpjLHVua25vd25FcnJvcjp1LGdldFNpemU6ZixvcGVuREI6bCx2YWxpZDpkfX0se31dLDEyOltmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LG4scixpKXtmdW5jdGlvbiBzKCl7Kyt1PT09Yy5sZW5ndGgmJmkmJmkoKX1mdW5jdGlvbiBhKGUsdCl7dmFyIGk9ZS5fYXR0YWNobWVudHNbdF0sYT17ZW5jb2RlOiEwLGN0eDpyfTtuLl9nZXRBdHRhY2htZW50KGksYSxmdW5jdGlvbihuLHIpe2UuX2F0dGFjaG1lbnRzW3RdPW8uZXh0ZW5kKG8ucGljayhpLFtcImRpZ2VzdFwiLFwiY29udGVudF90eXBlXCJdKSx7ZGF0YTpyfSkscygpfSl9dmFyIGM9T2JqZWN0LmtleXMoZS5fYXR0YWNobWVudHN8fHt9KTtpZighYy5sZW5ndGgpcmV0dXJuIGkmJmkoKTt2YXIgdT0wO2MuZm9yRWFjaChmdW5jdGlvbihuKXt0LmF0dGFjaG1lbnRzJiZ0LmluY2x1ZGVfZG9jcz9hKGUsbik6KGUuX2F0dGFjaG1lbnRzW25dLnN0dWI9ITAscygpKX0pfWZ1bmN0aW9uIHIoZSx0KXtmdW5jdGlvbiBjKCl7by5oYXNMb2NhbFN0b3JhZ2UoKSYmKHdpbmRvdy5sb2NhbFN0b3JhZ2VbXCJfcG91Y2hfX3dlYnNxbGRiX1wiK0suX25hbWVdPSEwKSx0KG51bGwsSyl9ZnVuY3Rpb24gSShlLHQpe2UuZXhlY3V0ZVNxbChxKSxlLmV4ZWN1dGVTcWwoXCJBTFRFUiBUQUJMRSBcIitwK1wiIEFERCBDT0xVTU4gZGVsZXRlZCBUSU5ZSU5UKDEpIERFRkFVTFQgMFwiLFtdLGZ1bmN0aW9uKCl7ZS5leGVjdXRlU3FsKE8pLGUuZXhlY3V0ZVNxbChcIkFMVEVSIFRBQkxFIFwiK2QrXCIgQUREIENPTFVNTiBsb2NhbCBUSU5ZSU5UKDEpIERFRkFVTFQgMFwiLFtdLGZ1bmN0aW9uKCl7ZS5leGVjdXRlU3FsKFwiQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgJ2RvYy1zdG9yZS1sb2NhbC1pZHgnIE9OIFwiK2QrXCIgKGxvY2FsLCBpZClcIik7dmFyIG49XCJTRUxFQ1QgXCIrZCtcIi53aW5uaW5nc2VxIEFTIHNlcSwgXCIrZCtcIi5qc29uIEFTIG1ldGFkYXRhIEZST00gXCIrcCtcIiBKT0lOIFwiK2QrXCIgT04gXCIrcCtcIi5zZXEgPSBcIitkK1wiLndpbm5pbmdzZXFcIjtlLmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbihlLG4pe2Zvcih2YXIgcj1bXSxpPVtdLHM9MDtzPG4ucm93cy5sZW5ndGg7cysrKXt2YXIgYT1uLnJvd3MuaXRlbShzKSxjPWEuc2VxLHU9SlNPTi5wYXJzZShhLm1ldGFkYXRhKTtvLmlzRGVsZXRlZCh1KSYmci5wdXNoKGMpLG8uaXNMb2NhbElkKHUuaWQpJiZpLnB1c2godS5pZCl9ZS5leGVjdXRlU3FsKFwiVVBEQVRFIFwiK2QrXCJTRVQgbG9jYWwgPSAxIFdIRVJFIGlkIElOIFwiK2coaS5sZW5ndGgpLGksZnVuY3Rpb24oKXtlLmV4ZWN1dGVTcWwoXCJVUERBVEUgXCIrcCtcIiBTRVQgZGVsZXRlZCA9IDEgV0hFUkUgc2VxIElOIFwiK2coci5sZW5ndGgpLHIsdCl9KX0pfSl9KX1mdW5jdGlvbiBOKGUsdCl7dmFyIG49XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIit2K1wiIChpZCBVTklRVUUsIHJldiwganNvbilcIjtlLmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbigpe3ZhciBuPVwiU0VMRUNUIFwiK2QrXCIuaWQgQVMgaWQsIFwiK3ArXCIuanNvbiBBUyBkYXRhIEZST00gXCIrcCtcIiBKT0lOIFwiK2QrXCIgT04gXCIrcCtcIi5zZXEgPSBcIitkK1wiLndpbm5pbmdzZXEgV0hFUkUgbG9jYWwgPSAxXCI7ZS5leGVjdXRlU3FsKG4sW10sZnVuY3Rpb24oZSxuKXtmdW5jdGlvbiByKCl7aWYoIW8ubGVuZ3RoKXJldHVybiB0KGUpO3ZhciBuPW8uc2hpZnQoKSxpPUpTT04ucGFyc2Uobi5kYXRhKS5fcmV2O2UuZXhlY3V0ZVNxbChcIklOU0VSVCBJTlRPIFwiK3YrXCIgKGlkLCByZXYsIGpzb24pIFZBTFVFUyAoPyw/LD8pXCIsW24uaWQsaSxuLmRhdGFdLGZ1bmN0aW9uKGUpe2UuZXhlY3V0ZVNxbChcIkRFTEVURSBGUk9NIFwiK2QrXCIgV0hFUkUgaWQ9P1wiLFtuLmlkXSxmdW5jdGlvbihlKXtlLmV4ZWN1dGVTcWwoXCJERUxFVEUgRlJPTSBcIitwK1wiIFdIRVJFIHNlcT0/XCIsW24uc2VxXSxmdW5jdGlvbigpe3IoKX0pfSl9KX1mb3IodmFyIG89W10saT0wO2k8bi5yb3dzLmxlbmd0aDtpKyspby5wdXNoKG4ucm93cy5pdGVtKGkpKTtyKCl9KX0pfWZ1bmN0aW9uIGooZSx0KXtmdW5jdGlvbiBuKG4pe2Z1bmN0aW9uIHIoKXtpZighbi5sZW5ndGgpcmV0dXJuIHQoZSk7dmFyIG89bi5zaGlmdCgpLGk9YShvLmhleCxXKSxzPWkubGFzdEluZGV4T2YoXCI6OlwiKSxjPWkuc3Vic3RyaW5nKDAscyksdT1pLnN1YnN0cmluZyhzKzIpLGY9XCJVUERBVEUgXCIrcCtcIiBTRVQgZG9jX2lkPT8sIHJldj0/IFdIRVJFIGRvY19pZF9yZXY9P1wiO2UuZXhlY3V0ZVNxbChmLFtjLHUsaV0sZnVuY3Rpb24oKXtyKCl9KX1yKCl9dmFyIHI9XCJBTFRFUiBUQUJMRSBcIitwK1wiIEFERCBDT0xVTU4gZG9jX2lkXCI7ZS5leGVjdXRlU3FsKHIsW10sZnVuY3Rpb24oZSl7dmFyIHQ9XCJBTFRFUiBUQUJMRSBcIitwK1wiIEFERCBDT0xVTU4gcmV2XCI7ZS5leGVjdXRlU3FsKHQsW10sZnVuY3Rpb24oZSl7ZS5leGVjdXRlU3FsKGssW10sZnVuY3Rpb24oZSl7dmFyIHQ9XCJTRUxFQ1QgaGV4KGRvY19pZF9yZXYpIGFzIGhleCBGUk9NIFwiK3A7ZS5leGVjdXRlU3FsKHQsW10sZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbz0wO288dC5yb3dzLmxlbmd0aDtvKyspci5wdXNoKHQucm93cy5pdGVtKG8pKTtuKHIpfSl9KX0pfSl9ZnVuY3Rpb24gQihlLHQpe2Z1bmN0aW9uIG4oZSl7dmFyIG49XCJTRUxFQ1QgQ09VTlQoKikgQVMgY250IEZST00gXCIraDtlLmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIHIoKXt2YXIgbj1FKEwrXCIsIFwiK2QrXCIuaWQgQVMgaWRcIixbZCxwXSxDLG51bGwsZCtcIi5pZCBcIik7bis9XCIgTElNSVQgXCIrcytcIiBPRkZTRVQgXCIraSxpKz1zLGUuZXhlY3V0ZVNxbChuLFtdLGZ1bmN0aW9uKGUsbil7ZnVuY3Rpb24gbyhlLHQpe3ZhciBuPWlbZV09aVtlXXx8W107LTE9PT1uLmluZGV4T2YodCkmJm4ucHVzaCh0KX1pZighbi5yb3dzLmxlbmd0aClyZXR1cm4gdChlKTtmb3IodmFyIGk9e30scz0wO3M8bi5yb3dzLmxlbmd0aDtzKyspZm9yKHZhciBhPW4ucm93cy5pdGVtKHMpLGM9YihhLmRhdGEsYS5pZCxhLnJldiksdT1PYmplY3Qua2V5cyhjLl9hdHRhY2htZW50c3x8e30pLGY9MDtmPHUubGVuZ3RoO2YrKyl7dmFyIGw9Yy5fYXR0YWNobWVudHNbdVtmXV07byhsLmRpZ2VzdCxhLnNlcSl9dmFyIGQ9W107aWYoT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1pW2VdO3QuZm9yRWFjaChmdW5jdGlvbih0KXtkLnB1c2goW2UsdF0pfSl9KSwhZC5sZW5ndGgpcmV0dXJuIHIoKTt2YXIgcD0wO2QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbj1cIklOU0VSVCBJTlRPIFwiK20rXCIgKGRpZ2VzdCwgc2VxKSBWQUxVRVMgKD8sPylcIjtlLmV4ZWN1dGVTcWwobix0LGZ1bmN0aW9uKCl7KytwPT09ZC5sZW5ndGgmJnIoKX0pfSl9KX12YXIgbz1uLnJvd3MuaXRlbSgwKS5jbnQ7aWYoIW8pcmV0dXJuIHQoZSk7dmFyIGk9MCxzPTEwO3IoKX0pfXZhciByPVwiQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgXCIrbStcIiAoZGlnZXN0LCBzZXEgSU5URUdFUilcIjtlLmV4ZWN1dGVTcWwocixbXSxmdW5jdGlvbihlKXtlLmV4ZWN1dGVTcWwoRCxbXSxmdW5jdGlvbihlKXtlLmV4ZWN1dGVTcWwoUixbXSxuKX0pfSl9ZnVuY3Rpb24gRihlLHQpe3ZhciBuPVwiQUxURVIgVEFCTEUgXCIraCtcIiBBREQgQ09MVU1OIGVzY2FwZWQgVElOWUlOVCgxKSBERUZBVUxUIDBcIjtlLmV4ZWN1dGVTcWwobixbXSx0KX1mdW5jdGlvbiBNKGUsdCl7dmFyIG49XCJBTFRFUiBUQUJMRSBcIitkK1wiIEFERCBDT0xVTU4gbWF4X3NlcSBJTlRFR0VSXCI7ZS5leGVjdXRlU3FsKG4sW10sZnVuY3Rpb24oZSl7dmFyIG49XCJVUERBVEUgXCIrZCtcIiBTRVQgbWF4X3NlcT0oU0VMRUNUIE1BWChzZXEpIEZST00gXCIrcCtcIiBXSEVSRSBkb2NfaWQ9aWQpXCI7ZS5leGVjdXRlU3FsKG4sW10sZnVuY3Rpb24oZSl7dmFyIG49XCJDUkVBVEUgVU5JUVVFIElOREVYIElGIE5PVCBFWElTVFMgJ2RvYy1tYXgtc2VxLWlkeCcgT04gXCIrZCtcIiAobWF4X3NlcSlcIjtlLmV4ZWN1dGVTcWwobixbXSx0KX0pfSl9ZnVuY3Rpb24gUChlLHQpe2UuZXhlY3V0ZVNxbCgnU0VMRUNUIEhFWChcImFcIikgQVMgaGV4JyxbXSxmdW5jdGlvbihlLG4pe3ZhciByPW4ucm93cy5pdGVtKDApLmhleDtXPTI9PT1yLmxlbmd0aD9cIlVURi04XCI6XCJVVEYtMTZcIix0KCl9KX1mdW5jdGlvbiBVKCl7Zm9yKDtYLmxlbmd0aD4wOyl7dmFyIGU9WC5wb3AoKTtlKG51bGwsUSl9fWZ1bmN0aW9uIEooZSx0KXtpZigwPT09dCl7dmFyIG49XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIitfK1wiIChkYmlkLCBkYl92ZXJzaW9uIElOVEVHRVIpXCIscj1cIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFwiK2grXCIgKGRpZ2VzdCBVTklRVUUsIGVzY2FwZWQgVElOWUlOVCgxKSwgYm9keSBCTE9CKVwiLGk9XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIittK1wiIChkaWdlc3QsIHNlcSBJTlRFR0VSKVwiLHM9XCJDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcIitkK1wiIChpZCB1bmlxdWUsIGpzb24sIHdpbm5pbmdzZXEsIG1heF9zZXEgSU5URUdFUiBVTklRVUUpXCIsYT1cIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFwiK3ArXCIgKHNlcSBJTlRFR0VSIE5PVCBOVUxMIFBSSU1BUlkgS0VZIEFVVE9JTkNSRU1FTlQsIGpzb24sIGRlbGV0ZWQgVElOWUlOVCgxKSwgZG9jX2lkLCByZXYpXCIsYz1cIkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIFwiK3YrXCIgKGlkIFVOSVFVRSwgcmV2LCBqc29uKVwiO2UuZXhlY3V0ZVNxbChyKSxlLmV4ZWN1dGVTcWwoYyksZS5leGVjdXRlU3FsKGksW10sZnVuY3Rpb24oKXtlLmV4ZWN1dGVTcWwoUiksZS5leGVjdXRlU3FsKEQpfSksZS5leGVjdXRlU3FsKHMsW10sZnVuY3Rpb24oKXtlLmV4ZWN1dGVTcWwocSksZS5leGVjdXRlU3FsKGEsW10sZnVuY3Rpb24oKXtlLmV4ZWN1dGVTcWwoTyksZS5leGVjdXRlU3FsKGspLGUuZXhlY3V0ZVNxbChuLFtdLGZ1bmN0aW9uKCl7dmFyIHQ9XCJJTlNFUlQgSU5UTyBcIitfK1wiIChkYl92ZXJzaW9uLCBkYmlkKSBWQUxVRVMgKD8sPylcIjtRPW8udXVpZCgpO3ZhciBuPVtsLFFdO2UuZXhlY3V0ZVNxbCh0LG4sZnVuY3Rpb24oKXtVKCl9KX0pfSl9KX1lbHNle3ZhciB1PWZ1bmN0aW9uKCl7dmFyIG49bD50O24mJmUuZXhlY3V0ZVNxbChcIlVQREFURSBcIitfK1wiIFNFVCBkYl92ZXJzaW9uID0gXCIrbCk7dmFyIHI9XCJTRUxFQ1QgZGJpZCBGUk9NIFwiK187ZS5leGVjdXRlU3FsKHIsW10sZnVuY3Rpb24oZSx0KXtRPXQucm93cy5pdGVtKDApLmRiaWQsVSgpfSl9LGY9W0ksTixqLEIsRixNLHVdLGc9dCx5PWZ1bmN0aW9uKGUpe2ZbZy0xXShlLHkpLGcrK307eShlKX19ZnVuY3Rpb24gSCgpe1kudHJhbnNhY3Rpb24oZnVuY3Rpb24oZSl7UChlLGZ1bmN0aW9uKCl7VihlKX0pfSxTKHQpLGMpfWZ1bmN0aW9uIFYoZSl7dmFyIHQ9XCJTRUxFQ1Qgc3FsIEZST00gc3FsaXRlX21hc3RlciBXSEVSRSB0YmxfbmFtZSA9IFwiK187ZS5leGVjdXRlU3FsKHQsW10sZnVuY3Rpb24oZSx0KXt0LnJvd3MubGVuZ3RoPy9kYl92ZXJzaW9uLy50ZXN0KHQucm93cy5pdGVtKDApLnNxbCk/ZS5leGVjdXRlU3FsKFwiU0VMRUNUIGRiX3ZlcnNpb24gRlJPTSBcIitfLFtdLGZ1bmN0aW9uKGUsdCl7dmFyIG49dC5yb3dzLml0ZW0oMCkuZGJfdmVyc2lvbjtKKGUsbil9KTplLmV4ZWN1dGVTcWwoXCJBTFRFUiBUQUJMRSBcIitfK1wiIEFERCBDT0xVTU4gZGJfdmVyc2lvbiBJTlRFR0VSXCIsW10sZnVuY3Rpb24oKXtKKGUsMSl9KTpKKGUsMCl9KX1mdW5jdGlvbiBHKGUsdCl7aWYoLTEhPT1LLl9kb2NDb3VudClyZXR1cm4gdChLLl9kb2NDb3VudCk7dmFyIG49RShcIkNPVU5UKFwiK2QrXCIuaWQpIEFTICdudW0nXCIsW2QscF0sQyxwK1wiLmRlbGV0ZWQ9MFwiKTtlLmV4ZWN1dGVTcWwobixbXSxmdW5jdGlvbihlLG4pe0suX2RvY0NvdW50PW4ucm93cy5pdGVtKDApLm51bSx0KEsuX2RvY0NvdW50KX0pfXZhciBXLEs9dGhpcyxRPW51bGwsej1UKGUpLFg9W107Sy5fZG9jQ291bnQ9LTEsSy5fbmFtZT1lLm5hbWU7dmFyIFk9eChLLl9uYW1lLEEsSy5fbmFtZSx6KTtyZXR1cm4gWT8oXCJmdW5jdGlvblwiIT10eXBlb2YgWS5yZWFkVHJhbnNhY3Rpb24mJihZLnJlYWRUcmFuc2FjdGlvbj1ZLnRyYW5zYWN0aW9uKSxvLmlzQ29yZG92YSgpP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKEsuX25hbWUrXCJfcG91Y2hcIixmdW5jdGlvbiAkKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoSy5fbmFtZStcIl9wb3VjaFwiLCQsITEpLEgoKX0sITEpOkgoKSxLLnR5cGU9ZnVuY3Rpb24oKXtyZXR1cm5cIndlYnNxbFwifSxLLl9pZD1vLnRvUHJvbWlzZShmdW5jdGlvbihlKXtlKG51bGwsUSl9KSxLLl9pbmZvPWZ1bmN0aW9uKGUpe1kucmVhZFRyYW5zYWN0aW9uKGZ1bmN0aW9uKHQpe0codCxmdW5jdGlvbihuKXt2YXIgcj1cIlNFTEVDVCBNQVgoc2VxKSBBUyBzZXEgRlJPTSBcIitwO3QuZXhlY3V0ZVNxbChyLFtdLGZ1bmN0aW9uKHQscil7dmFyIG89ci5yb3dzLml0ZW0oMCkuc2VxfHwwO2UobnVsbCx7ZG9jX2NvdW50Om4sdXBkYXRlX3NlcTpvLHNxbGl0ZV9wbHVnaW46WS5fc3FsaXRlUGx1Z2luLHdlYnNxbF9lbmNvZGluZzpXfSl9KX0pfSxTKGUpKX0sSy5fYnVsa0RvY3M9ZnVuY3Rpb24oZSx0LG4pe2YoZSx0LEssWSxyLkNoYW5nZXMsbil9LEsuX2dldD1mdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe24oYyx7ZG9jOmksbWV0YWRhdGE6YSxjdHg6bH0pfXQ9by5jbG9uZSh0KTt2YXIgaSxhLGM7aWYoIXQuY3R4KXJldHVybiB2b2lkIFkucmVhZFRyYW5zYWN0aW9uKGZ1bmN0aW9uKHIpe3QuY3R4PXIsSy5fZ2V0KGUsdCxuKX0pO3ZhciB1LGYsbD10LmN0eDt0LnJldj8odT1FKEwsW2QscF0sZCtcIi5pZD1cIitwK1wiLmRvY19pZFwiLFtwK1wiLmRvY19pZD0/XCIscCtcIi5yZXY9P1wiXSksZj1bZSx0LnJldl0pOih1PUUoTCxbZCxwXSxDLGQrXCIuaWQ9P1wiKSxmPVtlXSksbC5leGVjdXRlU3FsKHUsZixmdW5jdGlvbihlLG4pe2lmKCFuLnJvd3MubGVuZ3RoKXJldHVybiBjPXMuZXJyb3Iocy5NSVNTSU5HX0RPQyxcIm1pc3NpbmdcIikscigpO3ZhciB1PW4ucm93cy5pdGVtKDApO3JldHVybiBhPW8uc2FmZUpzb25QYXJzZSh1Lm1ldGFkYXRhKSx1LmRlbGV0ZWQmJiF0LnJldj8oYz1zLmVycm9yKHMuTUlTU0lOR19ET0MsXCJkZWxldGVkXCIpLHIoKSk6KGk9Yih1LmRhdGEsYS5pZCx1LnJldiksdm9pZCByKCkpfSl9LEsuX2FsbERvY3M9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPVtdLGE9XCJzdGFydGtleVwiaW4gZT9lLnN0YXJ0a2V5OiExLGM9XCJlbmRrZXlcImluIGU/ZS5lbmRrZXk6ITEsdT1cImtleVwiaW4gZT9lLmtleTohMSxmPVwiZGVzY2VuZGluZ1wiaW4gZT9lLmRlc2NlbmRpbmc6ITEsbD1cImxpbWl0XCJpbiBlP2UubGltaXQ6LTEsaD1cInNraXBcImluIGU/ZS5za2lwOjAsdj1lLmluY2x1c2l2ZV9lbmQhPT0hMSxfPVtdLG09W107aWYodSE9PSExKW0ucHVzaChkK1wiLmlkID0gP1wiKSxfLnB1c2godSk7ZWxzZSBpZihhIT09ITF8fGMhPT0hMSl7aWYoYSE9PSExJiYobS5wdXNoKGQrXCIuaWQgXCIrKGY/XCI8PVwiOlwiPj1cIikrXCIgP1wiKSxfLnB1c2goYSkpLGMhPT0hMSl7dmFyIGc9Zj9cIj5cIjpcIjxcIjt2JiYoZys9XCI9XCIpLG0ucHVzaChkK1wiLmlkIFwiK2crXCIgP1wiKSxfLnB1c2goYyl9dSE9PSExJiYobS5wdXNoKGQrXCIuaWQgPSA/XCIpLF8ucHVzaCh1KSl9XCJva1wiIT09ZS5kZWxldGVkJiZtLnB1c2gocCtcIi5kZWxldGVkID0gMFwiKSxZLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbih0KXtHKHQsZnVuY3Rpb24oYSl7aWYocj1hLDAhPT1sKXt2YXIgYz1FKEwsW2QscF0sQyxtLGQrXCIuaWQgXCIrKGY/XCJERVNDXCI6XCJBU0NcIikpO2MrPVwiIExJTUlUIFwiK2wrXCIgT0ZGU0VUIFwiK2gsdC5leGVjdXRlU3FsKGMsXyxmdW5jdGlvbih0LHIpe2Zvcih2YXIgYT0wLGM9ci5yb3dzLmxlbmd0aDtjPmE7YSsrKXt2YXIgdT1yLnJvd3MuaXRlbShhKSxmPW8uc2FmZUpzb25QYXJzZSh1Lm1ldGFkYXRhKSxsPWYuaWQsZD1iKHUuZGF0YSxsLHUucmV2KSxwPWQuX3JldixoPXtpZDpsLGtleTpsLHZhbHVlOntyZXY6cH19O2lmKGUuaW5jbHVkZV9kb2NzJiYoaC5kb2M9ZCxoLmRvYy5fcmV2PXAsZS5jb25mbGljdHMmJihoLmRvYy5fY29uZmxpY3RzPWkuY29sbGVjdENvbmZsaWN0cyhmKSksbihoLmRvYyxlLEssdCkpLHUuZGVsZXRlZCl7aWYoXCJva1wiIT09ZS5kZWxldGVkKWNvbnRpbnVlO2gudmFsdWUuZGVsZXRlZD0hMCxoLmRvYz1udWxsfXMucHVzaChoKX19KX19KX0sUyh0KSxmdW5jdGlvbigpe3QobnVsbCx7dG90YWxfcm93czpyLG9mZnNldDplLnNraXAscm93czpzfSl9KX0sSy5fY2hhbmdlcz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZCtcIi5qc29uIEFTIG1ldGFkYXRhLCBcIitkK1wiLm1heF9zZXEgQVMgbWF4U2VxLCBcIitwK1wiLmpzb24gQVMgd2lubmluZ0RvYywgXCIrcCtcIi5yZXYgQVMgd2lubmluZ1JldiBcIixyPWQrXCIgSk9JTiBcIitwLGk9ZCtcIi5pZD1cIitwK1wiLmRvY19pZCBBTkQgXCIrZCtcIi53aW5uaW5nc2VxPVwiK3ArXCIuc2VxXCIsbD1bXCJtYXhTZXEgPiA/XCJdLGg9W2Uuc2luY2VdO2UuZG9jX2lkcyYmKGwucHVzaChkK1wiLmlkIElOIFwiK2coZS5kb2NfaWRzLmxlbmd0aCkpLGg9aC5jb25jYXQoZS5kb2NfaWRzKSk7dmFyIHY9XCJtYXhTZXEgXCIrKHM/XCJERVNDXCI6XCJBU0NcIiksXz1FKHQscixpLGwsdiksbT1vLmZpbHRlckNoYW5nZShlKTtlLnZpZXd8fGUuZmlsdGVyfHwoXys9XCIgTElNSVQgXCIrYSk7dmFyIHk9ZS5zaW5jZXx8MDtZLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbih0KXt0LmV4ZWN1dGVTcWwoXyxoLGZ1bmN0aW9uKHQscil7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZnVuY3Rpb24oKXtlLm9uQ2hhbmdlKHQpfX1mb3IodmFyIHM9MCxsPXIucm93cy5sZW5ndGg7bD5zO3MrKyl7dmFyIGQ9ci5yb3dzLml0ZW0ocykscD1vLnNhZmVKc29uUGFyc2UoZC5tZXRhZGF0YSk7eT1kLm1heFNlcTt2YXIgaD1iKGQud2lubmluZ0RvYyxwLmlkLGQud2lubmluZ1Jldiksdj1lLnByb2Nlc3NDaGFuZ2UoaCxwLGUpO2lmKHYuc2VxPWQubWF4U2VxLG0odikmJihmKyssYyYmdS5wdXNoKHYpLGUuYXR0YWNobWVudHMmJmUuaW5jbHVkZV9kb2NzP24oaCxlLEssdCxpKHYpKTppKHYpKCkpLGY9PT1hKWJyZWFrfX0pfSxTKGUuY29tcGxldGUpLGZ1bmN0aW9uKCl7ZS5jb250aW51b3VzfHxlLmNvbXBsZXRlKG51bGwse3Jlc3VsdHM6dSxsYXN0X3NlcTp5fSl9KX1pZihlPW8uY2xvbmUoZSksZS5jb250aW51b3VzKXt2YXIgaT1LLl9uYW1lK1wiOlwiK28udXVpZCgpO3JldHVybiByLkNoYW5nZXMuYWRkTGlzdGVuZXIoSy5fbmFtZSxpLEssZSksci5DaGFuZ2VzLm5vdGlmeShLLl9uYW1lKSx7Y2FuY2VsOmZ1bmN0aW9uKCl7ci5DaGFuZ2VzLnJlbW92ZUxpc3RlbmVyKEsuX25hbWUsaSl9fX12YXIgcz1lLmRlc2NlbmRpbmc7ZS5zaW5jZT1lLnNpbmNlJiYhcz9lLnNpbmNlOjA7dmFyIGE9XCJsaW1pdFwiaW4gZT9lLmxpbWl0Oi0xOzA9PT1hJiYoYT0xKTt2YXIgYztjPVwicmV0dXJuRG9jc1wiaW4gZT9lLnJldHVybkRvY3M6ITA7dmFyIHU9W10sZj0wO3QoKX0sSy5fY2xvc2U9ZnVuY3Rpb24oZSl7ZSgpfSxLLl9nZXRBdHRhY2htZW50PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPXQuY3R4LHM9ZS5kaWdlc3QsYz1lLmNvbnRlbnRfdHlwZSxmPVwiU0VMRUNUIGVzY2FwZWQsIENBU0UgV0hFTiBlc2NhcGVkID0gMSBUSEVOIGJvZHkgRUxTRSBIRVgoYm9keSkgRU5EIEFTIGJvZHkgRlJPTSBcIitoK1wiIFdIRVJFIGRpZ2VzdD0/XCI7aS5leGVjdXRlU3FsKGYsW3NdLGZ1bmN0aW9uKGUsaSl7dmFyIHM9aS5yb3dzLml0ZW0oMCksZj1zLmVzY2FwZWQ/dS51bmVzY2FwZUJsb2Iocy5ib2R5KTphKHMuYm9keSxXKTt0LmVuY29kZT9yPWJ0b2EoZik6KGY9by5maXhCaW5hcnkoZikscj1vLmNyZWF0ZUJsb2IoW2ZdLHt0eXBlOmN9KSksbihudWxsLHIpfSl9LEsuX2dldFJldmlzaW9uVHJlZT1mdW5jdGlvbihlLHQpe1kucmVhZFRyYW5zYWN0aW9uKGZ1bmN0aW9uKG4pe3ZhciByPVwiU0VMRUNUIGpzb24gQVMgbWV0YWRhdGEgRlJPTSBcIitkK1wiIFdIRVJFIGlkID0gP1wiO24uZXhlY3V0ZVNxbChyLFtlXSxmdW5jdGlvbihlLG4pe2lmKG4ucm93cy5sZW5ndGgpe3ZhciByPW8uc2FmZUpzb25QYXJzZShuLnJvd3MuaXRlbSgwKS5tZXRhZGF0YSk7dChudWxsLHIucmV2X3RyZWUpfWVsc2UgdChzLmVycm9yKHMuTUlTU0lOR19ET0MpKX0pfSl9LEsuX2RvQ29tcGFjdGlvbj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQubGVuZ3RoP3ZvaWQgWS50cmFuc2FjdGlvbihmdW5jdGlvbihuKXt2YXIgcj1cIlNFTEVDVCBqc29uIEFTIG1ldGFkYXRhIEZST00gXCIrZCtcIiBXSEVSRSBpZCA9ID9cIjtuLmV4ZWN1dGVTcWwocixbZV0sZnVuY3Rpb24obixyKXt2YXIgcz1vLnNhZmVKc29uUGFyc2Uoci5yb3dzLml0ZW0oMCkubWV0YWRhdGEpO2kudHJhdmVyc2VSZXZUcmVlKHMucmV2X3RyZWUsZnVuY3Rpb24oZSxuLHIsbyxpKXt2YXIgcz1uK1wiLVwiK3I7LTEhPT10LmluZGV4T2YocykmJihpLnN0YXR1cz1cIm1pc3NpbmdcIil9KTt2YXIgYT1cIlVQREFURSBcIitkK1wiIFNFVCBqc29uID0gPyBXSEVSRSBpZCA9ID9cIjtuLmV4ZWN1dGVTcWwoYSxbby5zYWZlSnNvblN0cmluZ2lmeShzKSxlXSl9KSx3KHQsZSxuKX0sUyhuKSxmdW5jdGlvbigpe24oKX0pOm4oKX0sSy5fZ2V0TG9jYWw9ZnVuY3Rpb24oZSx0KXtZLnJlYWRUcmFuc2FjdGlvbihmdW5jdGlvbihuKXt2YXIgcj1cIlNFTEVDVCBqc29uLCByZXYgRlJPTSBcIit2K1wiIFdIRVJFIGlkPT9cIjtuLmV4ZWN1dGVTcWwocixbZV0sZnVuY3Rpb24obixyKXtpZihyLnJvd3MubGVuZ3RoKXt2YXIgbz1yLnJvd3MuaXRlbSgwKSxpPWIoby5qc29uLGUsby5yZXYpO3QobnVsbCxpKX1lbHNlIHQocy5lcnJvcihzLk1JU1NJTkdfRE9DKSl9KX0pfSxLLl9wdXRMb2NhbD1mdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihlKXt2YXIgcixmO2k/KHI9XCJVUERBVEUgXCIrditcIiBTRVQgcmV2PT8sIGpzb249PyBXSEVSRSBpZD0/IEFORCByZXY9P1wiLGY9W28sdSxhLGldKToocj1cIklOU0VSVCBJTlRPIFwiK3YrXCIgKGlkLCByZXYsIGpzb24pIFZBTFVFUyAoPyw/LD8pXCIsZj1bYSxvLHVdKSxlLmV4ZWN1dGVTcWwocixmLGZ1bmN0aW9uKGUscil7ci5yb3dzQWZmZWN0ZWQ/KGM9e29rOiEwLGlkOmEscmV2Om99LHQuY3R4JiZuKG51bGwsYykpOm4ocy5lcnJvcihzLlJFVl9DT05GTElDVCkpfSxmdW5jdGlvbigpe3JldHVybiBuKHMuZXJyb3Iocy5SRVZfQ09ORkxJQ1QpKSwhMX0pfVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQsdD17fSksZGVsZXRlIGUuX3JldmlzaW9uczt2YXIgbyxpPWUuX3JldixhPWUuX2lkO289ZS5fcmV2PWk/XCIwLVwiKyhwYXJzZUludChpLnNwbGl0KFwiLVwiKVsxXSwxMCkrMSk6XCIwLTFcIjt2YXIgYyx1PXkoZSk7dC5jdHg/cih0LmN0eCk6WS50cmFuc2FjdGlvbihmdW5jdGlvbihlKXtyKGUpfSxTKG4pLGZ1bmN0aW9uKCl7YyYmbihudWxsLGMpfSl9LHZvaWQoSy5fcmVtb3ZlTG9jYWw9ZnVuY3Rpb24oZSx0KXt2YXIgbjtZLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKHIpe3ZhciBvPVwiREVMRVRFIEZST00gXCIrditcIiBXSEVSRSBpZD0/IEFORCByZXY9P1wiLGk9W2UuX2lkLGUuX3Jldl07ci5leGVjdXRlU3FsKG8saSxmdW5jdGlvbihyLG8pe3JldHVybiBvLnJvd3NBZmZlY3RlZD92b2lkKG49e29rOiEwLGlkOmUuX2lkLHJldjpcIjAtMFwifSk6dChzLmVycm9yKHMuTUlTU0lOR19ET0MpKX0pfSxTKHQpLGZ1bmN0aW9uKCl7biYmdChudWxsLG4pfSl9KSk6dChzLmVycm9yKHMuVU5LTk9XTl9FUlJPUikpfXZhciBvPWUoMzQpLGk9ZSgyOSkscz1lKDE5KSxhPWUoMjIpLGM9ZSgxMCksdT1lKDExKSxmPWUoOSksbD1jLkFEQVBURVJfVkVSU0lPTixkPWMuRE9DX1NUT1JFLHA9Yy5CWV9TRVFfU1RPUkUsaD1jLkFUVEFDSF9TVE9SRSx2PWMuTE9DQUxfU1RPUkUsXz1jLk1FVEFfU1RPUkUsbT1jLkFUVEFDSF9BTkRfU0VRX1NUT1JFLGc9dS5xTWFya3MseT11LnN0cmluZ2lmeURvYyxiPXUudW5zdHJpbmdpZnlEb2MsRT11LnNlbGVjdCx3PXUuY29tcGFjdFJldnMsUz11LnVua25vd25FcnJvcixUPXUuZ2V0U2l6ZSx4PXUub3BlbkRCLEE9MSxPPVwiQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgJ2J5LXNlcS1kZWxldGVkLWlkeCcgT04gXCIrcCtcIiAoc2VxLCBkZWxldGVkKVwiLGs9XCJDUkVBVEUgVU5JUVVFIElOREVYIElGIE5PVCBFWElTVFMgJ2J5LXNlcS1kb2MtaWQtcmV2JyBPTiBcIitwK1wiIChkb2NfaWQsIHJldilcIixxPVwiQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgJ2RvYy13aW5uaW5nc2VxLWlkeCcgT04gXCIrZCtcIiAod2lubmluZ3NlcSlcIixSPVwiQ1JFQVRFIElOREVYIElGIE5PVCBFWElTVFMgJ2F0dGFjaC1zZXEtc2VxLWlkeCcgT04gXCIrbStcIiAoc2VxKVwiLEQ9XCJDUkVBVEUgVU5JUVVFIElOREVYIElGIE5PVCBFWElTVFMgJ2F0dGFjaC1zZXEtZGlnZXN0LWlkeCcgT04gXCIrbStcIiAoZGlnZXN0LCBzZXEpXCIsQz1wK1wiLnNlcSA9IFwiK2QrXCIud2lubmluZ3NlcVwiLEw9cCtcIi5zZXEgQVMgc2VxLCBcIitwK1wiLmRlbGV0ZWQgQVMgZGVsZXRlZCwgXCIrcCtcIi5qc29uIEFTIGRhdGEsIFwiK3ArXCIucmV2IEFTIHJldiwgXCIrZCtcIi5qc29uIEFTIG1ldGFkYXRhXCI7ci52YWxpZD11LnZhbGlkLHIuZGVzdHJveT1vLnRvUHJvbWlzZShmdW5jdGlvbihlLHQsbil7ci5DaGFuZ2VzLnJlbW92ZUFsbExpc3RlbmVycyhlKTt2YXIgaT1UKHQpLHM9eChlLEEsZSxpKTtzLnRyYW5zYWN0aW9uKGZ1bmN0aW9uKGUpe3ZhciB0PVtkLHAsaCxfLHYsbV07dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuZXhlY3V0ZVNxbChcIkRST1AgVEFCTEUgSUYgRVhJU1RTIFwiK3QsW10pfSl9LFMobiksZnVuY3Rpb24oKXtvLmhhc0xvY2FsU3RvcmFnZSgpJiYoZGVsZXRlIHdpbmRvdy5sb2NhbFN0b3JhZ2VbXCJfcG91Y2hfX3dlYnNxbGRiX1wiK2VdLGRlbGV0ZSB3aW5kb3cubG9jYWxTdG9yYWdlW2VdKSxuKG51bGwse29rOiEwfSl9KX0pLHIuQ2hhbmdlcz1uZXcgby5DaGFuZ2VzLHQuZXhwb3J0cz1yfSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQsbil7ZnVuY3Rpb24gcigpe2kuY2FuY2VsKCl9YS5jYWxsKHRoaXMpO3ZhciBpPXRoaXM7dGhpcy5kYj1lLHQ9dD9vLmNsb25lKHQpOnt9O3ZhciBzPW58fHQuY29tcGxldGV8fGZ1bmN0aW9uKCl7fSxjPXQuY29tcGxldGU9by5vbmNlKGZ1bmN0aW9uKHQsbil7dD9pLmVtaXQoXCJlcnJvclwiLHQpOmkuZW1pdChcImNvbXBsZXRlXCIsbiksaS5yZW1vdmVBbGxMaXN0ZW5lcnMoKSxlLnJlbW92ZUxpc3RlbmVyKFwiZGVzdHJveWVkXCIscil9KTtzJiYoaS5vbihcImNvbXBsZXRlXCIsZnVuY3Rpb24oZSl7cyhudWxsLGUpfSksaS5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7cyhlKX0pKTt2YXIgdT10Lm9uQ2hhbmdlO3UmJmkub24oXCJjaGFuZ2VcIix1KSxlLm9uY2UoXCJkZXN0cm95ZWRcIixyKSx0Lm9uQ2hhbmdlPWZ1bmN0aW9uKGUpe3QuaXNDYW5jZWxsZWR8fChpLmVtaXQoXCJjaGFuZ2VcIixlKSxpLnN0YXJ0U2VxJiZpLnN0YXJ0U2VxPD1lLnNlcSYmKGkuZW1pdChcInVwdG9kYXRlXCIpLGkuc3RhcnRTZXE9ITEpLGUuZGVsZXRlZD9pLmVtaXQoXCJkZWxldGVcIixlKToxPT09ZS5jaGFuZ2VzLmxlbmd0aCYmXCIxLVwiPT09ZS5jaGFuZ2VzWzBdLnJldi5zbGljZSgwLDIpP2kuZW1pdChcImNyZWF0ZVwiLGUpOmkuZW1pdChcInVwZGF0ZVwiLGUpKX07dmFyIGY9bmV3IG8uUHJvbWlzZShmdW5jdGlvbihlLG4pe3QuY29tcGxldGU9ZnVuY3Rpb24odCxyKXt0P24odCk6ZShyKX19KTtpLm9uY2UoXCJjYW5jZWxcIixmdW5jdGlvbigpe3UmJmkucmVtb3ZlTGlzdGVuZXIoXCJjaGFuZ2VcIix1KSx0LmNvbXBsZXRlKG51bGwse3N0YXR1czpcImNhbmNlbGxlZFwifSl9KSx0aGlzLnRoZW49Zi50aGVuLmJpbmQoZiksdGhpc1tcImNhdGNoXCJdPWZbXCJjYXRjaFwiXS5iaW5kKGYpLHRoaXMudGhlbihmdW5jdGlvbihlKXtjKG51bGwsZSl9LGMpLGUudGFza3F1ZXVlLmlzUmVhZHk/aS5kb0NoYW5nZXModCk6ZS50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbigpe2kuaXNDYW5jZWxsZWQ/aS5lbWl0KFwiY2FuY2VsXCIpOmkuZG9DaGFuZ2VzKHQpfSl9ZnVuY3Rpb24gcihlLHQsbil7dmFyIHI9W3tyZXY6ZS5fcmV2fV07XCJhbGxfZG9jc1wiPT09bi5zdHlsZSYmKHI9aS5jb2xsZWN0TGVhdmVzKHQucmV2X3RyZWUpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57cmV2OmUucmV2fX0pKTt2YXIgcz17aWQ6dC5pZCxjaGFuZ2VzOnIsZG9jOmV9O3JldHVybiBvLmlzRGVsZXRlZCh0LGUuX3JldikmJihzLmRlbGV0ZWQ9ITApLG4uY29uZmxpY3RzJiYocy5kb2MuX2NvbmZsaWN0cz1pLmNvbGxlY3RDb25mbGljdHModCkscy5kb2MuX2NvbmZsaWN0cy5sZW5ndGh8fGRlbGV0ZSBzLmRvYy5fY29uZmxpY3RzKSxzfXZhciBvPWUoMzQpLGk9ZSgyOSkscz1lKDE5KSxhPWUoMzgpLkV2ZW50RW1pdHRlcixjPWUoMjcpLHU9ZSgyOCk7dC5leHBvcnRzPW4sby5pbmhlcml0cyhuLGEpLG4ucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuaXNDYW5jZWxsZWQ9ITAsdGhpcy5kYi50YXNrcXVldWUuaXNSZWFkeSYmdGhpcy5lbWl0KFwiY2FuY2VsXCIpfSxuLnByb3RvdHlwZS5kb0NoYW5nZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPWUuY29tcGxldGU7aWYoZT1vLmNsb25lKGUpLFwibGl2ZVwiaW4gZSYmIShcImNvbnRpbnVvdXNcImluIGUpJiYoZS5jb250aW51b3VzPWUubGl2ZSksZS5wcm9jZXNzQ2hhbmdlPXIsXCJsYXRlc3RcIj09PWUuc2luY2UmJihlLnNpbmNlPVwibm93XCIpLGUuc2luY2V8fChlLnNpbmNlPTApLFwibm93XCI9PT1lLnNpbmNlKXJldHVybiB2b2lkIHRoaXMuZGIuaW5mbygpLnRoZW4oZnVuY3Rpb24ocil7cmV0dXJuIHQuaXNDYW5jZWxsZWQ/dm9pZCBuKG51bGwse3N0YXR1czpcImNhbmNlbGxlZFwifSk6KGUuc2luY2U9ci51cGRhdGVfc2VxLHZvaWQgdC5kb0NoYW5nZXMoZSkpfSxuKTtpZihlLmNvbnRpbnVvdXMmJlwibm93XCIhPT1lLnNpbmNlJiZ0aGlzLmRiLmluZm8oKS50aGVuKGZ1bmN0aW9uKGUpe3Quc3RhcnRTZXE9ZS51cGRhdGVfc2VxfSxmdW5jdGlvbihlKXtpZihcImlkYk51bGxcIiE9PWUuaWQpdGhyb3cgZX0pLFwiaHR0cFwiIT09dGhpcy5kYi50eXBlKCkmJmUuZmlsdGVyJiZcInN0cmluZ1wiPT10eXBlb2YgZS5maWx0ZXImJiFlLmRvY19pZHMpcmV0dXJuIHRoaXMuZmlsdGVyQ2hhbmdlcyhlKTtcImRlc2NlbmRpbmdcImluIGV8fChlLmRlc2NlbmRpbmc9ITEpLGUubGltaXQ9MD09PWUubGltaXQ/MTplLmxpbWl0LGUuY29tcGxldGU9bjt2YXIgaT10aGlzLmRiLl9jaGFuZ2VzKGUpO2lmKGkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkuY2FuY2VsKXt2YXIgcz10LmNhbmNlbDt0LmNhbmNlbD1vLmdldEFyZ3VtZW50cyhmdW5jdGlvbihlKXtpLmNhbmNlbCgpLHMuYXBwbHkodGhpcyxlKX0pfX0sbi5wcm90b3R5cGUuZmlsdGVyQ2hhbmdlcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ZS5jb21wbGV0ZTtpZihcIl92aWV3XCI9PT1lLmZpbHRlcil7aWYoIWUudmlld3x8XCJzdHJpbmdcIiE9dHlwZW9mIGUudmlldyl7dmFyIHI9cy5lcnJvcihzLkJBRF9SRVFVRVNULFwiYHZpZXdgIGZpbHRlciBwYXJhbWV0ZXIgaXMgbm90IHByb3ZpZGVkLlwiKTtyZXR1cm4gdm9pZCBuKHIpfXZhciBvPWUudmlldy5zcGxpdChcIi9cIik7dGhpcy5kYi5nZXQoXCJfZGVzaWduL1wiK29bMF0sZnVuY3Rpb24ocixpKXtpZih0LmlzQ2FuY2VsbGVkKXJldHVybiB2b2lkIG4obnVsbCx7c3RhdHVzOlwiY2FuY2VsbGVkXCJ9KTtpZihyKXJldHVybiB2b2lkIG4ocy5nZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHIpKTtpZihpJiZpLnZpZXdzJiZpLnZpZXdzW29bMV1dKXt2YXIgYT11KGkudmlld3Nbb1sxXV0ubWFwKTtyZXR1cm4gZS5maWx0ZXI9YSx2b2lkIHQuZG9DaGFuZ2VzKGUpfXZhciBjPWkudmlld3M/XCJtaXNzaW5nIGpzb24ga2V5OiBcIitvWzFdOlwibWlzc2luZyBqc29uIGtleTogdmlld3NcIjtyfHwocj1zLmVycm9yKHMuTUlTU0lOR19ET0MsYykpLG4ocil9KX1lbHNle3ZhciBpPWUuZmlsdGVyLnNwbGl0KFwiL1wiKTt0aGlzLmRiLmdldChcIl9kZXNpZ24vXCIraVswXSxmdW5jdGlvbihyLG8pe2lmKHQuaXNDYW5jZWxsZWQpcmV0dXJuIHZvaWQgbihudWxsLHtzdGF0dXM6XCJjYW5jZWxsZWRcIn0pO2lmKHIpcmV0dXJuIHZvaWQgbihzLmdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocikpO2lmKG8mJm8uZmlsdGVycyYmby5maWx0ZXJzW2lbMV1dKXt2YXIgYT1jKG8uZmlsdGVyc1tpWzFdXSk7cmV0dXJuIGUuZmlsdGVyPWEsdm9pZCB0LmRvQ2hhbmdlcyhlKX12YXIgdT1vJiZvLmZpbHRlcnM/XCJtaXNzaW5nIGpzb24ga2V5OiBcIitpWzFdOlwibWlzc2luZyBqc29uIGtleTogZmlsdGVyc1wiO3JldHVybiByfHwocj1zLmVycm9yKHMuTUlTU0lOR19ET0MsdSkpLHZvaWQgbihyKX0pfX19LHt9XSwxNDpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxuLHIpe3JldHVybiBlLmdldCh0KVtcImNhdGNoXCJdKGZ1bmN0aW9uKG4pe2lmKDQwND09PW4uc3RhdHVzKXJldHVyblwiaHR0cFwiPT09ZS50eXBlKCkmJm8uZXhwbGFpbjQwNChcIlBvdWNoREIgaXMganVzdCBjaGVja2luZyBpZiBhIHJlbW90ZSBjaGVja3BvaW50IGV4aXN0cy5cIikse19pZDp0fTt0aHJvdyBufSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gci5jYW5jZWxsZWQ/dm9pZCAwOih0Lmxhc3Rfc2VxPW4sZS5wdXQodCkpfSl9ZnVuY3Rpb24gcihlLHQsbixyKXt0aGlzLnNyYz1lLHRoaXMudGFyZ2V0PXQsdGhpcy5pZD1uLHRoaXMucmV0dXJuVmFsdWU9cn12YXIgbz1lKDM0KSxpPWUoNjIpLHM9aS5jb2xsYXRlO3IucHJvdG90eXBlLndyaXRlQ2hlY2twb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnVwZGF0ZVRhcmdldChlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHQudXBkYXRlU291cmNlKGUpfSl9LHIucHJvdG90eXBlLnVwZGF0ZVRhcmdldD1mdW5jdGlvbihlKXtyZXR1cm4gbih0aGlzLnRhcmdldCx0aGlzLmlkLGUsdGhpcy5yZXR1cm5WYWx1ZSl9LHIucHJvdG90eXBlLnVwZGF0ZVNvdXJjZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiB0aGlzLnJlYWRPbmx5U291cmNlP28uUHJvbWlzZS5yZXNvbHZlKCEwKTpuKHRoaXMuc3JjLHRoaXMuaWQsZSx0aGlzLnJldHVyblZhbHVlKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe3ZhciBuPVwibnVtYmVyXCI9PXR5cGVvZiBlLnN0YXR1cyYmND09PU1hdGguZmxvb3IoZS5zdGF0dXMvMTAwKTtpZihuKXJldHVybiB0LnJlYWRPbmx5U291cmNlPSEwLCEwO3Rocm93IGV9KX0sci5wcm90b3R5cGUuZ2V0Q2hlY2twb2ludD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuIGUudGFyZ2V0LmdldChlLmlkKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLnNyYy5nZXQoZS5pZCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gMD09PXModC5sYXN0X3NlcSxlLmxhc3Rfc2VxKT9lLmxhc3Rfc2VxOjB9LGZ1bmN0aW9uKG4pe2lmKDQwND09PW4uc3RhdHVzJiZ0Lmxhc3Rfc2VxKXJldHVybiBlLnNyYy5wdXQoe19pZDplLmlkLGxhc3Rfc2VxOjB9KS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIDB9LGZ1bmN0aW9uKG4pe3JldHVybiA0MDE9PT1uLnN0YXR1cz8oZS5yZWFkT25seVNvdXJjZT0hMCx0Lmxhc3Rfc2VxKTowfSk7dGhyb3cgbn0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXtpZig0MDQhPT1lLnN0YXR1cyl0aHJvdyBlO3JldHVybiAwfSl9LHQuZXhwb3J0cz1yfSx7fV0sMTU6W2Z1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKG4scil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbyhlKXtlJiZyLmRlYnVnJiZjb25zb2xlLmVycm9yKGUpfWZ1bmN0aW9uIGkoZSx0LHIpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaShlLHQscik7dmFyIGY9dGhpczsoXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIHQpJiYocj10LHQ9e30pLGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgciYmKHI9byksdD10fHx7fSx0aGlzLl9fb3B0cz10O3ZhciBsPXI7Zi5hdXRvX2NvbXBhY3Rpb249dC5hdXRvX2NvbXBhY3Rpb24sZi5wcmVmaXg9aS5wcmVmaXgscy5jYWxsKGYpLGYudGFza3F1ZXVlPW5ldyBjO3ZhciBkPW5ldyB1KGZ1bmN0aW9uKG8scyl7cj1mdW5jdGlvbihlLHQpe3JldHVybiBlP3MoZSk6KGRlbGV0ZSB0LnRoZW4sdm9pZCBvKHQpKX0sdD1hLmNsb25lKHQpO3ZhciBjLHUsbD10Lm5hbWV8fGU7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e2lmKFwic3RyaW5nXCIhPXR5cGVvZiBsKXRocm93IHU9bmV3IEVycm9yKFwiTWlzc2luZy9pbnZhbGlkIERCIG5hbWVcIiksdS5jb2RlPTQwMCx1O2lmKGM9aS5wYXJzZUFkYXB0ZXIobCx0KSx0Lm9yaWdpbmFsTmFtZT1sLHQubmFtZT1jLm5hbWUsdC5wcmVmaXgmJlwiaHR0cFwiIT09Yy5hZGFwdGVyJiZcImh0dHBzXCIhPT1jLmFkYXB0ZXImJih0Lm5hbWU9dC5wcmVmaXgrdC5uYW1lKSx0LmFkYXB0ZXI9dC5hZGFwdGVyfHxjLmFkYXB0ZXIsZi5fYWRhcHRlcj10LmFkYXB0ZXIsZi5fZGJfbmFtZT1sLCFpLmFkYXB0ZXJzW3QuYWRhcHRlcl0pdGhyb3cgdT1uZXcgRXJyb3IoXCJBZGFwdGVyIGlzIG1pc3NpbmdcIiksdS5jb2RlPTQwNCx1O1xuaWYoIWkuYWRhcHRlcnNbdC5hZGFwdGVyXS52YWxpZCgpKXRocm93IHU9bmV3IEVycm9yKFwiSW52YWxpZCBBZGFwdGVyXCIpLHUuY29kZT00MDQsdX1jYXRjaChlKXtmLnRhc2txdWV1ZS5mYWlsKGUpLGYuY2hhbmdlcz1hLnRvUHJvbWlzZShmdW5jdGlvbih0KXt0LmNvbXBsZXRlJiZ0LmNvbXBsZXRlKGUpfSl9fSgpLHU/cyh1KTooZi5hZGFwdGVyPXQuYWRhcHRlcixmLnJlcGxpY2F0ZT17fSxmLnJlcGxpY2F0ZS5mcm9tPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZi5jb25zdHJ1Y3Rvci5yZXBsaWNhdGUoZSxmLHQsbil9LGYucmVwbGljYXRlLnRvPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZi5jb25zdHJ1Y3Rvci5yZXBsaWNhdGUoZixlLHQsbil9LGYuc3luYz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGYuY29uc3RydWN0b3Iuc3luYyhmLGUsdCxuKX0sZi5yZXBsaWNhdGUuc3luYz1mLnN5bmMsZi5kZXN0cm95PWEuYWRhcHRlckZ1bihcImRlc3Ryb3lcIixmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5fX29wdHN8fHt9O3QuaW5mbyhmdW5jdGlvbihyLG8pe3JldHVybiByP2Uocik6KG4uaW50ZXJuYWw9ITAsdm9pZCB0LmNvbnN0cnVjdG9yLmRlc3Ryb3koby5kYl9uYW1lLG4sZSkpfSl9KSxpLmFkYXB0ZXJzW3QuYWRhcHRlcl0uY2FsbChmLHQsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihlKXtcImRlc3Ryb3llZFwiPT09ZSYmKGYuZW1pdChcImRlc3Ryb3llZFwiKSxpLnJlbW92ZUxpc3RlbmVyKGwsbikpfXJldHVybiBlP3ZvaWQociYmKGYudGFza3F1ZXVlLmZhaWwoZSkscihlKSkpOihpLm9uKGwsbiksZi5lbWl0KFwiY3JlYXRlZFwiLGYpLGkuZW1pdChcImNyZWF0ZWRcIix0Lm9yaWdpbmFsTmFtZSksZi50YXNrcXVldWUucmVhZHkoZiksdm9pZCByKG51bGwsZikpfSksdC5za2lwU2V0dXAmJihmLnRhc2txdWV1ZS5yZWFkeShmKSxuLm5leHRUaWNrKGZ1bmN0aW9uKCl7cihudWxsLGYpfSkpLHZvaWQoYS5pc0NvcmRvdmEoKSYmY29yZG92YS5maXJlV2luZG93RXZlbnQodC5uYW1lK1wiX3BvdWNoXCIse30pKSl9KTtkLnRoZW4oZnVuY3Rpb24oZSl7bChudWxsLGUpfSxsKSxmLnRoZW49ZC50aGVuLmJpbmQoZCksZltcImNhdGNoXCJdPWRbXCJjYXRjaFwiXS5iaW5kKGQpfXZhciBzPWUoMSksYT1lKDM0KSxjPWUoMzMpLHU9YS5Qcm9taXNlO2EuaW5oZXJpdHMoaSxzKSxpLmRlYnVnPWUoNDApLHQuZXhwb3J0cz1pfSkuY2FsbCh0aGlzLGUoMzkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMTY6W2Z1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXtmdW5jdGlvbiByKHQsbixyKXtpZihlLmJpbmFyeXx8ZS5qc29ufHwhZS5wcm9jZXNzRGF0YXx8XCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKCFlLmJpbmFyeSYmZS5qc29uJiZcInN0cmluZ1wiPT10eXBlb2YgdCl0cnl7dD1KU09OLnBhcnNlKHQpfWNhdGNoKG8pe3JldHVybiByKG8pfX1lbHNlIHQ9SlNPTi5zdHJpbmdpZnkodCk7QXJyYXkuaXNBcnJheSh0KSYmKHQ9dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXJyb3J8fGUubWlzc2luZz9zLmdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZSk6ZX0pKSxyKG51bGwsdCxuKX1mdW5jdGlvbiBjKGUsdCl7dmFyIG4scjtpZihlLmNvZGUmJmUuc3RhdHVzKXt2YXIgbz1uZXcgRXJyb3IoZS5tZXNzYWdlfHxlLmNvZGUpO3JldHVybiBvLnN0YXR1cz1lLnN0YXR1cyx0KG8pfXRyeXtuPUpTT04ucGFyc2UoZS5yZXNwb25zZVRleHQpLHI9cy5nZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKG4pfWNhdGNoKGkpe3I9cy5nZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGUpfXQocil9ZnVuY3Rpb24gdSgpe3JldHVybiBuLmJyb3dzZXI/XCJcIjpuZXcgaShcIlwiLFwiYmluYXJ5XCIpfXZhciBmPSExLGw9YS5nZXRBcmd1bWVudHMoZnVuY3Rpb24oZSl7Znx8KHQuYXBwbHkodGhpcyxlKSxmPSEwKX0pO1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJihsPWUsZT17fSksZT1hLmNsb25lKGUpO3ZhciBkPXttZXRob2Q6XCJHRVRcIixoZWFkZXJzOnt9LGpzb246ITAscHJvY2Vzc0RhdGE6ITAsdGltZW91dDoxZTQsY2FjaGU6ITF9O3JldHVybiBlPWEuZXh0ZW5kKCEwLGQsZSksZS5qc29uJiYoZS5iaW5hcnl8fChlLmhlYWRlcnMuQWNjZXB0PVwiYXBwbGljYXRpb24vanNvblwiKSxlLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09ZS5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdfHxcImFwcGxpY2F0aW9uL2pzb25cIiksZS5iaW5hcnkmJihlLmVuY29kaW5nPW51bGwsZS5qc29uPSExKSxlLnByb2Nlc3NEYXRhfHwoZS5qc29uPSExKSxvKGUsZnVuY3Rpb24odCxuLG8pe2lmKHQpcmV0dXJuIHQuc3RhdHVzPW4/bi5zdGF0dXNDb2RlOjQwMCxjKHQsbCk7dmFyIGksYT1uLmhlYWRlcnMmJm4uaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSxmPW98fHUoKTtlLmJpbmFyeXx8IWUuanNvbiYmZS5wcm9jZXNzRGF0YXx8XCJvYmplY3RcIj09dHlwZW9mIGZ8fCEoL2pzb24vLnRlc3QoYSl8fC9eW1xcc10qXFx7Ly50ZXN0KGYpJiYvXFx9W1xcc10qJC8udGVzdChmKSl8fChmPUpTT04ucGFyc2UoZikpLG4uc3RhdHVzQ29kZT49MjAwJiZuLnN0YXR1c0NvZGU8MzAwP3IoZixuLGwpOihlLmJpbmFyeSYmKGY9SlNPTi5wYXJzZShmLnRvU3RyaW5nKCkpKSxpPXMuZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShmKSxpLnN0YXR1cz1uLnN0YXR1c0NvZGUsbChpKSl9KX12YXIgbz1lKDI0KSxpPWUoMTgpLHM9ZSgxOSksYT1lKDM0KTt0LmV4cG9ydHM9cn0pLmNhbGwodGhpcyxlKDM5KSl9LHt9XSwxNzpbZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0LG4pe3Q9dHx8W10sbj1ufHx7fTt0cnl7cmV0dXJuIG5ldyBCbG9iKHQsbil9Y2F0Y2gocil7aWYoXCJUeXBlRXJyb3JcIiE9PXIubmFtZSl0aHJvdyByO2Zvcih2YXIgbz1lLkJsb2JCdWlsZGVyfHxlLk1TQmxvYkJ1aWxkZXJ8fGUuTW96QmxvYkJ1aWxkZXJ8fGUuV2ViS2l0QmxvYkJ1aWxkZXIsaT1uZXcgbyxzPTA7czx0Lmxlbmd0aDtzKz0xKWkuYXBwZW5kKHRbc10pO3JldHVybiBpLmdldEJsb2Iobi50eXBlKX19dC5leHBvcnRzPW59KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwxODpbZnVuY3Rpb24oZSx0KXt0LmV4cG9ydHM9e319LHt9XSwxOTpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7RXJyb3IuY2FsbChlLnJlYXNvbiksdGhpcy5zdGF0dXM9ZS5zdGF0dXMsdGhpcy5uYW1lPWUuZXJyb3IsdGhpcy5tZXNzYWdlPWUucmVhc29uLHRoaXMuZXJyb3I9ITB9dmFyIG89ZSg0Myk7byhyLEVycm9yKSxyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBKU09OLnN0cmluZ2lmeSh7c3RhdHVzOnRoaXMuc3RhdHVzLG5hbWU6dGhpcy5uYW1lLG1lc3NhZ2U6dGhpcy5tZXNzYWdlfSl9LG4uVU5BVVRIT1JJWkVEPW5ldyByKHtzdGF0dXM6NDAxLGVycm9yOlwidW5hdXRob3JpemVkXCIscmVhc29uOlwiTmFtZSBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3QuXCJ9KSxuLk1JU1NJTkdfQlVMS19ET0NTPW5ldyByKHtzdGF0dXM6NDAwLGVycm9yOlwiYmFkX3JlcXVlc3RcIixyZWFzb246XCJNaXNzaW5nIEpTT04gbGlzdCBvZiAnZG9jcydcIn0pLG4uTUlTU0lOR19ET0M9bmV3IHIoe3N0YXR1czo0MDQsZXJyb3I6XCJub3RfZm91bmRcIixyZWFzb246XCJtaXNzaW5nXCJ9KSxuLlJFVl9DT05GTElDVD1uZXcgcih7c3RhdHVzOjQwOSxlcnJvcjpcImNvbmZsaWN0XCIscmVhc29uOlwiRG9jdW1lbnQgdXBkYXRlIGNvbmZsaWN0XCJ9KSxuLklOVkFMSURfSUQ9bmV3IHIoe3N0YXR1czo0MDAsZXJyb3I6XCJpbnZhbGlkX2lkXCIscmVhc29uOlwiX2lkIGZpZWxkIG11c3QgY29udGFpbiBhIHN0cmluZ1wifSksbi5NSVNTSU5HX0lEPW5ldyByKHtzdGF0dXM6NDEyLGVycm9yOlwibWlzc2luZ19pZFwiLHJlYXNvbjpcIl9pZCBpcyByZXF1aXJlZCBmb3IgcHV0c1wifSksbi5SRVNFUlZFRF9JRD1uZXcgcih7c3RhdHVzOjQwMCxlcnJvcjpcImJhZF9yZXF1ZXN0XCIscmVhc29uOlwiT25seSByZXNlcnZlZCBkb2N1bWVudCBpZHMgbWF5IHN0YXJ0IHdpdGggdW5kZXJzY29yZS5cIn0pLG4uTk9UX09QRU49bmV3IHIoe3N0YXR1czo0MTIsZXJyb3I6XCJwcmVjb25kaXRpb25fZmFpbGVkXCIscmVhc29uOlwiRGF0YWJhc2Ugbm90IG9wZW5cIn0pLG4uVU5LTk9XTl9FUlJPUj1uZXcgcih7c3RhdHVzOjUwMCxlcnJvcjpcInVua25vd25fZXJyb3JcIixyZWFzb246XCJEYXRhYmFzZSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGVycm9yXCJ9KSxuLkJBRF9BUkc9bmV3IHIoe3N0YXR1czo1MDAsZXJyb3I6XCJiYWRhcmdcIixyZWFzb246XCJTb21lIHF1ZXJ5IGFyZ3VtZW50IGlzIGludmFsaWRcIn0pLG4uSU5WQUxJRF9SRVFVRVNUPW5ldyByKHtzdGF0dXM6NDAwLGVycm9yOlwiaW52YWxpZF9yZXF1ZXN0XCIscmVhc29uOlwiUmVxdWVzdCB3YXMgaW52YWxpZFwifSksbi5RVUVSWV9QQVJTRV9FUlJPUj1uZXcgcih7c3RhdHVzOjQwMCxlcnJvcjpcInF1ZXJ5X3BhcnNlX2Vycm9yXCIscmVhc29uOlwiU29tZSBxdWVyeSBwYXJhbWV0ZXIgaXMgaW52YWxpZFwifSksbi5ET0NfVkFMSURBVElPTj1uZXcgcih7c3RhdHVzOjUwMCxlcnJvcjpcImRvY192YWxpZGF0aW9uXCIscmVhc29uOlwiQmFkIHNwZWNpYWwgZG9jdW1lbnQgbWVtYmVyXCJ9KSxuLkJBRF9SRVFVRVNUPW5ldyByKHtzdGF0dXM6NDAwLGVycm9yOlwiYmFkX3JlcXVlc3RcIixyZWFzb246XCJTb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGUgcmVxdWVzdFwifSksbi5OT1RfQU5fT0JKRUNUPW5ldyByKHtzdGF0dXM6NDAwLGVycm9yOlwiYmFkX3JlcXVlc3RcIixyZWFzb246XCJEb2N1bWVudCBtdXN0IGJlIGEgSlNPTiBvYmplY3RcIn0pLG4uREJfTUlTU0lORz1uZXcgcih7c3RhdHVzOjQwNCxlcnJvcjpcIm5vdF9mb3VuZFwiLHJlYXNvbjpcIkRhdGFiYXNlIG5vdCBmb3VuZFwifSksbi5JREJfRVJST1I9bmV3IHIoe3N0YXR1czo1MDAsZXJyb3I6XCJpbmRleGVkX2RiX3dlbnRfYmFkXCIscmVhc29uOlwidW5rbm93blwifSksbi5XU1FfRVJST1I9bmV3IHIoe3N0YXR1czo1MDAsZXJyb3I6XCJ3ZWJfc3FsX3dlbnRfYmFkXCIscmVhc29uOlwidW5rbm93blwifSksbi5MREJfRVJST1I9bmV3IHIoe3N0YXR1czo1MDAsZXJyb3I6XCJsZXZlbERCX3dlbnRfd2VudF9iYWRcIixyZWFzb246XCJ1bmtub3duXCJ9KSxuLkZPUkJJRERFTj1uZXcgcih7c3RhdHVzOjQwMyxlcnJvcjpcImZvcmJpZGRlblwiLHJlYXNvbjpcIkZvcmJpZGRlbiBieSBkZXNpZ24gZG9jIHZhbGlkYXRlX2RvY191cGRhdGUgZnVuY3Rpb25cIn0pLG4uSU5WQUxJRF9SRVY9bmV3IHIoe3N0YXR1czo0MDAsZXJyb3I6XCJiYWRfcmVxdWVzdFwiLHJlYXNvbjpcIkludmFsaWQgcmV2IGZvcm1hdFwifSksbi5GSUxFX0VYSVNUUz1uZXcgcih7c3RhdHVzOjQxMixlcnJvcjpcImZpbGVfZXhpc3RzXCIscmVhc29uOlwiVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjcmVhdGVkLCB0aGUgZmlsZSBhbHJlYWR5IGV4aXN0cy5cIn0pLG4uTUlTU0lOR19TVFVCPW5ldyByKHtzdGF0dXM6NDEyLGVycm9yOlwibWlzc2luZ19zdHViXCJ9KSxuLmVycm9yPWZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBvKHQpe2Zvcih2YXIgciBpbiBlKVwiZnVuY3Rpb25cIiE9dHlwZW9mIGVbcl0mJih0aGlzW3JdPWVbcl0pO3ZvaWQgMCE9PW4mJih0aGlzLm5hbWU9biksdm9pZCAwIT09dCYmKHRoaXMucmVhc29uPXQpfXJldHVybiBvLnByb3RvdHlwZT1yLnByb3RvdHlwZSxuZXcgbyh0KX0sbi5nZXRFcnJvclR5cGVCeVByb3A9ZnVuY3Rpb24oZSx0LHIpe3ZhciBvPW4saT1PYmplY3Qua2V5cyhvKS5maWx0ZXIoZnVuY3Rpb24obil7dmFyIHI9b1tuXTtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiByJiZyW2VdPT09dH0pLHM9ciYmaS5maWx0ZXIoZnVuY3Rpb24oZSl7dmFyIHQ9b1tlXTtyZXR1cm4gdC5tZXNzYWdlPT09cn0pWzBdfHxpWzBdO3JldHVybiBzP29bc106bnVsbH0sbi5nZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciB0LHIsbyxpLHMsYT1uO3JldHVybiByPWUuZXJyb3I9PT0hMCYmXCJzdHJpbmdcIj09dHlwZW9mIGUubmFtZT9lLm5hbWU6ZS5lcnJvcixzPWUucmVhc29uLG89YS5nZXRFcnJvclR5cGVCeVByb3AoXCJuYW1lXCIscixzKSxlLm1pc3Npbmd8fFwibWlzc2luZ1wiPT09c3x8XCJkZWxldGVkXCI9PT1zfHxcIm5vdF9mb3VuZFwiPT09cj9vPWEuTUlTU0lOR19ET0M6XCJkb2NfdmFsaWRhdGlvblwiPT09cj8obz1hLkRPQ19WQUxJREFUSU9OLGk9cyk6XCJiYWRfcmVxdWVzdFwiPT09ciYmby5tZXNzYWdlIT09cyYmKDA9PT1zLmluZGV4T2YoXCJ1bmtub3duIHN0dWIgYXR0YWNobWVudFwiKT8obz1hLk1JU1NJTkdfU1RVQixpPXMpOm89YS5CQURfUkVRVUVTVCksb3x8KG89YS5nZXRFcnJvclR5cGVCeVByb3AoXCJzdGF0dXNcIixlLnN0YXR1cyxzKXx8YS5VTktOT1dOX0VSUk9SKSx0PWEuZXJyb3IobyxzLHIpLGkmJih0Lm1lc3NhZ2U9aSksZS5pZCYmKHQuaWQ9ZS5pZCksZS5zdGF0dXMmJih0LnN0YXR1cz1lLnN0YXR1cyksZS5zdGF0dXNUZXh0JiYodC5uYW1lPWUuc3RhdHVzVGV4dCksZS5taXNzaW5nJiYodC5taXNzaW5nPWUubWlzc2luZyksdH19LHt9XSwyMDpbZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24obixyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBvKGUsdCxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnNsaWNlKXJldHVybiB0fHxuP24/ZS5zbGljZSh0LG4pOmUuc2xpY2UodCk6ZS5zbGljZSgpO3Q9TWF0aC5mbG9vcih0fHwwKSxuPU1hdGguZmxvb3Iobnx8MCk7dmFyIHI9ZS5ieXRlTGVuZ3RoO2lmKHQ9MD50P01hdGgubWF4KHQrciwwKTpNYXRoLm1pbihyLHQpLG49MD5uP01hdGgubWF4KG4rciwwKTpNYXRoLm1pbihyLG4pLDA+PW4tdClyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO3ZhciBvPW5ldyBBcnJheUJ1ZmZlcihuLXQpLGk9bmV3IFVpbnQ4QXJyYXkobykscz1uZXcgVWludDhBcnJheShlLHQsbi10KTtyZXR1cm4gaS5zZXQocyksb31mdW5jdGlvbiBpKGUpe3ZhciB0PVsyNTUmZSxlPj4+OCYyNTUsZT4+PjE2JjI1NSxlPj4+MjQmMjU1XTtyZXR1cm4gdC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZSl9KS5qb2luKFwiXCIpfWZ1bmN0aW9uIHMoZSl7Zm9yKHZhciB0PVwiXCIsbj0wO248ZS5sZW5ndGg7bisrKXQrPWkoZVtuXSk7cmV0dXJuIGJ0b2EodCl9dmFyIGE9ZSgzNyksYz1lKDczKSx1PXIuc2V0SW1tZWRpYXRlfHxyLnNldFRpbWVvdXQsZj0zMjc2ODt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUsdCxuLHIpe2Q/ZS5hcHBlbmRCaW5hcnkodC5zdWJzdHJpbmcobixyKSk6ZS5hcHBlbmQobyh0LG4scikpfWZ1bmN0aW9uIGkoKXt2YXIgbj1fKmgsbz1uK2g7aWYoXysrLHY+XylyKG0sZSxuLG8pLHUoaSk7ZWxzZXtyKG0sZSxuLG8pO3ZhciBhPW0uZW5kKCEwKSxjPXMoYSk7dChudWxsLGMpLG0uZGVzdHJveSgpfX1pZighbi5icm93c2VyKXt2YXIgbD1hLmNyZWF0ZUhhc2goXCJtZDVcIikudXBkYXRlKGUpLmRpZ2VzdChcImJhc2U2NFwiKTtyZXR1cm4gdm9pZCB0KG51bGwsbCl9dmFyIGQ9XCJzdHJpbmdcIj09dHlwZW9mIGUscD1kP2UubGVuZ3RoOmUuYnl0ZUxlbmd0aCxoPU1hdGgubWluKGYscCksdj1NYXRoLmNlaWwocC9oKSxfPTAsbT1kP25ldyBjOm5ldyBjLkFycmF5QnVmZmVyO2koKX19KS5jYWxsKHRoaXMsZSgzOSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwyMTpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF09ITAsZX0se30pfWZ1bmN0aW9uIG8oZSl7aWYoIS9eXFxkK1xcLS4vLnRlc3QoZSkpcmV0dXJuIHMuZXJyb3Iocy5JTlZBTElEX1JFVik7dmFyIHQ9ZS5pbmRleE9mKFwiLVwiKSxuPWUuc3Vic3RyaW5nKDAsdCkscj1lLnN1YnN0cmluZyh0KzEpO3JldHVybntwcmVmaXg6cGFyc2VJbnQobiwxMCksaWQ6cn19ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgbj1lLnN0YXJ0LWUuaWRzLmxlbmd0aCsxLHI9ZS5pZHMsbz1bclswXSx0LFtdXSxpPTEscz1yLmxlbmd0aDtzPmk7aSsrKW89W3JbaV0se3N0YXR1czpcIm1pc3NpbmdcIn0sW29dXTtyZXR1cm5be3BvczpuLGlkczpvfV19dmFyIHM9ZSgxOSksYT1lKDI2KSxjPXIoW1wiX2lkXCIsXCJfcmV2XCIsXCJfYXR0YWNobWVudHNcIixcIl9kZWxldGVkXCIsXCJfcmV2aXNpb25zXCIsXCJfcmV2c19pbmZvXCIsXCJfY29uZmxpY3RzXCIsXCJfZGVsZXRlZF9jb25mbGljdHNcIixcIl9sb2NhbF9zZXFcIixcIl9yZXZfdHJlZVwiLFwiX3JlcGxpY2F0aW9uX2lkXCIsXCJfcmVwbGljYXRpb25fc3RhdGVcIixcIl9yZXBsaWNhdGlvbl9zdGF0ZV90aW1lXCIsXCJfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uXCIsXCJfcmVwbGljYXRpb25fc3RhdHNcIixcIl9yZW1vdmVkXCJdKSx1PXIoW1wiX2F0dGFjaG1lbnRzXCIsXCJfcmVwbGljYXRpb25faWRcIixcIl9yZXBsaWNhdGlvbl9zdGF0ZVwiLFwiX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWVcIixcIl9yZXBsaWNhdGlvbl9zdGF0ZV9yZWFzb25cIixcIl9yZXBsaWNhdGlvbl9zdGF0c1wiXSk7bi5pbnZhbGlkSWRFcnJvcj1mdW5jdGlvbihlKXt2YXIgdDtpZihlP1wic3RyaW5nXCIhPXR5cGVvZiBlP3Q9cy5lcnJvcihzLklOVkFMSURfSUQpOi9eXy8udGVzdChlKSYmIS9eXyhkZXNpZ258bG9jYWwpLy50ZXN0KGUpJiYodD1zLmVycm9yKHMuUkVTRVJWRURfSUQpKTp0PXMuZXJyb3Iocy5NSVNTSU5HX0lEKSx0KXRocm93IHR9LG4ucGFyc2VEb2M9ZnVuY3Rpb24oZSx0KXt2YXIgcixmLGwsZD17c3RhdHVzOlwiYXZhaWxhYmxlXCJ9O2lmKGUuX2RlbGV0ZWQmJihkLmRlbGV0ZWQ9ITApLHQpaWYoZS5faWR8fChlLl9pZD1hKCkpLGY9YSgzMiwxNikudG9Mb3dlckNhc2UoKSxlLl9yZXYpe2lmKGw9byhlLl9yZXYpLGwuZXJyb3IpcmV0dXJuIGw7ZS5fcmV2X3RyZWU9W3twb3M6bC5wcmVmaXgsaWRzOltsLmlkLHtzdGF0dXM6XCJtaXNzaW5nXCJ9LFtbZixkLFtdXV1dfV0scj1sLnByZWZpeCsxfWVsc2UgZS5fcmV2X3RyZWU9W3twb3M6MSxpZHM6W2YsZCxbXV19XSxyPTE7ZWxzZSBpZihlLl9yZXZpc2lvbnMmJihlLl9yZXZfdHJlZT1pKGUuX3JldmlzaW9ucyxkKSxyPWUuX3JldmlzaW9ucy5zdGFydCxmPWUuX3JldmlzaW9ucy5pZHNbMF0pLCFlLl9yZXZfdHJlZSl7aWYobD1vKGUuX3JldiksbC5lcnJvcilyZXR1cm4gbDtyPWwucHJlZml4LGY9bC5pZCxlLl9yZXZfdHJlZT1be3BvczpyLGlkczpbZixkLFtdXX1dfW4uaW52YWxpZElkRXJyb3IoZS5faWQpLGUuX3Jldj1yK1wiLVwiK2Y7dmFyIHA9e21ldGFkYXRhOnt9LGRhdGE6e319O2Zvcih2YXIgaCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoaCkpe3ZhciB2PVwiX1wiPT09aFswXTtpZih2JiYhY1toXSl7dmFyIF89cy5lcnJvcihzLkRPQ19WQUxJREFUSU9OLGgpO3Rocm93IF8ubWVzc2FnZT1zLkRPQ19WQUxJREFUSU9OLm1lc3NhZ2UrXCI6IFwiK2gsX312JiYhdVtoXT9wLm1ldGFkYXRhW2guc2xpY2UoMSldPWVbaF06cC5kYXRhW2hdPWVbaF19cmV0dXJuIHB9fSx7fV0sMjI6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5lc2NhcGUoZSkpfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIDY1PmU/ZS00ODplLTU1fWZ1bmN0aW9uIG8oZSx0LG4pe2Zvcih2YXIgbz1cIlwiO24+dDspbys9U3RyaW5nLmZyb21DaGFyQ29kZShyKGUuY2hhckNvZGVBdCh0KyspKTw8NHxyKGUuY2hhckNvZGVBdCh0KyspKSk7cmV0dXJuIG99ZnVuY3Rpb24gaShlLHQsbil7Zm9yKHZhciBvPVwiXCI7bj50OylvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHIoZS5jaGFyQ29kZUF0KHQrMikpPDwxMnxyKGUuY2hhckNvZGVBdCh0KzMpKTw8OHxyKGUuY2hhckNvZGVBdCh0KSk8PDR8cihlLmNoYXJDb2RlQXQodCsxKSkpLHQrPTQ7cmV0dXJuIG99ZnVuY3Rpb24gcyhlLHQpe3JldHVyblwiVVRGLThcIj09PXQ/bihvKGUsMCxlLmxlbmd0aCkpOmkoZSwwLGUubGVuZ3RoKX10LmV4cG9ydHM9c30se31dLDIzOltmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0PXIsbj10LnBhcnNlclt0LnN0cmljdE1vZGU/XCJzdHJpY3RcIjpcImxvb3NlXCJdLmV4ZWMoZSksbz17fSxpPTE0O2ktLTspe3ZhciBzPXQua2V5W2ldLGE9bltpXXx8XCJcIixjPS0xIT09W1widXNlclwiLFwicGFzc3dvcmRcIl0uaW5kZXhPZihzKTtvW3NdPWM/ZGVjb2RlVVJJQ29tcG9uZW50KGEpOmF9cmV0dXJuIG9bdC5xLm5hbWVdPXt9LG9bdC5rZXlbMTJdXS5yZXBsYWNlKHQucS5wYXJzZXIsZnVuY3Rpb24oZSxuLHIpe24mJihvW3QucS5uYW1lXVtuXT1yKX0pLG99dmFyIHI9e3N0cmljdE1vZGU6ITEsa2V5OltcInNvdXJjZVwiLFwicHJvdG9jb2xcIixcImF1dGhvcml0eVwiLFwidXNlckluZm9cIixcInVzZXJcIixcInBhc3N3b3JkXCIsXCJob3N0XCIsXCJwb3J0XCIsXCJyZWxhdGl2ZVwiLFwicGF0aFwiLFwiZGlyZWN0b3J5XCIsXCJmaWxlXCIsXCJxdWVyeVwiLFwiYW5jaG9yXCJdLHE6e25hbWU6XCJxdWVyeUtleVwiLHBhcnNlcjovKD86XnwmKShbXiY9XSopPT8oW14mXSopL2d9LHBhcnNlcjp7c3RyaWN0Oi9eKD86KFteOlxcLz8jXSspOik/KD86XFwvXFwvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKT8oKCgoPzpbXj8jXFwvXSpcXC8pKikoW14/I10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS8sbG9vc2U6L14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvfX07dC5leHBvcnRzPW59LHt9XSwyNDpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKDE3KSxyPWUoMzQpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBvLGkscyxhPWZ1bmN0aW9uKCl7by5hYm9ydCgpfTtpZihvPWUueGhyP25ldyBlLnhocjpuZXcgWE1MSHR0cFJlcXVlc3QsXCJHRVRcIj09PWUubWV0aG9kJiYhZS5jYWNoZSl7dmFyIGM9LTEhPT1lLnVybC5pbmRleE9mKFwiP1wiKTtlLnVybCs9KGM/XCImXCI6XCI/XCIpK1wiX25vbmNlPVwiK0RhdGUubm93KCl9by5vcGVuKGUubWV0aG9kLGUudXJsKSxvLndpdGhDcmVkZW50aWFscz0hMCxlLmpzb24mJihlLmhlYWRlcnMuQWNjZXB0PVwiYXBwbGljYXRpb24vanNvblwiLGUuaGVhZGVyc1tcIkNvbnRlbnQtVHlwZVwiXT1lLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl18fFwiYXBwbGljYXRpb24vanNvblwiLGUuYm9keSYmZS5wcm9jZXNzRGF0YSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUuYm9keSYmKGUuYm9keT1KU09OLnN0cmluZ2lmeShlLmJvZHkpKSksZS5iaW5hcnkmJihvLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpLFwiYm9keVwiaW4gZXx8KGUuYm9keT1udWxsKTtmb3IodmFyIHUgaW4gZS5oZWFkZXJzKWUuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eSh1KSYmby5zZXRSZXF1ZXN0SGVhZGVyKHUsZS5oZWFkZXJzW3VdKTtyZXR1cm4gZS50aW1lb3V0PjAmJihpPXNldFRpbWVvdXQoYSxlLnRpbWVvdXQpLG8ub25wcm9ncmVzcz1mdW5jdGlvbigpe2NsZWFyVGltZW91dChpKSxpPXNldFRpbWVvdXQoYSxlLnRpbWVvdXQpfSxcInVuZGVmaW5lZFwiPT10eXBlb2YgcyYmKHM9LTEhPT1PYmplY3Qua2V5cyhvKS5pbmRleE9mKFwidXBsb2FkXCIpKSxzJiYoby51cGxvYWQub25wcm9ncmVzcz1vLm9ucHJvZ3Jlc3MpKSxvLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1vLnJlYWR5U3RhdGUpe3ZhciByPXtzdGF0dXNDb2RlOm8uc3RhdHVzfTtpZihvLnN0YXR1cz49MjAwJiZvLnN0YXR1czwzMDApe3ZhciBpO2k9ZS5iaW5hcnk/bihbby5yZXNwb25zZXx8XCJcIl0se3R5cGU6by5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKX0pOm8ucmVzcG9uc2VUZXh0LHQobnVsbCxyLGkpfWVsc2V7dmFyIHM9e307dHJ5e3M9SlNPTi5wYXJzZShvLnJlc3BvbnNlKX1jYXRjaChhKXt9dChzLHIpfX19LGUuYm9keSYmZS5ib2R5IGluc3RhbmNlb2YgQmxvYj9yLnJlYWRBc0JpbmFyeVN0cmluZyhlLmJvZHksZnVuY3Rpb24oZSl7by5zZW5kKHIuZml4QmluYXJ5KGUpKX0pOm8uc2VuZChlLmJvZHkpLHthYm9ydDphfX19LHt9XSwyNTpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKDcyKS51cHNlcnQ7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG8pe3JldHVybiBuLmNhbGwoZSx0LHIsbyl9fSx7fV0sMjY6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gMHxNYXRoLnJhbmRvbSgpKmV9ZnVuY3Rpb24gcihlLHQpe3Q9dHx8by5sZW5ndGg7dmFyIHI9XCJcIixpPS0xO2lmKGUpe2Zvcig7KytpPGU7KXIrPW9bbih0KV07cmV0dXJuIHJ9Zm9yKDsrK2k8MzY7KXN3aXRjaChpKXtjYXNlIDg6Y2FzZSAxMzpjYXNlIDE4OmNhc2UgMjM6cis9XCItXCI7YnJlYWs7Y2FzZSAxOTpyKz1vWzMmbigxNil8OF07YnJlYWs7ZGVmYXVsdDpyKz1vW24oMTYpXX1yZXR1cm4gcn12YXIgbz1cIjAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuc3BsaXQoXCJcIik7dC5leHBvcnRzPXJ9LHt9XSwyNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZXZhbEZpbHRlcihpbnB1dCl7cmV0dXJuIGV2YWwoW1wiKGZ1bmN0aW9uICgpIHsgcmV0dXJuIFwiLGlucHV0LFwiIH0pKClcIl0uam9pbihcIlwiKSl9bW9kdWxlLmV4cG9ydHM9ZXZhbEZpbHRlcn0se31dLDI4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBldmFsVmlldyhpbnB1dCl7cmV0dXJuIGV2YWwoW1wiKGZ1bmN0aW9uICgpIHtcIixcIiAgcmV0dXJuIGZ1bmN0aW9uIChkb2MpIHtcIixcIiAgICB2YXIgZW1pdHRlZCA9IGZhbHNlO1wiLFwiICAgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGEsIGIpIHtcIixcIiAgICAgIGVtaXR0ZWQgPSB0cnVlO1wiLFwiICAgIH07XCIsXCIgICAgdmFyIHZpZXcgPSBcIitpbnB1dCtcIjtcIixcIiAgICB2aWV3KGRvYyk7XCIsXCIgICAgaWYgKGVtaXR0ZWQpIHtcIixcIiAgICAgIHJldHVybiB0cnVlO1wiLFwiICAgIH1cIixcIiAgfVwiLFwifSkoKVwiXS5qb2luKFwiXFxuXCIpKX1tb2R1bGUuZXhwb3J0cz1ldmFsVmlld30se31dLDI5OltmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LG4pe2Zvcih2YXIgcixvPTAsaT1lLmxlbmd0aDtpPm87KXI9bytpPj4+MSxuKGVbcl0sdCk8MD9vPXIrMTppPXI7cmV0dXJuIG99ZnVuY3Rpb24gcihlLHQscil7dmFyIG89bihlLHQscik7ZS5zcGxpY2UobywwLHQpfWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0LG49ZS5zaGlmdCgpLHI9W24uaWQsbi5vcHRzLFtdXSxvPXI7ZS5sZW5ndGg7KW49ZS5zaGlmdCgpLHQ9W24uaWQsbi5vcHRzLFtdXSxvWzJdLnB1c2godCksbz10O3JldHVybiByfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZVswXTx0WzBdPy0xOjF9ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgbj1be3RyZWUxOmUsdHJlZTI6dH1dLG89ITE7bi5sZW5ndGg+MDspe3ZhciBzPW4ucG9wKCksYT1zLnRyZWUxLGM9cy50cmVlMjsoYVsxXS5zdGF0dXN8fGNbMV0uc3RhdHVzKSYmKGFbMV0uc3RhdHVzPVwiYXZhaWxhYmxlXCI9PT1hWzFdLnN0YXR1c3x8XCJhdmFpbGFibGVcIj09PWNbMV0uc3RhdHVzP1wiYXZhaWxhYmxlXCI6XCJtaXNzaW5nXCIpO2Zvcih2YXIgdT0wO3U8Y1syXS5sZW5ndGg7dSsrKWlmKGFbMl1bMF0pe2Zvcih2YXIgZj0hMSxsPTA7bDxhWzJdLmxlbmd0aDtsKyspYVsyXVtsXVswXT09PWNbMl1bdV1bMF0mJihuLnB1c2goe3RyZWUxOmFbMl1bbF0sdHJlZTI6Y1syXVt1XX0pLGY9ITApO2Z8fChvPVwibmV3X2JyYW5jaFwiLHIoYVsyXSxjWzJdW3VdLGkpKX1lbHNlIG89XCJuZXdfbGVhZlwiLGFbMl1bMF09Y1syXVt1XX1yZXR1cm57Y29uZmxpY3RzOm8sdHJlZTplfX1mdW5jdGlvbiBhKGUsdCxuKXt2YXIgcixvPVtdLGk9ITEsYT0hMTtyZXR1cm4gZS5sZW5ndGg/KGUuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlLnBvcz09PXQucG9zJiZlLmlkc1swXT09PXQuaWRzWzBdKXI9cyhlLmlkcyx0Lmlkcyksby5wdXNoKHtwb3M6ZS5wb3MsaWRzOnIudHJlZX0pLGk9aXx8ci5jb25mbGljdHMsYT0hMDtlbHNlIGlmKG4hPT0hMCl7dmFyIGM9ZS5wb3M8dC5wb3M/ZTp0LHU9ZS5wb3M8dC5wb3M/dDplLGY9dS5wb3MtYy5wb3MsbD1bXSxkPVtdO2ZvcihkLnB1c2goe2lkczpjLmlkcyxkaWZmOmYscGFyZW50Om51bGwscGFyZW50SWR4Om51bGx9KTtkLmxlbmd0aD4wOyl7dmFyIHA9ZC5wb3AoKTswIT09cC5kaWZmP3AuaWRzJiZwLmlkc1syXS5mb3JFYWNoKGZ1bmN0aW9uKGUsdCl7ZC5wdXNoKHtpZHM6ZSxkaWZmOnAuZGlmZi0xLHBhcmVudDpwLmlkcyxwYXJlbnRJZHg6dH0pfSk6cC5pZHNbMF09PT11Lmlkc1swXSYmbC5wdXNoKHApfXZhciBoPWxbMF07aD8ocj1zKGguaWRzLHUuaWRzKSxoLnBhcmVudFsyXVtoLnBhcmVudElkeF09ci50cmVlLG8ucHVzaCh7cG9zOmMucG9zLGlkczpjLmlkc30pLGk9aXx8ci5jb25mbGljdHMsYT0hMCk6by5wdXNoKGUpfWVsc2Ugby5wdXNoKGUpfSksYXx8by5wdXNoKHQpLG8uc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLnBvcy10LnBvc30pLHt0cmVlOm8sY29uZmxpY3RzOml8fFwiaW50ZXJuYWxfbm9kZVwifSk6e3RyZWU6W3RdLGNvbmZsaWN0czpcIm5ld19sZWFmXCJ9fWZ1bmN0aW9uIGMoZSx0KXt2YXIgbj1mLnJvb3RUb0xlYWYoZSkubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPWUuaWRzLnNsaWNlKC10KTtyZXR1cm57cG9zOmUucG9zKyhlLmlkcy5sZW5ndGgtbi5sZW5ndGgpLGlkczpvKG4pfX0pO3JldHVybiBuLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBhKGUsdCwhMCkudHJlZX0sW24uc2hpZnQoKV0pfXZhciB1PWUoNjUpLGY9e307Zi5tZXJnZT1mdW5jdGlvbihlLHQsbil7ZT11KCEwLFtdLGUpLHQ9dSghMCx7fSx0KTt2YXIgcj1hKGUsdCk7cmV0dXJue3RyZWU6YyhyLnRyZWUsbiksY29uZmxpY3RzOnIuY29uZmxpY3RzfX0sZi53aW5uaW5nUmV2PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBmLnRyYXZlcnNlUmV2VHJlZShlLnJldl90cmVlLGZ1bmN0aW9uKGUsbixyLG8saSl7ZSYmdC5wdXNoKHtwb3M6bixpZDpyLGRlbGV0ZWQ6ISFpLmRlbGV0ZWR9KX0pLHQuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlLmRlbGV0ZWQhPT10LmRlbGV0ZWQ/ZS5kZWxldGVkPnQuZGVsZXRlZD8xOi0xOmUucG9zIT09dC5wb3M/dC5wb3MtZS5wb3M6ZS5pZDx0LmlkPzE6LTF9KSx0WzBdLnBvcytcIi1cIit0WzBdLmlkfSxmLnRyYXZlcnNlUmV2VHJlZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixyPWUuc2xpY2UoKTtuPXIucG9wKCk7KWZvcih2YXIgbz1uLnBvcyxpPW4uaWRzLHM9aVsyXSxhPXQoMD09PXMubGVuZ3RoLG8saVswXSxuLmN0eCxpWzFdKSxjPTAsdT1zLmxlbmd0aDt1PmM7YysrKXIucHVzaCh7cG9zOm8rMSxpZHM6c1tjXSxjdHg6YX0pfSxmLmNvbGxlY3RMZWF2ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGYudHJhdmVyc2VSZXZUcmVlKGUsZnVuY3Rpb24oZSxuLHIsbyxpKXtlJiZ0LnB1c2goe3JldjpuK1wiLVwiK3IscG9zOm4sb3B0czppfSl9KSx0LnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5wb3MtZS5wb3N9KSx0LmZvckVhY2goZnVuY3Rpb24oZSl7ZGVsZXRlIGUucG9zfSksdH0sZi5jb2xsZWN0Q29uZmxpY3RzPWZ1bmN0aW9uKGUpe3ZhciB0PWYud2lubmluZ1JldihlKSxuPWYuY29sbGVjdExlYXZlcyhlLnJldl90cmVlKSxyPVtdO3JldHVybiBuLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZXY9PT10fHxlLm9wdHMuZGVsZXRlZHx8ci5wdXNoKGUucmV2KX0pLHJ9LGYucm9vdFRvTGVhZj1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZi50cmF2ZXJzZVJldlRyZWUoZSxmdW5jdGlvbihlLG4scixvLGkpe2lmKG89bz9vLnNsaWNlKDApOltdLG8ucHVzaCh7aWQ6cixvcHRzOml9KSxlKXt2YXIgcz1uKzEtby5sZW5ndGg7dC51bnNoaWZ0KHtwb3M6cyxpZHM6b30pfXJldHVybiBvfSksdH0sdC5leHBvcnRzPWZ9LHt9XSwzMDpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXtlPXBhcnNlSW50KGUsMTApLHQ9cGFyc2VJbnQodCwxMCksZSE9PWUmJihlPTApLHQhPT10fHxlPj10P3Q9KGV8fDEpPDwxOnQrPTE7dmFyIG49TWF0aC5yYW5kb20oKSxyPXQtZTtyZXR1cm5+fihyKm4rZSl9ZnVuY3Rpb24gbyhlKXt2YXIgdD0wO3JldHVybiBlfHwodD0yZTMpLHIoZSx0KX1mdW5jdGlvbiBpKGUsdCxuLHIsaSxzLGEpe3JldHVybiByLnJldHJ5PT09ITE/KGkuZW1pdChcImVycm9yXCIsYSksdm9pZCBpLnJlbW92ZUFsbExpc3RlbmVycygpKTooci5kZWZhdWx0X2JhY2tfb2ZmPXIuZGVmYXVsdF9iYWNrX29mZnx8MCxyLnJldHJpZXM9ci5yZXRyaWVzfHwwLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuYmFja19vZmZfZnVuY3Rpb24mJihyLmJhY2tfb2ZmX2Z1bmN0aW9uPW8pLHIucmV0cmllcysrLHIubWF4X3JldHJpZXMmJnIucmV0cmllcz5yLm1heF9yZXRyaWVzPyhpLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcInRyaWVkIFwiK3IucmV0cmllcytcIiB0aW1lcyBidXQgcmVwbGljYXRpb24gZmFpbGVkXCIpKSx2b2lkIGkucmVtb3ZlQWxsTGlzdGVuZXJzKCkpOihpLmVtaXQoXCJyZXF1ZXN0RXJyb3JcIixhKSxcImFjdGl2ZVwiPT09aS5zdGF0ZSYmKGkuZW1pdChcInBhdXNlZFwiLGEpLGkuc3RhdGU9XCJzdG9wcGVkXCIsaS5vbmNlKFwiYWN0aXZlXCIsZnVuY3Rpb24oKXtyLmN1cnJlbnRfYmFja19vZmY9ci5kZWZhdWx0X2JhY2tfb2ZmfSkpLHIuY3VycmVudF9iYWNrX29mZj1yLmN1cnJlbnRfYmFja19vZmZ8fHIuZGVmYXVsdF9iYWNrX29mZixyLmN1cnJlbnRfYmFja19vZmY9ci5iYWNrX29mZl9mdW5jdGlvbihyLmN1cnJlbnRfYmFja19vZmYpLHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe2MoZSx0LG4scixpKX0sci5jdXJyZW50X2JhY2tfb2ZmKSkpfWZ1bmN0aW9uIHMoKXtkLmNhbGwodGhpcyksdGhpcy5jYW5jZWxsZWQ9ITEsdGhpcy5zdGF0ZT1cInBlbmRpbmdcIjt2YXIgZT10aGlzLHQ9bmV3IGwuUHJvbWlzZShmdW5jdGlvbih0LG4pe2Uub25jZShcImNvbXBsZXRlXCIsdCksZS5vbmNlKFwiZXJyb3JcIixuKX0pO2UudGhlbj1mdW5jdGlvbihlLG4pe3JldHVybiB0LnRoZW4oZSxuKX0sZVtcImNhdGNoXCJdPWZ1bmN0aW9uKGUpe3JldHVybiB0W1wiY2F0Y2hcIl0oZSl9LGVbXCJjYXRjaFwiXShmdW5jdGlvbigpe30pfWZ1bmN0aW9uIGEoZSx0LG4pe3ZhciByPW4uZmlsdGVyP24uZmlsdGVyLnRvU3RyaW5nKCk6XCJcIjtyZXR1cm4gZS5pZCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIHQuaWQoKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBvPWUrdCtyK0pTT04uc3RyaW5naWZ5KG4ucXVlcnlfcGFyYW1zKStuLmRvY19pZHM7cmV0dXJuIGwuTUQ1KG8pLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKC9cXC8vZyxcIi5cIikucmVwbGFjZSgvXFwrL2csXCJfXCIpLFwiX2xvY2FsL1wiK2V9KX0pfSl9ZnVuY3Rpb24gYyhlLHQsbixyLG8scyl7ZnVuY3Rpb24gYSgpe2lmKDAhPT1BLmRvY3MubGVuZ3RoKXt2YXIgZT1BLmRvY3M7cmV0dXJuIG4uYnVsa0RvY3Moe2RvY3M6ZSxuZXdfZWRpdHM6ITF9KS50aGVuKGZ1bmN0aW9uKHQpe2lmKEYuY2FuY2VsbGVkKXRocm93IGIoKSxuZXcgRXJyb3IoXCJjYW5jZWxsZWRcIik7dmFyIG49W10scj17fTt0LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5lcnJvciYmKHMuZG9jX3dyaXRlX2ZhaWx1cmVzKyssbi5wdXNoKGUpLHJbZS5pZF09ZSl9KSxzLmVycm9ycz1uLFA9UC5jb25jYXQobikscy5kb2NzX3dyaXR0ZW4rPUEuZG9jcy5sZW5ndGgtbi5sZW5ndGg7dmFyIGk9bi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmF1dGhvcml6ZWRcIiE9PWUubmFtZSYmXCJmb3JiaWRkZW5cIiE9PWUubmFtZX0pO2lmKFU9W10sZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXJbZS5faWRdO3Q/by5lbWl0KFwiZGVuaWVkXCIsbC5jbG9uZSh0KSk6VS5wdXNoKGUpfSksaS5sZW5ndGg+MCl7dmFyIGE9bmV3IEVycm9yKFwiYnVsa0RvY3MgZXJyb3JcIik7dGhyb3cgYS5vdGhlcl9lcnJvcnM9bix5KFwidGFyZ2V0LmJ1bGtEb2NzIGZhaWxlZCB0byB3cml0ZSBkb2NzXCIsYSksbmV3IEVycm9yKFwiYnVsa1dyaXRlIHBhcnRpYWwgZmFpbHVyZVwiKX19LGZ1bmN0aW9uKHQpe3Rocm93IHMuZG9jX3dyaXRlX2ZhaWx1cmVzKz1lLmxlbmd0aCx0fSl9fWZ1bmN0aW9uIGMoZSl7Zm9yKHZhciBuPUEuZGlmZnMscj1uW2VdLm1pc3Npbmcsbz1bXSxpPTA7aTxyLmxlbmd0aDtpKz1oKW8ucHVzaChyLnNsaWNlKGksTWF0aC5taW4oci5sZW5ndGgsaStoKSkpO3JldHVybiBsLlByb21pc2UuYWxsKG8ubWFwKGZ1bmN0aW9uKHIpe3ZhciBvPXtyZXZzOiEwLG9wZW5fcmV2czpyLGF0dGFjaG1lbnRzOiEwfTtyZXR1cm4gdC5nZXQoZSxvKS50aGVuKGZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gRi5jYW5jZWxsZWQ/YigpOnZvaWQoZS5vayYmKHMuZG9jc19yZWFkKyssQS5wZW5kaW5nUmV2cysrLEEuZG9jcy5wdXNoKGUub2spKSl9KSxkZWxldGUgbltlXX0pfSkpfWZ1bmN0aW9uIHUoKXt2YXIgZT1PYmplY3Qua2V5cyhBLmRpZmZzKTtyZXR1cm4gbC5Qcm9taXNlLmFsbChlLm1hcChjKSl9ZnVuY3Rpb24gZigpe3ZhciBlPU9iamVjdC5rZXlzKEEuZGlmZnMpLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgdD1BLmRpZmZzW2VdLm1pc3Npbmc7cmV0dXJuIDE9PT10Lmxlbmd0aCYmXCIxLVwiPT09dFswXS5zbGljZSgwLDIpfSk7cmV0dXJuIGUubGVuZ3RoP3QuYWxsRG9jcyh7a2V5czplLGluY2x1ZGVfZG9jczohMH0pLnRoZW4oZnVuY3Rpb24oZSl7aWYoRi5jYW5jZWxsZWQpdGhyb3cgYigpLG5ldyBFcnJvcihcImNhbmNlbGxlZFwiKTtlLnJvd3MuZm9yRWFjaChmdW5jdGlvbihlKXshZS5kb2N8fGUuZGVsZXRlZHx8XCIxLVwiIT09ZS52YWx1ZS5yZXYuc2xpY2UoMCwyKXx8ZS5kb2MuX2F0dGFjaG1lbnRzJiYwIT09T2JqZWN0LmtleXMoZS5kb2MuX2F0dGFjaG1lbnRzKS5sZW5ndGh8fChzLmRvY3NfcmVhZCsrLEEucGVuZGluZ1JldnMrKyxBLmRvY3MucHVzaChlLmRvYyksZGVsZXRlIEEuZGlmZnNbZS5pZF0pfSl9KTpsLlByb21pc2UucmVzb2x2ZSgpfWZ1bmN0aW9uIGQoKXtyZXR1cm4gZigpLnRoZW4odSl9ZnVuY3Rpb24gdigpe3JldHVybiBxPSEwLE0ud3JpdGVDaGVja3BvaW50KEEuc2VxKS50aGVuKGZ1bmN0aW9uKCl7aWYocT0hMSxGLmNhbmNlbGxlZCl0aHJvdyBiKCksbmV3IEVycm9yKFwiY2FuY2VsbGVkXCIpO3MubGFzdF9zZXE9Qz1BLnNlcTt2YXIgZT1sLmNsb25lKHMpO2UuZG9jcz1VLG8uZW1pdChcImNoYW5nZVwiLGUpLEE9dm9pZCAwLFQoKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7dGhyb3cgcT0hMSx5KFwid3JpdGVDaGVja3BvaW50IGNvbXBsZXRlZCB3aXRoIGVycm9yXCIsZSksZX0pfWZ1bmN0aW9uIF8oKXt2YXIgZT17fTtyZXR1cm4gQS5jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZVt0LmlkXT10LmNoYW5nZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldn0pfSksbi5yZXZzRGlmZihlKS50aGVuKGZ1bmN0aW9uKGUpe2lmKEYuY2FuY2VsbGVkKXRocm93IGIoKSxuZXcgRXJyb3IoXCJjYW5jZWxsZWRcIik7QS5kaWZmcz1lLEEucGVuZGluZ1JldnM9MH0pfWZ1bmN0aW9uIG0oKXtpZighRi5jYW5jZWxsZWQmJiFBKXtpZigwPT09Ty5sZW5ndGgpcmV0dXJuIHZvaWQgZyghMCk7QT1PLnNoaWZ0KCksXygpLnRoZW4oZCkudGhlbihhKS50aGVuKHYpLnRoZW4obSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXt5KFwiYmF0Y2ggcHJvY2Vzc2luZyB0ZXJtaW5hdGVkIHdpdGggZXJyb3JcIixlKX0pfX1mdW5jdGlvbiBnKGUpe3JldHVybiAwPT09ay5jaGFuZ2VzLmxlbmd0aD92b2lkKDAhPT1PLmxlbmd0aHx8QXx8KChMJiZKLmxpdmV8fFIpJiYoby5lbWl0KFwicGF1c2VkXCIpLG8uZW1pdChcInVwdG9kYXRlXCIscykpLFImJmIoKSkpOnZvaWQoKGV8fFJ8fGsuY2hhbmdlcy5sZW5ndGg+PUkpJiYoTy5wdXNoKGspLGs9e3NlcTowLGNoYW5nZXM6W10sZG9jczpbXX0sbSgpKSl9ZnVuY3Rpb24geShlLHQpe0R8fCh0Lm1lc3NhZ2V8fCh0Lm1lc3NhZ2U9ZSkscy5vaz0hMSxzLnN0YXR1cz1cImFib3J0aW5nXCIscy5lcnJvcnMucHVzaCh0KSxQPVAuY29uY2F0KHQpLE89W10saz17c2VxOjAsY2hhbmdlczpbXSxkb2NzOltdfSxiKCkpfWZ1bmN0aW9uIGIoKXtpZighKER8fEYuY2FuY2VsbGVkJiYocy5zdGF0dXM9XCJjYW5jZWxsZWRcIixxKSkpe3Muc3RhdHVzPXMuc3RhdHVzfHxcImNvbXBsZXRlXCIscy5lbmRfdGltZT1uZXcgRGF0ZSxzLmxhc3Rfc2VxPUMsRD1GLmNhbmNlbGxlZD0hMDt2YXIgYT1QLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cInVuYXV0aG9yaXplZFwiIT09ZS5uYW1lJiZcImZvcmJpZGRlblwiIT09ZS5uYW1lfSk7aWYoYS5sZW5ndGg+MCl7dmFyIGM9UC5wb3AoKTtQLmxlbmd0aD4wJiYoYy5vdGhlcl9lcnJvcnM9UCksYy5yZXN1bHQ9cyxpKGUsdCxuLHIsbyxzLGMpfWVsc2Ugcy5lcnJvcnM9UCxvLmVtaXQoXCJjb21wbGV0ZVwiLHMpLG8ucmVtb3ZlQWxsTGlzdGVuZXJzKCl9fWZ1bmN0aW9uIEUoZSl7aWYoRi5jYW5jZWxsZWQpcmV0dXJuIGIoKTt2YXIgdD1sLmZpbHRlckNoYW5nZShyKShlKTt0JiYoMCE9PWsuY2hhbmdlcy5sZW5ndGh8fDAhPT1PLmxlbmd0aHx8QXx8by5lbWl0KFwib3V0b2ZkYXRlXCIscyksay5zZXE9ZS5zZXEsay5jaGFuZ2VzLnB1c2goZSksZygwPT09Ty5sZW5ndGgpKX1mdW5jdGlvbiB3KGUpe3JldHVybiBqPSExLEYuY2FuY2VsbGVkP2IoKTooZS5yZXN1bHRzLmxlbmd0aD4wPyhKLnNpbmNlPWUubGFzdF9zZXEsVCgpKTpMPyhKLmxpdmU9ITAsVCgpKTpSPSEwLHZvaWQgZyghMCkpfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIGo9ITEsRi5jYW5jZWxsZWQ/YigpOnZvaWQgeShcImNoYW5nZXMgcmVqZWN0ZWRcIixlKX1mdW5jdGlvbiBUKCl7ZnVuY3Rpb24gZSgpe3IuY2FuY2VsKCl9ZnVuY3Rpb24gbigpe28ucmVtb3ZlTGlzdGVuZXIoXCJjYW5jZWxcIixlKX1pZighaiYmIVImJk8ubGVuZ3RoPE4pe2o9ITAsby5vbmNlKFwiY2FuY2VsXCIsZSk7dmFyIHI9dC5jaGFuZ2VzKEopLm9uKFwiY2hhbmdlXCIsRSk7ci50aGVuKG4sbiksci50aGVuKHcpW1wiY2F0Y2hcIl0oUyl9fWZ1bmN0aW9uIHgoKXtNLmdldENoZWNrcG9pbnQoKS50aGVuKGZ1bmN0aW9uKGUpe0M9ZSxKPXtzaW5jZTpDLGxpbWl0OkksYmF0Y2hfc2l6ZTpJLHN0eWxlOlwiYWxsX2RvY3NcIixkb2NfaWRzOkIscmV0dXJuRG9jczohMH0sci5maWx0ZXImJihKLmluY2x1ZGVfZG9jcz0hMCksci5xdWVyeV9wYXJhbXMmJihKLnF1ZXJ5X3BhcmFtcz1yLnF1ZXJ5X3BhcmFtcyksVCgpfSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXt5KFwiZ2V0Q2hlY2twb2ludCByZWplY3RlZCB3aXRoIFwiLGUpfSl9dmFyIEEsTz1bXSxrPXtzZXE6MCxjaGFuZ2VzOltdLGRvY3M6W119LHE9ITEsUj0hMSxEPSExLEM9MCxMPXIuY29udGludW91c3x8ci5saXZlfHwhMSxJPXIuYmF0Y2hfc2l6ZXx8MTAwLE49ci5iYXRjaGVzX2xpbWl0fHwxMCxqPSExLEI9ci5kb2NfaWRzLEY9e2NhbmNlbGxlZDohMX0sTT1uZXcgcCh0LG4sZSxGKSxQPVtdLFU9W107cz1zfHx7b2s6ITAsc3RhcnRfdGltZTpuZXcgRGF0ZSxkb2NzX3JlYWQ6MCxkb2NzX3dyaXR0ZW46MCxkb2Nfd3JpdGVfZmFpbHVyZXM6MCxlcnJvcnM6W119O3ZhciBKPXt9O28ucmVhZHkodCxuKSxvLm9uY2UoXCJjYW5jZWxcIixiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiByLm9uQ2hhbmdlJiZvLm9uKFwiY2hhbmdlXCIsci5vbkNoYW5nZSksXCJmdW5jdGlvblwiPT10eXBlb2Ygci5jb21wbGV0ZSYmKG8ub25jZShcImVycm9yXCIsci5jb21wbGV0ZSksby5vbmNlKFwiY29tcGxldGVcIixmdW5jdGlvbihlKXtyLmNvbXBsZXRlKG51bGwsZSl9KSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIHIuc2luY2U/eCgpOihxPSEwLE0ud3JpdGVDaGVja3BvaW50KHIuc2luY2UpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gcT0hMSxGLmNhbmNlbGxlZD92b2lkIGIoKTooQz1yLnNpbmNlLHZvaWQgeCgpKX0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24oZSl7dGhyb3cgcT0hMSx5KFwid3JpdGVDaGVja3BvaW50IGNvbXBsZXRlZCB3aXRoIGVycm9yXCIsZSksZX0pKX1mdW5jdGlvbiB1KGUsdCl7dmFyIG49dC5Qb3VjaENvbnN0cnVjdG9yO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP25ldyBuKGUpOmUudGhlbj9lOmwuUHJvbWlzZS5yZXNvbHZlKGUpfWZ1bmN0aW9uIGYoZSx0LG4scil7XCJmdW5jdGlvblwiPT10eXBlb2YgbiYmKHI9bixuPXt9KSxcInVuZGVmaW5lZFwiPT10eXBlb2YgbiYmKG49e30pLG4uY29tcGxldGV8fChuLmNvbXBsZXRlPXJ8fGZ1bmN0aW9uKCl7fSksbj1sLmNsb25lKG4pLG4uY29udGludW91cz1uLmNvbnRpbnVvdXN8fG4ubGl2ZSxuLnJldHJ5PVwicmV0cnlcImluIG4/bi5yZXRyeTp2LG4uUG91Y2hDb25zdHJ1Y3Rvcj1uLlBvdWNoQ29uc3RydWN0b3J8fHRoaXM7dmFyIG89bmV3IHMobik7cmV0dXJuIHUoZSxuKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB1KHQsbikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gYShlLHQsbikudGhlbihmdW5jdGlvbihyKXtjKHIsZSx0LG4sbyl9KX0pfSlbXCJjYXRjaFwiXShmdW5jdGlvbihlKXtvLmVtaXQoXCJlcnJvclwiLGUpLG4uY29tcGxldGUoZSl9KSxvfXZhciBsPWUoMzQpLGQ9ZSgzOCkuRXZlbnRFbWl0dGVyLHA9ZSgxNCksaD01MCx2PSExO2wuaW5oZXJpdHMocyxkKSxzLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmNhbmNlbGxlZD0hMCx0aGlzLnN0YXRlPVwiY2FuY2VsbGVkXCIsdGhpcy5lbWl0KFwiY2FuY2VsXCIpfSxzLnByb3RvdHlwZS5yZWFkeT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXtvLmNhbmNlbCgpfWZ1bmN0aW9uIHIoKXtlLnJlbW92ZUxpc3RlbmVyKFwiZGVzdHJveWVkXCIsbiksdC5yZW1vdmVMaXN0ZW5lcihcImRlc3Ryb3llZFwiLG4pfXZhciBvPXRoaXM7dGhpcy5vbmNlKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXsoXCJwZW5kaW5nXCI9PT10aGlzLnN0YXRlfHxcInN0b3BwZWRcIj09PXRoaXMuc3RhdGUpJiYoby5zdGF0ZT1cImFjdGl2ZVwiLG8uZW1pdChcImFjdGl2ZVwiKSl9KSxlLm9uY2UoXCJkZXN0cm95ZWRcIixuKSx0Lm9uY2UoXCJkZXN0cm95ZWRcIixuKSx0aGlzLnRoZW4ocixyKX0sbi50b1BvdWNoPXUsbi5yZXBsaWNhdGU9Zn0se31dLDMxOltmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoMTUpLHI9ZSgzNCksbz1yLlByb21pc2UsaT1lKDM4KS5FdmVudEVtaXR0ZXI7bi5hZGFwdGVycz17fSxuLnByZWZlcnJlZEFkYXB0ZXJzPWUoOCksbi5wcmVmaXg9XCJfcG91Y2hfXCI7dmFyIHM9bmV3IGksYT1bXCJvblwiLFwiYWRkTGlzdGVuZXJcIixcImVtaXRcIixcImxpc3RlbmVyc1wiLFwib25jZVwiLFwicmVtb3ZlQWxsTGlzdGVuZXJzXCIsXCJyZW1vdmVMaXN0ZW5lclwiLFwic2V0TWF4TGlzdGVuZXJzXCJdO2EuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdPXNbZV0uYmluZChzKX0pLG4uc2V0TWF4TGlzdGVuZXJzKDApLG4ucGFyc2VBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG8saSxzPWUubWF0Y2goLyhbYS16XFwtXSopOlxcL1xcLyguKikvKTtpZihzKXtpZihlPS9odHRwKHM/KS8udGVzdChzWzFdKT9zWzFdK1wiOi8vXCIrc1syXTpzWzJdLG89c1sxXSwhbi5hZGFwdGVyc1tvXS52YWxpZCgpKXRocm93XCJJbnZhbGlkIGFkYXB0ZXJcIjtyZXR1cm57bmFtZTplLGFkYXB0ZXI6c1sxXX19dmFyIGE9XCJpZGJcImluIG4uYWRhcHRlcnMmJlwid2Vic3FsXCJpbiBuLmFkYXB0ZXJzJiZyLmhhc0xvY2FsU3RvcmFnZSgpJiZsb2NhbFN0b3JhZ2VbXCJfcG91Y2hfX3dlYnNxbGRiX1wiK24ucHJlZml4K2VdO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0JiZ0LmRiKWk9XCJsZXZlbGRiXCI7ZWxzZSBmb3IodmFyIGM9MDtjPG4ucHJlZmVycmVkQWRhcHRlcnMubGVuZ3RoOysrYylpZihpPW4ucHJlZmVycmVkQWRhcHRlcnNbY10saSBpbiBuLmFkYXB0ZXJzKXtpZihhJiZcImlkYlwiPT09aSljb250aW51ZTticmVha31pZihvPW4uYWRhcHRlcnNbaV0saSYmbyl7dmFyIHU9XCJ1c2VfcHJlZml4XCJpbiBvP28udXNlX3ByZWZpeDohMDtyZXR1cm57bmFtZTp1P24ucHJlZml4K2U6ZSxhZGFwdGVyOml9fXRocm93XCJObyB2YWxpZCBhZGFwdGVyIGZvdW5kXCJ9LG4uZGVzdHJveT1yLnRvUHJvbWlzZShmdW5jdGlvbihlLHQsaSl7ZnVuY3Rpb24gcygpe3UuZGVzdHJveShkLHQsZnVuY3Rpb24odCxyKXt0P2kodCk6KG4uZW1pdChcImRlc3Ryb3llZFwiLGUpLG4uZW1pdChlLFwiZGVzdHJveWVkXCIpLGkobnVsbCxyfHx7b2s6ITB9KSl9KX0oXCJmdW5jdGlvblwiPT10eXBlb2YgdHx8XCJ1bmRlZmluZWRcIj09dHlwZW9mIHQpJiYoaT10LHQ9e30pLGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYodD1lLGU9dm9pZCAwKSx0LmludGVybmFsfHxjb25zb2xlLmxvZyhcIlBvdWNoREIuZGVzdHJveSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZC4gUGxlYXNlIHVzZSBkYi5kZXN0cm95KCkgaW5zdGVhZC5cIik7dmFyIGE9bi5wYXJzZUFkYXB0ZXIodC5uYW1lfHxlLHQpLGM9YS5uYW1lLHU9bi5hZGFwdGVyc1thLmFkYXB0ZXJdLGY9XCJ1c2VfcHJlZml4XCJpbiB1P3UudXNlX3ByZWZpeDohMCxsPWY/Yy5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeXCIrbi5wcmVmaXgpLFwiXCIpOmMsZD0oXCJodHRwXCI9PT1hLmFkYXB0ZXJ8fFwiaHR0cHNcIj09PWEuYWRhcHRlcj9cIlwiOnQucHJlZml4fHxcIlwiKStjLHA9ci5leHRlbmQoITAse30sdCx7YWRhcHRlcjphLmFkYXB0ZXJ9KTtuZXcgbihsLHAsZnVuY3Rpb24oZSxhKXtyZXR1cm4gZT9pKGUpOnZvaWQgYS5nZXQoXCJfbG9jYWwvX3BvdWNoX2RlcGVuZGVudERic1wiLGZ1bmN0aW9uKGUsYyl7aWYoZSlyZXR1cm4gNDA0IT09ZS5zdGF0dXM/aShlKTpzKCk7dmFyIHU9Yy5kZXBlbmRlbnREYnMsbD1PYmplY3Qua2V5cyh1KS5tYXAoZnVuY3Rpb24oZSl7dmFyIG89Zj9lLnJlcGxhY2UobmV3IFJlZ0V4cChcIl5cIituLnByZWZpeCksXCJcIik6ZSxpPXIuZXh0ZW5kKCEwLHQsYS5fX29wdHN8fHt9KTtyZXR1cm4gYS5jb25zdHJ1Y3Rvci5kZXN0cm95KG8saSl9KTtvLmFsbChsKS50aGVuKHMsZnVuY3Rpb24oZSl7aShlKX0pfSl9KX0pLG4uYWRhcHRlcj1mdW5jdGlvbihlLHQpe3QudmFsaWQoKSYmKG4uYWRhcHRlcnNbZV09dCl9LG4ucGx1Z2luPWZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7bi5wcm90b3R5cGVbdF09ZVt0XX0pfSxuLmRlZmF1bHRzPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxvLGkpeyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBvfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgbykmJihpPW8sbz17fSksdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJihvPXQsdD12b2lkIDApLG89ci5leHRlbmQoITAse30sZSxvKSxuLmNhbGwodGhpcyx0LG8saSl9cmV0dXJuIHIuaW5oZXJpdHModCxuKSx0LmRlc3Ryb3k9ci50b1Byb21pc2UoZnVuY3Rpb24odCxvLGkpe3JldHVybihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgbykmJihpPW8sbz17fSksdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJihvPXQsdD12b2lkIDApLG89ci5leHRlbmQoITAse30sZSxvKSxuLmRlc3Ryb3kodCxvLGkpfSksYS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09c1tlXS5iaW5kKHMpfSksdC5zZXRNYXhMaXN0ZW5lcnMoMCksdC5wcmVmZXJyZWRBZGFwdGVycz1uLnByZWZlcnJlZEFkYXB0ZXJzLnNsaWNlKCksT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtlIGluIHR8fCh0W2VdPW5bZV0pfSksdH0sdC5leHBvcnRzPW59LHt9XSwzMjpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCxuLHMpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihzPW4sbj17fSksXCJ1bmRlZmluZWRcIj09dHlwZW9mIG4mJihuPXt9KSxuPW8uY2xvbmUobiksbi5Qb3VjaENvbnN0cnVjdG9yPW4uUG91Y2hDb25zdHJ1Y3Rvcnx8dGhpcyxlPWkudG9Qb3VjaChlLG4pLHQ9aS50b1BvdWNoKHQsbiksbmV3IHIoZSx0LG4scyl9ZnVuY3Rpb24gcihlLHQsbixyKXtmdW5jdGlvbiBpKGUpe3Z8fCh2PSEwLGQuZW1pdChcImNhbmNlbFwiLGUpKX1mdW5jdGlvbiBhKGUpe2QuZW1pdChcImNoYW5nZVwiLHtkaXJlY3Rpb246XCJwdWxsXCIsY2hhbmdlOmV9KX1mdW5jdGlvbiBjKGUpe2QuZW1pdChcImNoYW5nZVwiLHtkaXJlY3Rpb246XCJwdXNoXCIsY2hhbmdlOmV9KX1mdW5jdGlvbiB1KGUpe2QuZW1pdChcImRlbmllZFwiLHtkaXJlY3Rpb246XCJwdXNoXCIsZG9jOmV9KX1mdW5jdGlvbiBmKGUpe2QuZW1pdChcImRlbmllZFwiLHtkaXJlY3Rpb246XCJwdWxsXCIsZG9jOmV9KX1mdW5jdGlvbiBsKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciByPVwiY2hhbmdlXCI9PT10JiYobj09PWF8fG49PT1jKSxvPVwiY2FuY2VsXCI9PT10JiZuPT09aSxzPXQgaW4gXyYmbj09PV9bdF07KHJ8fG98fHMpJiYodCBpbiBtfHwobVt0XT17fSksbVt0XVtlXT0hMCwyPT09T2JqZWN0LmtleXMobVt0XSkubGVuZ3RoJiZkLnJlbW92ZUFsbExpc3RlbmVycyh0KSl9fXZhciBkPXRoaXM7dGhpcy5jYW5jZWxlZD0hMTt2YXIgcCxoO1wib25DaGFuZ2VcImluIG4mJihwPW4ub25DaGFuZ2UsZGVsZXRlIG4ub25DaGFuZ2UpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIHJ8fG4uY29tcGxldGU/XCJjb21wbGV0ZVwiaW4gbiYmKGg9bi5jb21wbGV0ZSxkZWxldGUgbi5jb21wbGV0ZSk6aD1yLHRoaXMucHVzaD1zKGUsdCxuKSx0aGlzLnB1bGw9cyh0LGUsbik7dmFyIHY9ITEsXz17fSxtPXt9O24ubGl2ZSYmKHRoaXMucHVzaC5vbihcImNvbXBsZXRlXCIsZC5wdWxsLmNhbmNlbC5iaW5kKGQucHVsbCkpLHRoaXMucHVsbC5vbihcImNvbXBsZXRlXCIsZC5wdXNoLmNhbmNlbC5iaW5kKGQucHVzaCkpKSx0aGlzLm9uKFwibmV3TGlzdGVuZXJcIixmdW5jdGlvbihlKXtcImNoYW5nZVwiPT09ZT8oZC5wdWxsLm9uKFwiY2hhbmdlXCIsYSksZC5wdXNoLm9uKFwiY2hhbmdlXCIsYykpOlwiZGVuaWVkXCI9PT1lPyhkLnB1bGwub24oXCJkZW5pZWRcIixmKSxkLnB1c2gub24oXCJkZW5pZWRcIix1KSk6XCJjYW5jZWxcIj09PWU/KGQucHVsbC5vbihcImNhbmNlbFwiLGkpLGQucHVzaC5vbihcImNhbmNlbFwiLGkpKTpcImVycm9yXCI9PT1lfHxcInJlbW92ZUxpc3RlbmVyXCI9PT1lfHxcImNvbXBsZXRlXCI9PT1lfHxlIGluIF98fChfW2VdPWZ1bmN0aW9uKHQpe2QuZW1pdChlLHQpfSxkLnB1bGwub24oZSxfW2VdKSxkLnB1c2gub24oZSxfW2VdKSl9KSx0aGlzLm9uKFwicmVtb3ZlTGlzdGVuZXJcIixmdW5jdGlvbihlKXtcImNoYW5nZVwiPT09ZT8oZC5wdWxsLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsYSksZC5wdXNoLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsYykpOlwiY2FuY2VsXCI9PT1lPyhkLnB1bGwucmVtb3ZlTGlzdGVuZXIoXCJjYW5jZWxcIixpKSxkLnB1c2gucmVtb3ZlTGlzdGVuZXIoXCJjYW5jZWxcIixpKSk6ZSBpbiBfJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBfW2VdJiYoZC5wdWxsLnJlbW92ZUxpc3RlbmVyKGUsX1tlXSksZC5wdXNoLnJlbW92ZUxpc3RlbmVyKGUsX1tlXSksZGVsZXRlIF9bZV0pfSksdGhpcy5wdWxsLm9uKFwicmVtb3ZlTGlzdGVuZXJcIixsKFwicHVsbFwiKSksdGhpcy5wdXNoLm9uKFwicmVtb3ZlTGlzdGVuZXJcIixsKFwicHVzaFwiKSk7dmFyIGc9by5Qcm9taXNlLmFsbChbdGhpcy5wdXNoLHRoaXMucHVsbF0pLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHQ9e3B1c2g6ZVswXSxwdWxsOmVbMV19O3JldHVybiBkLmVtaXQoXCJjb21wbGV0ZVwiLHQpLGgmJmgobnVsbCx0KSxkLnJlbW92ZUFsbExpc3RlbmVycygpLHR9LGZ1bmN0aW9uKGUpe3Rocm93IGQuY2FuY2VsKCksZC5lbWl0KFwiZXJyb3JcIixlKSxoJiZoKGUpLGQucmVtb3ZlQWxsTGlzdGVuZXJzKCksZX0pO3RoaXMudGhlbj1mdW5jdGlvbihlLHQpe3JldHVybiBnLnRoZW4oZSx0KX0sdGhpc1tcImNhdGNoXCJdPWZ1bmN0aW9uKGUpe3JldHVybiBnW1wiY2F0Y2hcIl0oZSl9fXZhciBvPWUoMzQpLGk9ZSgzMCkscz1pLnJlcGxpY2F0ZSxhPWUoMzgpLkV2ZW50RW1pdHRlcjtvLmluaGVyaXRzKHIsYSksdC5leHBvcnRzPW4sci5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxlZHx8KHRoaXMuY2FuY2VsZWQ9ITAsdGhpcy5wdXNoLmNhbmNlbCgpLHRoaXMucHVsbC5jYW5jZWwoKSl9fSx7fV0sMzM6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe3RoaXMuaXNSZWFkeT0hMSx0aGlzLmZhaWxlZD0hMSx0aGlzLnF1ZXVlPVtdfXQuZXhwb3J0cz1uLG4ucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKHRoaXMuZmFpbGVkKWZvcig7ZT10aGlzLnF1ZXVlLnNoaWZ0KCk7KVwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/KHQ9ZS5wYXJhbWV0ZXJzW2UucGFyYW1ldGVycy5sZW5ndGgtMV0sXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KHRoaXMuZmFpbGVkKTpcImNoYW5nZXNcIj09PWUubmFtZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb21wbGV0ZSYmdC5jb21wbGV0ZSh0aGlzLmZhaWxlZCkpOmUodGhpcy5mYWlsZWQpO2Vsc2UgaWYodGhpcy5pc1JlYWR5KWZvcig7ZT10aGlzLnF1ZXVlLnNoaWZ0KCk7KVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSgpOmUudGFzaz10aGlzLmRiW2UubmFtZV0uYXBwbHkodGhpcy5kYixlLnBhcmFtZXRlcnMpfSxuLnByb3RvdHlwZS5mYWlsPWZ1bmN0aW9uKGUpe3RoaXMuZmFpbGVkPWUsdGhpcy5leGVjdXRlKCl9LG4ucHJvdG90eXBlLnJlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZhaWxlZD8hMTowPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLmlzUmVhZHk6KHRoaXMuaXNSZWFkeT1lPyEwOiExLHRoaXMuZGI9ZSx2b2lkIHRoaXMuZXhlY3V0ZSgpKX0sbi5wcm90b3R5cGUuYWRkVGFzaz1mdW5jdGlvbihlLHQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpe3ZhciBuPXtuYW1lOmUscGFyYW1ldGVyczp0fTtyZXR1cm4gdGhpcy5xdWV1ZS5wdXNoKG4pLHRoaXMuZmFpbGVkJiZ0aGlzLmV4ZWN1dGUoKSxufXRoaXMucXVldWUucHVzaChlKSx0aGlzLmZhaWxlZCYmdGhpcy5leGVjdXRlKCl9fSx7fV0sMzQ6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBvKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNocm9tZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNocm9tZS5zdG9yYWdlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY2hyb21lLnN0b3JhZ2UubG9jYWx9ZnVuY3Rpb24gaSgpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkpKXJldHVybiBuZXcgaTt2YXIgZT10aGlzO3UuY2FsbCh0aGlzKSx0aGlzLmlzQ2hyb21lPW8oKSx0aGlzLmxpc3RlbmVycz17fSx0aGlzLmhhc0xvY2FsPSExLHRoaXMuaXNDaHJvbWV8fCh0aGlzLmhhc0xvY2FsPW4uaGFzTG9jYWxTdG9yYWdlKCkpLHRoaXMuaXNDaHJvbWU/Y2hyb21lLnN0b3JhZ2Uub25DaGFuZ2VkLmFkZExpc3RlbmVyKGZ1bmN0aW9uKHQpe251bGwhPXQuZGJfbmFtZSYmZS5lbWl0KHQuZGJOYW1lLm5ld1ZhbHVlKX0pOnRoaXMuaGFzTG9jYWwmJihcInVuZGVmaW5lZFwiIT10eXBlb2YgYWRkRXZlbnRMaXN0ZW5lcj9hZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLGZ1bmN0aW9uKHQpe2UuZW1pdCh0LmtleSl9KTp3aW5kb3cuYXR0YWNoRXZlbnQoXCJzdG9yYWdlXCIsZnVuY3Rpb24odCl7ZS5lbWl0KHQua2V5KX0pKX12YXIgcz1lKDI5KTtuLmV4dGVuZD1lKDY1KSxuLmFqYXg9ZSgxNiksbi5jcmVhdGVCbG9iPWUoMTcpLG4udXVpZD1lKDI2KSxuLmdldEFyZ3VtZW50cz1lKDM2KTt2YXIgYT1lKDE4KSxjPWUoMTkpLHU9ZSgzOCkuRXZlbnRFbWl0dGVyLGY9ZSg2NCk7bi5NYXA9Zi5NYXAsbi5TZXQ9Zi5TZXQ7dmFyIGw9ZSgyMSk7bi5Qcm9taXNlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHIuUHJvbWlzZT9yLlByb21pc2U6ZSg0Nyk7dmFyIGQ9bi5Qcm9taXNlO24ubGFzdEluZGV4T2Y9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49ZS5sZW5ndGgtMTtuPj0wO24tLSlpZihlLmNoYXJBdChuKT09PXQpcmV0dXJuIG47cmV0dXJuLTF9LG4uY2xvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZXh0ZW5kKCEwLHt9LGUpfSxuLnBpY2s9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49e30scj0wLG89dC5sZW5ndGg7bz5yO3IrKyl7dmFyIGk9dFtyXTtuW2ldPWVbaV19cmV0dXJuIG59LG4uaW5oZXJpdHM9ZSg0Myksbi5jYWxsPW4uZ2V0QXJndW1lbnRzKGZ1bmN0aW9uKGUpe2lmKGUubGVuZ3RoKXt2YXIgdD1lLnNoaWZ0KCk7XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5hcHBseSh0aGlzLGUpfX0pLG4uaXNMb2NhbElkPWZ1bmN0aW9uKGUpe3JldHVybi9eX2xvY2FsLy50ZXN0KGUpfSxuLmlzRGVsZXRlZD1mdW5jdGlvbihlLHQpe3R8fCh0PXMud2lubmluZ1JldihlKSk7dmFyIG49dC5pbmRleE9mKFwiLVwiKTstMSE9PW4mJih0PXQuc3Vic3RyaW5nKG4rMSkpO3ZhciByPSExO3JldHVybiBzLnRyYXZlcnNlUmV2VHJlZShlLnJldl90cmVlLGZ1bmN0aW9uKGUsbixvLGkscyl7bz09PXQmJihyPSEhcy5kZWxldGVkKX0pLHJ9LG4ucmV2RXhpc3RzPWZ1bmN0aW9uKGUsdCl7dmFyIG49ITE7cmV0dXJuIHMudHJhdmVyc2VSZXZUcmVlKGUucmV2X3RyZWUsZnVuY3Rpb24oZSxyLG8pe3IrXCItXCIrbz09PXQmJihuPSEwKX0pLG59LG4uZmlsdGVyQ2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49ZS5maWx0ZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZmlsdGVyO3JldHVybiB0LnF1ZXJ5PWUucXVlcnlfcGFyYW1zLGZ1bmN0aW9uKHIpe2lmKGUuZmlsdGVyJiZuJiYhZS5maWx0ZXIuY2FsbCh0aGlzLHIuZG9jLHQpKXJldHVybiExO2lmKGUuaW5jbHVkZV9kb2NzKXtpZighZS5hdHRhY2htZW50cylmb3IodmFyIG8gaW4gci5kb2MuX2F0dGFjaG1lbnRzKXIuZG9jLl9hdHRhY2htZW50cy5oYXNPd25Qcm9wZXJ0eShvKSYmKHIuZG9jLl9hdHRhY2htZW50c1tvXS5zdHViPSEwKX1lbHNlIGRlbGV0ZSByLmRvYztyZXR1cm4hMH19LG4ucGFyc2VEb2M9bC5wYXJzZURvYyxuLmludmFsaWRJZEVycm9yPWwuaW52YWxpZElkRXJyb3Isbi5pc0NvcmRvdmE9ZnVuY3Rpb24oKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgY29yZG92YXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFBob25lR2FwfHxcInVuZGVmaW5lZFwiIT10eXBlb2YgcGhvbmVnYXB9LG4uaGFzTG9jYWxTdG9yYWdlPWZ1bmN0aW9uKCl7aWYobygpKXJldHVybiExO3RyeXtyZXR1cm4gbG9jYWxTdG9yYWdlfWNhdGNoKGUpe3JldHVybiExfX0sbi5DaGFuZ2VzPWksbi5pbmhlcml0cyhpLHUpLGkucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUscixvLGkpe2Z1bmN0aW9uIHMoKXtpZihhLmxpc3RlbmVyc1tyXSl7aWYoYylyZXR1cm4gdm9pZChjPVwid2FpdGluZ1wiKTtjPSEwLG8uY2hhbmdlcyh7c3R5bGU6aS5zdHlsZSxpbmNsdWRlX2RvY3M6aS5pbmNsdWRlX2RvY3MsYXR0YWNobWVudHM6aS5hdHRhY2htZW50cyxjb25mbGljdHM6aS5jb25mbGljdHMsY29udGludW91czohMSxkZXNjZW5kaW5nOiExLGZpbHRlcjppLmZpbHRlcixkb2NfaWRzOmkuZG9jX2lkcyx2aWV3OmkudmlldyxzaW5jZTppLnNpbmNlLHF1ZXJ5X3BhcmFtczppLnF1ZXJ5X3BhcmFtc30pLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oZSl7ZS5zZXE+aS5zaW5jZSYmIWkuY2FuY2VsbGVkJiYoaS5zaW5jZT1lLnNlcSxuLmNhbGwoaS5vbkNoYW5nZSxlKSl9KS5vbihcImNvbXBsZXRlXCIsZnVuY3Rpb24oKXtcIndhaXRpbmdcIj09PWMmJnQubmV4dFRpY2soZnVuY3Rpb24oKXthLm5vdGlmeShlKX0pLGM9ITF9KS5vbihcImVycm9yXCIsZnVuY3Rpb24oKXtjPSExfSl9fWlmKCF0aGlzLmxpc3RlbmVyc1tyXSl7dmFyIGE9dGhpcyxjPSExO3RoaXMubGlzdGVuZXJzW3JdPXMsdGhpcy5vbihlLHMpXG59fSxpLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3QgaW4gdGhpcy5saXN0ZW5lcnMmJnUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcyxlLHRoaXMubGlzdGVuZXJzW3RdKX0saS5wcm90b3R5cGUubm90aWZ5TG9jYWxXaW5kb3dzPWZ1bmN0aW9uKGUpe3RoaXMuaXNDaHJvbWU/Y2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHtkYk5hbWU6ZX0pOnRoaXMuaGFzTG9jYWwmJihsb2NhbFN0b3JhZ2VbZV09XCJhXCI9PT1sb2NhbFN0b3JhZ2VbZV0/XCJiXCI6XCJhXCIpfSxpLnByb3RvdHlwZS5ub3RpZnk9ZnVuY3Rpb24oZSl7dGhpcy5lbWl0KGUpLHRoaXMubm90aWZ5TG9jYWxXaW5kb3dzKGUpfSxuLmF0b2I9XCJmdW5jdGlvblwiPT10eXBlb2YgYXRvYj9mdW5jdGlvbihlKXtyZXR1cm4gYXRvYihlKX06ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGEoZSxcImJhc2U2NFwiKTtpZih0LnRvU3RyaW5nKFwiYmFzZTY0XCIpIT09ZSl0aHJvd1wiQ2Fubm90IGJhc2U2NCBlbmNvZGUgZnVsbCBzdHJpbmdcIjtyZXR1cm4gdC50b1N0cmluZyhcImJpbmFyeVwiKX0sbi5idG9hPVwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2E/ZnVuY3Rpb24oZSl7cmV0dXJuIGJ0b2EoZSl9OmZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYShlLFwiYmluYXJ5XCIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpfSxuLmZpeEJpbmFyeT1mdW5jdGlvbihlKXtpZighdC5icm93c2VyKXJldHVybiBlO2Zvcih2YXIgbj1lLmxlbmd0aCxyPW5ldyBBcnJheUJ1ZmZlcihuKSxvPW5ldyBVaW50OEFycmF5KHIpLGk9MDtuPmk7aSsrKW9baV09ZS5jaGFyQ29kZUF0KGkpO3JldHVybiByfSxuLnJlYWRBc0JpbmFyeVN0cmluZz1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBGaWxlUmVhZGVyLG89XCJmdW5jdGlvblwiPT10eXBlb2Ygci5yZWFkQXNCaW5hcnlTdHJpbmc7ci5vbmxvYWRlbmQ9ZnVuY3Rpb24oZSl7dmFyIHI9ZS50YXJnZXQucmVzdWx0fHxcIlwiO3JldHVybiBvP3Qocik6dm9pZCB0KG4uYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhyKSl9LG8/ci5yZWFkQXNCaW5hcnlTdHJpbmcoZSk6ci5yZWFkQXNBcnJheUJ1ZmZlcihlKX0sbi5yZWFkQXNBcnJheUJ1ZmZlcj1mdW5jdGlvbihlLHQpe3ZhciBuPW5ldyBGaWxlUmVhZGVyO24ub25sb2FkZW5kPWZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LnJlc3VsdHx8bmV3IEFycmF5QnVmZmVyKDApO3Qobil9LG4ucmVhZEFzQXJyYXlCdWZmZXIoZSl9LG4ub25jZT1mdW5jdGlvbihlKXt2YXIgdD0hMTtyZXR1cm4gbi5nZXRBcmd1bWVudHMoZnVuY3Rpb24obil7aWYodCl0aHJvdyBuZXcgRXJyb3IoXCJvbmNlIGNhbGxlZCAgbW9yZSB0aGFuIG9uY2VcIik7dD0hMCxlLmFwcGx5KHRoaXMsbil9KX0sbi50b1Byb21pc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG4uZ2V0QXJndW1lbnRzKGZ1bmN0aW9uKHIpe3ZhciBvLGk9dGhpcyxzPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJbci5sZW5ndGgtMV0/ci5wb3AoKTohMTtzJiYobz1mdW5jdGlvbihlLG4pe3QubmV4dFRpY2soZnVuY3Rpb24oKXtzKGUsbil9KX0pO3ZhciBhPW5ldyBkKGZ1bmN0aW9uKHQsbyl7dmFyIHM7dHJ5e3ZhciBhPW4ub25jZShmdW5jdGlvbihlLG4pe2U/byhlKTp0KG4pfSk7ci5wdXNoKGEpLHM9ZS5hcHBseShpLHIpLHMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHMudGhlbiYmdChzKX1jYXRjaChjKXtvKGMpfX0pO3JldHVybiBvJiZhLnRoZW4oZnVuY3Rpb24oZSl7byhudWxsLGUpfSxvKSxhLmNhbmNlbD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxhfSl9LG4uYWRhcHRlckZ1bj1mdW5jdGlvbih0LHIpe2Z1bmN0aW9uIG8oZSx0LG4pe2lmKGkuZW5hYmxlZCl7Zm9yKHZhciByPVtlLl9kYl9uYW1lLHRdLG89MDtvPG4ubGVuZ3RoLTE7bysrKXIucHVzaChuW29dKTtpLmFwcGx5KG51bGwscik7dmFyIHM9bltuLmxlbmd0aC0xXTtuW24ubGVuZ3RoLTFdPWZ1bmN0aW9uKG4scil7dmFyIG89W2UuX2RiX25hbWUsdF07bz1vLmNvbmNhdChuP1tcImVycm9yXCIsbl06W1wic3VjY2Vzc1wiLHJdKSxpLmFwcGx5KG51bGwsbykscyhuLHIpfX19dmFyIGk9ZSg0MCkoXCJwb3VjaGRiOmFwaVwiKTtyZXR1cm4gbi50b1Byb21pc2Uobi5nZXRBcmd1bWVudHMoZnVuY3Rpb24oZSl7aWYodGhpcy5fY2xvc2VkKXJldHVybiBkLnJlamVjdChuZXcgRXJyb3IoXCJkYXRhYmFzZSBpcyBjbG9zZWRcIikpO3ZhciBpPXRoaXM7cmV0dXJuIG8oaSx0LGUpLHRoaXMudGFza3F1ZXVlLmlzUmVhZHk/ci5hcHBseSh0aGlzLGUpOm5ldyBuLlByb21pc2UoZnVuY3Rpb24obixyKXtpLnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uKG8pe28/cihvKTpuKGlbdF0uYXBwbHkoaSxlKSl9KX0pfSkpfSxuLmFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVwiXCIsbj1uZXcgVWludDhBcnJheShlKSxyPW4uYnl0ZUxlbmd0aCxvPTA7cj5vO28rKyl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKG5bb10pO3JldHVybiB0fSxuLmNhbmNlbGxhYmxlRnVuPWZ1bmN0aW9uKGUsdCxyKXtyPXI/bi5jbG9uZSghMCx7fSxyKTp7fTt2YXIgbz1uZXcgdSxpPXIuY29tcGxldGV8fGZ1bmN0aW9uKCl7fSxzPXIuY29tcGxldGU9bi5vbmNlKGZ1bmN0aW9uKGUsdCl7ZT9pKGUpOihvLmVtaXQoXCJlbmRcIix0KSxpKG51bGwsdCkpLG8ucmVtb3ZlQWxsTGlzdGVuZXJzKCl9KSxhPXIub25DaGFuZ2V8fGZ1bmN0aW9uKCl7fSxjPTA7dC5vbihcImRlc3Ryb3llZFwiLGZ1bmN0aW9uKCl7by5yZW1vdmVBbGxMaXN0ZW5lcnMoKX0pLHIub25DaGFuZ2U9ZnVuY3Rpb24oZSl7YShlKSxlLnNlcTw9Y3x8KGM9ZS5zZXEsby5lbWl0KFwiY2hhbmdlXCIsZSksZS5kZWxldGVkP28uZW1pdChcImRlbGV0ZVwiLGUpOjE9PT1lLmNoYW5nZXMubGVuZ3RoJiZcIjEtXCI9PT1lLmNoYW5nZXNbMF0ucmV2LnNsaWNlKDAsMSk/by5lbWl0KFwiY3JlYXRlXCIsZSk6by5lbWl0KFwidXBkYXRlXCIsZSkpfTt2YXIgZj1uZXcgZChmdW5jdGlvbihlLHQpe3IuY29tcGxldGU9ZnVuY3Rpb24obixyKXtuP3Qobik6ZShyKX19KTtyZXR1cm4gZi50aGVuKGZ1bmN0aW9uKGUpe3MobnVsbCxlKX0scyksZi5jYW5jZWw9ZnVuY3Rpb24oKXtmLmlzQ2FuY2VsbGVkPSEwLHQudGFza3F1ZXVlLmlzUmVhZHkmJnIuY29tcGxldGUobnVsbCx7c3RhdHVzOlwiY2FuY2VsbGVkXCJ9KX0sdC50YXNrcXVldWUuaXNSZWFkeT9lKHQscixmKTp0LnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uKCl7Zi5pc0NhbmNlbGxlZD9yLmNvbXBsZXRlKG51bGwse3N0YXR1czpcImNhbmNlbGxlZFwifSk6ZSh0LHIsZil9KSxmLm9uPW8ub24uYmluZChvKSxmLm9uY2U9by5vbmNlLmJpbmQobyksZi5hZGRMaXN0ZW5lcj1vLmFkZExpc3RlbmVyLmJpbmQobyksZi5yZW1vdmVMaXN0ZW5lcj1vLnJlbW92ZUxpc3RlbmVyLmJpbmQobyksZi5yZW1vdmVBbGxMaXN0ZW5lcnM9by5yZW1vdmVBbGxMaXN0ZW5lcnMuYmluZChvKSxmLnNldE1heExpc3RlbmVycz1vLnNldE1heExpc3RlbmVycy5iaW5kKG8pLGYubGlzdGVuZXJzPW8ubGlzdGVuZXJzLmJpbmQobyksZi5lbWl0PW8uZW1pdC5iaW5kKG8pLGZ9LG4uTUQ1PW4udG9Qcm9taXNlKGUoMjApKSxuLmV4cGxhaW40MDQ9ZnVuY3Rpb24oZSl7dC5icm93c2VyJiZcImNvbnNvbGVcImluIHImJlwiaW5mb1wiaW4gY29uc29sZSYmY29uc29sZS5pbmZvKFwiVGhlIGFib3ZlIDQwNCBpcyB0b3RhbGx5IG5vcm1hbC4gXCIrZSl9LG4uaW5mbz1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJpbmZvXCJpbiBjb25zb2xlJiZjb25zb2xlLmluZm8oZSl9LG4ucGFyc2VVcmk9ZSgyMyksbi5jb21wYXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ+ZT8tMTplPnQ/MTowfSxuLnVwZGF0ZURvYz1mdW5jdGlvbihlLHQscixvLGksYSx1KXtpZihuLnJldkV4aXN0cyhlLHQubWV0YWRhdGEucmV2KSlyZXR1cm4gcltvXT10LGkoKTt2YXIgZj1uLmlzRGVsZXRlZChlKSxsPW4uaXNEZWxldGVkKHQubWV0YWRhdGEpLGQ9L14xLS8udGVzdCh0Lm1ldGFkYXRhLnJldik7aWYoZiYmIWwmJnUmJmQpe3ZhciBwPXQuZGF0YTtwLl9yZXY9cy53aW5uaW5nUmV2KGUpLHAuX2lkPXQubWV0YWRhdGEuaWQsdD1uLnBhcnNlRG9jKHAsdSl9dmFyIGg9cy5tZXJnZShlLnJldl90cmVlLHQubWV0YWRhdGEucmV2X3RyZWVbMF0sMWUzKSx2PXUmJihmJiZsfHwhZiYmXCJuZXdfbGVhZlwiIT09aC5jb25mbGljdHN8fGYmJiFsJiZcIm5ld19icmFuY2hcIj09PWguY29uZmxpY3RzKTtpZih2KXt2YXIgXz1jLmVycm9yKGMuUkVWX0NPTkZMSUNUKTtyZXR1cm4gcltvXT1fLGkoKX12YXIgbT10Lm1ldGFkYXRhLnJldjt0Lm1ldGFkYXRhLnJldl90cmVlPWgudHJlZSxlLnJldl9tYXAmJih0Lm1ldGFkYXRhLnJldl9tYXA9ZS5yZXZfbWFwKTt2YXIgZz1zLndpbm5pbmdSZXYodC5tZXRhZGF0YSk7bD1uLmlzRGVsZXRlZCh0Lm1ldGFkYXRhLGcpO3ZhciB5PTA7KHV8fGc9PT1tKSYmKHk9Zj09PWw/MDpsPmY/LTE6MSksYSh0LGcsbCxpLCEwLHksbyl9LG4ucHJvY2Vzc0RvY3M9ZnVuY3Rpb24oZSx0LHIsbyxpLGEsdSxmKXtmdW5jdGlvbiBsKGUsdCxyKXt2YXIgbz1zLndpbm5pbmdSZXYoZS5tZXRhZGF0YSksZj1uLmlzRGVsZXRlZChlLm1ldGFkYXRhLG8pO2lmKFwid2FzX2RlbGV0ZVwiaW4gdSYmZilyZXR1cm4gaVt0XT1jLmVycm9yKGMuTUlTU0lOR19ET0MsXCJkZWxldGVkXCIpLHIoKTt2YXIgbD1mPzA6MTthKGUsbyxmLHIsITEsbCx0KX1mdW5jdGlvbiBkKCl7Kyt2PT09XyYmZiYmZigpfWlmKGUubGVuZ3RoKXt2YXIgcD11Lm5ld19lZGl0cyxoPW5ldyBuLk1hcCx2PTAsXz1lLmxlbmd0aDtlLmZvckVhY2goZnVuY3Rpb24oZSxyKXtpZihlLl9pZCYmbi5pc0xvY2FsSWQoZS5faWQpKXJldHVybiB2b2lkIHRbZS5fZGVsZXRlZD9cIl9yZW1vdmVMb2NhbFwiOlwiX3B1dExvY2FsXCJdKGUse2N0eDpvfSxmdW5jdGlvbihlKXtpW3JdPWU/ZTp7b2s6ITB9LGQoKX0pO3ZhciBzPWUubWV0YWRhdGEuaWQ7aC5oYXMocyk/KF8tLSxoLmdldChzKS5wdXNoKFtlLHJdKSk6aC5zZXQocyxbW2Uscl1dKX0pLGguZm9yRWFjaChmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG8oKXsrK2M8ZS5sZW5ndGg/cygpOmQoKX1mdW5jdGlvbiBzKCl7dmFyIHM9ZVtjXSx1PXNbMF0sZj1zWzFdO3IuaGFzKHQpP24udXBkYXRlRG9jKHIuZ2V0KHQpLHUsaSxmLG8sYSxwKTpsKHUsZixvKX12YXIgYz0wO3MoKX0pfX0sbi5wcmVwcm9jZXNzQXR0YWNobWVudHM9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG8oZSl7dHJ5e3JldHVybiBuLmF0b2IoZSl9Y2F0Y2godCl7dmFyIHI9Yy5lcnJvcihjLkJBRF9BUkcsXCJBdHRhY2htZW50cyBuZWVkIHRvIGJlIGJhc2U2NCBlbmNvZGVkXCIpO3JldHVybntlcnJvcjpyfX19ZnVuY3Rpb24gaShlLHIpe2lmKGUuc3R1YilyZXR1cm4gcigpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGEpe3ZhciBpPW8oZS5kYXRhKTtpZihpLmVycm9yKXJldHVybiByKGkuZXJyb3IpO2UubGVuZ3RoPWkubGVuZ3RoLGUuZGF0YT1cImJsb2JcIj09PXQ/bi5jcmVhdGVCbG9iKFtuLmZpeEJpbmFyeShpKV0se3R5cGU6ZS5jb250ZW50X3R5cGV9KTpcImJhc2U2NFwiPT09dD9uLmJ0b2EoaSk6aSxuLk1ENShpKS50aGVuKGZ1bmN0aW9uKHQpe2UuZGlnZXN0PVwibWQ1LVwiK3QscigpfSl9ZWxzZSBuLnJlYWRBc0FycmF5QnVmZmVyKGUuZGF0YSxmdW5jdGlvbihvKXtcImJpbmFyeVwiPT09dD9lLmRhdGE9bi5hcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKG8pOlwiYmFzZTY0XCI9PT10JiYoZS5kYXRhPW4uYnRvYShuLmFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcobykpKSxuLk1ENShvKS50aGVuKGZ1bmN0aW9uKHQpe2UuZGlnZXN0PVwibWQ1LVwiK3QsZS5sZW5ndGg9by5ieXRlTGVuZ3RoLHIoKX0pfSl9ZnVuY3Rpb24gcygpe3UrKyxlLmxlbmd0aD09PXUmJihhP3IoYSk6cigpKX1pZighZS5sZW5ndGgpcmV0dXJuIHIoKTt2YXIgYSx1PTA7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7YT1lLHIrKyxyPT09bi5sZW5ndGgmJnMoKX12YXIgbj1lLmRhdGEmJmUuZGF0YS5fYXR0YWNobWVudHM/T2JqZWN0LmtleXMoZS5kYXRhLl9hdHRhY2htZW50cyk6W10scj0wO2lmKCFuLmxlbmd0aClyZXR1cm4gcygpO2Zvcih2YXIgbyBpbiBlLmRhdGEuX2F0dGFjaG1lbnRzKWUuZGF0YS5fYXR0YWNobWVudHMuaGFzT3duUHJvcGVydHkobykmJmkoZS5kYXRhLl9hdHRhY2htZW50c1tvXSx0KX0pfSxuLmNvbXBhY3RUcmVlPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBzLnRyYXZlcnNlUmV2VHJlZShlLnJldl90cmVlLGZ1bmN0aW9uKGUsbixyLG8saSl7XCJhdmFpbGFibGVcIiE9PWkuc3RhdHVzfHxlfHwodC5wdXNoKG4rXCItXCIrciksaS5zdGF0dXM9XCJtaXNzaW5nXCIpfSksdH07dmFyIHA9ZSg3NCk7bi5zYWZlSnNvblBhcnNlPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaCh0KXtyZXR1cm4gcC5wYXJzZShlKX19LG4uc2FmZUpzb25TdHJpbmdpZnk9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnN0cmluZ2lmeShlKX1jYXRjaCh0KXtyZXR1cm4gcC5zdHJpbmdpZnkoZSl9fX0pLmNhbGwodGhpcyxlKDM5KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDM1OltmdW5jdGlvbihlLHQpe3QuZXhwb3J0cz1cIjMuMy4xXCJ9LHt9XSwzNjpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg7aWYodCl7Zm9yKHZhciBuPVtdLHI9LTE7KytyPHQ7KW5bcl09YXJndW1lbnRzW3JdO3JldHVybiBlLmNhbGwodGhpcyxuKX1yZXR1cm4gZS5jYWxsKHRoaXMsW10pfX10LmV4cG9ydHM9bn0se31dLDM3OltmdW5jdGlvbigpe30se31dLDM4OltmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9ZnVuY3Rpb24gcihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIG8oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gaShlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWV9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gdm9pZCAwPT09ZX10LmV4cG9ydHM9bixuLkV2ZW50RW1pdHRlcj1uLG4ucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLG4ucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwLG4uZGVmYXVsdE1heExpc3RlbmVycz0xMCxuLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7aWYoIW8oZSl8fDA+ZXx8aXNOYU4oZSkpdGhyb3cgVHlwZUVycm9yKFwibiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSxuLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxhLGMsdTtpZih0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pLFwiZXJyb3JcIj09PWUmJighdGhpcy5fZXZlbnRzLmVycm9yfHxpKHRoaXMuX2V2ZW50cy5lcnJvcikmJiF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSl7aWYodD1hcmd1bWVudHNbMV0sdCBpbnN0YW5jZW9mIEVycm9yKXRocm93IHQ7dGhyb3cgVHlwZUVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LicpfWlmKG49dGhpcy5fZXZlbnRzW2VdLHMobikpcmV0dXJuITE7aWYocihuKSlzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAxOm4uY2FsbCh0aGlzKTticmVhaztjYXNlIDI6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdKTticmVhaztjYXNlIDM6bi5jYWxsKHRoaXMsYXJndW1lbnRzWzFdLGFyZ3VtZW50c1syXSk7YnJlYWs7ZGVmYXVsdDpmb3Iobz1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KG8tMSksYz0xO28+YztjKyspYVtjLTFdPWFyZ3VtZW50c1tjXTtuLmFwcGx5KHRoaXMsYSl9ZWxzZSBpZihpKG4pKXtmb3Iobz1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KG8tMSksYz0xO28+YztjKyspYVtjLTFdPWFyZ3VtZW50c1tjXTtmb3IodT1uLnNsaWNlKCksbz11Lmxlbmd0aCxjPTA7bz5jO2MrKyl1W2NdLmFwcGx5KHRoaXMsYSl9cmV0dXJuITB9LG4ucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIG87aWYoIXIodCkpdGhyb3cgVHlwZUVycm9yKFwibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO2lmKHRoaXMuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz17fSksdGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyJiZ0aGlzLmVtaXQoXCJuZXdMaXN0ZW5lclwiLGUscih0Lmxpc3RlbmVyKT90Lmxpc3RlbmVyOnQpLHRoaXMuX2V2ZW50c1tlXT9pKHRoaXMuX2V2ZW50c1tlXSk/dGhpcy5fZXZlbnRzW2VdLnB1c2godCk6dGhpcy5fZXZlbnRzW2VdPVt0aGlzLl9ldmVudHNbZV0sdF06dGhpcy5fZXZlbnRzW2VdPXQsaSh0aGlzLl9ldmVudHNbZV0pJiYhdGhpcy5fZXZlbnRzW2VdLndhcm5lZCl7dmFyIG87bz1zKHRoaXMuX21heExpc3RlbmVycyk/bi5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoaXMuX21heExpc3RlbmVycyxvJiZvPjAmJnRoaXMuX2V2ZW50c1tlXS5sZW5ndGg+byYmKHRoaXMuX2V2ZW50c1tlXS53YXJuZWQ9ITAsY29uc29sZS5lcnJvcihcIihub2RlKSB3YXJuaW5nOiBwb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXQuXCIsdGhpcy5fZXZlbnRzW2VdLmxlbmd0aCksXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS50cmFjZSYmY29uc29sZS50cmFjZSgpKX1yZXR1cm4gdGhpc30sbi5wcm90b3R5cGUub249bi5wcm90b3R5cGUuYWRkTGlzdGVuZXIsbi5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLnJlbW92ZUxpc3RlbmVyKGUsbiksb3x8KG89ITAsdC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfWlmKCFyKHQpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt2YXIgbz0hMTtyZXR1cm4gbi5saXN0ZW5lcj10LHRoaXMub24oZSxuKSx0aGlzfSxuLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuLG8scyxhO2lmKCFyKHQpKXRocm93IFR5cGVFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTtpZighdGhpcy5fZXZlbnRzfHwhdGhpcy5fZXZlbnRzW2VdKXJldHVybiB0aGlzO2lmKG49dGhpcy5fZXZlbnRzW2VdLHM9bi5sZW5ndGgsbz0tMSxuPT09dHx8cihuLmxpc3RlbmVyKSYmbi5saXN0ZW5lcj09PXQpZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSx0KTtlbHNlIGlmKGkobikpe2ZvcihhPXM7YS0tPjA7KWlmKG5bYV09PT10fHxuW2FdLmxpc3RlbmVyJiZuW2FdLmxpc3RlbmVyPT09dCl7bz1hO2JyZWFrfWlmKDA+bylyZXR1cm4gdGhpczsxPT09bi5sZW5ndGg/KG4ubGVuZ3RoPTAsZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSk6bi5zcGxpY2UobywxKSx0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSx0KX1yZXR1cm4gdGhpc30sbi5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoIXRoaXMuX2V2ZW50cylyZXR1cm4gdGhpcztpZighdGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLl9ldmVudHM9e306dGhpcy5fZXZlbnRzW2VdJiZkZWxldGUgdGhpcy5fZXZlbnRzW2VdLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih0IGluIHRoaXMuX2V2ZW50cylcInJlbW92ZUxpc3RlbmVyXCIhPT10JiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyh0KTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9e30sdGhpc31pZihuPXRoaXMuX2V2ZW50c1tlXSxyKG4pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuKTtlbHNlIGZvcig7bi5sZW5ndGg7KXRoaXMucmVtb3ZlTGlzdGVuZXIoZSxuW24ubGVuZ3RoLTFdKTtyZXR1cm4gZGVsZXRlIHRoaXMuX2V2ZW50c1tlXSx0aGlzfSxuLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbZV0/cih0aGlzLl9ldmVudHNbZV0pP1t0aGlzLl9ldmVudHNbZV1dOnRoaXMuX2V2ZW50c1tlXS5zbGljZSgpOltdfSxuLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbj1lLl9ldmVudHMmJmUuX2V2ZW50c1t0XT9yKGUuX2V2ZW50c1t0XSk/MTplLl9ldmVudHNbdF0ubGVuZ3RoOjB9fSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbigpe312YXIgcj10LmV4cG9ydHM9e307ci5uZXh0VGljaz1mdW5jdGlvbigpe3ZhciBlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5zZXRJbW1lZGlhdGUsdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuTXV0YXRpb25PYnNlcnZlcixuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wb3N0TWVzc2FnZSYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXI7aWYoZSlyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5zZXRJbW1lZGlhdGUoZSl9O3ZhciByPVtdO2lmKHQpe3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksaT1uZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe3ZhciBlPXIuc2xpY2UoKTtyLmxlbmd0aD0wLGUuZm9yRWFjaChmdW5jdGlvbihlKXtlKCl9KX0pO3JldHVybiBpLm9ic2VydmUobyx7YXR0cmlidXRlczohMH0pLGZ1bmN0aW9uKGUpe3IubGVuZ3RofHxvLnNldEF0dHJpYnV0ZShcInllc1wiLFwibm9cIiksci5wdXNoKGUpfX1yZXR1cm4gbj8od2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zb3VyY2U7aWYoKHQ9PT13aW5kb3d8fG51bGw9PT10KSYmXCJwcm9jZXNzLXRpY2tcIj09PWUuZGF0YSYmKGUuc3RvcFByb3BhZ2F0aW9uKCksci5sZW5ndGg+MCkpe3ZhciBuPXIuc2hpZnQoKTtuKCl9fSwhMCksZnVuY3Rpb24oZSl7ci5wdXNoKGUpLHdpbmRvdy5wb3N0TWVzc2FnZShcInByb2Nlc3MtdGlja1wiLFwiKlwiKX0pOmZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoZSwwKX19KCksci50aXRsZT1cImJyb3dzZXJcIixyLmJyb3dzZXI9ITAsci5lbnY9e30sci5hcmd2PVtdLHIub249bixyLmFkZExpc3RlbmVyPW4sci5vbmNlPW4sci5vZmY9bixyLnJlbW92ZUxpc3RlbmVyPW4sci5yZW1vdmVBbGxMaXN0ZW5lcnM9bixyLmVtaXQ9bixyLmJpbmRpbmc9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sci5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sci5jaGRpcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX19LHt9XSw0MDpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXtyZXR1cm5cIldlYmtpdEFwcGVhcmFuY2VcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZXx8d2luZG93LmNvbnNvbGUmJihjb25zb2xlLmZpcmVidWd8fGNvbnNvbGUuZXhjZXB0aW9uJiZjb25zb2xlLnRhYmxlKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykmJnBhcnNlSW50KFJlZ0V4cC4kMSwxMCk+PTMxfWZ1bmN0aW9uIG8oKXt2YXIgZT1hcmd1bWVudHMsdD10aGlzLnVzZUNvbG9ycztpZihlWzBdPSh0P1wiJWNcIjpcIlwiKSt0aGlzLm5hbWVzcGFjZSsodD9cIiAlY1wiOlwiIFwiKStlWzBdKyh0P1wiJWMgXCI6XCIgXCIpK1wiK1wiK24uaHVtYW5pemUodGhpcy5kaWZmKSwhdClyZXR1cm4gZTt2YXIgcj1cImNvbG9yOiBcIit0aGlzLmNvbG9yO2U9W2VbMF0scixcImNvbG9yOiBpbmhlcml0XCJdLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLDEpKTt2YXIgbz0wLGk9MDtyZXR1cm4gZVswXS5yZXBsYWNlKC8lW2EteiVdL2csZnVuY3Rpb24oZSl7XCIlXCIhPT1lJiYobysrLFwiJWNcIj09PWUmJihpPW8pKX0pLGUuc3BsaWNlKGksMCxyKSxlfWZ1bmN0aW9uIGkoKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgY29uc29sZSYmY29uc29sZS5sb2cmJkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGUubG9nLGNvbnNvbGUsYXJndW1lbnRzKX1mdW5jdGlvbiBzKGUpe3RyeXtudWxsPT1lP3UucmVtb3ZlSXRlbShcImRlYnVnXCIpOnUuZGVidWc9ZX1jYXRjaCh0KXt9fWZ1bmN0aW9uIGEoKXt2YXIgZTt0cnl7ZT11LmRlYnVnfWNhdGNoKHQpe31yZXR1cm4gZX1mdW5jdGlvbiBjKCl7dHJ5e3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe319bj10LmV4cG9ydHM9ZSg0MSksbi5sb2c9aSxuLmZvcm1hdEFyZ3M9byxuLnNhdmU9cyxuLmxvYWQ9YSxuLnVzZUNvbG9ycz1yO3ZhciB1O3U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNocm9tZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNocm9tZS5zdG9yYWdlP2Nocm9tZS5zdG9yYWdlLmxvY2FsOmMoKSxuLmNvbG9ycz1bXCJsaWdodHNlYWdyZWVuXCIsXCJmb3Jlc3RncmVlblwiLFwiZ29sZGVucm9kXCIsXCJkb2RnZXJibHVlXCIsXCJkYXJrb3JjaGlkXCIsXCJjcmltc29uXCJdLG4uZm9ybWF0dGVycy5qPWZ1bmN0aW9uKGUpe3JldHVybiBKU09OLnN0cmluZ2lmeShlKX0sbi5lbmFibGUoYSgpKX0se31dLDQxOltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3JldHVybiBuLmNvbG9yc1tmKyslbi5jb2xvcnMubGVuZ3RoXX1mdW5jdGlvbiBvKGUpe2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gbygpe3ZhciBlPW8sdD0rbmV3IERhdGUsaT10LSh1fHx0KTtlLmRpZmY9aSxlLnByZXY9dSxlLmN1cnI9dCx1PXQsbnVsbD09ZS51c2VDb2xvcnMmJihlLnVzZUNvbG9ycz1uLnVzZUNvbG9ycygpKSxudWxsPT1lLmNvbG9yJiZlLnVzZUNvbG9ycyYmKGUuY29sb3I9cigpKTt2YXIgcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO3NbMF09bi5jb2VyY2Uoc1swXSksXCJzdHJpbmdcIiE9dHlwZW9mIHNbMF0mJihzPVtcIiVvXCJdLmNvbmNhdChzKSk7dmFyIGE9MDtzWzBdPXNbMF0ucmVwbGFjZSgvJShbYS16JV0pL2csZnVuY3Rpb24odCxyKXtpZihcIiVcIj09PXQpcmV0dXJuIHQ7YSsrO3ZhciBvPW4uZm9ybWF0dGVyc1tyXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvKXt2YXIgaT1zW2FdO3Q9by5jYWxsKGUsaSkscy5zcGxpY2UoYSwxKSxhLS19cmV0dXJuIHR9KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLmZvcm1hdEFyZ3MmJihzPW4uZm9ybWF0QXJncy5hcHBseShlLHMpKTt2YXIgYz1vLmxvZ3x8bi5sb2d8fGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7Yy5hcHBseShlLHMpfXQuZW5hYmxlZD0hMSxvLmVuYWJsZWQ9ITA7dmFyIGk9bi5lbmFibGVkKGUpP286dDtyZXR1cm4gaS5uYW1lc3BhY2U9ZSxpfWZ1bmN0aW9uIGkoZSl7bi5zYXZlKGUpO2Zvcih2YXIgdD0oZXx8XCJcIikuc3BsaXQoL1tcXHMsXSsvKSxyPXQubGVuZ3RoLG89MDtyPm87bysrKXRbb10mJihlPXRbb10ucmVwbGFjZSgvXFwqL2csXCIuKj9cIiksXCItXCI9PT1lWzBdP24uc2tpcHMucHVzaChuZXcgUmVnRXhwKFwiXlwiK2Uuc3Vic3RyKDEpK1wiJFwiKSk6bi5uYW1lcy5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrZStcIiRcIikpKX1mdW5jdGlvbiBzKCl7bi5lbmFibGUoXCJcIil9ZnVuY3Rpb24gYShlKXt2YXIgdCxyO2Zvcih0PTAscj1uLnNraXBzLmxlbmd0aDtyPnQ7dCsrKWlmKG4uc2tpcHNbdF0udGVzdChlKSlyZXR1cm4hMTtmb3IodD0wLHI9bi5uYW1lcy5sZW5ndGg7cj50O3QrKylpZihuLm5hbWVzW3RdLnRlc3QoZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEVycm9yP2Uuc3RhY2t8fGUubWVzc2FnZTplfW49dC5leHBvcnRzPW8sbi5jb2VyY2U9YyxuLmRpc2FibGU9cyxuLmVuYWJsZT1pLG4uZW5hYmxlZD1hLG4uaHVtYW5pemU9ZSg0Miksbi5uYW1lcz1bXSxuLnNraXBzPVtdLG4uZm9ybWF0dGVycz17fTt2YXIgdSxmPTB9LHt9XSw0MjpbZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKGUpe3ZhciB0PS9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1zfHNlY29uZHM/fHN8bWludXRlcz98bXxob3Vycz98aHxkYXlzP3xkfHllYXJzP3x5KT8kL2kuZXhlYyhlKTtpZih0KXt2YXIgbj1wYXJzZUZsb2F0KHRbMV0pLHI9KHRbMl18fFwibXNcIikudG9Mb3dlckNhc2UoKTtzd2l0Y2gocil7Y2FzZVwieWVhcnNcIjpjYXNlXCJ5ZWFyXCI6Y2FzZVwieVwiOnJldHVybiBuKmY7Y2FzZVwiZGF5c1wiOmNhc2VcImRheVwiOmNhc2VcImRcIjpyZXR1cm4gbip1O2Nhc2VcImhvdXJzXCI6Y2FzZVwiaG91clwiOmNhc2VcImhcIjpyZXR1cm4gbipjO2Nhc2VcIm1pbnV0ZXNcIjpjYXNlXCJtaW51dGVcIjpjYXNlXCJtXCI6cmV0dXJuIG4qYTtjYXNlXCJzZWNvbmRzXCI6Y2FzZVwic2Vjb25kXCI6Y2FzZVwic1wiOnJldHVybiBuKnM7Y2FzZVwibXNcIjpyZXR1cm4gbn19fWZ1bmN0aW9uIHIoZSl7cmV0dXJuIGU+PXU/TWF0aC5yb3VuZChlL3UpK1wiZFwiOmU+PWM/TWF0aC5yb3VuZChlL2MpK1wiaFwiOmU+PWE/TWF0aC5yb3VuZChlL2EpK1wibVwiOmU+PXM/TWF0aC5yb3VuZChlL3MpK1wic1wiOmUrXCJtc1wifWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGkoZSx1LFwiZGF5XCIpfHxpKGUsYyxcImhvdXJcIil8fGkoZSxhLFwibWludXRlXCIpfHxpKGUscyxcInNlY29uZFwiKXx8ZStcIiBtc1wifWZ1bmN0aW9uIGkoZSx0LG4pe3JldHVybiB0PmU/dm9pZCAwOjEuNSp0PmU/TWF0aC5mbG9vcihlL3QpK1wiIFwiK246TWF0aC5jZWlsKGUvdCkrXCIgXCIrbitcInNcIn12YXIgcz0xZTMsYT02MCpzLGM9NjAqYSx1PTI0KmMsZj0zNjUuMjUqdTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHx7fSxcInN0cmluZ1wiPT10eXBlb2YgZT9uKGUpOnRbXCJsb25nXCJdP28oZSk6cihlKX19LHt9XSw0MzpbZnVuY3Rpb24oZSx0KXt0LmV4cG9ydHM9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9mdW5jdGlvbihlLHQpe2Uuc3VwZXJfPXQsZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSl9OmZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dDt2YXIgbj1mdW5jdGlvbigpe307bi5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IG4sZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZX19LHt9XSw0NDpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7fXQuZXhwb3J0cz1ufSx7fV0sNDU6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtmdW5jdGlvbiB0KGUsdCl7ZnVuY3Rpb24gcihlKXt1W3RdPWUsKytmPT09biYhYyYmKGM9ITAsYS5yZXNvbHZlKGQsdSkpfWkoZSkudGhlbihyLGZ1bmN0aW9uKGUpe2N8fChjPSEwLGEucmVqZWN0KGQsZSkpfSl9aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiBvKG5ldyBUeXBlRXJyb3IoXCJtdXN0IGJlIGFuIGFycmF5XCIpKTt2YXIgbj1lLmxlbmd0aCxjPSExO2lmKCFuKXJldHVybiBpKFtdKTtmb3IodmFyIHU9bmV3IEFycmF5KG4pLGY9MCxsPS0xLGQ9bmV3IHIocyk7KytsPG47KXQoZVtsXSxsKTtyZXR1cm4gZH12YXIgcj1lKDQ4KSxvPWUoNTEpLGk9ZSg1Mikscz1lKDQ0KSxhPWUoNDYpO3QuZXhwb3J0cz1ufSx7fV0sNDY6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3ZhciB0PWUmJmUudGhlbjtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZnVuY3Rpb24oKXt0LmFwcGx5KGUsYXJndW1lbnRzKX06dm9pZCAwfXZhciBvPWUoNTUpLGk9ZSg1Mykscz1lKDU0KTtuLnJlc29sdmU9ZnVuY3Rpb24oZSx0KXt2YXIgYT1vKHIsdCk7aWYoXCJlcnJvclwiPT09YS5zdGF0dXMpcmV0dXJuIG4ucmVqZWN0KGUsYS52YWx1ZSk7dmFyIGM9YS52YWx1ZTtpZihjKWkuc2FmZWx5KGUsYyk7ZWxzZXtlLnN0YXRlPXMuRlVMRklMTEVELGUub3V0Y29tZT10O2Zvcih2YXIgdT0tMSxmPWUucXVldWUubGVuZ3RoOysrdTxmOyllLnF1ZXVlW3VdLmNhbGxGdWxmaWxsZWQodCl9cmV0dXJuIGV9LG4ucmVqZWN0PWZ1bmN0aW9uKGUsdCl7ZS5zdGF0ZT1zLlJFSkVDVEVELGUub3V0Y29tZT10O2Zvcih2YXIgbj0tMSxyPWUucXVldWUubGVuZ3RoOysrbjxyOyllLnF1ZXVlW25dLmNhbGxSZWplY3RlZCh0KTtyZXR1cm4gZX19LHt9XSw0NzpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1uPWUoNDgpLG4ucmVzb2x2ZT1lKDUyKSxuLnJlamVjdD1lKDUxKSxuLmFsbD1lKDQ1KSxuLnJhY2U9ZSg1MCl9LHt9XSw0ODpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe2lmKCEodGhpcyBpbnN0YW5jZW9mIG4pKXJldHVybiBuZXcgbihlKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJyZXNvbHZlciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7dGhpcy5zdGF0ZT1zLlBFTkRJTkcsdGhpcy5xdWV1ZT1bXSx0aGlzLm91dGNvbWU9dm9pZCAwLGUhPT1vJiZpLnNhZmVseSh0aGlzLGUpfXZhciByPWUoNTYpLG89ZSg0NCksaT1lKDUzKSxzPWUoNTQpLGE9ZSg0OSk7dC5leHBvcnRzPW4sbi5wcm90b3R5cGVbXCJjYXRjaFwiXT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsZSl9LG4ucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZ0aGlzLnN0YXRlPT09cy5GVUxGSUxMRUR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHQmJnRoaXMuc3RhdGU9PT1zLlJFSkVDVEVEKXJldHVybiB0aGlzO3ZhciBpPW5ldyBuKG8pO2lmKHRoaXMuc3RhdGUhPT1zLlBFTkRJTkcpe3ZhciBjPXRoaXMuc3RhdGU9PT1zLkZVTEZJTExFRD9lOnQ7cihpLGMsdGhpcy5vdXRjb21lKX1lbHNlIHRoaXMucXVldWUucHVzaChuZXcgYShpLGUsdCkpO3JldHVybiBpfX0se31dLDQ5OltmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSx0LG4pe3RoaXMucHJvbWlzZT1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJih0aGlzLm9uRnVsZmlsbGVkPXQsdGhpcy5jYWxsRnVsZmlsbGVkPXRoaXMub3RoZXJDYWxsRnVsZmlsbGVkKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiYodGhpcy5vblJlamVjdGVkPW4sdGhpcy5jYWxsUmVqZWN0ZWQ9dGhpcy5vdGhlckNhbGxSZWplY3RlZCl9dmFyIHI9ZSg0Niksbz1lKDU2KTt0LmV4cG9ydHM9bixuLnByb3RvdHlwZS5jYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKGUpe3IucmVzb2x2ZSh0aGlzLnByb21pc2UsZSl9LG4ucHJvdG90eXBlLm90aGVyQ2FsbEZ1bGZpbGxlZD1mdW5jdGlvbihlKXtvKHRoaXMucHJvbWlzZSx0aGlzLm9uRnVsZmlsbGVkLGUpfSxuLnByb3RvdHlwZS5jYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24oZSl7ci5yZWplY3QodGhpcy5wcm9taXNlLGUpfSxuLnByb3RvdHlwZS5vdGhlckNhbGxSZWplY3RlZD1mdW5jdGlvbihlKXtvKHRoaXMucHJvbWlzZSx0aGlzLm9uUmVqZWN0ZWQsZSl9fSx7fV0sNTA6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtmdW5jdGlvbiB0KGUpe2koZSkudGhlbihmdW5jdGlvbihlKXtjfHwoYz0hMCxhLnJlc29sdmUoZixlKSl9LGZ1bmN0aW9uKGUpe2N8fChjPSEwLGEucmVqZWN0KGYsZSkpfSl9aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKXJldHVybiBvKG5ldyBUeXBlRXJyb3IoXCJtdXN0IGJlIGFuIGFycmF5XCIpKTt2YXIgbj1lLmxlbmd0aCxjPSExO2lmKCFuKXJldHVybiBpKFtdKTtmb3IodmFyIHU9LTEsZj1uZXcgcihzKTsrK3U8bjspdChlW3VdKTtyZXR1cm4gZn12YXIgcj1lKDQ4KSxvPWUoNTEpLGk9ZSg1Mikscz1lKDQ0KSxhPWUoNDYpO3QuZXhwb3J0cz1ufSx7fV0sNTE6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXt2YXIgdD1uZXcgcihvKTtyZXR1cm4gaS5yZWplY3QodCxlKX12YXIgcj1lKDQ4KSxvPWUoNDQpLGk9ZSg0Nik7dC5leHBvcnRzPW59LHt9XSw1MjpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUpe2lmKGUpcmV0dXJuIGUgaW5zdGFuY2VvZiByP2U6aS5yZXNvbHZlKG5ldyByKG8pLGUpO3ZhciB0PXR5cGVvZiBlO3N3aXRjaCh0KXtjYXNlXCJib29sZWFuXCI6cmV0dXJuIHM7Y2FzZVwidW5kZWZpbmVkXCI6cmV0dXJuIGM7Y2FzZVwib2JqZWN0XCI6cmV0dXJuIGE7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHU7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIGZ9fXZhciByPWUoNDgpLG89ZSg0NCksaT1lKDQ2KTt0LmV4cG9ydHM9bjt2YXIgcz1pLnJlc29sdmUobmV3IHIobyksITEpLGE9aS5yZXNvbHZlKG5ldyByKG8pLG51bGwpLGM9aS5yZXNvbHZlKG5ldyByKG8pLHZvaWQgMCksdT1pLnJlc29sdmUobmV3IHIobyksMCksZj1pLnJlc29sdmUobmV3IHIobyksXCJcIil9LHt9XSw1MzpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0KXtmdW5jdGlvbiBuKHQpe2F8fChhPSEwLG8ucmVqZWN0KGUsdCkpfWZ1bmN0aW9uIHIodCl7YXx8KGE9ITAsby5yZXNvbHZlKGUsdCkpfWZ1bmN0aW9uIHMoKXt0KHIsbil9dmFyIGE9ITEsYz1pKHMpO1wiZXJyb3JcIj09PWMuc3RhdHVzJiZuKGMudmFsdWUpfXZhciBvPWUoNDYpLGk9ZSg1NSk7bi5zYWZlbHk9cn0se31dLDU0OltmdW5jdGlvbihlLHQsbil7bi5SRUpFQ1RFRD1bXCJSRUpFQ1RFRFwiXSxuLkZVTEZJTExFRD1bXCJGVUxGSUxMRURcIl0sbi5QRU5ESU5HPVtcIlBFTkRJTkdcIl19LHt9XSw1NTpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7dmFyIG49e307dHJ5e24udmFsdWU9ZSh0KSxuLnN0YXR1cz1cInN1Y2Nlc3NcIn1jYXRjaChyKXtuLnN0YXR1cz1cImVycm9yXCIsbi52YWx1ZT1yfXJldHVybiBufXQuZXhwb3J0cz1ufSx7fV0sNTY6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlLHQsbil7cihmdW5jdGlvbigpe3ZhciByO3RyeXtyPXQobil9Y2F0Y2goaSl7cmV0dXJuIG8ucmVqZWN0KGUsaSl9cj09PWU/by5yZWplY3QoZSxuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlc29sdmUgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKSk6by5yZXNvbHZlKGUscil9KX12YXIgcj1lKDU3KSxvPWUoNDYpO3QuZXhwb3J0cz1ufSx7fV0sNTc6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbigpe289ITA7Zm9yKHZhciBlLHQsbj1hLmxlbmd0aDtuOyl7Zm9yKHQ9YSxhPVtdLGU9LTE7KytlPG47KXRbZV0oKTtuPWEubGVuZ3RofW89ITF9ZnVuY3Rpb24gcihlKXsxIT09YS5wdXNoKGUpfHxvfHxpKCl9Zm9yKHZhciBvLGkscz1bZSgzNyksZSg1OSksZSg1OCksZSg2MCksZSg2MSldLGE9W10sYz0tMSx1PXMubGVuZ3RoOysrYzx1OylpZihzW2NdJiZzW2NdLnRlc3QmJnNbY10udGVzdCgpKXtpPXNbY10uaW5zdGFsbChuKTticmVha310LmV4cG9ydHM9cn0se31dLDU4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO24udGVzdD1mdW5jdGlvbigpe3JldHVybiBlLnNldEltbWVkaWF0ZT8hMTpcInVuZGVmaW5lZFwiIT10eXBlb2YgZS5NZXNzYWdlQ2hhbm5lbH0sbi5pbnN0YWxsPWZ1bmN0aW9uKHQpe3ZhciBuPW5ldyBlLk1lc3NhZ2VDaGFubmVsO3JldHVybiBuLnBvcnQxLm9ubWVzc2FnZT10LGZ1bmN0aW9uKCl7bi5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19fSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHQ9ZS5NdXRhdGlvbk9ic2VydmVyfHxlLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7bi50ZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIHR9LG4uaW5zdGFsbD1mdW5jdGlvbihuKXt2YXIgcj0wLG89bmV3IHQobiksaT1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO3JldHVybiBvLm9ic2VydmUoaSx7Y2hhcmFjdGVyRGF0YTohMH0pLGZ1bmN0aW9uKCl7aS5kYXRhPXI9KytyJTJ9fX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDYwOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO24udGVzdD1mdW5jdGlvbigpe3JldHVyblwiZG9jdW1lbnRcImluIGUmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIil9LG4uaW5zdGFsbD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbj1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7cmV0dXJuIG4ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dCgpLG4ub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pLG49bnVsbH0sZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQobiksdH19fSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNjE6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnRlc3Q9ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbi5pbnN0YWxsPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3NldFRpbWVvdXQoZSwwKX19fSx7fV0sNjI6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe2lmKG51bGwhPT1lKXN3aXRjaCh0eXBlb2YgZSl7Y2FzZVwiYm9vbGVhblwiOnJldHVybiBlPzE6MDtjYXNlXCJudW1iZXJcIjpyZXR1cm4gZihlKTtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gZS5yZXBsYWNlKC9cXHUwMDAyL2csXCJcdTAwMDJcdTAwMDJcIikucmVwbGFjZSgvXFx1MDAwMS9nLFwiXHUwMDAxXHUwMDAyXCIpLnJlcGxhY2UoL1xcdTAwMDAvZyxcIlx1MDAwMVx1MDAwMVwiKTtjYXNlXCJvYmplY3RcIjp2YXIgdD1BcnJheS5pc0FycmF5KGUpLHI9dD9lOk9iamVjdC5rZXlzKGUpLG89LTEsaT1yLmxlbmd0aCxzPVwiXCI7aWYodClmb3IoOysrbzxpOylzKz1uLnRvSW5kZXhhYmxlU3RyaW5nKHJbb10pO2Vsc2UgZm9yKDsrK288aTspe3ZhciBhPXJbb107cys9bi50b0luZGV4YWJsZVN0cmluZyhhKStuLnRvSW5kZXhhYmxlU3RyaW5nKGVbYV0pfXJldHVybiBzfXJldHVyblwiXCJ9ZnVuY3Rpb24gbyhlLHQpe3ZhciBuLHI9dCxvPVwiMVwiPT09ZVt0XTtpZihvKW49MCx0Kys7ZWxzZXt2YXIgaT1cIjBcIj09PWVbdF07dCsrO3ZhciBzPVwiXCIsYT1lLnN1YnN0cmluZyh0LHQrZCksYz1wYXJzZUludChhLDEwKStsO2ZvcihpJiYoYz0tYyksdCs9ZDs7KXt2YXIgdT1lW3RdO2lmKFwiXFx4MDBcIj09PXUpYnJlYWs7cys9dSx0Kyt9cz1zLnNwbGl0KFwiLlwiKSxuPTE9PT1zLmxlbmd0aD9wYXJzZUludChzLDEwKTpwYXJzZUZsb2F0KHNbMF0rXCIuXCIrc1sxXSksaSYmKG4tPTEwKSwwIT09YyYmKG49cGFyc2VGbG9hdChuK1wiZVwiK2MpKX1yZXR1cm57bnVtOm4sbGVuZ3RoOnQtcn19ZnVuY3Rpb24gaShlLHQpe3ZhciBuPWUucG9wKCk7aWYodC5sZW5ndGgpe3ZhciByPXRbdC5sZW5ndGgtMV07bj09PXIuZWxlbWVudCYmKHQucG9wKCkscj10W3QubGVuZ3RoLTFdKTt2YXIgbz1yLmVsZW1lbnQsaT1yLmluZGV4O2lmKEFycmF5LmlzQXJyYXkobykpby5wdXNoKG4pO2Vsc2UgaWYoaT09PWUubGVuZ3RoLTIpe3ZhciBzPWUucG9wKCk7b1tzXT1ufWVsc2UgZS5wdXNoKG4pfX1mdW5jdGlvbiBzKGUsdCl7Zm9yKHZhciByPU1hdGgubWluKGUubGVuZ3RoLHQubGVuZ3RoKSxvPTA7cj5vO28rKyl7dmFyIGk9bi5jb2xsYXRlKGVbb10sdFtvXSk7aWYoMCE9PWkpcmV0dXJuIGl9cmV0dXJuIGUubGVuZ3RoPT09dC5sZW5ndGg/MDplLmxlbmd0aD50Lmxlbmd0aD8xOi0xfWZ1bmN0aW9uIGEoZSx0KXtyZXR1cm4gZT09PXQ/MDplPnQ/MTotMX1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciByPU9iamVjdC5rZXlzKGUpLG89T2JqZWN0LmtleXModCksaT1NYXRoLm1pbihyLmxlbmd0aCxvLmxlbmd0aCkscz0wO2k+cztzKyspe3ZhciBhPW4uY29sbGF0ZShyW3NdLG9bc10pO2lmKDAhPT1hKXJldHVybiBhO2lmKGE9bi5jb2xsYXRlKGVbcltzXV0sdFtvW3NdXSksMCE9PWEpcmV0dXJuIGF9cmV0dXJuIHIubGVuZ3RoPT09by5sZW5ndGg/MDpyLmxlbmd0aD5vLmxlbmd0aD8xOi0xfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9W1wiYm9vbGVhblwiLFwibnVtYmVyXCIsXCJzdHJpbmdcIixcIm9iamVjdFwiXSxuPXQuaW5kZXhPZih0eXBlb2YgZSk7cmV0dXJufm4/bnVsbD09PWU/MTpBcnJheS5pc0FycmF5KGUpPzU6Mz5uP24rMjpuKzM6QXJyYXkuaXNBcnJheShlKT81OnZvaWQgMH1mdW5jdGlvbiBmKGUpe2lmKDA9PT1lKXJldHVyblwiMVwiO3ZhciB0PWUudG9FeHBvbmVudGlhbCgpLnNwbGl0KC9lXFwrPy8pLG49cGFyc2VJbnQodFsxXSwxMCkscj0wPmUsbz1yP1wiMFwiOlwiMlwiLGk9KHI/LW46biktbCxzPWgucGFkTGVmdChpLnRvU3RyaW5nKCksXCIwXCIsZCk7bys9cCtzO3ZhciBhPU1hdGguYWJzKHBhcnNlRmxvYXQodFswXSkpO3ImJihhPTEwLWEpO3ZhciBjPWEudG9GaXhlZCgyMCk7cmV0dXJuIGM9Yy5yZXBsYWNlKC9cXC4/MCskLyxcIlwiKSxvKz1wK2N9dmFyIGw9LTMyNCxkPTMscD1cIlwiLGg9ZSg2Myk7bi5jb2xsYXRlPWZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIDA7ZT1uLm5vcm1hbGl6ZUtleShlKSx0PW4ubm9ybWFsaXplS2V5KHQpO3ZhciByPXUoZSksbz11KHQpO2lmKHItbyE9PTApcmV0dXJuIHItbztpZihudWxsPT09ZSlyZXR1cm4gMDtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcIm51bWJlclwiOnJldHVybiBlLXQ7Y2FzZVwiYm9vbGVhblwiOnJldHVybiBlPT09dD8wOnQ+ZT8tMToxO2Nhc2VcInN0cmluZ1wiOnJldHVybiBhKGUsdCl9cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/cyhlLHQpOmMoZSx0KX0sbi5ub3JtYWxpemVLZXk9ZnVuY3Rpb24oZSl7c3dpdGNoKHR5cGVvZiBlKXtjYXNlXCJ1bmRlZmluZWRcIjpyZXR1cm4gbnVsbDtjYXNlXCJudW1iZXJcIjpyZXR1cm4gMS8wPT09ZXx8ZT09PS0xLzB8fGlzTmFOKGUpP251bGw6ZTtjYXNlXCJvYmplY3RcIjp2YXIgdD1lO2lmKEFycmF5LmlzQXJyYXkoZSkpe3ZhciByPWUubGVuZ3RoO2U9bmV3IEFycmF5KHIpO2Zvcih2YXIgbz0wO3I+bztvKyspZVtvXT1uLm5vcm1hbGl6ZUtleSh0W29dKX1lbHNle2lmKGUgaW5zdGFuY2VvZiBEYXRlKXJldHVybiBlLnRvSlNPTigpO2lmKG51bGwhPT1lKXtlPXt9O2Zvcih2YXIgaSBpbiB0KWlmKHQuaGFzT3duUHJvcGVydHkoaSkpe3ZhciBzPXRbaV07XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHMmJihlW2ldPW4ubm9ybWFsaXplS2V5KHMpKX19fX1yZXR1cm4gZX0sbi50b0luZGV4YWJsZVN0cmluZz1mdW5jdGlvbihlKXt2YXIgdD1cIlxceDAwXCI7cmV0dXJuIGU9bi5ub3JtYWxpemVLZXkoZSksdShlKStwK3IoZSkrdH0sbi5wYXJzZUluZGV4YWJsZVN0cmluZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj1bXSxyPTA7Oyl7dmFyIHM9ZVtyKytdO2lmKFwiXFx4MDBcIiE9PXMpc3dpdGNoKHMpe2Nhc2VcIjFcIjp0LnB1c2gobnVsbCk7YnJlYWs7Y2FzZVwiMlwiOnQucHVzaChcIjFcIj09PWVbcl0pLHIrKzticmVhaztjYXNlXCIzXCI6dmFyIGE9byhlLHIpO3QucHVzaChhLm51bSkscis9YS5sZW5ndGg7YnJlYWs7Y2FzZVwiNFwiOmZvcih2YXIgYz1cIlwiOzspe3ZhciB1PWVbcl07aWYoXCJcXHgwMFwiPT09dSlicmVhaztjKz11LHIrK31jPWMucmVwbGFjZSgvXFx1MDAwMVxcdTAwMDEvZyxcIlxceDAwXCIpLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAyL2csXCJcdTAwMDFcIikucmVwbGFjZSgvXFx1MDAwMlxcdTAwMDIvZyxcIlx1MDAwMlwiKSx0LnB1c2goYyk7YnJlYWs7Y2FzZVwiNVwiOnZhciBmPXtlbGVtZW50OltdLGluZGV4OnQubGVuZ3RofTt0LnB1c2goZi5lbGVtZW50KSxuLnB1c2goZik7YnJlYWs7Y2FzZVwiNlwiOnZhciBsPXtlbGVtZW50Ont9LGluZGV4OnQubGVuZ3RofTt0LnB1c2gobC5lbGVtZW50KSxuLnB1c2gobCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJiYWQgY29sbGF0aW9uSW5kZXggb3IgdW5leHBlY3RlZGx5IHJlYWNoZWQgZW5kIG9mIGlucHV0OiBcIitzKX1lbHNle2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gdC5wb3AoKTtpKHQsbil9fX19LHt9XSw2MzpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0LG4pe2Zvcih2YXIgcj1cIlwiLG89bi1lLmxlbmd0aDtyLmxlbmd0aDxvOylyKz10O3JldHVybiByfW4ucGFkTGVmdD1mdW5jdGlvbihlLHQsbil7dmFyIG89cihlLHQsbik7cmV0dXJuIG8rZX0sbi5wYWRSaWdodD1mdW5jdGlvbihlLHQsbil7dmFyIG89cihlLHQsbik7cmV0dXJuIGUrb30sbi5zdHJpbmdMZXhDb21wYXJlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1lLmxlbmd0aCxvPXQubGVuZ3RoO2ZvcihuPTA7cj5uO24rKyl7aWYobj09PW8pcmV0dXJuIDE7dmFyIGk9ZS5jaGFyQXQobikscz10LmNoYXJBdChuKTtpZihpIT09cylyZXR1cm4gcz5pPy0xOjF9cmV0dXJuIG8+cj8tMTowfSxuLmludFRvRGVjaW1hbEZvcm09ZnVuY3Rpb24oZSl7dmFyIHQ9MD5lLG49XCJcIjtkb3t2YXIgcj10Py1NYXRoLmNlaWwoZSUxMCk6TWF0aC5mbG9vcihlJTEwKTtuPXIrbixlPXQ/TWF0aC5jZWlsKGUvMTApOk1hdGguZmxvb3IoZS8xMCl9d2hpbGUoZSk7cmV0dXJuIHQmJlwiMFwiIT09biYmKG49XCItXCIrbiksbn19LHt9XSw2NDpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoKXt0aGlzLnN0b3JlPXt9fWZ1bmN0aW9uIG8oZSl7aWYodGhpcy5zdG9yZT1uZXcgcixlJiZBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgdD0wLG49ZS5sZW5ndGg7bj50O3QrKyl0aGlzLmFkZChlW3RdKX1uLk1hcD1yLG4uU2V0PW8sci5wcm90b3R5cGUubWFuZ2xlPWZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJrZXkgbXVzdCBiZSBhIHN0cmluZyBidXQgR290IFwiK2UpO3JldHVyblwiJFwiK2V9LHIucHJvdG90eXBlLnVubWFuZ2xlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cmluZygxKX0sci5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWFuZ2xlKGUpO3JldHVybiB0IGluIHRoaXMuc3RvcmU/dGhpcy5zdG9yZVt0XTp2b2lkIDB9LHIucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMubWFuZ2xlKGUpO3JldHVybiB0aGlzLnN0b3JlW25dPXQsITB9LHIucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm1hbmdsZShlKTtyZXR1cm4gdCBpbiB0aGlzLnN0b3JlfSxyLnByb3RvdHlwZVtcImRlbGV0ZVwiXT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm1hbmdsZShlKTtyZXR1cm4gdCBpbiB0aGlzLnN0b3JlPyhkZWxldGUgdGhpcy5zdG9yZVt0XSwhMCk6ITF9LHIucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPU9iamVjdC5rZXlzKHQuc3RvcmUpO24uZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgcj10LnN0b3JlW25dO249dC51bm1hbmdsZShuKSxlKHIsbil9KX0sby5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0b3JlLnNldChlLCEwKX0sby5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0b3JlLmhhcyhlKX0sby5wcm90b3R5cGVbXCJkZWxldGVcIl09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RvcmVbXCJkZWxldGVcIl0oZSl9fSx7fV0sNjU6W2Z1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbD09PWU/U3RyaW5nKGUpOlwib2JqZWN0XCI9PXR5cGVvZiBlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2NbZC5jYWxsKGUpXXx8XCJvYmplY3RcIjp0eXBlb2YgZX1mdW5jdGlvbiByKGUpe3JldHVybiBudWxsIT09ZSYmZT09PWUud2luZG93fWZ1bmN0aW9uIG8oZSl7aWYoIWV8fFwib2JqZWN0XCIhPT1uKGUpfHxlLm5vZGVUeXBlfHxyKGUpKXJldHVybiExO3RyeXtpZihlLmNvbnN0cnVjdG9yJiYhcC5jYWxsKGUsXCJjb25zdHJ1Y3RvclwiKSYmIXAuY2FsbChlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxcImlzUHJvdG90eXBlT2ZcIikpcmV0dXJuITF9Y2F0Y2godCl7cmV0dXJuITF9dmFyIG87Zm9yKG8gaW4gZSk7cmV0dXJuIHZvaWQgMD09PW98fHAuY2FsbChlLG8pfWZ1bmN0aW9uIGkoZSl7cmV0dXJuXCJmdW5jdGlvblwiPT09bihlKX1mdW5jdGlvbiBzKCl7Zm9yKHZhciBlPVtdLHQ9LTEsbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4pOysrdDxuOylyW3RdPWFyZ3VtZW50c1t0XTt2YXIgbz17fTtlLnB1c2goe2FyZ3M6cixyZXN1bHQ6e2NvbnRhaW5lcjpvLGtleTpcImtleVwifX0pO2Zvcih2YXIgaTtpPWUucG9wKCk7KWEoZSxpLmFyZ3MsaS5yZXN1bHQpO3JldHVybiBvLmtleX1mdW5jdGlvbiBhKGUsdCxuKXt2YXIgcixzLGEsYyx1LGYsbCxkPXRbMF18fHt9LHA9MSx2PXQubGVuZ3RoLF89ITEsbT0vXFxkKy87Zm9yKFwiYm9vbGVhblwiPT10eXBlb2YgZCYmKF89ZCxkPXRbMV18fHt9LHA9MiksXCJvYmplY3RcIj09dHlwZW9mIGR8fGkoZCl8fChkPXt9KSx2PT09cCYmKGQ9dGhpcywtLXApO3Y+cDtwKyspaWYobnVsbCE9KHI9dFtwXSkpe2w9aChyKTtmb3IocyBpbiByKWlmKCEocyBpbiBPYmplY3QucHJvdG90eXBlKSl7aWYobCYmIW0udGVzdChzKSljb250aW51ZTtpZihhPWRbc10sYz1yW3NdLGQ9PT1jKWNvbnRpbnVlO18mJmMmJihvKGMpfHwodT1oKGMpKSk/KHU/KHU9ITEsZj1hJiZoKGEpP2E6W10pOmY9YSYmbyhhKT9hOnt9LGUucHVzaCh7YXJnczpbXyxmLGNdLHJlc3VsdDp7Y29udGFpbmVyOmQsa2V5OnN9fSkpOnZvaWQgMCE9PWMmJihoKHIpJiZpKGMpfHwoZFtzXT1jKSl9fW4uY29udGFpbmVyW24ua2V5XT1kfWZvcih2YXIgYz17fSx1PVtcIkJvb2xlYW5cIixcIk51bWJlclwiLFwiU3RyaW5nXCIsXCJGdW5jdGlvblwiLFwiQXJyYXlcIixcIkRhdGVcIixcIlJlZ0V4cFwiLFwiT2JqZWN0XCIsXCJFcnJvclwiXSxmPTA7Zjx1Lmxlbmd0aDtmKyspe3ZhciBsPXVbZl07Y1tcIltvYmplY3QgXCIrbCtcIl1cIl09bC50b0xvd2VyQ2FzZSgpfXZhciBkPWMudG9TdHJpbmcscD1jLmhhc093blByb3BlcnR5LGg9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJhcnJheVwiPT09bihlKX07dC5leHBvcnRzPXN9LHt9XSw2NjpbZnVuY3Rpb24oZSx0KXtcInVzZSBzdHJpY3RcIjt2YXIgbj1lKDcwKSxyPWUoNzEpLG89ci5Qcm9taXNlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1lLmRiLGk9ZS52aWV3TmFtZSxzPWUubWFwLGE9ZS5yZWR1Y2UsYz1lLnRlbXBvcmFyeSx1PXMudG9TdHJpbmcoKSsoYSYmYS50b1N0cmluZygpKStcInVuZGVmaW5lZFwiO2lmKCFjJiZ0Ll9jYWNoZWRWaWV3cyl7dmFyIGY9dC5fY2FjaGVkVmlld3NbdV07aWYoZilyZXR1cm4gby5yZXNvbHZlKGYpfXJldHVybiB0LmluZm8oKS50aGVuKGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG8oZSl7ZS52aWV3cz1lLnZpZXdzfHx7fTt2YXIgdD1pOy0xPT09dC5pbmRleE9mKFwiL1wiKSYmKHQ9aStcIi9cIitpKTt2YXIgbj1lLnZpZXdzW3RdPWUudmlld3NbdF18fHt9O2lmKCFuW2ZdKXJldHVybiBuW2ZdPSEwLGV9dmFyIGY9ZS5kYl9uYW1lK1wiLW1ydmlldy1cIisoYz9cInRlbXBcIjpyLk1ENSh1KSk7cmV0dXJuIG4odCxcIl9sb2NhbC9tcnZpZXdzXCIsbykudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UoZikudGhlbihmdW5jdGlvbihlKXt2YXIgbj1lLmRiO24uYXV0b19jb21wYWN0aW9uPSEwO3ZhciByPXtuYW1lOmYsZGI6bixzb3VyY2VEQjp0LGFkYXB0ZXI6dC5hZGFwdGVyLG1hcEZ1bjpzLHJlZHVjZUZ1bjphfTtyZXR1cm4gci5kYi5nZXQoXCJfbG9jYWwvbGFzdFNlcVwiKVtcImNhdGNoXCJdKGZ1bmN0aW9uKGUpe2lmKDQwNCE9PWUuc3RhdHVzKXRocm93IGV9KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiByLnNlcT1lP2Uuc2VxOjAsY3x8KHQuX2NhY2hlZFZpZXdzPXQuX2NhY2hlZFZpZXdzfHx7fSx0Ll9jYWNoZWRWaWV3c1t1XT1yLHIuZGIub24oXCJkZXN0cm95ZWRcIixmdW5jdGlvbigpe2RlbGV0ZSB0Ll9jYWNoZWRWaWV3c1t1XX0pKSxyfSl9KX0pfSl9fSx7fV0sNjc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGZ1bmMsZW1pdCxzdW0sbG9nLGlzQXJyYXksdG9KU09OKXtyZXR1cm4gZXZhbChcIid1c2Ugc3RyaWN0JzsgKFwiK2Z1bmMucmVwbGFjZSgvO1xccyokLyxcIlwiKStcIik7XCIpfX0se31dLDY4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoXCIvXCIpP1tlLGVdOmUuc3BsaXQoXCIvXCIpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIDE9PT1lLmxlbmd0aCYmL14xLS8udGVzdChlWzBdLnJldil9ZnVuY3Rpb24gaShlLHQsbil7dHJ5e3JldHVybntvdXRwdXQ6dC5hcHBseShudWxsLG4pfX1jYXRjaChyKXtyZXR1cm4gZS5lbWl0KFwiZXJyb3JcIixyKSx7ZXJyb3I6cn19fWZ1bmN0aW9uIHMoZSx0KXt2YXIgbj1EKGUua2V5LHQua2V5KTtyZXR1cm4gMCE9PW4/bjpEKGUudmFsdWUsdC52YWx1ZSl9ZnVuY3Rpb24gYShlLHQsbil7cmV0dXJuIG49bnx8MCxcIm51bWJlclwiPT10eXBlb2YgdD9lLnNsaWNlKG4sdCtuKTpuPjA/ZS5zbGljZShuKTplfWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZS52YWx1ZSxuPXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0Ll9pZHx8ZS5pZDtyZXR1cm4gbn1mdW5jdGlvbiB1KGUpe3ZhciB0PW5ldyBFcnJvcihcImJ1aWx0aW4gXCIrZStcIiBmdW5jdGlvbiByZXF1aXJlcyBtYXAgdmFsdWVzIHRvIGJlIG51bWJlcnMgb3IgbnVtYmVyIGFycmF5c1wiKTtyZXR1cm4gdC5uYW1lPVwiaW52YWxpZF92YWx1ZVwiLHQuc3RhdHVzPTUwMCx0fWZ1bmN0aW9uIGYoZSl7Zm9yKHZhciB0PTAsbj0wLHI9ZS5sZW5ndGg7cj5uO24rKyl7dmFyIG89ZVtuXTtpZihcIm51bWJlclwiIT10eXBlb2Ygbyl7aWYoIUFycmF5LmlzQXJyYXkobykpdGhyb3cgdShcIl9zdW1cIik7dD1cIm51bWJlclwiPT10eXBlb2YgdD9bdF06dDtmb3IodmFyIGk9MCxzPW8ubGVuZ3RoO3M+aTtpKyspe3ZhciBhPW9baV07aWYoXCJudW1iZXJcIiE9dHlwZW9mIGEpdGhyb3cgdShcIl9zdW1cIik7XCJ1bmRlZmluZWRcIj09dHlwZW9mIHRbaV0/dC5wdXNoKGEpOnRbaV0rPWF9fWVsc2VcIm51bWJlclwiPT10eXBlb2YgdD90Kz1vOnRbMF0rPW99cmV0dXJuIHR9ZnVuY3Rpb24gbChlLHQsbixyKXt2YXIgbz10W2VdO1widW5kZWZpbmVkXCIhPXR5cGVvZiBvJiYociYmKG89ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG8pKSksbi5wdXNoKGUrXCI9XCIrbykpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1lLmRlc2NlbmRpbmc/XCJlbmRrZXlcIjpcInN0YXJ0a2V5XCIscj1lLmRlc2NlbmRpbmc/XCJzdGFydGtleVwiOlwiZW5ka2V5XCI7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGVbbl0mJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlW3JdJiZEKGVbbl0sZVtyXSk+MCl0aHJvdyBuZXcgQShcIk5vIHJvd3MgY2FuIG1hdGNoIHlvdXIga2V5IHJhbmdlLCByZXZlcnNlIHlvdXIgc3RhcnRfa2V5IGFuZCBlbmRfa2V5IG9yIHNldCB7ZGVzY2VuZGluZyA6IHRydWV9XCIpO2lmKHQucmVkdWNlJiZlLnJlZHVjZSE9PSExKXtpZihlLmluY2x1ZGVfZG9jcyl0aHJvdyBuZXcgQShcIntpbmNsdWRlX2RvY3M6dHJ1ZX0gaXMgaW52YWxpZCBmb3IgcmVkdWNlXCIpO2lmKGUua2V5cyYmZS5rZXlzLmxlbmd0aD4xJiYhZS5ncm91cCYmIWUuZ3JvdXBfbGV2ZWwpdGhyb3cgbmV3IEEoXCJNdWx0aS1rZXkgZmV0Y2hlcyBmb3IgcmVkdWNlIHZpZXdzIG11c3QgdXNlIHtncm91cDogdHJ1ZX1cIil9aWYoZS5ncm91cF9sZXZlbCl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUuZ3JvdXBfbGV2ZWwpdGhyb3cgbmV3IEEoJ0ludmFsaWQgdmFsdWUgZm9yIGludGVnZXI6IFwiJytlLmdyb3VwX2xldmVsKydcIicpO2lmKGUuZ3JvdXBfbGV2ZWw8MCl0aHJvdyBuZXcgQSgnSW52YWxpZCB2YWx1ZSBmb3IgcG9zaXRpdmUgaW50ZWdlcjogXCInK2UuZ3JvdXBfbGV2ZWwrJ1wiJyl9fWZ1bmN0aW9uIHAoZSx0LG4pe3ZhciBvLGk9W10scz1cIkdFVFwiO2lmKGwoXCJyZWR1Y2VcIixuLGkpLGwoXCJpbmNsdWRlX2RvY3NcIixuLGkpLGwoXCJhdHRhY2htZW50c1wiLG4saSksbChcImxpbWl0XCIsbixpKSxsKFwiZGVzY2VuZGluZ1wiLG4saSksbChcImdyb3VwXCIsbixpKSxsKFwiZ3JvdXBfbGV2ZWxcIixuLGkpLGwoXCJza2lwXCIsbixpKSxsKFwic3RhbGVcIixuLGkpLGwoXCJjb25mbGljdHNcIixuLGkpLGwoXCJzdGFydGtleVwiLG4saSwhMCksbChcImVuZGtleVwiLG4saSwhMCksbChcImluY2x1c2l2ZV9lbmRcIixuLGkpLGwoXCJrZXlcIixuLGksITApLGk9aS5qb2luKFwiJlwiKSxpPVwiXCI9PT1pP1wiXCI6XCI/XCIraSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygbi5rZXlzKXt2YXIgYT0yZTMsYz1cImtleXM9XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG4ua2V5cykpO2MubGVuZ3RoK2kubGVuZ3RoKzE8PWE/aSs9KFwiP1wiPT09aVswXT9cIiZcIjpcIj9cIikrYzoocz1cIlBPU1RcIixcInN0cmluZ1wiPT10eXBlb2YgdD9vPUpTT04uc3RyaW5naWZ5KHtrZXlzOm4ua2V5c30pOnQua2V5cz1uLmtleXMpfWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXt2YXIgdT1yKHQpO3JldHVybiBlLnJlcXVlc3Qoe21ldGhvZDpzLHVybDpcIl9kZXNpZ24vXCIrdVswXStcIi9fdmlldy9cIit1WzFdK2ksYm9keTpvfSl9cmV0dXJuIG89b3x8e30sT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdPUFycmF5LmlzQXJyYXkodFtlXSk/dFtlXTp0W2VdLnRvU3RyaW5nKCl9KSxlLnJlcXVlc3Qoe21ldGhvZDpcIlBPU1RcIix1cmw6XCJfdGVtcF92aWV3XCIraSxib2R5Om99KX1mdW5jdGlvbiBoKGUpe3JldHVybiBmdW5jdGlvbih0KXtpZig0MDQ9PT10LnN0YXR1cylyZXR1cm4gZTt0aHJvdyB0fX1mdW5jdGlvbiB2KGUsdCxuKXtmdW5jdGlvbiByKCl7cmV0dXJuIG8obCk/Qi5yZXNvbHZlKGMpOnQuZGIuZ2V0KGEpW1wiY2F0Y2hcIl0oaChjKSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5rZXlzLmxlbmd0aD90LmRiLmFsbERvY3Moe2tleXM6ZS5rZXlzLGluY2x1ZGVfZG9jczohMH0pOkIucmVzb2x2ZSh7cm93czpbXX0pfWZ1bmN0aW9uIHMoZSx0KXtmb3IodmFyIG49W10scj17fSxvPTAsaT10LnJvd3MubGVuZ3RoO2k+bztvKyspe3ZhciBzPXQucm93c1tvXSxhPXMuZG9jO2lmKGEmJihuLnB1c2goYSksclthLl9pZF09ITAsYS5fZGVsZXRlZD0hZlthLl9pZF0sIWEuX2RlbGV0ZWQpKXt2YXIgYz1mW2EuX2lkXTtcInZhbHVlXCJpbiBjJiYoYS52YWx1ZT1jLnZhbHVlKX19dmFyIHU9T2JqZWN0LmtleXMoZik7cmV0dXJuIHUuZm9yRWFjaChmdW5jdGlvbihlKXtpZighcltlXSl7dmFyIHQ9e19pZDplfSxvPWZbZV07XCJ2YWx1ZVwiaW4gbyYmKHQudmFsdWU9by52YWx1ZSksbi5wdXNoKHQpfX0pLGUua2V5cz1qLnVuaXEodS5jb25jYXQoZS5rZXlzKSksbi5wdXNoKGUpLG59dmFyIGE9XCJfbG9jYWwvZG9jX1wiK2UsYz17X2lkOmEsa2V5czpbXX0sdT1uW2VdLGY9dS5pbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMsbD11LmNoYW5nZXM7cmV0dXJuIHIoKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBpKGUpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHMoZSx0KX0pfSl9ZnVuY3Rpb24gXyhlLHQsbil7dmFyIHI9XCJfbG9jYWwvbGFzdFNlcVwiO3JldHVybiBlLmRiLmdldChyKVtcImNhdGNoXCJdKGgoe19pZDpyLHNlcTowfSkpLnRoZW4oZnVuY3Rpb24ocil7dmFyIG89T2JqZWN0LmtleXModCk7cmV0dXJuIEIuYWxsKG8ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiB2KG4sZSx0KX0pKS50aGVuKGZ1bmN0aW9uKHQpe3ZhciBvPWouZmxhdHRlbih0KTtcbnJldHVybiByLnNlcT1uLG8ucHVzaChyKSxlLmRiLmJ1bGtEb2NzKHtkb2NzOm99KX0pfSl9ZnVuY3Rpb24gbShlKXt2YXIgdD1cInN0cmluZ1wiPT10eXBlb2YgZT9lOmUubmFtZSxuPUZbdF07cmV0dXJuIG58fChuPUZbdF09bmV3IFIpLG59ZnVuY3Rpb24gZyhlKXtyZXR1cm4gai5zZXF1ZW50aWFsaXplKG0oZSksZnVuY3Rpb24oKXtyZXR1cm4geShlKX0pKCl9ZnVuY3Rpb24geShlKXtmdW5jdGlvbiB0KGUsdCl7dmFyIG49e2lkOm8uX2lkLGtleTpMKGUpfTtcInVuZGVmaW5lZFwiIT10eXBlb2YgdCYmbnVsbCE9PXQmJihuLnZhbHVlPUwodCkpLHIucHVzaChuKX1mdW5jdGlvbiBuKHQsbil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIF8oZSx0LG4pfX12YXIgcixvLGE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5tYXBGdW4mJjI9PT1lLm1hcEZ1bi5sZW5ndGgpe3ZhciBjPWUubWFwRnVuO2E9ZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSx0KX19ZWxzZSBhPU4oZS5tYXBGdW4udG9TdHJpbmcoKSx0LGYsayxBcnJheS5pc0FycmF5LEpTT04ucGFyc2UpO3ZhciB1PWUuc2VxfHwwLGw9bmV3IFI7cmV0dXJuIG5ldyBCKGZ1bmN0aW9uKHQsYyl7ZnVuY3Rpb24gZigpe2wuZmluaXNoKCkudGhlbihmdW5jdGlvbigpe2Uuc2VxPXUsdCgpfSl9ZnVuY3Rpb24gZCgpe2Z1bmN0aW9uIHQoZSl7YyhlKX1lLnNvdXJjZURCLmNoYW5nZXMoe2NvbmZsaWN0czohMCxpbmNsdWRlX2RvY3M6ITAsc3R5bGU6XCJhbGxfZG9jc1wiLHNpbmNlOnUsbGltaXQ6UH0pLm9uKFwiY29tcGxldGVcIixmdW5jdGlvbih0KXt2YXIgYz10LnJlc3VsdHM7aWYoIWMubGVuZ3RoKXJldHVybiBmKCk7Zm9yKHZhciBwPXt9LGg9MCx2PWMubGVuZ3RoO3Y+aDtoKyspe3ZhciBfPWNbaF07aWYoXCJfXCIhPT1fLmRvYy5faWRbMF0pe3I9W10sbz1fLmRvYyxvLl9kZWxldGVkfHxpKGUuc291cmNlREIsYSxbb10pLHIuc29ydChzKTtmb3IodmFyIG0sZz17fSx5PTAsYj1yLmxlbmd0aDtiPnk7eSsrKXt2YXIgRT1yW3ldLHc9W0Uua2V5LEUuaWRdO0Uua2V5PT09bSYmdy5wdXNoKHkpO3ZhciBTPUModyk7Z1tTXT1FLG09RS5rZXl9cFtfLmRvYy5faWRdPXtpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXM6ZyxjaGFuZ2VzOl8uY2hhbmdlc319dT1fLnNlcX1yZXR1cm4gbC5hZGQobihwLHUpKSxjLmxlbmd0aDxQP2YoKTpkKCl9KS5vbihcImVycm9yXCIsdCl9ZCgpfSl9ZnVuY3Rpb24gYihlLHQsbil7MD09PW4uZ3JvdXBfbGV2ZWwmJmRlbGV0ZSBuLmdyb3VwX2xldmVsO3ZhciByLG89bi5ncm91cHx8bi5ncm91cF9sZXZlbDtyPVVbZS5yZWR1Y2VGdW5dP1VbZS5yZWR1Y2VGdW5dOk4oZS5yZWR1Y2VGdW4udG9TdHJpbmcoKSxudWxsLGYsayxBcnJheS5pc0FycmF5LEpTT04ucGFyc2UpO3ZhciBzPVtdLGM9bi5ncm91cF9sZXZlbDt0LmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9c1tzLmxlbmd0aC0xXSxuPW8/ZS5rZXk6bnVsbDtyZXR1cm4gbyYmQXJyYXkuaXNBcnJheShuKSYmXCJudW1iZXJcIj09dHlwZW9mIGMmJihuPW4ubGVuZ3RoPmM/bi5zbGljZSgwLGMpOm4pLHQmJjA9PT1EKHQua2V5WzBdWzBdLG4pPyh0LmtleS5wdXNoKFtuLGUuaWRdKSx2b2lkIHQudmFsdWUucHVzaChlLnZhbHVlKSk6dm9pZCBzLnB1c2goe2tleTpbW24sZS5pZF1dLHZhbHVlOltlLnZhbHVlXX0pfSk7Zm9yKHZhciB1PTAsbD1zLmxlbmd0aDtsPnU7dSsrKXt2YXIgZD1zW3VdLHA9aShlLnNvdXJjZURCLHIsW2Qua2V5LGQudmFsdWUsITFdKTtkLnZhbHVlPXAuZXJyb3I/bnVsbDpwLm91dHB1dCxkLmtleT1kLmtleVswXVswXX1yZXR1cm57cm93czphKHMsbi5saW1pdCxuLnNraXApfX1mdW5jdGlvbiBFKGUsdCl7cmV0dXJuIGouc2VxdWVudGlhbGl6ZShtKGUpLGZ1bmN0aW9uKCl7cmV0dXJuIHcoZSx0KX0pKCl9ZnVuY3Rpb24gdyhlLHQpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIHQuaW5jbHVkZV9kb2NzPSEwLGUuZGIuYWxsRG9jcyh0KS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBvPWUudG90YWxfcm93cyxlLnJvd3MubWFwKGZ1bmN0aW9uKGUpe2lmKFwidmFsdWVcImluIGUuZG9jJiZcIm9iamVjdFwiPT10eXBlb2YgZS5kb2MudmFsdWUmJm51bGwhPT1lLmRvYy52YWx1ZSl7dmFyIHQ9T2JqZWN0LmtleXMoZS5kb2MudmFsdWUpLnNvcnQoKSxuPVtcImlkXCIsXCJrZXlcIixcInZhbHVlXCJdO2lmKCEobj50fHx0Pm4pKXJldHVybiBlLmRvYy52YWx1ZX12YXIgcj1xLnBhcnNlSW5kZXhhYmxlU3RyaW5nKGUuZG9jLl9pZCk7cmV0dXJue2tleTpyWzBdLGlkOnJbMV0sdmFsdWU6XCJ2YWx1ZVwiaW4gZS5kb2M/ZS5kb2MudmFsdWU6bnVsbH19KX0pfWZ1bmN0aW9uIHIobil7dmFyIHI7aWYocj1pP2IoZSxuLHQpOnt0b3RhbF9yb3dzOm8sb2Zmc2V0OnMscm93czpufSx0LmluY2x1ZGVfZG9jcyl7dmFyIGE9ai51bmlxKG4ubWFwKGMpKTtyZXR1cm4gZS5zb3VyY2VEQi5hbGxEb2NzKHtrZXlzOmEsaW5jbHVkZV9kb2NzOiEwLGNvbmZsaWN0czp0LmNvbmZsaWN0cyxhdHRhY2htZW50czp0LmF0dGFjaG1lbnRzfSkudGhlbihmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5yb3dzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5kb2MmJih0W1wiJFwiK2UuaWRdPWUuZG9jKX0pLG4uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1jKGUpLHI9dFtcIiRcIituXTtyJiYoZS5kb2M9cil9KSxyfSl9cmV0dXJuIHJ9dmFyIG8saT1lLnJlZHVjZUZ1biYmdC5yZWR1Y2UhPT0hMSxzPXQuc2tpcHx8MDtcInVuZGVmaW5lZFwiPT10eXBlb2YgdC5rZXlzfHx0LmtleXMubGVuZ3RofHwodC5saW1pdD0wLGRlbGV0ZSB0LmtleXMpO3ZhciBhPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0KX0pfTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5rZXlzKXt2YXIgdT10LmtleXMsZj11Lm1hcChmdW5jdGlvbihlKXt2YXIgdD17c3RhcnRrZXk6QyhbZV0pLGVuZGtleTpDKFtlLHt9XSl9O3JldHVybiBuKHQpfSk7cmV0dXJuIEIuYWxsKGYpLnRoZW4oYSkudGhlbihyKX12YXIgbD17ZGVzY2VuZGluZzp0LmRlc2NlbmRpbmd9O2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB0LnN0YXJ0a2V5JiYobC5zdGFydGtleT1DKHQuZGVzY2VuZGluZz9bdC5zdGFydGtleSx7fV06W3Quc3RhcnRrZXldKSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQuZW5ka2V5KXt2YXIgZD10LmluY2x1c2l2ZV9lbmQhPT0hMTt0LmRlc2NlbmRpbmcmJihkPSFkKSxsLmVuZGtleT1DKGQ/W3QuZW5ka2V5LHt9XTpbdC5lbmRrZXldKX1pZihcInVuZGVmaW5lZFwiIT10eXBlb2YgdC5rZXkpe3ZhciBwPUMoW3Qua2V5XSksaD1DKFt0LmtleSx7fV0pO2wuZGVzY2VuZGluZz8obC5lbmRrZXk9cCxsLnN0YXJ0a2V5PWgpOihsLnN0YXJ0a2V5PXAsbC5lbmRrZXk9aCl9cmV0dXJuIGl8fChcIm51bWJlclwiPT10eXBlb2YgdC5saW1pdCYmKGwubGltaXQ9dC5saW1pdCksbC5za2lwPXMpLG4obCkudGhlbihyKX1mdW5jdGlvbiBTKGUpe3JldHVybiBlLnJlcXVlc3Qoe21ldGhvZDpcIlBPU1RcIix1cmw6XCJfdmlld19jbGVhbnVwXCJ9KX1mdW5jdGlvbiBUKGUpe3JldHVybiBlLmdldChcIl9sb2NhbC9tcnZpZXdzXCIpLnRoZW4oZnVuY3Rpb24odCl7dmFyIG49e307T2JqZWN0LmtleXModC52aWV3cykuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1yKGUpLG89XCJfZGVzaWduL1wiK3RbMF0saT10WzFdO25bb109bltvXXx8e30sbltvXVtpXT0hMH0pO3ZhciBvPXtrZXlzOk9iamVjdC5rZXlzKG4pLGluY2x1ZGVfZG9jczohMH07cmV0dXJuIGUuYWxsRG9jcyhvKS50aGVuKGZ1bmN0aW9uKHIpe3ZhciBvPXt9O3Iucm93cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPWUua2V5LnN1YnN0cmluZyg4KTtPYmplY3Qua2V5cyhuW2Uua2V5XSkuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgaT1yK1wiL1wiK247dC52aWV3c1tpXXx8KGk9bik7dmFyIHM9T2JqZWN0LmtleXModC52aWV3c1tpXSksYT1lLmRvYyYmZS5kb2Mudmlld3MmJmUuZG9jLnZpZXdzW25dO3MuZm9yRWFjaChmdW5jdGlvbihlKXtvW2VdPW9bZV18fGF9KX0pfSk7dmFyIGk9T2JqZWN0LmtleXMobykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFvW2VdfSkscz1pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gai5zZXF1ZW50aWFsaXplKG0odCksZnVuY3Rpb24oKXtyZXR1cm4gZS5jb25zdHJ1Y3Rvci5kZXN0cm95KHQsZS5fX29wdHMpfSkoKX0pO3JldHVybiBCLmFsbChzKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJue29rOiEwfX0pfSl9LGgoe29rOiEwfSkpfWZ1bmN0aW9uIHgoZSxuLG8pe2lmKFwiaHR0cFwiPT09ZS50eXBlKCkpcmV0dXJuIHAoZSxuLG8pO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuKXtkKG8sbik7dmFyIGk9e2RiOmUsdmlld05hbWU6XCJ0ZW1wX3ZpZXcvdGVtcF92aWV3XCIsbWFwOm4ubWFwLHJlZHVjZTpuLnJlZHVjZSx0ZW1wb3Jhcnk6ITB9O3JldHVybiBNLmFkZChmdW5jdGlvbigpe3JldHVybiBJKGkpLnRoZW4oZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiBlLmRiLmRlc3Ryb3koKX1yZXR1cm4gai5maW4oZyhlKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIEUoZSxvKX0pLHQpfSl9KSxNLmZpbmlzaCgpfXZhciBzPW4sYT1yKHMpLGM9YVswXSx1PWFbMV07cmV0dXJuIGUuZ2V0KFwiX2Rlc2lnbi9cIitjKS50aGVuKGZ1bmN0aW9uKG4pe3ZhciByPW4udmlld3MmJm4udmlld3NbdV07aWYoIXJ8fFwic3RyaW5nXCIhPXR5cGVvZiByLm1hcCl0aHJvdyBuZXcgTyhcImRkb2MgXCIrYytcIiBoYXMgbm8gdmlldyBuYW1lZCBcIit1KTtkKG8scik7dmFyIGk9e2RiOmUsdmlld05hbWU6cyxtYXA6ci5tYXAscmVkdWNlOnIucmVkdWNlfTtyZXR1cm4gSShpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVyblwib2tcIj09PW8uc3RhbGV8fFwidXBkYXRlX2FmdGVyXCI9PT1vLnN0YWxlPyhcInVwZGF0ZV9hZnRlclwiPT09by5zdGFsZSYmdC5uZXh0VGljayhmdW5jdGlvbigpe2coZSl9KSxFKGUsbykpOmcoZSkudGhlbihmdW5jdGlvbigpe3JldHVybiBFKGUsbyl9KX0pfSl9ZnVuY3Rpb24gQShlKXt0aGlzLnN0YXR1cz00MDAsdGhpcy5uYW1lPVwicXVlcnlfcGFyc2VfZXJyb3JcIix0aGlzLm1lc3NhZ2U9ZSx0aGlzLmVycm9yPSEwO3RyeXtFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLEEpfWNhdGNoKHQpe319ZnVuY3Rpb24gTyhlKXt0aGlzLnN0YXR1cz00MDQsdGhpcy5uYW1lPVwibm90X2ZvdW5kXCIsdGhpcy5tZXNzYWdlPWUsdGhpcy5lcnJvcj0hMDt0cnl7RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyxPKX1jYXRjaCh0KXt9fXZhciBrLHE9ZSg2MiksUj1lKDY5KSxEPXEuY29sbGF0ZSxDPXEudG9JbmRleGFibGVTdHJpbmcsTD1xLm5vcm1hbGl6ZUtleSxJPWUoNjYpLE49ZSg2Nyk7az1cInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgY29uc29sZS5sb2c/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbChjb25zb2xlLmxvZyxjb25zb2xlKTpmdW5jdGlvbigpe307dmFyIGo9ZSg3MSksQj1qLlByb21pc2UsRj17fSxNPW5ldyBSLFA9NTAsVT17X3N1bTpmdW5jdGlvbihlLHQpe3JldHVybiBmKHQpfSxfY291bnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5sZW5ndGh9LF9zdGF0czpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0PTAsbj0wLHI9ZS5sZW5ndGg7cj5uO24rKyl7dmFyIG89ZVtuXTt0Kz1vKm99cmV0dXJuIHR9cmV0dXJue3N1bTpmKHQpLG1pbjpNYXRoLm1pbi5hcHBseShudWxsLHQpLG1heDpNYXRoLm1heC5hcHBseShudWxsLHQpLGNvdW50OnQubGVuZ3RoLHN1bXNxcjpuKHQpfX19O24udmlld0NsZWFudXA9ai5jYWxsYmFja2lmeShmdW5jdGlvbigpe3ZhciBlPXRoaXM7cmV0dXJuXCJodHRwXCI9PT1lLnR5cGUoKT9TKGUpOlQoZSl9KSxuLnF1ZXJ5PWZ1bmN0aW9uKGUsdCxuKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYobj10LHQ9e30pLHQ9ai5leHRlbmQoITAse30sdCksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9e21hcDplfSk7dmFyIHI9dGhpcyxvPUIucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4geChyLGUsdCl9KTtyZXR1cm4gai5wcm9taXNlZENhbGxiYWNrKG8sbiksb30sai5pbmhlcml0cyhBLEVycm9yKSxqLmluaGVyaXRzKE8sRXJyb3IpfSkuY2FsbCh0aGlzLGUoMzkpKX0se31dLDY5OltmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt0aGlzLnByb21pc2U9bmV3IHIoZnVuY3Rpb24oZSl7ZSgpfSl9dmFyIHI9ZSg3MSkuUHJvbWlzZTtuLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHJvbWlzZT10aGlzLnByb21pc2VbXCJjYXRjaFwiXShmdW5jdGlvbigpe30pLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZSgpfSksdGhpcy5wcm9taXNlfSxuLnByb3RvdHlwZS5maW5pc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9taXNlfSx0LmV4cG9ydHM9bn0se31dLDcwOltmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO3ZhciBuPWUoNzIpLnVwc2VydDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmFwcGx5KGUsW3Qscl0pfX0se31dLDcxOltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQscil7XCJ1c2Ugc3RyaWN0XCI7bi5Qcm9taXNlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHIuUHJvbWlzZT9yLlByb21pc2U6ZSg0Nyksbi5pbmhlcml0cz1lKDQzKSxuLmV4dGVuZD1lKDY1KTt2YXIgbz1lKDM2KTtuLnByb21pc2VkQ2FsbGJhY2s9ZnVuY3Rpb24oZSxuKXtyZXR1cm4gbiYmZS50aGVuKGZ1bmN0aW9uKGUpe3QubmV4dFRpY2soZnVuY3Rpb24oKXtuKG51bGwsZSl9KX0sZnVuY3Rpb24oZSl7dC5uZXh0VGljayhmdW5jdGlvbigpe24oZSl9KX0pLGV9LG4uY2FsbGJhY2tpZnk9ZnVuY3Rpb24oZSl7cmV0dXJuIG8oZnVuY3Rpb24odCl7dmFyIHI9dC5wb3AoKSxvPWUuYXBwbHkodGhpcyx0KTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByJiZuLnByb21pc2VkQ2FsbGJhY2sobyxyKSxvfSl9LG4uZmluPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudGhlbihmdW5jdGlvbihlKXt2YXIgbj10KCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygbi50aGVuP24udGhlbihmdW5jdGlvbigpe3JldHVybiBlfSk6ZX0sZnVuY3Rpb24oZSl7dmFyIG49dCgpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4udGhlbilyZXR1cm4gbi50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgZX0pO3Rocm93IGV9KX0sbi5zZXF1ZW50aWFsaXplPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzLHI9dGhpcztyZXR1cm4gZS5hZGQoZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShyLG4pfSl9fSxuLmZsYXR0ZW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49MCxyPWUubGVuZ3RoO3I+bjtuKyspdD10LmNvbmNhdChlW25dKTtyZXR1cm4gdH0sbi51bmlxPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxuPTAscj1lLmxlbmd0aDtyPm47bisrKXRbXCIkXCIrZVtuXV09ITA7dmFyIG89T2JqZWN0LmtleXModCksaT1uZXcgQXJyYXkoby5sZW5ndGgpO2ZvcihuPTAscj1vLmxlbmd0aDtyPm47bisrKWlbbl09b1tuXS5zdWJzdHJpbmcoMSk7cmV0dXJuIGl9O3ZhciBpPWUoMzcpLHM9ZSg3Myk7bi5NRDU9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuYnJvd3Nlcj9zLmhhc2goZSk6aS5jcmVhdGVIYXNoKFwibWQ1XCIpLnVwZGF0ZShlKS5kaWdlc3QoXCJoZXhcIil9fSkuY2FsbCh0aGlzLGUoMzkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sNzI6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcihlLHQsbil7cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKHIsaSl7cmV0dXJuXCJzdHJpbmdcIiE9dHlwZW9mIHQ/aShuZXcgRXJyb3IoXCJkb2MgaWQgaXMgcmVxdWlyZWRcIikpOnZvaWQgZS5nZXQodCxmdW5jdGlvbihzLGEpe2lmKHMpe2lmKDQwNCE9PXMuc3RhdHVzKXJldHVybiBpKHMpO2E9e319dmFyIGM9bihhKTtyZXR1cm4gYz8oYy5faWQ9dCxjLl9yZXY9YS5fcmV2LHZvaWQgcihvKGUsYyxuKSkpOnIoe3VwZGF0ZWQ6ITEscmV2OmEuX3Jldn0pfSl9KX1mdW5jdGlvbiBvKGUsdCxuKXtyZXR1cm4gZS5wdXQodCkudGhlbihmdW5jdGlvbihlKXtyZXR1cm57dXBkYXRlZDohMCxyZXY6ZS5yZXZ9fSxmdW5jdGlvbihvKXtpZig0MDkhPT1vLnN0YXR1cyl0aHJvdyBvO3JldHVybiByKGUsdC5faWQsbil9KX12YXIgaTtpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5Qb3VjaERCP3dpbmRvdy5Qb3VjaERCLnV0aWxzLlByb21pc2U6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5Qcm9taXNlP3QuUHJvbWlzZTplKDQ3KSxuLnVwc2VydD1mdW5jdGlvbihlLHQsbil7dmFyIG89dGhpcyxpPXIobyxlLHQpO3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIG4/aTp2b2lkIGkudGhlbihmdW5jdGlvbihlKXtuKG51bGwsZSl9LG4pfSxuLnB1dElmTm90RXhpc3RzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz10aGlzO1wic3RyaW5nXCIhPXR5cGVvZiBlJiYobj10LHQ9ZSxlPXQuX2lkKTt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZS5fcmV2PyExOnR9LHM9cihvLGUsaSk7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2Ygbj9zOnZvaWQgcy50aGVuKGZ1bmN0aW9uKGUpe24obnVsbCxlKX0sbil9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5Qb3VjaERCJiZ3aW5kb3cuUG91Y2hEQi5wbHVnaW4obil9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSw3MzpbZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbihlKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygbil0LmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShlKTtlbHNle3ZhciByO3RyeXtyPXdpbmRvd31jYXRjaChvKXtyPXNlbGZ9ci5TcGFya01ENT1lKCl9fShmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrdCY0Mjk0OTY3Mjk1fSx0PWZ1bmN0aW9uKHQsbixyLG8saSxzKXtyZXR1cm4gbj1lKGUobix0KSxlKG8scykpLGUobjw8aXxuPj4+MzItaSxyKX0sbj1mdW5jdGlvbihlLG4scixvLGkscyxhKXtyZXR1cm4gdChuJnJ8fm4mbyxlLG4saSxzLGEpfSxyPWZ1bmN0aW9uKGUsbixyLG8saSxzLGEpe3JldHVybiB0KG4mb3xyJn5vLGUsbixpLHMsYSl9LG89ZnVuY3Rpb24oZSxuLHIsbyxpLHMsYSl7cmV0dXJuIHQobl5yXm8sZSxuLGkscyxhKX0saT1mdW5jdGlvbihlLG4scixvLGkscyxhKXtyZXR1cm4gdChyXihufH5vKSxlLG4saSxzLGEpfSxzPWZ1bmN0aW9uKHQscyl7dmFyIGE9dFswXSxjPXRbMV0sdT10WzJdLGY9dFszXTthPW4oYSxjLHUsZixzWzBdLDcsLTY4MDg3NjkzNiksZj1uKGYsYSxjLHUsc1sxXSwxMiwtMzg5NTY0NTg2KSx1PW4odSxmLGEsYyxzWzJdLDE3LDYwNjEwNTgxOSksYz1uKGMsdSxmLGEsc1szXSwyMiwtMTA0NDUyNTMzMCksYT1uKGEsYyx1LGYsc1s0XSw3LC0xNzY0MTg4OTcpLGY9bihmLGEsYyx1LHNbNV0sMTIsMTIwMDA4MDQyNiksdT1uKHUsZixhLGMsc1s2XSwxNywtMTQ3MzIzMTM0MSksYz1uKGMsdSxmLGEsc1s3XSwyMiwtNDU3MDU5ODMpLGE9bihhLGMsdSxmLHNbOF0sNywxNzcwMDM1NDE2KSxmPW4oZixhLGMsdSxzWzldLDEyLC0xOTU4NDE0NDE3KSx1PW4odSxmLGEsYyxzWzEwXSwxNywtNDIwNjMpLGM9bihjLHUsZixhLHNbMTFdLDIyLC0xOTkwNDA0MTYyKSxhPW4oYSxjLHUsZixzWzEyXSw3LDE4MDQ2MDM2ODIpLGY9bihmLGEsYyx1LHNbMTNdLDEyLC00MDM0MTEwMSksdT1uKHUsZixhLGMsc1sxNF0sMTcsLTE1MDIwMDIyOTApLGM9bihjLHUsZixhLHNbMTVdLDIyLDEyMzY1MzUzMjkpLGE9cihhLGMsdSxmLHNbMV0sNSwtMTY1Nzk2NTEwKSxmPXIoZixhLGMsdSxzWzZdLDksLTEwNjk1MDE2MzIpLHU9cih1LGYsYSxjLHNbMTFdLDE0LDY0MzcxNzcxMyksYz1yKGMsdSxmLGEsc1swXSwyMCwtMzczODk3MzAyKSxhPXIoYSxjLHUsZixzWzVdLDUsLTcwMTU1ODY5MSksZj1yKGYsYSxjLHUsc1sxMF0sOSwzODAxNjA4MyksdT1yKHUsZixhLGMsc1sxNV0sMTQsLTY2MDQ3ODMzNSksYz1yKGMsdSxmLGEsc1s0XSwyMCwtNDA1NTM3ODQ4KSxhPXIoYSxjLHUsZixzWzldLDUsNTY4NDQ2NDM4KSxmPXIoZixhLGMsdSxzWzE0XSw5LC0xMDE5ODAzNjkwKSx1PXIodSxmLGEsYyxzWzNdLDE0LC0xODczNjM5NjEpLGM9cihjLHUsZixhLHNbOF0sMjAsMTE2MzUzMTUwMSksYT1yKGEsYyx1LGYsc1sxM10sNSwtMTQ0NDY4MTQ2NyksZj1yKGYsYSxjLHUsc1syXSw5LC01MTQwMzc4NCksdT1yKHUsZixhLGMsc1s3XSwxNCwxNzM1MzI4NDczKSxjPXIoYyx1LGYsYSxzWzEyXSwyMCwtMTkyNjYwNzczNCksYT1vKGEsYyx1LGYsc1s1XSw0LC0zNzg1NTgpLGY9byhmLGEsYyx1LHNbOF0sMTEsLTIwMjI1NzQ0NjMpLHU9byh1LGYsYSxjLHNbMTFdLDE2LDE4MzkwMzA1NjIpLGM9byhjLHUsZixhLHNbMTRdLDIzLC0zNTMwOTU1NiksYT1vKGEsYyx1LGYsc1sxXSw0LC0xNTMwOTkyMDYwKSxmPW8oZixhLGMsdSxzWzRdLDExLDEyNzI4OTMzNTMpLHU9byh1LGYsYSxjLHNbN10sMTYsLTE1NTQ5NzYzMiksYz1vKGMsdSxmLGEsc1sxMF0sMjMsLTEwOTQ3MzA2NDApLGE9byhhLGMsdSxmLHNbMTNdLDQsNjgxMjc5MTc0KSxmPW8oZixhLGMsdSxzWzBdLDExLC0zNTg1MzcyMjIpLHU9byh1LGYsYSxjLHNbM10sMTYsLTcyMjUyMTk3OSksYz1vKGMsdSxmLGEsc1s2XSwyMyw3NjAyOTE4OSksYT1vKGEsYyx1LGYsc1s5XSw0LC02NDAzNjQ0ODcpLGY9byhmLGEsYyx1LHNbMTJdLDExLC00MjE4MTU4MzUpLHU9byh1LGYsYSxjLHNbMTVdLDE2LDUzMDc0MjUyMCksYz1vKGMsdSxmLGEsc1syXSwyMywtOTk1MzM4NjUxKSxhPWkoYSxjLHUsZixzWzBdLDYsLTE5ODYzMDg0NCksZj1pKGYsYSxjLHUsc1s3XSwxMCwxMTI2ODkxNDE1KSx1PWkodSxmLGEsYyxzWzE0XSwxNSwtMTQxNjM1NDkwNSksYz1pKGMsdSxmLGEsc1s1XSwyMSwtNTc0MzQwNTUpLGE9aShhLGMsdSxmLHNbMTJdLDYsMTcwMDQ4NTU3MSksZj1pKGYsYSxjLHUsc1szXSwxMCwtMTg5NDk4NjYwNiksdT1pKHUsZixhLGMsc1sxMF0sMTUsLTEwNTE1MjMpLGM9aShjLHUsZixhLHNbMV0sMjEsLTIwNTQ5MjI3OTkpLGE9aShhLGMsdSxmLHNbOF0sNiwxODczMzEzMzU5KSxmPWkoZixhLGMsdSxzWzE1XSwxMCwtMzA2MTE3NDQpLHU9aSh1LGYsYSxjLHNbNl0sMTUsLTE1NjAxOTgzODApLGM9aShjLHUsZixhLHNbMTNdLDIxLDEzMDkxNTE2NDkpLGE9aShhLGMsdSxmLHNbNF0sNiwtMTQ1NTIzMDcwKSxmPWkoZixhLGMsdSxzWzExXSwxMCwtMTEyMDIxMDM3OSksdT1pKHUsZixhLGMsc1syXSwxNSw3MTg3ODcyNTkpLGM9aShjLHUsZixhLHNbOV0sMjEsLTM0MzQ4NTU1MSksdFswXT1lKGEsdFswXSksdFsxXT1lKGMsdFsxXSksdFsyXT1lKHUsdFsyXSksdFszXT1lKGYsdFszXSl9LGE9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IodD0wOzY0PnQ7dCs9NCluW3Q+PjJdPWUuY2hhckNvZGVBdCh0KSsoZS5jaGFyQ29kZUF0KHQrMSk8PDgpKyhlLmNoYXJDb2RlQXQodCsyKTw8MTYpKyhlLmNoYXJDb2RlQXQodCszKTw8MjQpO3JldHVybiBufSxjPWZ1bmN0aW9uKGUpe3ZhciB0LG49W107Zm9yKHQ9MDs2ND50O3QrPTQpblt0Pj4yXT1lW3RdKyhlW3QrMV08PDgpKyhlW3QrMl08PDE2KSsoZVt0KzNdPDwyNCk7cmV0dXJuIG59LHU9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLG8saSxjLHU9ZS5sZW5ndGgsZj1bMTczMjU4NDE5MywtMjcxNzMzODc5LC0xNzMyNTg0MTk0LDI3MTczMzg3OF07Zm9yKHQ9NjQ7dT49dDt0Kz02NClzKGYsYShlLnN1YnN0cmluZyh0LTY0LHQpKSk7Zm9yKGU9ZS5zdWJzdHJpbmcodC02NCksbj1lLmxlbmd0aCxyPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSx0PTA7bj50O3QrPTEpclt0Pj4yXXw9ZS5jaGFyQ29kZUF0KHQpPDwodCU0PDwzKTtpZihyW3Q+PjJdfD0xMjg8PCh0JTQ8PDMpLHQ+NTUpZm9yKHMoZixyKSx0PTA7MTY+dDt0Kz0xKXJbdF09MDtyZXR1cm4gbz04KnUsbz1vLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKSxpPXBhcnNlSW50KG9bMl0sMTYpLGM9cGFyc2VJbnQob1sxXSwxNil8fDAsclsxNF09aSxyWzE1XT1jLHMoZixyKSxmfSxmPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGksYSx1PWUubGVuZ3RoLGY9WzE3MzI1ODQxOTMsLTI3MTczMzg3OSwtMTczMjU4NDE5NCwyNzE3MzM4NzhdO2Zvcih0PTY0O3U+PXQ7dCs9NjQpcyhmLGMoZS5zdWJhcnJheSh0LTY0LHQpKSk7Zm9yKGU9dT50LTY0P2Uuc3ViYXJyYXkodC02NCk6bmV3IFVpbnQ4QXJyYXkoMCksbj1lLmxlbmd0aCxyPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXSx0PTA7bj50O3QrPTEpclt0Pj4yXXw9ZVt0XTw8KHQlNDw8Myk7aWYoclt0Pj4yXXw9MTI4PDwodCU0PDwzKSx0PjU1KWZvcihzKGYsciksdD0wOzE2PnQ7dCs9MSlyW3RdPTA7cmV0dXJuIG89OCp1LG89by50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyksaT1wYXJzZUludChvWzJdLDE2KSxhPXBhcnNlSW50KG9bMV0sMTYpfHwwLHJbMTRdPWksclsxNV09YSxzKGYsciksZn0sbD1bXCIwXCIsXCIxXCIsXCIyXCIsXCIzXCIsXCI0XCIsXCI1XCIsXCI2XCIsXCI3XCIsXCI4XCIsXCI5XCIsXCJhXCIsXCJiXCIsXCJjXCIsXCJkXCIsXCJlXCIsXCJmXCJdLGQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1cIlwiO2Zvcih0PTA7ND50O3QrPTEpbis9bFtlPj44KnQrNCYxNV0rbFtlPj44KnQmMTVdO3JldHVybiBufSxwPWZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0PTA7dDxlLmxlbmd0aDt0Kz0xKWVbdF09ZChlW3RdKTtyZXR1cm4gZS5qb2luKFwiXCIpfSxoPWZ1bmN0aW9uKGUpe3JldHVybiBwKHUoZSkpfSx2PWZ1bmN0aW9uKCl7dGhpcy5yZXNldCgpfTtyZXR1cm5cIjVkNDE0MDJhYmM0YjJhNzZiOTcxOWQ5MTEwMTdjNTkyXCIhPT1oKFwiaGVsbG9cIikmJihlPWZ1bmN0aW9uKGUsdCl7dmFyIG49KDY1NTM1JmUpKyg2NTUzNSZ0KSxyPShlPj4xNikrKHQ+PjE2KSsobj4+MTYpO3JldHVybiByPDwxNnw2NTUzNSZufSksdi5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUpe3JldHVybi9bXFx1MDA4MC1cXHVGRkZGXS8udGVzdChlKSYmKGU9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUpKSksdGhpcy5hcHBlbmRCaW5hcnkoZSksdGhpc30sdi5wcm90b3R5cGUuYXBwZW5kQmluYXJ5PWZ1bmN0aW9uKGUpe3RoaXMuX2J1ZmYrPWUsdGhpcy5fbGVuZ3RoKz1lLmxlbmd0aDt2YXIgdCxuPXRoaXMuX2J1ZmYubGVuZ3RoO2Zvcih0PTY0O24+PXQ7dCs9NjQpcyh0aGlzLl9zdGF0ZSxhKHRoaXMuX2J1ZmYuc3Vic3RyaW5nKHQtNjQsdCkpKTtyZXR1cm4gdGhpcy5fYnVmZj10aGlzLl9idWZmLnN1YnN0cih0LTY0KSx0aGlzfSx2LnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMuX2J1ZmYsbz1yLmxlbmd0aCxpPVswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwXTtmb3IodD0wO28+dDt0Kz0xKWlbdD4+Ml18PXIuY2hhckNvZGVBdCh0KTw8KHQlNDw8Myk7cmV0dXJuIHRoaXMuX2ZpbmlzaChpLG8pLG49ZT90aGlzLl9zdGF0ZTpwKHRoaXMuX3N0YXRlKSx0aGlzLnJlc2V0KCksbn0sdi5wcm90b3R5cGUuX2ZpbmlzaD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsbyxpPXQ7aWYoZVtpPj4yXXw9MTI4PDwoaSU0PDwzKSxpPjU1KWZvcihzKHRoaXMuX3N0YXRlLGUpLGk9MDsxNj5pO2krPTEpZVtpXT0wO249OCp0aGlzLl9sZW5ndGgsbj1uLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKSxyPXBhcnNlSW50KG5bMl0sMTYpLG89cGFyc2VJbnQoblsxXSwxNil8fDAsZVsxNF09cixlWzE1XT1vLHModGhpcy5fc3RhdGUsZSl9LHYucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmY9XCJcIix0aGlzLl9sZW5ndGg9MCx0aGlzLl9zdGF0ZT1bMTczMjU4NDE5MywtMjcxNzMzODc5LC0xNzMyNTg0MTk0LDI3MTczMzg3OF0sdGhpc30sdi5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl9zdGF0ZSxkZWxldGUgdGhpcy5fYnVmZixkZWxldGUgdGhpcy5fbGVuZ3RofSx2Lmhhc2g9ZnVuY3Rpb24oZSx0KXsvW1xcdTAwODAtXFx1RkZGRl0vLnRlc3QoZSkmJihlPXVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSkpO3ZhciBuPXUoZSk7cmV0dXJuIHQ/bjpwKG4pfSx2Lmhhc2hCaW5hcnk9ZnVuY3Rpb24oZSx0KXt2YXIgbj11KGUpO3JldHVybiB0P246cChuKX0sdi5BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe3RoaXMucmVzZXQoKX0sdi5BcnJheUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kPWZ1bmN0aW9uKGUpe3ZhciB0LG49dGhpcy5fY29uY2F0QXJyYXlCdWZmZXIodGhpcy5fYnVmZixlKSxyPW4ubGVuZ3RoO2Zvcih0aGlzLl9sZW5ndGgrPWUuYnl0ZUxlbmd0aCx0PTY0O3I+PXQ7dCs9NjQpcyh0aGlzLl9zdGF0ZSxjKG4uc3ViYXJyYXkodC02NCx0KSkpO3JldHVybiB0aGlzLl9idWZmPXI+dC02ND9uLnN1YmFycmF5KHQtNjQpOm5ldyBVaW50OEFycmF5KDApLHRoaXN9LHYuQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZD1mdW5jdGlvbihlKXt2YXIgdCxuLHI9dGhpcy5fYnVmZixvPXIubGVuZ3RoLGk9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDBdO2Zvcih0PTA7bz50O3QrPTEpaVt0Pj4yXXw9clt0XTw8KHQlNDw8Myk7cmV0dXJuIHRoaXMuX2ZpbmlzaChpLG8pLG49ZT90aGlzLl9zdGF0ZTpwKHRoaXMuX3N0YXRlKSx0aGlzLnJlc2V0KCksbn0sdi5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaD12LnByb3RvdHlwZS5fZmluaXNoLHYuQXJyYXlCdWZmZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmY9bmV3IFVpbnQ4QXJyYXkoMCksdGhpcy5fbGVuZ3RoPTAsdGhpcy5fc3RhdGU9WzE3MzI1ODQxOTMsLTI3MTczMzg3OSwtMTczMjU4NDE5NCwyNzE3MzM4NzhdLHRoaXN9LHYuQXJyYXlCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3k9di5wcm90b3R5cGUuZGVzdHJveSx2LkFycmF5QnVmZmVyLnByb3RvdHlwZS5fY29uY2F0QXJyYXlCdWZmZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmxlbmd0aCxyPW5ldyBVaW50OEFycmF5KG4rdC5ieXRlTGVuZ3RoKTtyZXR1cm4gci5zZXQoZSksci5zZXQobmV3IFVpbnQ4QXJyYXkodCksbikscn0sdi5BcnJheUJ1ZmZlci5oYXNoPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZihuZXcgVWludDhBcnJheShlKSk7cmV0dXJuIHQ/bjpwKG4pfSx2fSl9LHt9XSw3NDpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIoZSx0LG4pe3ZhciByPW5bbi5sZW5ndGgtMV07ZT09PXIuZWxlbWVudCYmKG4ucG9wKCkscj1uW24ubGVuZ3RoLTFdKTt2YXIgbz1yLmVsZW1lbnQsaT1yLmluZGV4O2lmKEFycmF5LmlzQXJyYXkobykpby5wdXNoKGUpO2Vsc2UgaWYoaT09PXQubGVuZ3RoLTIpe3ZhciBzPXQucG9wKCk7b1tzXT1lfWVsc2UgdC5wdXNoKGUpfW4uc3RyaW5naWZ5PWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3QucHVzaCh7b2JqOmV9KTtmb3IodmFyIG4scixvLGkscyxhLGMsdSxmLGwsZCxwPVwiXCI7bj10LnBvcCgpOylpZihyPW4ub2JqLG89bi5wcmVmaXh8fFwiXCIsaT1uLnZhbHx8XCJcIixwKz1vLGkpcCs9aTtlbHNlIGlmKFwib2JqZWN0XCIhPXR5cGVvZiByKXArPVwidW5kZWZpbmVkXCI9PXR5cGVvZiByP251bGw6SlNPTi5zdHJpbmdpZnkocik7ZWxzZSBpZihudWxsPT09cilwKz1cIm51bGxcIjtlbHNlIGlmKEFycmF5LmlzQXJyYXkocikpe2Zvcih0LnB1c2goe3ZhbDpcIl1cIn0pLHM9ci5sZW5ndGgtMTtzPj0wO3MtLSlhPTA9PT1zP1wiXCI6XCIsXCIsdC5wdXNoKHtvYmo6cltzXSxwcmVmaXg6YX0pO3QucHVzaCh7dmFsOlwiW1wifSl9ZWxzZXtjPVtdO2Zvcih1IGluIHIpci5oYXNPd25Qcm9wZXJ0eSh1KSYmYy5wdXNoKHUpO2Zvcih0LnB1c2goe3ZhbDpcIn1cIn0pLHM9Yy5sZW5ndGgtMTtzPj0wO3MtLSlmPWNbc10sbD1yW2ZdLGQ9cz4wP1wiLFwiOlwiXCIsZCs9SlNPTi5zdHJpbmdpZnkoZikrXCI6XCIsdC5wdXNoKHtvYmo6bCxwcmVmaXg6ZH0pO3QucHVzaCh7dmFsOlwie1wifSl9cmV0dXJuIHB9LG4ucGFyc2U9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG4sbyxpLHMsYSxjLHUsZixsPVtdLGQ9W10scD0wOzspaWYodD1lW3ArK10sXCJ9XCIhPT10JiZcIl1cIiE9PXQmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiB0KXN3aXRjaCh0KXtjYXNlXCIgXCI6Y2FzZVwiXHRcIjpjYXNlXCJcXG5cIjpjYXNlXCI6XCI6Y2FzZVwiLFwiOmJyZWFrO2Nhc2VcIm5cIjpwKz0zLHIobnVsbCxsLGQpO2JyZWFrO2Nhc2VcInRcIjpwKz0zLHIoITAsbCxkKTticmVhaztjYXNlXCJmXCI6cCs9NCxyKCExLGwsZCk7YnJlYWs7Y2FzZVwiMFwiOmNhc2VcIjFcIjpjYXNlXCIyXCI6Y2FzZVwiM1wiOmNhc2VcIjRcIjpjYXNlXCI1XCI6Y2FzZVwiNlwiOmNhc2VcIjdcIjpjYXNlXCI4XCI6Y2FzZVwiOVwiOmNhc2VcIi1cIjpmb3Iobj1cIlwiLHAtLTs7KXtpZihvPWVbcCsrXSwhL1tcXGRcXC5cXC1lXFwrXS8udGVzdChvKSl7cC0tO2JyZWFrfW4rPW99cihwYXJzZUZsb2F0KG4pLGwsZCk7YnJlYWs7Y2FzZSdcIic6Zm9yKGk9XCJcIixzPXZvaWQgMCxhPTA7Oyl7aWYoYz1lW3ArK10sJ1wiJz09PWMmJihcIlxcXFxcIiE9PXN8fGElMiE9PTEpKWJyZWFrO2krPWMscz1jLFwiXFxcXFwiPT09cz9hKys6YT0wfXIoSlNPTi5wYXJzZSgnXCInK2krJ1wiJyksbCxkKTticmVhaztjYXNlXCJbXCI6dT17ZWxlbWVudDpbXSxpbmRleDpsLmxlbmd0aH0sbC5wdXNoKHUuZWxlbWVudCksZC5wdXNoKHUpO2JyZWFrO2Nhc2VcIntcIjpmPXtlbGVtZW50Ont9LGluZGV4OmwubGVuZ3RofSxsLnB1c2goZi5lbGVtZW50KSxkLnB1c2goZik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6IFwiK3QpfWVsc2V7aWYoMT09PWwubGVuZ3RoKXJldHVybiBsLnBvcCgpO3IobC5wb3AoKSxsLGQpfX19LHt9XSw3NTpbZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24obil7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZSgzMSk7dC5leHBvcnRzPXIsci5hamF4PWUoMTYpLHIudXRpbHM9ZSgzNCksci5FcnJvcnM9ZSgxOSksci5yZXBsaWNhdGU9ZSgzMCkucmVwbGljYXRlLHIuc3luYz1lKDMyKSxyLnZlcnNpb249ZSgzNSk7dmFyIG89ZSgyKTtpZihyLmFkYXB0ZXIoXCJodHRwXCIsbyksci5hZGFwdGVyKFwiaHR0cHNcIixvKSxyLmFkYXB0ZXIoXCJpZGJcIixlKDcpKSxyLmFkYXB0ZXIoXCJ3ZWJzcWxcIixlKDEyKSksci5wbHVnaW4oZSg2OCkpLCFuLmJyb3dzZXIpe3ZhciBpPWUoMzcpO3IuYWRhcHRlcihcImxkYlwiLGkpLHIuYWRhcHRlcihcImxldmVsZGJcIixpKX19KS5jYWxsKHRoaXMsZSgzOSkpfSx7fV19LHt9LFs3NV0pKDc1KX0pOyIsIi8qXG4gKiBiYWNrYm9uZS1wb3VjaFxuICogaHR0cDovL2pvLmdpdGh1Yi5pby9iYWNrYm9uZS1wb3VjaC9cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMgSm9oYW5uZXMgSi4gU2NobWlkdFxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5cbihmdW5jdGlvbihyb290KSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgXG4gIHZhciBCYWNrYm9uZVBvdWNoO1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgQmFja2JvbmVQb3VjaCA9IGV4cG9ydHM7XG4gIH0gZWxzZSB7XG4gICAgQmFja2JvbmVQb3VjaCA9IHJvb3QuQmFja2JvbmVQb3VjaCA9IHt9O1xuICB9XG5cbiAgLy8gUmVxdWlyZSBVbmRlcnNjb3JlLCBpZiB3ZSdyZSBvbiB0aGUgc2VydmVyLCBhbmQgaXQncyBub3QgYWxyZWFkeSBwcmVzZW50LlxuICB2YXIgXyA9IHJvb3QuXztcbiAgaWYgKCFfICYmICh0eXBlb2YgcmVxdWlyZSA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICBfID0gcmVxdWlyZSgndW5kZXJzY29yZScpO1xuICB9XG5cbiAgdmFyIG1ldGhvZE1hcCA9IHtcbiAgICAnY3JlYXRlJzogJ3Bvc3QnLFxuICAgICd1cGRhdGUnOiAncHV0JyxcbiAgICAncGF0Y2gnOiAgJ3B1dCcsXG4gICAgJ2RlbGV0ZSc6ICdyZW1vdmUnXG4gIH07XG5cbiAgQmFja2JvbmVQb3VjaC5kZWZhdWx0cyA9IHtcbiAgICBmZXRjaDogJ2FsbERvY3MnLFxuICAgIGxpc3RlbjogZmFsc2UsXG4gICAgb3B0aW9uczoge1xuICAgICAgcG9zdDoge30sXG4gICAgICBwdXQ6IHt9LFxuICAgICAgZ2V0OiB7fSxcbiAgICAgIHJlbW92ZToge30sXG4gICAgICBhbGxEb2NzOiB7fSxcbiAgICAgIHF1ZXJ5OiB7fSxcbiAgICAgIHNwYXRpYWw6IHt9LFxuICAgICAgY2hhbmdlczoge1xuICAgICAgICBjb250aW51b3VzOiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIGluc3BpcmVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL1JheW5vcy94dGVuZFxuICBmdW5jdGlvbiBleHRlbmQoKSB7XG4gICAgdmFyIHRhcmdldCA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGlmICh0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgbmFtZSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZVtuYW1lXSAmJiB0YXJnZXRbbmFtZV0gJiYgdHlwZW9mIHNvdXJjZVtuYW1lXSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHRhcmdldFtuYW1lXSA9PT0gJ29iamVjdCcgJiYgbmFtZSAhPT0gJ2RiJykge1xuICAgICAgICAgIHRhcmdldFtuYW1lXSA9IGV4dGVuZCh0YXJnZXRbbmFtZV0gfHwge30sIHNvdXJjZVtuYW1lXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0W25hbWVdID0gc291cmNlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuXG4gIC8vIGJhY2tib25lLXBvdWNoIHN5bmMgYWRhcHRlclxuICBCYWNrYm9uZVBvdWNoLnN5bmMgPSBmdW5jdGlvbihkZWZhdWx0cykge1xuICAgIGRlZmF1bHRzID0gZGVmYXVsdHMgfHwge307XG4gICAgZGVmYXVsdHMgPSBleHRlbmQoQmFja2JvbmVQb3VjaC5kZWZhdWx0cywgZGVmYXVsdHMpO1xuXG4gICAgdmFyIGFkYXB0ZXIgPSBmdW5jdGlvbihtZXRob2QsIG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIG9wdGlvbnMgPSBleHRlbmQoZGVmYXVsdHMsIG1vZGVsICYmIG1vZGVsLnBvdWNoIHx8IHt9LCBvcHRpb25zKTtcblxuICAgICAgLy8gVGhpcyBpcyB0byBnZXQgdGhlIG9wdGlvbnMgKGVzcGVjaWFsbHkgb3B0aW9ucy5kYilcbiAgICAgIC8vIGJ5IGNhbGxpbmcgbW9kZWwuc3luYygpIHdpdGhvdXQgYXJndW1lbnRzLlxuICAgICAgaWYgKHR5cGVvZiBtZXRob2QgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgICAgfVxuXG4gICAgICAvLyBlbnN1cmUgd2UgaGF2ZSBhIHBvdWNoIGRiIGFkYXB0ZXJcbiAgICAgIGlmICghb3B0aW9ucy5kYikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgXCJkYlwiIHByb3BlcnR5IG11c3QgYmUgc3BlY2lmaWVkJyk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGNhbGxiYWNrKGVyciwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBvcHRpb25zLmVycm9yICYmIG9wdGlvbnMuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWV0aG9kID09PSAnY3JlYXRlJyB8fCBtZXRob2QgPT09ICd1cGRhdGUnIHx8IG1ldGhvZCA9PT0gJ3BhdGNoJykge1xuICAgICAgICAgIHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgX2lkOiByZXNwb25zZS5pZCxcbiAgICAgICAgICAgIF9yZXY6IHJlc3BvbnNlLnJldlxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gJ2RlbGV0ZScpIHtcbiAgICAgICAgICByZXNwb25zZSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXRob2QgPT09ICdyZWFkJykge1xuICAgICAgICAgIGlmIChvcHRpb25zLmxpc3Rlbikge1xuICAgICAgICAgICAgLy8gVE9ETzpcbiAgICAgICAgICAgIC8vICogaW1wbGVtZW50IGZvciBtb2RlbFxuICAgICAgICAgICAgLy8gKiBhbGxvdyBvdmVyd3JpZGluZyBvZiBzaW5jZS5cbiAgICAgICAgICAgIG9wdGlvbnMuZGIuaW5mbyhmdW5jdGlvbihlcnIsIGluZm8pIHtcbiAgICAgICAgICAgICAgLy8gZ2V0IGNoYW5nZXMgc2luY2UgaW5mby51cGRhdGVfc2VxXG4gICAgICAgICAgICAgIG9wdGlvbnMuZGIuY2hhbmdlcyhfLmV4dGVuZCh7fSwgb3B0aW9ucy5vcHRpb25zLmNoYW5nZXMsIHtcbiAgICAgICAgICAgICAgICBzaW5jZTogaW5mby51cGRhdGVfc2VxLFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbihjaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgIHZhciB0b2RvID0gbW9kZWwuZ2V0KGNoYW5nZS5pZCk7XG5cbiAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2UuZGVsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9kbykge1xuICAgICAgICAgICAgICAgICAgICAgIHRvZG8uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9kbykge1xuICAgICAgICAgICAgICAgICAgICAgIHRvZG8uc2V0KGNoYW5nZS5kb2MpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIG1vZGVsLmFkZChjaGFuZ2UuZG9jKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAvLyBjYWxsIG9yaWdpbmFsIG9uQ2hhbmdlIGlmIHByZXNlbnRcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vcHRpb25zLmNoYW5nZXMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vcHRpb25zLmNoYW5nZXMub25DaGFuZ2UoY2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3B0aW9ucy5zdWNjZXNzICYmIG9wdGlvbnMuc3VjY2VzcyhyZXNwb25zZSk7XG4gICAgICB9XG5cbiAgICAgIG1vZGVsLnRyaWdnZXIoJ3JlcXVlc3QnLCBtb2RlbCwgb3B0aW9ucy5kYiwgb3B0aW9ucyk7XG5cbiAgICAgIGlmIChtZXRob2QgPT09ICdyZWFkJykge1xuICAgICAgICAvLyBnZXQgc2luZ2xlIG1vZGVsXG4gICAgICAgIGlmIChtb2RlbC5pZCkge1xuICAgICAgICAgIHJldHVybiBvcHRpb25zLmRiLmdldChtb2RlbC5pZCwgb3B0aW9ucy5vcHRpb25zLmdldCwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIC8vIHF1ZXJ5IHZpZXcgb3Igc3BhdGlhbCBpbmRleFxuICAgICAgICBpZiAob3B0aW9ucy5mZXRjaCA9PT0gJ3F1ZXJ5JyB8fCBvcHRpb25zLmZldGNoID09PSAnc3BhdGlhbCcpIHtcbiAgICAgICAgICBpZiAoIW9wdGlvbnMub3B0aW9uc1tvcHRpb25zLmZldGNoXS5mdW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQSBcIicgKyBvcHRpb25zLmZldGNoICsgJy5mdW5cIiBvYmplY3QgbXVzdCBiZSBzcGVjaWZpZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZGJbb3B0aW9ucy5mZXRjaF0ob3B0aW9ucy5vcHRpb25zW29wdGlvbnMuZmV0Y2hdLmZ1biwgb3B0aW9ucy5vcHRpb25zW29wdGlvbnMuZmV0Y2hdLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxsRG9jcyBvciBzcGF0aWFsIHF1ZXJ5XG4gICAgICAgIG9wdGlvbnMuZGJbb3B0aW9ucy5mZXRjaF0ob3B0aW9ucy5vcHRpb25zW29wdGlvbnMuZmV0Y2hdLCBjYWxsYmFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLmRiW21ldGhvZE1hcFttZXRob2RdXShtb2RlbC50b0pTT04oKSwgb3B0aW9ucy5vcHRpb25zW21ldGhvZE1hcFttZXRob2RdXSwgY2FsbGJhY2spO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3B0aW9ucztcbiAgICB9O1xuXG4gICAgYWRhcHRlci5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuXG4gICAgcmV0dXJuIGFkYXB0ZXI7XG4gIH07XG5cbiAgQmFja2JvbmVQb3VjaC5hdHRhY2htZW50cyA9IGZ1bmN0aW9uKGRlZmF1bHRzKSB7XG4gICAgZGVmYXVsdHMgPSBkZWZhdWx0cyB8fCB7fTtcblxuICAgIGZ1bmN0aW9uIGdldFBvdWNoKG1vZGVsKSB7XG4gICAgICBpZiAobW9kZWwucG91Y2ggJiYgbW9kZWwucG91Y2guZGIpIHtcbiAgICAgICAgcmV0dXJuIG1vZGVsLnBvdWNoLmRiO1xuICAgICAgfVxuICAgICAgaWYgKG1vZGVsLmNvbGxlY3Rpb24gJiYgbW9kZWwuY29sbGVjdGlvbi5wb3VjaCAmJiBtb2RlbC5jb2xsZWN0aW9uLnBvdWNoLmRiKSB7XG4gICAgICAgIHJldHVybiBtb2RlbC5jb2xsZWN0aW9uLnBvdWNoLmRiO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZGVmYXVsdHMuZGIpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzLmRiO1xuICAgICAgfVxuICAgICAgXG4gICAgICB2YXIgb3B0aW9ucyA9IG1vZGVsLnN5bmMoKTtcbiAgICAgIGlmIChvcHRpb25zLmRiKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmRiO1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiBhc2sgc3luYyBhZGFwdGVyXG4gICAgICAgIFxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIFwiZGJcIiBwcm9wZXJ0eSBtdXN0IGJlIHNwZWNpZmllZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBhdHRhY2htZW50czogZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgICAgIHZhciBhdHRzID0gdGhpcy5nZXQoJ19hdHRhY2htZW50cycpIHx8IHt9O1xuICAgICAgICBpZiAoZmlsdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIF8uZmlsdGVyKF8ua2V5cyhhdHRzKSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyKGtleSwgYXR0c1trZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGF0dHNba2V5XS5jb250ZW50X3R5cGUubWF0Y2goZmlsdGVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gXy5rZXlzKGF0dHMpO1xuICAgICAgfSxcbiAgICAgIGF0dGFjaG1lbnQ6IGZ1bmN0aW9uKG5hbWUsIGRvbmUpIHtcbiAgICAgICAgLy8gVE9ETzogZmlyc3QgbG9vayBhdCB0aGUgX2F0dGFjaG1lbnRzIHN0dWIsXG4gICAgICAgIC8vIG1heWJlIHRoZXJlIHRoZSBkYXRhIGlzIGFscmVhZHkgdGhlcmVcbiAgICAgICAgdmFyIGRiID0gZ2V0UG91Y2godGhpcyk7XG4gICAgICAgIHJldHVybiBkYi5nZXRBdHRhY2htZW50KHRoaXMuaWQsIG5hbWUsIGRvbmUpO1xuICAgICAgfSxcbiAgICAgIGF0dGFjaDogZnVuY3Rpb24oYmxvYiwgbmFtZSwgdHlwZSwgZG9uZSkge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBkb25lID0gbmFtZTtcbiAgICAgICAgICBuYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZG9uZSA9IHR5cGU7XG4gICAgICAgICAgdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBuYW1lID0gbmFtZSB8fCBibG9iLmZpbGVuYW1lO1xuICAgICAgICB0eXBlID0gdHlwZSB8fCBibG9iLnR5cGU7XG5cbiAgICAgICAgdmFyIGRiID0gZ2V0UG91Y2godGhpcyk7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGRiLnB1dEF0dGFjaG1lbnQodGhpcy5pZCwgbmFtZSwgdGhpcy5nZXQoJ19yZXYnKSwgYmxvYiwgdHlwZSwgZnVuY3Rpb24oZXJyLCByZXNwb25zZSkge1xuICAgICAgICAgIGlmICghZXJyICYmIHJlc3BvbnNlLnJldikge1xuICAgICAgICAgICAgdmFyIGF0dHMgPSB0aGF0LmdldCgnX2F0dGFjaG1lbnRzJykgfHwge307XG4gICAgICAgICAgICBhdHRzW25hbWVdID0ge1xuICAgICAgICAgICAgICBjb250ZW50X3R5cGU6IHR5cGUsXG4gICAgICAgICAgICAgIHN0dWI6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGF0LnNldCh7IF9pZDogcmVzcG9uc2UuaWQsIF9yZXY6IHJlc3BvbnNlLnJldiwgX2F0dGFjaG1lbnRzOiBhdHRzIH0sIHsgc2lsZW50OiB0cnVlIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkb25lKGVyciwgcmVzcG9uc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufSh0aGlzKSk7XG4iLCIkKGRvY3VtZW50KS5iaW5kKFwibW9iaWxlaW5pdFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgJC5tb2JpbGUuYWpheEVuYWJsZWQgPSBmYWxzZTtcbiAgICAkLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAkLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZCA9IGZhbHNlO1xuICAgICQubW9iaWxlLnB1c2hTdGF0ZUVuYWJsZWQgPSBmYWxzZTtcblxuICAgIC8vIFJlbW92ZSBwYWdlIGZyb20gRE9NIHdoZW4gaXQncyBiZWluZyByZXBsYWNlZFxuICAgICQoJ2RpdltkYXRhLXJvbGU9XCJwYWdlXCJdJykubGl2ZSgncGFnZWhpZGUnLCBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7XG4gICAgICAgICQoZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlKCk7XG4gICAgfSk7XG59KTsiLCIvKiEgalF1ZXJ5IE1vYmlsZSB2MS4xLjAgZGIzNDJiMWYzMTVjMjgyNjkyNzkxYWE4NzA0NTU5MDFmZGI0NmE1NSBqcXVlcnltb2JpbGUuY29tIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovXG4oZnVuY3Rpb24oRCxzLGspe3R5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQ/ZGVmaW5lKFtcImpxdWVyeVwiXSxmdW5jdGlvbihhKXtrKGEsRCxzKTtyZXR1cm4gYS5tb2JpbGV9KTprKEQualF1ZXJ5LEQscyl9KSh0aGlzLGRvY3VtZW50LGZ1bmN0aW9uKEQscyxrKXsoZnVuY3Rpb24oYSxjLGIsZSl7ZnVuY3Rpb24gZihhKXtmb3IoO2EmJnR5cGVvZiBhLm9yaWdpbmFsRXZlbnQhPT1cInVuZGVmaW5lZFwiOylhPWEub3JpZ2luYWxFdmVudDtyZXR1cm4gYX1mdW5jdGlvbiBkKGIpe2Zvcih2YXIgZD17fSxmLGc7Yjspe2Y9YS5kYXRhKGIsdCk7Zm9yKGcgaW4gZilpZihmW2ddKWRbZ109ZC5oYXNWaXJ0dWFsQmluZGluZz10cnVlO2I9Yi5wYXJlbnROb2RlfXJldHVybiBkfWZ1bmN0aW9uIGcoKXt5JiYoY2xlYXJUaW1lb3V0KHkpLHk9MCk7eT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Rj15PTA7Qy5sZW5ndGg9MDt6PWZhbHNlO0c9dHJ1ZX0sYS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX1cbmZ1bmN0aW9uIGgoYixkLGcpe3ZhciBjLGg7aWYoIShoPWcmJmdbYl0pKXtpZihnPSFnKWE6e2ZvcihnPWQudGFyZ2V0O2c7KXtpZigoaD1hLmRhdGEoZyx0KSkmJighYnx8aFtiXSkpYnJlYWsgYTtnPWcucGFyZW50Tm9kZX1nPW51bGx9aD1nfWlmKGgpe2M9ZDt2YXIgZz1jLnR5cGUseixqO2M9YS5FdmVudChjKTtjLnR5cGU9YjtoPWMub3JpZ2luYWxFdmVudDt6PWEuZXZlbnQucHJvcHM7Zy5zZWFyY2goL14obW91c2V8Y2xpY2spLyk+LTEmJih6PXcpO2lmKGgpZm9yKGo9ei5sZW5ndGg7ajspYj16Wy0tal0sY1tiXT1oW2JdO2lmKGcuc2VhcmNoKC9tb3VzZShkb3dufHVwKXxjbGljay8pPi0xJiYhYy53aGljaCljLndoaWNoPTE7aWYoZy5zZWFyY2goL150b3VjaC8pIT09LTEmJihiPWYoaCksZz1iLnRvdWNoZXMsYj1iLmNoYW5nZWRUb3VjaGVzLGc9ZyYmZy5sZW5ndGg/Z1swXTpiJiZiLmxlbmd0aD9iWzBdOmUpKWZvcihoPTAsbGVuPXUubGVuZ3RoO2g8bGVuO2grKyliPXVbaF0sXG5jW2JdPWdbYl07YShkLnRhcmdldCkudHJpZ2dlcihjKX1yZXR1cm4gY31mdW5jdGlvbiBqKGIpe3ZhciBkPWEuZGF0YShiLnRhcmdldCx4KTtpZigheiYmKCFGfHxGIT09ZCkpaWYoZD1oKFwidlwiK2IudHlwZSxiKSlkLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZiLnByZXZlbnREZWZhdWx0KCksZC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZiLnN0b3BQcm9wYWdhdGlvbigpLGQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYi5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX1mdW5jdGlvbiBvKGIpe3ZhciBnPWYoYikudG91Y2hlcyxjO2lmKGcmJmcubGVuZ3RoPT09MSYmKGM9Yi50YXJnZXQsZz1kKGMpLGcuaGFzVmlydHVhbEJpbmRpbmcpKUY9TCsrLGEuZGF0YShjLHgsRikseSYmKGNsZWFyVGltZW91dCh5KSx5PTApLEE9Rz1mYWxzZSxjPWYoYikudG91Y2hlc1swXSxzPWMucGFnZVgsRT1jLnBhZ2VZLGgoXCJ2bW91c2VvdmVyXCIsYixnKSxoKFwidm1vdXNlZG93blwiLGIsZyl9XG5mdW5jdGlvbiBtKGEpe0d8fChBfHxoKFwidm1vdXNlY2FuY2VsXCIsYSxkKGEudGFyZ2V0KSksQT10cnVlLGcoKSl9ZnVuY3Rpb24gcChiKXtpZighRyl7dmFyIGM9ZihiKS50b3VjaGVzWzBdLGU9QSx6PWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZDtBPUF8fE1hdGguYWJzKGMucGFnZVgtcyk+enx8TWF0aC5hYnMoYy5wYWdlWS1FKT56O2ZsYWdzPWQoYi50YXJnZXQpO0EmJiFlJiZoKFwidm1vdXNlY2FuY2VsXCIsYixmbGFncyk7aChcInZtb3VzZW1vdmVcIixiLGZsYWdzKTtnKCl9fWZ1bmN0aW9uIGwoYSl7aWYoIUcpe0c9dHJ1ZTt2YXIgYj1kKGEudGFyZ2V0KSxjO2goXCJ2bW91c2V1cFwiLGEsYik7aWYoIUEmJihjPWgoXCJ2Y2xpY2tcIixhLGIpKSYmYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSljPWYoYSkuY2hhbmdlZFRvdWNoZXNbMF0sQy5wdXNoKHt0b3VjaElEOkYseDpjLmNsaWVudFgseTpjLmNsaWVudFl9KSx6PXRydWU7aChcInZtb3VzZW91dFwiLGEsYik7QT1mYWxzZTtnKCl9fWZ1bmN0aW9uIHIoYil7dmFyIGI9XG5hLmRhdGEoYix0KSxkO2lmKGIpZm9yKGQgaW4gYilpZihiW2RdKXJldHVybiB0cnVlO3JldHVybiBmYWxzZX1mdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIGsoYil7dmFyIGQ9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7cih0aGlzKXx8YS5kYXRhKHRoaXMsdCx7fSk7YS5kYXRhKHRoaXMsdClbYl09dHJ1ZTt2W2JdPSh2W2JdfHwwKSsxO3ZbYl09PT0xJiZILmJpbmQoZCxqKTthKHRoaXMpLmJpbmQoZCxuKTtpZihLKXYudG91Y2hzdGFydD0odi50b3VjaHN0YXJ0fHwwKSsxLHYudG91Y2hzdGFydD09PTEmJkguYmluZChcInRvdWNoc3RhcnRcIixvKS5iaW5kKFwidG91Y2hlbmRcIixsKS5iaW5kKFwidG91Y2htb3ZlXCIscCkuYmluZChcInNjcm9sbFwiLG0pfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tdltiXTt2W2JdfHxILnVuYmluZChkLGopO0smJigtLXYudG91Y2hzdGFydCx2LnRvdWNoc3RhcnR8fEgudW5iaW5kKFwidG91Y2hzdGFydFwiLG8pLnVuYmluZChcInRvdWNobW92ZVwiLHApLnVuYmluZChcInRvdWNoZW5kXCIsXG5sKS51bmJpbmQoXCJzY3JvbGxcIixtKSk7dmFyIGY9YSh0aGlzKSxnPWEuZGF0YSh0aGlzLHQpO2cmJihnW2JdPWZhbHNlKTtmLnVuYmluZChkLG4pO3IodGhpcyl8fGYucmVtb3ZlRGF0YSh0KX19fXZhciB0PVwidmlydHVhbE1vdXNlQmluZGluZ3NcIix4PVwidmlydHVhbFRvdWNoSURcIixjPVwidm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWxcIi5zcGxpdChcIiBcIiksdT1cImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlbllcIi5zcGxpdChcIiBcIiksdz1hLmV2ZW50LnByb3BzLmNvbmNhdChhLmV2ZW50Lm1vdXNlSG9va3M/YS5ldmVudC5tb3VzZUhvb2tzLnByb3BzOltdKSx2PXt9LHk9MCxzPTAsRT0wLEE9ZmFsc2UsQz1bXSx6PWZhbHNlLEc9ZmFsc2UsSz1cImFkZEV2ZW50TGlzdGVuZXJcImluIGIsSD1hKGIpLEw9MSxGPTA7YS52bW91c2U9e21vdmVEaXN0YW5jZVRocmVzaG9sZDoxMCxjbGlja0Rpc3RhbmNlVGhyZXNob2xkOjEwLFxucmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9O2Zvcih2YXIgST0wO0k8Yy5sZW5ndGg7SSsrKWEuZXZlbnQuc3BlY2lhbFtjW0ldXT1rKGNbSV0pO0smJmIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGQ9Qy5sZW5ndGgsZj1iLnRhcmdldCxnLGMsZSxoLHo7aWYoZCl7Zz1iLmNsaWVudFg7Yz1iLmNsaWVudFk7dGhyZXNob2xkPWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ7Zm9yKGU9ZjtlOyl7Zm9yKGg9MDtoPGQ7aCsrKWlmKHo9Q1toXSxlPT09ZiYmTWF0aC5hYnMoei54LWcpPHRocmVzaG9sZCYmTWF0aC5hYnMoei55LWMpPHRocmVzaG9sZHx8YS5kYXRhKGUseCk9PT16LnRvdWNoSUQpe2IucHJldmVudERlZmF1bHQoKTtiLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybn1lPWUucGFyZW50Tm9kZX19fSx0cnVlKX0pKGpRdWVyeSxzLGspOyhmdW5jdGlvbihhLGMsYil7ZnVuY3Rpb24gZShhKXthPWF8fGxvY2F0aW9uLmhyZWY7cmV0dXJuXCIjXCIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLyxcblwiJDFcIil9dmFyIGY9XCJoYXNoY2hhbmdlXCIsZD1rLGcsaD1hLmV2ZW50LnNwZWNpYWwsaj1kLmRvY3VtZW50TW9kZSxvPVwib25cIitmIGluIGMmJihqPT09Ynx8aj43KTthLmZuW2ZdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChmLGEpOnRoaXMudHJpZ2dlcihmKX07YS5mbltmXS5kZWxheT01MDtoW2ZdPWEuZXh0ZW5kKGhbZl0se3NldHVwOmZ1bmN0aW9uKCl7aWYobylyZXR1cm4gZmFsc2U7YShnLnN0YXJ0KX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihvKXJldHVybiBmYWxzZTthKGcuc3RvcCl9fSk7Zz1mdW5jdGlvbigpe2Z1bmN0aW9uIGcoKXt2YXIgYj1lKCksZD10KHIpO2lmKGIhPT1yKWsocj1iLGQpLGEoYykudHJpZ2dlcihmKTtlbHNlIGlmKGQhPT1yKWxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLFwiXCIpK2Q7aj1zZXRUaW1lb3V0KGcsYS5mbltmXS5kZWxheSl9dmFyIGg9e30saixyPWUoKSxuPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxrPVxubix0PW47aC5zdGFydD1mdW5jdGlvbigpe2p8fGcoKX07aC5zdG9wPWZ1bmN0aW9uKCl7aiYmY2xlYXJUaW1lb3V0KGopO2o9Yn07YS5icm93c2VyLm1zaWUmJiFvJiZmdW5jdGlvbigpe3ZhciBiLGM7aC5zdGFydD1mdW5jdGlvbigpe2lmKCFiKWM9KGM9YS5mbltmXS5zcmMpJiZjK2UoKSxiPWEoJzxpZnJhbWUgdGFiaW5kZXg9XCItMVwiIHRpdGxlPVwiZW1wdHlcIi8+JykuaGlkZSgpLm9uZShcImxvYWRcIixmdW5jdGlvbigpe2N8fGsoZSgpKTtnKCl9KS5hdHRyKFwic3JjXCIsY3x8XCJqYXZhc2NyaXB0OjBcIikuaW5zZXJ0QWZ0ZXIoXCJib2R5XCIpWzBdLmNvbnRlbnRXaW5kb3csZC5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e2lmKGV2ZW50LnByb3BlcnR5TmFtZT09PVwidGl0bGVcIiliLmRvY3VtZW50LnRpdGxlPWQudGl0bGV9Y2F0Y2goYSl7fX19O2guc3RvcD1uO3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZShiLmxvY2F0aW9uLmhyZWYpfTtrPWZ1bmN0aW9uKGcsYyl7dmFyIGU9Yi5kb2N1bWVudCxcbmg9YS5mbltmXS5kb21haW47aWYoZyE9PWMpZS50aXRsZT1kLnRpdGxlLGUub3BlbigpLGgmJmUud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPVwiJytoKydcIjxcXC9zY3JpcHQ+JyksZS5jbG9zZSgpLGIubG9jYXRpb24uaGFzaD1nfX0oKTtyZXR1cm4gaH0oKX0pKGpRdWVyeSx0aGlzKTsoZnVuY3Rpb24oYSxjKXtpZihhLmNsZWFuRGF0YSl7dmFyIGI9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oZil7Zm9yKHZhciBkPTAsZzsoZz1mW2RdKSE9bnVsbDtkKyspYShnKS50cmlnZ2VySGFuZGxlcihcInJlbW92ZVwiKTtiKGYpfX1lbHNle3ZhciBlPWEuZm4ucmVtb3ZlO2EuZm4ucmVtb3ZlPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2R8fCghYnx8YS5maWx0ZXIoYixbdGhpc10pLmxlbmd0aCkmJmEoXCIqXCIsdGhpcykuYWRkKFt0aGlzXSkuZWFjaChmdW5jdGlvbigpe2EodGhpcykudHJpZ2dlckhhbmRsZXIoXCJyZW1vdmVcIil9KTtyZXR1cm4gZS5jYWxsKGEodGhpcyksXG5iLGQpfSl9fWEud2lkZ2V0PWZ1bmN0aW9uKGIsZCxnKXt2YXIgYz1iLnNwbGl0KFwiLlwiKVswXSxlLGI9Yi5zcGxpdChcIi5cIilbMV07ZT1jK1wiLVwiK2I7aWYoIWcpZz1kLGQ9YS5XaWRnZXQ7YS5leHByW1wiOlwiXVtlXT1mdW5jdGlvbihkKXtyZXR1cm4hIWEuZGF0YShkLGIpfTthW2NdPWFbY118fHt9O2FbY11bYl09ZnVuY3Rpb24oYSxiKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX07ZD1uZXcgZDtkLm9wdGlvbnM9YS5leHRlbmQodHJ1ZSx7fSxkLm9wdGlvbnMpO2FbY11bYl0ucHJvdG90eXBlPWEuZXh0ZW5kKHRydWUsZCx7bmFtZXNwYWNlOmMsd2lkZ2V0TmFtZTpiLHdpZGdldEV2ZW50UHJlZml4OmFbY11bYl0ucHJvdG90eXBlLndpZGdldEV2ZW50UHJlZml4fHxiLHdpZGdldEJhc2VDbGFzczplfSxnKTthLndpZGdldC5icmlkZ2UoYixhW2NdW2JdKX07YS53aWRnZXQuYnJpZGdlPWZ1bmN0aW9uKGIsZCl7YS5mbltiXT1mdW5jdGlvbihnKXt2YXIgZT1cbnR5cGVvZiBnPT09XCJzdHJpbmdcIixqPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxvPXRoaXMsZz0hZSYmai5sZW5ndGg/YS5leHRlbmQuYXBwbHkobnVsbCxbdHJ1ZSxnXS5jb25jYXQoaikpOmc7aWYoZSYmZy5jaGFyQXQoMCk9PT1cIl9cIilyZXR1cm4gbztlP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEuZGF0YSh0aGlzLGIpO2lmKCFkKXRocm93XCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uIFwiK2IrXCIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnXCIrZytcIidcIjtpZighYS5pc0Z1bmN0aW9uKGRbZ10pKXRocm93XCJubyBzdWNoIG1ldGhvZCAnXCIrZytcIicgZm9yIFwiK2IrXCIgd2lkZ2V0IGluc3RhbmNlXCI7dmFyIGU9ZFtnXS5hcHBseShkLGopO2lmKGUhPT1kJiZlIT09YylyZXR1cm4gbz1lLGZhbHNlfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YS5kYXRhKHRoaXMsYik7Yz9jLm9wdGlvbihnfHx7fSkuX2luaXQoKTpcbmEuZGF0YSh0aGlzLGIsbmV3IGQoZyx0aGlzKSl9KTtyZXR1cm4gb319O2EuV2lkZ2V0PWZ1bmN0aW9uKGEsYil7YXJndW1lbnRzLmxlbmd0aCYmdGhpcy5fY3JlYXRlV2lkZ2V0KGEsYil9O2EuV2lkZ2V0LnByb3RvdHlwZT17d2lkZ2V0TmFtZTpcIndpZGdldFwiLHdpZGdldEV2ZW50UHJlZml4OlwiXCIsb3B0aW9uczp7ZGlzYWJsZWQ6ZmFsc2V9LF9jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oYixkKXthLmRhdGEoZCx0aGlzLndpZGdldE5hbWUsdGhpcyk7dGhpcy5lbGVtZW50PWEoZCk7dGhpcy5vcHRpb25zPWEuZXh0ZW5kKHRydWUse30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxiKTt2YXIgZz10aGlzO3RoaXMuZWxlbWVudC5iaW5kKFwicmVtb3ZlLlwiK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbigpe2cuZGVzdHJveSgpfSk7dGhpcy5fY3JlYXRlKCk7dGhpcy5fdHJpZ2dlcihcImNyZWF0ZVwiKTt0aGlzLl9pbml0KCl9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGI9XG57fTthLm1ldGFkYXRhJiYoYj1hLm1ldGFkYXRhLmdldChlbGVtZW50KVt0aGlzLndpZGdldE5hbWVdKTtyZXR1cm4gYn0sX2NyZWF0ZTpmdW5jdGlvbigpe30sX2luaXQ6ZnVuY3Rpb24oKXt9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQudW5iaW5kKFwiLlwiK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpO3RoaXMud2lkZ2V0KCkudW5iaW5kKFwiLlwiK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlQXR0cihcImFyaWEtZGlzYWJsZWRcIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRCYXNlQ2xhc3MrXCItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWRcIil9LHdpZGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnR9LG9wdGlvbjpmdW5jdGlvbihiLGQpe3ZhciBnPWI7aWYoYXJndW1lbnRzLmxlbmd0aD09PTApcmV0dXJuIGEuZXh0ZW5kKHt9LHRoaXMub3B0aW9ucyk7aWYodHlwZW9mIGI9PT1cInN0cmluZ1wiKXtpZihkPT09YylyZXR1cm4gdGhpcy5vcHRpb25zW2JdO1xuZz17fTtnW2JdPWR9dGhpcy5fc2V0T3B0aW9ucyhnKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpczthLmVhY2goYixmdW5jdGlvbihhLGIpe2QuX3NldE9wdGlvbihhLGIpfSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLm9wdGlvbnNbYV09YjthPT09XCJkaXNhYmxlZFwiJiZ0aGlzLndpZGdldCgpW2I/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0odGhpcy53aWRnZXRCYXNlQ2xhc3MrXCItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWRcIikuYXR0cihcImFyaWEtZGlzYWJsZWRcIixiKTtyZXR1cm4gdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbihcImRpc2FibGVkXCIsZmFsc2UpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbihcImRpc2FibGVkXCIsdHJ1ZSl9LF90cmlnZ2VyOmZ1bmN0aW9uKGIsZCxnKXt2YXIgYz10aGlzLm9wdGlvbnNbYl0sZD1hLkV2ZW50KGQpO1xuZC50eXBlPShiPT09dGhpcy53aWRnZXRFdmVudFByZWZpeD9iOnRoaXMud2lkZ2V0RXZlbnRQcmVmaXgrYikudG9Mb3dlckNhc2UoKTtnPWd8fHt9O2lmKGQub3JpZ2luYWxFdmVudClmb3IodmFyIGI9YS5ldmVudC5wcm9wcy5sZW5ndGgsZTtiOyllPWEuZXZlbnQucHJvcHNbLS1iXSxkW2VdPWQub3JpZ2luYWxFdmVudFtlXTt0aGlzLmVsZW1lbnQudHJpZ2dlcihkLGcpO3JldHVybiEoYS5pc0Z1bmN0aW9uKGMpJiZjLmNhbGwodGhpcy5lbGVtZW50WzBdLGQsZyk9PT1mYWxzZXx8ZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoXCJtb2JpbGUud2lkZ2V0XCIse19jcmVhdGVXaWRnZXQ6ZnVuY3Rpb24oKXthLldpZGdldC5wcm90b3R5cGUuX2NyZWF0ZVdpZGdldC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fdHJpZ2dlcihcImluaXRcIil9LF9nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LFxuZT17fTthLmVhY2godGhpcy5vcHRpb25zLGZ1bmN0aW9uKGEpe3ZhciBkPWIuanFtRGF0YShhLnJlcGxhY2UoL1tBLVpdL2csZnVuY3Rpb24oYSl7cmV0dXJuXCItXCIrYS50b0xvd2VyQ2FzZSgpfSkpO2QhPT1jJiYoZVthXT1kKX0pO3JldHVybiBlfSxlbmhhbmNlV2l0aGluOmZ1bmN0aW9uKGIsYyl7dGhpcy5lbmhhbmNlKGEodGhpcy5vcHRpb25zLmluaXRTZWxlY3RvcixhKGIpKSxjKX0sZW5oYW5jZTpmdW5jdGlvbihiLGMpe3ZhciBmLGQ9YShiKSxkPWEubW9iaWxlLmVuaGFuY2VhYmxlKGQpO2MmJmQubGVuZ3RoJiYoZj0oZj1hLm1vYmlsZS5jbG9zZXN0UGFnZURhdGEoZCkpJiZmLmtlZXBOYXRpdmVTZWxlY3RvcigpfHxcIlwiLGQ9ZC5ub3QoZikpO2RbdGhpcy53aWRnZXROYW1lXSgpfSxyYWlzZTpmdW5jdGlvbihhKXt0aHJvd1wiV2lkZ2V0IFtcIit0aGlzLndpZGdldE5hbWUrXCJdOiBcIithO319KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEsYyl7dmFyIGI9e307YS5tb2JpbGU9YS5leHRlbmQoe30sXG57dmVyc2lvbjpcIjEuMS4wXCIsbnM6XCJcIixzdWJQYWdlVXJsS2V5OlwidWktcGFnZVwiLGFjdGl2ZVBhZ2VDbGFzczpcInVpLXBhZ2UtYWN0aXZlXCIsYWN0aXZlQnRuQ2xhc3M6XCJ1aS1idG4tYWN0aXZlXCIsZm9jdXNDbGFzczpcInVpLWZvY3VzXCIsYWpheEVuYWJsZWQ6dHJ1ZSxoYXNoTGlzdGVuaW5nRW5hYmxlZDp0cnVlLGxpbmtCaW5kaW5nRW5hYmxlZDp0cnVlLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjpcImZhZGVcIixtYXhUcmFuc2l0aW9uV2lkdGg6ZmFsc2UsbWluU2Nyb2xsQmFjazoyNTAsdG91Y2hPdmVyZmxvd0VuYWJsZWQ6ZmFsc2UsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246XCJwb3BcIixsb2FkaW5nTWVzc2FnZTpcImxvYWRpbmdcIixwYWdlTG9hZEVycm9yTWVzc2FnZTpcIkVycm9yIExvYWRpbmcgUGFnZVwiLGxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU6ZmFsc2UsbG9hZGluZ01lc3NhZ2VUaGVtZTpcImFcIixwYWdlTG9hZEVycm9yTWVzc2FnZVRoZW1lOlwiZVwiLGF1dG9Jbml0aWFsaXplUGFnZTp0cnVlLFxucHVzaFN0YXRlRW5hYmxlZDp0cnVlLGlnbm9yZUNvbnRlbnRFbmFibGVkOmZhbHNlLG9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZDp0cnVlLGJ1dHRvbk1hcmt1cDp7aG92ZXJEZWxheToyMDB9LGtleUNvZGU6e0FMVDoxOCxCQUNLU1BBQ0U6OCxDQVBTX0xPQ0s6MjAsQ09NTUE6MTg4LENPTU1BTkQ6OTEsQ09NTUFORF9MRUZUOjkxLENPTU1BTkRfUklHSFQ6OTMsQ09OVFJPTDoxNyxERUxFVEU6NDYsRE9XTjo0MCxFTkQ6MzUsRU5URVI6MTMsRVNDQVBFOjI3LEhPTUU6MzYsSU5TRVJUOjQ1LExFRlQ6MzcsTUVOVTo5MyxOVU1QQURfQUREOjEwNyxOVU1QQURfREVDSU1BTDoxMTAsTlVNUEFEX0RJVklERToxMTEsTlVNUEFEX0VOVEVSOjEwOCxOVU1QQURfTVVMVElQTFk6MTA2LE5VTVBBRF9TVUJUUkFDVDoxMDksUEFHRV9ET1dOOjM0LFBBR0VfVVA6MzMsUEVSSU9EOjE5MCxSSUdIVDozOSxTSElGVDoxNixTUEFDRTozMixUQUI6OSxVUDozOCxXSU5ET1dTOjkxfSxzaWxlbnRTY3JvbGw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpIT09XG5cIm51bWJlclwiKWI9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ZmFsc2U7c2V0VGltZW91dChmdW5jdGlvbigpe2Muc2Nyb2xsVG8oMCxiKTthKGspLnRyaWdnZXIoXCJzaWxlbnRzY3JvbGxcIix7eDowLHk6Yn0pfSwyMCk7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPXRydWV9LDE1MCl9LG5zTm9ybWFsaXplRGljdDpiLG5zTm9ybWFsaXplOmZ1bmN0aW9uKGQpe3JldHVybiFkP3ZvaWQgMDpiW2RdfHwoYltkXT1hLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytkKSl9LGdldEluaGVyaXRlZFRoZW1lOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPWFbMF0sZT1cIlwiLGY9L3VpLShiYXJ8Ym9keXxvdmVybGF5KS0oW2Etel0pXFxiLyxtLHA7Yzspe209Yy5jbGFzc05hbWV8fFwiXCI7aWYoKHA9Zi5leGVjKG0pKSYmKGU9cFsyXSkpYnJlYWs7Yz1jLnBhcmVudE5vZGV9cmV0dXJuIGV8fFxuYnx8XCJhXCJ9LGNsb3Nlc3RQYWdlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9zZXN0KCc6anFtRGF0YShyb2xlPVwicGFnZVwiKSwgOmpxbURhdGEocm9sZT1cImRpYWxvZ1wiKScpLmRhdGEoXCJwYWdlXCIpfSxlbmhhbmNlYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLFwiZW5oYW5jZVwiKX0saGlqYWNrYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oYXZlUGFyZW50cyhhLFwiYWpheFwiKX0saGF2ZVBhcmVudHM6ZnVuY3Rpb24oYixjKXtpZighYS5tb2JpbGUuaWdub3JlQ29udGVudEVuYWJsZWQpcmV0dXJuIGI7Zm9yKHZhciBlPWIubGVuZ3RoLGY9YSgpLG8sbSxwLGw9MDtsPGU7bCsrKXttPWIuZXEobCk7cD1mYWxzZTtmb3Iobz1iW2xdO287KXtpZigoby5nZXRBdHRyaWJ1dGU/by5nZXRBdHRyaWJ1dGUoXCJkYXRhLVwiK2EubW9iaWxlLm5zK2MpOlwiXCIpPT09XCJmYWxzZVwiKXtwPXRydWU7YnJlYWt9bz1vLnBhcmVudE5vZGV9cHx8KGY9Zi5hZGQobSkpfXJldHVybiBmfX0sXG5hLm1vYmlsZSk7YS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsYyl7dmFyIGY7dHlwZW9mIGIhPVwidW5kZWZpbmVkXCImJihiJiYoYj1hLm1vYmlsZS5uc05vcm1hbGl6ZShiKSksZj10aGlzLmRhdGEuYXBwbHkodGhpcyxhcmd1bWVudHMubGVuZ3RoPDI/W2JdOltiLGNdKSk7cmV0dXJuIGZ9O2EuanFtRGF0YT1mdW5jdGlvbihiLGMsZil7dmFyIGU7dHlwZW9mIGMhPVwidW5kZWZpbmVkXCImJihlPWEuZGF0YShiLGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxmKSk7cmV0dXJuIGV9O2EuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX07YS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX07YS5mbi5yZW1vdmVXaXRoRGVwZW5kZW50cz1mdW5jdGlvbigpe2EucmVtb3ZlV2l0aERlcGVuZGVudHModGhpcyl9O2EucmVtb3ZlV2l0aERlcGVuZGVudHM9XG5mdW5jdGlvbihiKXtiPWEoYik7KGIuanFtRGF0YShcImRlcGVuZGVudHNcIil8fGEoKSkucmVtb3ZlKCk7Yi5yZW1vdmUoKX07YS5mbi5hZGREZXBlbmRlbnRzPWZ1bmN0aW9uKGIpe2EuYWRkRGVwZW5kZW50cyhhKHRoaXMpLGIpfTthLmFkZERlcGVuZGVudHM9ZnVuY3Rpb24oYixjKXt2YXIgZj1hKGIpLmpxbURhdGEoXCJkZXBlbmRlbnRzXCIpfHxhKCk7YShiKS5qcW1EYXRhKFwiZGVwZW5kZW50c1wiLGEubWVyZ2UoZixjKSl9O2EuZm4uZ2V0RW5jb2RlZFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gYShcIjxkaXYvPlwiKS50ZXh0KGEodGhpcykudGV4dCgpKS5odG1sKCl9O2EuZm4uanFtRW5oYW5jZWFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tb2JpbGUuZW5oYW5jZWFibGUodGhpcyl9O2EuZm4uanFtSGlqYWNrYWJsZT1mdW5jdGlvbigpe3JldHVybiBhLm1vYmlsZS5oaWphY2thYmxlKHRoaXMpfTt2YXIgZT1hLmZpbmQsZj0vOmpxbURhdGFcXCgoW14pXSopXFwpL2c7YS5maW5kPWZ1bmN0aW9uKGIsXG5jLGgsail7Yj1iLnJlcGxhY2UoZixcIltkYXRhLVwiKyhhLm1vYmlsZS5uc3x8XCJcIikrXCIkMV1cIik7cmV0dXJuIGUuY2FsbCh0aGlzLGIsYyxoLGopfTthLmV4dGVuZChhLmZpbmQsZSk7YS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfTthLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0pKGpRdWVyeSx0aGlzKTsoZnVuY3Rpb24oYSl7YShzKTt2YXIgYz1hKFwiaHRtbFwiKTthLm1vYmlsZS5tZWRpYT1mdW5jdGlvbigpe3ZhciBiPXt9LGU9YShcIjxkaXYgaWQ9J2pxdWVyeS1tZWRpYXRlc3QnPlwiKSxmPWEoXCI8Ym9keT5cIikuYXBwZW5kKGUpO3JldHVybiBmdW5jdGlvbihhKXtpZighKGEgaW4gYikpe3ZhciBnPWsuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLGg9XCJAbWVkaWEgXCIrYStcIiB7ICNqcXVlcnktbWVkaWF0ZXN0IHsgcG9zaXRpb246YWJzb2x1dGU7IH0gfVwiO1xuZy50eXBlPVwidGV4dC9jc3NcIjtnLnN0eWxlU2hlZXQ/Zy5zdHlsZVNoZWV0LmNzc1RleHQ9aDpnLmFwcGVuZENoaWxkKGsuY3JlYXRlVGV4dE5vZGUoaCkpO2MucHJlcGVuZChmKS5wcmVwZW5kKGcpO2JbYV09ZS5jc3MoXCJwb3NpdGlvblwiKT09PVwiYWJzb2x1dGVcIjtmLmFkZChnKS5yZW1vdmUoKX1yZXR1cm4gYlthXX19KCl9KShqUXVlcnkpOyhmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxhPShhK1wiIFwiK2cuam9pbihiK1wiIFwiKStiKS5zcGxpdChcIiBcIiksZjtmb3IoZiBpbiBhKWlmKGRbYVtmXV0hPT1jKXJldHVybiB0cnVlfWZ1bmN0aW9uIGUoYSxiLGMpe3ZhciBkPWsuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjPWM/W2NdOmcsZjtmb3IoaT0wO2k8Yy5sZW5ndGg7aSsrKXt2YXIgZT1jW2ldLGg9XCItXCIrZS5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKStlLnN1YnN0cigxKStcIi1cIithK1wiOiBcIitiK1wiO1wiLGU9ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStcbmUuc3Vic3RyKDEpKyhhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpKTtkLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsaCk7ZC5zdHlsZVtlXSYmKGY9dHJ1ZSl9cmV0dXJuISFmfXZhciBmPWEoXCI8Ym9keT5cIikucHJlcGVuZFRvKFwiaHRtbFwiKSxkPWZbMF0uc3R5bGUsZz1bXCJXZWJraXRcIixcIk1velwiLFwiT1wiXSxoPVwicGFsbUdldFJlc291cmNlXCJpbiBzLGo9cy5vcGVyYW1pbmkmJnt9LnRvU3RyaW5nLmNhbGwocy5vcGVyYW1pbmkpPT09XCJbb2JqZWN0IE9wZXJhTWluaV1cIixvPXMuYmxhY2tiZXJyeTthLmV4dGVuZChhLm1vYmlsZSx7YnJvd3Nlcjp7fX0pO2EubW9iaWxlLmJyb3dzZXIuaWU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MyxiPWsuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjPWIuYWxsfHxbXTtiLmlubmVySFRNTD1cIjxcXCEtLVtpZiBndCBJRSBcIisgKythK1wiXT48YnI+PCFbZW5kaWZdLS1cXD5cIixjWzBdOyk7cmV0dXJuIGE+ND9hOiFhfSgpO2EuZXh0ZW5kKGEuc3VwcG9ydCxcbntvcmllbnRhdGlvbjpcIm9yaWVudGF0aW9uXCJpbiBzJiZcIm9ub3JpZW50YXRpb25jaGFuZ2VcImluIHMsdG91Y2g6XCJvbnRvdWNoZW5kXCJpbiBrLGNzc1RyYW5zaXRpb25zOlwiV2ViS2l0VHJhbnNpdGlvbkV2ZW50XCJpbiBzfHxlKFwidHJhbnNpdGlvblwiLFwiaGVpZ2h0IDEwMG1zIGxpbmVhclwiKSxwdXNoU3RhdGU6XCJwdXNoU3RhdGVcImluIGhpc3RvcnkmJlwicmVwbGFjZVN0YXRlXCJpbiBoaXN0b3J5LG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoXCJvbmx5IGFsbFwiKSxjc3NQc2V1ZG9FbGVtZW50OiEhYihcImNvbnRlbnRcIiksdG91Y2hPdmVyZmxvdzohIWIoXCJvdmVyZmxvd1Njcm9sbGluZ1wiKSxjc3NUcmFuc2Zvcm0zZDplKFwicGVyc3BlY3RpdmVcIixcIjEwcHhcIixcIm1velwiKXx8YS5tb2JpbGUubWVkaWEoXCIoLVwiK2cuam9pbihcIi10cmFuc2Zvcm0tM2QpLCgtXCIpK1wiLXRyYW5zZm9ybS0zZCksKHRyYW5zZm9ybS0zZClcIiksYm94U2hhZG93OiEhYihcImJveFNoYWRvd1wiKSYmIW8sc2Nyb2xsVG9wOihcInBhZ2VYT2Zmc2V0XCJpblxuc3x8XCJzY3JvbGxUb3BcImluIGsuZG9jdW1lbnRFbGVtZW50fHxcInNjcm9sbFRvcFwiaW4gZlswXSkmJiFoJiYhaixkeW5hbWljQmFzZVRhZzpmdW5jdGlvbigpe3ZhciBiPWxvY2F0aW9uLnByb3RvY29sK1wiLy9cIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lK1widWktZGlyL1wiLGM9YShcImhlYWQgYmFzZVwiKSxkPW51bGwsZT1cIlwiLGc7Yy5sZW5ndGg/ZT1jLmF0dHIoXCJocmVmXCIpOmM9ZD1hKFwiPGJhc2U+XCIse2hyZWY6Yn0pLmFwcGVuZFRvKFwiaGVhZFwiKTtnPWEoXCI8YSBocmVmPSd0ZXN0dXJsJyAvPlwiKS5wcmVwZW5kVG8oZilbMF0uaHJlZjtjWzBdLmhyZWY9ZXx8bG9jYXRpb24ucGF0aG5hbWU7ZCYmZC5yZW1vdmUoKTtyZXR1cm4gZy5pbmRleE9mKGIpPT09MH0oKX0pO2YucmVtb3ZlKCk7aD1mdW5jdGlvbigpe3ZhciBhPXMubmF2aWdhdG9yLnVzZXJBZ2VudDtyZXR1cm4gYS5pbmRleE9mKFwiTm9raWFcIik+LTEmJihhLmluZGV4T2YoXCJTeW1iaWFuLzNcIik+LTF8fGEuaW5kZXhPZihcIlNlcmllczYwLzVcIik+XG4tMSkmJmEuaW5kZXhPZihcIkFwcGxlV2ViS2l0XCIpPi0xJiZhLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcXC83XFwuWzAtM10vKX0oKTthLm1vYmlsZS5ncmFkZUE9ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm1lZGlhcXVlcnl8fGEubW9iaWxlLmJyb3dzZXIuaWUmJmEubW9iaWxlLmJyb3dzZXIuaWU+PTd9O2EubW9iaWxlLmFqYXhCbGFja2xpc3Q9cy5ibGFja2JlcnJ5JiYhcy5XZWJLaXRQb2ludHx8anx8aDtoJiZhKGZ1bmN0aW9uKCl7YShcImhlYWQgbGlua1tyZWw9J3N0eWxlc2hlZXQnXVwiKS5hdHRyKFwicmVsXCIsXCJhbHRlcm5hdGUgc3R5bGVzaGVldFwiKS5hdHRyKFwicmVsXCIsXCJzdHlsZXNoZWV0XCIpfSk7YS5zdXBwb3J0LmJveFNoYWRvd3x8YShcImh0bWxcIikuYWRkQ2xhc3MoXCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvd1wiKX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEsYyxiKXtmdW5jdGlvbiBlKGIsYyxkKXt2YXIgZj1kLnR5cGU7ZC50eXBlPWM7YS5ldmVudC5oYW5kbGUuY2FsbChiLFxuZCk7ZC50eXBlPWZ9YS5lYWNoKFwidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgb3JpZW50YXRpb25jaGFuZ2UgdGhyb3R0bGVkcmVzaXplIHRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3BcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYixjKXthLmZuW2NdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChjLGEpOnRoaXMudHJpZ2dlcihjKX07YS5hdHRyRm5bY109dHJ1ZX0pO3ZhciBmPWEuc3VwcG9ydC50b3VjaCxkPWY/XCJ0b3VjaHN0YXJ0XCI6XCJtb3VzZWRvd25cIixnPWY/XCJ0b3VjaGVuZFwiOlwibW91c2V1cFwiLGg9Zj9cInRvdWNobW92ZVwiOlwibW91c2Vtb3ZlXCI7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOnRydWUsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsZil7ZD1mO2UoYyxkP1wic2Nyb2xsc3RhcnRcIjpcInNjcm9sbHN0b3BcIixhKX12YXIgYz10aGlzLGQsZjthKGMpLmJpbmQoXCJ0b3VjaG1vdmUgc2Nyb2xsXCIsXG5mdW5jdGlvbihjKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGR8fGIoYyx0cnVlKSxjbGVhclRpbWVvdXQoZiksZj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihjLGZhbHNlKX0sNTApKX0pfX07YS5ldmVudC5zcGVjaWFsLnRhcD17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YShiKTtjLmJpbmQoXCJ2bW91c2Vkb3duXCIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gZigpe2NsZWFyVGltZW91dChxKX1mdW5jdGlvbiBnKCl7ZigpO2MudW5iaW5kKFwidmNsaWNrXCIsaCkudW5iaW5kKFwidm1vdXNldXBcIixmKTthKGspLnVuYmluZChcInZtb3VzZWNhbmNlbFwiLGcpfWZ1bmN0aW9uIGgoYSl7ZygpO249PWEudGFyZ2V0JiZlKGIsXCJ0YXBcIixhKX1pZihkLndoaWNoJiZkLndoaWNoIT09MSlyZXR1cm4gZmFsc2U7dmFyIG49ZC50YXJnZXQscTtjLmJpbmQoXCJ2bW91c2V1cFwiLGYpLmJpbmQoXCJ2Y2xpY2tcIixoKTthKGspLmJpbmQoXCJ2bW91c2VjYW5jZWxcIixnKTtxPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGIsXG5cInRhcGhvbGRcIixhLkV2ZW50KFwidGFwaG9sZFwiLHt0YXJnZXQ6bn0pKX0sNzUwKX0pfX07YS5ldmVudC5zcGVjaWFsLnN3aXBlPXtzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOjEwLGR1cmF0aW9uVGhyZXNob2xkOjFFMyxob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6MzAsdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDo3NSxzZXR1cDpmdW5jdGlvbigpe3ZhciBjPWEodGhpcyk7Yy5iaW5kKGQsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gZihiKXtpZihsKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQudG91Y2hlcz9iLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpiO2s9e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltjLnBhZ2VYLGMucGFnZVldfTtNYXRoLmFicyhsLmNvb3Jkc1swXS1rLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQmJmIucHJldmVudERlZmF1bHQoKX19dmFyIGU9ZC5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/XG5kLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpkLGw9e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltlLnBhZ2VYLGUucGFnZVldLG9yaWdpbjphKGQudGFyZ2V0KX0saztjLmJpbmQoaCxmKS5vbmUoZyxmdW5jdGlvbigpe2MudW5iaW5kKGgsZik7bCYmayYmay50aW1lLWwudGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKGwuY29vcmRzWzBdLWsuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhsLmNvb3Jkc1sxXS1rLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJmwub3JpZ2luLnRyaWdnZXIoXCJzd2lwZVwiKS50cmlnZ2VyKGwuY29vcmRzWzBdPmsuY29vcmRzWzBdP1wic3dpcGVsZWZ0XCI6XCJzd2lwZXJpZ2h0XCIpO2w9az1ifSl9KX19OyhmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1cbmYoKTthIT09ZSYmKGU9YSxkLnRyaWdnZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiKSl9dmFyIGQ9YShiKSxmLGUsZyxoLHQ9ezA6dHJ1ZSwxODA6dHJ1ZX07aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uJiYoZz1iLmlubmVyV2lkdGh8fGEoYikud2lkdGgoKSxoPWIuaW5uZXJIZWlnaHR8fGEoYikuaGVpZ2h0KCksZz1nPmgmJmctaD41MCxoPXRbYi5vcmllbnRhdGlvbl0sZyYmaHx8IWcmJiFoKSl0PXtcIi05MFwiOnRydWUsOTA6dHJ1ZX07YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbiYmYS5tb2JpbGUub3JpZW50YXRpb25DaGFuZ2VFbmFibGVkKXJldHVybiBmYWxzZTtlPWYoKTtkLmJpbmQoXCJ0aHJvdHRsZWRyZXNpemVcIixjKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZihhLnN1cHBvcnQub3JpZW50YXRpb24mJmEubW9iaWxlLm9yaWVudGF0aW9uQ2hhbmdlRW5hYmxlZClyZXR1cm4gZmFsc2U7ZC51bmJpbmQoXCJ0aHJvdHRsZWRyZXNpemVcIixcbmMpfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXthLm9yaWVudGF0aW9uPWYoKTtyZXR1cm4gYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX07YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWY9ZnVuY3Rpb24oKXt2YXIgYz10cnVlLGM9ay5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuKGM9YS5zdXBwb3J0Lm9yaWVudGF0aW9uP3RbYi5vcmllbnRhdGlvbl06YyYmYy5jbGllbnRXaWR0aC9jLmNsaWVudEhlaWdodDwxLjEpP1wicG9ydHJhaXRcIjpcImxhbmRzY2FwZVwifX0pKGpRdWVyeSxjKTsoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZChcInJlc2l6ZVwiLGIpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2EodGhpcykudW5iaW5kKFwicmVzaXplXCIsYil9fTt2YXIgYj1mdW5jdGlvbigpe2Y9KG5ldyBEYXRlKS5nZXRUaW1lKCk7Zz1mLVxuYztnPj0yNTA/KGM9ZixhKHRoaXMpLnRyaWdnZXIoXCJ0aHJvdHRsZWRyZXNpemVcIikpOihkJiZjbGVhclRpbWVvdXQoZCksZD1zZXRUaW1lb3V0KGIsMjUwLWcpKX0sYz0wLGQsZixnfSkoKTthLmVhY2goe3Njcm9sbHN0b3A6XCJzY3JvbGxzdGFydFwiLHRhcGhvbGQ6XCJ0YXBcIixzd2lwZWxlZnQ6XCJzd2lwZVwiLHN3aXBlcmlnaHQ6XCJzd2lwZVwifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfX19KX0pKGpRdWVyeSx0aGlzKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoXCJtb2JpbGUucGFnZVwiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6XCJjXCIsZG9tQ2FjaGU6ZmFsc2Usa2VlcE5hdGl2ZURlZmF1bHQ6XCI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKVwifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLl90cmlnZ2VyKFwiYmVmb3JlY3JlYXRlXCIpPT09XG5mYWxzZSlyZXR1cm4gZmFsc2U7YS5lbGVtZW50LmF0dHIoXCJ0YWJpbmRleFwiLFwiMFwiKS5hZGRDbGFzcyhcInVpLXBhZ2UgdWktYm9keS1cIithLm9wdGlvbnMudGhlbWUpLmJpbmQoXCJwYWdlYmVmb3JlaGlkZVwiLGZ1bmN0aW9uKCl7YS5yZW1vdmVDb250YWluZXJCYWNrZ3JvdW5kKCl9KS5iaW5kKFwicGFnZWJlZm9yZXNob3dcIixmdW5jdGlvbigpe2Euc2V0Q29udGFpbmVyQmFja2dyb3VuZCgpfSl9LHJlbW92ZUNvbnRhaW5lckJhY2tncm91bmQ6ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnJlbW92ZUNsYXNzKFwidWktb3ZlcmxheS1cIithLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQucGFyZW50KCkpKX0sc2V0Q29udGFpbmVyQmFja2dyb3VuZDpmdW5jdGlvbihjKXt0aGlzLm9wdGlvbnMudGhlbWUmJmEubW9iaWxlLnBhZ2VDb250YWluZXIuYWRkQ2xhc3MoXCJ1aS1vdmVybGF5LVwiKyhjfHx0aGlzLm9wdGlvbnMudGhlbWUpKX0sa2VlcE5hdGl2ZVNlbGVjdG9yOmZ1bmN0aW9uKCl7dmFyIGM9XG50aGlzLm9wdGlvbnM7cmV0dXJuIGMua2VlcE5hdGl2ZSYmYS50cmltKGMua2VlcE5hdGl2ZSkmJmMua2VlcE5hdGl2ZSE9PWMua2VlcE5hdGl2ZURlZmF1bHQ/W2Mua2VlcE5hdGl2ZSxjLmtlZXBOYXRpdmVEZWZhdWx0XS5qb2luKFwiLCBcIik6Yy5rZWVwTmF0aXZlRGVmYXVsdH19KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEsYyxiKXt2YXIgZT1mdW5jdGlvbihkKXtkPT09YiYmKGQ9dHJ1ZSk7cmV0dXJuIGZ1bmN0aW9uKGIsZixlLG8pe3ZhciBrPW5ldyBhLkRlZmVycmVkLHA9Zj9cIiByZXZlcnNlXCI6XCJcIixsPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCkubGFzdFNjcm9sbHx8YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwscj1hLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQoKSxuPWEubW9iaWxlLm1heFRyYW5zaXRpb25XaWR0aCE9PWZhbHNlJiZhKGMpLndpZHRoKCk+YS5tb2JpbGUubWF4VHJhbnNpdGlvbldpZHRoLHE9IWEuc3VwcG9ydC5jc3NUcmFuc2l0aW9uc3x8bnx8IWJ8fFxuYj09PVwibm9uZVwiLHQ9ZnVuY3Rpb24oKXthLm1vYmlsZS5wYWdlQ29udGFpbmVyLnRvZ2dsZUNsYXNzKFwidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtXCIrYil9LHg9ZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD1mYWxzZTtjLnNjcm9sbFRvKDAsbCk7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPXRydWV9LDE1MCl9LHU9ZnVuY3Rpb24oKXtvLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcytcIiBvdXQgaW4gcmV2ZXJzZSBcIitiKS5oZWlnaHQoXCJcIil9LG49ZnVuY3Rpb24oKXtvJiZkJiZ1KCk7ZS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO2EubW9iaWxlLmZvY3VzUGFnZShlKTtlLmhlaWdodChyK2wpO3goKTtxfHxlLmFuaW1hdGlvbkNvbXBsZXRlKHcpO2UuYWRkQ2xhc3MoYitcIiBpblwiK3ApO3EmJncoKX0sdz1mdW5jdGlvbigpe2R8fFxubyYmdSgpO2UucmVtb3ZlQ2xhc3MoXCJvdXQgaW4gcmV2ZXJzZSBcIitiKS5oZWlnaHQoXCJcIik7dCgpO2EoYykuc2Nyb2xsVG9wKCkhPT1sJiZ4KCk7ay5yZXNvbHZlKGIsZixlLG8sdHJ1ZSl9O3QoKTtvJiYhcT8oZD9vLmFuaW1hdGlvbkNvbXBsZXRlKG4pOm4oKSxvLmhlaWdodChyK2EoYykuc2Nyb2xsVG9wKCkpLmFkZENsYXNzKGIrXCIgb3V0XCIrcCkpOm4oKTtyZXR1cm4gay5wcm9taXNlKCl9fSxmPWUoKSxlPWUoZmFsc2UpO2EubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj1mO2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17XCJkZWZhdWx0XCI6YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyLHNlcXVlbnRpYWw6ZixzaW11bHRhbmVvdXM6ZX07YS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcz17fX0pKGpRdWVyeSx0aGlzKTsoZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBiKGIpe3ImJighci5jbG9zZXN0KFwiLnVpLXBhZ2UtYWN0aXZlXCIpLmxlbmd0aHx8YikmJlxuci5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7cj1udWxsfWZ1bmN0aW9uIGUoKXt0PWZhbHNlO3EubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCxxLnBvcCgpKX1mdW5jdGlvbiBmKGIsYyxkLGYpe2MmJmMuZGF0YShcInBhZ2VcIikuX3RyaWdnZXIoXCJiZWZvcmVoaWRlXCIsbnVsbCx7bmV4dFBhZ2U6Yn0pO2IuZGF0YShcInBhZ2VcIikuX3RyaWdnZXIoXCJiZWZvcmVzaG93XCIsbnVsbCx7cHJldlBhZ2U6Y3x8YShcIlwiKX0pO2EubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpO2QmJiFhLnN1cHBvcnQuY3NzVHJhbnNmb3JtM2QmJmEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbZF0mJihkPWEubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3NbZF0pO2Q9KGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tkfHxcImRlZmF1bHRcIl18fGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcikoZCxmLGIsYyk7ZC5kb25lKGZ1bmN0aW9uKCl7YyYmXG5jLmRhdGEoXCJwYWdlXCIpLl90cmlnZ2VyKFwiaGlkZVwiLG51bGwse25leHRQYWdlOmJ9KTtiLmRhdGEoXCJwYWdlXCIpLl90cmlnZ2VyKFwic2hvd1wiLG51bGwse3ByZXZQYWdlOmN8fGEoXCJcIil9KX0pO3JldHVybiBkfWZ1bmN0aW9uIGQoKXtyZXR1cm4gcy5pbm5lckhlaWdodHx8YShzKS5oZWlnaHQoKX1mdW5jdGlvbiBnKCl7dmFyIGI9YShcIi5cIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLGM9cGFyc2VGbG9hdChiLmNzcyhcInBhZGRpbmctdG9wXCIpKSxmPXBhcnNlRmxvYXQoYi5jc3MoXCJwYWRkaW5nLWJvdHRvbVwiKSk7Yi5jc3MoXCJtaW4taGVpZ2h0XCIsZCgpLWMtZil9ZnVuY3Rpb24gaChiLGMpe2MmJmIuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlXCIsYyk7Yi5wYWdlKCl9ZnVuY3Rpb24gaihhKXtmb3IoO2E7KXtpZih0eXBlb2YgYS5ub2RlTmFtZT09PVwic3RyaW5nXCImJmEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09XCJhXCIpYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gbyhiKXt2YXIgYj1cbmEoYikuY2xvc2VzdChcIi51aS1wYWdlXCIpLmpxbURhdGEoXCJ1cmxcIiksYz12LmhyZWZOb0hhc2g7aWYoIWJ8fCFsLmlzUGF0aChiKSliPWM7cmV0dXJuIGwubWFrZVVybEFic29sdXRlKGIsYyl9dmFyIG09YShzKTthKFwiaHRtbFwiKTt2YXIgcD1hKFwiaGVhZFwiKSxsPXt1cmxQYXJzZVJFOi9eKCgoKFteOlxcLyNcXD9dKzopPyg/OihcXC9cXC8pKCg/OigoW146QFxcLyNcXD9dKykoPzpcXDooW146QFxcLyNcXD9dKykpPylAKT8oKFteOlxcLyNcXD9cXF1cXFtdK3xcXFtbXlxcL1xcXUAjP10rXFxdKSg/OlxcOihbMC05XSspKT8pKT8pPyk/KChcXC8/KD86W15cXC9cXD8jXStcXC8rKSopKFteXFw/I10qKSkpPyhcXD9bXiNdKyk/KSgjLiopPy8scGFyc2VVcmw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpPT09XCJvYmplY3RcIilyZXR1cm4gYjtiPWwudXJsUGFyc2VSRS5leGVjKGJ8fFwiXCIpfHxbXTtyZXR1cm57aHJlZjpiWzBdfHxcIlwiLGhyZWZOb0hhc2g6YlsxXXx8XCJcIixocmVmTm9TZWFyY2g6YlsyXXx8XCJcIixkb21haW46YlszXXx8XCJcIixcbnByb3RvY29sOmJbNF18fFwiXCIsZG91YmxlU2xhc2g6Yls1XXx8XCJcIixhdXRob3JpdHk6Yls2XXx8XCJcIix1c2VybmFtZTpiWzhdfHxcIlwiLHBhc3N3b3JkOmJbOV18fFwiXCIsaG9zdDpiWzEwXXx8XCJcIixob3N0bmFtZTpiWzExXXx8XCJcIixwb3J0OmJbMTJdfHxcIlwiLHBhdGhuYW1lOmJbMTNdfHxcIlwiLGRpcmVjdG9yeTpiWzE0XXx8XCJcIixmaWxlbmFtZTpiWzE1XXx8XCJcIixzZWFyY2g6YlsxNl18fFwiXCIsaGFzaDpiWzE3XXx8XCJcIn19LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZihhJiZhLmNoYXJBdCgwKT09PVwiL1wiKXJldHVybiBhO2Zvcih2YXIgYT1hfHxcIlwiLGM9KGI9Yj9iLnJlcGxhY2UoL15cXC98KFxcL1teXFwvXSp8W15cXC9dKykkL2csXCJcIik6XCJcIik/Yi5zcGxpdChcIi9cIik6W10sZD1hLnNwbGl0KFwiL1wiKSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBlPWRbZl07c3dpdGNoKGUpe2Nhc2UgXCIuXCI6YnJlYWs7Y2FzZSBcIi4uXCI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZSl9fXJldHVyblwiL1wiK1xuYy5qb2luKFwiL1wiKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGwucGFyc2VVcmwoYSkuZG9tYWluPT09bC5wYXJzZVVybChiKS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGwucGFyc2VVcmwoYSkucHJvdG9jb2w9PT1cIlwifSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBsLnBhcnNlVXJsKGEpLnByb3RvY29sIT09XCJcIn0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIWwuaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTt2YXIgYz1sLnBhcnNlVXJsKGEpLGQ9bC5wYXJzZVVybChiKSxmPWMucHJvdG9jb2x8fGQucHJvdG9jb2wsZT1jLnByb3RvY29sP2MuZG91YmxlU2xhc2g6Yy5kb3VibGVTbGFzaHx8ZC5kb3VibGVTbGFzaCxnPWMuYXV0aG9yaXR5fHxkLmF1dGhvcml0eSxoPWMucGF0aG5hbWUhPT1cIlwiLGo9bC5tYWtlUGF0aEFic29sdXRlKGMucGF0aG5hbWV8fGQuZmlsZW5hbWUsZC5wYXRobmFtZSk7cmV0dXJuIGYrXG5lK2craisoYy5zZWFyY2h8fCFoJiZkLnNlYXJjaHx8XCJcIikrYy5oYXNofSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZD1sLnBhcnNlVXJsKGIpLGY9dHlwZW9mIGM9PT1cIm9iamVjdFwiP2EucGFyYW0oYyk6YyxlPWQuc2VhcmNofHxcIj9cIjtyZXR1cm4gZC5ocmVmTm9TZWFyY2grZSsoZS5jaGFyQXQoZS5sZW5ndGgtMSkhPT1cIj9cIj9cIiZcIjpcIlwiKStmKyhkLmhhc2h8fFwiXCIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBiPWwucGFyc2VVcmwoYSk7aWYobC5pc0VtYmVkZGVkUGFnZShiKSlyZXR1cm4gYi5oYXNoLnNwbGl0KHgpWzBdLnJlcGxhY2UoL14jLyxcIlwiKTtlbHNlIGlmKGwuaXNTYW1lRG9tYWluKGIsdikpcmV0dXJuIGIuaHJlZk5vSGFzaC5yZXBsYWNlKHYuZG9tYWluLFwiXCIpO3JldHVybiBhfSxnZXQ6ZnVuY3Rpb24oYSl7aWYoYT09PWMpYT1sb2NhdGlvbi5oYXNoO3JldHVybiBsLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlxcL10qXFwuW15cXC8qXSskLyxcblwiXCIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihiKXt2YXIgYz1cIiZcIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KHgpWzBdfSxzZXQ6ZnVuY3Rpb24oYSl7bG9jYXRpb24uaGFzaD1hfSxpc1BhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuL1xcLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh2LmRvbWFpbixcIlwiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL14jLyxcIlwiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBsLnN0cmlwSGFzaChhLnJlcGxhY2UoL1xcPy4qJC8sXCJcIikucmVwbGFjZSh4LFwiXCIpKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXthPWwucGFyc2VVcmwoYSk7cmV0dXJuIGEucHJvdG9jb2wmJmEuZG9tYWluIT09dy5kb21haW4/dHJ1ZTpmYWxzZX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oYSl7cmV0dXJuL14oOj9cXHcrOikvLnRlc3QoYSl9LGlzRmlyc3RQYWdlVXJsOmZ1bmN0aW9uKGIpe3ZhciBiPVxubC5wYXJzZVVybChsLm1ha2VVcmxBYnNvbHV0ZShiLHYpKSxkPWEubW9iaWxlLmZpcnN0UGFnZSxkPWQmJmRbMF0/ZFswXS5pZDpjO3JldHVybihiLmhyZWZOb0hhc2g9PT13LmhyZWZOb0hhc2h8fHkmJmIuaHJlZk5vSGFzaD09PXYuaHJlZk5vSGFzaCkmJighYi5oYXNofHxiLmhhc2g9PT1cIiNcInx8ZCYmYi5oYXNoLnJlcGxhY2UoL14jLyxcIlwiKT09PWQpfSxpc0VtYmVkZGVkUGFnZTpmdW5jdGlvbihhKXthPWwucGFyc2VVcmwoYSk7cmV0dXJuIGEucHJvdG9jb2whPT1cIlwiP2EuaGFzaCYmKGEuaHJlZk5vSGFzaD09PXcuaHJlZk5vSGFzaHx8eSYmYS5ocmVmTm9IYXNoPT09di5ocmVmTm9IYXNoKTovXiMvLnRlc3QoYS5ocmVmKX19LHI9bnVsbCxuPXtzdGFjazpbXSxhY3RpdmVJbmRleDowLGdldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXhdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleC0xXX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXgrXG4xXX0sYWRkTmV3OmZ1bmN0aW9uKGEsYixjLGQsZil7bi5nZXROZXh0KCkmJm4uY2xlYXJGb3J3YXJkKCk7bi5zdGFjay5wdXNoKHt1cmw6YSx0cmFuc2l0aW9uOmIsdGl0bGU6YyxwYWdlVXJsOmQscm9sZTpmfSk7bi5hY3RpdmVJbmRleD1uLnN0YWNrLmxlbmd0aC0xfSxjbGVhckZvcndhcmQ6ZnVuY3Rpb24oKXtuLnN0YWNrPW4uc3RhY2suc2xpY2UoMCxuLmFjdGl2ZUluZGV4KzEpfSxkaXJlY3RIYXNoQ2hhbmdlOmZ1bmN0aW9uKGIpe3ZhciBkLGYsZTt0aGlzLmdldEFjdGl2ZSgpO2EuZWFjaChuLnN0YWNrLGZ1bmN0aW9uKGEsYyl7Yi5jdXJyZW50VXJsPT09Yy51cmwmJihkPWE8bi5hY3RpdmVJbmRleCxmPSFkLGU9YSl9KTt0aGlzLmFjdGl2ZUluZGV4PWUhPT1jP2U6dGhpcy5hY3RpdmVJbmRleDtkPyhiLmVpdGhlcnx8Yi5pc0JhY2spKHRydWUpOmYmJihiLmVpdGhlcnx8Yi5pc0ZvcndhcmQpKGZhbHNlKX0saWdub3JlTmV4dEhhc2hDaGFuZ2U6ZmFsc2V9LHE9W10sdD1mYWxzZSxcbng9XCImdWktc3RhdGU9ZGlhbG9nXCIsdT1wLmNoaWxkcmVuKFwiYmFzZVwiKSx3PWwucGFyc2VVcmwobG9jYXRpb24uaHJlZiksdj11Lmxlbmd0aD9sLnBhcnNlVXJsKGwubWFrZVVybEFic29sdXRlKHUuYXR0cihcImhyZWZcIiksdy5ocmVmKSk6dyx5PXcuaHJlZk5vSGFzaCE9PXYuaHJlZk5vSGFzaCxCPWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZz97ZWxlbWVudDp1Lmxlbmd0aD91OmEoXCI8YmFzZT5cIix7aHJlZjp2LmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8ocCksc2V0OmZ1bmN0aW9uKGEpe0IuZWxlbWVudC5hdHRyKFwiaHJlZlwiLGwubWFrZVVybEFic29sdXRlKGEsdikpfSxyZXNldDpmdW5jdGlvbigpe0IuZWxlbWVudC5hdHRyKFwiaHJlZlwiLHYuaHJlZk5vSGFzaCl9fTpjO2EubW9iaWxlLmZvY3VzUGFnZT1mdW5jdGlvbihhKXt2YXIgYj1hLmZpbmQoXCJbYXV0b2ZvY3VzXVwiKSxjPWEuZmluZChcIi51aS10aXRsZTplcSgwKVwiKTtiLmxlbmd0aD9iLmZvY3VzKCk6Yy5sZW5ndGg/Yy5mb2N1cygpOlxuYS5mb2N1cygpfTt2YXIgRT10cnVlLEEsQztBPWZ1bmN0aW9uKCl7aWYoRSl7dmFyIGI9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKTtpZihiKXt2YXIgYz1tLnNjcm9sbFRvcCgpO2IubGFzdFNjcm9sbD1jPGEubW9iaWxlLm1pblNjcm9sbEJhY2s/YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw6Y319fTtDPWZ1bmN0aW9uKCl7c2V0VGltZW91dChBLDEwMCl9O20uYmluZChhLnN1cHBvcnQucHVzaFN0YXRlP1wicG9wc3RhdGVcIjpcImhhc2hjaGFuZ2VcIixmdW5jdGlvbigpe0U9ZmFsc2V9KTttLm9uZShhLnN1cHBvcnQucHVzaFN0YXRlP1wicG9wc3RhdGVcIjpcImhhc2hjaGFuZ2VcIixmdW5jdGlvbigpe0U9dHJ1ZX0pO20ub25lKFwicGFnZWNvbnRhaW5lcmNyZWF0ZVwiLGZ1bmN0aW9uKCl7YS5tb2JpbGUucGFnZUNvbnRhaW5lci5iaW5kKFwicGFnZWNoYW5nZVwiLGZ1bmN0aW9uKCl7RT10cnVlO20udW5iaW5kKFwic2Nyb2xsc3RvcFwiLEMpO20uYmluZChcInNjcm9sbHN0b3BcIixDKX0pfSk7XG5tLmJpbmQoXCJzY3JvbGxzdG9wXCIsQyk7YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0PWQ7YS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKFwid2Via2l0QW5pbWF0aW9uRW5kIGFuaW1hdGlvbmVuZFwiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9O2EubW9iaWxlLnBhdGg9bDthLm1vYmlsZS5iYXNlPUI7YS5tb2JpbGUudXJsSGlzdG9yeT1uO2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk9eDthLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ZmFsc2U7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sdyk6dy5ocmVmfTthLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sdik6di5ocmVmfTthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmU9ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpOyFiLmRhdGEoXCJwYWdlXCIpLm9wdGlvbnMuZG9tQ2FjaGUmJlxuYi5pcyhcIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKVwiKSYmYi5iaW5kKFwicGFnZWhpZGUucmVtb3ZlXCIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9bmV3IGEuRXZlbnQoXCJwYWdlcmVtb3ZlXCIpO2IudHJpZ2dlcihjKTtjLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxiLnJlbW92ZVdpdGhEZXBlbmRlbnRzKCl9KX07YS5tb2JpbGUubG9hZFBhZ2U9ZnVuY3Rpb24oYixkKXt2YXIgZj1hLkRlZmVycmVkKCksZT1hLmV4dGVuZCh7fSxhLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cyxkKSxnPW51bGwsaj1udWxsLGs9bC5tYWtlVXJsQWJzb2x1dGUoYixhLm1vYmlsZS5hY3RpdmVQYWdlJiZvKGEubW9iaWxlLmFjdGl2ZVBhZ2UpfHx2LmhyZWZOb0hhc2gpO2lmKGUuZGF0YSYmZS50eXBlPT09XCJnZXRcIilrPWwuYWRkU2VhcmNoUGFyYW1zKGssZS5kYXRhKSxlLmRhdGE9YztpZihlLmRhdGEmJmUudHlwZT09PVwicG9zdFwiKWUucmVsb2FkUGFnZT10cnVlO3ZhciB1PWwuZ2V0RmlsZVBhdGgoayksXG5uPWwuY29udmVydFVybFRvRGF0YVVybChrKTtlLnBhZ2VDb250YWluZXI9ZS5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2c9ZS5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKFwiOmpxbURhdGEodXJsPSdcIituK1wiJylcIik7Zy5sZW5ndGg9PT0wJiZuJiYhbC5pc1BhdGgobikmJihnPWUucGFnZUNvbnRhaW5lci5jaGlsZHJlbihcIiNcIituKS5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInVybFwiLG4pKTtpZihnLmxlbmd0aD09PTApaWYoYS5tb2JpbGUuZmlyc3RQYWdlJiZsLmlzRmlyc3RQYWdlVXJsKHUpKWEubW9iaWxlLmZpcnN0UGFnZS5wYXJlbnQoKS5sZW5ndGgmJihnPWEoYS5tb2JpbGUuZmlyc3RQYWdlKSk7ZWxzZSBpZihsLmlzRW1iZWRkZWRQYWdlKHUpKXJldHVybiBmLnJlamVjdChrLGQpLGYucHJvbWlzZSgpO0ImJkIucmVzZXQoKTtpZihnLmxlbmd0aCl7aWYoIWUucmVsb2FkUGFnZSlyZXR1cm4gaChnLGUucm9sZSksZi5yZXNvbHZlKGssZCxnKSxmLnByb21pc2UoKTtcbmo9Z312YXIgbT1lLnBhZ2VDb250YWluZXIseD1uZXcgYS5FdmVudChcInBhZ2ViZWZvcmVsb2FkXCIpLHA9e3VybDpiLGFic1VybDprLGRhdGFVcmw6bixkZWZlcnJlZDpmLG9wdGlvbnM6ZX07bS50cmlnZ2VyKHgscCk7aWYoeC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gZi5wcm9taXNlKCk7aWYoZS5zaG93TG9hZE1zZyl2YXIgcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGUubG9hZE1zZ0RlbGF5KTshYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiYhbC5pc1NhbWVEb21haW4odyxrKT9mLnJlamVjdChrLGQpOmEuYWpheCh7dXJsOnUsdHlwZTplLnR5cGUsZGF0YTplLmRhdGEsZGF0YVR5cGU6XCJodG1sXCIsc3VjY2VzczpmdW5jdGlvbihjLG8sbSl7dmFyIHg9YShcIjxkaXY+PC9kaXY+XCIpLHY9Yy5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEsdz1SZWdFeHAoXCJcXFxcYmRhdGEtXCIrYS5tb2JpbGUubnMrXG5cInVybD1bXFxcIiddPyhbXlxcXCInPl0qKVtcXFwiJ10/XCIpO1JlZ0V4cChcIig8W14+XStcXFxcYmRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPVtcXFwiJ10/cGFnZVtcXFwiJ10/W14+XSo+KVwiKS50ZXN0KGMpJiZSZWdFeHAuJDEmJncudGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPXU9bC5nZXRGaWxlUGF0aChSZWdFeHAuJDEpKTtCJiZCLnNldCh1KTt4LmdldCgwKS5pbm5lckhUTUw9YztnPXguZmluZChcIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJylcIikuZmlyc3QoKTtnLmxlbmd0aHx8KGc9YShcIjxkaXYgZGF0YS1cIithLm1vYmlsZS5ucytcInJvbGU9J3BhZ2UnPlwiK2Muc3BsaXQoLzxcXC8/Ym9keVtePl0qPi9nbWkpWzFdK1wiPC9kaXY+XCIpKTt2JiYhZy5qcW1EYXRhKFwidGl0bGVcIikmJih+di5pbmRleE9mKFwiJlwiKSYmKHY9YShcIjxkaXY+XCIrditcIjwvZGl2PlwiKS50ZXh0KCkpLGcuanFtRGF0YShcInRpdGxlXCIsdikpO2lmKCFhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcpe3ZhciBxPVxubC5nZXQodSk7Zy5maW5kKFwiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF1cIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcykuaXMoXCJbaHJlZl1cIik/XCJocmVmXCI6YSh0aGlzKS5pcyhcIltzcmNdXCIpP1wic3JjXCI6XCJhY3Rpb25cIixjPWEodGhpcykuYXR0cihiKSxjPWMucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSxcIlwiKTsvXihcXHcrOnwjfFxcLykvLnRlc3QoYyl8fGEodGhpcykuYXR0cihiLHErYyl9KX1nLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1widXJsXCIsbC5jb252ZXJ0VXJsVG9EYXRhVXJsKHUpKS5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcImV4dGVybmFsLXBhZ2VcIix0cnVlKS5hcHBlbmRUbyhlLnBhZ2VDb250YWluZXIpO2cub25lKFwicGFnZWNyZWF0ZVwiLGEubW9iaWxlLl9iaW5kUGFnZVJlbW92ZSk7aChnLGUucm9sZSk7ay5pbmRleE9mKFwiJlwiK1xuYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihnPWUucGFnZUNvbnRhaW5lci5jaGlsZHJlbihcIjpqcW1EYXRhKHVybD0nXCIrbitcIicpXCIpKTtlLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KHIpLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpKTtwLnhocj1tO3AudGV4dFN0YXR1cz1vO3AucGFnZT1nO2UucGFnZUNvbnRhaW5lci50cmlnZ2VyKFwicGFnZWxvYWRcIixwKTtmLnJlc29sdmUoayxkLGcsail9LGVycm9yOmZ1bmN0aW9uKGIsYyxnKXtCJiZCLnNldChsLmdldCgpKTtwLnhocj1iO3AudGV4dFN0YXR1cz1jO3AuZXJyb3JUaHJvd249ZztiPW5ldyBhLkV2ZW50KFwicGFnZWxvYWRmYWlsZWRcIik7ZS5wYWdlQ29udGFpbmVyLnRyaWdnZXIoYixwKTtiLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoZS5zaG93TG9hZE1zZyYmKGNsZWFyVGltZW91dChyKSxhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSxhLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2VUaGVtZSxcbmEubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlLHRydWUpLHNldFRpbWVvdXQoYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnLDE1MDApKSxmLnJlamVjdChrLGQpKX19KTtyZXR1cm4gZi5wcm9taXNlKCl9O2EubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzPXt0eXBlOlwiZ2V0XCIsZGF0YTpjLHJlbG9hZFBhZ2U6ZmFsc2Uscm9sZTpjLHNob3dMb2FkTXNnOmZhbHNlLHBhZ2VDb250YWluZXI6Yyxsb2FkTXNnRGVsYXk6NTB9O2EubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oZCxnKXtpZih0KXEudW5zaGlmdChhcmd1bWVudHMpO2Vsc2V7dmFyIGo9YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxnKTtqLnBhZ2VDb250YWluZXI9ai5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2ouZnJvbVBhZ2U9ai5mcm9tUGFnZXx8YS5tb2JpbGUuYWN0aXZlUGFnZTt2YXIgdT1qLnBhZ2VDb250YWluZXIsbz1uZXcgYS5FdmVudChcInBhZ2ViZWZvcmVjaGFuZ2VcIiksXG5tPXt0b1BhZ2U6ZCxvcHRpb25zOmp9O3UudHJpZ2dlcihvLG0pO2lmKCFvLmlzRGVmYXVsdFByZXZlbnRlZCgpKWlmKGQ9bS50b1BhZ2UsdD10cnVlLHR5cGVvZiBkPT1cInN0cmluZ1wiKWEubW9iaWxlLmxvYWRQYWdlKGQsaikuZG9uZShmdW5jdGlvbihiLGMsZCxlKXt0PWZhbHNlO2MuZHVwbGljYXRlQ2FjaGVkUGFnZT1lO2EubW9iaWxlLmNoYW5nZVBhZ2UoZCxjKX0pLmZhaWwoZnVuY3Rpb24oKXt0PWZhbHNlO2IodHJ1ZSk7ZSgpO2oucGFnZUNvbnRhaW5lci50cmlnZ2VyKFwicGFnZWNoYW5nZWZhaWxlZFwiLG0pfSk7ZWxzZXtpZihkWzBdPT09YS5tb2JpbGUuZmlyc3RQYWdlWzBdJiYhai5kYXRhVXJsKWouZGF0YVVybD13LmhyZWZOb0hhc2g7dmFyIG89ai5mcm9tUGFnZSxwPWouZGF0YVVybCYmbC5jb252ZXJ0VXJsVG9EYXRhVXJsKGouZGF0YVVybCl8fGQuanFtRGF0YShcInVybFwiKSx2PXA7bC5nZXRGaWxlUGF0aChwKTt2YXIgcj1uLmdldEFjdGl2ZSgpLHM9bi5hY3RpdmVJbmRleD09PVxuMCx5PTAsQj1rLnRpdGxlLEE9ai5yb2xlPT09XCJkaWFsb2dcInx8ZC5qcW1EYXRhKFwicm9sZVwiKT09PVwiZGlhbG9nXCI7aWYobyYmb1swXT09PWRbMF0mJiFqLmFsbG93U2FtZVBhZ2VUcmFuc2l0aW9uKXQ9ZmFsc2UsdS50cmlnZ2VyKFwicGFnZWNoYW5nZVwiLG0pO2Vsc2V7aChkLGoucm9sZSk7ai5mcm9tSGFzaENoYW5nZSYmbi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOnAsaXNCYWNrOmZ1bmN0aW9uKCl7eT0tMX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7eT0xfX0pO3RyeXtrLmFjdGl2ZUVsZW1lbnQmJmsuYWN0aXZlRWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT1cImJvZHlcIj9hKGsuYWN0aXZlRWxlbWVudCkuYmx1cigpOmEoXCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1c1wiKS5ibHVyKCl9Y2F0Y2goRSl7fUEmJnImJihwPShyLnVybHx8XCJcIikreCk7aWYoai5jaGFuZ2VIYXNoIT09ZmFsc2UmJnApbi5pZ25vcmVOZXh0SGFzaENoYW5nZT10cnVlLFxubC5zZXQocCk7dmFyIEM9IXI/QjpkLmpxbURhdGEoXCJ0aXRsZVwiKXx8ZC5jaGlsZHJlbihcIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIpLmZpbmQoXCIudWktdGl0bGVcIikuZ2V0RW5jb2RlZFRleHQoKTtDJiZCPT1rLnRpdGxlJiYoQj1DKTtkLmpxbURhdGEoXCJ0aXRsZVwiKXx8ZC5qcW1EYXRhKFwidGl0bGVcIixCKTtqLnRyYW5zaXRpb249ai50cmFuc2l0aW9ufHwoeSYmIXM/ci50cmFuc2l0aW9uOmMpfHwoQT9hLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pO3l8fG4uYWRkTmV3KHAsai50cmFuc2l0aW9uLEIsdixqLnJvbGUpO2sudGl0bGU9bi5nZXRBY3RpdmUoKS50aXRsZTthLm1vYmlsZS5hY3RpdmVQYWdlPWQ7ai5yZXZlcnNlPWoucmV2ZXJzZXx8eTwwO2YoZCxvLGoudHJhbnNpdGlvbixqLnJldmVyc2UpLmRvbmUoZnVuY3Rpb24oYyxmLGcsaCxsKXtiKCk7ai5kdXBsaWNhdGVDYWNoZWRQYWdlJiZqLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCk7XG5sfHxhLm1vYmlsZS5mb2N1c1BhZ2UoZCk7ZSgpO3UudHJpZ2dlcihcInBhZ2VjaGFuZ2VcIixtKX0pfX19fTthLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmMscmV2ZXJzZTpmYWxzZSxjaGFuZ2VIYXNoOnRydWUsZnJvbUhhc2hDaGFuZ2U6ZmFsc2Uscm9sZTpjLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6YyxwYWdlQ29udGFpbmVyOmMsc2hvd0xvYWRNc2c6dHJ1ZSxkYXRhVXJsOmMsZnJvbVBhZ2U6YyxhbGxvd1NhbWVQYWdlVHJhbnNpdGlvbjpmYWxzZX07YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXthKGspLmRlbGVnYXRlKFwiZm9ybVwiLFwic3VibWl0XCIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKTtpZihhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWMuaXMoXCI6anFtRGF0YShhamF4PSdmYWxzZScpXCIpJiZjLmpxbUhpamFja2FibGUoKS5sZW5ndGgpe3ZhciBkPWMuYXR0cihcIm1ldGhvZFwiKSxlPWMuYXR0cihcInRhcmdldFwiKSxmPWMuYXR0cihcImFjdGlvblwiKTtcbmlmKCFmJiYoZj1vKGMpLGY9PT12LmhyZWZOb0hhc2gpKWY9dy5ocmVmTm9TZWFyY2g7Zj1sLm1ha2VVcmxBYnNvbHV0ZShmLG8oYykpOyFsLmlzRXh0ZXJuYWwoZikmJiFlJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShmLHt0eXBlOmQmJmQubGVuZ3RoJiZkLnRvTG93ZXJDYXNlKCl8fFwiZ2V0XCIsZGF0YTpjLnNlcmlhbGl6ZSgpLHRyYW5zaXRpb246Yy5qcW1EYXRhKFwidHJhbnNpdGlvblwiKSxkaXJlY3Rpb246Yy5qcW1EYXRhKFwiZGlyZWN0aW9uXCIpLHJlbG9hZFBhZ2U6dHJ1ZX0pLGIucHJldmVudERlZmF1bHQoKSl9fSk7YShrKS5iaW5kKFwidmNsaWNrXCIsZnVuY3Rpb24oYyl7aWYoIShjLndoaWNoPjEpJiZhLm1vYmlsZS5saW5rQmluZGluZ0VuYWJsZWQmJihjPWooYy50YXJnZXQpLGEoYykuanFtSGlqYWNrYWJsZSgpLmxlbmd0aCYmYyYmbC5wYXJzZVVybChjLmdldEF0dHJpYnV0ZShcImhyZWZcIil8fFwiI1wiKS5oYXNoIT09XCIjXCIpKWIodHJ1ZSkscj1hKGMpLmNsb3Nlc3QoXCIudWktYnRuXCIpLm5vdChcIi51aS1kaXNhYmxlZFwiKSxcbnIuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEoXCIuXCIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzK1wiIC51aS1idG5cIikubm90KGMpLmJsdXIoKSxhKGMpLmpxbURhdGEoXCJocmVmXCIsYShjKS5hdHRyKFwiaHJlZlwiKSkuYXR0cihcImhyZWZcIixcIiNcIil9KTthKGspLmJpbmQoXCJjbGlja1wiLGZ1bmN0aW9uKGQpe2lmKGEubW9iaWxlLmxpbmtCaW5kaW5nRW5hYmxlZCl7dmFyIGY9aihkLnRhcmdldCksZT1hKGYpLGc7aWYoZiYmIShkLndoaWNoPjEpJiZlLmpxbUhpamFja2FibGUoKS5sZW5ndGgpe2c9ZnVuY3Rpb24oKXtzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKHRydWUpfSwyMDApfTtlLmpxbURhdGEoXCJocmVmXCIpJiZlLmF0dHIoXCJocmVmXCIsZS5qcW1EYXRhKFwiaHJlZlwiKSk7aWYoZS5pcyhcIjpqcW1EYXRhKHJlbD0nYmFjaycpXCIpKXJldHVybiBzLmhpc3RvcnkuYmFjaygpLGZhbHNlO3ZhciBoPW8oZSksZj1sLm1ha2VVcmxBYnNvbHV0ZShlLmF0dHIoXCJocmVmXCIpfHxcIiNcIixcbmgpO2lmKCFhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWwuaXNFbWJlZGRlZFBhZ2UoZikpZygpO2Vsc2V7aWYoZi5zZWFyY2goXCIjXCIpIT0tMSlpZihmPWYucmVwbGFjZSgvW14jXSojLyxcIlwiKSlmPWwuaXNQYXRoKGYpP2wubWFrZVVybEFic29sdXRlKGYsaCk6bC5tYWtlVXJsQWJzb2x1dGUoXCIjXCIrZix3LmhyZWZOb0hhc2gpO2Vsc2V7ZC5wcmV2ZW50RGVmYXVsdCgpO3JldHVybn12YXIgaD1lLmlzKFwiW3JlbD0nZXh0ZXJuYWwnXVwiKXx8ZS5pcyhcIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJylcIil8fGUuaXMoXCJbdGFyZ2V0XVwiKSxrPWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmdy5wcm90b2NvbD09PVwiZmlsZTpcIiYmZi5zZWFyY2goL15odHRwcz86LykhPS0xO2h8fGwuaXNFeHRlcm5hbChmKSYmIWs/ZygpOihnPWUuanFtRGF0YShcInRyYW5zaXRpb25cIiksaD0oaD1lLmpxbURhdGEoXCJkaXJlY3Rpb25cIikpJiZoPT09XCJyZXZlcnNlXCJ8fGUuanFtRGF0YShcImJhY2tcIiksZT1lLmF0dHIoXCJkYXRhLVwiK1xuYS5tb2JpbGUubnMrXCJyZWxcIil8fGMsYS5tb2JpbGUuY2hhbmdlUGFnZShmLHt0cmFuc2l0aW9uOmcscmV2ZXJzZTpoLHJvbGU6ZX0pLGQucHJldmVudERlZmF1bHQoKSl9fX19KTthKGspLmRlbGVnYXRlKFwiLnVpLXBhZ2VcIixcInBhZ2VzaG93LnByZWZldGNoXCIsZnVuY3Rpb24oKXt2YXIgYj1bXTthKHRoaXMpLmZpbmQoXCJhOmpxbURhdGEocHJlZmV0Y2gpXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5hdHRyKFwiaHJlZlwiKTtkJiZhLmluQXJyYXkoZCxiKT09PS0xJiYoYi5wdXNoKGQpLGEubW9iaWxlLmxvYWRQYWdlKGQse3JvbGU6Yy5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInJlbFwiKX0pKX0pfSk7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2U9ZnVuY3Rpb24oYil7dmFyIGQ9bC5zdHJpcEhhc2goYiksZj17dHJhbnNpdGlvbjphLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD09PTA/XCJub25lXCI6YyxjaGFuZ2VIYXNoOmZhbHNlLGZyb21IYXNoQ2hhbmdlOnRydWV9O1xuaWYoIWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHxuLmlnbm9yZU5leHRIYXNoQ2hhbmdlKW4uaWdub3JlTmV4dEhhc2hDaGFuZ2U9ZmFsc2U7ZWxzZXtpZihuLnN0YWNrLmxlbmd0aD4xJiZkLmluZGV4T2YoeCk+LTEpaWYoYS5tb2JpbGUuYWN0aXZlUGFnZS5pcyhcIi51aS1kaWFsb2dcIikpbi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmQsZWl0aGVyOmZ1bmN0aW9uKGIpe3ZhciBjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7ZD1jLnBhZ2VVcmw7YS5leHRlbmQoZix7cm9sZTpjLnJvbGUsdHJhbnNpdGlvbjpjLnRyYW5zaXRpb24scmV2ZXJzZTpifSl9fSk7ZWxzZXtuLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6ZCxpc0JhY2s6ZnVuY3Rpb24oKXtzLmhpc3RvcnkuYmFjaygpfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXtzLmhpc3RvcnkuZm9yd2FyZCgpfX0pO3JldHVybn1kPyhkPXR5cGVvZiBkPT09XCJzdHJpbmdcIiYmIWwuaXNQYXRoKGQpP2wubWFrZVVybEFic29sdXRlKFwiI1wiK1xuZCx2KTpkLGEubW9iaWxlLmNoYW5nZVBhZ2UoZCxmKSk6YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2UsZil9fTttLmJpbmQoXCJoYXNoY2hhbmdlXCIsZnVuY3Rpb24oKXthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZShsb2NhdGlvbi5oYXNoKX0pO2EoaykuYmluZChcInBhZ2VzaG93XCIsZyk7YShzKS5iaW5kKFwidGhyb3R0bGVkcmVzaXplXCIsZyl9fSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSxjKXt2YXIgYj17fSxlPWEoYyksZj1hLm1vYmlsZS5wYXRoLnBhcnNlVXJsKGxvY2F0aW9uLmhyZWYpO2EuZXh0ZW5kKGIse2luaXRpYWxGaWxlUGF0aDpmLnBhdGhuYW1lK2Yuc2VhcmNoLGluaXRpYWxIcmVmOmYuaHJlZk5vSGFzaCxzdGF0ZTpmdW5jdGlvbigpe3JldHVybntoYXNoOmxvY2F0aW9uLmhhc2h8fFwiI1wiK2IuaW5pdGlhbEZpbGVQYXRoLHRpdGxlOmsudGl0bGUsaW5pdGlhbEhyZWY6Yi5pbml0aWFsSHJlZn19LHJlc2V0VUlLZXlzOmZ1bmN0aW9uKGIpe3ZhciBjPVwiJlwiK1xuYS5tb2JpbGUuc3ViUGFnZVVybEtleSxmPWIuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KTtmPi0xP2I9Yi5zbGljZSgwLGYpK1wiI1wiK2Iuc2xpY2UoZik6Yi5pbmRleE9mKGMpPi0xJiYoYj1iLnNwbGl0KGMpLmpvaW4oXCIjXCIrYykpO3JldHVybiBifSxoYXNoVmFsdWVBZnRlclJlc2V0OmZ1bmN0aW9uKGMpe2M9Yi5yZXNldFVJS2V5cyhjKTtyZXR1cm4gYS5tb2JpbGUucGF0aC5wYXJzZVVybChjKS5oYXNofSxuZXh0SGFzaENoYW5nZVByZXZlbnRlZDpmdW5jdGlvbihjKXthLm1vYmlsZS51cmxIaXN0b3J5Lmlnbm9yZU5leHRIYXNoQ2hhbmdlPWM7Yi5vbkhhc2hDaGFuZ2VEaXNhYmxlZD1jfSxvbkhhc2hDaGFuZ2U6ZnVuY3Rpb24oKXtpZighYi5vbkhhc2hDaGFuZ2VEaXNhYmxlZCl7dmFyIGMsZjtjPWxvY2F0aW9uLmhhc2g7dmFyIGU9YS5tb2JpbGUucGF0aC5pc1BhdGgoYyksaj1lP2xvY2F0aW9uLmhyZWY6YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmwoKTtjPWU/Yy5yZXBsYWNlKFwiI1wiLFxuXCJcIik6YztmPWIuc3RhdGUoKTtjPWEubW9iaWxlLnBhdGgubWFrZVVybEFic29sdXRlKGMsaik7ZSYmKGM9Yi5yZXNldFVJS2V5cyhjKSk7aGlzdG9yeS5yZXBsYWNlU3RhdGUoZixrLnRpdGxlLGMpfX0sb25Qb3BTdGF0ZTpmdW5jdGlvbihjKXt2YXIgYz1jLm9yaWdpbmFsRXZlbnQuc3RhdGUsZixoO2lmKGMpe2Y9Yi5oYXNoVmFsdWVBZnRlclJlc2V0KGEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCkudXJsKTtoPWIuaGFzaFZhbHVlQWZ0ZXJSZXNldChjLmhhc2gucmVwbGFjZShcIiNcIixcIlwiKSk7aWYoZj1mIT09aCllLm9uZShcImhhc2hjaGFuZ2UucHVzaHN0YXRlXCIsZnVuY3Rpb24oKXtiLm5leHRIYXNoQ2hhbmdlUHJldmVudGVkKGZhbHNlKX0pO2IubmV4dEhhc2hDaGFuZ2VQcmV2ZW50ZWQoZmFsc2UpO2EubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKGMuaGFzaCk7ZiYmYi5uZXh0SGFzaENoYW5nZVByZXZlbnRlZCh0cnVlKX19LGluaXQ6ZnVuY3Rpb24oKXtlLmJpbmQoXCJoYXNoY2hhbmdlXCIsXG5iLm9uSGFzaENoYW5nZSk7ZS5iaW5kKFwicG9wc3RhdGVcIixiLm9uUG9wU3RhdGUpO2xvY2F0aW9uLmhhc2g9PT1cIlwiJiZoaXN0b3J5LnJlcGxhY2VTdGF0ZShiLnN0YXRlKCksay50aXRsZSxsb2NhdGlvbi5ocmVmKX19KTthKGZ1bmN0aW9uKCl7YS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZCYmYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYi5pbml0KCl9KX0pKGpRdWVyeSx0aGlzKTtqUXVlcnkubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MucG9wPVwiZmFkZVwiOyhmdW5jdGlvbihhKXthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnMuc2xpZGU9YS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzLnNpbXVsdGFuZW91czthLm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRlPVwiZmFkZVwifSkoalF1ZXJ5LHRoaXMpO2pRdWVyeS5tb2JpbGUudHJhbnNpdGlvbkZhbGxiYWNrcy5zbGlkZWRvd249XCJmYWRlXCI7alF1ZXJ5Lm1vYmlsZS50cmFuc2l0aW9uRmFsbGJhY2tzLnNsaWRldXA9XCJmYWRlXCI7XG5qUXVlcnkubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxpcD1cImZhZGVcIjtqUXVlcnkubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MuZmxvdz1cImZhZGVcIjtqUXVlcnkubW9iaWxlLnRyYW5zaXRpb25GYWxsYmFja3MudHVybj1cImZhZGVcIjsoZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPXtjb2xvcjpmYWxzZSxkYXRlOmZhbHNlLGRhdGV0aW1lOmZhbHNlLFwiZGF0ZXRpbWUtbG9jYWxcIjpmYWxzZSxlbWFpbDpmYWxzZSxtb250aDpmYWxzZSxudW1iZXI6ZmFsc2UscmFuZ2U6XCJudW1iZXJcIixzZWFyY2g6XCJ0ZXh0XCIsdGVsOmZhbHNlLHRpbWU6ZmFsc2UsdXJsOmZhbHNlLHdlZWs6ZmFsc2V9O2EoaykuYmluZChcInBhZ2VjcmVhdGUgY3JlYXRlXCIsZnVuY3Rpb24oYyl7dmFyIGI9YS5tb2JpbGUuY2xvc2VzdFBhZ2VEYXRhKGEoYy50YXJnZXQpKSxlO2lmKGIpZT1iLm9wdGlvbnMsYShjLnRhcmdldCkuZmluZChcImlucHV0XCIpLm5vdChiLmtlZXBOYXRpdmVTZWxlY3RvcigpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9XG5hKHRoaXMpLGM9dGhpcy5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLGc9ZS5kZWdyYWRlSW5wdXRzW2NdfHxcInRleHRcIjtpZihlLmRlZ3JhZGVJbnB1dHNbY10pe3ZhciBoPWEoXCI8ZGl2PlwiKS5odG1sKGIuY2xvbmUoKSkuaHRtbCgpLGo9aC5pbmRleE9mKFwiIHR5cGU9XCIpPi0xO2IucmVwbGFjZVdpdGgoaC5yZXBsYWNlKGo/L1xccyt0eXBlPVtcIiddP1xcdytbJ1wiXT8vOi9cXC8/Pi8sJyB0eXBlPVwiJytnKydcIiBkYXRhLScrYS5tb2JpbGUubnMrJ3R5cGU9XCInK2MrJ1wiJysoaj9cIlwiOlwiPlwiKSkpfX0pfSl9KShqUXVlcnkpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KFwibW9iaWxlLmRpYWxvZ1wiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xvc2VCdG5UZXh0OlwiQ2xvc2VcIixvdmVybGF5VGhlbWU6XCJhXCIsaW5pdFNlbGVjdG9yOlwiOmpxbURhdGEocm9sZT0nZGlhbG9nJylcIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLmVsZW1lbnQsZj1hKFwiPGEgaHJlZj0nIycgZGF0YS1cIithLm1vYmlsZS5ucytcblwiaWNvbj0nZGVsZXRlJyBkYXRhLVwiK2EubW9iaWxlLm5zK1wiaWNvbnBvcz0nbm90ZXh0Jz5cIit0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0K1wiPC9hPlwiKSxkPWEoXCI8ZGl2Lz5cIix7cm9sZTpcImRpYWxvZ1wiLFwiY2xhc3NcIjpcInVpLWRpYWxvZy1jb250YWluIHVpLWNvcm5lci1hbGwgdWktb3ZlcmxheS1zaGFkb3dcIn0pO2MuYWRkQ2xhc3MoXCJ1aS1kaWFsb2cgdWktb3ZlcmxheS1cIit0aGlzLm9wdGlvbnMub3ZlcmxheVRoZW1lKTtjLndyYXBJbm5lcihkKS5jaGlsZHJlbigpLmZpbmQoXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKVwiKS5wcmVwZW5kKGYpLmVuZCgpLmNoaWxkcmVuKFwiOmZpcnN0LWNoaWxkXCIpLmFkZENsYXNzKFwidWktY29ybmVyLXRvcFwiKS5lbmQoKS5jaGlsZHJlbihcIjpsYXN0LWNoaWxkXCIpLmFkZENsYXNzKFwidWktY29ybmVyLWJvdHRvbVwiKTtmLmJpbmQoXCJjbGlja1wiLGZ1bmN0aW9uKCl7Yi5jbG9zZSgpfSk7Yy5iaW5kKFwidmNsaWNrIHN1Ym1pdFwiLGZ1bmN0aW9uKGIpe3ZhciBiPVxuYShiLnRhcmdldCkuY2xvc2VzdChiLnR5cGU9PT1cInZjbGlja1wiP1wiYVwiOlwiZm9ybVwiKSxjO2IubGVuZ3RoJiYhYi5qcW1EYXRhKFwidHJhbnNpdGlvblwiKSYmKGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKXx8e30sYi5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInRyYW5zaXRpb25cIixjLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uKS5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcImRpcmVjdGlvblwiLFwicmV2ZXJzZVwiKSl9KS5iaW5kKFwicGFnZWhpZGVcIixmdW5jdGlvbigpe2EodGhpcykuZmluZChcIi5cIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZChcInBhZ2ViZWZvcmVzaG93XCIsZnVuY3Rpb24oKXtiLm9wdGlvbnMub3ZlcmxheVRoZW1lJiZiLmVsZW1lbnQucGFnZShcInJlbW92ZUNvbnRhaW5lckJhY2tncm91bmRcIikucGFnZShcInNldENvbnRhaW5lckJhY2tncm91bmRcIixcbmIub3B0aW9ucy5vdmVybGF5VGhlbWUpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7Yy5oaXN0b3J5LmJhY2soKX19KTthKGspLmRlbGVnYXRlKGEubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsXCJwYWdlY3JlYXRlXCIsZnVuY3Rpb24oKXthLm1vYmlsZS5kaWFsb2cucHJvdG90eXBlLmVuaGFuY2UodGhpcyl9KX0pKGpRdWVyeSx0aGlzKTsoZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcyhcInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iclwiKX07YShrKS5iaW5kKFwicGFnZWNyZWF0ZSBjcmVhdGVcIixmdW5jdGlvbihjKXthKFwiOmpxbURhdGEocm9sZT0nZmllbGRjb250YWluJylcIixjLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5maWVsZGNvbnRhaW4oKX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7YS5mbi5ncmlkPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1cbmEodGhpcyksZT1hLmV4dGVuZCh7Z3JpZDpudWxsfSxjKSxmPWIuY2hpbGRyZW4oKSxkPXtzb2xvOjEsYToyLGI6MyxjOjQsZDo1fSxlPWUuZ3JpZDtpZighZSlpZihmLmxlbmd0aDw9NSlmb3IodmFyIGcgaW4gZClkW2ddPT09Zi5sZW5ndGgmJihlPWcpO2Vsc2UgZT1cImFcIjtkPWRbZV07Yi5hZGRDbGFzcyhcInVpLWdyaWQtXCIrZSk7Zi5maWx0ZXIoXCI6bnRoLWNoaWxkKFwiK2QrXCJuKzEpXCIpLmFkZENsYXNzKFwidWktYmxvY2stYVwiKTtkPjEmJmYuZmlsdGVyKFwiOm50aC1jaGlsZChcIitkK1wibisyKVwiKS5hZGRDbGFzcyhcInVpLWJsb2NrLWJcIik7ZD4yJiZmLmZpbHRlcihcIjpudGgtY2hpbGQoM24rMylcIikuYWRkQ2xhc3MoXCJ1aS1ibG9jay1jXCIpO2Q+MyYmZi5maWx0ZXIoXCI6bnRoLWNoaWxkKDRuKzQpXCIpLmFkZENsYXNzKFwidWktYmxvY2stZFwiKTtkPjQmJmYuZmlsdGVyKFwiOm50aC1jaGlsZCg1bis1KVwiKS5hZGRDbGFzcyhcInVpLWJsb2NrLWVcIil9KX19KShqUXVlcnkpOyhmdW5jdGlvbihhKXthKGspLmJpbmQoXCJwYWdlY3JlYXRlIGNyZWF0ZVwiLFxuZnVuY3Rpb24oYyl7YShcIjpqcW1EYXRhKHJvbGU9J25vanMnKVwiLGMudGFyZ2V0KS5hZGRDbGFzcyhcInVpLW5vanNcIil9KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGI7YTspe2lmKChiPXR5cGVvZiBhLmNsYXNzTmFtZT09PVwic3RyaW5nXCImJmEuY2xhc3NOYW1lK1wiIFwiKSYmYi5pbmRleE9mKFwidWktYnRuIFwiKT4tMSYmYi5pbmRleE9mKFwidWktZGlzYWJsZWQgXCIpPDApYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oYil7Zm9yKHZhciBiPWImJmEudHlwZShiKT09XCJvYmplY3RcIj9iOnt9LGQ9MDtkPHRoaXMubGVuZ3RoO2QrKyl7dmFyIGc9dGhpcy5lcShkKSxoPWdbMF0saj1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyx7aWNvbjpiLmljb24hPT1jP2IuaWNvbjpnLmpxbURhdGEoXCJpY29uXCIpLGljb25wb3M6Yi5pY29ucG9zIT09Yz9iLmljb25wb3M6Zy5qcW1EYXRhKFwiaWNvbnBvc1wiKSxcbnRoZW1lOmIudGhlbWUhPT1jP2IudGhlbWU6Zy5qcW1EYXRhKFwidGhlbWVcIil8fGEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsXCJjXCIpLGlubGluZTpiLmlubGluZSE9PWM/Yi5pbmxpbmU6Zy5qcW1EYXRhKFwiaW5saW5lXCIpLHNoYWRvdzpiLnNoYWRvdyE9PWM/Yi5zaGFkb3c6Zy5qcW1EYXRhKFwic2hhZG93XCIpLGNvcm5lcnM6Yi5jb3JuZXJzIT09Yz9iLmNvcm5lcnM6Zy5qcW1EYXRhKFwiY29ybmVyc1wiKSxpY29uc2hhZG93OmIuaWNvbnNoYWRvdyE9PWM/Yi5pY29uc2hhZG93OmcuanFtRGF0YShcImljb25zaGFkb3dcIiksbWluaTpiLm1pbmkhPT1jP2IubWluaTpnLmpxbURhdGEoXCJtaW5pXCIpfSxiKSxvPVwidWktYnRuLWlubmVyXCIsbSxwLGwscixuLHE7YS5lYWNoKGosZnVuY3Rpb24oYixjKXtoLnNldEF0dHJpYnV0ZShcImRhdGEtXCIrYS5tb2JpbGUubnMrYixjKTtnLmpxbURhdGEoYixjKX0pOyhxPWEuZGF0YShoLnRhZ05hbWU9PT1cIklOUFVUXCJ8fGgudGFnTmFtZT09PVwiQlVUVE9OXCI/XG5oLnBhcmVudE5vZGU6aCxcImJ1dHRvbkVsZW1lbnRzXCIpKT8oaD1xLm91dGVyLGc9YShoKSxsPXEuaW5uZXIscj1xLnRleHQsYShxLmljb24pLnJlbW92ZSgpLHEuaWNvbj1udWxsKToobD1rLmNyZWF0ZUVsZW1lbnQoai53cmFwcGVyRWxzKSxyPWsuY3JlYXRlRWxlbWVudChqLndyYXBwZXJFbHMpKTtuPWouaWNvbj9rLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpOm51bGw7ZSYmIXEmJmUoKTtpZighai50aGVtZSlqLnRoZW1lPWEubW9iaWxlLmdldEluaGVyaXRlZFRoZW1lKGcsXCJjXCIpO209XCJ1aS1idG4gdWktYnRuLXVwLVwiK2oudGhlbWU7bSs9ai5pbmxpbmU/XCIgdWktYnRuLWlubGluZVwiOlwiXCI7bSs9ai5zaGFkb3c/XCIgdWktc2hhZG93XCI6XCJcIjttKz1qLmNvcm5lcnM/XCIgdWktYnRuLWNvcm5lci1hbGxcIjpcIlwiO2oubWluaSE9PWMmJihtKz1qLm1pbmk/XCIgdWktbWluaVwiOlwiIHVpLWZ1bGxzaXplXCIpO2ouaW5saW5lIT09YyYmKG0rPWouaW5saW5lPT09ZmFsc2U/XCIgdWktYnRuLWJsb2NrXCI6XCIgdWktYnRuLWlubGluZVwiKTtcbmlmKGouaWNvbilqLmljb249XCJ1aS1pY29uLVwiK2ouaWNvbixqLmljb25wb3M9ai5pY29ucG9zfHxcImxlZnRcIixwPVwidWktaWNvbiBcIitqLmljb24sai5pY29uc2hhZG93JiYocCs9XCIgdWktaWNvbi1zaGFkb3dcIik7ai5pY29ucG9zJiYobSs9XCIgdWktYnRuLWljb24tXCIrai5pY29ucG9zLGouaWNvbnBvcz09XCJub3RleHRcIiYmIWcuYXR0cihcInRpdGxlXCIpJiZnLmF0dHIoXCJ0aXRsZVwiLGcuZ2V0RW5jb2RlZFRleHQoKSkpO28rPWouY29ybmVycz9cIiB1aS1idG4tY29ybmVyLWFsbFwiOlwiXCI7ai5pY29ucG9zJiZqLmljb25wb3M9PT1cIm5vdGV4dFwiJiYhZy5hdHRyKFwidGl0bGVcIikmJmcuYXR0cihcInRpdGxlXCIsZy5nZXRFbmNvZGVkVGV4dCgpKTtxJiZnLnJlbW92ZUNsYXNzKHEuYmNsc3x8XCJcIik7Zy5yZW1vdmVDbGFzcyhcInVpLWxpbmtcIikuYWRkQ2xhc3MobSk7bC5jbGFzc05hbWU9bztyLmNsYXNzTmFtZT1cInVpLWJ0bi10ZXh0XCI7cXx8bC5hcHBlbmRDaGlsZChyKTtpZihuJiYobi5jbGFzc05hbWU9XG5wLCFxfHwhcS5pY29uKSluLmFwcGVuZENoaWxkKGsuY3JlYXRlVGV4dE5vZGUoXCJcXHUwMGEwXCIpKSxsLmFwcGVuZENoaWxkKG4pO2Zvcig7aC5maXJzdENoaWxkJiYhcTspci5hcHBlbmRDaGlsZChoLmZpcnN0Q2hpbGQpO3F8fGguYXBwZW5kQ2hpbGQobCk7cT17YmNsczptLG91dGVyOmgsaW5uZXI6bCx0ZXh0OnIsaWNvbjpufTthLmRhdGEoaCxcImJ1dHRvbkVsZW1lbnRzXCIscSk7YS5kYXRhKGwsXCJidXR0b25FbGVtZW50c1wiLHEpO2EuZGF0YShyLFwiYnV0dG9uRWxlbWVudHNcIixxKTtuJiZhLmRhdGEobixcImJ1dHRvbkVsZW1lbnRzXCIscSl9cmV0dXJuIHRoaXN9O2EuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPXtjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLHdyYXBwZXJFbHM6XCJzcGFuXCJ9O3ZhciBlPWZ1bmN0aW9uKCl7dmFyIGM9YS5tb2JpbGUuYnV0dG9uTWFya3VwLmhvdmVyRGVsYXksZCxnO2EoaykuYmluZCh7XCJ2bW91c2Vkb3duIHZtb3VzZWNhbmNlbCB2bW91c2V1cCB2bW91c2VvdmVyIHZtb3VzZW91dCBmb2N1cyBibHVyIHNjcm9sbHN0YXJ0XCI6ZnVuY3Rpb24oZSl7dmFyIGosXG5rPWEoYihlLnRhcmdldCkpLGU9ZS50eXBlO2lmKGsubGVuZ3RoKWlmKGo9ay5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInRoZW1lXCIpLGU9PT1cInZtb3VzZWRvd25cIilhLnN1cHBvcnQudG91Y2g/ZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay5yZW1vdmVDbGFzcyhcInVpLWJ0bi11cC1cIitqKS5hZGRDbGFzcyhcInVpLWJ0bi1kb3duLVwiK2opfSxjKTprLnJlbW92ZUNsYXNzKFwidWktYnRuLXVwLVwiK2opLmFkZENsYXNzKFwidWktYnRuLWRvd24tXCIraik7ZWxzZSBpZihlPT09XCJ2bW91c2VjYW5jZWxcInx8ZT09PVwidm1vdXNldXBcIilrLnJlbW92ZUNsYXNzKFwidWktYnRuLWRvd24tXCIraikuYWRkQ2xhc3MoXCJ1aS1idG4tdXAtXCIraik7ZWxzZSBpZihlPT09XCJ2bW91c2VvdmVyXCJ8fGU9PT1cImZvY3VzXCIpYS5zdXBwb3J0LnRvdWNoP2c9c2V0VGltZW91dChmdW5jdGlvbigpe2sucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tdXAtXCIraikuYWRkQ2xhc3MoXCJ1aS1idG4taG92ZXItXCIrail9LGMpOmsucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tdXAtXCIrXG5qKS5hZGRDbGFzcyhcInVpLWJ0bi1ob3Zlci1cIitqKTtlbHNlIGlmKGU9PT1cInZtb3VzZW91dFwifHxlPT09XCJibHVyXCJ8fGU9PT1cInNjcm9sbHN0YXJ0XCIpay5yZW1vdmVDbGFzcyhcInVpLWJ0bi1ob3Zlci1cIitqK1wiIHVpLWJ0bi1kb3duLVwiK2opLmFkZENsYXNzKFwidWktYnRuLXVwLVwiK2opLGQmJmNsZWFyVGltZW91dChkKSxnJiZjbGVhclRpbWVvdXQoZyl9LFwiZm9jdXNpbiBmb2N1c1wiOmZ1bmN0aW9uKGMpe2EoYihjLnRhcmdldCkpLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxcImZvY3Vzb3V0IGJsdXJcIjpmdW5jdGlvbihjKXthKGIoYy50YXJnZXQpKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KTtlPW51bGx9O2EoaykuYmluZChcInBhZ2VjcmVhdGUgY3JlYXRlXCIsZnVuY3Rpb24oYil7YShcIjpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWhlYWRlciA+IGEsIC51aS1mb290ZXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhXCIsXG5iLnRhcmdldCkubm90KFwiLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJylcIikuYnV0dG9uTWFya3VwKCl9KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEpe2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRleHQ9XCJCYWNrXCI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPWZhbHNlO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGw7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT1cImFcIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lPVwiYVwiO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuY29udGVudFRoZW1lPW51bGw7YShrKS5kZWxlZ2F0ZShcIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJylcIixcInBhZ2VjcmVhdGVcIixmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksXG5iPWMuZGF0YShcInBhZ2VcIikub3B0aW9ucyxlPWMuanFtRGF0YShcInJvbGVcIiksZj1iLnRoZW1lO2EoXCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKVwiLHRoaXMpLmpxbUVuaGFuY2VhYmxlKCkuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZz1kLmpxbURhdGEoXCJyb2xlXCIpLGg9ZC5qcW1EYXRhKFwidGhlbWVcIiksaj1ofHxiLmNvbnRlbnRUaGVtZXx8ZT09PVwiZGlhbG9nXCImJmYsaztkLmFkZENsYXNzKFwidWktXCIrZyk7aWYoZz09PVwiaGVhZGVyXCJ8fGc9PT1cImZvb3RlclwiKXt2YXIgbT1ofHwoZz09PVwiaGVhZGVyXCI/Yi5oZWFkZXJUaGVtZTpiLmZvb3RlclRoZW1lKXx8ZjtkLmFkZENsYXNzKFwidWktYmFyLVwiK20pLmF0dHIoXCJyb2xlXCIsZz09PVwiaGVhZGVyXCI/XCJiYW5uZXJcIjpcImNvbnRlbnRpbmZvXCIpO2c9PT1cImhlYWRlclwiJiYoaD1kLmNoaWxkcmVuKFwiYVwiKSxrPWguaGFzQ2xhc3MoXCJ1aS1idG4tbGVmdFwiKSxcbmo9aC5oYXNDbGFzcyhcInVpLWJ0bi1yaWdodFwiKSxrPWt8fGguZXEoMCkubm90KFwiLnVpLWJ0bi1yaWdodFwiKS5hZGRDbGFzcyhcInVpLWJ0bi1sZWZ0XCIpLmxlbmd0aCxqfHxoLmVxKDEpLmFkZENsYXNzKFwidWktYnRuLXJpZ2h0XCIpKTtiLmFkZEJhY2tCdG4mJmc9PT1cImhlYWRlclwiJiZhKFwiLnVpLXBhZ2VcIikubGVuZ3RoPjEmJmMuanFtRGF0YShcInVybFwiKSE9PWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpJiYhayYmYShcIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS1cIithLm1vYmlsZS5ucytcInJlbD0nYmFjaycgZGF0YS1cIithLm1vYmlsZS5ucytcImljb249J2Fycm93LWwnPlwiK2IuYmFja0J0blRleHQrXCI8L2E+XCIpLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1widGhlbWVcIixiLmJhY2tCdG5UaGVtZXx8bSkucHJlcGVuZFRvKGQpO2QuY2hpbGRyZW4oXCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2XCIpLmFkZENsYXNzKFwidWktdGl0bGVcIikuYXR0cih7cm9sZTpcImhlYWRpbmdcIixcblwiYXJpYS1sZXZlbFwiOlwiMVwifSl9ZWxzZSBnPT09XCJjb250ZW50XCImJihqJiZkLmFkZENsYXNzKFwidWktYm9keS1cIitqKSxkLmF0dHIoXCJyb2xlXCIsXCJtYWluXCIpKX0pfSl9KShqUXVlcnkpOyhmdW5jdGlvbihhKXthLndpZGdldChcIm1vYmlsZS5jb2xsYXBzaWJsZVwiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7ZXhwYW5kQ3VlVGV4dDpcIiBjbGljayB0byBleHBhbmQgY29udGVudHNcIixjb2xsYXBzZUN1ZVRleHQ6XCIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHNcIixjb2xsYXBzZWQ6dHJ1ZSxoZWFkaW5nOlwiaDEsaDIsaDMsaDQsaDUsaDYsbGVnZW5kXCIsdGhlbWU6bnVsbCxjb250ZW50VGhlbWU6bnVsbCxpY29uVGhlbWU6XCJkXCIsbWluaTpmYWxzZSxpbml0U2VsZWN0b3I6XCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpXCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnMsZT1jLmFkZENsYXNzKFwidWktY29sbGFwc2libGVcIiksZj1jLmNoaWxkcmVuKGIuaGVhZGluZykuZmlyc3QoKSxcbmQ9ZS53cmFwSW5uZXIoXCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj5cIikuZmluZChcIi51aS1jb2xsYXBzaWJsZS1jb250ZW50XCIpLGc9Yy5jbG9zZXN0KFwiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JylcIikuYWRkQ2xhc3MoXCJ1aS1jb2xsYXBzaWJsZS1zZXRcIik7Zi5pcyhcImxlZ2VuZFwiKSYmKGY9YShcIjxkaXYgcm9sZT0naGVhZGluZyc+XCIrZi5odG1sKCkrXCI8L2Rpdj5cIikuaW5zZXJ0QmVmb3JlKGYpLGYubmV4dCgpLnJlbW92ZSgpKTtpZihnLmxlbmd0aCl7aWYoIWIudGhlbWUpYi50aGVtZT1nLmpxbURhdGEoXCJ0aGVtZVwiKXx8YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZyxcImNcIik7aWYoIWIuY29udGVudFRoZW1lKWIuY29udGVudFRoZW1lPWcuanFtRGF0YShcImNvbnRlbnQtdGhlbWVcIik7aWYoIWIuaWNvblBvcyliLmljb25Qb3M9Zy5qcW1EYXRhKFwiaWNvbnBvc1wiKTtpZighYi5taW5pKWIubWluaT1nLmpxbURhdGEoXCJtaW5pXCIpfWQuYWRkQ2xhc3MoYi5jb250ZW50VGhlbWU/XG5cInVpLWJvZHktXCIrYi5jb250ZW50VGhlbWU6XCJcIik7Zi5pbnNlcnRCZWZvcmUoZCkuYWRkQ2xhc3MoXCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nXCIpLmFwcGVuZChcIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPlwiKS53cmFwSW5uZXIoXCI8YSBocmVmPScjJyBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy10b2dnbGUnPjwvYT5cIikuZmluZChcImFcIikuZmlyc3QoKS5idXR0b25NYXJrdXAoe3NoYWRvdzpmYWxzZSxjb3JuZXJzOmZhbHNlLGljb25wb3M6Yy5qcW1EYXRhKFwiaWNvbnBvc1wiKXx8Yi5pY29uUG9zfHxcImxlZnRcIixpY29uOlwicGx1c1wiLG1pbmk6Yi5taW5pLHRoZW1lOmIudGhlbWV9KS5hZGQoXCIudWktYnRuLWlubmVyXCIsYykuYWRkQ2xhc3MoXCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci1ib3R0b21cIik7ZS5iaW5kKFwiZXhwYW5kIGNvbGxhcHNlXCIsZnVuY3Rpb24oYyl7aWYoIWMuaXNEZWZhdWx0UHJldmVudGVkKCkpe2MucHJldmVudERlZmF1bHQoKTtcbnZhciBqPWEodGhpcyksYz1jLnR5cGU9PT1cImNvbGxhcHNlXCIsaz1iLmNvbnRlbnRUaGVtZTtmLnRvZ2dsZUNsYXNzKFwidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWRcIixjKS5maW5kKFwiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzXCIpLnRleHQoYz9iLmV4cGFuZEN1ZVRleHQ6Yi5jb2xsYXBzZUN1ZVRleHQpLmVuZCgpLmZpbmQoXCIudWktaWNvblwiKS50b2dnbGVDbGFzcyhcInVpLWljb24tbWludXNcIiwhYykudG9nZ2xlQ2xhc3MoXCJ1aS1pY29uLXBsdXNcIixjKTtqLnRvZ2dsZUNsYXNzKFwidWktY29sbGFwc2libGUtY29sbGFwc2VkXCIsYyk7ZC50b2dnbGVDbGFzcyhcInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkXCIsYykuYXR0cihcImFyaWEtaGlkZGVuXCIsYyk7aWYoayYmKCFnLmxlbmd0aHx8ZS5qcW1EYXRhKFwiY29sbGFwc2libGUtbGFzdFwiKSkpZi5maW5kKFwiYVwiKS5maXJzdCgpLmFkZChmLmZpbmQoXCIudWktYnRuLWlubmVyXCIpKS50b2dnbGVDbGFzcyhcInVpLWNvcm5lci1ib3R0b21cIixcbmMpLGQudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYm90dG9tXCIsIWMpO2QudHJpZ2dlcihcInVwZGF0ZWxheW91dFwiKX19KS50cmlnZ2VyKGIuY29sbGFwc2VkP1wiY29sbGFwc2VcIjpcImV4cGFuZFwiKTtmLmJpbmQoXCJjbGlja1wiLGZ1bmN0aW9uKGEpe3ZhciBiPWYuaXMoXCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWRcIik/XCJleHBhbmRcIjpcImNvbGxhcHNlXCI7ZS50cmlnZ2VyKGIpO2EucHJldmVudERlZmF1bHQoKX0pfX0pO2EoaykuYmluZChcInBhZ2VjcmVhdGUgY3JlYXRlXCIsZnVuY3Rpb24oYyl7YS5tb2JpbGUuY29sbGFwc2libGUucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYy50YXJnZXQpfSl9KShqUXVlcnkpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KFwibW9iaWxlLmNvbGxhcHNpYmxlc2V0XCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpbml0U2VsZWN0b3I6XCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKVwifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LmFkZENsYXNzKFwidWktY29sbGFwc2libGUtc2V0XCIpLFxuZT10aGlzLm9wdGlvbnM7aWYoIWUudGhlbWUpZS50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZShiLFwiY1wiKTtpZighZS5jb250ZW50VGhlbWUpZS5jb250ZW50VGhlbWU9Yi5qcW1EYXRhKFwiY29udGVudC10aGVtZVwiKTtpZighZS5jb3JuZXJzKWUuY29ybmVycz1iLmpxbURhdGEoXCJjb3JuZXJzXCIpPT09Yz90cnVlOmZhbHNlO2IuanFtRGF0YShcImNvbGxhcHNpYmxlYm91bmRcIil8fGIuanFtRGF0YShcImNvbGxhcHNpYmxlYm91bmRcIix0cnVlKS5iaW5kKFwiZXhwYW5kIGNvbGxhcHNlXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi50eXBlPT09XCJjb2xsYXBzZVwiLGI9YShiLnRhcmdldCkuY2xvc2VzdChcIi51aS1jb2xsYXBzaWJsZVwiKSxlPWIuZGF0YShcImNvbGxhcHNpYmxlXCIpO2Uub3B0aW9ucy5jb250ZW50VGhlbWUmJmIuanFtRGF0YShcImNvbGxhcHNpYmxlLWxhc3RcIikmJihiLmZpbmQoZS5vcHRpb25zLmhlYWRpbmcpLmZpcnN0KCkuZmluZChcImFcIikuZmlyc3QoKS5hZGQoXCIudWktYnRuLWlubmVyXCIpLnRvZ2dsZUNsYXNzKFwidWktY29ybmVyLWJvdHRvbVwiLFxuYyksYi5maW5kKFwiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnRcIikudG9nZ2xlQ2xhc3MoXCJ1aS1jb3JuZXItYm90dG9tXCIsIWMpKX0pLmJpbmQoXCJleHBhbmRcIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KFwiLnVpLWNvbGxhcHNpYmxlXCIpLnNpYmxpbmdzKFwiLnVpLWNvbGxhcHNpYmxlXCIpLnRyaWdnZXIoXCJjb2xsYXBzZVwiKX0pfSxfaW5pdDpmdW5jdGlvbigpe3RoaXMucmVmcmVzaCgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5vcHRpb25zLGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKFwiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKVwiKTthLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUuZW5oYW5jZShjLm5vdChcIi51aS1jb2xsYXBzaWJsZVwiKSk7Yy5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5maW5kKGEubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5vcHRpb25zLmhlYWRpbmcpLmZpbmQoXCJhXCIpLmZpcnN0KCkuYWRkKFwiLnVpLWJ0bi1pbm5lclwiKS5yZW1vdmVDbGFzcyhcInVpLWNvcm5lci10b3AgdWktY29ybmVyLWJvdHRvbVwiKX0pO1xuYy5maXJzdCgpLmZpbmQoXCJhXCIpLmZpcnN0KCkuYWRkQ2xhc3MoYi5jb3JuZXJzP1widWktY29ybmVyLXRvcFwiOlwiXCIpLmZpbmQoXCIudWktYnRuLWlubmVyXCIpLmFkZENsYXNzKFwidWktY29ybmVyLXRvcFwiKTtjLmxhc3QoKS5qcW1EYXRhKFwiY29sbGFwc2libGUtbGFzdFwiLHRydWUpLmZpbmQoXCJhXCIpLmZpcnN0KCkuYWRkQ2xhc3MoYi5jb3JuZXJzP1widWktY29ybmVyLWJvdHRvbVwiOlwiXCIpLmZpbmQoXCIudWktYnRuLWlubmVyXCIpLmFkZENsYXNzKFwidWktY29ybmVyLWJvdHRvbVwiKX19KTthKGspLmJpbmQoXCJwYWdlY3JlYXRlIGNyZWF0ZVwiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmNvbGxhcHNpYmxlc2V0LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSxjKXthLndpZGdldChcIm1vYmlsZS5uYXZiYXJcIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2ljb25wb3M6XCJ0b3BcIixncmlkOm51bGwsaW5pdFNlbGVjdG9yOlwiOmpxbURhdGEocm9sZT0nbmF2YmFyJylcIn0sXG5fY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGU9Yi5maW5kKFwiYVwiKSxmPWUuZmlsdGVyKFwiOmpxbURhdGEoaWNvbilcIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmM7Yi5hZGRDbGFzcyhcInVpLW5hdmJhclwiKS5hdHRyKFwicm9sZVwiLFwibmF2aWdhdGlvblwiKS5maW5kKFwidWxcIikuanFtRW5oYW5jZWFibGUoKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSk7Znx8Yi5hZGRDbGFzcyhcInVpLW5hdmJhci1ub2ljb25zXCIpO2UuYnV0dG9uTWFya3VwKHtjb3JuZXJzOmZhbHNlLHNoYWRvdzpmYWxzZSxpbmxpbmU6dHJ1ZSxpY29ucG9zOmZ9KTtiLmRlbGVnYXRlKFwiYVwiLFwidmNsaWNrXCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuaGFzQ2xhc3MoXCJ1aS1kaXNhYmxlZFwiKXx8KGUucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpKX0pO2IuY2xvc2VzdChcIi51aS1wYWdlXCIpLmJpbmQoXCJwYWdlYmVmb3Jlc2hvd1wiLFxuZnVuY3Rpb24oKXtlLmZpbHRlcihcIi51aS1zdGF0ZS1wZXJzaXN0XCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pfX0pO2EoaykuYmluZChcInBhZ2VjcmVhdGUgY3JlYXRlXCIsZnVuY3Rpb24oYil7YS5tb2JpbGUubmF2YmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0KX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7dmFyIGM9e307YS53aWRnZXQoXCJtb2JpbGUubGlzdHZpZXdcIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsY291bnRUaGVtZTpcImNcIixoZWFkZXJUaGVtZTpcImJcIixkaXZpZGVyVGhlbWU6XCJiXCIsc3BsaXRJY29uOlwiYXJyb3ctclwiLHNwbGl0VGhlbWU6XCJiXCIsbWluaTpmYWxzZSxpbnNldDpmYWxzZSxpbml0U2VsZWN0b3I6XCI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpXCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT1cIlwiO2ErPXRoaXMub3B0aW9ucy5pbnNldD9cIiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyBcIjpcblwiXCI7YSs9dGhpcy5lbGVtZW50LmpxbURhdGEoXCJtaW5pXCIpfHx0aGlzLm9wdGlvbnMubWluaT09PXRydWU/XCIgdWktbWluaVwiOlwiXCI7dGhpcy5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGMsZil7cmV0dXJuIGYrXCIgdWktbGlzdHZpZXcgXCIrYX0pO3RoaXMucmVmcmVzaCh0cnVlKX0sX3JlbW92ZUNvcm5lcnM6ZnVuY3Rpb24oYSxjKXthPWEuYWRkKGEuZmluZChcIi51aS1idG4taW5uZXIsIC51aS1saS1saW5rLWFsdCwgLnVpLWxpLXRodW1iXCIpKTtjPT09XCJ0b3BcIj9hLnJlbW92ZUNsYXNzKFwidWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsXCIpOmM9PT1cImJvdHRvbVwiP2EucmVtb3ZlQ2xhc3MoXCJ1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmxcIik6YS5yZW1vdmVDbGFzcyhcInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmxcIil9LF9yZWZyZXNoQ29ybmVyczpmdW5jdGlvbihhKXt2YXIgYyxcbmY7dGhpcy5vcHRpb25zLmluc2V0JiYoYz10aGlzLmVsZW1lbnQuY2hpbGRyZW4oXCJsaVwiKSxmPWE/Yy5ub3QoXCIudWktc2NyZWVuLWhpZGRlblwiKTpjLmZpbHRlcihcIjp2aXNpYmxlXCIpLHRoaXMuX3JlbW92ZUNvcm5lcnMoYyksYz1mLmZpcnN0KCkuYWRkQ2xhc3MoXCJ1aS1jb3JuZXItdG9wXCIpLGMuYWRkKGMuZmluZChcIi51aS1idG4taW5uZXJcIikubm90KFwiLnVpLWxpLWxpbmstYWx0IHNwYW46Zmlyc3QtY2hpbGRcIikpLmFkZENsYXNzKFwidWktY29ybmVyLXRvcFwiKS5lbmQoKS5maW5kKFwiLnVpLWxpLWxpbmstYWx0LCAudWktbGktbGluay1hbHQgc3BhbjpmaXJzdC1jaGlsZFwiKS5hZGRDbGFzcyhcInVpLWNvcm5lci10clwiKS5lbmQoKS5maW5kKFwiLnVpLWxpLXRodW1iXCIpLm5vdChcIi51aS1saS1pY29uXCIpLmFkZENsYXNzKFwidWktY29ybmVyLXRsXCIpLGY9Zi5sYXN0KCkuYWRkQ2xhc3MoXCJ1aS1jb3JuZXItYm90dG9tXCIpLGYuYWRkKGYuZmluZChcIi51aS1idG4taW5uZXJcIikpLmZpbmQoXCIudWktbGktbGluay1hbHRcIikuYWRkQ2xhc3MoXCJ1aS1jb3JuZXItYnJcIikuZW5kKCkuZmluZChcIi51aS1saS10aHVtYlwiKS5ub3QoXCIudWktbGktaWNvblwiKS5hZGRDbGFzcyhcInVpLWNvcm5lci1ibFwiKSk7XG5hfHx0aGlzLmVsZW1lbnQudHJpZ2dlcihcInVwZGF0ZWxheW91dFwiKX0sX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWU6ZnVuY3Rpb24oYSxjLGYsZCl7dmFyIGc9e307Zm9yKGdbZl09Z1tkXT10cnVlO2E7KXtpZihnW2Eubm9kZU5hbWVdKXJldHVybiBhO2E9YVtjXX1yZXR1cm4gbnVsbH0sX2dldENoaWxkcmVuQnlUYWdOYW1lOmZ1bmN0aW9uKGIsYyxmKXt2YXIgZD1bXSxnPXt9O2dbY109Z1tmXT10cnVlO2ZvcihiPWIuZmlyc3RDaGlsZDtiOylnW2Iubm9kZU5hbWVdJiZkLnB1c2goYiksYj1iLm5leHRTaWJsaW5nO3JldHVybiBhKGQpfSxfYWRkVGh1bWJDbGFzc2VzOmZ1bmN0aW9uKGIpe3ZhciBjLGYsZD1iLmxlbmd0aDtmb3IoYz0wO2M8ZDtjKyspZj1hKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoYltjXS5maXJzdENoaWxkLFwibmV4dFNpYmxpbmdcIixcImltZ1wiLFwiSU1HXCIpKSxmLmxlbmd0aCYmKGYuYWRkQ2xhc3MoXCJ1aS1saS10aHVtYlwiKSxhKHRoaXMuX2ZpbmRGaXJzdEVsZW1lbnRCeVRhZ05hbWUoZlswXS5wYXJlbnROb2RlLFxuXCJwYXJlbnROb2RlXCIsXCJsaVwiLFwiTElcIikpLmFkZENsYXNzKGYuaXMoXCIudWktbGktaWNvblwiKT9cInVpLWxpLWhhcy1pY29uXCI6XCJ1aS1saS1oYXMtdGh1bWJcIikpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3RoaXMucGFyZW50UGFnZT10aGlzLmVsZW1lbnQuY2xvc2VzdChcIi51aS1wYWdlXCIpO3RoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGM9dGhpcy5vcHRpb25zLGY9dGhpcy5lbGVtZW50LGQ9Zi5qcW1EYXRhKFwiZGl2aWRlcnRoZW1lXCIpfHxjLmRpdmlkZXJUaGVtZSxnPWYuanFtRGF0YShcInNwbGl0dGhlbWVcIiksaD1mLmpxbURhdGEoXCJzcGxpdGljb25cIiksaj10aGlzLl9nZXRDaGlsZHJlbkJ5VGFnTmFtZShmWzBdLFwibGlcIixcIkxJXCIpLG89YS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fCFhLm5vZGVOYW1lKGZbMF0sXCJvbFwiKT8wOjEsbT17fSxwLGwscixuLHEsdCx4O28mJmYuZmluZChcIi51aS1saS1kZWNcIikucmVtb3ZlKCk7aWYoIWMudGhlbWUpYy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsXG5cImNcIik7Zm9yKHZhciB1PTAsdz1qLmxlbmd0aDt1PHc7dSsrKXtwPWouZXEodSk7bD1cInVpLWxpXCI7aWYoYnx8IXAuaGFzQ2xhc3MoXCJ1aS1saVwiKSlyPXAuanFtRGF0YShcInRoZW1lXCIpfHxjLnRoZW1lLG49dGhpcy5fZ2V0Q2hpbGRyZW5CeVRhZ05hbWUocFswXSxcImFcIixcIkFcIiksbi5sZW5ndGg/KHQ9cC5qcW1EYXRhKFwiaWNvblwiKSxwLmJ1dHRvbk1hcmt1cCh7d3JhcHBlckVsczpcImRpdlwiLHNoYWRvdzpmYWxzZSxjb3JuZXJzOmZhbHNlLGljb25wb3M6XCJyaWdodFwiLGljb246bi5sZW5ndGg+MXx8dD09PWZhbHNlP2ZhbHNlOnR8fFwiYXJyb3ctclwiLHRoZW1lOnJ9KSx0IT1mYWxzZSYmbi5sZW5ndGg9PTEmJnAuYWRkQ2xhc3MoXCJ1aS1saS1oYXMtYXJyb3dcIiksbi5maXJzdCgpLnJlbW92ZUNsYXNzKFwidWktbGlua1wiKS5hZGRDbGFzcyhcInVpLWxpbmstaW5oZXJpdFwiKSxuLmxlbmd0aD4xJiYobCs9XCIgdWktbGktaGFzLWFsdFwiLG49bi5sYXN0KCkscT1nfHxuLmpxbURhdGEoXCJ0aGVtZVwiKXx8XG5jLnNwbGl0VGhlbWUseD1uLmpxbURhdGEoXCJpY29uXCIpLG4uYXBwZW5kVG8ocCkuYXR0cihcInRpdGxlXCIsbi5nZXRFbmNvZGVkVGV4dCgpKS5hZGRDbGFzcyhcInVpLWxpLWxpbmstYWx0XCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ZmFsc2UsY29ybmVyczpmYWxzZSx0aGVtZTpyLGljb246ZmFsc2UsaWNvbnBvczpmYWxzZX0pLmZpbmQoXCIudWktYnRuLWlubmVyXCIpLmFwcGVuZChhKGsuY3JlYXRlRWxlbWVudChcInNwYW5cIikpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OnRydWUsY29ybmVyczp0cnVlLHRoZW1lOnEsaWNvbnBvczpcIm5vdGV4dFwiLGljb246eHx8dHx8aHx8Yy5zcGxpdEljb259KSkpKTpwLmpxbURhdGEoXCJyb2xlXCIpPT09XCJsaXN0LWRpdmlkZXJcIj8obCs9XCIgdWktbGktZGl2aWRlciB1aS1iYXItXCIrZCxwLmF0dHIoXCJyb2xlXCIsXCJoZWFkaW5nXCIpLG8mJihvPTEpKTpsKz1cIiB1aS1saS1zdGF0aWMgdWktYm9keS1cIityO28mJmwuaW5kZXhPZihcInVpLWxpLWRpdmlkZXJcIik8XG4wJiYocj1wLmlzKFwiLnVpLWxpLXN0YXRpYzpmaXJzdFwiKT9wOnAuZmluZChcIi51aS1saW5rLWluaGVyaXRcIiksci5hZGRDbGFzcyhcInVpLWxpLWpzbnVtYmVyaW5nXCIpLnByZXBlbmQoXCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz5cIitvKysgK1wiLiA8L3NwYW4+XCIpKTttW2xdfHwobVtsXT1bXSk7bVtsXS5wdXNoKHBbMF0pfWZvcihsIGluIG0pYShtW2xdKS5hZGRDbGFzcyhsKS5jaGlsZHJlbihcIi51aS1idG4taW5uZXJcIikuYWRkQ2xhc3MobCk7Zi5maW5kKFwiaDEsIGgyLCBoMywgaDQsIGg1LCBoNlwiKS5hZGRDbGFzcyhcInVpLWxpLWhlYWRpbmdcIikuZW5kKCkuZmluZChcInAsIGRsXCIpLmFkZENsYXNzKFwidWktbGktZGVzY1wiKS5lbmQoKS5maW5kKFwiLnVpLWxpLWFzaWRlXCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IucHJlcGVuZFRvKGIucGFyZW50KCkpfSkuZW5kKCkuZmluZChcIi51aS1saS1jb3VudFwiKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS5jbG9zZXN0KFwibGlcIikuYWRkQ2xhc3MoXCJ1aS1saS1oYXMtY291bnRcIil9KS5hZGRDbGFzcyhcInVpLWJ0bi11cC1cIitcbihmLmpxbURhdGEoXCJjb3VudHRoZW1lXCIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrXCIgdWktYnRuLWNvcm5lci1hbGxcIik7dGhpcy5fYWRkVGh1bWJDbGFzc2VzKGopO3RoaXMuX2FkZFRodW1iQ2xhc3NlcyhmLmZpbmQoXCIudWktbGluay1pbmhlcml0XCIpKTt0aGlzLl9yZWZyZXNoQ29ybmVycyhiKX0sX2lkU3RyaW5nRXNjYXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLFwiLVwiKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGU9Yi5jbG9zZXN0KFwiLnVpLXBhZ2VcIiksZj1lLmpxbURhdGEoXCJ1cmxcIiksZD1mfHxlWzBdW2EuZXhwYW5kb10sZz1iLmF0dHIoXCJpZFwiKSxoPXRoaXMub3B0aW9ucyxqPVwiZGF0YS1cIithLm1vYmlsZS5ucyxrPXRoaXMsbT1lLmZpbmQoXCI6anFtRGF0YShyb2xlPSdmb290ZXInKVwiKS5qcW1EYXRhKFwiaWRcIikscDt0eXBlb2YgY1tkXT09PVwidW5kZWZpbmVkXCImJihjW2RdPS0xKTtnPWd8fFxuKytjW2RdO2EoYi5maW5kKFwibGk+dWwsIGxpPm9sXCIpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9YSh0aGlzKSxlPWQuYXR0cihcImlkXCIpfHxnK1wiLVwiK2MsYz1kLnBhcmVudCgpLGs9YShkLnByZXZBbGwoKS50b0FycmF5KCkucmV2ZXJzZSgpKSxrPWsubGVuZ3RoP2s6YShcIjxzcGFuPlwiK2EudHJpbShjLmNvbnRlbnRzKClbMF0ubm9kZVZhbHVlKStcIjwvc3Bhbj5cIiksbz1rLmZpcnN0KCkuZ2V0RW5jb2RlZFRleHQoKSxlPShmfHxcIlwiKStcIiZcIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5K1wiPVwiK2UseD1kLmpxbURhdGEoXCJ0aGVtZVwiKXx8aC50aGVtZSx1PWQuanFtRGF0YShcImNvdW50dGhlbWVcIil8fGIuanFtRGF0YShcImNvdW50dGhlbWVcIil8fGguY291bnRUaGVtZTtwPXRydWU7ZC5kZXRhY2goKS53cmFwKFwiPGRpdiBcIitqK1wicm9sZT0ncGFnZScgXCIraitcInVybD0nXCIrZStcIicgXCIraitcInRoZW1lPSdcIit4K1wiJyBcIitqK1wiY291bnQtdGhlbWU9J1wiK3UrXCInPjxkaXYgXCIrXG5qK1wicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+XCIpLnBhcmVudCgpLmJlZm9yZShcIjxkaXYgXCIraitcInJvbGU9J2hlYWRlcicgXCIraitcInRoZW1lPSdcIitoLmhlYWRlclRoZW1lK1wiJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+XCIrbytcIjwvZGl2PjwvZGl2PlwiKS5hZnRlcihtP2EoXCI8ZGl2IFwiK2orXCJyb2xlPSdmb290ZXInIFwiK2orXCJpZD0nXCIrbStcIic+XCIpOlwiXCIpLnBhcmVudCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKTtkPWMuZmluZChcImE6Zmlyc3RcIik7ZC5sZW5ndGh8fChkPWEoXCI8YS8+XCIpLmh0bWwoa3x8bykucHJlcGVuZFRvKGMuZW1wdHkoKSkpO2QuYXR0cihcImhyZWZcIixcIiNcIitlKX0pLmxpc3R2aWV3KCk7cCYmZS5pcyhcIjpqcW1EYXRhKGV4dGVybmFsLXBhZ2U9J3RydWUnKVwiKSYmZS5kYXRhKFwicGFnZVwiKS5vcHRpb25zLmRvbUNhY2hlPT09ZmFsc2UmJmUudW5iaW5kKFwicGFnZWhpZGUucmVtb3ZlXCIpLmJpbmQoXCJwYWdlaGlkZS5yZW1vdmVcIixmdW5jdGlvbihiLFxuYyl7dmFyIGQ9Yy5uZXh0UGFnZTtjLm5leHRQYWdlJiYoZD1kLmpxbURhdGEoXCJ1cmxcIiksZC5pbmRleE9mKGYrXCImXCIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSkhPT0wJiYoay5jaGlsZFBhZ2VzKCkucmVtb3ZlKCksZS5yZW1vdmUoKSkpfSl9LGNoaWxkUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnBhcmVudFBhZ2UuanFtRGF0YShcInVybFwiKTtyZXR1cm4gYShcIjpqcW1EYXRhKHVybF49J1wiK2IrXCImXCIrYS5tb2JpbGUuc3ViUGFnZVVybEtleStcIicpXCIpfX0pO2EoaykuYmluZChcInBhZ2VjcmVhdGUgY3JlYXRlXCIsZnVuY3Rpb24oYil7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLmVuaGFuY2VXaXRoaW4oYi50YXJnZXQpfSl9KShqUXVlcnkpOyhmdW5jdGlvbihhLGMpe2Eud2lkZ2V0KFwibW9iaWxlLmNoZWNrYm94cmFkaW9cIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaW5pdFNlbGVjdG9yOlwiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddXCJ9LFxuX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZT10aGlzLmVsZW1lbnQsZj1hKGUpLmNsb3Nlc3QoXCJsYWJlbFwiKSxkPWYubGVuZ3RoP2Y6YShlKS5jbG9zZXN0KFwiZm9ybSxmaWVsZHNldCw6anFtRGF0YShyb2xlPSdwYWdlJyksOmpxbURhdGEocm9sZT0nZGlhbG9nJylcIikuZmluZChcImxhYmVsXCIpLmZpbHRlcihcIltmb3I9J1wiK2VbMF0uaWQrXCInXVwiKSxnPWVbMF0udHlwZSxmPWUuanFtRGF0YShcIm1pbmlcIil8fGUuY2xvc2VzdChcImZvcm0sZmllbGRzZXRcIikuanFtRGF0YShcIm1pbmlcIiksaD1nK1wiLW9uXCIsaj1nK1wiLW9mZlwiLG89ZS5wYXJlbnRzKFwiOmpxbURhdGEodHlwZT0naG9yaXpvbnRhbCcpXCIpLmxlbmd0aD9jOmosbT1lLmpxbURhdGEoXCJpY29ucG9zXCIpfHxlLmNsb3Nlc3QoXCJmb3JtLGZpZWxkc2V0XCIpLmpxbURhdGEoXCJpY29ucG9zXCIpO2lmKCEoZyE9PVwiY2hlY2tib3hcIiYmZyE9PVwicmFkaW9cIikpe2EuZXh0ZW5kKHRoaXMse2xhYmVsOmQsaW5wdXR0eXBlOmcsY2hlY2tlZENsYXNzOlwidWktXCIrXG5oKyhvP1wiXCI6XCIgXCIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLHVuY2hlY2tlZENsYXNzOlwidWktXCIraixjaGVja2VkaWNvbjpcInVpLWljb24tXCIraCx1bmNoZWNrZWRpY29uOlwidWktaWNvbi1cIitqfSk7aWYoIXRoaXMub3B0aW9ucy50aGVtZSl0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LFwiY1wiKTtkLmJ1dHRvbk1hcmt1cCh7dGhlbWU6dGhpcy5vcHRpb25zLnRoZW1lLGljb246byxzaGFkb3c6ZmFsc2UsbWluaTpmLGljb25wb3M6bX0pO2Y9ay5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2YuY2xhc3NOYW1lPVwidWktXCIrZztlLmFkZChkKS53cmFwQWxsKGYpO2QuYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbihiKXthKHRoaXMpLnBhcmVudCgpLmlzKFwiLnVpLWRpc2FibGVkXCIpJiZiLnN0b3BQcm9wYWdhdGlvbigpfSx2Y2xpY2s6ZnVuY3Rpb24oYSl7aWYoZS5pcyhcIjpkaXNhYmxlZFwiKSlhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSByZXR1cm4gYi5fY2FjaGVWYWxzKCksXG5lLnByb3AoXCJjaGVja2VkXCIsZz09PVwicmFkaW9cIiYmdHJ1ZXx8IWUucHJvcChcImNoZWNrZWRcIikpLGUudHJpZ2dlckhhbmRsZXIoXCJjbGlja1wiKSxiLl9nZXRJbnB1dFNldCgpLm5vdChlKS5wcm9wKFwiY2hlY2tlZFwiLGZhbHNlKSxiLl91cGRhdGVBbGwoKSxmYWxzZX19KTtlLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXtiLl9jYWNoZVZhbHMoKX0sdmNsaWNrOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmlzKFwiOmNoZWNrZWRcIik/KGMucHJvcChcImNoZWNrZWRcIix0cnVlKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKFwiY2hlY2tlZFwiLGZhbHNlKSk6Yy5wcm9wKFwiY2hlY2tlZFwiLGZhbHNlKTtiLl91cGRhdGVBbGwoKX0sZm9jdXM6ZnVuY3Rpb24oKXtkLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KTt0aGlzLnJlZnJlc2goKX19LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoXCJjYWNoZVZhbFwiLFxudGhpcy5jaGVja2VkKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dHR5cGU9PT1cImNoZWNrYm94XCI/dGhpcy5lbGVtZW50OnRoaXMuZWxlbWVudC5jbG9zZXN0KFwiZm9ybSxmaWVsZHNldCw6anFtRGF0YShyb2xlPSdwYWdlJylcIikuZmluZChcImlucHV0W25hbWU9J1wiK3RoaXMuZWxlbWVudFswXS5uYW1lK1wiJ11bdHlwZT0nXCIrdGhpcy5pbnB1dHR5cGUrXCInXVwiKX0sX3VwZGF0ZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTsodGhpcy5jaGVja2VkfHxiLmlucHV0dHlwZT09PVwiY2hlY2tib3hcIikmJmMudHJpZ2dlcihcImNoYW5nZVwiKX0pLmNoZWNrYm94cmFkaW8oXCJyZWZyZXNoXCIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbGVtZW50WzBdLGM9dGhpcy5sYWJlbCxmPWMuZmluZChcIi51aS1pY29uXCIpO2EuY2hlY2tlZD8oYy5hZGRDbGFzcyh0aGlzLmNoZWNrZWRDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyksXG5mLmFkZENsYXNzKHRoaXMuY2hlY2tlZGljb24pLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpOihjLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxmLnJlbW92ZUNsYXNzKHRoaXMuY2hlY2tlZGljb24pLmFkZENsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpO2EuZGlzYWJsZWQ/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKFwiZGlzYWJsZWRcIix0cnVlKS5wYXJlbnQoKS5hZGRDbGFzcyhcInVpLWRpc2FibGVkXCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcChcImRpc2FibGVkXCIsZmFsc2UpLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwidWktZGlzYWJsZWRcIil9fSk7YShrKS5iaW5kKFwicGFnZWNyZWF0ZSBjcmVhdGVcIixmdW5jdGlvbihiKXthLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGIudGFyZ2V0LFxudHJ1ZSl9KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEsYyl7YS53aWRnZXQoXCJtb2JpbGUuYnV0dG9uXCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGljb246bnVsbCxpY29ucG9zOm51bGwsaW5saW5lOmZhbHNlLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZSxpY29uc2hhZG93OnRydWUsaW5pdFNlbGVjdG9yOlwiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddXCIsbWluaTpmYWxzZX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxlLGY9dGhpcy5vcHRpb25zLGQ7ZD1cIlwiO3ZhciBnO2lmKGJbMF0udGFnTmFtZT09PVwiQVwiKSFiLmhhc0NsYXNzKFwidWktYnRuXCIpJiZiLmJ1dHRvbk1hcmt1cCgpO2Vsc2V7aWYoIXRoaXMub3B0aW9ucy50aGVtZSl0aGlzLm9wdGlvbnMudGhlbWU9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUodGhpcy5lbGVtZW50LFwiY1wiKTt+YlswXS5jbGFzc05hbWUuaW5kZXhPZihcInVpLWJ0bi1sZWZ0XCIpJiZcbihkPVwidWktYnRuLWxlZnRcIik7fmJbMF0uY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1idG4tcmlnaHRcIikmJihkPVwidWktYnRuLXJpZ2h0XCIpO2U9dGhpcy5idXR0b249YShcIjxkaXY+PC9kaXY+XCIpLnRleHQoYi50ZXh0KCl8fGIudmFsKCkpLmluc2VydEJlZm9yZShiKS5idXR0b25NYXJrdXAoe3RoZW1lOmYudGhlbWUsaWNvbjpmLmljb24saWNvbnBvczpmLmljb25wb3MsaW5saW5lOmYuaW5saW5lLGNvcm5lcnM6Zi5jb3JuZXJzLHNoYWRvdzpmLnNoYWRvdyxpY29uc2hhZG93OmYuaWNvbnNoYWRvdyxtaW5pOmYubWluaX0pLmFkZENsYXNzKGQpLmFwcGVuZChiLmFkZENsYXNzKFwidWktYnRuLWhpZGRlblwiKSk7Zj1iLmF0dHIoXCJ0eXBlXCIpO2Q9Yi5hdHRyKFwibmFtZVwiKTtmIT09XCJidXR0b25cIiYmZiE9PVwicmVzZXRcIiYmZCYmYi5iaW5kKFwidmNsaWNrXCIsZnVuY3Rpb24oKXtnPT09YyYmKGc9YShcIjxpbnB1dD5cIix7dHlwZTpcImhpZGRlblwiLG5hbWU6Yi5hdHRyKFwibmFtZVwiKSx2YWx1ZTpiLmF0dHIoXCJ2YWx1ZVwiKX0pLmluc2VydEJlZm9yZShiKSxcbmEoaykub25lKFwic3VibWl0XCIsZnVuY3Rpb24oKXtnLnJlbW92ZSgpO2c9Y30pKX0pO2IuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXtlLmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxibHVyOmZ1bmN0aW9uKCl7ZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX19KTt0aGlzLnJlZnJlc2goKX19LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIixmYWxzZSk7dGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoXCJ1aS1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLGZhbHNlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKFwiZGlzYWJsZWRcIixmYWxzZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cihcImRpc2FibGVkXCIsdHJ1ZSk7dGhpcy5idXR0b24uYWRkQ2xhc3MoXCJ1aS1kaXNhYmxlZFwiKS5hdHRyKFwiYXJpYS1kaXNhYmxlZFwiLHRydWUpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oXCJkaXNhYmxlZFwiLHRydWUpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9XG50aGlzLmVsZW1lbnQ7Yi5wcm9wKFwiZGlzYWJsZWRcIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKTthKHRoaXMuYnV0dG9uLmRhdGEoXCJidXR0b25FbGVtZW50c1wiKS50ZXh0KS50ZXh0KGIudGV4dCgpfHxiLnZhbCgpKX19KTthKGspLmJpbmQoXCJwYWdlY3JlYXRlIGNyZWF0ZVwiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLmJ1dHRvbi5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCx0cnVlKX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7YS5mbi5jb250cm9sZ3JvdXA9ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gYihhLGIpe2EucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tY29ybmVyLWFsbCB1aS1zaGFkb3dcIikuZXEoMCkuYWRkQ2xhc3MoYlswXSkuZW5kKCkubGFzdCgpLmFkZENsYXNzKGJbMV0pLmFkZENsYXNzKFwidWktY29udHJvbGdyb3VwLWxhc3RcIil9cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBlPWEodGhpcyksZj1hLmV4dGVuZCh7ZGlyZWN0aW9uOmUuanFtRGF0YShcInR5cGVcIil8fFxuXCJ2ZXJ0aWNhbFwiLHNoYWRvdzpmYWxzZSxleGNsdWRlSW52aXNpYmxlOnRydWUsbWluaTplLmpxbURhdGEoXCJtaW5pXCIpfSxjKSxkPWUuY2hpbGRyZW4oXCJsZWdlbmRcIiksZz1mLmRpcmVjdGlvbj09XCJob3Jpem9udGFsXCI/W1widWktY29ybmVyLWxlZnRcIixcInVpLWNvcm5lci1yaWdodFwiXTpbXCJ1aS1jb3JuZXItdG9wXCIsXCJ1aS1jb3JuZXItYm90dG9tXCJdO2UuZmluZChcImlucHV0XCIpLmZpcnN0KCkuYXR0cihcInR5cGVcIik7ZC5sZW5ndGgmJihlLndyYXBJbm5lcihcIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+XCIpLGEoXCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPlwiK2QuaHRtbCgpK1wiPC9kaXY+XCIpLmluc2VydEJlZm9yZShlLmNoaWxkcmVuKDApKSxkLnJlbW92ZSgpKTtlLmFkZENsYXNzKFwidWktY29ybmVyLWFsbCB1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLVwiK2YuZGlyZWN0aW9uKTtiKGUuZmluZChcIi51aS1idG5cIitcbihmLmV4Y2x1ZGVJbnZpc2libGU/XCI6dmlzaWJsZVwiOlwiXCIpKS5ub3QoXCIudWktc2xpZGVyLWhhbmRsZVwiKSxnKTtiKGUuZmluZChcIi51aS1idG4taW5uZXJcIiksZyk7Zi5zaGFkb3cmJmUuYWRkQ2xhc3MoXCJ1aS1zaGFkb3dcIik7Zi5taW5pJiZlLmFkZENsYXNzKFwidWktbWluaVwiKX0pfX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEpe2EoaykuYmluZChcInBhZ2VjcmVhdGUgY3JlYXRlXCIsZnVuY3Rpb24oYyl7YShjLnRhcmdldCkuZmluZChcImFcIikuanFtRW5oYW5jZWFibGUoKS5ub3QoXCIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKVwiKS5hZGRDbGFzcyhcInVpLWxpbmtcIil9KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEpe3ZhciBjPWEoXCJtZXRhW25hbWU9dmlld3BvcnRdXCIpLGI9Yy5hdHRyKFwiY29udGVudFwiKSxlPWIrXCIsbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vXCIsZj1iK1wiLG1heGltdW0tc2NhbGU9MTAsIHVzZXItc2NhbGFibGU9eWVzXCIsXG5kPS8odXNlci1zY2FsYWJsZVtcXHNdKj1bXFxzXSpubyl8KG1heGltdW0tc2NhbGVbXFxzXSo9W1xcc10qMSlbJCxcXHNdLy50ZXN0KGIpO2EubW9iaWxlLnpvb209YS5leHRlbmQoe30se2VuYWJsZWQ6IWQsbG9ja2VkOmZhbHNlLGRpc2FibGU6ZnVuY3Rpb24oYil7aWYoIWQmJiFhLm1vYmlsZS56b29tLmxvY2tlZCljLmF0dHIoXCJjb250ZW50XCIsZSksYS5tb2JpbGUuem9vbS5lbmFibGVkPWZhbHNlLGEubW9iaWxlLnpvb20ubG9ja2VkPWJ8fGZhbHNlfSxlbmFibGU6ZnVuY3Rpb24oYil7aWYoIWQmJighYS5tb2JpbGUuem9vbS5sb2NrZWR8fGI9PT10cnVlKSljLmF0dHIoXCJjb250ZW50XCIsZiksYS5tb2JpbGUuem9vbS5lbmFibGVkPXRydWUsYS5tb2JpbGUuem9vbS5sb2NrZWQ9ZmFsc2V9LHJlc3RvcmU6ZnVuY3Rpb24oKXtpZighZCljLmF0dHIoXCJjb250ZW50XCIsYiksYS5tb2JpbGUuem9vbS5lbmFibGVkPXRydWV9fSl9KShqUXVlcnkpOyhmdW5jdGlvbihhKXthLndpZGdldChcIm1vYmlsZS50ZXh0aW5wdXRcIixcbmEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkFwcGxlV2ViS2l0XCIpPi0xLGluaXRTZWxlY3RvcjpcImlucHV0W3R5cGU9J3RleHQnXSwgaW5wdXRbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLCBpbnB1dFt0eXBlPSdudW1iZXInXSwgOmpxbURhdGEodHlwZT0nbnVtYmVyJyksIGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10sIGlucHV0W3R5cGU9J2VtYWlsJ10sIGlucHV0W3R5cGU9J3VybCddLCBpbnB1dFt0eXBlPSd0ZWwnXSwgdGV4dGFyZWEsIGlucHV0W3R5cGU9J3RpbWUnXSwgaW5wdXRbdHlwZT0nZGF0ZSddLCBpbnB1dFt0eXBlPSdtb250aCddLCBpbnB1dFt0eXBlPSd3ZWVrJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lJ10sIGlucHV0W3R5cGU9J2RhdGV0aW1lLWxvY2FsJ10sIGlucHV0W3R5cGU9J2NvbG9yJ10sIGlucHV0Om5vdChbdHlwZV0pXCIsXG5jbGVhclNlYXJjaEJ1dHRvblRleHQ6XCJjbGVhciB0ZXh0XCJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnMsZT1iLnRoZW1lfHxhLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLmVsZW1lbnQsXCJjXCIpLGY9XCIgdWktYm9keS1cIitlLGQ9Yy5qcW1EYXRhKFwibWluaVwiKT09dHJ1ZSxnPWQ/XCIgdWktbWluaVwiOlwiXCIsaCxqO2EoXCJsYWJlbFtmb3I9J1wiK2MuYXR0cihcImlkXCIpK1wiJ11cIikuYWRkQ2xhc3MoXCJ1aS1pbnB1dC10ZXh0XCIpO2g9Yy5hZGRDbGFzcyhcInVpLWlucHV0LXRleHQgdWktYm9keS1cIitlKTt0eXBlb2YgY1swXS5hdXRvY29ycmVjdCE9PVwidW5kZWZpbmVkXCImJiFhLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmKGNbMF0uc2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIixcIm9mZlwiKSxjWzBdLnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpKTtjLmlzKFwiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpXCIpP1xuKGg9Yy53cmFwKFwiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGRcIitmK2crXCInPjwvZGl2PlwiKS5wYXJlbnQoKSxqPWEoXCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSdcIitiLmNsZWFyU2VhcmNoQnV0dG9uVGV4dCtcIic+XCIrYi5jbGVhclNlYXJjaEJ1dHRvblRleHQrXCI8L2E+XCIpLmJpbmQoXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2MudmFsKFwiXCIpLmZvY3VzKCkudHJpZ2dlcihcImNoYW5nZVwiKTtqLmFkZENsYXNzKFwidWktaW5wdXQtY2xlYXItaGlkZGVuXCIpO2EucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGgpLmJ1dHRvbk1hcmt1cCh7aWNvbjpcImRlbGV0ZVwiLGljb25wb3M6XCJub3RleHRcIixjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsbWluaTpkfSksZT1mdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtqLnRvZ2dsZUNsYXNzKFwidWktaW5wdXQtY2xlYXItaGlkZGVuXCIsXG4hYy52YWwoKSl9LDApfSxlKCksYy5iaW5kKFwicGFzdGUgY3V0IGtleXVwIGZvY3VzIGNoYW5nZSBibHVyXCIsZSkpOmMuYWRkQ2xhc3MoXCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldFwiK2YrZyk7Yy5mb2N1cyhmdW5jdGlvbigpe2guYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5ibHVyKGZ1bmN0aW9uKCl7aC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5mb2N1c0NsYXNzKX0pLmJpbmQoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7Yi5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSl9KS5iaW5kKFwiYmx1clwiLGZ1bmN0aW9uKCl7Yi5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSh0cnVlKX0pO2lmKGMuaXMoXCJ0ZXh0YXJlYVwiKSl7dmFyIG89ZnVuY3Rpb24oKXt2YXIgYT1jWzBdLnNjcm9sbEhlaWdodDtjWzBdLmNsaWVudEhlaWdodDxhJiZjLmhlaWdodChhKzE1KX0sbTtjLmtleXVwKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG0pO1xubT1zZXRUaW1lb3V0KG8sMTAwKX0pO2Eoaykub25lKFwicGFnZWNoYW5nZVwiLG8pO2EudHJpbShjLnZhbCgpKSYmYShzKS5sb2FkKG8pfX0sZGlzYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cihcImRpc2FibGVkXCIsdHJ1ZSkuaXMoXCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJylcIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoXCJ1aS1kaXNhYmxlZFwiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7KHRoaXMuZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIixmYWxzZSkuaXMoXCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJylcIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoXCJ1aS1kaXNhYmxlZFwiKX19KTthKGspLmJpbmQoXCJwYWdlY3JlYXRlIGNyZWF0ZVwiLGZ1bmN0aW9uKGMpe2EubW9iaWxlLnRleHRpbnB1dC5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihjLnRhcmdldCxcbnRydWUpfSl9KShqUXVlcnkpOyhmdW5jdGlvbihhKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXI9ZmFsc2U7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXI9XCJGaWx0ZXIgaXRlbXMuLi5cIjthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJUaGVtZT1cImNcIjthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiKT09PS0xfTthKGspLmRlbGVnYXRlKFwiOmpxbURhdGEocm9sZT0nbGlzdHZpZXcnKVwiLFwibGlzdHZpZXdjcmVhdGVcIixmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksYj1jLmRhdGEoXCJsaXN0dmlld1wiKTtpZihiLm9wdGlvbnMuZmlsdGVyKXt2YXIgZT1hKFwiPGZvcm0+XCIse1wiY2xhc3NcIjpcInVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItXCIrYi5vcHRpb25zLmZpbHRlclRoZW1lLFxucm9sZTpcInNlYXJjaFwifSk7YShcIjxpbnB1dD5cIix7cGxhY2Vob2xkZXI6Yi5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cihcImRhdGEtXCIrYS5tb2JpbGUubnMrXCJ0eXBlXCIsXCJzZWFyY2hcIikuanFtRGF0YShcImxhc3R2YWxcIixcIlwiKS5iaW5kKFwia2V5dXAgY2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgZT1hKHRoaXMpLGQ9dGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpLGc9bnVsbCxnPWUuanFtRGF0YShcImxhc3R2YWxcIikrXCJcIixoPWZhbHNlLGo9XCJcIjtlLmpxbURhdGEoXCJsYXN0dmFsXCIsZCk7Zz1kLmxlbmd0aDxnLmxlbmd0aHx8ZC5pbmRleE9mKGcpIT09MD9jLmNoaWxkcmVuKCk6Yy5jaGlsZHJlbihcIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pXCIpO2lmKGQpe2Zvcih2YXIgaz1nLmxlbmd0aC0xO2s+PTA7ay0tKWU9YShnW2tdKSxqPWUuanFtRGF0YShcImZpbHRlcnRleHRcIil8fGUudGV4dCgpLGUuaXMoXCJsaTpqcW1EYXRhKHJvbGU9bGlzdC1kaXZpZGVyKVwiKT8oZS50b2dnbGVDbGFzcyhcInVpLWZpbHRlci1oaWRlcXVldWVcIixcbiFoKSxoPWZhbHNlKTpiLm9wdGlvbnMuZmlsdGVyQ2FsbGJhY2soaixkKT9lLnRvZ2dsZUNsYXNzKFwidWktZmlsdGVyLWhpZGVxdWV1ZVwiLHRydWUpOmg9dHJ1ZTtnLmZpbHRlcihcIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpXCIpLnRvZ2dsZUNsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiLGZhbHNlKTtnLmZpbHRlcihcIi51aS1maWx0ZXItaGlkZXF1ZXVlXCIpLnRvZ2dsZUNsYXNzKFwidWktc2NyZWVuLWhpZGRlblwiLHRydWUpLnRvZ2dsZUNsYXNzKFwidWktZmlsdGVyLWhpZGVxdWV1ZVwiLGZhbHNlKX1lbHNlIGcudG9nZ2xlQ2xhc3MoXCJ1aS1zY3JlZW4taGlkZGVuXCIsZmFsc2UpO2IuX3JlZnJlc2hDb3JuZXJzKCl9KS5hcHBlbmRUbyhlKS50ZXh0aW5wdXQoKTtiLm9wdGlvbnMuaW5zZXQmJmUuYWRkQ2xhc3MoXCJ1aS1saXN0dmlldy1maWx0ZXItaW5zZXRcIik7ZS5iaW5kKFwic3VibWl0XCIsZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9KS5pbnNlcnRCZWZvcmUoYyl9fSl9KShqUXVlcnkpOyhmdW5jdGlvbihhLFxuYyl7YS53aWRnZXQoXCJtb2JpbGUuc2xpZGVyXCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDpmYWxzZSxpbml0U2VsZWN0b3I6XCJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKVwiLG1pbmk6ZmFsc2V9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGU9dGhpcy5lbGVtZW50LGY9YS5tb2JpbGUuZ2V0SW5oZXJpdGVkVGhlbWUoZSxcImNcIiksZD10aGlzLm9wdGlvbnMudGhlbWV8fGYsZj10aGlzLm9wdGlvbnMudHJhY2tUaGVtZXx8ZixnPWVbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxoPWc9PVwic2VsZWN0XCI/XCJ1aS1zbGlkZXItc3dpdGNoXCI6XCJcIixqPWUuYXR0cihcImlkXCIpLG89aitcIi1sYWJlbFwiLGo9YShcIltmb3I9J1wiK2orXCInXVwiKS5hdHRyKFwiaWRcIixvKSxtPWZ1bmN0aW9uKCl7cmV0dXJuIGc9PVwiaW5wdXRcIj9wYXJzZUZsb2F0KGUudmFsKCkpOlxuZVswXS5zZWxlY3RlZEluZGV4fSxwPWc9PVwiaW5wdXRcIj9wYXJzZUZsb2F0KGUuYXR0cihcIm1pblwiKSk6MCxsPWc9PVwiaW5wdXRcIj9wYXJzZUZsb2F0KGUuYXR0cihcIm1heFwiKSk6ZS5maW5kKFwib3B0aW9uXCIpLmxlbmd0aC0xLHI9cy5wYXJzZUZsb2F0KGUuYXR0cihcInN0ZXBcIil8fDEpLG49dGhpcy5vcHRpb25zLmlubGluZXx8ZS5qcW1EYXRhKFwiaW5saW5lXCIpPT10cnVlP1wiIHVpLXNsaWRlci1pbmxpbmVcIjpcIlwiLHE9dGhpcy5vcHRpb25zLm1pbml8fGUuanFtRGF0YShcIm1pbmlcIik/XCIgdWktc2xpZGVyLW1pbmlcIjpcIlwiLHQ9ay5jcmVhdGVFbGVtZW50KFwiYVwiKSx4PWEodCksdT1rLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdz1hKHUpLHY9ZS5qcW1EYXRhKFwiaGlnaGxpZ2h0XCIpJiZnIT1cInNlbGVjdFwiP2Z1bmN0aW9uKCl7dmFyIGI9ay5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2IuY2xhc3NOYW1lPVwidWktc2xpZGVyLWJnIHVpLWJ0bi1hY3RpdmUgdWktYnRuLWNvcm5lci1hbGxcIjtyZXR1cm4gYShiKS5wcmVwZW5kVG8odyl9KCk6XG5mYWxzZTt0LnNldEF0dHJpYnV0ZShcImhyZWZcIixcIiNcIik7dS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhcHBsaWNhdGlvblwiKTt1LmNsYXNzTmFtZT1bXCJ1aS1zbGlkZXIgXCIsaCxcIiB1aS1idG4tZG93bi1cIixmLFwiIHVpLWJ0bi1jb3JuZXItYWxsXCIsbixxXS5qb2luKFwiXCIpO3QuY2xhc3NOYW1lPVwidWktc2xpZGVyLWhhbmRsZVwiO3UuYXBwZW5kQ2hpbGQodCk7eC5idXR0b25NYXJrdXAoe2Nvcm5lcnM6dHJ1ZSx0aGVtZTpkLHNoYWRvdzp0cnVlfSkuYXR0cih7cm9sZTpcInNsaWRlclwiLFwiYXJpYS12YWx1ZW1pblwiOnAsXCJhcmlhLXZhbHVlbWF4XCI6bCxcImFyaWEtdmFsdWVub3dcIjptKCksXCJhcmlhLXZhbHVldGV4dFwiOm0oKSx0aXRsZTptKCksXCJhcmlhLWxhYmVsbGVkYnlcIjpvfSk7YS5leHRlbmQodGhpcyx7c2xpZGVyOncsaGFuZGxlOngsdmFsdWViZzp2LGRyYWdnaW5nOmZhbHNlLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOmZhbHNlLG1vdXNlTW92ZWQ6ZmFsc2V9KTtpZihnPT1cInNlbGVjdFwiKXtkPVxuay5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2QuY2xhc3NOYW1lPVwidWktc2xpZGVyLWlubmVyb2Zmc2V0XCI7aD0wO2ZvcihvPXUuY2hpbGROb2Rlcy5sZW5ndGg7aDxvO2grKylkLmFwcGVuZENoaWxkKHUuY2hpbGROb2Rlc1toXSk7dS5hcHBlbmRDaGlsZChkKTt4LmFkZENsYXNzKFwidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZ1wiKTt1PWUuZmluZChcIm9wdGlvblwiKTtkPTA7Zm9yKGg9dS5sZW5ndGg7ZDxoO2QrKylvPSFkP1wiYlwiOlwiYVwiLG49IWQ/XCIgdWktYnRuLWRvd24tXCIrZjpcIiBcIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyxrLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscT1rLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpLHEuY2xhc3NOYW1lPVtcInVpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtXCIsbyxuLFwiIHVpLWJ0bi1jb3JuZXItYWxsXCJdLmpvaW4oXCJcIikscS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJpbWdcIikscS5hcHBlbmRDaGlsZChrLmNyZWF0ZVRleHROb2RlKHVbZF0uaW5uZXJIVE1MKSksXG5hKHEpLnByZXBlbmRUbyh3KTtiLl9sYWJlbHM9YShcIi51aS1zbGlkZXItbGFiZWxcIix3KX1qLmFkZENsYXNzKFwidWktc2xpZGVyXCIpO2UuYWRkQ2xhc3MoZz09PVwiaW5wdXRcIj9cInVpLXNsaWRlci1pbnB1dFwiOlwidWktc2xpZGVyLXN3aXRjaFwiKS5jaGFuZ2UoZnVuY3Rpb24oKXtiLm1vdXNlTW92ZWR8fGIucmVmcmVzaChtKCksdHJ1ZSl9KS5rZXl1cChmdW5jdGlvbigpe2IucmVmcmVzaChtKCksdHJ1ZSx0cnVlKX0pLmJsdXIoZnVuY3Rpb24oKXtiLnJlZnJlc2gobSgpLHRydWUpfSk7YShrKS5iaW5kKFwidm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGEpe2lmKGIuZHJhZ2dpbmcpcmV0dXJuIGIubW91c2VNb3ZlZD10cnVlLGc9PT1cInNlbGVjdFwiJiZ4LnJlbW92ZUNsYXNzKFwidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZ1wiKSxiLnJlZnJlc2goYSksYi51c2VyTW9kaWZpZWQ9Yi5iZWZvcmVTdGFydCE9PWVbMF0uc2VsZWN0ZWRJbmRleCxmYWxzZX0pO3cuYmluZChcInZtb3VzZWRvd25cIixmdW5jdGlvbihhKXtiLmRyYWdnaW5nPVxudHJ1ZTtiLnVzZXJNb2RpZmllZD1mYWxzZTtiLm1vdXNlTW92ZWQ9ZmFsc2U7aWYoZz09PVwic2VsZWN0XCIpYi5iZWZvcmVTdGFydD1lWzBdLnNlbGVjdGVkSW5kZXg7Yi5yZWZyZXNoKGEpO3JldHVybiBmYWxzZX0pLmJpbmQoXCJ2Y2xpY2tcIixmYWxzZSk7dy5hZGQoaykuYmluZChcInZtb3VzZXVwXCIsZnVuY3Rpb24oKXtpZihiLmRyYWdnaW5nKXJldHVybiBiLmRyYWdnaW5nPWZhbHNlLGc9PT1cInNlbGVjdFwiJiYoeC5hZGRDbGFzcyhcInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmdcIiksYi5tb3VzZU1vdmVkP2IudXNlck1vZGlmaWVkP2IucmVmcmVzaChiLmJlZm9yZVN0YXJ0PT0wPzE6MCk6Yi5yZWZyZXNoKGIuYmVmb3JlU3RhcnQpOmIucmVmcmVzaChiLmJlZm9yZVN0YXJ0PT0wPzE6MCkpLGIubW91c2VNb3ZlZD1mYWxzZX0pO3cuaW5zZXJ0QWZ0ZXIoZSk7Zz09XCJzZWxlY3RcIiYmdGhpcy5oYW5kbGUuYmluZCh7Zm9jdXM6ZnVuY3Rpb24oKXt3LmFkZENsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfSxcbmJsdXI6ZnVuY3Rpb24oKXt3LnJlbW92ZUNsYXNzKGEubW9iaWxlLmZvY3VzQ2xhc3MpfX0pO3RoaXMuaGFuZGxlLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oKXthKHRoaXMpLmZvY3VzKCl9LHZjbGljazpmYWxzZSxrZXlkb3duOmZ1bmN0aW9uKGMpe3ZhciBkPW0oKTtpZighYi5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDppZihjLnByZXZlbnREZWZhdWx0KCksIWIuX2tleVNsaWRpbmcpYi5fa2V5U2xpZGluZz10cnVlLGEodGhpcykuYWRkQ2xhc3MoXCJ1aS1zdGF0ZS1hY3RpdmVcIil9c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Yi5yZWZyZXNoKHApO1xuYnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpiLnJlZnJlc2gobCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpiLnJlZnJlc2goZCtyKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucmVmcmVzaChkLXIpfX19LGtleXVwOmZ1bmN0aW9uKCl7aWYoYi5fa2V5U2xpZGluZyliLl9rZXlTbGlkaW5nPWZhbHNlLGEodGhpcykucmVtb3ZlQ2xhc3MoXCJ1aS1zdGF0ZS1hY3RpdmVcIil9fSk7dGhpcy5yZWZyZXNoKGMsYyx0cnVlKX0scmVmcmVzaDpmdW5jdGlvbihiLGMsZil7KHRoaXMub3B0aW9ucy5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKSkmJnRoaXMuZGlzYWJsZSgpO3ZhciBkPXRoaXMuZWxlbWVudCxnPWRbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcbmg9Zz09PVwiaW5wdXRcIj9wYXJzZUZsb2F0KGQuYXR0cihcIm1pblwiKSk6MCxqPWc9PT1cImlucHV0XCI/cGFyc2VGbG9hdChkLmF0dHIoXCJtYXhcIikpOmQuZmluZChcIm9wdGlvblwiKS5sZW5ndGgtMSxrPWc9PT1cImlucHV0XCImJnBhcnNlRmxvYXQoZC5hdHRyKFwic3RlcFwiKSk+MD9wYXJzZUZsb2F0KGQuYXR0cihcInN0ZXBcIikpOjE7aWYodHlwZW9mIGI9PT1cIm9iamVjdFwiKXtpZighdGhpcy5kcmFnZ2luZ3x8Yi5wYWdlWDx0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LTh8fGIucGFnZVg+dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCt0aGlzLnNsaWRlci53aWR0aCgpKzgpcmV0dXJuO2I9TWF0aC5yb3VuZCgoYi5wYWdlWC10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0KS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCl9ZWxzZSBiPT1udWxsJiYoYj1nPT09XCJpbnB1dFwiP3BhcnNlRmxvYXQoZC52YWwoKXx8MCk6ZFswXS5zZWxlY3RlZEluZGV4KSxiPShwYXJzZUZsb2F0KGIpLWgpLyhqLWgpKjEwMDtpZighaXNOYU4oYikpe2I8XG4wJiYoYj0wKTtiPjEwMCYmKGI9MTAwKTt2YXIgbT1iLzEwMCooai1oKStoLHA9KG0taCklazttLT1wO01hdGguYWJzKHApKjI+PWsmJihtKz1wPjA/azotayk7bT1wYXJzZUZsb2F0KG0udG9GaXhlZCg1KSk7bTxoJiYobT1oKTttPmomJihtPWopO3RoaXMuaGFuZGxlLmNzcyhcImxlZnRcIixiK1wiJVwiKTt0aGlzLmhhbmRsZS5hdHRyKHtcImFyaWEtdmFsdWVub3dcIjpnPT09XCJpbnB1dFwiP206ZC5maW5kKFwib3B0aW9uXCIpLmVxKG0pLmF0dHIoXCJ2YWx1ZVwiKSxcImFyaWEtdmFsdWV0ZXh0XCI6Zz09PVwiaW5wdXRcIj9tOmQuZmluZChcIm9wdGlvblwiKS5lcShtKS5nZXRFbmNvZGVkVGV4dCgpLHRpdGxlOmc9PT1cImlucHV0XCI/bTpkLmZpbmQoXCJvcHRpb25cIikuZXEobSkuZ2V0RW5jb2RlZFRleHQoKX0pO3RoaXMudmFsdWViZyYmdGhpcy52YWx1ZWJnLmNzcyhcIndpZHRoXCIsYitcIiVcIik7aWYodGhpcy5fbGFiZWxzKXt2YXIgaD10aGlzLmhhbmRsZS53aWR0aCgpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwLFxubD1iJiZoKygxMDAtaCkqYi8xMDAscj1iPT09MTAwPzA6TWF0aC5taW4oaCsxMDAtbCwxMDApO3RoaXMuX2xhYmVscy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5pcyhcIi51aS1zbGlkZXItbGFiZWwtYVwiKTthKHRoaXMpLndpZHRoKChiP2w6cikrXCIlXCIpfSl9aWYoIWYpZj1mYWxzZSxnPT09XCJpbnB1dFwiPyhmPWQudmFsKCkhPT1tLGQudmFsKG0pKTooZj1kWzBdLnNlbGVjdGVkSW5kZXghPT1tLGRbMF0uc2VsZWN0ZWRJbmRleD1tKSwhYyYmZiYmZC50cmlnZ2VyKFwiY2hhbmdlXCIpfX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiLGZhbHNlKTt0aGlzLnNsaWRlci5yZW1vdmVDbGFzcyhcInVpLWRpc2FibGVkXCIpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsZmFsc2UpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oXCJkaXNhYmxlZFwiLGZhbHNlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIix0cnVlKTt0aGlzLnNsaWRlci5hZGRDbGFzcyhcInVpLWRpc2FibGVkXCIpLmF0dHIoXCJhcmlhLWRpc2FibGVkXCIsXG50cnVlKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKFwiZGlzYWJsZWRcIix0cnVlKX19KTthKGspLmJpbmQoXCJwYWdlY3JlYXRlIGNyZWF0ZVwiLGZ1bmN0aW9uKGIpe2EubW9iaWxlLnNsaWRlci5wcm90b3R5cGUuZW5oYW5jZVdpdGhpbihiLnRhcmdldCx0cnVlKX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoXCJtb2JpbGUuc2VsZWN0bWVudVwiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDpmYWxzZSxpY29uOlwiYXJyb3ctZFwiLGljb25wb3M6XCJyaWdodFwiLGlubGluZTpmYWxzZSxjb3JuZXJzOnRydWUsc2hhZG93OnRydWUsaWNvbnNoYWRvdzp0cnVlLG92ZXJsYXlUaGVtZTpcImFcIixoaWRlUGxhY2Vob2xkZXJNZW51SXRlbXM6dHJ1ZSxjbG9zZVRleHQ6XCJDbG9zZVwiLG5hdGl2ZU1lbnU6dHJ1ZSxwcmV2ZW50Rm9jdXNab29tOi9pUGhvbmV8aVBhZHxpUG9kLy50ZXN0KG5hdmlnYXRvci5wbGF0Zm9ybSkmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkFwcGxlV2ViS2l0XCIpPlxuLTEsaW5pdFNlbGVjdG9yOlwic2VsZWN0Om5vdCg6anFtRGF0YShyb2xlPSdzbGlkZXInKSlcIixtaW5pOmZhbHNlfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoXCI8ZGl2Lz5cIil9LF9zZXREaXNhYmxlZDpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuYXR0cihcImRpc2FibGVkXCIsYSk7dGhpcy5idXR0b24uYXR0cihcImFyaWEtZGlzYWJsZWRcIixhKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKFwiZGlzYWJsZWRcIixhKX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxfc2VsZWN0T3B0aW9uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdC5maW5kKFwib3B0aW9uXCIpfSxfcHJlRXh0ZW5zaW9uOmZ1bmN0aW9uKCl7dmFyIGM9XCJcIjt+dGhpcy5lbGVtZW50WzBdLmNsYXNzTmFtZS5pbmRleE9mKFwidWktYnRuLWxlZnRcIikmJihjPVwiIHVpLWJ0bi1sZWZ0XCIpO350aGlzLmVsZW1lbnRbMF0uY2xhc3NOYW1lLmluZGV4T2YoXCJ1aS1idG4tcmlnaHRcIikmJlxuKGM9XCIgdWktYnRuLXJpZ2h0XCIpO3RoaXMuc2VsZWN0PXRoaXMuZWxlbWVudC53cmFwKFwiPGRpdiBjbGFzcz0ndWktc2VsZWN0XCIrYytcIic+XCIpO3RoaXMuc2VsZWN0SUQ9dGhpcy5zZWxlY3QuYXR0cihcImlkXCIpO3RoaXMubGFiZWw9YShcImxhYmVsW2Zvcj0nXCIrdGhpcy5zZWxlY3RJRCtcIiddXCIpLmFkZENsYXNzKFwidWktc2VsZWN0XCIpO3RoaXMuaXNNdWx0aXBsZT10aGlzLnNlbGVjdFswXS5tdWx0aXBsZTtpZighdGhpcy5vcHRpb25zLnRoZW1lKXRoaXMub3B0aW9ucy50aGVtZT1hLm1vYmlsZS5nZXRJbmhlcml0ZWRUaGVtZSh0aGlzLnNlbGVjdCxcImNcIil9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl9wcmVFeHRlbnNpb24oKTt0aGlzLl90cmlnZ2VyKFwiYmVmb3JlQ3JlYXRlXCIpO3RoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBjPXRoaXMsYj10aGlzLm9wdGlvbnMsZT10aGlzLmJ1dHRvbi50ZXh0KGEodGhpcy5zZWxlY3RbMF0ub3B0aW9ucy5pdGVtKHRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXg9PVxuLTE/MDp0aGlzLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4KSkudGV4dCgpKS5pbnNlcnRCZWZvcmUodGhpcy5zZWxlY3QpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yi50aGVtZSxpY29uOmIuaWNvbixpY29ucG9zOmIuaWNvbnBvcyxpbmxpbmU6Yi5pbmxpbmUsY29ybmVyczpiLmNvcm5lcnMsc2hhZG93OmIuc2hhZG93LGljb25zaGFkb3c6Yi5pY29uc2hhZG93LG1pbmk6Yi5taW5pfSk7Yi5uYXRpdmVNZW51JiZzLm9wZXJhJiZzLm9wZXJhLnZlcnNpb24mJnRoaXMuc2VsZWN0LmFkZENsYXNzKFwidWktc2VsZWN0LW5hdGl2ZW9ubHlcIik7aWYodGhpcy5pc011bHRpcGxlKXRoaXMuYnV0dG9uQ291bnQ9YShcIjxzcGFuPlwiKS5hZGRDbGFzcyhcInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsXCIpLmhpZGUoKS5hcHBlbmRUbyhlLmFkZENsYXNzKFwidWktbGktaGFzLWNvdW50XCIpKTsoYi5kaXNhYmxlZHx8dGhpcy5lbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKSkmJnRoaXMuZGlzYWJsZSgpO1xudGhpcy5zZWxlY3QuY2hhbmdlKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCl9KTt0aGlzLmJ1aWxkKCl9LGJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGM9dGhpczt0aGlzLnNlbGVjdC5hcHBlbmRUbyhjLmJ1dHRvbikuYmluZChcInZtb3VzZWRvd25cIixmdW5jdGlvbigpe2MuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7Yy5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKFwiYmx1clwiLGZ1bmN0aW9uKCl7Yy5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuZm9jdXNDbGFzcyl9KS5iaW5kKFwiZm9jdXMgdm1vdXNlb3ZlclwiLGZ1bmN0aW9uKCl7Yy5idXR0b24udHJpZ2dlcihcInZtb3VzZW92ZXJcIil9KS5iaW5kKFwidm1vdXNlbW92ZVwiLGZ1bmN0aW9uKCl7Yy5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZChcImNoYW5nZSBibHVyIHZtb3VzZW91dFwiLGZ1bmN0aW9uKCl7Yy5idXR0b24udHJpZ2dlcihcInZtb3VzZW91dFwiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKFwiY2hhbmdlIGJsdXJcIixcbmZ1bmN0aW9uKCl7Yy5idXR0b24ucmVtb3ZlQ2xhc3MoXCJ1aS1idG4tZG93bi1cIitjLm9wdGlvbnMudGhlbWUpfSk7Yy5idXR0b24uYmluZChcInZtb3VzZWRvd25cIixmdW5jdGlvbigpe2Mub3B0aW9ucy5wcmV2ZW50Rm9jdXNab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSl9KS5iaW5kKFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7Yy5vcHRpb25zLnByZXZlbnRGb2N1c1pvb20mJmEubW9iaWxlLnpvb20uZW5hYmxlKHRydWUpfSl9LHNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdE9wdGlvbnMoKS5maWx0ZXIoXCI6c2VsZWN0ZWRcIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5fc2VsZWN0T3B0aW9ucygpLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9dGhpcy5zZWxlY3RlZCgpO3RoaXMuYnV0dG9uLmZpbmQoXCIudWktYnRuLXRleHRcIikudGV4dChmdW5jdGlvbigpe3JldHVybiFjLmlzTXVsdGlwbGU/XG5iLnRleHQoKTpiLmxlbmd0aD9iLm1hcChmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLnRleHQoKX0pLmdldCgpLmpvaW4oXCIsIFwiKTpjLnBsYWNlaG9sZGVyfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xP1wic2hvd1wiOlwiaGlkZVwiXSgpLnRleHQoYS5sZW5ndGgpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5zZXRCdXR0b25UZXh0KCk7dGhpcy5zZXRCdXR0b25Db3VudCgpfSxvcGVuOmEubm9vcCxjbG9zZTphLm5vb3AsZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKHRydWUpO3RoaXMuYnV0dG9uLmFkZENsYXNzKFwidWktZGlzYWJsZWRcIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKGZhbHNlKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcyhcInVpLWRpc2FibGVkXCIpfX0pO2EoaykuYmluZChcInBhZ2VjcmVhdGUgY3JlYXRlXCIsXG5mdW5jdGlvbihjKXthLm1vYmlsZS5zZWxlY3RtZW51LnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGMudGFyZ2V0LHRydWUpfSl9KShqUXVlcnkpOyhmdW5jdGlvbihhKXt2YXIgYz1mdW5jdGlvbihiKXt2YXIgYz1iLnNlbGVjdElELGY9Yi5sYWJlbCxkPWIuc2VsZWN0LmNsb3Nlc3QoXCIudWktcGFnZVwiKSxnPWEoXCI8ZGl2PlwiLHtcImNsYXNzXCI6XCJ1aS1zZWxlY3RtZW51LXNjcmVlbiB1aS1zY3JlZW4taGlkZGVuXCJ9KS5hcHBlbmRUbyhkKSxoPWIuX3NlbGVjdE9wdGlvbnMoKSxqPWIuaXNNdWx0aXBsZT1iLnNlbGVjdFswXS5tdWx0aXBsZSxvPWMrXCItYnV0dG9uXCIsbT1jK1wiLW1lbnVcIixwPWEoXCI8ZGl2IGRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdkaWFsb2cnIGRhdGEtXCIrYS5tb2JpbGUubnMrXCJ0aGVtZT0nXCIrYi5vcHRpb25zLnRoZW1lK1wiJyBkYXRhLVwiK2EubW9iaWxlLm5zK1wib3ZlcmxheS10aGVtZT0nXCIrYi5vcHRpb25zLm92ZXJsYXlUaGVtZStcIic+PGRpdiBkYXRhLVwiK2EubW9iaWxlLm5zK1xuXCJyb2xlPSdoZWFkZXInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz5cIitmLmdldEVuY29kZWRUZXh0KCkrXCI8L2Rpdj48L2Rpdj48ZGl2IGRhdGEtXCIrYS5tb2JpbGUubnMrXCJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj5cIiksbD1hKFwiPGRpdj5cIix7XCJjbGFzc1wiOlwidWktc2VsZWN0bWVudSB1aS1zZWxlY3RtZW51LWhpZGRlbiB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktXCIrYi5vcHRpb25zLm92ZXJsYXlUaGVtZStcIiBcIithLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pLmluc2VydEFmdGVyKGcpLHI9YShcIjx1bD5cIix7XCJjbGFzc1wiOlwidWktc2VsZWN0bWVudS1saXN0XCIsaWQ6bSxyb2xlOlwibGlzdGJveFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6b30pLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1widGhlbWVcIixiLm9wdGlvbnMudGhlbWUpLmFwcGVuZFRvKGwpLG49YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWhlYWRlciB1aS1iYXItXCIrYi5vcHRpb25zLnRoZW1lfSkucHJlcGVuZFRvKGwpLFxucT1hKFwiPGgxPlwiLHtcImNsYXNzXCI6XCJ1aS10aXRsZVwifSkuYXBwZW5kVG8obiksdDtiLmlzTXVsdGlwbGUmJih0PWEoXCI8YT5cIix7dGV4dDpiLm9wdGlvbnMuY2xvc2VUZXh0LGhyZWY6XCIjXCIsXCJjbGFzc1wiOlwidWktYnRuLWxlZnRcIn0pLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wiaWNvbnBvc1wiLFwibm90ZXh0XCIpLmF0dHIoXCJkYXRhLVwiK2EubW9iaWxlLm5zK1wiaWNvblwiLFwiZGVsZXRlXCIpLmFwcGVuZFRvKG4pLmJ1dHRvbk1hcmt1cCgpKTthLmV4dGVuZChiLHtzZWxlY3Q6Yi5zZWxlY3Qsc2VsZWN0SUQ6YyxidXR0b25JZDpvLG1lbnVJZDptLHRoaXNQYWdlOmQsbWVudVBhZ2U6cCxsYWJlbDpmLHNjcmVlbjpnLHNlbGVjdE9wdGlvbnM6aCxpc011bHRpcGxlOmosdGhlbWU6Yi5vcHRpb25zLnRoZW1lLGxpc3Rib3g6bCxsaXN0OnIsaGVhZGVyOm4saGVhZGVyVGl0bGU6cSxoZWFkZXJDbG9zZTp0LG1lbnVQYWdlQ29udGVudDp2b2lkIDAsbWVudVBhZ2VDbG9zZTp2b2lkIDAscGxhY2Vob2xkZXI6XCJcIixcbmJ1aWxkOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcztjLnJlZnJlc2goKTtjLnNlbGVjdC5hdHRyKFwidGFiaW5kZXhcIixcIi0xXCIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCk7Yy5idXR0b24uZm9jdXMoKX0pO2MuYnV0dG9uLmJpbmQoXCJ2Y2xpY2sga2V5ZG93blwiLGZ1bmN0aW9uKGIpe2lmKGIudHlwZT09XCJ2Y2xpY2tcInx8Yi5rZXlDb2RlJiYoYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FTlRFUnx8Yi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSkpYy5vcGVuKCksYi5wcmV2ZW50RGVmYXVsdCgpfSk7Yy5saXN0LmF0dHIoXCJyb2xlXCIsXCJsaXN0Ym94XCIpLmJpbmQoXCJmb2N1c2luXCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cihcInRhYmluZGV4XCIsXCIwXCIpLnRyaWdnZXIoXCJ2bW91c2VvdmVyXCIpfSkuYmluZChcImZvY3Vzb3V0XCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKS50cmlnZ2VyKFwidm1vdXNlb3V0XCIpfSkuZGVsZWdhdGUoXCJsaTpub3QoLnVpLWRpc2FibGVkLCAudWktbGktZGl2aWRlcilcIixcblwiY2xpY2tcIixmdW5jdGlvbihiKXt2YXIgZD1jLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGU9Yy5saXN0LmZpbmQoXCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpXCIpLmluZGV4KHRoaXMpLGY9Yy5fc2VsZWN0T3B0aW9ucygpLmVxKGUpWzBdO2Yuc2VsZWN0ZWQ9Yy5pc011bHRpcGxlPyFmLnNlbGVjdGVkOnRydWU7Yy5pc011bHRpcGxlJiZhKHRoaXMpLmZpbmQoXCIudWktaWNvblwiKS50b2dnbGVDbGFzcyhcInVpLWljb24tY2hlY2tib3gtb25cIixmLnNlbGVjdGVkKS50b2dnbGVDbGFzcyhcInVpLWljb24tY2hlY2tib3gtb2ZmXCIsIWYuc2VsZWN0ZWQpOyhjLmlzTXVsdGlwbGV8fGQhPT1lKSYmYy5zZWxlY3QudHJpZ2dlcihcImNoYW5nZVwiKTtjLmlzTXVsdGlwbGV8fGMuY2xvc2UoKTtiLnByZXZlbnREZWZhdWx0KCl9KS5rZXlkb3duKGZ1bmN0aW9uKGMpe3ZhciBkPWEoYy50YXJnZXQpLGU9ZC5jbG9zZXN0KFwibGlcIik7c3dpdGNoKGMua2V5Q29kZSl7Y2FzZSAzODpyZXR1cm4gYz1lLnByZXYoKS5ub3QoXCIudWktc2VsZWN0bWVudS1wbGFjZWhvbGRlclwiKSxcbmMuaXMoXCIudWktbGktZGl2aWRlclwiKSYmKGM9Yy5wcmV2KCkpLGMubGVuZ3RoJiYoZC5ibHVyKCkuYXR0cihcInRhYmluZGV4XCIsXCItMVwiKSxjLmFkZENsYXNzKFwidWktYnRuLWRvd24tXCIrYi5vcHRpb25zLnRoZW1lKS5maW5kKFwiYVwiKS5maXJzdCgpLmZvY3VzKCkpLGZhbHNlO2Nhc2UgNDA6cmV0dXJuIGM9ZS5uZXh0KCksYy5pcyhcIi51aS1saS1kaXZpZGVyXCIpJiYoYz1jLm5leHQoKSksYy5sZW5ndGgmJihkLmJsdXIoKS5hdHRyKFwidGFiaW5kZXhcIixcIi0xXCIpLGMuYWRkQ2xhc3MoXCJ1aS1idG4tZG93bi1cIitiLm9wdGlvbnMudGhlbWUpLmZpbmQoXCJhXCIpLmZpcnN0KCkuZm9jdXMoKSksZmFsc2U7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBkLnRyaWdnZXIoXCJjbGlja1wiKSxmYWxzZX19KTtjLm1lbnVQYWdlLmJpbmQoXCJwYWdlaGlkZVwiLGZ1bmN0aW9uKCl7Yy5saXN0LmFwcGVuZFRvKGMubGlzdGJveCk7Yy5fZm9jdXNCdXR0b24oKTthLm1vYmlsZS5fYmluZFBhZ2VSZW1vdmUuY2FsbChjLnRoaXNQYWdlKX0pO1xuYy5zY3JlZW4uYmluZChcInZjbGlja1wiLGZ1bmN0aW9uKCl7Yy5jbG9zZSgpfSk7Yy5pc011bHRpcGxlJiZjLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7aWYoYy5tZW51VHlwZT09XCJvdmVybGF5XCIpcmV0dXJuIGMuY2xvc2UoKSxmYWxzZX0pO2MudGhpc1BhZ2UuYWRkRGVwZW5kZW50cyh0aGlzLm1lbnVQYWdlKX0sX2lzUmVidWlsZFJlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5saXN0LmZpbmQoXCJsaVwiKTtyZXR1cm4gdGhpcy5fc2VsZWN0T3B0aW9ucygpLnRleHQoKSE9PWEudGV4dCgpfSxyZWZyZXNoOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7dGhpcy5fc2VsZWN0T3B0aW9ucygpO3RoaXMuc2VsZWN0ZWQoKTt2YXIgZD10aGlzLnNlbGVjdGVkSW5kaWNlcygpOyhifHx0aGlzLl9pc1JlYnVpbGRSZXF1aXJlZCgpKSYmYy5fYnVpbGRMaXN0KCk7Yy5zZXRCdXR0b25UZXh0KCk7Yy5zZXRCdXR0b25Db3VudCgpO2MubGlzdC5maW5kKFwibGk6bm90KC51aS1saS1kaXZpZGVyKVwiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cihcImFyaWEtc2VsZWN0ZWRcIixcbmZhbHNlKS5lYWNoKGZ1bmN0aW9uKGIpe2EuaW5BcnJheShiLGQpPi0xJiYoYj1hKHRoaXMpLGIuYXR0cihcImFyaWEtc2VsZWN0ZWRcIix0cnVlKSxjLmlzTXVsdGlwbGU/Yi5maW5kKFwiLnVpLWljb25cIikucmVtb3ZlQ2xhc3MoXCJ1aS1pY29uLWNoZWNrYm94LW9mZlwiKS5hZGRDbGFzcyhcInVpLWljb24tY2hlY2tib3gtb25cIik6Yi5pcyhcIi51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyXCIpP2IubmV4dCgpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTpiLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSl9KX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3Blbil0aGlzLm1lbnVUeXBlPT1cInBhZ2VcIj9zLmhpc3RvcnkuYmFjaygpOih0aGlzLnNjcmVlbi5hZGRDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIiksdGhpcy5saXN0Ym94LmFkZENsYXNzKFwidWktc2VsZWN0bWVudS1oaWRkZW5cIikucmVtb3ZlQXR0cihcInN0eWxlXCIpLnJlbW92ZUNsYXNzKFwiaW5cIiksXG50aGlzLmxpc3QuYXBwZW5kVG8odGhpcy5saXN0Ym94KSx0aGlzLl9mb2N1c0J1dHRvbigpKSx0aGlzLmlzT3Blbj1mYWxzZX0sb3BlbjpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtjLmxpc3QuZmluZChcIi5cIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcytcIiBhXCIpLmZvY3VzKCl9aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIGM9dGhpcyxkPWEocyksZT1jLmxpc3QucGFyZW50KCksZj1lLm91dGVySGVpZ2h0KCksZT1lLm91dGVyV2lkdGgoKTthKFwiLnVpLXBhZ2UtYWN0aXZlXCIpO3ZhciBnPWQuc2Nyb2xsVG9wKCksaj1jLmJ1dHRvbi5vZmZzZXQoKS50b3AsaD1kLmhlaWdodCgpLGQ9ZC53aWR0aCgpO2MuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApO2lmKGY+aC04MHx8IWEuc3VwcG9ydC5zY3JvbGxUb3Ape2MubWVudVBhZ2UuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpO1xuYy5tZW51UGFnZUNvbnRlbnQ9cC5maW5kKFwiLnVpLWNvbnRlbnRcIik7Yy5tZW51UGFnZUNsb3NlPXAuZmluZChcIi51aS1oZWFkZXIgYVwiKTtjLnRoaXNQYWdlLnVuYmluZChcInBhZ2VoaWRlLnJlbW92ZVwiKTtpZihnPT0wJiZqPmgpYy50aGlzUGFnZS5vbmUoXCJwYWdlaGlkZVwiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKFwibGFzdFNjcm9sbFwiLGopfSk7Yy5tZW51UGFnZS5vbmUoXCJwYWdlc2hvd1wiLGZ1bmN0aW9uKCl7YigpO2MuaXNPcGVuPXRydWV9KTtjLm1lbnVUeXBlPVwicGFnZVwiO2MubWVudVBhZ2VDb250ZW50LmFwcGVuZChjLmxpc3QpO2MubWVudVBhZ2UuZmluZChcImRpdiAudWktdGl0bGVcIikudGV4dChjLmxhYmVsLnRleHQoKSk7YS5tb2JpbGUuY2hhbmdlUGFnZShjLm1lbnVQYWdlLHt0cmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSl9ZWxzZXtjLm1lbnVUeXBlPVwib3ZlcmxheVwiO2Muc2NyZWVuLmhlaWdodChhKGspLmhlaWdodCgpKS5yZW1vdmVDbGFzcyhcInVpLXNjcmVlbi1oaWRkZW5cIik7XG52YXIgbD1qLWcsbT1nK2gtaixuPWYvMixvPXBhcnNlRmxvYXQoYy5saXN0LnBhcmVudCgpLmNzcyhcIm1heC13aWR0aFwiKSksZj1sPmYvMiYmbT5mLzI/aitjLmJ1dHRvbi5vdXRlckhlaWdodCgpLzItbjpsPm0/ZytoLWYtMzA6ZyszMDtlPG8/Zz0oZC1lKS8yOihnPWMuYnV0dG9uLm9mZnNldCgpLmxlZnQrYy5idXR0b24ub3V0ZXJXaWR0aCgpLzItZS8yLGc8MzA/Zz0zMDpnK2U+ZCYmKGc9ZC1lLTMwKSk7Yy5saXN0Ym94LmFwcGVuZChjLmxpc3QpLnJlbW92ZUNsYXNzKFwidWktc2VsZWN0bWVudS1oaWRkZW5cIikuY3NzKHt0b3A6ZixsZWZ0Omd9KS5hZGRDbGFzcyhcImluXCIpO2IoKTtjLmlzT3Blbj10cnVlfX19LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnMsYz10aGlzLnBsYWNlaG9sZGVyLGQ9dHJ1ZSxlPXRoaXMuaXNNdWx0aXBsZT9cImNoZWNrYm94LW9mZlwiOlwiZmFsc2VcIjt0aGlzLmxpc3QuZW1wdHkoKS5maWx0ZXIoXCIudWktbGlzdHZpZXdcIikubGlzdHZpZXcoXCJkZXN0cm95XCIpO1xudmFyIGY9dGhpcy5zZWxlY3QuZmluZChcIm9wdGlvblwiKSxnPWYubGVuZ3RoLGo9dGhpcy5zZWxlY3RbMF0saD1cImRhdGEtXCIrYS5tb2JpbGUubnMsbD1oK1wib3B0aW9uLWluZGV4XCIsbT1oK1wiaWNvblwiO2grPVwicm9sZVwiO2Zvcih2YXIgbj1rLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxvLHA9MDtwPGc7cCsrKXt2YXIgcj1mW3BdLHE9YShyKSxzPXIucGFyZW50Tm9kZSx0PXEudGV4dCgpLEQ9ay5jcmVhdGVFbGVtZW50KFwiYVwiKSxKPVtdO0Quc2V0QXR0cmlidXRlKFwiaHJlZlwiLFwiI1wiKTtELmFwcGVuZENoaWxkKGsuY3JlYXRlVGV4dE5vZGUodCkpO3MhPT1qJiZzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1cIm9wdGdyb3VwXCImJihzPXMuZ2V0QXR0cmlidXRlKFwibGFiZWxcIikscyE9byYmKG89ay5jcmVhdGVFbGVtZW50KFwibGlcIiksby5zZXRBdHRyaWJ1dGUoaCxcImxpc3QtZGl2aWRlclwiKSxvLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm9wdGlvblwiKSxvLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXG5cIi0xXCIpLG8uYXBwZW5kQ2hpbGQoay5jcmVhdGVUZXh0Tm9kZShzKSksbi5hcHBlbmRDaGlsZChvKSxvPXMpKTtpZihkJiYoIXIuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil8fHQubGVuZ3RoPT0wfHxxLmpxbURhdGEoXCJwbGFjZWhvbGRlclwiKSkpaWYoZD1mYWxzZSxiLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmSi5wdXNoKFwidWktc2VsZWN0bWVudS1wbGFjZWhvbGRlclwiKSwhYyljPXRoaXMucGxhY2Vob2xkZXI9dDtxPWsuY3JlYXRlRWxlbWVudChcImxpXCIpO3IuZGlzYWJsZWQmJihKLnB1c2goXCJ1aS1kaXNhYmxlZFwiKSxxLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIix0cnVlKSk7cS5zZXRBdHRyaWJ1dGUobCxwKTtxLnNldEF0dHJpYnV0ZShtLGUpO3EuY2xhc3NOYW1lPUouam9pbihcIiBcIik7cS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJvcHRpb25cIik7RC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiLTFcIik7cS5hcHBlbmRDaGlsZChEKTtuLmFwcGVuZENoaWxkKHEpfXRoaXMubGlzdFswXS5hcHBlbmRDaGlsZChuKTtcbiF0aGlzLmlzTXVsdGlwbGUmJiFjLmxlbmd0aD90aGlzLmhlYWRlci5oaWRlKCk6dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpO3RoaXMubGlzdC5saXN0dmlldygpfSxfYnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGEoXCI8YT5cIix7aHJlZjpcIiNcIixyb2xlOlwiYnV0dG9uXCIsaWQ6dGhpcy5idXR0b25JZCxcImFyaWEtaGFzcG9wdXBcIjpcInRydWVcIixcImFyaWEtb3duc1wiOnRoaXMubWVudUlkfSl9fSl9O2EoaykuYmluZChcInNlbGVjdG1lbnViZWZvcmVjcmVhdGVcIixmdW5jdGlvbihiKXtiPWEoYi50YXJnZXQpLmRhdGEoXCJzZWxlY3RtZW51XCIpO2Iub3B0aW9ucy5uYXRpdmVNZW51fHxjKGIpfSl9KShqUXVlcnkpOyhmdW5jdGlvbihhKXthLndpZGdldChcIm1vYmlsZS5maXhlZHRvb2xiYXJcIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3Zpc2libGVPblBhZ2VTaG93OnRydWUsZGlzYWJsZVBhZ2Vab29tOnRydWUsdHJhbnNpdGlvbjpcInNsaWRlXCIsZnVsbHNjcmVlbjpmYWxzZSxcbnRhcFRvZ2dsZTp0cnVlLHRhcFRvZ2dsZUJsYWNrbGlzdDpcImEsIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCAudWktaGVhZGVyLWZpeGVkLCAudWktZm9vdGVyLWZpeGVkXCIsaGlkZUR1cmluZ0ZvY3VzOlwiaW5wdXQsIHRleHRhcmVhLCBzZWxlY3RcIix1cGRhdGVQYWdlUGFkZGluZzp0cnVlLHRyYWNrUGVyc2lzdGVudFRvb2xiYXJzOnRydWUsc3VwcG9ydEJsYWNrbGlzdDpmdW5jdGlvbigpe3ZhciBhPXMsYj1uYXZpZ2F0b3IudXNlckFnZW50LGU9bmF2aWdhdG9yLnBsYXRmb3JtLGY9Yi5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oWzAtOV0rKS8pLGY9ISFmJiZmWzFdLGQ9Yi5tYXRjaCgvRmVubmVjXFwvKFswLTldKykvKSxkPSEhZCYmZFsxXSxnPWIubWF0Y2goL09wZXJhIE1vYmlcXC8oWzAtOV0rKS8pLGg9ISFnJiZnWzFdO3JldHVybihlLmluZGV4T2YoXCJpUGhvbmVcIik+LTF8fGUuaW5kZXhPZihcImlQYWRcIik+LTF8fGUuaW5kZXhPZihcImlQb2RcIik+LTEpJiZmJiZmPDUzNHx8YS5vcGVyYW1pbmkmJlxue30udG9TdHJpbmcuY2FsbChhLm9wZXJhbWluaSk9PT1cIltvYmplY3QgT3BlcmFNaW5pXVwifHxnJiZoPDc0NTh8fGIuaW5kZXhPZihcIkFuZHJvaWRcIik+LTEmJmYmJmY8NTMzfHxkJiZkPDZ8fFwicGFsbUdldFJlc291cmNlXCJpbiBzJiZmJiZmPDUzNHx8Yi5pbmRleE9mKFwiTWVlR29cIik+LTEmJmIuaW5kZXhPZihcIk5va2lhQnJvd3Nlci84LjUuMFwiKT4tMT90cnVlOmZhbHNlfSxpbml0U2VsZWN0b3I6XCI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKVwifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcHRpb25zLGI9dGhpcy5lbGVtZW50LGU9Yi5pcyhcIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpXCIpP1wiaGVhZGVyXCI6XCJmb290ZXJcIixmPWIuY2xvc2VzdChcIi51aS1wYWdlXCIpO2Euc3VwcG9ydEJsYWNrbGlzdCgpP3RoaXMuZGVzdHJveSgpOihiLmFkZENsYXNzKFwidWktXCIrZStcIi1maXhlZFwiKSxhLmZ1bGxzY3JlZW4/KGIuYWRkQ2xhc3MoXCJ1aS1cIitlK1wiLWZ1bGxzY3JlZW5cIiksZi5hZGRDbGFzcyhcInVpLXBhZ2UtXCIrXG5lK1wiLWZ1bGxzY3JlZW5cIikpOmYuYWRkQ2xhc3MoXCJ1aS1wYWdlLVwiK2UrXCItZml4ZWRcIiksdGhpcy5fYWRkVHJhbnNpdGlvbkNsYXNzKCksdGhpcy5fYmluZFBhZ2VFdmVudHMoKSx0aGlzLl9iaW5kVG9nZ2xlSGFuZGxlcnMoKSl9LF9hZGRUcmFuc2l0aW9uQ2xhc3M6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9wdGlvbnMudHJhbnNpdGlvbjthJiZhIT09XCJub25lXCImJihhPT09XCJzbGlkZVwiJiYoYT10aGlzLmVsZW1lbnQuaXMoXCIudWktaGVhZGVyXCIpP1wic2xpZGVkb3duXCI6XCJzbGlkZXVwXCIpLHRoaXMuZWxlbWVudC5hZGRDbGFzcyhhKSl9LF9iaW5kUGFnZUV2ZW50czpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1jLm9wdGlvbnM7Yy5lbGVtZW50LmNsb3Nlc3QoXCIudWktcGFnZVwiKS5iaW5kKFwicGFnZWJlZm9yZXNob3dcIixmdW5jdGlvbigpe2IuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmRpc2FibGUodHJ1ZSk7Yi52aXNpYmxlT25QYWdlU2hvd3x8Yy5oaWRlKHRydWUpfSkuYmluZChcIndlYmtpdEFuaW1hdGlvblN0YXJ0IGFuaW1hdGlvbnN0YXJ0IHVwZGF0ZWxheW91dFwiLFxuZnVuY3Rpb24oKXtiLnVwZGF0ZVBhZ2VQYWRkaW5nJiZjLnVwZGF0ZVBhZ2VQYWRkaW5nKCl9KS5iaW5kKFwicGFnZXNob3dcIixmdW5jdGlvbigpe2MudXBkYXRlUGFnZVBhZGRpbmcoKTtiLnVwZGF0ZVBhZ2VQYWRkaW5nJiZhKHMpLmJpbmQoXCJ0aHJvdHRsZWRyZXNpemUuXCIrYy53aWRnZXROYW1lLGZ1bmN0aW9uKCl7Yy51cGRhdGVQYWdlUGFkZGluZygpfSl9KS5iaW5kKFwicGFnZWJlZm9yZWhpZGVcIixmdW5jdGlvbihlLGYpe2IuZGlzYWJsZVBhZ2Vab29tJiZhLm1vYmlsZS56b29tLmVuYWJsZSh0cnVlKTtiLnVwZGF0ZVBhZ2VQYWRkaW5nJiZhKHMpLnVuYmluZChcInRocm90dGxlZHJlc2l6ZS5cIitjLndpZGdldE5hbWUpO2lmKGIudHJhY2tQZXJzaXN0ZW50VG9vbGJhcnMpe3ZhciBkPWEoXCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQpXCIsdGhpcyksZz1hKFwiLnVpLWhlYWRlci1maXhlZDpqcW1EYXRhKGlkKVwiLHRoaXMpLGg9ZC5sZW5ndGgmJmYubmV4dFBhZ2UmJmEoXCIudWktZm9vdGVyLWZpeGVkOmpxbURhdGEoaWQ9J1wiK1xuZC5qcW1EYXRhKFwiaWRcIikrXCInKVwiLGYubmV4dFBhZ2UpLGo9Zy5sZW5ndGgmJmYubmV4dFBhZ2UmJmEoXCIudWktaGVhZGVyLWZpeGVkOmpxbURhdGEoaWQ9J1wiK2cuanFtRGF0YShcImlkXCIpK1wiJylcIixmLm5leHRQYWdlKSxoPWh8fGEoKTtpZihoLmxlbmd0aHx8ai5sZW5ndGgpaC5hZGQoaikuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lciksZi5uZXh0UGFnZS5vbmUoXCJwYWdlc2hvd1wiLGZ1bmN0aW9uKCl7aC5hZGQoaikuYXBwZW5kVG8odGhpcyl9KX19KX0sX3Zpc2libGU6dHJ1ZSx1cGRhdGVQYWdlUGFkZGluZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxiPWEuaXMoXCIudWktaGVhZGVyXCIpO3RoaXMub3B0aW9ucy5mdWxsc2NyZWVufHxhLmNsb3Nlc3QoXCIudWktcGFnZVwiKS5jc3MoXCJwYWRkaW5nLVwiKyhiP1widG9wXCI6XCJib3R0b21cIiksYS5vdXRlckhlaWdodCgpKX0sX3VzZVRyYW5zaXRpb246ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcy5lbGVtZW50LGU9YShzKS5zY3JvbGxUb3AoKSxcbmY9Yi5oZWlnaHQoKSxkPWIuY2xvc2VzdChcIi51aS1wYWdlXCIpLmhlaWdodCgpLGc9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCksYj1iLmlzKFwiOmpxbURhdGEocm9sZT0naGVhZGVyJylcIik/XCJoZWFkZXJcIjpcImZvb3RlclwiO3JldHVybiFjJiYodGhpcy5vcHRpb25zLnRyYW5zaXRpb24mJnRoaXMub3B0aW9ucy50cmFuc2l0aW9uIT09XCJub25lXCImJihiPT09XCJoZWFkZXJcIiYmIXRoaXMub3B0aW9ucy5mdWxsc2NyZWVuJiZlPmZ8fGI9PT1cImZvb3RlclwiJiYhdGhpcy5vcHRpb25zLmZ1bGxzY3JlZW4mJmUrZzxkLWYpfHx0aGlzLm9wdGlvbnMuZnVsbHNjcmVlbil9LHNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lbGVtZW50O3RoaXMuX3VzZVRyYW5zaXRpb24oYSk/Yi5yZW1vdmVDbGFzcyhcIm91dCB1aS1maXhlZC1oaWRkZW5cIikuYWRkQ2xhc3MoXCJpblwiKTpiLnJlbW92ZUNsYXNzKFwidWktZml4ZWQtaGlkZGVuXCIpO3RoaXMuX3Zpc2libGU9dHJ1ZX0saGlkZTpmdW5jdGlvbihhKXt2YXIgYj1cbnRoaXMuZWxlbWVudCxlPVwib3V0XCIrKHRoaXMub3B0aW9ucy50cmFuc2l0aW9uPT09XCJzbGlkZVwiP1wiIHJldmVyc2VcIjpcIlwiKTt0aGlzLl91c2VUcmFuc2l0aW9uKGEpP2IuYWRkQ2xhc3MoZSkucmVtb3ZlQ2xhc3MoXCJpblwiKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2IuYWRkQ2xhc3MoXCJ1aS1maXhlZC1oaWRkZW5cIikucmVtb3ZlQ2xhc3MoZSl9KTpiLmFkZENsYXNzKFwidWktZml4ZWQtaGlkZGVuXCIpLnJlbW92ZUNsYXNzKGUpO3RoaXMuX3Zpc2libGU9ZmFsc2V9LHRvZ2dsZTpmdW5jdGlvbigpe3RoaXNbdGhpcy5fdmlzaWJsZT9cImhpZGVcIjpcInNob3dcIl0oKX0sX2JpbmRUb2dnbGVIYW5kbGVyczpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1jLm9wdGlvbnM7Yy5lbGVtZW50LmNsb3Nlc3QoXCIudWktcGFnZVwiKS5iaW5kKFwidmNsaWNrXCIsZnVuY3Rpb24oZSl7Yi50YXBUb2dnbGUmJiFhKGUudGFyZ2V0KS5jbG9zZXN0KGIudGFwVG9nZ2xlQmxhY2tsaXN0KS5sZW5ndGgmJmMudG9nZ2xlKCl9KS5iaW5kKFwiZm9jdXNpbiBmb2N1c291dFwiLFxuZnVuY3Rpb24oZSl7aWYoc2NyZWVuLndpZHRoPDUwMCYmYShlLnRhcmdldCkuaXMoYi5oaWRlRHVyaW5nRm9jdXMpJiYhYShlLnRhcmdldCkuY2xvc2VzdChcIi51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWRcIikubGVuZ3RoKWNbZS50eXBlPT09XCJmb2N1c2luXCImJmMuX3Zpc2libGU/XCJoaWRlXCI6XCJzaG93XCJdKCl9KX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcInVpLWhlYWRlci1maXhlZCB1aS1mb290ZXItZml4ZWQgdWktaGVhZGVyLWZ1bGxzY3JlZW4gdWktZm9vdGVyLWZ1bGxzY3JlZW4gaW4gb3V0IGZhZGUgc2xpZGVkb3duIHNsaWRldXAgdWktZml4ZWQtaGlkZGVuXCIpO3RoaXMuZWxlbWVudC5jbG9zZXN0KFwiLnVpLXBhZ2VcIikucmVtb3ZlQ2xhc3MoXCJ1aS1wYWdlLWhlYWRlci1maXhlZCB1aS1wYWdlLWZvb3Rlci1maXhlZCB1aS1wYWdlLWhlYWRlci1mdWxsc2NyZWVuIHVpLXBhZ2UtZm9vdGVyLWZ1bGxzY3JlZW5cIil9fSk7YShrKS5iaW5kKFwicGFnZWNyZWF0ZSBjcmVhdGVcIixcbmZ1bmN0aW9uKGMpe2EoYy50YXJnZXQpLmpxbURhdGEoXCJmdWxsc2NyZWVuXCIpJiZhKGEubW9iaWxlLmZpeGVkdG9vbGJhci5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsYy50YXJnZXQpLm5vdChcIjpqcW1EYXRhKGZ1bGxzY3JlZW4pXCIpLmpxbURhdGEoXCJmdWxsc2NyZWVuXCIsdHJ1ZSk7YS5tb2JpbGUuZml4ZWR0b29sYmFyLnByb3RvdHlwZS5lbmhhbmNlV2l0aGluKGMudGFyZ2V0KX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSxjKXtpZigvaVBob25lfGlQYWR8aVBvZC8udGVzdChuYXZpZ2F0b3IucGxhdGZvcm0pJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJBcHBsZVdlYktpdFwiKT4tMSl7dmFyIGI9YS5tb2JpbGUuem9vbSxlLGYsZCxnLGg7YShjKS5iaW5kKFwib3JpZW50YXRpb25jaGFuZ2UuaW9zb3JpZW50YXRpb25maXhcIixiLmVuYWJsZSkuYmluZChcImRldmljZW1vdGlvbi5pb3NvcmllbnRhdGlvbmZpeFwiLGZ1bmN0aW9uKGEpe2U9YS5vcmlnaW5hbEV2ZW50O1xuaD1lLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHk7Zj1NYXRoLmFicyhoLngpO2Q9TWF0aC5hYnMoaC55KTtnPU1hdGguYWJzKGgueik7IWMub3JpZW50YXRpb24mJihmPjd8fChnPjYmJmQ8OHx8Zzw4JiZkPjYpJiZmPjUpP2IuZW5hYmxlZCYmYi5kaXNhYmxlKCk6Yi5lbmFibGVkfHxiLmVuYWJsZSgpfSl9fSkoalF1ZXJ5LHRoaXMpOyhmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGIoKXt2YXIgYj1hKFwiLlwiK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO2guY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmZy5zY3JvbGxUb3AoKStnLmhlaWdodCgpLzJ8fGIubGVuZ3RoJiZiLm9mZnNldCgpLnRvcHx8MTAwfSl9ZnVuY3Rpb24gZSgpe3ZhciBjPWgub2Zmc2V0KCksZD1nLnNjcm9sbFRvcCgpLGY9YS5tb2JpbGUuZ2V0U2NyZWVuSGVpZ2h0KCk7aWYoYy50b3A8ZHx8Yy50b3AtZD5mKWguYWRkQ2xhc3MoXCJ1aS1sb2FkZXItZmFrZWZpeFwiKSxiKCksZy51bmJpbmQoXCJzY3JvbGxcIixcbmUpLmJpbmQoXCJzY3JvbGxcIixiKX1mdW5jdGlvbiBmKCl7ZC5yZW1vdmVDbGFzcyhcInVpLW1vYmlsZS1yZW5kZXJpbmdcIil9dmFyIGQ9YShcImh0bWxcIik7YShcImhlYWRcIik7dmFyIGc9YShjKTthKGMuZG9jdW1lbnQpLnRyaWdnZXIoXCJtb2JpbGVpbml0XCIpO2lmKGEubW9iaWxlLmdyYWRlQSgpKXtpZihhLm1vYmlsZS5hamF4QmxhY2tsaXN0KWEubW9iaWxlLmFqYXhFbmFibGVkPWZhbHNlO2QuYWRkQ2xhc3MoXCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZ1wiKTtzZXRUaW1lb3V0KGYsNUUzKTt2YXIgaD1hKFwiPGRpdiBjbGFzcz0ndWktbG9hZGVyJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWxvYWRpbmcnPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj5cIik7YS5leHRlbmQoYS5tb2JpbGUse3Nob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbihiLGMsZil7ZC5hZGRDbGFzcyhcInVpLWxvYWRpbmdcIik7aWYoYS5tb2JpbGUubG9hZGluZ01lc3NhZ2Upe3ZhciBrPWZ8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGV4dFZpc2libGU7XG5iPWJ8fGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlVGhlbWU7aC5hdHRyKFwiY2xhc3NcIixcInVpLWxvYWRlciB1aS1jb3JuZXItYWxsIHVpLWJvZHktXCIrKGJ8fFwiYVwiKStcIiB1aS1sb2FkZXItXCIrKGs/XCJ2ZXJib3NlXCI6XCJkZWZhdWx0XCIpKyhmP1wiIHVpLWxvYWRlci10ZXh0b25seVwiOlwiXCIpKS5maW5kKFwiaDFcIikudGV4dChjfHxhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSkuZW5kKCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcik7ZSgpO2cuYmluZChcInNjcm9sbFwiLGUpfX0saGlkZVBhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7ZC5yZW1vdmVDbGFzcyhcInVpLWxvYWRpbmdcIik7YS5tb2JpbGUubG9hZGluZ01lc3NhZ2UmJmgucmVtb3ZlQ2xhc3MoXCJ1aS1sb2FkZXItZmFrZWZpeFwiKTthKGMpLnVuYmluZChcInNjcm9sbFwiLGIpO2EoYykudW5iaW5kKFwic2Nyb2xsXCIsZSl9LGluaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIGI9YShcIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJylcIik7XG5iLmxlbmd0aHx8KGI9YShcImJvZHlcIikud3JhcElubmVyKFwiPGRpdiBkYXRhLVwiK2EubW9iaWxlLm5zK1wicm9sZT0ncGFnZSc+PC9kaXY+XCIpLmNoaWxkcmVuKDApKTtiLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YShcInVybFwiKXx8Yi5hdHRyKFwiZGF0YS1cIithLm1vYmlsZS5ucytcInVybFwiLGIuYXR0cihcImlkXCIpfHxsb2NhdGlvbi5wYXRobmFtZStsb2NhdGlvbi5zZWFyY2gpfSk7YS5tb2JpbGUuZmlyc3RQYWdlPWIuZmlyc3QoKTthLm1vYmlsZS5wYWdlQ29udGFpbmVyPWIuZmlyc3QoKS5wYXJlbnQoKS5hZGRDbGFzcyhcInVpLW1vYmlsZS12aWV3cG9ydFwiKTtnLnRyaWdnZXIoXCJwYWdlY29udGFpbmVyY3JlYXRlXCIpO2EubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpO2YoKTshYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fCFhLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKT9hLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSxcbnt0cmFuc2l0aW9uOlwibm9uZVwiLHJldmVyc2U6dHJ1ZSxjaGFuZ2VIYXNoOmZhbHNlLGZyb21IYXNoQ2hhbmdlOnRydWV9KTpnLnRyaWdnZXIoXCJoYXNoY2hhbmdlXCIsW3RydWVdKX19KTthLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpO2EoZnVuY3Rpb24oKXtjLnNjcm9sbFRvKDAsMSk7YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw9IWEuc3VwcG9ydC5zY3JvbGxUb3B8fGEoYykuc2Nyb2xsVG9wKCk9PT0xPzA6MTthLmZuLmNvbnRyb2xncm91cCYmYShrKS5iaW5kKFwicGFnZWNyZWF0ZSBjcmVhdGVcIixmdW5jdGlvbihiKXthKFwiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJylcIixiLnRhcmdldCkuanFtRW5oYW5jZWFibGUoKS5jb250cm9sZ3JvdXAoe2V4Y2x1ZGVJbnZpc2libGU6ZmFsc2V9KX0pO2EubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTtnLmxvYWQoYS5tb2JpbGUuc2lsZW50U2Nyb2xsKX0pfX0pKGpRdWVyeSxcbnRoaXMpfSk7XG4iLCIvKlxuICogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiBwbHVnaW4gdG8gcHJvdmlkZSBhIGRhdGUgYW5kIHRpbWUgcGlja2VyLlxuICogQ29weXJpZ2h0IChjKSBKVFNhZ2VcbiAqIENDIDMuMCBBdHRyaWJ1dGlvbi4gIE1heSBiZSByZWxpY2Vuc2VkIHdpdGhvdXQgcGVybWlzc2lvbi9ub3RpZmNhdGlvbi5cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qdHNhZ2UvanF1ZXJ5LW1vYmlsZS1kYXRlYm94XG4gKi9cblxuKGZ1bmN0aW9uKGEsYil7RGF0ZS5wcm90b3R5cGUuZ2V0SVNPPWZ1bmN0aW9uKCl7cmV0dXJuIFN0cmluZyh0aGlzLmdldEZ1bGxZZWFyKCkpK1wiLVwiKygodGhpcy5nZXRNb250aCgpPDkpP1wiMFwiOlwiXCIpK1N0cmluZyh0aGlzLmdldE1vbnRoKCkrMSkrXCItXCIrKCh0aGlzLmdldERhdGUoKTwxMCk/XCIwXCI6XCJcIikrU3RyaW5nKHRoaXMuZ2V0RGF0ZSgpKX07RGF0ZS5wcm90b3R5cGUuZ2V0Q29tcD1mdW5jdGlvbigpe3JldHVybiBwYXJzZUludCh0aGlzLmdldElTTygpLnJlcGxhY2UoLy0vZyxcIlwiKSwxMCl9O0RhdGUucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb3B5bW9kKCl9O0RhdGUucHJvdG90eXBlLmNvcHltb2Q9ZnVuY3Rpb24oYyxkKXtpZih0eXBlb2YgYz09PVwidW5kZWZpbmVkXCIpe2M9WzAsMCwwLDAsMCwwXX1pZih0eXBlb2YgZD09PVwidW5kZWZpbmVkXCIpe2Q9WzAsMCwwLDAsMCwwXX13aGlsZShjLmxlbmd0aDw2KXtjLnB1c2goMCl9d2hpbGUoZC5sZW5ndGg8Nil7ZC5wdXNoKDApfXJldHVybiBuZXcgRGF0ZSgoKGRbMF0+MCk/ZFswXTp0aGlzLmdldEZ1bGxZZWFyKCkrY1swXSksKChkWzFdPjApP2RbMV06dGhpcy5nZXRNb250aCgpK2NbMV0pLCgoZFsyXT4wKT9kWzJdOnRoaXMuZ2V0RGF0ZSgpK2NbMl0pLCgoZFszXT4wKT9kWzNdOnRoaXMuZ2V0SG91cnMoKStjWzNdKSwoKGRbNF0+MCk/ZFs0XTp0aGlzLmdldE1pbnV0ZXMoKStjWzRdKSwoKGRbNV0+MCk/ZFs1XTp0aGlzLmdldFNlY29uZHMoKStjWzVdKSwwKX07RGF0ZS5wcm90b3R5cGUuZ2V0RXBvY2g9ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5nZXRUaW1lKCktdGhpcy5nZXRNaWxsaXNlY29uZHMoKSkvMTAwMH07RGF0ZS5wcm90b3R5cGUuYWRqdXN0PWZ1bmN0aW9uKGQsYyl7c3dpdGNoKGQpe2Nhc2VcInlcIjp0aGlzLnNldEZ1bGxZZWFyKHRoaXMuZ2V0RnVsbFllYXIoKStjKTticmVhaztjYXNlXCJtXCI6dGhpcy5zZXRNb250aCh0aGlzLmdldE1vbnRoKCkrYyk7YnJlYWs7Y2FzZVwiZFwiOnRoaXMuc2V0RGF0ZSh0aGlzLmdldERhdGUoKStjKTticmVhaztjYXNlXCJoXCI6dGhpcy5zZXRIb3Vycyh0aGlzLmdldEhvdXJzKCkrYyk7YnJlYWs7Y2FzZVwiaVwiOnRoaXMuc2V0TWludXRlcyh0aGlzLmdldE1pbnV0ZXMoKStjKTticmVhaztjYXNlXCJzXCI6dGhpcy5zZXRTZWNvbmRzKHRoaXMuZ2V0U2Vjb25kcygpK2MpO2JyZWFrfXJldHVybiB0aGlzLmdldFRpbWUoKX07YS53aWRnZXQoXCJtb2JpbGUuZGF0ZWJveFwiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dmVyc2lvbjpcIjEuMC4xLTIwMTIwMjI3MDBcIix0aGVtZTpmYWxzZSxkZWZhdWx0VGhlbWU6XCJjXCIscGlja1BhZ2VUaGVtZTpcImJcIixwaWNrUGFnZUlucHV0VGhlbWU6XCJlXCIscGlja1BhZ2VCdXR0b25UaGVtZTpcImFcIixwaWNrUGFnZUhpZ2hCdXR0b25UaGVtZTpcImVcIixwaWNrUGFnZU9IaWdoQnV0dG9uVGhlbWU6XCJlXCIscGlja1BhZ2VPQUhpZ2hCdXR0b25UaGVtZTpcImVcIixwaWNrUGFnZU9ESGlnaEJ1dHRvblRoZW1lOlwiZVwiLHBpY2tQYWdlVG9kYXlCdXR0b25UaGVtZTpcImVcIixwaWNrUGFnZVNsaWRlQnV0dG9uVGhlbWU6XCJkXCIscGlja1BhZ2VGbGlwQnV0dG9uVGhlbWU6XCJiXCIsZm9yY2VJbmhlcml0VGhlbWU6ZmFsc2UsY2VudGVyV2luZG93OmZhbHNlLGNhbEhpZ2hUb2RheTp0cnVlLGNhbEhpZ2hQaWNrZWQ6dHJ1ZSx0cmFuc2l0aW9uOlwicG9wXCIsbm9BbmltYXRpb246ZmFsc2UsZGlzYWJsZU1hbnVhbElucHV0OmZhbHNlLGRpc2FibGVkOmZhbHNlLHdoZWVsRXhpc3RzOmZhbHNlLHN3aXBlRW5hYmxlZDp0cnVlLHppbmRleDpcIjUwMFwiLGRlYnVnOmZhbHNlLGNsaWNrRXZlbnQ6XCJ2Y2xpY2tcIixudW1iZXJJbnB1dEVuaGFuY2U6dHJ1ZSxpbnRlcm5hbElucHV0VHlwZTpcInRleHRcIixyZXNpemVMaXN0ZW5lcjp0cnVlLHRpdGxlRGlhbG9nTGFiZWw6ZmFsc2UsbWVyaWRpZW1MZXR0ZXJzOltcIkFNXCIsXCJQTVwiXSx0aW1lT3V0cHV0T3ZlcnJpZGU6ZmFsc2UsdGltZUZvcm1hdHM6e1wiMTJcIjpcIiVsOiVNICVwXCIsXCIyNFwiOlwiJWs6JU1cIn0sZHVyYXRpb25Gb3JtYXQ6XCJERCBkZGQsIGhoOmlpOnNzXCIsdGltZU91dHB1dDpmYWxzZSxyb2xsb3Zlck1vZGU6e206dHJ1ZSxkOnRydWUsaDp0cnVlLGk6dHJ1ZSxzOnRydWV9LG1vZGU6XCJkYXRlYm94XCIsY2FsU2hvd0RheXM6dHJ1ZSxjYWxTaG93T25seU1vbnRoOmZhbHNlLHVzZURpYWxvZ0ZvcmNlVHJ1ZTpmYWxzZSx1c2VEaWFsb2dGb3JjZUZhbHNlOnRydWUsZnVsbFNjcmVlbjpmYWxzZSxmdWxsU2NyZWVuQWx3YXlzOmZhbHNlLHVzZURpYWxvZzpmYWxzZSx1c2VNb2RhbDpmYWxzZSx1c2VJbmxpbmU6ZmFsc2UsdXNlSW5saW5lQmxpbmQ6ZmFsc2UsdXNlQ2xlYXJCdXR0b246ZmFsc2UsY29sbGFwc2VCdXR0b25zOmZhbHNlLG5vQnV0dG9uRm9jdXNNb2RlOmZhbHNlLGZvY3VzTW9kZTpmYWxzZSxub0J1dHRvbjpmYWxzZSxub1NldEJ1dHRvbjpmYWxzZSxvcGVuQ2FsbGJhY2s6ZmFsc2Usb3BlbkNhbGxiYWNrQXJnczpbXSxjbG9zZUNhbGxiYWNrOmZhbHNlLGNsb3NlQ2FsbGJhY2tBcmdzOltdLG9wZW46ZmFsc2UsbmVzdGVkQm94OmZhbHNlLGxhc3REdXJhdGlvbjpmYWxzZSxmaWVsZHNPcmRlcjpmYWxzZSxmaWVsZHNPcmRlck92ZXJyaWRlOmZhbHNlLGR1cmF0aW9uT3JkZXI6W1wiZFwiLFwiaFwiLFwiaVwiLFwic1wiXSxkZWZhdWx0RGF0ZUZvcm1hdDpcIiVZLSVtLSVkXCIsZGF0ZUZvcm1hdDpmYWxzZSx0aW1lRm9ybWF0T3ZlcnJpZGU6ZmFsc2UsaGVhZGVyRm9ybWF0OmZhbHNlLGRhdGVPdXRwdXQ6ZmFsc2UsbWludXRlU3RlcDoxLGNhbFRvZGF5QnV0dG9uOmZhbHNlLGNhbFdlZWtNb2RlOmZhbHNlLGNhbFdlZWtNb2RlRmlyc3REYXk6MSxjYWxXZWVrTW9kZUhpZ2hsaWdodDp0cnVlLGNhbFN0YXJ0RGF5OmZhbHNlLGRlZmF1bHRQaWNrZXJWYWx1ZTpmYWxzZSxkZWZhdWx0RGF0ZTpmYWxzZSxtaW5ZZWFyOmZhbHNlLG1heFllYXI6ZmFsc2UsYWZ0ZXJUb2RheTpmYWxzZSxiZWZvcmVUb2RheTpmYWxzZSxtYXhEYXlzOmZhbHNlLG1pbkRheXM6ZmFsc2UsaGlnaERheXM6ZmFsc2UsaGlnaERhdGVzOmZhbHNlLGhpZ2hEYXRlc0FsdDpmYWxzZSxibGFja0RheXM6ZmFsc2UsYmxhY2tEYXRlczpmYWxzZSxlbmFibGVEYXRlczpmYWxzZSxmaXhEYXRlQXJyYXlzOmZhbHNlLGR1cmF0aW9uU3RlcHBlcnM6e2Q6MSxoOjEsaToxLHM6MX0sdXNlTGFuZzpcImVuXCIsbGFuZzp7ZW46e3NldERhdGVCdXR0b25MYWJlbDpcIlNldCBEYXRlXCIsc2V0VGltZUJ1dHRvbkxhYmVsOlwiU2V0IFRpbWVcIixzZXREdXJhdGlvbkJ1dHRvbkxhYmVsOlwiU2V0IER1cmF0aW9uXCIsY2FsVG9kYXlCdXR0b25MYWJlbDpcIkp1bXAgdG8gVG9kYXlcIix0aXRsZURhdGVEaWFsb2dMYWJlbDpcIlNldCBEYXRlXCIsdGl0bGVUaW1lRGlhbG9nTGFiZWw6XCJTZXQgVGltZVwiLGRheXNPZldlZWs6W1wiU3VuZGF5XCIsXCJNb25kYXlcIixcIlR1ZXNkYXlcIixcIldlZG5lc2RheVwiLFwiVGh1cnNkYXlcIixcIkZyaWRheVwiLFwiU2F0dXJkYXlcIl0sZGF5c09mV2Vla1Nob3J0OltcIlN1XCIsXCJNb1wiLFwiVHVcIixcIldlXCIsXCJUaFwiLFwiRnJcIixcIlNhXCJdLG1vbnRoc09mWWVhcjpbXCJKYW51YXJ5XCIsXCJGZWJydWFyeVwiLFwiTWFyY2hcIixcIkFwcmlsXCIsXCJNYXlcIixcIkp1bmVcIixcIkp1bHlcIixcIkF1Z3VzdFwiLFwiU2VwdGVtYmVyXCIsXCJPY3RvYmVyXCIsXCJOb3ZlbWJlclwiLFwiRGVjZW1iZXJcIl0sbW9udGhzT2ZZZWFyU2hvcnQ6W1wiSmFuXCIsXCJGZWJcIixcIk1hclwiLFwiQXByXCIsXCJNYXlcIixcIkp1blwiLFwiSnVsXCIsXCJBdWdcIixcIlNlcFwiLFwiT2N0XCIsXCJOb3ZcIixcIkRlY1wiXSxkdXJhdGlvbkxhYmVsOltcIkRheXNcIixcIkhvdXJzXCIsXCJNaW51dGVzXCIsXCJTZWNvbmRzXCJdLGR1cmF0aW9uRGF5czpbXCJEYXlcIixcIkRheXNcIl0sdGltZUZvcm1hdDoyNCxoZWFkZXJGb3JtYXQ6XCIlQSwgJUIgJS1kLCAlWVwiLHRvb2x0aXA6XCJPcGVuIERhdGUgUGlja2VyXCIsbmV4dE1vbnRoOlwiTmV4dCBNb250aFwiLHByZXZNb250aDpcIlByZXZpb3VzIE1vbnRoXCIsZGF0ZUZpZWxkT3JkZXI6W1wibVwiLFwiZFwiLFwieVwiXSx0aW1lRmllbGRPcmRlcjpbXCJoXCIsXCJpXCIsXCJhXCJdLHNsaWRlRmllbGRPcmRlcjpbXCJ5XCIsXCJtXCIsXCJkXCJdLGRhdGVGb3JtYXQ6XCIlWS0lbS0lZFwiLHVzZUFyYWJpY0luZGljOmZhbHNlLGlzUlRMOmZhbHNlLGNhbFN0YXJ0RGF5OjAsY2xlYXJCdXR0b246XCJDbGVhclwifX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXthKHRoaXMucGlja1BhZ2UpLnJlbW92ZSgpO2EuV2lkZ2V0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LF9kYXRlYm94SGFuZGxlcjpmdW5jdGlvbihjLGUpe3ZhciBkPWEodGhpcykuZGF0YShcImRhdGVib3hcIik7aWYoIWMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7c3dpdGNoKGUubWV0aG9kKXtjYXNlXCJjbG9zZVwiOmQuY2xvc2UoZS5mcm9tQ2xvc2VCdXR0b24pO2JyZWFrO2Nhc2VcIm9wZW5cIjpkLm9wZW4oKTticmVhaztjYXNlXCJzZXRcIjphKHRoaXMpLnZhbChlLnZhbHVlKTthKHRoaXMpLnRyaWdnZXIoXCJjaGFuZ2VcIik7YnJlYWs7Y2FzZVwiZG9zZXRcIjppZihhLmluQXJyYXkoZC5vcHRpb25zLm1vZGUsW1widGltZWJveFwiLFwiZHVyYXRpb25ib3hcIixcInRpbWVmbGlwYm94XCJdKT4tMSl7YSh0aGlzKS50cmlnZ2VyKFwiZGF0ZWJveFwiLHttZXRob2Q6XCJzZXRcIix2YWx1ZTpkLl9mb3JtYXRUaW1lKGQudGhlRGF0ZSksZGF0ZTpkLnRoZURhdGV9KX1lbHNle2EodGhpcykudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwic2V0XCIsdmFsdWU6ZC5fZm9ybWF0RGF0ZShkLnRoZURhdGUpLGRhdGU6ZC50aGVEYXRlfSl9YnJlYWs7Y2FzZVwiZG9vZmZzZXRcIjpkLl9vZmZzZXQoZS50eXBlLGUuYW1vdW50LHRydWUpO2JyZWFrO2Nhc2VcImRvcmVmcmVzaFwiOmQuX3VwZGF0ZSgpO2JyZWFrO2Nhc2VcImRvcmVzZXRcIjpkLmhhcmRyZXNldCgpO2JyZWFrO2Nhc2VcImRvY2xlYXJcIjphKHRoaXMpLnZhbChcIlwiKTticmVha319fSxfZ2V0Q29vcmRzOmZ1bmN0aW9uKGcpe3ZhciBxPWcsaj1nLmZvY3VzZWRFbC5vZmZzZXQoKSxuPWcuZm9jdXNlZEVsLm91dGVySGVpZ2h0KCksaT1nLmZvY3VzZWRFbC5vdXRlcldpZHRoKCksZT1hLm1vYmlsZS5hY3RpdmVQYWdlLndpZHRoKCksaD1hKHdpbmRvdykuc2Nyb2xsVG9wKCkscD1hKHdpbmRvdykuaGVpZ2h0KCksbz1nLnBpY2tlckNvbnRlbnQuaW5uZXJXaWR0aCgpLGw9Zy5waWNrZXJDb250ZW50Lm91dGVySGVpZ2h0KCksZD1mYWxzZSxmPTAsaz0wLGM9MCxyPWEoZG9jdW1lbnQpLmhlaWdodCgpLG09e2hpZ2g6YSh3aW5kb3cpLmhlaWdodCgpLHdpZHRoOmEubW9iaWxlLmFjdGl2ZVBhZ2Uud2lkdGgoKSxmdWxsVG9wOmEod2luZG93KS5zY3JvbGxUb3AoKSxmdWxsTGVmdDphKHdpbmRvdykuc2Nyb2xsTGVmdCgpfTtpZihnLm9wdGlvbnMuY2VudGVyV2luZG93KXttLndpblRvcD1oKygocC8yKS0obC8yKSk7bS53aW5MZWZ0PSgoZS8yKS0oby8yKSl9ZWxzZXtkPWEoXCIudWktaGVhZGVyXCIsYS5tb2JpbGUuYWN0aXZlUGFnZSk7aWYoZC5sZW5ndGg+MCl7aWYoZC5pcyhcIi51aS1oZWFkZXItZml4ZWRcIikpe2s9KGQub3V0ZXJIZWlnaHQoKSsyKX1lbHNle2YrPShkLm91dGVySGVpZ2h0KCkrMil9fWQ9YShcIi51aS1mb290ZXJcIixhLm1vYmlsZS5hY3RpdmVQYWdlKTtpZihkLmxlbmd0aD4wKXtpZihkLmlzKFwiLnVpLWZvb3Rlci1maXhlZFwiKSl7Yz0oZC5vdXRlckhlaWdodCgpKzIpfWVsc2V7ci09KGQub3V0ZXJIZWlnaHQoKSsyKX19bS53aW5MZWZ0PShqLmxlZnQrKGkvMikpLShvLzIpO2lmKGU8NDUwKXttLndpbkxlZnQ9KChlLzIpLShvLzIpKX1tLndpblRvcD0oai50b3ArKG4vMikpLShsLzIpO2lmKChtLndpblRvcCtsKT5yKXttLndpblRvcCs9KHItKG0ud2luVG9wK2wpKX1pZihjPjAmJigobS53aW5Ub3ArbC1oKT4ocC1jKSkpe20ud2luVG9wPSgocC1jK2gtbCkpfWlmKG0ud2luVG9wPGYpe20ud2luVG9wPWZ9aWYoaz4wJiYobS53aW5Ub3A8KGgraykpKXttLndpblRvcD1oK2t9ZWxzZXtpZihoPmYmJmg+bS53aW5Ub3Ape20ud2luVG9wPWgrMn19fXJldHVybiBtfSxfZml4QXJyYXk6ZnVuY3Rpb24oZCl7dmFyIGM9MCxlPXRoaXMsZz1uZXcgUmVnRXhwKFwiXihbMC05XSspLShbMC05XSspLShbMC05XSspJFwiKSxmPW51bGw7aWYoYS5pc0FycmF5KGQpKXtmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKXtmPVswXTtmPWcuZXhlYyhkW2NdKTtpZihmLmxlbmd0aD09PTQpe2RbY109ZlsxXStcIi1cIitlLl96UGFkKHBhcnNlSW50KGZbMl0sMTApKStcIi1cIitlLl96UGFkKHBhcnNlSW50KGZbM10sMTApKX19fXJldHVybiBkfSxfZGlnaXRSZXBsYWNlOmZ1bmN0aW9uKGssaCl7dmFyIGo9NDgsYz01NyxkPTE1ODQsZT1udWxsLGY9bnVsbCxnPVwiXCI7aWYoaD09PS0xKXtqKz1kO2MrPWQ7ZD0tMTU4NH1mb3IoZT0wO2U8ay5sZW5ndGg7ZSsrKXtmPWsuY2hhckNvZGVBdChlKTtpZihmPj1qJiZmPD1jKXtnPWcrU3RyaW5nLmZyb21DaGFyQ29kZShmK2QpfWVsc2V7Zz1nK1N0cmluZy5mcm9tQ2hhckNvZGUoZil9fXJldHVybiBnfSxfbWFrZURpc3BsYXlJbmRpYzpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZD10aGlzLm9wdGlvbnM7Yy5waWNrZXJDb250ZW50LmZpbmQoXCIqXCIpLmVhY2goZnVuY3Rpb24oKXtpZihhKHRoaXMpLmNoaWxkcmVuKCkubGVuZ3RoPDEpe2EodGhpcykudGV4dChjLl9kaWdpdFJlcGxhY2UoYSh0aGlzKS50ZXh0KCkpKX1lbHNle2lmKGEodGhpcykuaGFzQ2xhc3MoXCJ1aS1kYXRlYm94LXNsaWRlZGF5XCIpKXthKHRoaXMpLmh0bWwoYy5fZGlnaXRSZXBsYWNlKGEodGhpcykuaHRtbCgpKSl9fX0pO2MucGlja2VyQ29udGVudC5maW5kKFwiaW5wdXRcIikuZWFjaChmdW5jdGlvbigpe2EodGhpcykudmFsKGMuX2RpZ2l0UmVwbGFjZShhKHRoaXMpLnZhbCgpKSl9KX0sX3pQYWQ6ZnVuY3Rpb24oYyl7cmV0dXJuKChjPDEwKT9cIjBcIjpcIlwiKStTdHJpbmcoYyl9LF9tYWtlT3JkOmZ1bmN0aW9uKGQpe3ZhciBjPWQlMTA7aWYoZD45JiZkPDIxKXtyZXR1cm5cInRoXCJ9aWYoYz4zKXtyZXR1cm5cInRoXCJ9cmV0dXJuW1widGhcIixcInN0XCIsXCJuZFwiLFwicmRcIl1bY119LF9pc0ludDpmdW5jdGlvbihjKXtyZXR1cm4oYy50b1N0cmluZygpLnNlYXJjaCgvXlswLTldKyQvKT09PTApfSxfZ2V0Rmlyc3REYXk6ZnVuY3Rpb24oYyl7cmV0dXJuIGMuY29weW1vZChbMF0sWzAsMCwxXSkuZ2V0RGF5KCl9LF9nZXRSZWNEYXlzOmZ1bmN0aW9uKGcsaixkKXtpZihqPT09bnVsbCl7aj10aGlzLnRoZURhdGUuZ2V0TW9udGgoKSsxfWlmKGc9PT1udWxsKXtnPXRoaXMudGhlRGF0ZS5nZXRGdWxsWWVhcigpfXZhciBjPXRoaXMsZj1uZXcgRGF0ZShnLGotMSwxLDAsMCwwLDApLGg9W10sZTtpZihmLmdldERheSgpPmQpe2Yuc2V0RGF0ZSg4LShmLmdldERheSgpLWQpKX1lbHNle2lmKGYuZ2V0RGF5KCk8ZCl7Zi5zZXREYXRlKDErKGQtZi5nZXREYXkoKSkpfX1oWzBdPWYuZ2V0SVNPKCk7Zm9yKGU9MTtlPDY7ZSsrKXtmLnNldERhdGUoZi5nZXREYXRlKCkrNyk7aWYoKGYuZ2V0TW9udGgoKSsxKT09PWope2hbZV09Zi5nZXRJU08oKX19cmV0dXJuIGh9LF9nZXRMYXN0RGF0ZTpmdW5jdGlvbihjKXtyZXR1cm4gMzItYy5jb3B5bW9kKFswXSxbMCwwLDMyLDEzXSkuZ2V0RGF0ZSgpfSxfZ2V0TGFzdERhdGVCZWZvcmU6ZnVuY3Rpb24oYyl7cmV0dXJuIDMyLWMuY29weW1vZChbMCwtMV0sWzAsMCwzMiwxM10pLmdldERhdGUoKX0sX2Zvcm1hdHRlcjpmdW5jdGlvbihlLGQpe3ZhciBjPXRoaXMsZj10aGlzLm9wdGlvbnM7aWYoIWUubWF0Y2goLyUvKSl7ZT1lLnJlcGxhY2UoXCJISFwiLHRoaXMuX3pQYWQoZC5nZXRIb3VycygpKSk7ZT1lLnJlcGxhY2UoXCJHR1wiLGQuZ2V0SG91cnMoKSk7ZT1lLnJlcGxhY2UoXCJoaFwiLHRoaXMuX3pQYWQoKChkLmdldEhvdXJzKCk9PT0wfHxkLmdldEhvdXJzKCk9PT0xMik/MTI6KChkLmdldEhvdXJzKCk8MTIpP2QuZ2V0SG91cnMoKTpkLmdldEhvdXJzKCktMTIpKSkpO2U9ZS5yZXBsYWNlKFwiZ2dcIiwoKGQuZ2V0SG91cnMoKT09PTB8fGQuZ2V0SG91cnMoKT09PTEyKT8xMjooKGQuZ2V0SG91cnMoKTwxMik/ZC5nZXRIb3VycygpOihkLmdldEhvdXJzKCktMTIpKSkpO2U9ZS5yZXBsYWNlKFwiaWlcIix0aGlzLl96UGFkKGQuZ2V0TWludXRlcygpKSk7ZT1lLnJlcGxhY2UoXCJzc1wiLHRoaXMuX3pQYWQoZC5nZXRTZWNvbmRzKCkpKTtlPWUucmVwbGFjZShcIkFBXCIsKChkLmdldEhvdXJzKCk8MTIpP3RoaXMub3B0aW9ucy5tZXJpZGllbUxldHRlcnNbMF0udG9VcHBlckNhc2UoKTp0aGlzLm9wdGlvbnMubWVyaWRpZW1MZXR0ZXJzWzFdLnRvVXBwZXJDYXNlKCkpKTtlPWUucmVwbGFjZShcImFhXCIsKChkLmdldEhvdXJzKCk8MTIpP3RoaXMub3B0aW9ucy5tZXJpZGllbUxldHRlcnNbMF0udG9Mb3dlckNhc2UoKTp0aGlzLm9wdGlvbnMubWVyaWRpZW1MZXR0ZXJzWzFdLnRvTG93ZXJDYXNlKCkpKTtlPWUucmVwbGFjZShcIlNTXCIsdGhpcy5fbWFrZU9yZChkLmdldERhdGUoKSkpO2U9ZS5yZXBsYWNlKFwiWVlZWVwiLGQuZ2V0RnVsbFllYXIoKSk7ZT1lLnJlcGxhY2UoXCJtbW1tXCIsdGhpcy5vcHRpb25zLmxhbmdbdGhpcy5vcHRpb25zLnVzZUxhbmddLm1vbnRoc09mWWVhclNob3J0W2QuZ2V0TW9udGgoKV0pO2U9ZS5yZXBsYWNlKFwibW1tXCIsdGhpcy5vcHRpb25zLmxhbmdbdGhpcy5vcHRpb25zLnVzZUxhbmddLm1vbnRoc09mWWVhcltkLmdldE1vbnRoKCldKTtlPWUucmVwbGFjZShcIk1NXCIsdGhpcy5felBhZChkLmdldE1vbnRoKCkrMSkpO2U9ZS5yZXBsYWNlKFwibW1cIixkLmdldE1vbnRoKCkrMSk7ZT1lLnJlcGxhY2UoXCJkZGRkXCIsdGhpcy5vcHRpb25zLmxhbmdbdGhpcy5vcHRpb25zLnVzZUxhbmddLmRheXNPZldlZWtTaG9ydFtkLmdldERheSgpXSk7ZT1lLnJlcGxhY2UoXCJkZGRcIix0aGlzLm9wdGlvbnMubGFuZ1t0aGlzLm9wdGlvbnMudXNlTGFuZ10uZGF5c09mV2Vla1tkLmdldERheSgpXSk7ZT1lLnJlcGxhY2UoXCJERFwiLHRoaXMuX3pQYWQoZC5nZXREYXRlKCkpKTtlPWUucmVwbGFjZShcImRkXCIsZC5nZXREYXRlKCkpO2U9ZS5yZXBsYWNlKFwiVVVcIixkLmdldEVwb2NoKCkpfWVsc2V7ZT1lLnJlcGxhY2UoLyUoMHwtKSooW2Etel0pL2dpLGZ1bmN0aW9uKGcsaSxrLGosaCl7c3dpdGNoKGspe2Nhc2VcIiVcIjpyZXR1cm5cIiVcIjtjYXNlXCJhXCI6cmV0dXJuIGYubGFuZ1tmLnVzZUxhbmddLmRheXNPZldlZWtTaG9ydFtkLmdldERheSgpXTtjYXNlXCJBXCI6cmV0dXJuIGYubGFuZ1tmLnVzZUxhbmddLmRheXNPZldlZWtbZC5nZXREYXkoKV07Y2FzZVwiYlwiOnJldHVybiBmLmxhbmdbZi51c2VMYW5nXS5tb250aHNPZlllYXJTaG9ydFtkLmdldE1vbnRoKCldO2Nhc2VcIkJcIjpyZXR1cm4gZi5sYW5nW2YudXNlTGFuZ10ubW9udGhzT2ZZZWFyW2QuZ2V0TW9udGgoKV07Y2FzZVwiQ1wiOnJldHVybiBkLmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKS5zdWJzdHIoMCwyKTtjYXNlXCJkXCI6cmV0dXJuKChpPT09XCItXCIpP2QuZ2V0RGF0ZSgpOmMuX3pQYWQoZC5nZXREYXRlKCkpKTtjYXNlXCJIXCI6Y2FzZVwia1wiOnJldHVybigoaT09PVwiLVwiKT9kLmdldEhvdXJzKCk6Yy5felBhZChkLmdldEhvdXJzKCkpKTtjYXNlXCJJXCI6Y2FzZVwibFwiOnJldHVybigoaT09PVwiLVwiKT8oKGQuZ2V0SG91cnMoKT09PTB8fGQuZ2V0SG91cnMoKT09PTEyKT8xMjooKGQuZ2V0SG91cnMoKTwxMik/ZC5nZXRIb3VycygpOihkLmdldEhvdXJzKCktMTIpKSk6Yy5felBhZCgoKGQuZ2V0SG91cnMoKT09PTB8fGQuZ2V0SG91cnMoKT09PTEyKT8xMjooKGQuZ2V0SG91cnMoKTwxMik/ZC5nZXRIb3VycygpOmQuZ2V0SG91cnMoKS0xMikpKSk7Y2FzZVwibVwiOnJldHVybigoaT09PVwiLVwiKT9kLmdldE1vbnRoKCkrMTpjLl96UGFkKGQuZ2V0TW9udGgoKSsxKSk7Y2FzZVwiTVwiOnJldHVybigoaT09PVwiLVwiKT9kLmdldE1pbnV0ZXMoKTpjLl96UGFkKGQuZ2V0TWludXRlcygpKSk7Y2FzZVwicFwiOnJldHVybigoZC5nZXRIb3VycygpPDEyKT9mLm1lcmlkaWVtTGV0dGVyc1swXS50b1VwcGVyQ2FzZSgpOmYubWVyaWRpZW1MZXR0ZXJzWzFdLnRvVXBwZXJDYXNlKCkpO2Nhc2VcIlBcIjpyZXR1cm4oKGQuZ2V0SG91cnMoKTwxMik/Zi5tZXJpZGllbUxldHRlcnNbMF0udG9Mb3dlckNhc2UoKTpmLm1lcmlkaWVtTGV0dGVyc1sxXS50b0xvd2VyQ2FzZSgpKTtjYXNlXCJzXCI6cmV0dXJuIGQuZ2V0RXBvY2g7Y2FzZVwiU1wiOnJldHVybigoaT09PVwiLVwiKT9kLmdldFNlY29uZHMoKTpjLl96UGFkKGQuZ2V0U2Vjb25kcygpKSk7Y2FzZVwid1wiOnJldHVybiBkLmdldERheSgpO2Nhc2VcInlcIjpyZXR1cm4gZC5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkuc3Vic3RyKDIsMik7Y2FzZVwiWVwiOnJldHVybiBkLmdldEZ1bGxZZWFyKCk7Y2FzZVwib1wiOnJldHVybiBjLl9tYWtlT3JkKGQuZ2V0RGF0ZSgpKTtkZWZhdWx0OnJldHVybiBnfX0pfWlmKHRoaXMub3B0aW9ucy5sYW5nW3RoaXMub3B0aW9ucy51c2VMYW5nXS51c2VBcmFiaWNJbmRpYz09PXRydWUpe2U9dGhpcy5fZGlnaXRSZXBsYWNlKGUpfXJldHVybiBlfSxfZm9ybWF0SGVhZGVyOmZ1bmN0aW9uKGMpe2lmKHRoaXMub3B0aW9ucy5oZWFkZXJGb3JtYXQhPT1mYWxzZSl7cmV0dXJuIHRoaXMuX2Zvcm1hdHRlcih0aGlzLm9wdGlvbnMuaGVhZGVyRm9ybWF0LGMpfWVsc2V7cmV0dXJuIHRoaXMuX2Zvcm1hdHRlcih0aGlzLm9wdGlvbnMubGFuZ1t0aGlzLm9wdGlvbnMudXNlTGFuZ10uaGVhZGVyRm9ybWF0LGMpfX0sX2Zvcm1hdERhdGU6ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuX2Zvcm1hdHRlcih0aGlzLm9wdGlvbnMuZGF0ZU91dHB1dCxjKX0sX2Zvcm1hdFRpbWU6ZnVuY3Rpb24oZCl7dmFyIG09dGhpcyxrPVtmYWxzZSxmYWxzZSxmYWxzZV0sYyxoLGYsZSxsPXRoaXMub3B0aW9ucy5kdXJhdGlvbkZvcm1hdCxnPVswLDAsMCwwXTtpZih0aGlzLm9wdGlvbnMubW9kZT09PVwiZHVyYXRpb25ib3hcIil7Yz10aGlzLm9wdGlvbnMuZHVyYXRpb25Gb3JtYXQ7Yz1jLnJlcGxhY2UoL2RkZC9nLFwiLis/XCIpO2M9Yy5yZXBsYWNlKC9ERHxzc3xoaHxpaS9nLFwiKFswLTlEaGlzXSspXCIpO2M9bmV3IFJlZ0V4cChcIl5cIitjK1wiJFwiKTtoPWMuZXhlYyh0aGlzLm9wdGlvbnMuZHVyYXRpb25Gb3JtYXQpO2Y9bS50aGVEYXRlLmdldEVwb2NoKCktbS5pbml0RGF0ZS5nZXRFcG9jaCgpO2U9ZjtnWzBdPXBhcnNlSW50KGYvKDYwKjYwKjI0KSwxMCk7Zj1mLShnWzBdKjYwKjYwKjI0KTtnWzFdPXBhcnNlSW50KGYvKDYwKjYwKSwxMCk7Zj1mLShnWzFdKjYwKjYwKTtnWzJdPXBhcnNlSW50KGYvKDYwKSwxMCk7Zj1mLShnWzJdKjYwKTtnWzNdPWY7aWYoIWhbMF0ubWF0Y2goL0RELykpe2tbMF09dHJ1ZTtnWzFdPWdbMV0rKGdbMF0qMjQpfWlmKCFoWzBdLm1hdGNoKC9oaC8pKXtrWzFdPXRydWU7Z1syXT1nWzJdKyhnWzFdKjYwKX1pZighaFswXS5tYXRjaCgvaWkvKSl7a1syXT10cnVlO2dbM109Z1szXSsoZ1syXSo2MCl9bD1sLnJlcGxhY2UoXCJERFwiLGdbMF0pO2w9bC5yZXBsYWNlKFwiZGRkXCIsKChnWzBdPjEpP3RoaXMub3B0aW9ucy5sYW5nW3RoaXMub3B0aW9ucy51c2VMYW5nXS5kdXJhdGlvbkRheXNbMV06dGhpcy5vcHRpb25zLmxhbmdbdGhpcy5vcHRpb25zLnVzZUxhbmddLmR1cmF0aW9uRGF5c1swXSkpO2w9bC5yZXBsYWNlKFwiaGhcIixtLl96UGFkKGdbMV0pKTtsPWwucmVwbGFjZShcImlpXCIsbS5felBhZChnWzJdKSk7bD1sLnJlcGxhY2UoXCJzc1wiLG0uX3pQYWQoZ1szXSkpO2lmKHRoaXMub3B0aW9ucy5sYW5nW3RoaXMub3B0aW9ucy51c2VMYW5nXS51c2VBcmFiaWNJbmRpYz09PXRydWUpe3JldHVybiB0aGlzLl9kaWdpdFJlcGxhY2UobCl9ZWxzZXtyZXR1cm4gbH19ZWxzZXtyZXR1cm4gdGhpcy5fZm9ybWF0dGVyKG0ub3B0aW9ucy50aW1lT3V0cHV0LGQpfX0sX21ha2VEYXRlOmZ1bmN0aW9uKGspe2s9YS50cmltKGspO3ZhciBkPXRoaXMub3B0aW9ucyxuPXRoaXMsZT1udWxsLG09bnVsbCxsPW51bGwsYz1udWxsLGY9bmV3IERhdGUoKSxqPVtmYWxzZSxmYWxzZSxmYWxzZV0sZz1bZi5nZXRGdWxsWWVhcigpLGYuZ2V0TW9udGgoKSxmLmdldERhdGUoKSxmLmdldEhvdXJzKCksZi5nZXRNaW51dGVzKCksZi5nZXRTZWNvbmRzKCksMF0saDtpZihkLmxhbmdbdGhpcy5vcHRpb25zLnVzZUxhbmddLnVzZUFyYWJpY0luZGljPT09dHJ1ZSl7az10aGlzLl9kaWdpdFJlcGxhY2UoaywtMSl9aWYoZC5tb2RlPT09XCJkdXJhdGlvbmJveFwiKXtlPWQuZHVyYXRpb25Gb3JtYXQ7ZT1lLnJlcGxhY2UoL2RkZC9nLFwiLis/XCIpO2U9ZS5yZXBsYWNlKC9ERHxzc3xoaHxpaS9nLFwiKFswLTlEaGlzXSspXCIpO2U9bmV3IFJlZ0V4cChcIl5cIitlK1wiJFwiKTttPWUuZXhlYyhrKTtsPWUuZXhlYyhkLmR1cmF0aW9uRm9ybWF0KTtpZihtPT09bnVsbHx8bS5sZW5ndGghPT1sLmxlbmd0aCl7aWYodHlwZW9mIGQuZGVmYXVsdFBpY2tlclZhbHVlPT09XCJudW1iZXJcIiYmZC5kZWZhdWx0UGlja2VyVmFsdWU+MCl7cmV0dXJuIG5ldyBEYXRlKChuLmluaXREYXRlLmdldEVwb2NoKCkrcGFyc2VJbnQoZC5kZWZhdWx0UGlja2VyVmFsdWUsMTApKSoxMDAwKX1lbHNle3JldHVybiBuZXcgRGF0ZShuLmluaXREYXRlLmdldFRpbWUoKSl9fWVsc2V7Yz1uLmluaXREYXRlLmdldEVwb2NoKCk7Zm9yKGg9MDtoPG0ubGVuZ3RoO2grKyl7aWYobFtoXS5tYXRjaCgvXkREJC9pKSl7Yz1jKyhwYXJzZUludChtW2hdLDEwKSo2MCo2MCoyNCl9aWYobFtoXS5tYXRjaCgvXmhoJC9pKSl7Yz1jKyhwYXJzZUludChtW2hdLDEwKSo2MCo2MCl9aWYobFtoXS5tYXRjaCgvXmlpJC9pKSl7Yz1jKyhwYXJzZUludChtW2hdLDEwKSo2MCl9aWYobFtoXS5tYXRjaCgvXnNzJC9pKSl7Yz1jKyhwYXJzZUludChtW2hdLDEwKSl9fXJldHVybiBuZXcgRGF0ZSgoYyoxMDAwKSl9fWVsc2V7aWYoZC5tb2RlPT09XCJ0aW1lYm94XCJ8fGQubW9kZT09PVwidGltZWZsaXBib3hcIil7ZT1kLnRpbWVPdXRwdXR9ZWxzZXtlPWQuZGF0ZU91dHB1dH1pZihlLm1hdGNoKC8lLykpe2U9ZS5yZXBsYWNlKC8lKDB8LSkqKFthLXpdKS9naSxmdW5jdGlvbihpLHAscixxLG8pe3N3aXRjaChyKXtjYXNlXCJwXCI6Y2FzZVwiUFwiOmNhc2VcImJcIjpjYXNlXCJCXCI6cmV0dXJuXCIoXCIraStcInwuKz8pXCI7Y2FzZVwiSFwiOmNhc2VcImtcIjpjYXNlXCJJXCI6Y2FzZVwibFwiOmNhc2VcIm1cIjpjYXNlXCJNXCI6Y2FzZVwiU1wiOmNhc2VcImRcIjpyZXR1cm5cIihcIitpK1wifFwiKygocD09PVwiLVwiKT9cIlswLTldezEsMn1cIjpcIlswLTldezJ9XCIpK1wiKVwiO2Nhc2VcInNcIjpyZXR1cm5cIihcIitpK1wifFswLTldKylcIjtjYXNlXCJ5XCI6cmV0dXJuXCIoXCIraStcInxbMC05XXsyfSlcIjtjYXNlXCJZXCI6cmV0dXJuXCIoXCIraStcInxbMC05XXsxLDR9KVwiO2RlZmF1bHQ6cmV0dXJuXCIuKz9cIn19KTtlPW5ldyBSZWdFeHAoXCJeXCIrZStcIiRcIik7bT1lLmV4ZWMoayk7aWYoZC5tb2RlPT09XCJ0aW1lYm94XCJ8fGQubW9kZT09PVwidGltZWZsaXBib3hcIil7bD1lLmV4ZWMoZC50aW1lT3V0cHV0KX1lbHNle2w9ZS5leGVjKGQuZGF0ZU91dHB1dCl9aWYobT09PW51bGx8fG0ubGVuZ3RoIT09bC5sZW5ndGgpe2lmKGQuZGVmYXVsdFBpY2tlclZhbHVlIT09ZmFsc2Upe2lmKGEuaXNBcnJheShkLmRlZmF1bHRQaWNrZXJWYWx1ZSkmJmQuZGVmYXVsdFBpY2tlclZhbHVlLmxlbmd0aD09PTMpe2lmKGQubW9kZT09PVwidGltZWJveFwifHxkLm1vZGU9PT1cInRpbWVmbGlwYm94XCIpe3JldHVybiBuZXcgRGF0ZShnWzBdLGdbMV0sZ1syXSxkLmRlZmF1bHRQaWNrZXJWYWx1ZVswXSxkLmRlZmF1bHRQaWNrZXJWYWx1ZVsxXSxkLmRlZmF1bHRQaWNrZXJWYWx1ZVsyXSwwKX1lbHNle3JldHVybiBuZXcgRGF0ZShkLmRlZmF1bHRQaWNrZXJWYWx1ZVswXSxkLmRlZmF1bHRQaWNrZXJWYWx1ZVsxXSxkLmRlZmF1bHRQaWNrZXJWYWx1ZVsyXSwwLDAsMCwwKX19ZWxzZXtpZih0eXBlb2YgZC5kZWZhdWx0UGlja2VyVmFsdWU9PT1cIm51bWJlclwiKXtyZXR1cm4gbmV3IERhdGUoZC5kZWZhdWx0UGlja2VyVmFsdWUqMTAwMCl9ZWxzZXtpZihkLm1vZGU9PT1cInRpbWVib3hcInx8ZC5tb2RlPT09XCJ0aW1lZmxpcGJveFwiKXtjPWQuZGVmYXVsdFBpY2tlclZhbHVlLnNwbGl0KFwiOlwiKTtpZihjLmxlbmd0aD09PTMpe2Y9bmV3IERhdGUoZ1swXSxnWzFdLGdbMl0scGFyc2VJbnQoY1swXSwxMCkscGFyc2VJbnQoY1sxXSwxMCkscGFyc2VJbnQoY1syXSwxMCksMCk7aWYoaXNOYU4oZi5nZXREYXRlKCkpKXtmPW5ldyBEYXRlKCl9fX1lbHNle2M9ZC5kZWZhdWx0UGlja2VyVmFsdWUuc3BsaXQoXCItXCIpO2lmKGMubGVuZ3RoPT09Myl7Zj1uZXcgRGF0ZShwYXJzZUludChjWzBdLDEwKSxwYXJzZUludChjWzFdLDEwKS0xLHBhcnNlSW50KGNbMl0sMTApLDAsMCwwLDApO2lmKGlzTmFOKGYuZ2V0RGF0ZSgpKSl7Zj1uZXcgRGF0ZSgpfX19fX19fWVsc2V7Zm9yKGg9MDtoPG0ubGVuZ3RoO2grKyl7aWYobFtoXT09PVwiJXNcIil7Z1s2XT1wYXJzZUludChtW2hdLDEwKX1pZihsW2hdLm1hdGNoKC9eJS4qUyQvKSl7Z1s1XT1wYXJzZUludChtW2hdLDEwKX1pZihsW2hdLm1hdGNoKC9eJS4qTSQvKSl7Z1s0XT1wYXJzZUludChtW2hdLDEwKX1pZihsW2hdLm1hdGNoKC9eJS4qKEh8a3xJfGwpJC8pKXtnWzNdPXBhcnNlSW50KG1baF0sMTApfWlmKGxbaF0ubWF0Y2goL14lLipkJC8pKXtnWzJdPXBhcnNlSW50KG1baF0sMTApfWlmKGxbaF0ubWF0Y2goL14lLiptJC8pKXtnWzFdPXBhcnNlSW50KG1baF0sMTApLTF9aWYobFtoXS5tYXRjaCgvXiUuKlkkLykpe2dbMF09cGFyc2VJbnQobVtoXSwxMCl9aWYobFtoXS5tYXRjaCgvXiUuKnkkLykpe2lmKGQuYWZ0ZXJUb2RheT09PXRydWUpe2dbMF09cGFyc2VJbnQoXCIyMFwiK21baF0sMTApfWVsc2V7aWYocGFyc2VJbnQobVtoXSwxMCk8Mzgpe2dbMF09cGFyc2VJbnQoXCIyMFwiK21baF0sMTApfWVsc2V7Z1swXT1wYXJzZUludChcIjE5XCIrbVtoXSwxMCl9fX1pZihsW2hdLm1hdGNoKC9eJSgwfC0pKihwfFApJC8pKXtpZihtW2hdLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApPT09XCJhXCImJmdbM109PT0xMil7Z1szXT0wfWVsc2V7aWYobVtoXS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKT09PVwicFwiJiZnWzNdIT09MTIpe2dbM109Z1szXSsxMn19fWlmKGxbaF09PT1cIiVCXCIpe2M9YS5pbkFycmF5KG1baF0sZC5sYW5nW2QudXNlTGFuZ10ubW9udGhzT2ZZZWFyKTtpZihjPi0xKXtnWzFdPWN9fWlmKGxbaF09PT1cIiViXCIpe2M9YS5pbkFycmF5KG1baF0sZC5sYW5nW2QudXNlTGFuZ10ubW9udGhzT2ZZZWFyU2hvcnQpO2lmKGM+LTEpe2dbMV09Y319fX1pZihsWzBdLm1hdGNoKC8lcy8pKXtmPW5ldyBEYXRlKGdbNl0qMTAwMCl9ZWxzZXtpZihsWzBdLm1hdGNoKC8lKC4pKihJfGx8SHxrfHN8TSkvKSl7Zj1uZXcgRGF0ZShnWzBdLGdbMV0sZ1syXSxnWzNdLGdbNF0sZ1s1XSwwKTtpZihnWzBdPDEwMCl7Zi5zZXRGdWxsWWVhcihnWzBdKX19ZWxzZXtmPW5ldyBEYXRlKGdbMF0sZ1sxXSxnWzJdLDAsMCwwLDApO2lmKGdbMF08MTAwKXtmLnNldEZ1bGxZZWFyKGdbMF0pfX19cmV0dXJuIGZ9ZWxzZXtlPWUucmVwbGFjZSgvZGRkZHxtbW1tL2csXCIoLis/KVwiKTtlPWUucmVwbGFjZSgvZGRkfFNTL2csXCIuKz9cIik7ZT1lLnJlcGxhY2UoL21tbS9nLFwiKC4rPylcIik7ZT1lLnJlcGxhY2UoLyAqQUEvaWcsXCIgKiguKj8pXCIpO2U9ZS5yZXBsYWNlKC95eXl5fGRkfG1tfGdnfGhofGlpL2lnLFwiKFswLTl5WWREbU1nR2hIaV0rKVwiKTtlPWUucmVwbGFjZSgvc3N8VVUvZyxcIihbMC05c1VdKylcIik7ZT1uZXcgUmVnRXhwKFwiXlwiK2UrXCIkXCIpO209ZS5leGVjKGspO2lmKGQubW9kZT09PVwidGltZWJveFwifHxkLm1vZGU9PT1cInRpbWVmbGlwYm94XCIpe2w9ZS5leGVjKGQudGltZU91dHB1dCl9ZWxzZXtsPWUuZXhlYyhkLmRhdGVPdXRwdXQpfWlmKG09PT1udWxsfHxtLmxlbmd0aCE9PWwubGVuZ3RoKXtpZihkLmRlZmF1bHRQaWNrZXJWYWx1ZSE9PWZhbHNlKXtpZihhLmlzQXJyYXkoZC5kZWZhdWx0UGlja2VyVmFsdWUpJiZkLmRlZmF1bHRQaWNrZXJWYWx1ZS5sZW5ndGg9PT0zKXtpZihkLm1vZGU9PT1cInRpbWVib3hcInx8ZC5tb2RlPT09XCJ0aW1lZmxpcGJveFwiKXtyZXR1cm4gbmV3IERhdGUoZ1swXSxnWzFdLGdbMl0sZC5kZWZhdWx0UGlja2VyVmFsdWVbMF0sZC5kZWZhdWx0UGlja2VyVmFsdWVbMV0sZC5kZWZhdWx0UGlja2VyVmFsdWVbMl0sMCl9ZWxzZXtyZXR1cm4gbmV3IERhdGUoZC5kZWZhdWx0UGlja2VyVmFsdWVbMF0sZC5kZWZhdWx0UGlja2VyVmFsdWVbMV0sZC5kZWZhdWx0UGlja2VyVmFsdWVbMl0sMCwwLDAsMCl9fWVsc2V7aWYodHlwZW9mIGQuZGVmYXVsdFBpY2tlclZhbHVlPT09XCJudW1iZXJcIil7cmV0dXJuIG5ldyBEYXRlKGQuZGVmYXVsdFBpY2tlclZhbHVlKjEwMDApfWVsc2V7aWYoZC5tb2RlPT09XCJ0aW1lYm94XCJ8fGQubW9kZT09PVwidGltZWZsaXBib3hcIil7Yz1kLmRlZmF1bHRQaWNrZXJWYWx1ZS5zcGxpdChcIjpcIik7aWYoYy5sZW5ndGg9PT0zKXtmPW5ldyBEYXRlKGdbMF0sZ1sxXSxnWzJdLHBhcnNlSW50KGNbMF0sMTApLHBhcnNlSW50KGNbMV0sMTApLHBhcnNlSW50KGNbMl0sMTApLDApO2lmKGlzTmFOKGYuZ2V0RGF0ZSgpKSl7Zj1uZXcgRGF0ZSgpfX19ZWxzZXtjPWQuZGVmYXVsdFBpY2tlclZhbHVlLnNwbGl0KFwiLVwiKTtpZihjLmxlbmd0aD09PTMpe2Y9bmV3IERhdGUocGFyc2VJbnQoY1swXSwxMCkscGFyc2VJbnQoY1sxXSwxMCktMSxwYXJzZUludChjWzJdLDEwKSwwLDAsMCwwKTtpZihpc05hTihmLmdldERhdGUoKSkpe2Y9bmV3IERhdGUoKX19fX19fX1lbHNle2ZvcihoPTA7aDxtLmxlbmd0aDtoKyspe2lmKGxbaF0ubWF0Y2goL15VVSQvKSl7Z1s2XT1wYXJzZUludChtW2hdLDEwKX1pZihsW2hdLm1hdGNoKC9eZ2ckL2kpKXtnWzNdPXBhcnNlSW50KG1baF0sMTApfWlmKGxbaF0ubWF0Y2goL15oaCQvaSkpe2dbM109cGFyc2VJbnQobVtoXSwxMCl9aWYobFtoXS5tYXRjaCgvXmlpJC9pKSl7Z1s0XT1wYXJzZUludChtW2hdLDEwKX1pZihsW2hdLm1hdGNoKC9ec3MkLykpe2dbNV09cGFyc2VJbnQobVtoXSwxMCl9aWYobFtoXS5tYXRjaCgvXmRkJC9pKSl7Z1syXT1wYXJzZUludChtW2hdLDEwKX1pZihsW2hdLm1hdGNoKC9ebW0kL2kpKXtnWzFdPXBhcnNlSW50KG1baF0sMTApLTF9aWYobFtoXS5tYXRjaCgvXnl5eXkkL2kpKXtnWzBdPXBhcnNlSW50KG1baF0sMTApfWlmKGxbaF0ubWF0Y2goL15BQSQvaSkpe2lmKG1baF0udG9Mb3dlckNhc2UoKS5jaGFyQXQoMCk9PT1cImFcIiYmZ1szXT09PTEyKXtnWzNdPTB9ZWxzZXtpZihtW2hdLnRvTG93ZXJDYXNlKCkuY2hhckF0KDApPT09XCJwXCImJmdbM10hPT0xMil7Z1szXT1nWzNdKzEyfX19aWYobFtoXS5tYXRjaCgvXm1tbSQvaSkpe2M9YS5pbkFycmF5KG1baF0sZC5sYW5nW2QudXNlTGFuZ10ubW9udGhzT2ZZZWFyKTtpZihjPi0xKXtnWzFdPWN9fWlmKGxbaF0ubWF0Y2goL15tbW1tJC9pKSl7Yz1hLmluQXJyYXkobVtoXSxkLmxhbmdbZC51c2VMYW5nXS5tb250aHNPZlllYXJTaG9ydCk7aWYoYz4tMSl7Z1sxXT1jfX19fWlmKGxbMF0ubWF0Y2goL1VVLykpe3JldHVybiBuZXcgRGF0ZShnWzZdKjEwMDApfWVsc2V7aWYobFswXS5tYXRjaCgvR3xnfGl8c3xIfGh8QS8pKXtyZXR1cm4gbmV3IERhdGUoZ1swXSxnWzFdLGdbMl0sZ1szXSxnWzRdLGdbNV0sMCl9ZWxzZXtyZXR1cm4gbmV3IERhdGUoZ1swXSxnWzFdLGdbMl0sMCwwLDAsMCl9fX19fSxfaG9vdmVyOmZ1bmN0aW9uKGMpe2EoYykudG9nZ2xlQ2xhc3MoXCJ1aS1idG4tdXAtXCIrYShjKS5qcW1EYXRhKFwidGhlbWVcIikrXCIgdWktYnRuLWRvd24tXCIrYShjKS5qcW1EYXRhKFwidGhlbWVcIikpfSxfb2Zmc2V0OmZ1bmN0aW9uKGcsZSxoKXt2YXIgYz10aGlzLGY9dGhpcy5vcHRpb25zLGQ9ZmFsc2U7aWYodHlwZW9mKGgpPT09XCJ1bmRlZmluZWRcIil7aD10cnVlfWMuaW5wdXQudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwib2Zmc2V0XCIsdHlwZTpnLGFtb3VudDplfSk7c3dpdGNoKGcpe2Nhc2VcInlcIjpkPXRydWU7YnJlYWs7Y2FzZVwibVwiOmlmKGYucm9sbG92ZXJNb2RlLm18fChjLnRoZURhdGUuZ2V0TW9udGgoKStlPDEyJiZjLnRoZURhdGUuZ2V0TW9udGgoKStlPi0xKSl7ZD10cnVlfWJyZWFrO2Nhc2VcImRcIjppZihmLnJvbGxvdmVyTW9kZS5kfHwoYy50aGVEYXRlLmdldERhdGUoKStlPjAmJmMudGhlRGF0ZS5nZXREYXRlKCkrZTwoYy5fZ2V0TGFzdERhdGUoYy50aGVEYXRlKSsxKSkpe2Q9dHJ1ZX1icmVhaztjYXNlXCJoXCI6aWYoZi5yb2xsb3Zlck1vZGUuaHx8KGMudGhlRGF0ZS5nZXRIb3VycygpK2U+LTEmJmMudGhlRGF0ZS5nZXRIb3VycygpK2U8MjQpKXtkPXRydWV9YnJlYWs7Y2FzZVwiaVwiOmlmKGYucm9sbG92ZXJNb2RlLml8fChjLnRoZURhdGUuZ2V0TWludXRlcygpK2U+LTEmJmMudGhlRGF0ZS5nZXRNaW51dGVzKCkrZTw2MCkpe2Q9dHJ1ZX1icmVhaztjYXNlXCJzXCI6aWYoZi5yb2xsb3Zlck1vZGUuc3x8KGMudGhlRGF0ZS5nZXRTZWNvbmRzKCkrZT4tMSYmYy50aGVEYXRlLmdldFNlY29uZHMoKStlPDYwKSl7ZD10cnVlfWJyZWFrO2Nhc2VcImFcIjppZihjLnBpY2tlck1lcmkudmFsKCk9PT1mLm1lcmlkaWVtTGV0dGVyc1swXSl7Yy5fb2Zmc2V0KFwiaFwiLDEyLGZhbHNlKX1lbHNle2MuX29mZnNldChcImhcIiwtMTIsZmFsc2UpfWJyZWFrfWlmKGQ9PT10cnVlKXtjLnRoZURhdGUuYWRqdXN0KGcsZSl9aWYoaD09PXRydWUpe2MuX3VwZGF0ZSgpfX0sX3VwZGF0ZWR1cmF0aW9uOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxkPWMuaW5pdERhdGUuZ2V0RXBvY2goKTtpZighYy5faXNJbnQoYy5waWNrZXJEYXkudmFsKCkpKXtjLnBpY2tlckRheS52YWwoMCl9aWYoIWMuX2lzSW50KGMucGlja2VySG91ci52YWwoKSkpe2MucGlja2VySG91ci52YWwoMCl9aWYoIWMuX2lzSW50KGMucGlja2VyTWlucy52YWwoKSkpe2MucGlja2VyTWlucy52YWwoMCl9aWYoIWMuX2lzSW50KGMucGlja2VyU2Vjcy52YWwoKSkpe2MucGlja2VyU2Vjcy52YWwoMCl9ZD1kKyhwYXJzZUludChjLnBpY2tlckRheS52YWwoKSwxMCkqNjAqNjAqMjQpO2Q9ZCsocGFyc2VJbnQoYy5waWNrZXJIb3VyLnZhbCgpLDEwKSo2MCo2MCk7ZD1kKyhwYXJzZUludChjLnBpY2tlck1pbnMudmFsKCksMTApKjYwKTtkPWQrKHBhcnNlSW50KGMucGlja2VyU2Vjcy52YWwoKSwxMCkpO2MudGhlRGF0ZS5zZXRUaW1lKGQqMTAwMCk7Yy5fdXBkYXRlKCl9LF9jaGVja0NvbnN0cmFpbnRzOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxjPW51bGwsZT10aGlzLm9wdGlvbnM7ZC5kYXRlT0s9dHJ1ZTtpZihlLmFmdGVyVG9kYXkhPT1mYWxzZSl7Yz1uZXcgRGF0ZSgpO2lmKGQudGhlRGF0ZTxjKXtkLnRoZURhdGU9Y319aWYoZS5iZWZvcmVUb2RheSE9PWZhbHNlKXtjPW5ldyBEYXRlKCk7aWYoZC50aGVEYXRlPmMpe2QudGhlRGF0ZT1jfX1pZihlLm1heERheXMhPT1mYWxzZSl7Yz1uZXcgRGF0ZSgpO2MuYWRqdXN0KFwiZFwiLGUubWF4RGF5cyk7aWYoZC50aGVEYXRlPmMpe2QudGhlRGF0ZT1jfX1pZihlLm1pbkRheXMhPT1mYWxzZSl7Yz1uZXcgRGF0ZSgpO2MuYWRqdXN0KFwiZFwiLC0xKmUubWluRGF5cyk7aWYoZC50aGVEYXRlPGMpe2QudGhlRGF0ZT1jfX1pZihlLm1heFllYXIhPT1mYWxzZSl7Yz1uZXcgRGF0ZShlLm1heFllYXIsMCwxKTtjLmFkanVzdChcImRcIiwtMSk7aWYoZC50aGVEYXRlPmMpe2QudGhlRGF0ZT1jfX1pZihlLm1pblllYXIhPT1mYWxzZSl7Yz1uZXcgRGF0ZShlLm1pblllYXIsMCwxKTtpZihkLnRoZURhdGU8Yyl7ZC50aGVEYXRlPWN9fWlmKGUuYmxhY2tEYXRlcyE9PWZhbHNlKXtpZihhLmluQXJyYXkoZC50aGVEYXRlLmdldElTTygpLGUuYmxhY2tEYXRlcyk+LTEpe2QuZGF0ZU9LPWZhbHNlfX1pZihlLmJsYWNrRGF5cyE9PWZhbHNlKXtpZihhLmluQXJyYXkoZC50aGVEYXRlLmdldERheSgpLGUuYmxhY2tEYXlzKT4tMSl7ZC5kYXRlT0s9ZmFsc2V9fWlmKGEuaW5BcnJheShlLm1vZGUsW1widGltZWJveFwiLFwiZHVyYXRpb25ib3hcIixcInRpbWVmbGlwYm94XCJdKT4tMSl7ZC5kYXRlT0s9dHJ1ZX19LF9vcmllbnRDaGFuZ2U6ZnVuY3Rpb24oZil7dmFyIGM9Zi5kYXRhLndpZGdldCxnPWYuZGF0YS53aWRnZXQub3B0aW9ucyxkPWYuZGF0YS53aWRnZXQuX2dldENvb3JkcyhmLmRhdGEud2lkZ2V0KTtmLnN0b3BQcm9wYWdhdGlvbigpO2lmKCFjLnBpY2tlckNvbnRlbnQuaXMoXCI6dmlzaWJsZVwiKXx8Zy51c2VEaWFsb2c9PT10cnVlKXtyZXR1cm4gZmFsc2V9ZWxzZXtpZihnLmZ1bGxTY3JlZW49PXRydWUmJihkLndpZHRoPDQwMHx8Zy5mdWxsU2NyZWVuRm9yY2U9PT10cnVlKSl7Yy5waWNrZXJDb250ZW50LmNzcyh7dG9wOmQuZnVsbFRvcCxsZWZ0OmQuZnVsbExlZnQsaGVpZ2h0OmQuaGlnaCx3aWR0aDpkLndpZHRoLG1heFdpZHRoOmQud2lkdGh9KX1lbHNle2MucGlja2VyQ29udGVudC5jc3Moe3RvcDpkLndpblRvcCxsZWZ0OmQud2luTGVmdH0pfX19LF91cGRhdGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5vcHRpb25zLHA9bnVsbCxnLGgsaixyLG4sbSxrLGYscyxjLHEsZD17ZDo2MCo2MCoyNCxoOjYwKjYwLGk6NjAsczoxfSxsPXt9O3QuaW5wdXQudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwicmVmcmVzaFwifSk7aWYoZS5tb2RlPT09XCJkdXJhdGlvbmJveFwiKXtnPXQudGhlRGF0ZS5nZXRFcG9jaCgpLXQuaW5pdERhdGUuZ2V0RXBvY2goKTtpZihnPDApe2c9MDt0LnRoZURhdGUuc2V0VGltZSh0LmluaXREYXRlLmdldFRpbWUoKSl9ZS5sYXN0RHVyYXRpb249ZzttPXBhcnNlSW50KGcvZC5kLDEwKTtnPWctKG0qZC5kKTt0LnBpY2tlckRheS52YWwobSk7bT1wYXJzZUludChnL2QuaCwxMCk7Zz1nLShtKmQuaCk7dC5waWNrZXJIb3VyLnZhbChtKTttPXBhcnNlSW50KGcvZC5pLDEwKTtnPWctKG0qZC5pKTt0LnBpY2tlck1pbnMudmFsKG0pO3QucGlja2VyU2Vjcy52YWwocGFyc2VJbnQoZywxMCkpfWlmKGUubW9kZT09PVwidGltZWJveFwiKXtpZihlLm1pbnV0ZVN0ZXAhPT0xKXtnPXQudGhlRGF0ZS5nZXRNaW51dGVzKCklZS5taW51dGVTdGVwO2lmKGchPT0wKXt0LnRoZURhdGUuYWRqdXN0KFwibVwiLC0xKmcpfX10LnBpY2tlck1pbnMudmFsKHQuX3pQYWQodC50aGVEYXRlLmdldE1pbnV0ZXMoKSkpO2lmKGUubGFuZ1tlLnVzZUxhbmddLnRpbWVGb3JtYXQ9PT0xMnx8ZS50aW1lRm9ybWF0T3ZlcnJpZGU9PT0xMil7aWYodC50aGVEYXRlLmdldEhvdXJzKCk+MTEpe3QucGlja2VyTWVyaS52YWwoZS5tZXJpZGllbUxldHRlcnNbMV0pO2lmKHQudGhlRGF0ZS5nZXRIb3VycygpPT09MTIpe3QucGlja2VySG91ci52YWwoMTIpfWVsc2V7dC5waWNrZXJIb3VyLnZhbCh0LnRoZURhdGUuZ2V0SG91cnMoKS0xMil9fWVsc2V7dC5waWNrZXJNZXJpLnZhbChlLm1lcmlkaWVtTGV0dGVyc1swXSk7aWYodC50aGVEYXRlLmdldEhvdXJzKCk9PT0wKXt0LnBpY2tlckhvdXIudmFsKDEyKX1lbHNle3QucGlja2VySG91ci52YWwodC50aGVEYXRlLmdldEhvdXJzKCkpfX19ZWxzZXt0LnBpY2tlckhvdXIudmFsKHQudGhlRGF0ZS5nZXRIb3VycygpKX19aWYoZS5tb2RlPT09XCJmbGlwYm94XCJ8fGUubW9kZT09PVwidGltZWZsaXBib3hcIil7dC5fY2hlY2tDb25zdHJhaW50cygpO2Y9dC5fbWFrZURhdGUodC5pbnB1dC52YWwoKSk7dC5jb250cm9sc0hlYWRlci5lbXB0eSgpLmh0bWwodC5fZm9ybWF0SGVhZGVyKHQudGhlRGF0ZSkpO2ZvcihtPTA7bTxlLmZpZWxkc09yZGVyLmxlbmd0aDttKyspe2M9dHJ1ZTtzd2l0Y2goZS5maWVsZHNPcmRlclttXSl7Y2FzZVwieVwiOm49dC5waWNrZXJZYXIuZmluZChcInVsXCIpO24uZW1wdHkoKTtmb3IoZz0tMTU7ZzwxNjtnKyspe2s9KChmLmdldEZ1bGxZZWFyKCk9PT0odC50aGVEYXRlLmdldEZ1bGxZZWFyKCkrZykpP2UucGlja1BhZ2VIaWdoQnV0dG9uVGhlbWU6ZS5waWNrUGFnZUZsaXBCdXR0b25UaGVtZSk7aWYoZz09PTApe2s9ZS5waWNrUGFnZUJ1dHRvblRoZW1lfWEoXCI8bGk+XCIse1wiY2xhc3NcIjpcInVpLWJvZHktXCIrayxzdHlsZTooKGM9PT10cnVlKT9cIm1hcmdpbi10b3A6IC00NTNweFwiOlwiXCIpfSkuaHRtbChcIjxzcGFuPlwiKyh0LnRoZURhdGUuZ2V0RnVsbFllYXIoKStnKStcIjwvc3Bhbj5cIikuYXBwZW5kVG8obik7Yz1mYWxzZX1icmVhaztjYXNlXCJtXCI6bj10LnBpY2tlck1vbi5maW5kKFwidWxcIik7bi5lbXB0eSgpO2ZvcihnPS0xMjtnPDEzO2crKyl7cD1uZXcgRGF0ZSh0LnRoZURhdGUuZ2V0RnVsbFllYXIoKSx0LnRoZURhdGUuZ2V0TW9udGgoKSwxKTtwLmFkanVzdChcIm1cIixnKTtrPShmLmdldE1vbnRoKCk9PT1wLmdldE1vbnRoKCkmJmYuZ2V0WWVhcigpPT09cC5nZXRZZWFyKCkpP2UucGlja1BhZ2VIaWdoQnV0dG9uVGhlbWU6ZS5waWNrUGFnZUZsaXBCdXR0b25UaGVtZTtpZihnPT09MCl7az1lLnBpY2tQYWdlQnV0dG9uVGhlbWV9YShcIjxsaT5cIix7XCJjbGFzc1wiOlwidWktYm9keS1cIitrLHN0eWxlOigoYz09PXRydWUpP1wibWFyZ2luLXRvcDogLTM1N3B4XCI6XCJcIil9KS5odG1sKFwiPHNwYW4+XCIrZS5sYW5nW2UudXNlTGFuZ10ubW9udGhzT2ZZZWFyU2hvcnRbcC5nZXRNb250aCgpXStcIjwvc3Bhbj5cIikuYXBwZW5kVG8obik7Yz1mYWxzZX1icmVhaztjYXNlXCJkXCI6bj10LnBpY2tlckRheS5maW5kKFwidWxcIik7bi5lbXB0eSgpO2ZvcihnPS0xNTtnPDE2O2crKyl7cD10LnRoZURhdGUuY29weSgpO3AuYWRqdXN0KFwiZFwiLGcpO3E9XCJcIjtpZigoZS5ibGFja0RhdGVzIT09ZmFsc2UmJmEuaW5BcnJheShwLmdldElTTygpLGUuYmxhY2tEYXRlcyk+LTEpfHwoZS5ibGFja0RheXMhPT1mYWxzZSYmYS5pbkFycmF5KHAuZ2V0RGF5KCksZS5ibGFja0RheXMpPi0xKSl7cT1cIiB1aS1kYXRlYm94LWdyaWRkYXRlLWRpc2FibGVcIn1rPShmLmdldERhdGUoKT09PXAuZ2V0RGF0ZSgpJiZmLmdldE1vbnRoKCk9PT1wLmdldE1vbnRoKCkmJmYuZ2V0WWVhcigpPT09cC5nZXRZZWFyKCkpP2UucGlja1BhZ2VIaWdoQnV0dG9uVGhlbWU6ZS5waWNrUGFnZUZsaXBCdXR0b25UaGVtZTtpZihnPT09MCl7az1lLnBpY2tQYWdlQnV0dG9uVGhlbWV9YShcIjxsaT5cIix7XCJjbGFzc1wiOlwidWktYm9keS1cIitrK3Esc3R5bGU6KChjPT09dHJ1ZSk/XCJtYXJnaW4tdG9wOiAtNDUzcHhcIjpcIlwiKX0pLmh0bWwoXCI8c3Bhbj5cIitwLmdldERhdGUoKStcIjwvc3Bhbj5cIikuYXBwZW5kVG8obik7Yz1mYWxzZX1icmVhaztjYXNlXCJoXCI6bj10LnBpY2tlckhvdXIuZmluZChcInVsXCIpO24uZW1wdHkoKTtmb3IoZz0tMTI7ZzwxMztnKyspe3A9dC50aGVEYXRlLmNvcHkoKTtwLmFkanVzdChcImhcIixnKTtrPShnPT09MCk/ZS5waWNrUGFnZUJ1dHRvblRoZW1lOmUucGlja1BhZ2VGbGlwQnV0dG9uVGhlbWU7YShcIjxsaT5cIix7XCJjbGFzc1wiOlwidWktYm9keS1cIitrLHN0eWxlOigoYz09PXRydWUpP1wibWFyZ2luLXRvcDogLTM1N3B4XCI6XCJcIil9KS5odG1sKFwiPHNwYW4+XCIrKChlLmxhbmdbZS51c2VMYW5nXS50aW1lRm9ybWF0PT09MTJ8fGUudGltZUZvcm1hdE92ZXJyaWRlPT09MTIpPygocC5nZXRIb3VycygpPT09MCk/XCIxMlwiOigocC5nZXRIb3VycygpPDEyKT9wLmdldEhvdXJzKCk6KChwLmdldEhvdXJzKCk9PT0xMik/XCIxMlwiOihwLmdldEhvdXJzKCktMTIpKSkpOnAuZ2V0SG91cnMoKSkrXCI8L3NwYW4+XCIpLmFwcGVuZFRvKG4pO2M9ZmFsc2V9YnJlYWs7Y2FzZVwiaVwiOm49dC5waWNrZXJNaW5zLmZpbmQoXCJ1bFwiKTtuLmVtcHR5KCk7Zm9yKGc9LTMwO2c8MzE7ZysrKXtpZihlLm1pbnV0ZVN0ZXA+MSl7dC50aGVEYXRlLnNldE1pbnV0ZXModC50aGVEYXRlLmdldE1pbnV0ZXMoKS0odC50aGVEYXRlLmdldE1pbnV0ZXMoKSVlLm1pbnV0ZVN0ZXApKX1wPXQudGhlRGF0ZS5jb3B5KCk7cC5hZGp1c3QoXCJpXCIsKGcqZS5taW51dGVTdGVwKSk7az0oZz09PTApP2UucGlja1BhZ2VCdXR0b25UaGVtZTplLnBpY2tQYWdlRmxpcEJ1dHRvblRoZW1lO2EoXCI8bGk+XCIse1wiY2xhc3NcIjpcInVpLWJvZHktXCIrayxzdHlsZTooKGM9PT10cnVlKT9cIm1hcmdpbi10b3A6IC05MzNweFwiOlwiXCIpfSkuaHRtbChcIjxzcGFuPlwiK3QuX3pQYWQocC5nZXRNaW51dGVzKCkpK1wiPC9zcGFuPlwiKS5hcHBlbmRUbyhuKTtjPWZhbHNlfWJyZWFrO2Nhc2VcImFcIjpuPXQucGlja2VyTWVyaS5maW5kKFwidWxcIik7bi5lbXB0eSgpO2lmKHQudGhlRGF0ZS5nZXRIb3VycygpPjExKXtjPVwiLTY1XCI7az1bZS5waWNrUGFnZUZsaXBCdXR0b25UaGVtZSxlLnBpY2tQYWdlQnV0dG9uVGhlbWVdfWVsc2V7Yz1cIi0zM1wiO2s9W2UucGlja1BhZ2VCdXR0b25UaGVtZSxlLnBpY2tQYWdlRmxpcEJ1dHRvblRoZW1lXX1hKFwiPGxpPlwiKS5hcHBlbmRUbyhuKS5jbG9uZSgpLmFwcGVuZFRvKG4pO2EoXCI8bGk+XCIse1wiY2xhc3NcIjpcInVpLWJvZHktXCIra1swXSxzdHlsZTpcIm1hcmdpbi10b3A6IFwiK2MrXCJweFwifSkuaHRtbChcIjxzcGFuPlwiK2UubWVyaWRpZW1MZXR0ZXJzWzBdK1wiPC9zcGFuPlwiKS5hcHBlbmRUbyhuKTthKFwiPGxpPlwiLHtcImNsYXNzXCI6XCJ1aS1ib2R5LVwiK2tbMV19KS5odG1sKFwiPHNwYW4+XCIrZS5tZXJpZGllbUxldHRlcnNbMV0rXCI8L3NwYW4+XCIpLmFwcGVuZFRvKG4pO2EoXCI8bGk+XCIpLmFwcGVuZFRvKG4pLmNsb25lKCkuYXBwZW5kVG8obik7YnJlYWt9fX1pZihlLm1vZGU9PT1cInNsaWRlYm94XCIpe3QuX2NoZWNrQ29uc3RyYWludHMoKTtmPXQuX21ha2VEYXRlKHQuaW5wdXQudmFsKCkpO3QuY29udHJvbHNIZWFkZXIuZW1wdHkoKS5odG1sKHQuX2Zvcm1hdEhlYWRlcih0LnRoZURhdGUpKTt0LmNvbnRyb2xzSW5wdXQuZW1wdHkoKTt0LmNvbnRyb2xzSW5wdXQuZGVsZWdhdGUoXCIudWktZGF0ZWJveC1zbGlkZXJvdy1pbnQ+ZGl2XCIsZS5jbGlja0V2ZW50LGZ1bmN0aW9uKGkpe2kucHJldmVudERlZmF1bHQoKTt0Ll9vZmZzZXQoYSh0aGlzKS5wYXJlbnQoKS5qcW1EYXRhKFwicm93dHlwZVwiKSxwYXJzZUludChhKHRoaXMpLmpxbURhdGEoXCJvZmZzZXRcIiksMTApKX0pO3QuY29udHJvbHNJbnB1dC5kZWxlZ2F0ZShcIi51aS1kYXRlYm94LXNsaWRlcm93LWludD5kaXZcIixcInZtb3VzZW92ZXIgdm1vdXNlb3V0XCIsZnVuY3Rpb24oKXt0Ll9ob292ZXIodGhpcyl9KTtpZihlLndoZWVsRXhpc3RzKXt0LmNvbnRyb2xzSW5wdXQuZGVsZWdhdGUoXCIudWktZGF0ZWJveC1zbGlkZXJvdy1pbnRcIixcIm1vdXNld2hlZWxcIixmdW5jdGlvbihpLG8pe2kucHJldmVudERlZmF1bHQoKTt0Ll9vZmZzZXQoYSh0aGlzKS5qcW1EYXRhKFwicm93dHlwZVwiKSwoKG8+MCk/MTotMSkpfSl9aWYoZS5zd2lwZUVuYWJsZWQpe3QuY29udHJvbHNJbnB1dC5kZWxlZ2F0ZShcIi51aS1kYXRlYm94LXNsaWRlcm93LWludFwiLHQuU1RBUlRfRFJBRyxmdW5jdGlvbihpKXtpZighdC5kcmFnTW92ZSl7dC5kcmFnTW92ZT10cnVlO3QuZHJhZ1RhcmdldD1hKHRoaXMpO3QuZHJhZ1Bvcz1wYXJzZUludCh0LmRyYWdUYXJnZXQuY3NzKFwibWFyZ2luTGVmdFwiKS5yZXBsYWNlKC9weC9pLFwiXCIpLDEwKTt0LmRyYWdTdGFydD10LnRvdWNoP2kub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDppLnBhZ2VYO3QuZHJhZ0VuZD1mYWxzZTtpLnN0b3BQcm9wYWdhdGlvbigpO2kucHJldmVudERlZmF1bHQoKX19KX1mb3IobT0wO208ZS5maWVsZHNPcmRlci5sZW5ndGg7bSsrKXtzPWEoXCI8ZGl2PlwiKS5qcW1EYXRhKFwicm93dHlwZVwiLGUuZmllbGRzT3JkZXJbbV0pO249YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtc2xpZGVyb3ctaW50XCJ9KS5qcW1EYXRhKFwicm93dHlwZVwiLGUuZmllbGRzT3JkZXJbbV0pLmFwcGVuZFRvKHMpO2lmKGUubGFuZ1tlLnVzZUxhbmddLmlzUlRMPT09dHJ1ZSl7bi5jc3MoXCJkaXJlY3Rpb25cIixcInJ0bFwiKX1zd2l0Y2goZS5maWVsZHNPcmRlclttXSl7Y2FzZVwieVwiOnMuYWRkQ2xhc3MoXCJ1aS1kYXRlYm94LXNsaWRlcm93LXltXCIpO24uY3NzKFwibWFyZ2luTGVmdFwiLFwiLTMzM3B4XCIpO2ZvcihnPS01O2c8NjtnKyspe2s9KChmLmdldEZ1bGxZZWFyKCk9PT0odC50aGVEYXRlLmdldEZ1bGxZZWFyKCkrZykpP2UucGlja1BhZ2VIaWdoQnV0dG9uVGhlbWU6ZS5waWNrUGFnZVNsaWRlQnV0dG9uVGhlbWUpO2lmKGc9PT0wKXtrPWUucGlja1BhZ2VCdXR0b25UaGVtZX1hKFwiPGRpdj5cIix7XCJjbGFzc1wiOlwidWktZGF0ZWJveC1zbGlkZXllYXIgdWktY29ybmVyLWFsbCB1aS1idG4tdXAtXCIra30pLmh0bWwodC50aGVEYXRlLmdldEZ1bGxZZWFyKCkrZykuanFtRGF0YShcIm9mZnNldFwiLGcpLmpxbURhdGEoXCJ0aGVtZVwiLGspLmFwcGVuZFRvKG4pfWJyZWFrO2Nhc2VcIm1cIjpzLmFkZENsYXNzKFwidWktZGF0ZWJveC1zbGlkZXJvdy15bVwiKTtuLmNzcyhcIm1hcmdpbkxlZnRcIixcIi0yMDRweFwiKTtmb3IoZz0tNjtnPDc7ZysrKXtwPW5ldyBEYXRlKHQudGhlRGF0ZS5nZXRGdWxsWWVhcigpLHQudGhlRGF0ZS5nZXRNb250aCgpLDEpO3AuYWRqdXN0KFwibVwiLGcpO2s9KGYuZ2V0TW9udGgoKT09PXAuZ2V0TW9udGgoKSYmZi5nZXRZZWFyKCk9PT1wLmdldFllYXIoKSk/ZS5waWNrUGFnZUhpZ2hCdXR0b25UaGVtZTplLnBpY2tQYWdlU2xpZGVCdXR0b25UaGVtZTtpZihnPT09MCl7az1lLnBpY2tQYWdlQnV0dG9uVGhlbWV9YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtc2xpZGVtb250aCB1aS1jb3JuZXItYWxsIHVpLWJ0bi11cC1cIitrfSkuanFtRGF0YShcIm9mZnNldFwiLGcpLmpxbURhdGEoXCJ0aGVtZVwiLGspLmh0bWwoZS5sYW5nW2UudXNlTGFuZ10ubW9udGhzT2ZZZWFyU2hvcnRbcC5nZXRNb250aCgpXSkuYXBwZW5kVG8obil9YnJlYWs7Y2FzZVwiZFwiOnMuYWRkQ2xhc3MoXCJ1aS1kYXRlYm94LXNsaWRlcm93LWRcIik7bi5jc3MoXCJtYXJnaW5MZWZ0XCIsXCItMzg2cHhcIik7Zm9yKGc9LTE1O2c8MTY7ZysrKXtwPXQudGhlRGF0ZS5jb3B5KCk7cC5hZGp1c3QoXCJkXCIsZyk7cT1cIlwiO2lmKChlLmJsYWNrRGF0ZXMhPT1mYWxzZSYmYS5pbkFycmF5KHAuZ2V0SVNPKCksZS5ibGFja0RhdGVzKT4tMSl8fChlLmJsYWNrRGF5cyE9PWZhbHNlJiZhLmluQXJyYXkocC5nZXREYXkoKSxlLmJsYWNrRGF5cyk+LTEpKXtxPVwiIHVpLWRhdGVib3gtZ3JpZGRhdGUtZGlzYWJsZVwifWs9KGYuZ2V0RGF0ZSgpPT09cC5nZXREYXRlKCkmJmYuZ2V0TW9udGgoKT09PXAuZ2V0TW9udGgoKSYmZi5nZXRZZWFyKCk9PT1wLmdldFllYXIoKSk/ZS5waWNrUGFnZUhpZ2hCdXR0b25UaGVtZTplLnBpY2tQYWdlU2xpZGVCdXR0b25UaGVtZTtpZihnPT09MCl7az1lLnBpY2tQYWdlQnV0dG9uVGhlbWV9YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtc2xpZGVkYXkgdWktY29ybmVyLWFsbCB1aS1idG4tdXAtXCIraytxfSkuanFtRGF0YShcIm9mZnNldFwiLGcpLmpxbURhdGEoXCJ0aGVtZVwiLGspLmh0bWwocC5nZXREYXRlKCkrJzxiciAvPjxzcGFuIGNsYXNzPVwidWktZGF0ZWJveC1zbGlkZXdkYXlcIj4nK2UubGFuZ1tlLnVzZUxhbmddLmRheXNPZldlZWtTaG9ydFtwLmdldERheSgpXStcIjwvc3Bhbj5cIikuYXBwZW5kVG8obil9YnJlYWs7Y2FzZVwiaFwiOnMuYWRkQ2xhc3MoXCJ1aS1kYXRlYm94LXNsaWRlcm93LWhpXCIpO24uY3NzKFwibWFyZ2luTGVmdFwiLFwiLTI4NHB4XCIpO2ZvcihnPS0xMjtnPDEzO2crKyl7cD10LnRoZURhdGUuY29weSgpO3AuYWRqdXN0KFwiaFwiLGcpO2s9KGc9PT0wKT9lLnBpY2tQYWdlQnV0dG9uVGhlbWU6ZS5waWNrUGFnZVNsaWRlQnV0dG9uVGhlbWU7YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtc2xpZGVob3VyIHVpLWNvcm5lci1hbGwgdWktYnRuLXVwLVwiK2t9KS5qcW1EYXRhKFwib2Zmc2V0XCIsZykuanFtRGF0YShcInRoZW1lXCIsaykuaHRtbCgoKGUubGFuZ1tlLnVzZUxhbmddLnRpbWVGb3JtYXQ9PT0xMnx8ZS50aW1lRm9ybWF0T3ZlcnJpZGU9PT0xMik/KChwLmdldEhvdXJzKCk9PT0wKT8nMTI8c3BhbiBjbGFzcz1cInVpLWRhdGVib3gtc2xpZGV3ZGF5XCI+QU08L3NwYW4+JzooKHAuZ2V0SG91cnMoKTwxMik/cC5nZXRIb3VycygpKyc8c3BhbiBjbGFzcz1cInVpLWRhdGVib3gtc2xpZGV3ZGF5XCI+QU08L3NwYW4+JzooKHAuZ2V0SG91cnMoKT09PTEyKT8nMTI8c3BhbiBjbGFzcz1cInVpLWRhdGVib3gtc2xpZGV3ZGF5XCI+UE08L3NwYW4+JzoocC5nZXRIb3VycygpLTEyKSsnPHNwYW4gY2xhc3M9XCJ1aS1kYXRlYm94LXNsaWRld2RheVwiPlBNPC9zcGFuPicpKSk6cC5nZXRIb3VycygpKSkuYXBwZW5kVG8obil9YnJlYWs7Y2FzZVwiaVwiOnMuYWRkQ2xhc3MoXCJ1aS1kYXRlYm94LXNsaWRlcm93LWhpXCIpO24uY3NzKFwibWFyZ2luTGVmdFwiLFwiLTg5NnB4XCIpO2ZvcihnPS0zMDtnPDMxO2crKyl7cD10LnRoZURhdGUuY29weSgpO3AuYWRqdXN0KFwiaVwiLGcpO2s9KGc9PT0wKT9lLnBpY2tQYWdlQnV0dG9uVGhlbWU6ZS5waWNrUGFnZVNsaWRlQnV0dG9uVGhlbWU7YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtc2xpZGVtaW5zIHVpLWNvcm5lci1hbGwgdWktYnRuLXVwLVwiK2t9KS5qcW1EYXRhKFwib2Zmc2V0XCIsZykuanFtRGF0YShcInRoZW1lXCIsaykuaHRtbCh0Ll96UGFkKHAuZ2V0TWludXRlcygpKSkuYXBwZW5kVG8obil9YnJlYWt9cy5hcHBlbmRUbyh0LmNvbnRyb2xzSW5wdXQpfX1pZihlLm1vZGU9PT1cImRhdGVib3hcIil7dC5fY2hlY2tDb25zdHJhaW50cygpO3QuY29udHJvbHNIZWFkZXIuZW1wdHkoKS5odG1sKHQuX2Zvcm1hdEhlYWRlcih0LnRoZURhdGUpKTt0LnBpY2tlck1vbi52YWwodC50aGVEYXRlLmdldE1vbnRoKCkrMSk7dC5waWNrZXJEYXkudmFsKHQudGhlRGF0ZS5nZXREYXRlKCkpO3QucGlja2VyWWFyLnZhbCh0LnRoZURhdGUuZ2V0RnVsbFllYXIoKSk7aWYodC5kYXRlT0shPT10cnVlKXt0LmNvbnRyb2xzSW5wdXQuZmluZChcImlucHV0XCIpLmFkZENsYXNzKFwidWktZGF0ZWJveC1ncmlkZGF0ZS1kaXNhYmxlXCIpfWVsc2V7dC5jb250cm9sc0lucHV0LmZpbmQoXCIudWktZGF0ZWJveC1ncmlkZGF0ZS1kaXNhYmxlXCIpLnJlbW92ZUNsYXNzKFwidWktZGF0ZWJveC1ncmlkZGF0ZS1kaXNhYmxlXCIpfX1pZihlLm1vZGU9PT1cImNhbGJveFwiKXt0LmNvbnRyb2xzSW5wdXQuZW1wdHkoKS5odG1sKGUubGFuZ1tlLnVzZUxhbmddLm1vbnRoc09mWWVhclt0LnRoZURhdGUuZ2V0TW9udGgoKV0rXCIgXCIrdC50aGVEYXRlLmdldEZ1bGxZZWFyKCkpO3QuY29udHJvbHNQbHVzLmVtcHR5KCk7bD17dG9kYXk6LTEsaGlnaGxpZ2h0RGF5Oi0xLHByZXNldERheTotMSxuZXh0dG9kYXk6MSx0aGlzRGF0ZTpuZXcgRGF0ZSgpLG1heERhdGU6bmV3IERhdGUoKSxtaW5EYXRlOm5ldyBEYXRlKCksc3RhcnREYXk6ZmFsc2UsY3VycmVudE1vbnRoOmZhbHNlLHdlZWtNb2RlOjAsd2Vla0RheXM6bnVsbCx0aGlzVGhlbWU6ZS5waWNrUGFnZUJ1dHRvblRoZW1lfTtsLnN0YXJ0PXQuX2dldEZpcnN0RGF5KHQudGhlRGF0ZSk7bC5lbmQ9dC5fZ2V0TGFzdERhdGUodC50aGVEYXRlKTtsLmxhc3RlbmQ9dC5fZ2V0TGFzdERhdGVCZWZvcmUodC50aGVEYXRlKTtsLnByZXNldERhdGU9dC5fbWFrZURhdGUodC5pbnB1dC52YWwoKSk7aWYoZS5jYWxTdGFydERheSE9PWZhbHNlfHx0eXBlb2YgZS5sYW5nW2UudXNlTGFuZ10uY2FsU3RhcnREYXk9PT1cIm51bWJlclwiKXtpZihlLmNhbFN0YXJ0RGF5IT09ZmFsc2Upe2wuc3RhcnQ9bC5zdGFydC1lLmNhbFN0YXJ0RGF5O2wuc3RhcnREYXk9ZS5jYWxTdGFydERheX1lbHNle2wuc3RhcnQ9bC5zdGFydC1lLmxhbmdbZS51c2VMYW5nXS5jYWxTdGFydERheTtsLnN0YXJ0RGF5PWUubGFuZ1tlLnVzZUxhbmddLmNhbFN0YXJ0RGF5fWlmKGwuc3RhcnQ8MCl7bC5zdGFydD1sLnN0YXJ0Kzd9fWwucHJldnRvZGF5PWwubGFzdGVuZC0obC5zdGFydC0xKTtsLmNoZWNrRGF0ZXM9KGUuZW5hYmxlRGF0ZXM9PT1mYWxzZSYmKGUuYWZ0ZXJUb2RheSE9PWZhbHNlfHxlLmJlZm9yZVRvZGF5IT09ZmFsc2V8fGUubm90VG9kYXkhPT1mYWxzZXx8ZS5tYXhEYXlzIT09ZmFsc2V8fGUubWluRGF5cyE9PWZhbHNlfHxlLmJsYWNrRGF0ZXMhPT1mYWxzZXx8ZS5ibGFja0RheXMhPT1mYWxzZSkpO2lmKGwudGhpc0RhdGUuZ2V0TW9udGgoKT09PXQudGhlRGF0ZS5nZXRNb250aCgpJiZsLnRoaXNEYXRlLmdldEZ1bGxZZWFyKCk9PT10LnRoZURhdGUuZ2V0RnVsbFllYXIoKSl7bC5jdXJyZW50TW9udGg9dHJ1ZTtsLmhpZ2hsaWdodERheT1sLnRoaXNEYXRlLmdldERhdGUoKX1pZihsLnByZXNldERhdGUuZ2V0Q29tcCgpPT09dC50aGVEYXRlLmdldENvbXAoKSl7bC5wcmVzZXREYXk9bC5wcmVzZXREYXRlLmdldERhdGUoKX10LmNhbE5vUHJldj1mYWxzZTt0LmNhbE5vTmV4dD1mYWxzZTtpZihlLmFmdGVyVG9kYXk9PT10cnVlJiYobC5jdXJyZW50TW9udGg9PT10cnVlfHwobC50aGlzRGF0ZS5nZXRNb250aCgpPj10LnRoZURhdGUuZ2V0TW9udGgoKSYmdC50aGVEYXRlLmdldEZ1bGxZZWFyKCk9PT1sLnRoaXNEYXRlLmdldEZ1bGxZZWFyKCkpKSl7dC5jYWxOb1ByZXY9dHJ1ZX1pZihlLmJlZm9yZVRvZGF5PT09dHJ1ZSYmKGwuY3VycmVudE1vbnRoPT09dHJ1ZXx8KGwudGhpc0RhdGUuZ2V0TW9udGgoKTw9dC50aGVEYXRlLmdldE1vbnRoKCkmJnQudGhlRGF0ZS5nZXRGdWxsWWVhcigpPT09bC50aGlzRGF0ZS5nZXRGdWxsWWVhcigpKSkpe3QuY2FsTm9OZXh0PXRydWV9aWYoZS5taW5EYXlzIT09ZmFsc2Upe2wubWluRGF0ZS5hZGp1c3QoXCJkXCIsLTEqZS5taW5EYXlzKTtpZih0LnRoZURhdGUuZ2V0RnVsbFllYXIoKT09PWwubWluRGF0ZS5nZXRGdWxsWWVhcigpJiZ0LnRoZURhdGUuZ2V0TW9udGgoKTw9bC5taW5EYXRlLmdldE1vbnRoKCkpe3QuY2FsTm9QcmV2PXRydWV9fWlmKGUubWF4RGF5cyE9PWZhbHNlKXtsLm1heERhdGUuYWRqdXN0KFwiZFwiLGUubWF4RGF5cyk7aWYodC50aGVEYXRlLmdldEZ1bGxZZWFyKCk9PT1sLm1heERhdGUuZ2V0RnVsbFllYXIoKSYmdC50aGVEYXRlLmdldE1vbnRoKCk+PWwubWF4RGF0ZS5nZXRNb250aCgpKXt0LmNhbE5vTmV4dD10cnVlfX1pZihlLmNhbFNob3dEYXlzKXtpZihlLmxhbmdbZS51c2VMYW5nXS5kYXlzT2ZXZWVrU2hvcnQubGVuZ3RoPDgpe2UuZGF5c09mV2Vla1Nob3J0PWUubGFuZ1tlLnVzZUxhbmddLmRheXNPZldlZWtTaG9ydC5jb25jYXQoZS5sYW5nW2UudXNlTGFuZ10uZGF5c09mV2Vla1Nob3J0KX1sLndlZWtEYXlzPWEoXCI8ZGl2PlwiLHtcImNsYXNzXCI6XCJ1aS1kYXRlYm94LWdyaWRyb3dcIn0pLmFwcGVuZFRvKHQuY29udHJvbHNQbHVzKTtpZihlLmxhbmdbZS51c2VMYW5nXS5pc1JUTD09PXRydWUpe2wud2Vla0RheXMuY3NzKFwiZGlyZWN0aW9uXCIsXCJydGxcIil9Zm9yKGc9MDtnPD02O2crKyl7YShcIjxkaXY+XCIrZS5sYW5nW2UudXNlTGFuZ10uZGF5c09mV2Vla1Nob3J0WyhnK2wuc3RhcnREYXkpJTddK1wiPC9kaXY+XCIpLmFkZENsYXNzKFwidWktZGF0ZWJveC1ncmlkZGF0ZSB1aS1kYXRlYm94LWdyaWRkYXRlLWVtcHR5IHVpLWRhdGVib3gtZ3JpZGRhdGUtbGFiZWxcIikuYXBwZW5kVG8obC53ZWVrRGF5cyl9fWlmKGUuZml4RGF0ZUFycmF5cz09PXRydWUpe2UuYmxhY2tEYXRlcz10Ll9maXhBcnJheShlLmJsYWNrRGF0ZXMpO2UuaGlnaERhdGVzPXQuX2ZpeEFycmF5KGUuaGlnaERhdGVzKTtlLmhpZ2hEYXRlc0FsdD10Ll9maXhBcnJheShlLmhpZ2hEYXRlc0FsdCk7ZS5lbmFibGVEYXRlcz10Ll9maXhBcnJheShlLmVuYWJsZURhdGVzKX1mb3IoaD0wO2g8PTU7aCsrKXtpZihoPT09MHx8KGg+MCYmKGwudG9kYXk+MCYmbC50b2RheTw9bC5lbmQpKSl7bj1hKFwiPGRpdj5cIix7XCJjbGFzc1wiOlwidWktZGF0ZWJveC1ncmlkcm93XCJ9KTtpZihlLmxhbmdbZS51c2VMYW5nXS5pc1JUTD09PXRydWUpe24uY3NzKFwiZGlyZWN0aW9uXCIsXCJydGxcIil9Zm9yKGo9MDtqPD02O2orKyl7aWYoaj09PTApe2wud2Vla01vZGU9KGwudG9kYXk8MSk/KGwucHJldnRvZGF5LWwubGFzdGVuZCtlLmNhbFdlZWtNb2RlRmlyc3REYXkpOihsLnRvZGF5K2UuY2FsV2Vla01vZGVGaXJzdERheSl9aWYoaj09PWwuc3RhcnQmJmg9PT0wKXtsLnRvZGF5PTF9aWYobC50b2RheT5sLmVuZCl7bC50b2RheT0tMX1pZihsLnRvZGF5PDEpe2lmKGUuY2FsU2hvd09ubHlNb250aCl7YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtZ3JpZGRhdGUgdWktZGF0ZWJveC1ncmlkZGF0ZS1lbXB0eVwifSkuYXBwZW5kVG8obil9ZWxzZXtpZihlLmVuYWJsZURhdGVzIT09ZmFsc2Upe2lmKChhLmluQXJyYXkodC50aGVEYXRlLmNvcHltb2QoWzAsLTFdLFswLDAsbC5wcmV2dG9kYXldKS5nZXRJU08oKSxlLmVuYWJsZURhdGVzKT4tMSl8fChhLmluQXJyYXkodC50aGVEYXRlLmNvcHltb2QoWzAsMV0sWzAsMCxsLm5leHR0b2RheV0pLmdldElTTygpLGUuZW5hYmxlRGF0ZXMpPi0xKSl7cj1mYWxzZX1lbHNle3I9dHJ1ZX19ZWxzZXtpZigoZS5hZnRlclRvZGF5IT09ZmFsc2UmJmg9PT0wJiZsLnRoaXNEYXRlLmdldE1vbnRoKCk+PXQudGhlRGF0ZS5nZXRNb250aCgpLTEmJnQudGhlRGF0ZS5nZXRGdWxsWWVhcigpPT09bC50aGlzRGF0ZS5nZXRGdWxsWWVhcigpJiZsLnRoaXNEYXRlLmdldERhdGUoKT5sLnByZXZ0b2RheSl8fChlLmJlZm9yZVRvZGF5IT09ZmFsc2UmJmghPT0wJiZsLnRoaXNEYXRlLmdldE1vbnRoKCk8PXQudGhlRGF0ZS5nZXRNb250aCgpKzEmJnQudGhlRGF0ZS5nZXRGdWxsWWVhcigpPT09bC50aGlzRGF0ZS5nZXRGdWxsWWVhcigpJiZsLnRoaXNEYXRlLmdldERhdGUoKTxsLm5leHR0b2RheSl8fChlLmJsYWNrRGF5cyE9PWZhbHNlJiZhLmluQXJyYXkoaixlLmJsYWNrRGF5cyk+LTEpfHwoZS5ibGFja0RhdGVzIT09ZmFsc2UmJmEuaW5BcnJheSh0LnRoZURhdGUuY29weW1vZChbMCwtMV0sWzAsMCxsLnByZXZ0b2RheV0pLmdldElTTygpLGUuYmxhY2tEYXRlcyk+LTEpfHwoZS5ibGFja0RhdGVzIT09ZmFsc2UmJmEuaW5BcnJheSh0LnRoZURhdGUuY29weW1vZChbMCwxXSxbMCwwLGwubmV4dHRvZGF5XSkuZ2V0SVNPKCksZS5ibGFja0RhdGVzKT4tMSkpe3I9dHJ1ZX1lbHNle3I9ZmFsc2V9fWlmKGg9PT0wKXthKFwiPGRpdj5cIitTdHJpbmcobC5wcmV2dG9kYXkpK1wiPC9kaXY+XCIpLmFkZENsYXNzKFwidWktZGF0ZWJveC1ncmlkZGF0ZSB1aS1kYXRlYm94LWdyaWRkYXRlLWVtcHR5XCIpLmFwcGVuZFRvKG4pLmpxbURhdGEoXCJkYXRlXCIsKChlLmNhbFdlZWtNb2RlKT8obC53ZWVrTW9kZStsLmxhc3RlbmQpOmwucHJldnRvZGF5KSkuanFtRGF0YShcImVuYWJsZWRcIiwoIXImJiF0LmNhbE5vUHJldikpLmpxbURhdGEoXCJtb250aFwiLC0xKTtsLnByZXZ0b2RheSsrfWVsc2V7YShcIjxkaXY+XCIrU3RyaW5nKGwubmV4dHRvZGF5KStcIjwvZGl2PlwiKS5hZGRDbGFzcyhcInVpLWRhdGVib3gtZ3JpZGRhdGUgdWktZGF0ZWJveC1ncmlkZGF0ZS1lbXB0eVwiKS5hcHBlbmRUbyhuKS5qcW1EYXRhKFwiZGF0ZVwiLCgoZS5jYWxXZWVrTW9kZSk/bC53ZWVrTW9kZTpsLm5leHR0b2RheSkpLmpxbURhdGEoXCJlbmFibGVkXCIsKCFyJiYhdC5jYWxOb05leHQpKS5qcW1EYXRhKFwibW9udGhcIiwxKTtsLm5leHR0b2RheSsrfX19ZWxzZXtyPWZhbHNlO2lmKGUuZW5hYmxlRGF0ZXMpe2lmKGEuaW5BcnJheSh0LnRoZURhdGUuY29weW1vZChbMF0sWzAsMCxsLnRvZGF5XSkuZ2V0SVNPKCksZS5lbmFibGVEYXRlcyk8MCl7cj10cnVlfX1pZihsLmNoZWNrRGF0ZXMpe2lmKGUuYWZ0ZXJUb2RheSYmbC50aGlzRGF0ZS5nZXRDb21wKCk+KHQudGhlRGF0ZS5nZXRDb21wKCkrbC50b2RheS10LnRoZURhdGUuZ2V0RGF0ZSgpKSl7cj10cnVlfWlmKCFyJiZlLmJlZm9yZVRvZGF5JiZsLnRoaXNEYXRlLmdldENvbXAoKTwodC50aGVEYXRlLmdldENvbXAoKStsLnRvZGF5LXQudGhlRGF0ZS5nZXREYXRlKCkpKXtyPXRydWV9aWYoIXImJmUubm90VG9kYXkmJmwudG9kYXk9PT1sLmhpZ2hsaWdodERheSl7cj10cnVlfWlmKCFyJiZlLm1heERheXMhPT1mYWxzZSYmbC5tYXhEYXRlLmdldENvbXAoKTwodC50aGVEYXRlLmdldENvbXAoKStsLnRvZGF5LXQudGhlRGF0ZS5nZXREYXRlKCkpKXtyPXRydWV9aWYoIXImJmUubWluRGF5cyE9PWZhbHNlJiZsLm1pbkRhdGUuZ2V0Q29tcCgpPih0LnRoZURhdGUuZ2V0Q29tcCgpK2wudG9kYXktdC50aGVEYXRlLmdldERhdGUoKSkpe3I9dHJ1ZX1pZighciYmKGUuYmxhY2tEYXlzIT09ZmFsc2V8fGUuYmxhY2tEYXRlcyE9PWZhbHNlKSl7aWYoKGEuaW5BcnJheShqLGUuYmxhY2tEYXlzKT4tMSl8fChhLmluQXJyYXkodC50aGVEYXRlLmNvcHltb2QoWzBdLFswLDAsbC50b2RheV0pLmdldElTTygpLGUuYmxhY2tEYXRlcyk+LTEpKXtyPXRydWV9fX1pZihlLmNhbEhpZ2hQaWNrZWQmJmwudG9kYXk9PT1sLnByZXNldERheSl7bC50aGlzVGhlbWU9ZS5waWNrUGFnZUhpZ2hCdXR0b25UaGVtZX1lbHNle2lmKGUuY2FsSGlnaFRvZGF5JiZsLnRvZGF5PT09bC5oaWdobGlnaHREYXkpe2wudGhpc1RoZW1lPWUucGlja1BhZ2VUb2RheUJ1dHRvblRoZW1lfWVsc2V7aWYoYS5pc0FycmF5KGUuaGlnaERhdGVzQWx0KSYmKGEuaW5BcnJheSh0LnRoZURhdGUuY29weW1vZChbMF0sWzAsMCxsLnRvZGF5XSkuZ2V0SVNPKCksZS5oaWdoRGF0ZXNBbHQpPi0xKSl7bC50aGlzVGhlbWU9ZS5waWNrUGFnZU9BSGlnaEJ1dHRvblRoZW1lfWVsc2V7aWYoYS5pc0FycmF5KGUuaGlnaERhdGVzKSYmKGEuaW5BcnJheSh0LnRoZURhdGUuY29weW1vZChbMF0sWzAsMCxsLnRvZGF5XSkuZ2V0SVNPKCksZS5oaWdoRGF0ZXMpPi0xKSl7bC50aGlzVGhlbWU9ZS5waWNrUGFnZU9IaWdoQnV0dG9uVGhlbWV9ZWxzZXtpZihhLmlzQXJyYXkoZS5oaWdoRGF5cykmJmEuaW5BcnJheShqLGUuaGlnaERheXMpPi0xKXtsLnRoaXNUaGVtZT1lLnBpY2tQYWdlT0RIaWdoQnV0dG9uVGhlbWV9ZWxzZXtsLnRoaXNUaGVtZT1lLnBpY2tQYWdlQnV0dG9uVGhlbWV9fX19fWEoXCI8ZGl2PlwiK1N0cmluZyhsLnRvZGF5KStcIjwvZGl2PlwiKS5hZGRDbGFzcyhcInVpLWRhdGVib3gtZ3JpZGRhdGUgdWktY29ybmVyLWFsbCB1aS1idG4tdXAtXCIrbC50aGlzVGhlbWUrKChyKT9cIiB1aS1kYXRlYm94LWdyaWRkYXRlLWRpc2FibGVcIjpcIlwiKSkuanFtRGF0YShcImRhdGVcIiwoKGUuY2FsV2Vla01vZGUpP2wud2Vla01vZGU6bC50b2RheSkpLmpxbURhdGEoXCJ0aGVtZVwiLGwudGhpc1RoZW1lKS5qcW1EYXRhKFwiZW5hYmxlZFwiLCFyKS5qcW1EYXRhKFwibW9udGhcIiwwKS5hcHBlbmRUbyhuKTtsLnRvZGF5Kyt9fX1uLmFwcGVuZFRvKHQuY29udHJvbHNQbHVzKX10LmNvbnRyb2xzUGx1cy5kZWxlZ2F0ZShcImRpdi51aS1kYXRlYm94LWdyaWRkYXRlXCIsZS5jbGlja0V2ZW50K1wiIHZtb3VzZW92ZXIgdm1vdXNlb3V0XCIsZnVuY3Rpb24oaSl7aWYoaS50eXBlPT09ZS5jbGlja0V2ZW50KXtpLnByZXZlbnREZWZhdWx0KCk7aWYoYSh0aGlzKS5qcW1EYXRhKFwiZW5hYmxlZFwiKSl7aWYoYSh0aGlzKS5qcW1EYXRhKFwibW9udGhcIik8MCl7dC50aGVEYXRlLmFkanVzdChcIm1cIiwtMSk7dC50aGVEYXRlLnNldERhdGUoYSh0aGlzKS5qcW1EYXRhKFwiZGF0ZVwiKSl9ZWxzZXtpZihhKHRoaXMpLmpxbURhdGEoXCJtb250aFwiKT4wKXt0LnRoZURhdGUuc2V0RGF0ZShhKHRoaXMpLmpxbURhdGEoXCJkYXRlXCIpKTtpZighZS5jYWxXZWVrTW9kZSl7dC50aGVEYXRlLmFkanVzdChcIm1cIiwxKX19ZWxzZXt0LnRoZURhdGUuc2V0RGF0ZShhKHRoaXMpLmpxbURhdGEoXCJkYXRlXCIpKX19dC5pbnB1dC50cmlnZ2VyKFwiZGF0ZWJveFwiLHttZXRob2Q6XCJzZXRcIix2YWx1ZTp0Ll9mb3JtYXREYXRlKHQudGhlRGF0ZSksZGF0ZTp0LnRoZURhdGV9KTt0LmlucHV0LnRyaWdnZXIoXCJkYXRlYm94XCIse21ldGhvZDpcImNsb3NlXCJ9KX19ZWxzZXtpZihhKHRoaXMpLmpxbURhdGEoXCJlbmFibGVkXCIpJiZ0eXBlb2YgYSh0aGlzKS5qcW1EYXRhKFwidGhlbWVcIikhPT1cInVuZGVmaW5lZFwiKXtpZihlLmNhbFdlZWtNb2RlIT09ZmFsc2UmJmUuY2FsV2Vla01vZGVIaWdobGlnaHQ9PT10cnVlKXthKHRoaXMpLnBhcmVudCgpLmZpbmQoXCJkaXZcIikuZWFjaChmdW5jdGlvbigpe3QuX2hvb3Zlcih0aGlzKX0pfWVsc2V7dC5faG9vdmVyKHRoaXMpfX19fSl9aWYoZS5sYW5nW3RoaXMub3B0aW9ucy51c2VMYW5nXS51c2VBcmFiaWNJbmRpYz09PXRydWUpe3QuX21ha2VEaXNwbGF5SW5kaWMoKX19LF9nZXRMb25nT3B0aW9uczpmdW5jdGlvbihlKXt2YXIgZCxmPXt9LGcsYztpZihhLm1vYmlsZS5ucz09XCJcIil7Zz1cImRhdGVib3hcIn1lbHNle2c9YS5tb2JpbGUubnMuc3Vic3RyKDAsYS5tb2JpbGUubnMubGVuZ3RoLTEpK1wiRGF0ZWJveFwifWZvcihkIGluIGUuZGF0YSgpKXtpZihkLnN1YnN0cigwLGcubGVuZ3RoKT09PWcmJmQubGVuZ3RoPmcubGVuZ3RoKXtjPWQuc3Vic3RyKGcubGVuZ3RoKTtjPWMuY2hhckF0KDApLnRvTG93ZXJDYXNlKCkrYy5zbGljZSgxKTtmW2NdPWUuZGF0YShkKX19cmV0dXJuIGZ9LF9jcmVhdGU6ZnVuY3Rpb24oKXthKGRvY3VtZW50KS50cmlnZ2VyKFwiZGF0ZWJveGNyZWF0ZVwiKTt2YXIgYz10aGlzLGQ9YS5leHRlbmQodGhpcy5vcHRpb25zLHRoaXMuZWxlbWVudC5qcW1EYXRhKFwib3B0aW9uc1wiKSksZD0oKHR5cGVvZiB0aGlzLmVsZW1lbnQuanFtRGF0YShcIm9wdGlvbnNcIik9PT1cInVuZGVmaW5lZFwiKT9hLmV4dGVuZChkLHRoaXMuX2dldExvbmdPcHRpb25zKHRoaXMuZWxlbWVudCkpOmQpO2lucHV0PXRoaXMuZWxlbWVudCx0aGlzVGhlbWU9KGQudGhlbWU9PT1mYWxzZSYmdHlwZW9mKGEoYykuanFtRGF0YShcInRoZW1lXCIpKT09PVwidW5kZWZpbmVkXCIpPygodHlwZW9mKGlucHV0LnBhcmVudHNVbnRpbChcIjpqcW1EYXRhKHRoZW1lKVwiKS5wYXJlbnQoKS5qcW1EYXRhKFwidGhlbWVcIikpPT09XCJ1bmRlZmluZWRcIik/ZC5kZWZhdWx0VGhlbWU6aW5wdXQucGFyZW50c1VudGlsKFwiOmpxbURhdGEodGhlbWUpXCIpLnBhcmVudCgpLmpxbURhdGEoXCJ0aGVtZVwiKSk6ZC50aGVtZSxmb2N1c2VkRWw9aW5wdXQud3JhcCgnPGRpdiBjbGFzcz1cInVpLWlucHV0LWRhdGVib3ggdWktc2hhZG93LWluc2V0IHVpLWNvcm5lci1hbGwgdWktYm9keS0nK3RoaXNUaGVtZSsnXCI+PC9kaXY+JykucGFyZW50KCksdGhlRGF0ZT1uZXcgRGF0ZSgpLGluaXREYXRlPW5ldyBEYXRlKHRoZURhdGUuZ2V0VGltZSgpKSxvcGVuYnV0dG9uPWEoJzxhIGhyZWY9XCIjXCIgY2xhc3M9XCJ1aS1pbnB1dC1jbGVhclwiIHRpdGxlPVwiJysoKHR5cGVvZiBkLmxhbmdbZC51c2VMYW5nXS50b29sdGlwIT09XCJ1bmRlZmluZWRcIik/ZC5sYW5nW2QudXNlTGFuZ10udG9vbHRpcDpkLmxhbmcuZW4udG9vbHRpcCkrJ1wiPicrKCh0eXBlb2YgZC5sYW5nW2QudXNlTGFuZ10udG9vbHRpcCE9PVwidW5kZWZpbmVkXCIpP2QubGFuZ1tkLnVzZUxhbmddLnRvb2x0aXA6ZC5sYW5nLmVuLnRvb2x0aXApK1wiPC9hPlwiKS5iaW5kKGQuY2xpY2tFdmVudCxmdW5jdGlvbihmKXtmLnByZXZlbnREZWZhdWx0KCk7aWYoIWQuZGlzYWJsZWQpe2MuaW5wdXQudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwib3BlblwifSk7Yy5mb2N1c2VkRWwuYWRkQ2xhc3MoXCJ1aS1mb2N1c1wiKX1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShmLnRhcmdldCkuY2xvc2VzdChcImFcIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwzMDApfSkuYXBwZW5kVG8oZm9jdXNlZEVsKS5idXR0b25NYXJrdXAoe2ljb246XCJncmlkXCIsaWNvbnBvczpcIm5vdGV4dFwiLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZX0pLmNzcyh7XCJ2ZXJ0aWNhbC1hbGlnblwiOlwibWlkZGxlXCIsZGlzcGxheTpcImlubGluZS1ibG9ja1wifSksdGhpc1BhZ2U9aW5wdXQuY2xvc2VzdChcIi51aS1wYWdlXCIpLG5zPSh0eXBlb2YgYS5tb2JpbGUubnMhPT1cInVuZGVmaW5lZFwiKT9hLm1vYmlsZS5uczpcIlwiLHBpY2tQYWdlPWEoXCI8ZGl2IGRhdGEtXCIrbnMrXCJyb2xlPSdkaWFsb2cnIGNsYXNzPSd1aS1kaWFsb2ctZGF0ZWJveCcgZGF0YS1cIitucytcInRoZW1lPSdcIisoKGQuZm9yY2VJbmhlcml0VGhlbWU9PT1mYWxzZSk/ZC5waWNrUGFnZVRoZW1lOnRoaXNUaGVtZSkrXCInID48ZGl2IGRhdGEtXCIrbnMrXCJyb2xlPSdoZWFkZXInIGRhdGEtXCIrbnMrXCJiYWNrYnRuPSdmYWxzZScgZGF0YS1cIitucytcInRoZW1lPSdhJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+UGxhY2VIb2xkZXI8L2Rpdj48L2Rpdj48ZGl2IGRhdGEtXCIrbnMrXCJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj5cIikuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpLmNzcyhcIm1pbkhlaWdodFwiLFwiMHB4XCIpLmNzcyhcInpJbmRleFwiLGQuemluZGV4KS5hZGRDbGFzcyhkLnRyYW5zaXRpb24pLHBpY2tQYWdlVGl0bGU9cGlja1BhZ2UuZmluZChcIi51aS10aXRsZVwiKSxwaWNrUGFnZUNvbnRlbnQ9cGlja1BhZ2UuZmluZChcIi51aS1jb250ZW50XCIpLHRvdWNoPSh0eXBlb2Ygd2luZG93Lm9udG91Y2hzdGFydCE9PVwidW5kZWZpbmVkXCIpLFNUQVJUX0VWRU5UPXRvdWNoP1widG91Y2hzdGFydFwiOlwibW91c2Vkb3duXCIsTU9WRV9FVkVOVD10b3VjaD9cInRvdWNobW92ZVwiOlwibW91c2Vtb3ZlXCIsRU5EX0VWRU5UPXRvdWNoP1widG91Y2hlbmRcIjpcIm1vdXNldXBcIixkcmFnTW92ZT1mYWxzZSxkcmFnU3RhcnQ9ZmFsc2UsZHJhZ0VuZD1mYWxzZSxkcmFnUG9zPWZhbHNlLGRyYWdUYXJnZXQ9ZmFsc2UsZHJhZ1RoaXNEZWx0YT0wO2QudGhlbWU9dGhpc1RoZW1lO2EuZXh0ZW5kKGMse2lucHV0OmlucHV0LGZvY3VzZWRFbDpmb2N1c2VkRWx9KTtpZihkLmZvcmNlSW5oZXJpdFRoZW1lKXtkLnBpY2tQYWdlVGhlbWU9dGhpc1RoZW1lO2QucGlja1BhZ2VJbnB1dFRoZW1lPXRoaXNUaGVtZTtkLnBpY2tQYWdlQnV0dG9uVGhlbWU9dGhpc1RoZW1lfWlmKGQuZGVmYXVsdFBpY2tlclZhbHVlPT09ZmFsc2UmJmQuZGVmYXVsdERhdGUhPT1mYWxzZSl7ZC5kZWZhdWx0UGlja2VyVmFsdWU9ZC5kZWZhdWx0RGF0ZX1pZihkLm51bWJlcklucHV0RW5oYW5jZT09PXRydWUpe2lmKG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSl8fG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL2lQaG9uZS9pKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvaVBvZC9pKSl7ZC5pbnRlcm5hbElucHV0VHlwZT1cIm51bWJlclwifX1hKFwibGFiZWxbZm9yPSdcIitpbnB1dC5hdHRyKFwiaWRcIikrXCInXVwiKS5hZGRDbGFzcyhcInVpLWlucHV0LXRleHRcIikuY3NzKFwidmVydGljYWxBbGlnblwiLFwibWlkZGxlXCIpO2lmKGQubW9kZT09PVwidGltZWZsaXBib3hcIil7ZC5sYW5nW2QudXNlTGFuZ10uaGVhZGVyRm9ybWF0PVwiIFwifWlmKGQubm9CdXR0b25Gb2N1c01vZGV8fGQudXNlSW5saW5lfHxkLm5vQnV0dG9uKXtvcGVuYnV0dG9uLmhpZGUoKX1jLmZvY3VzZWRFbC5iaW5kKGQuY2xpY2tFdmVudCxmdW5jdGlvbigpe2lmKCFkLmRpc2FibGVkJiYoZC5ub0J1dHRvbkZvY3VzTW9kZXx8ZC5mb2N1c01vZGUpKXtjLmlucHV0LnRyaWdnZXIoXCJkYXRlYm94XCIse21ldGhvZDpcIm9wZW5cIn0pO2MuZm9jdXNlZEVsLmFkZENsYXNzKFwidWktZm9jdXNcIik7Yy5pbnB1dC5yZW1vdmVDbGFzcyhcInVpLWZvY3VzXCIpfX0pO2MuaW5wdXQucmVtb3ZlQ2xhc3MoXCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldFwiKS5mb2N1cyhmdW5jdGlvbigpe2lmKCFkLmRpc2FibGVkKXtjLmZvY3VzZWRFbC5hZGRDbGFzcyhcInVpLWZvY3VzXCIpfWMuaW5wdXQucmVtb3ZlQ2xhc3MoXCJ1aS1mb2N1c1wiKX0pLmJsdXIoZnVuY3Rpb24oKXtjLmZvY3VzZWRFbC5yZW1vdmVDbGFzcyhcInVpLWZvY3VzXCIpO2MuaW5wdXQucmVtb3ZlQ2xhc3MoXCJ1aS1mb2N1c1wiKX0pLmNoYW5nZShmdW5jdGlvbigpe2MudGhlRGF0ZT1jLl9tYWtlRGF0ZShjLmlucHV0LnZhbCgpKTtjLl91cGRhdGUoKX0pO2MuaW5wdXQuYmluZChcImRhdGVib3hcIixjLl9kYXRlYm94SGFuZGxlcik7cGlja1BhZ2UuZmluZChcIi51aS1oZWFkZXIgYVwiKS51bmJpbmQoXCJjbGljayB2Y2xpY2tcIikuYmluZChkLmNsaWNrRXZlbnQsZnVuY3Rpb24oZil7Zi5wcmV2ZW50RGVmYXVsdCgpO2Yuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7Yy5pbnB1dC50cmlnZ2VyKFwiZGF0ZWJveFwiLHttZXRob2Q6XCJjbG9zZVwiLGZyb21DbG9zZUJ1dHRvbjpmYWxzZX0pfSk7YS5leHRlbmQoYyx7cGlja1BhZ2U6cGlja1BhZ2UsdGhpc1BhZ2U6dGhpc1BhZ2UscGlja1BhZ2VDb250ZW50OnBpY2tQYWdlQ29udGVudCxwaWNrUGFnZVRpdGxlOnBpY2tQYWdlVGl0bGUsdGhlRGF0ZTp0aGVEYXRlLGluaXREYXRlOmluaXREYXRlLHRvdWNoOnRvdWNoLFNUQVJUX0RSQUc6U1RBUlRfRVZFTlQsTU9WRV9EUkFHOk1PVkVfRVZFTlQsRU5EX0RSQUc6RU5EX0VWRU5ULGRyYWdNb3ZlOmRyYWdNb3ZlLGRyYWdTdGFydDpkcmFnU3RhcnQsZHJhZ0VuZDpkcmFnRW5kLGRyYWdQb3M6ZHJhZ1Bvc30pO2lmKHR5cGVvZiBhLmV2ZW50LnNwZWNpYWwubW91c2V3aGVlbCE9PVwidW5kZWZpbmVkXCIpe2Qud2hlZWxFeGlzdHM9dHJ1ZX1jLl9idWlsZFBhZ2UoKTtpZihkLnN3aXBlRW5hYmxlZCl7YShkb2N1bWVudCkuYmluZChjLk1PVkVfRFJBRyxmdW5jdGlvbihmKXtpZihjLmRyYWdNb3ZlKXtpZihkLm1vZGU9PT1cInNsaWRlYm94XCIpe2MuZHJhZ0VuZD1jLnRvdWNoP2Yub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDpmLnBhZ2VYO2MuZHJhZ1RhcmdldC5jc3MoXCJtYXJnaW5MZWZ0XCIsKGMuZHJhZ1BvcytjLmRyYWdFbmQtYy5kcmFnU3RhcnQpK1wicHhcIik7Zi5wcmV2ZW50RGVmYXVsdCgpO2Yuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJuIGZhbHNlfWVsc2V7aWYoZC5tb2RlPT09XCJmbGlwYm94XCJ8fGQubW9kZT09PVwidGltZWZsaXBib3hcIil7Yy5kcmFnRW5kPWMudG91Y2g/Zi5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZOmYucGFnZVk7Yy5kcmFnVGFyZ2V0LmNzcyhcIm1hcmdpblRvcFwiLChjLmRyYWdQb3MrYy5kcmFnRW5kLWMuZHJhZ1N0YXJ0KStcInB4XCIpO2YucHJldmVudERlZmF1bHQoKTtmLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybiBmYWxzZX1lbHNle2lmKGQubW9kZT09PVwiZHVyYXRpb25ib3hcInx8ZC5tb2RlPT09XCJ0aW1lYm94XCJ8fGQubW9kZT09PVwiZGF0ZWJveFwiKXtjLmRyYWdFbmQ9Yy50b3VjaD9mLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk6Zi5wYWdlWTtpZigoYy5kcmFnRW5kLWMuZHJhZ1N0YXJ0KSUyPT09MCl7ZHJhZ1RoaXNEZWx0YT0oYy5kcmFnRW5kLWMuZHJhZ1N0YXJ0KS8tMjtpZihkcmFnVGhpc0RlbHRhPGMuZHJhZ1Bvcyl7Yy5fb2Zmc2V0KGMuZHJhZ1RhcmdldCwtMSooYy5kcmFnVGFyZ2V0PT09XCJpXCI/ZC5taW51dGVTdGVwOjEpKX1lbHNle2lmKGRyYWdUaGlzRGVsdGE+Yy5kcmFnUG9zKXtjLl9vZmZzZXQoYy5kcmFnVGFyZ2V0LChjLmRyYWdUYXJnZXQ9PT1cImlcIj9kLm1pbnV0ZVN0ZXA6MSkpfX1jLmRyYWdQb3M9ZHJhZ1RoaXNEZWx0YX1mLnByZXZlbnREZWZhdWx0KCk7Zi5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm4gZmFsc2V9fX19fSk7YShkb2N1bWVudCkuYmluZChjLkVORF9EUkFHLGZ1bmN0aW9uKGgpe2lmKGMuZHJhZ01vdmUpe2MuZHJhZ01vdmU9ZmFsc2U7aWYoZC5tb2RlPT09XCJzbGlkZWJveFwiKXtpZihjLmRyYWdFbmQhPT1mYWxzZSYmTWF0aC5hYnMoYy5kcmFnU3RhcnQtYy5kcmFnRW5kKT4yNSl7aC5wcmV2ZW50RGVmYXVsdCgpO2guc3RvcFByb3BhZ2F0aW9uKCk7c3dpdGNoKGMuZHJhZ1RhcmdldC5wYXJlbnQoKS5qcW1EYXRhKFwicm93dHlwZVwiKSl7Y2FzZVwieVwiOmMuX29mZnNldChcInlcIixwYXJzZUludCgoYy5kcmFnU3RhcnQtYy5kcmFnRW5kKS84NCwxMCkpO2JyZWFrO2Nhc2VcIm1cIjpjLl9vZmZzZXQoXCJtXCIscGFyc2VJbnQoKGMuZHJhZ1N0YXJ0LWMuZHJhZ0VuZCkvNTEsMTApKTticmVhaztjYXNlXCJkXCI6Yy5fb2Zmc2V0KFwiZFwiLHBhcnNlSW50KChjLmRyYWdTdGFydC1jLmRyYWdFbmQpLzMyLDEwKSk7YnJlYWs7Y2FzZVwiaFwiOmMuX29mZnNldChcImhcIixwYXJzZUludCgoYy5kcmFnU3RhcnQtYy5kcmFnRW5kKS8zMiwxMCkpO2JyZWFrO2Nhc2VcImlcIjpjLl9vZmZzZXQoXCJpXCIscGFyc2VJbnQoKGMuZHJhZ1N0YXJ0LWMuZHJhZ0VuZCkvMzIsMTApKTticmVha319fWVsc2V7aWYoZC5tb2RlPT09XCJmbGlwYm94XCJ8fGQubW9kZT09PVwidGltZWZsaXBib3hcIil7aWYoYy5kcmFnRW5kIT09ZmFsc2Upe2gucHJldmVudERlZmF1bHQoKTtoLnN0b3BQcm9wYWdhdGlvbigpO3ZhciBnPWMuZHJhZ1RhcmdldC5wYXJlbnQoKS5wYXJlbnQoKS5qcW1EYXRhKFwiZmllbGRcIiksZj1wYXJzZUludCgoYy5kcmFnU3RhcnQtYy5kcmFnRW5kKS8zMCwxMCk7Yy5fb2Zmc2V0KGcsZiooKGc9PT1cImlcIik/ZC5taW51dGVTdGVwOjEpKX19fWMuZHJhZ1N0YXJ0PWZhbHNlO2MuZHJhZ0VuZD1mYWxzZX19KX1pZihjLmlucHV0LmlzKFwiOmRpc2FibGVkXCIpKXtjLmRpc2FibGUoKX1pZihkLmRpc2FibGVNYW51YWxJbnB1dD09PXRydWUpe2MuaW5wdXQuYXR0cihcInJlYWRvbmx5XCIsdHJ1ZSl9YShkb2N1bWVudCkudHJpZ2dlcihcImRhdGVib3hhZnRlcmNyZWF0ZVwiKX0sX21ha2VFbGVtZW50OmZ1bmN0aW9uKGYsZyl7dmFyIGM9dGhpcyxkPWZhbHNlLGU9ZmFsc2U7ZT1mLmNsb25lKCk7aWYodHlwZW9mIGcuYXR0ciE9PVwidW5kZWZpbmVkXCIpe2ZvcihkIGluIGcuYXR0cil7aWYoZy5hdHRyLmhhc093blByb3BlcnR5KGQpKXtlLmpxbURhdGEoZCxnLmF0dHJbZF0pfX19cmV0dXJuIGV9LF9ldmVudEVudGVyVmFsdWU6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxlPWMub3B0aW9ucyxmPWZhbHNlO2lmKGQudmFsKCkhPT1cIlwiJiZjLl9pc0ludChkLnZhbCgpKSl7c3dpdGNoKGQuanFtRGF0YShcImZpZWxkXCIpKXtjYXNlXCJtXCI6Yy50aGVEYXRlLnNldE1vbnRoKHBhcnNlSW50KGQudmFsKCksMTApLTEpO2JyZWFrO2Nhc2VcImRcIjpjLnRoZURhdGUuc2V0RGF0ZShwYXJzZUludChkLnZhbCgpLDEwKSk7YnJlYWs7Y2FzZVwieVwiOmMudGhlRGF0ZS5zZXRGdWxsWWVhcihwYXJzZUludChkLnZhbCgpLDEwKSk7YnJlYWs7Y2FzZVwiaVwiOmMudGhlRGF0ZS5zZXRNaW51dGVzKHBhcnNlSW50KGQudmFsKCksMTApKTticmVhaztjYXNlXCJoXCI6Zj1wYXJzZUludChkLnZhbCgpLDEwKTtpZihmPT09MTIpe2lmKChlLmxhbmdbZS51c2VMYW5nXS50aW1lRm9ybWF0PT09MTJ8fGUudGltZUZvcm1hdE92ZXJyaWRlPT09MTIpJiZjLnBpY2tlck1lcmkudmFsKCk9PT1lLm1lcmlkaWVtTGV0dGVyc1swXSl7Zj0wfX1jLnRoZURhdGUuc2V0SG91cnMoZik7YnJlYWt9Yy5fdXBkYXRlKCl9fSxfYnVpbGRJbnRlcm5hbHM6ZnVuY3Rpb24oKXt2YXIgcD10aGlzLHI9cC5vcHRpb25zLG0sayx2LGUsdz1hKFwiPGRpdj48YSBocmVmPScjJz48L2E+PC9kaXY+XCIpLGY9YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtY29udGFpbmVyIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwgdWktZGF0ZWJveC1oaWRkZW4gcG9wIHVpLWJvZHktXCIrci5waWNrUGFnZVRoZW1lfSkuY3NzKFwiekluZGV4XCIsci56aW5kZXgpLHo9YShcIjxpbnB1dCB0eXBlPSdcIityLmludGVybmFsSW5wdXRUeXBlK1wiJyAvPlwiKS5hZGRDbGFzcyhcInVpLWlucHV0LXRleHQgdWktY29ybmVyLWFsbCB1aS1zaGFkb3ctaW5zZXQgdWktZGF0ZWJveC1pbnB1dCB1aS1ib2R5LVwiK3IucGlja1BhZ2VJbnB1dFRoZW1lKSx0PWEoXCI8aW5wdXQgdHlwZT0ndGV4dCcgLz5cIikuYWRkQ2xhc3MoXCJ1aS1pbnB1dC10ZXh0IHVpLWNvcm5lci1hbGwgdWktc2hhZG93LWluc2V0IHVpLWRhdGVib3gtaW5wdXQgdWktYm9keS1cIityLnBpY2tQYWdlSW5wdXRUaGVtZSksaj1hKFwiPGRpdj5cIix7XCJjbGFzc1wiOlwidWktZGF0ZWJveC1jb250cm9sc1wifSksaT1hKFwiPGRpdiBjbGFzcz0ndWktb3ZlcmxheS1zaGFkb3cnPjx1bD48L3VsPjwvZGl2PlwiKSxoLEIsbixzLHUsZCxnLGwsQSxDLHEsYztwLmNhbE5vTmV4dD1mYWxzZTtwLmNhbE5vUHJldj1mYWxzZTtwLnNldEJ1dHRvbj1mYWxzZTtwLmNsZWFyQnV0dG9uPWZhbHNlO3AuZGF0ZU9LPXRydWU7aWYoci5maWVsZHNPcmRlck92ZXJyaWRlPT09ZmFsc2Upe3N3aXRjaChyLm1vZGUpe2Nhc2VcInRpbWVib3hcIjpjYXNlXCJ0aW1lZmxpcGJveFwiOnIuZmllbGRzT3JkZXI9ci5sYW5nW3IudXNlTGFuZ10udGltZUZpZWxkT3JkZXI7YnJlYWs7Y2FzZVwic2xpZGVib3hcIjpyLmZpZWxkc09yZGVyPXIubGFuZ1tyLnVzZUxhbmddLnNsaWRlRmllbGRPcmRlcjticmVhaztkZWZhdWx0OnIuZmllbGRzT3JkZXI9ci5sYW5nW3IudXNlTGFuZ10uZGF0ZUZpZWxkT3JkZXJ9fWVsc2V7ci5maWVsZHNPcmRlcj1yLmZpZWxkc09yZGVyT3ZlcnJpZGV9aWYoci50aW1lT3V0cHV0T3ZlcnJpZGUhPT1mYWxzZSl7ci50aW1lT3V0cHV0PXIudGltZU91dHB1dE92ZXJyaWRlfWVsc2V7aWYoci50aW1lRm9ybWF0T3ZlcnJpZGU9PT1mYWxzZSl7ci50aW1lT3V0cHV0PXIudGltZUZvcm1hdHNbci5sYW5nW3IudXNlTGFuZ10udGltZUZvcm1hdF19ZWxzZXtyLnRpbWVPdXRwdXQ9ci50aW1lRm9ybWF0c1tyLnRpbWVGb3JtYXRPdmVycmlkZV19fWlmKHIuZGF0ZUZvcm1hdCE9PWZhbHNlKXtyLmRhdGVPdXRwdXQ9ci5kYXRlRm9ybWF0fWVsc2V7aWYodHlwZW9mIHIubGFuZ1tyLnVzZUxhbmddLmRhdGVGb3JtYXQhPT1cInVuZGVmaW5lZFwiKXtyLmRhdGVPdXRwdXQ9ci5sYW5nW3IudXNlTGFuZ10uZGF0ZUZvcm1hdH1lbHNle3IuZGF0ZU91dHB1dD1yLmRlZmF1bHREYXRlRm9ybWF0fX1wLnBpY2tlckNvbnRlbnQuZW1wdHkoKTtpZihyLm1vZGU9PT1cImRhdGVib3hcInx8ci5tb2RlPT09XCJ0aW1lYm94XCIpe3U9YShcIjxkaXYgY2xhc3M9J3VpLWRhdGVib3gtaGVhZGVyJz48aDQ+VW5pdGlhbGl6ZWQ8L2g0PjwvZGl2PlwiKS5hcHBlbmRUbyhwLnBpY2tlckNvbnRlbnQpLmZpbmQoXCJoNFwiKTtoPWouY2xvbmUoKS5hcHBlbmRUbyhwLnBpY2tlckNvbnRlbnQpO0I9ai5jbG9uZSgpLmFwcGVuZFRvKHAucGlja2VyQ29udGVudCk7bj1qLmNsb25lKCkuYXBwZW5kVG8ocC5waWNrZXJDb250ZW50KTtzPWouY2xvbmUoKS5hcHBlbmRUbyhwLnBpY2tlckNvbnRlbnQpO2lmKHIubW9kZT09PVwidGltZWJveFwiKXt1LnBhcmVudCgpLmVtcHR5KCl9QT1wLl9tYWtlRWxlbWVudCh6LHthdHRyOntmaWVsZDpcIm1cIixhbW91bnQ6MX19KTtDPXAuX21ha2VFbGVtZW50KHose2F0dHI6e2ZpZWxkOlwiZFwiLGFtb3VudDoxfX0pO3E9cC5fbWFrZUVsZW1lbnQoeix7YXR0cjp7ZmllbGQ6XCJ5XCIsYW1vdW50OjF9fSk7ZD1wLl9tYWtlRWxlbWVudCh6LHthdHRyOntmaWVsZDpcImhcIixhbW91bnQ6MX19KTtnPXAuX21ha2VFbGVtZW50KHose2F0dHI6e2ZpZWxkOlwiaVwiLGFtb3VudDoxfX0pO2w9cC5fbWFrZUVsZW1lbnQodCx7YXR0cjp7ZmllbGQ6XCJhXCIsYW1vdW50OnIubWludXRlU3RlcH19KTtCLmRlbGVnYXRlKFwiaW5wdXRcIixcImtleXVwXCIsZnVuY3Rpb24oKXtwLl9ldmVudEVudGVyVmFsdWUoYSh0aGlzKSl9KTtpZihyLndoZWVsRXhpc3RzKXtCLmRlbGVnYXRlKFwiaW5wdXRcIixcIm1vdXNld2hlZWxcIixmdW5jdGlvbihvLHgpe28ucHJldmVudERlZmF1bHQoKTtwLl9vZmZzZXQoYSh0aGlzKS5qcW1EYXRhKFwiZmllbGRcIiksKCh4PDApPy0xOjEpKmEodGhpcykuanFtRGF0YShcImFtb3VudFwiKSl9KX1mb3IobT0wO208PXIuZmllbGRzT3JkZXIubGVuZ3RoO20rKyl7aWYoci5maWVsZHNPcmRlclttXT09PVwieVwiKXtxLmFwcGVuZFRvKEIpfWlmKHIuZmllbGRzT3JkZXJbbV09PT1cIm1cIil7QS5hcHBlbmRUbyhCKX1pZihyLmZpZWxkc09yZGVyW21dPT09XCJkXCIpe0MuYXBwZW5kVG8oQil9aWYoci5maWVsZHNPcmRlclttXT09PVwiaFwiKXtkLmFwcGVuZFRvKEIpfWlmKHIuZmllbGRzT3JkZXJbbV09PT1cImlcIil7Zy5hcHBlbmRUbyhCKX1pZihyLmZpZWxkc09yZGVyW21dPT09XCJhXCImJihyLmxhbmdbci51c2VMYW5nXS50aW1lRm9ybWF0PT09MTJ8fHIudGltZUZvcm1hdE92ZXJyaWRlPT09MTIpKXtsLmFwcGVuZFRvKEIpfX1pZihyLnN3aXBlRW5hYmxlZCl7Qi5kZWxlZ2F0ZShcImlucHV0XCIscC5TVEFSVF9EUkFHLGZ1bmN0aW9uKG8pe2lmKCFwLmRyYWdNb3ZlKXtwLmRyYWdNb3ZlPXRydWU7cC5kcmFnVGFyZ2V0PWEodGhpcykuanFtRGF0YShcImZpZWxkXCIpO3AuZHJhZ1Bvcz0wO3AuZHJhZ1N0YXJ0PXAudG91Y2g/by5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZOm8ucGFnZVk7cC5kcmFnRW5kPWZhbHNlO28uc3RvcFByb3BhZ2F0aW9uKCl9fSl9aWYoci5ub1NldEJ1dHRvbj09PWZhbHNlKXtwLnNldEJ1dHRvbj1hKFwiPGEgaHJlZj0nIyc+UGxhY2VIb2xkZXI8L2E+XCIpLmFwcGVuZFRvKHMpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ci5waWNrUGFnZVRoZW1lLGljb246XCJjaGVja1wiLGljb25wb3M6XCJsZWZ0XCIsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlfSkuYmluZChyLmNsaWNrRXZlbnQsZnVuY3Rpb24obyl7by5wcmV2ZW50RGVmYXVsdCgpO2lmKHAuZGF0ZU9LPT09dHJ1ZSl7aWYoci5tb2RlPT09XCJ0aW1lYm94XCIpe3AuaW5wdXQudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwic2V0XCIsdmFsdWU6cC5fZm9ybWF0VGltZShwLnRoZURhdGUpLGRhdGU6cC50aGVEYXRlfSl9ZWxzZXtwLmlucHV0LnRyaWdnZXIoXCJkYXRlYm94XCIse21ldGhvZDpcInNldFwiLHZhbHVlOnAuX2Zvcm1hdERhdGUocC50aGVEYXRlKSxkYXRlOnAudGhlRGF0ZX0pfXAuaW5wdXQudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwiY2xvc2VcIn0pfX0pfWZvcihtPTA7bTxwLm9wdGlvbnMuZmllbGRzT3JkZXIubGVuZ3RoO20rKyl7aWYoci5maWVsZHNPcmRlclttXSE9PVwiYVwifHxyLmxhbmdbci51c2VMYW5nXS50aW1lRm9ybWF0PT09MTJ8fHIudGltZUZvcm1hdE92ZXJyaWRlPT09MTIpe2ZvcihrPTA7azwyO2srKyl7dy5jbG9uZSgpLmFwcGVuZFRvKCgoaz09PTApP2g6bikpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ci5waWNrUGFnZUJ1dHRvblRoZW1lLGljb246KChrPT09MCk/XCJwbHVzXCI6XCJtaW51c1wiKSxpY29ucG9zOlwiYm90dG9tXCIsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlfSkuanFtRGF0YShcImZpZWxkXCIsci5maWVsZHNPcmRlclttXSkuanFtRGF0YShcImFtb3VudFwiLCgoci5maWVsZHNPcmRlclttXT09PVwiaVwiKT9yLm1pbnV0ZVN0ZXA6MSkpfX19aC5kZWxlZ2F0ZShcImRpdlwiLHIuY2xpY2tFdmVudCxmdW5jdGlvbihvKXtvLnByZXZlbnREZWZhdWx0KCk7cC5fb2Zmc2V0KGEodGhpcykuanFtRGF0YShcImZpZWxkXCIpLGEodGhpcykuanFtRGF0YShcImFtb3VudFwiKSl9KTtuLmRlbGVnYXRlKFwiZGl2XCIsci5jbGlja0V2ZW50LGZ1bmN0aW9uKG8pe28ucHJldmVudERlZmF1bHQoKTtwLl9vZmZzZXQoYSh0aGlzKS5qcW1EYXRhKFwiZmllbGRcIiksYSh0aGlzKS5qcW1EYXRhKFwiYW1vdW50XCIpKi0xKX0pO2EuZXh0ZW5kKHAse2NvbnRyb2xzSGVhZGVyOnUscGlja2VyRGF5OkMscGlja2VyTW9uOkEscGlja2VyWWFyOnEscGlja2VySG91cjpkLHBpY2tlck1pbnM6ZyxwaWNrZXJNZXJpOmwsY29udHJvbHNJbnB1dDpCfSk7cC5waWNrZXJDb250ZW50LmFwcGVuZFRvKHAudGhpc1BhZ2UpfWlmKHIubW9kZT09PVwiZHVyYXRpb25ib3hcIil7aD1qLmNsb25lKCkucmVtb3ZlQ2xhc3MoXCJ1aS1kYXRlYm94LWNvbnRyb2xzXCIpLmFkZENsYXNzKFwidWktZGF0ZWJveC1zY29udHJvbHNcIikuYXBwZW5kVG8ocC5waWNrZXJDb250ZW50KTtCPWguY2xvbmUoKS5hcHBlbmRUbyhwLnBpY2tlckNvbnRlbnQpO249aC5jbG9uZSgpLmFwcGVuZFRvKHAucGlja2VyQ29udGVudCk7cz1qLmNsb25lKCkuYXBwZW5kVG8ocC5waWNrZXJDb250ZW50KTtDPXoucmVtb3ZlQ2xhc3MoXCJ1aS1kYXRlYm94LWlucHV0XCIpO2Q9Qy5jbG9uZSgpO2c9Qy5jbG9uZSgpO2M9Qy5jbG9uZSgpO0IuZGVsZWdhdGUoXCJpbnB1dFwiLFwia2V5dXBcIixmdW5jdGlvbigpe2lmKGEodGhpcykudmFsKCkhPT1cIlwiKXtwLl91cGRhdGVkdXJhdGlvbigpfX0pO2lmKHIud2hlZWxFeGlzdHMpe0IuZGVsZWdhdGUoXCJpbnB1dFwiLFwibW91c2V3aGVlbFwiLGZ1bmN0aW9uKG8seCl7by5wcmV2ZW50RGVmYXVsdCgpO3AuX29mZnNldChhKHRoaXMpLnBhcmVudCgpLmpxbURhdGEoXCJmaWVsZFwiKSwoKHg8MCk/LTE6MSkpfSl9Zm9yKG09MDttPHIuZHVyYXRpb25PcmRlci5sZW5ndGg7bSsrKXtzd2l0Y2goci5kdXJhdGlvbk9yZGVyW21dKXtjYXNlXCJkXCI6YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtc2lucHV0XCJ9KS5qcW1EYXRhKFwiZmllbGRcIixcImRcIikuYXBwZW5kKEMpLmFwcGVuZFRvKEIpLnByZXBlbmQoXCI8bGFiZWw+XCIrci5sYW5nW3IudXNlTGFuZ10uZHVyYXRpb25MYWJlbFswXStcIjwvbGFiZWw+XCIpO2JyZWFrO2Nhc2VcImhcIjphKFwiPGRpdj5cIix7XCJjbGFzc1wiOlwidWktZGF0ZWJveC1zaW5wdXRcIn0pLmpxbURhdGEoXCJmaWVsZFwiLFwiaFwiKS5hcHBlbmQoZCkuYXBwZW5kVG8oQikucHJlcGVuZChcIjxsYWJlbD5cIityLmxhbmdbci51c2VMYW5nXS5kdXJhdGlvbkxhYmVsWzFdK1wiPC9sYWJlbD5cIik7YnJlYWs7Y2FzZVwiaVwiOmEoXCI8ZGl2PlwiLHtcImNsYXNzXCI6XCJ1aS1kYXRlYm94LXNpbnB1dFwifSkuanFtRGF0YShcImZpZWxkXCIsXCJpXCIpLmFwcGVuZChnKS5hcHBlbmRUbyhCKS5wcmVwZW5kKFwiPGxhYmVsPlwiK3IubGFuZ1tyLnVzZUxhbmddLmR1cmF0aW9uTGFiZWxbMl0rXCI8L2xhYmVsPlwiKTticmVhaztjYXNlXCJzXCI6YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtc2lucHV0XCJ9KS5qcW1EYXRhKFwiZmllbGRcIixcInNcIikuYXBwZW5kKGMpLmFwcGVuZFRvKEIpLnByZXBlbmQoXCI8bGFiZWw+XCIrci5sYW5nW3IudXNlTGFuZ10uZHVyYXRpb25MYWJlbFszXStcIjwvbGFiZWw+XCIpO2JyZWFrfX1pZihyLnN3aXBlRW5hYmxlZCl7Qi5kZWxlZ2F0ZShcImlucHV0XCIscC5TVEFSVF9EUkFHLGZ1bmN0aW9uKG8pe2lmKCFwLmRyYWdNb3ZlKXtwLmRyYWdNb3ZlPXRydWU7cC5kcmFnVGFyZ2V0PWEodGhpcykucGFyZW50KCkuanFtRGF0YShcImZpZWxkXCIpO3AuZHJhZ1Bvcz0wO3AuZHJhZ1N0YXJ0PXAudG91Y2g/by5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZOm8ucGFnZVk7cC5kcmFnRW5kPWZhbHNlO28uc3RvcFByb3BhZ2F0aW9uKCl9fSl9aWYoci5ub1NldEJ1dHRvbj09PWZhbHNlKXtwLnNldEJ1dHRvbj1hKFwiPGEgaHJlZj0nIyc+UGxhY2VIb2xkZXI8L2E+XCIpLmFwcGVuZFRvKHMpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ci5waWNrUGFnZVRoZW1lLGljb246XCJjaGVja1wiLGljb25wb3M6XCJsZWZ0XCIsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlfSkuYmluZChyLmNsaWNrRXZlbnQsZnVuY3Rpb24obyl7by5wcmV2ZW50RGVmYXVsdCgpO3AuaW5wdXQudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwic2V0XCIsdmFsdWU6cC5fZm9ybWF0VGltZShwLnRoZURhdGUpLGRhdGU6cC50aGVEYXRlfSk7cC5pbnB1dC50cmlnZ2VyKFwiZGF0ZWJveFwiLHttZXRob2Q6XCJjbG9zZVwifSl9KX1mb3IobT0wO208ci5kdXJhdGlvbk9yZGVyLmxlbmd0aDttKyspe2ZvcihrPTA7azwyO2srKyl7dy5jbG9uZSgpLmFwcGVuZFRvKCgoaz09PTApP2g6bikpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ci5waWNrUGFnZUJ1dHRvblRoZW1lLGljb246KChrPT09MCk/XCJwbHVzXCI6XCJtaW51c1wiKSxpY29ucG9zOlwiYm90dG9tXCIsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlfSkuanFtRGF0YShcImZpZWxkXCIsci5kdXJhdGlvbk9yZGVyW21dKX19aC5kZWxlZ2F0ZShcImRpdlwiLHIuY2xpY2tFdmVudCxmdW5jdGlvbihvKXtvLnByZXZlbnREZWZhdWx0KCk7cC5fb2Zmc2V0KGEodGhpcykuanFtRGF0YShcImZpZWxkXCIpLHIuZHVyYXRpb25TdGVwcGVyc1thKHRoaXMpLmpxbURhdGEoXCJmaWVsZFwiKV0pfSk7bi5kZWxlZ2F0ZShcImRpdlwiLHIuY2xpY2tFdmVudCxmdW5jdGlvbihvKXtvLnByZXZlbnREZWZhdWx0KCk7cC5fb2Zmc2V0KGEodGhpcykuanFtRGF0YShcImZpZWxkXCIpLHIuZHVyYXRpb25TdGVwcGVyc1thKHRoaXMpLmpxbURhdGEoXCJmaWVsZFwiKV0qLTEpfSk7YS5leHRlbmQocCx7cGlja2VySG91cjpkLHBpY2tlck1pbnM6ZyxwaWNrZXJEYXk6QyxwaWNrZXJTZWNzOmN9KTtwLnBpY2tlckNvbnRlbnQuYXBwZW5kVG8ocC50aGlzUGFnZSl9aWYoci5tb2RlPT09XCJzbGlkZWJveFwiKXt1PWEoXCI8ZGl2IGNsYXNzPSd1aS1kYXRlYm94LWhlYWRlcic+PGg0PlVuaXRpYWxpemVkPC9oND48L2Rpdj5cIikuYXBwZW5kVG8ocC5waWNrZXJDb250ZW50KS5maW5kKFwiaDRcIik7Qj1hKFwiPGRpdj5cIikuYWRkQ2xhc3MoXCJ1aS1kYXRlYm94LXNsaWRlXCIpLmFwcGVuZFRvKHAucGlja2VyQ29udGVudCk7cz1hKFwiPGRpdj5cIix7XCJjbGFzc1wiOlwidWktZGF0ZWJveC1jb250cm9sc1wifSkuYXBwZW5kVG8ocC5waWNrZXJDb250ZW50KTtpZihyLm5vU2V0QnV0dG9uPT09ZmFsc2Upe3Auc2V0QnV0dG9uPWEoXCI8YSBocmVmPScjJz5QbGFjZUhvbGRlcjwvYT5cIikuYXBwZW5kVG8ocykuYnV0dG9uTWFya3VwKHt0aGVtZTpyLnBpY2tQYWdlVGhlbWUsaWNvbjpcImNoZWNrXCIsaWNvbnBvczpcImxlZnRcIixjb3JuZXJzOnRydWUsc2hhZG93OnRydWV9KS5iaW5kKHIuY2xpY2tFdmVudCxmdW5jdGlvbihvKXtvLnByZXZlbnREZWZhdWx0KCk7aWYocC5kYXRlT0s9PT10cnVlKXtwLmlucHV0LnRyaWdnZXIoXCJkYXRlYm94XCIse21ldGhvZDpcInNldFwiLHZhbHVlOnAuX2Zvcm1hdERhdGUocC50aGVEYXRlKSxkYXRlOnAudGhlRGF0ZX0pO3AuaW5wdXQudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwiY2xvc2VcIn0pfX0pfWEuZXh0ZW5kKHAse2NvbnRyb2xzSGVhZGVyOnUsY29udHJvbHNJbnB1dDpCfSk7cC5waWNrZXJDb250ZW50LmFwcGVuZFRvKHAudGhpc1BhZ2UpfWlmKHIubW9kZT09PVwiZmxpcGJveFwifHxyLm1vZGU9PT1cInRpbWVmbGlwYm94XCIpe3U9YShcIjxkaXYgY2xhc3M9J3VpLWRhdGVib3gtaGVhZGVyJz48aDQ+VW5pdGlhbGl6ZWQ8L2g0PjwvZGl2PlwiKS5hcHBlbmRUbyhwLnBpY2tlckNvbnRlbnQpLmZpbmQoXCJoNFwiKTtCPWEoXCI8ZGl2PlwiLHtcImNsYXNzXCI6XCJ1aS1kYXRlYm94LWZsaXBjb250ZW50XCJ9KS5hcHBlbmRUbyhwLnBpY2tlckNvbnRlbnQpO2g9YShcIjxkaXY+XCIse1wiY2xhc3NcIjpcInVpLWRhdGVib3gtZmxpcGNlbnRlciB1aS1vdmVybGF5LXNoYWRvd1wifSkuY3NzKFwicG9pbnRlckV2ZW50c1wiLFwibm9uZVwiKS5hcHBlbmRUbyhwLnBpY2tlckNvbnRlbnQpO3M9ai5jbG9uZSgpLmFwcGVuZFRvKHAucGlja2VyQ29udGVudCk7Qz1wLl9tYWtlRWxlbWVudChpLHthdHRyOntmaWVsZDpcImRcIixhbW91bnQ6MX19KTtBPXAuX21ha2VFbGVtZW50KGkse2F0dHI6e2ZpZWxkOlwibVwiLGFtb3VudDoxfX0pO3E9cC5fbWFrZUVsZW1lbnQoaSx7YXR0cjp7ZmllbGQ6XCJ5XCIsYW1vdW50OjF9fSk7ZD1wLl9tYWtlRWxlbWVudChpLHthdHRyOntmaWVsZDpcImhcIixhbW91bnQ6MX19KTtnPXAuX21ha2VFbGVtZW50KGkse2F0dHI6e2ZpZWxkOlwiaVwiLGFtb3VudDpyLm1pbnV0ZVN0ZXB9fSk7bD1wLl9tYWtlRWxlbWVudChpLHthdHRyOntmaWVsZDpcImFcIixhbW91bnQ6MX19KTtpZihyLndoZWVsRXhpc3RzKXtCLmRlbGVnYXRlKFwiZGl2XCIsXCJtb3VzZXdoZWVsXCIsZnVuY3Rpb24obyx4KXtvLnByZXZlbnREZWZhdWx0KCk7cC5fb2Zmc2V0KGEodGhpcykuanFtRGF0YShcImZpZWxkXCIpLCgoeDwwKT8tMToxKSphKHRoaXMpLmpxbURhdGEoXCJhbW91bnRcIikpfSl9Zm9yKG09MDttPD1yLmZpZWxkc09yZGVyLmxlbmd0aDttKyspe2lmKHIuZmllbGRzT3JkZXJbbV09PT1cInlcIil7cS5hcHBlbmRUbyhCKX1pZihyLmZpZWxkc09yZGVyW21dPT09XCJtXCIpe0EuYXBwZW5kVG8oQil9aWYoci5maWVsZHNPcmRlclttXT09PVwiZFwiKXtDLmFwcGVuZFRvKEIpfWlmKHIuZmllbGRzT3JkZXJbbV09PT1cImhcIil7ZC5hcHBlbmRUbyhCKX1pZihyLmZpZWxkc09yZGVyW21dPT09XCJpXCIpe2cuYXBwZW5kVG8oQil9aWYoci5maWVsZHNPcmRlclttXT09PVwiYVwiJiYoci5sYW5nW3IudXNlTGFuZ10udGltZUZvcm1hdD09PTEyfHxyLnRpbWVGb3JtYXRPdmVycmlkZT09PTEyKSl7bC5hcHBlbmRUbyhCKX19aWYoci5zd2lwZUVuYWJsZWQpe0IuZGVsZWdhdGUoXCJ1bFwiLHAuU1RBUlRfRFJBRyxmdW5jdGlvbih4LG8pe2lmKCFwLmRyYWdNb3ZlKXtpZih0eXBlb2YgbyE9PVwidW5kZWZpbmVkXCIpe3g9b31wLmRyYWdNb3ZlPXRydWU7cC5kcmFnVGFyZ2V0PWEodGhpcykuZmluZChcImxpXCIpLmZpcnN0KCk7cC5kcmFnUG9zPXBhcnNlSW50KHAuZHJhZ1RhcmdldC5jc3MoXCJtYXJnaW5Ub3BcIikucmVwbGFjZSgvcHgvaSxcIlwiKSwxMCk7cC5kcmFnU3RhcnQ9cC50b3VjaD94Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk6eC5wYWdlWTtwLmRyYWdFbmQ9ZmFsc2U7eC5zdG9wUHJvcGFnYXRpb24oKTt4LnByZXZlbnREZWZhdWx0KCl9fSk7aC5iaW5kKHAuU1RBUlRfRFJBRyxmdW5jdGlvbihvKXtpZighcC5kcmFnTW92ZSl7cC5kcmFnVGFyZ2V0PXAudG91Y2g/by5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLWEoby5jdXJyZW50VGFyZ2V0KS5vZmZzZXQoKS5sZWZ0Om8ucGFnZVgtYShvLmN1cnJlbnRUYXJnZXQpLm9mZnNldCgpLmxlZnQ7aWYoci5maWVsZHNPcmRlci5sZW5ndGg9PT0zKXthKHAuY29udHJvbHNJbnB1dC5maW5kKFwidWxcIikuZ2V0KHBhcnNlSW50KHAuZHJhZ1RhcmdldC84NywxMCkpKS50cmlnZ2VyKHAuU1RBUlRfRFJBRyxvKX1lbHNle2lmKHIuZmllbGRzT3JkZXIubGVuZ3RoPT09Mil7YShwLmNvbnRyb2xzSW5wdXQuZmluZChcInVsXCIpLmdldChwYXJzZUludChwLmRyYWdUYXJnZXQvMTMwLDEwKSkpLnRyaWdnZXIocC5TVEFSVF9EUkFHLG8pfX19fSl9aWYoci5ub1NldEJ1dHRvbj09PWZhbHNlKXtwLnNldEJ1dHRvbj1hKFwiPGEgaHJlZj0nIyc+UGxhY2VIb2xkZXI8L2E+XCIpLmFwcGVuZFRvKHMpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ci5waWNrUGFnZVRoZW1lLGljb246XCJjaGVja1wiLGljb25wb3M6XCJsZWZ0XCIsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlfSkuYmluZChyLmNsaWNrRXZlbnQsZnVuY3Rpb24obyl7by5wcmV2ZW50RGVmYXVsdCgpO2lmKHAuZGF0ZU9LPT09dHJ1ZSl7aWYoci5tb2RlPT09XCJ0aW1lZmxpcGJveFwiKXtwLmlucHV0LnRyaWdnZXIoXCJkYXRlYm94XCIse21ldGhvZDpcInNldFwiLHZhbHVlOnAuX2Zvcm1hdFRpbWUocC50aGVEYXRlKSxkYXRlOnAudGhlRGF0ZX0pfWVsc2V7cC5pbnB1dC50cmlnZ2VyKFwiZGF0ZWJveFwiLHttZXRob2Q6XCJzZXRcIix2YWx1ZTpwLl9mb3JtYXREYXRlKHAudGhlRGF0ZSksZGF0ZTpwLnRoZURhdGV9KX1wLmlucHV0LnRyaWdnZXIoXCJkYXRlYm94XCIse21ldGhvZDpcImNsb3NlXCJ9KX19KX1hLmV4dGVuZChwLHtjb250cm9sc0hlYWRlcjp1LGNvbnRyb2xzSW5wdXQ6QixwaWNrZXJEYXk6QyxwaWNrZXJNb246QSxwaWNrZXJZYXI6cSxwaWNrZXJIb3VyOmQscGlja2VyTWluczpnLHBpY2tlck1lcmk6bH0pO3AucGlja2VyQ29udGVudC5hcHBlbmRUbyhwLnRoaXNQYWdlKX1pZihyLm1vZGU9PT1cImNhbGJveFwiKXt1PWEoXCI8ZGl2PlwiLHtcImNsYXNzXCI6XCJ1aS1kYXRlYm94LWdyaWRoZWFkZXJcIn0pLmFwcGVuZFRvKHAucGlja2VyQ29udGVudCk7aD1hKFwiPGRpdj5cIix7XCJjbGFzc1wiOlwidWktZGF0ZWJveC1ncmlkXCJ9KS5hcHBlbmRUbyhwLnBpY2tlckNvbnRlbnQpO3M9ai5jbG9uZSgpLmFwcGVuZFRvKHAucGlja2VyQ29udGVudCk7Qj1hKFwiPGRpdiBjbGFzcz0ndWktZGF0ZWJveC1ncmlkbGFiZWwnPjxoND5VbmluaXRpYWxpemVkPC9oND48L2Rpdj5cIikuYXBwZW5kVG8odSkuZmluZChcImg0XCIpO2lmKHIuc3dpcGVFbmFibGVkKXtwLnBpY2tlckNvbnRlbnQuYmluZChcInN3aXBlbGVmdFwiLGZ1bmN0aW9uKCl7aWYoIXAuY2FsTm9OZXh0KXtwLl9vZmZzZXQoXCJtXCIsMSl9fSkuYmluZChcInN3aXBlcmlnaHRcIixmdW5jdGlvbigpe2lmKCFwLmNhbE5vUHJldil7cC5fb2Zmc2V0KFwibVwiLC0xKX19KX1pZihyLndoZWVsRXhpc3RzKXtwLnBpY2tlckNvbnRlbnQuYmluZChcIm1vdXNld2hlZWxcIixmdW5jdGlvbihvLHgpe28ucHJldmVudERlZmF1bHQoKTtpZih4PjAmJiFwLmNhbE5vTmV4dCl7aWYocC50aGVEYXRlLmdldERhdGUoKT4yOCl7cC50aGVEYXRlLnNldERhdGUoMSl9cC5fb2Zmc2V0KFwibVwiLDEpfWlmKHg8MCYmIXAuY2FsTm9QcmV2KXtpZihwLnRoZURhdGUuZ2V0RGF0ZSgpPjI4KXtwLnRoZURhdGUuc2V0RGF0ZSgxKX1wLl9vZmZzZXQoXCJtXCIsLTEpfX0pfWEoXCI8ZGl2IGNsYXNzPSd1aS1kYXRlYm94LWdyaWRwbHVzXCIrKChyLmxhbmdbci51c2VMYW5nXS5pc1JUTD09PXRydWUpP1wiLXJ0bFwiOlwiXCIpK1wiJz48YSBocmVmPScjJz5cIisoKHR5cGVvZiByLmxhbmdbci51c2VMYW5nXS5uZXh0TW9udGghPT1cInVuZGVmaW5lZFwiKT9yLmxhbmdbci51c2VMYW5nXS5uZXh0TW9udGg6ci5sYW5nLmVuLm5leHRNb250aCkrXCI8L2E+PC9kaXY+XCIpLnByZXBlbmRUbyh1KS5idXR0b25NYXJrdXAoe3RoZW1lOnIucGlja1BhZ2VCdXR0b25UaGVtZSxpY29uOlwicGx1c1wiLGlubGluZTp0cnVlLGljb25wb3M6XCJub3RleHRcIixjb3JuZXJzOnRydWUsc2hhZG93OnRydWV9KS5iaW5kKHIuY2xpY2tFdmVudCxmdW5jdGlvbihvKXtvLnByZXZlbnREZWZhdWx0KCk7aWYoIXAuY2FsTm9OZXh0KXtpZihwLnRoZURhdGUuZ2V0RGF0ZSgpPjI4KXtwLnRoZURhdGUuc2V0RGF0ZSgxKX1wLl9vZmZzZXQoXCJtXCIsMSl9fSk7YShcIjxkaXYgY2xhc3M9J3VpLWRhdGVib3gtZ3JpZG1pbnVzXCIrKChyLmxhbmdbci51c2VMYW5nXS5pc1JUTD09PXRydWUpP1wiLXJ0bFwiOlwiXCIpK1wiJz48YSBocmVmPScjJz5cIisoKHR5cGVvZiByLmxhbmdbci51c2VMYW5nXS5wcmV2TW9udGghPT1cInVuZGVmaW5lZFwiKT9yLmxhbmdbci51c2VMYW5nXS5wcmV2TW9udGg6ci5sYW5nLmVuLnByZXZNb250aCkrXCI8L2E+PC9kaXY+XCIpLnByZXBlbmRUbyh1KS5idXR0b25NYXJrdXAoe3RoZW1lOnIucGlja1BhZ2VCdXR0b25UaGVtZSxpY29uOlwibWludXNcIixpbmxpbmU6dHJ1ZSxpY29ucG9zOlwibm90ZXh0XCIsY29ybmVyczp0cnVlLHNoYWRvdzp0cnVlfSkuYmluZChyLmNsaWNrRXZlbnQsZnVuY3Rpb24obyl7by5wcmV2ZW50RGVmYXVsdCgpO2lmKCFwLmNhbE5vUHJldil7aWYocC50aGVEYXRlLmdldERhdGUoKT4yOCl7cC50aGVEYXRlLnNldERhdGUoMSl9cC5fb2Zmc2V0KFwibVwiLC0xKX19KTtpZihyLmNhbFRvZGF5QnV0dG9uPT09dHJ1ZSl7cC5zZXRCdXR0b249YShcIjxhIGhyZWY9JyMnPlBsYWNlSG9sZGVyPC9hPlwiKS5hcHBlbmRUbyhzKS5idXR0b25NYXJrdXAoe3RoZW1lOnIucGlja1BhZ2VUaGVtZSxpY29uOlwiY2hlY2tcIixpY29ucG9zOlwibGVmdFwiLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZX0pLmJpbmQoci5jbGlja0V2ZW50LGZ1bmN0aW9uKG8pe28ucHJldmVudERlZmF1bHQoKTtwLnRoZURhdGU9bmV3IERhdGUoKTtwLnRoZURhdGU9bmV3IERhdGUocC50aGVEYXRlLmdldEZ1bGxZZWFyKCkscC50aGVEYXRlLmdldE1vbnRoKCkscC50aGVEYXRlLmdldERhdGUoKSwwLDAsMCwwKTtwLmlucHV0LnRyaWdnZXIoXCJkYXRlYm94XCIse21ldGhvZDpcImRvc2V0XCJ9KX0pfWEuZXh0ZW5kKHAse2NvbnRyb2xzSW5wdXQ6Qixjb250cm9sc1BsdXM6aH0pO3AucGlja2VyQ29udGVudC5hcHBlbmRUbyhwLnRoaXNQYWdlKX1pZihyLnVzZUNsZWFyQnV0dG9uPT09dHJ1ZSl7cC5jbGVhckJ1dHRvbj1hKFwiPGEgaHJlZj0nIyc+UGxhY2VIb2xkZXI8L2E+XCIpLmFwcGVuZFRvKHMpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6ci5waWNrUGFnZVRoZW1lLGljb246XCJkZWxldGVcIixpY29ucG9zOlwibGVmdFwiLGNvcm5lcnM6dHJ1ZSxzaGFkb3c6dHJ1ZX0pLmJpbmQoci5jbGlja0V2ZW50LGZ1bmN0aW9uKG8pe28ucHJldmVudERlZmF1bHQoKTtwLmlucHV0LnZhbChcIlwiKTtwLmlucHV0LnRyaWdnZXIoXCJkYXRlYm94XCIse21ldGhvZDpcImNsZWFyXCJ9KTtwLmlucHV0LnRyaWdnZXIoXCJkYXRlYm94XCIse21ldGhvZDpcImNsb3NlXCJ9KX0pfWlmKHIuY29sbGFwc2VCdXR0b25zJiYocC5jbGVhckJ1dHRvbiE9PWZhbHNlJiZwLnNldEJ1dHRvbiE9PWZhbHNlKSl7cy5hZGRDbGFzcyhcInVpLWRhdGVib3gtY29sbGFwc2VcIil9fSxfYnV0dG9uc1RpdGxlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucztpZihkLnRpdGxlRGlhbG9nTGFiZWw9PT1mYWxzZSl7aWYodHlwZW9mIHRoaXMuZWxlbWVudC5hdHRyKFwidGl0bGVcIikhPT1cInVuZGVmaW5lZFwiKXtjLnBpY2tQYWdlVGl0bGUuaHRtbCh0aGlzLmVsZW1lbnQuYXR0cihcInRpdGxlXCIpKX1lbHNle2lmKHRoaXMuZm9jdXNlZEVsLnBhcmVudCgpLmZpbmQoXCJsYWJlbFwiKS50ZXh0KCkhPT1cIlwiKXtjLnBpY2tQYWdlVGl0bGUuaHRtbCh0aGlzLmZvY3VzZWRFbC5wYXJlbnQoKS5maW5kKFwibGFiZWxcIikudGV4dCgpKX1lbHNle3N3aXRjaChkLm1vZGUpe2Nhc2VcInRpbWVib3hcIjpjYXNlXCJ0aW1lZmxpcGJveFwiOmMucGlja1BhZ2VUaXRsZS5odG1sKGQubGFuZ1tkLnVzZUxhbmddLnRpdGxlVGltZURpYWxvZ0xhYmVsKTticmVhaztkZWZhdWx0OmMucGlja1BhZ2VUaXRsZS5odG1sKGQubGFuZ1tkLnVzZUxhbmddLnRpdGxlRGF0ZURpYWxvZ0xhYmVsKTticmVha319fX1lbHNle2MucGlja1BhZ2VUaXRsZS5odG1sKGQudGl0bGVEaWFsb2dMYWJlbCl9aWYoYy5jbGVhckJ1dHRvbiE9PWZhbHNlKXtjLmNsZWFyQnV0dG9uLmZpbmQoXCIudWktYnRuLXRleHRcIikuaHRtbChkLmxhbmdbZC51c2VMYW5nXS5jbGVhckJ1dHRvbil9aWYoYy5zZXRCdXR0b24hPT1mYWxzZSl7c3dpdGNoKGQubW9kZSl7Y2FzZVwidGltZWJveFwiOmNhc2VcInRpbWVmbGlwYm94XCI6Yy5zZXRCdXR0b24uZmluZChcIi51aS1idG4tdGV4dFwiKS5odG1sKGQubGFuZ1tkLnVzZUxhbmddLnNldFRpbWVCdXR0b25MYWJlbCk7YnJlYWs7Y2FzZVwiZHVyYXRpb25ib3hcIjpjLnNldEJ1dHRvbi5maW5kKFwiLnVpLWJ0bi10ZXh0XCIpLmh0bWwoZC5sYW5nW2QudXNlTGFuZ10uc2V0RHVyYXRpb25CdXR0b25MYWJlbCk7YnJlYWs7Y2FzZVwiY2FsYm94XCI6Yy5zZXRCdXR0b24uZmluZChcIi51aS1idG4tdGV4dFwiKS5odG1sKGQubGFuZ1tkLnVzZUxhbmddLmNhbFRvZGF5QnV0dG9uTGFiZWwpO2JyZWFrO2RlZmF1bHQ6Yy5zZXRCdXR0b24uZmluZChcIi51aS1idG4tdGV4dFwiKS5odG1sKGQubGFuZ1tkLnVzZUxhbmddLnNldERhdGVCdXR0b25MYWJlbCk7YnJlYWt9fX0sX2J1aWxkUGFnZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT1kLm9wdGlvbnMsZj1hKFwiPGRpdj5cIix7XCJjbGFzc1wiOlwidWktZGF0ZWJveC1jb250YWluZXIgdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCB1aS1kYXRlYm94LWhpZGRlbiBcIitlLnRyYW5zaXRpb24rXCIgdWktYm9keS1cIitlLnBpY2tQYWdlVGhlbWV9KS5jc3MoXCJ6SW5kZXhcIixlLnppbmRleCksYz1hKFwiPGRpdj5cIix7XCJjbGFzc1wiOlwidWktZGF0ZWJveC1zY3JlZW4gdWktZGF0ZWJveC1oaWRkZW5cIisoKGUudXNlTW9kYWwpP1wiIHVpLWRhdGVib3gtc2NyZWVuLW1vZGFsXCI6XCJcIil9KS5jc3Moe1wiei1pbmRleFwiOmUuemluZGV4LTF9KS5hcHBlbmRUbyhkLnRoaXNQYWdlKS5iaW5kKGUuY2xpY2tFdmVudCxmdW5jdGlvbihnKXtnLnByZXZlbnREZWZhdWx0KCk7ZC5pbnB1dC50cmlnZ2VyKFwiZGF0ZWJveFwiLHttZXRob2Q6XCJjbG9zZVwifSl9KTtpZihlLm5vQW5pbWF0aW9uKXtmLnJlbW92ZUNsYXNzKGUudHJhbnNpdGlvbil9YS5leHRlbmQoZCx7cGlja2VyQ29udGVudDpmLHNjcmVlbjpjfSk7ZC5fYnVpbGRJbnRlcm5hbHMoKTtpZihlLnVzZUlubGluZXx8ZS51c2VJbmxpbmVCbGluZCl7ZC5pbnB1dC5wYXJlbnQoKS5wYXJlbnQoKS5hcHBlbmQoZC5waWNrZXJDb250ZW50KTtpZihlLnVzZUlubGluZUhpZGVJbnB1dCl7ZC5pbnB1dC5wYXJlbnQoKS5oaWRlKCl9ZC5pbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpO2QucGlja2VyQ29udGVudC5yZW1vdmVDbGFzcyhcInVpLWRhdGVib3gtaGlkZGVuXCIpfWVsc2V7aWYoZS5jZW50ZXJXaW5kb3cmJmUudXNlSW5saW5lSGlkZUlucHV0KXtkLmlucHV0LnBhcmVudCgpLmhpZGUoKX19aWYoZS51c2VJbmxpbmUpe2QucGlja2VyQ29udGVudC5hZGRDbGFzcyhcInVpLWRhdGVib3gtaW5saW5lXCIpO2Qub3BlbigpfWlmKGUudXNlSW5saW5lQmxpbmQpe2QucGlja2VyQ29udGVudC5hZGRDbGFzcyhcInVpLWRhdGVib3gtaW5saW5lYmxpbmRcIik7ZC5waWNrZXJDb250ZW50LmhpZGUoKX19LGhhcmRyZXNldDpmdW5jdGlvbigpe3RoaXMuX2J1aWxkSW50ZXJuYWxzKCk7dGhpcy5yZWZyZXNoKCk7dGhpcy5fYnV0dG9uc1RpdGxlKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMudXNlSW5saW5lPT09dHJ1ZSl7dGhpcy5pbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpfXRoaXMuX3VwZGF0ZSgpfSxvcGVuOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxmPXRoaXMub3B0aW9ucyxkPWZhbHNlLGU9Zi5ub0FuaW1hdGlvbj9cIm5vbmVcIjpmLnRyYW5zaXRpb24saCxnO2lmKGYub3BlbkNhbGxiYWNrIT09ZmFsc2Upe2lmKCFhLmlzRnVuY3Rpb24odGhpcy5vcHRpb25zLm9wZW5DYWxsYmFjaykpe2lmKHR5cGVvZiB3aW5kb3dbZi5vcGVuQ2FsbGJhY2tdIT09XCJ1bmRlZmluZWRcIil7Zi5vcGVuQ2FsbGJhY2s9d2luZG93W2Yub3BlbkNhbGxiYWNrXX1lbHNle2Yub3BlbkNhbGxiYWNrPW5ldyBGdW5jdGlvbihmLm9wZW5DYWxsYmFjayl9fWg9Zi5vcGVuQ2FsbGJhY2suYXBwbHkoYyxhLm1lcmdlKFtjLnRoZURhdGVdLGYub3BlbkNhbGxiYWNrQXJncykpO2lmKGg9PWZhbHNlKXtyZXR1cm4gZmFsc2V9fWMuX2J1dHRvbnNUaXRsZSgpO2lmKHRoaXMub3B0aW9ucy51c2VJbmxpbmVCbGluZCl7dGhpcy5waWNrZXJDb250ZW50LnNsaWRlRG93bigpO3JldHVybiBmYWxzZX1pZih0aGlzLm9wdGlvbnMudXNlSW5saW5lKXtyZXR1cm4gdHJ1ZX1pZih0aGlzLnBpY2tQYWdlLmlzKFwiOnZpc2libGVcIikpe3JldHVybiBmYWxzZX10aGlzLnRoZURhdGU9dGhpcy5fbWFrZURhdGUodGhpcy5pbnB1dC52YWwoKSk7dGhpcy5fdXBkYXRlKCk7dGhpcy5pbnB1dC5ibHVyKCk7aWYoKGEoZG9jdW1lbnQpLndpZHRoKCk+NDAwJiYhZi51c2VEaWFsb2dGb3JjZVRydWUpfHxmLnVzZURpYWxvZ0ZvcmNlRmFsc2V8fGYuZnVsbFNjcmVlbil7ZD10aGlzLl9nZXRDb29yZHModGhpcyk7Zi51c2VEaWFsb2c9ZmFsc2U7aWYoZi5uZXN0ZWRCb3g9PT10cnVlJiZmLmZ1bGxTY3JlZW49PT1mYWxzZSl7Zz1hKFwiLnVpLXBhZ2UtYWN0aXZlXCIpLmZpcnN0KCk7YShnKS5hcHBlbmQoYy5waWNrZXJDb250ZW50KTthKGcpLmFwcGVuZChjLnNjcmVlbil9aWYoZi5mdWxsU2NyZWVuQWx3YXlzPT09ZmFsc2V8fGQud2lkdGg+Mzk5KXtpZihmLnVzZU1vZGFsPT09dHJ1ZSl7Yy5zY3JlZW4uZmFkZUluKFwic2xvd1wiKX1lbHNle3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnNjcmVlbi5yZW1vdmVDbGFzcyhcInVpLWRhdGVib3gtaGlkZGVuXCIpfSw1MDApfX1pZihmLmZ1bGxTY3JlZW5BbHdheXM9PT10cnVlfHwoZi5mdWxsU2NyZWVuPT09dHJ1ZSYmZC53aWR0aDw0MDApKXtjLnBpY2tlckNvbnRlbnQuYWRkQ2xhc3MoXCJpblwiKS5jc3Moe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixcInRleHQtYWxpZ25cIjpcImNlbnRlclwiLHRvcDpkLmZ1bGxUb3AtNSxsZWZ0OmQuZnVsbExlZnQtNSxoZWlnaHQ6ZC5oaWdoLHdpZHRoOmQud2lkdGh9KS5yZW1vdmVDbGFzcyhcInVpLWRhdGVib3gtaGlkZGVuXCIpfWVsc2V7Yy5waWNrZXJDb250ZW50LmFkZENsYXNzKFwidWktb3ZlcmxheS1zaGFkb3cgaW5cIikuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmQud2luVG9wLGxlZnQ6ZC53aW5MZWZ0fSkucmVtb3ZlQ2xhc3MoXCJ1aS1kYXRlYm94LWhpZGRlblwiKTthKGRvY3VtZW50KS5iaW5kKFwib3JpZW50YXRpb25jaGFuZ2UuZGF0ZWJveFwiLHt3aWRnZXQ6Y30sZnVuY3Rpb24oaSl7Yy5fb3JpZW50Q2hhbmdlKGkpfSk7aWYoZi5yZXNpemVMaXN0ZW5lcj09PXRydWUpe2Eod2luZG93KS5iaW5kKFwicmVzaXplLmRhdGVib3hcIix7d2lkZ2V0OmN9LGZ1bmN0aW9uKGkpe2MuX29yaWVudENoYW5nZShpKX0pfX19ZWxzZXtjLnRoaXNQYWdlLnVuYmluZChcInBhZ2VoaWRlLnJlbW92ZVwiKTtmLnVzZURpYWxvZz10cnVlO2MucGlja1BhZ2VDb250ZW50LmFwcGVuZChjLnBpY2tlckNvbnRlbnQpO2MucGlja2VyQ29udGVudC5jc3Moe3RvcDpcImF1dG9cIixsZWZ0OlwiYXV0b1wiLG1hcmdpbkxlZnQ6XCJhdXRvXCIsbWFyZ2luUmlnaHQ6XCJhdXRvXCJ9KS5yZW1vdmVDbGFzcyhcInVpLW92ZXJsYXktc2hhZG93IHVpLWRhdGVib3gtaGlkZGVuXCIpO2EubW9iaWxlLmNoYW5nZVBhZ2UoYy5waWNrUGFnZSx7dHJhbnNpdGlvbjplfSl9fSxjbG9zZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLGU9dGhpcy5vcHRpb25zLGY7aWYoZS51c2VJbmxpbmVCbGluZCl7ZC5waWNrZXJDb250ZW50LnNsaWRlVXAoKTtyZXR1cm4gZmFsc2V9aWYoZS51c2VJbmxpbmUpe3JldHVybiB0cnVlfWlmKGUudXNlRGlhbG9nKXtpZighYyl7YShkLnBpY2tQYWdlKS5kaWFsb2coXCJjbG9zZVwiKX1pZighZC50aGlzUGFnZS5qcW1EYXRhKFwicGFnZVwiKS5vcHRpb25zLmRvbUNhY2hlKXtkLnRoaXNQYWdlLmJpbmQoXCJwYWdlaGlkZS5yZW1vdmVcIixmdW5jdGlvbigpe2EoZCkucmVtb3ZlKCl9KX1kLnBpY2tlckNvbnRlbnQuYWRkQ2xhc3MoXCJ1aS1kYXRlYm94LWhpZGRlblwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIikuY3NzKFwiekluZGV4XCIsZC5vcHRpb25zLnppbmRleCk7ZC50aGlzUGFnZS5hcHBlbmQoZC5waWNrZXJDb250ZW50KX1lbHNle2lmKGUudXNlTW9kYWwpe2Quc2NyZWVuLmZhZGVPdXQoXCJzbG93XCIpfWVsc2V7ZC5zY3JlZW4uYWRkQ2xhc3MoXCJ1aS1kYXRlYm94LWhpZGRlblwiKX1kLnBpY2tlckNvbnRlbnQuYWRkQ2xhc3MoXCJ1aS1kYXRlYm94LWhpZGRlblwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIikuY3NzKFwiekluZGV4XCIsZC5vcHRpb25zLnppbmRleCkucmVtb3ZlQ2xhc3MoXCJpblwiKX1kLmZvY3VzZWRFbC5yZW1vdmVDbGFzcyhcInVpLWZvY3VzXCIpO2EoZG9jdW1lbnQpLnVuYmluZChcIm9yaWVudGF0aW9uY2hhbmdlLmRhdGVib3hcIik7aWYoZS5yZXNpemVMaXN0ZW5lcj09PXRydWUpe2Eod2luZG93KS51bmJpbmQoXCJyZXNpemUuZGF0ZWJveFwiKX1pZihlLmNsb3NlQ2FsbGJhY2shPT1mYWxzZSl7aWYoIWEuaXNGdW5jdGlvbihlLmNsb3NlQ2FsbGJhY2spKXtpZih0eXBlb2Ygd2luZG93W2UuY2xvc2VDYWxsYmFja10hPT1cInVuZGVmaW5lZFwiKXtlLmNsb3NlQ2FsbGJhY2s9d2luZG93W2UuY2xvc2VDYWxsYmFja119ZWxzZXtlLmNsb3NlQ2FsbGJhY2s9bmV3IEZ1bmN0aW9uKGUuY2xvc2VDYWxsYmFjayl9fWUuY2xvc2VDYWxsYmFjay5hcHBseShkLGEubWVyZ2UoW2QudGhlRGF0ZV0sZS5jbG9zZUNhbGxiYWNrQXJncykpfX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIix0cnVlKTt0aGlzLmVsZW1lbnQucGFyZW50KCkuYWRkQ2xhc3MoXCJ1aS1kaXNhYmxlZFwiKTt0aGlzLm9wdGlvbnMuZGlzYWJsZWQ9dHJ1ZTt0aGlzLmVsZW1lbnQuYmx1cigpO3RoaXMuaW5wdXQudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwiZGlzYWJsZVwifSl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIixmYWxzZSk7dGhpcy5lbGVtZW50LnBhcmVudCgpLnJlbW92ZUNsYXNzKFwidWktZGlzYWJsZWRcIik7dGhpcy5vcHRpb25zLmRpc2FibGVkPWZhbHNlO3RoaXMuaW5wdXQudHJpZ2dlcihcImRhdGVib3hcIix7bWV0aG9kOlwiZW5hYmxlXCJ9KX0sX3NldE9wdGlvbjpmdW5jdGlvbihkLGUpe3ZhciBjPVtcIm1pblllYXJcIixcIm1heFllYXJcIixcImFmdGVyVG9kYXlcIixcImJlZm9yZVRvZGF5XCIsXCJtYXhEYXlzXCIsXCJtaW5EYXlzXCIsXCJoaWdoRGF5c1wiLFwiaGlnaERhdGVzXCIsXCJibGFja0RheXNcIixcImJsYWNrRGF0ZXNcIixcImVuYWJsZURhdGVzXCJdO2EuV2lkZ2V0LnByb3RvdHlwZS5fc2V0T3B0aW9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtpZihhLmluQXJyYXkoZCxjKT4tMSl7dGhpcy5yZWZyZXNoKCl9ZWxzZXt0aGlzLmhhcmRyZXNldCgpfX19KTthKGRvY3VtZW50KS5iaW5kKFwicGFnZWJlZm9yZWNyZWF0ZVwiLGZ1bmN0aW9uKGMpe2EoXCI6anFtRGF0YShyb2xlPSdkYXRlYm94JylcIixjLnRhcmdldCkuZWFjaChmdW5jdGlvbigpe2EodGhpcykucHJvcChcInR5cGVcIixcInRleHRcIil9KX0pO2EoZG9jdW1lbnQpLmJpbmQoXCJwYWdlY3JlYXRlIGNyZWF0ZVwiLGZ1bmN0aW9uKGMpe2EoZG9jdW1lbnQpLnRyaWdnZXIoXCJkYXRlYm94YmVmb3JlY3JlYXRlXCIpO2EoXCI6anFtRGF0YShyb2xlPSdkYXRlYm94JylcIixjLnRhcmdldCkuZWFjaChmdW5jdGlvbigpe2lmKHR5cGVvZihhKHRoaXMpLmRhdGEoXCJkYXRlYm94XCIpKT09PVwidW5kZWZpbmVkXCIpe2EodGhpcykuZGF0ZWJveCgpfX0pfSl9KShqUXVlcnkpOyIsIi8qXG5cdE5hbWU6IGF1dG9Db21wbGV0ZVxuXHRBdXRob3I6IFJheW1vbmQgQ2FtZGVuICYgQW5keSBNYXR0aGV3c1xuXHRDb250cmlidXRvcnM6IEppbSBQZWFzZSAoQGptcGVhc2UpXG5cdFdlYnNpdGU6IGh0dHA6Ly9yYXltb25kY2FtZGVuLmNvbS9cblx0XHRcdCBodHRwOi8vYW5keU1hdHRoZXdzLm5ldFxuXHRQYWNrZWQgV2l0aDogaHR0cDovL2pzdXRpbGl0eS5wam9uZWlsLm5ldC9cblx0VmVyc2lvbjogMS4zXG4gKi9cbihmdW5jdGlvbigkKXtcInVzZSBzdHJpY3RcIjt2YXIgZGVmYXVsdHM9e3RhcmdldDokKCksc291cmNlOm51bGwsY2FsbGJhY2s6bnVsbCxsaW5rOm51bGwsbWluTGVuZ3RoOjAsdHJhbnNpdGlvbjonZmFkZSd9LGJ1aWxkSXRlbXM9ZnVuY3Rpb24oJHRoaXMsZGF0YSxzZXR0aW5ncyl7dmFyIHN0cj1bXTskLmVhY2goZGF0YSxmdW5jdGlvbihpbmRleCx2YWx1ZSl7aWYoJC5pc1BsYWluT2JqZWN0KHZhbHVlKSl7c3RyLnB1c2goJzxsaT48YSBocmVmPVwiJytzZXR0aW5ncy5saW5rK2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZS52YWx1ZSkrJ1wiIGRhdGEtdHJhbnNpdGlvbj1cIicrc2V0dGluZ3MudHJhbnNpdGlvbisnXCI+Jyt2YWx1ZS5sYWJlbCsnPC9hPjwvbGk+Jyl9ZWxzZXtzdHIucHVzaCgnPGxpPjxhIGhyZWY9XCInK3NldHRpbmdzLmxpbmsrZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSsnXCIgZGF0YS10cmFuc2l0aW9uPVwiJytzZXR0aW5ncy50cmFuc2l0aW9uKydcIj4nK3ZhbHVlKyc8L2E+PC9saT4nKX19KTskKHNldHRpbmdzLnRhcmdldCkuaHRtbChzdHIuam9pbignJykpLmxpc3R2aWV3KFwicmVmcmVzaFwiKTtpZihzZXR0aW5ncy5jYWxsYmFjayE9bnVsbCYmJC5pc0Z1bmN0aW9uKHNldHRpbmdzLmNhbGxiYWNrKSl7YXR0YWNoQ2FsbGJhY2soc2V0dGluZ3MpfWlmKHN0ci5sZW5ndGg+MCl7JHRoaXMudHJpZ2dlcihcInRhcmdldFVwZGF0ZWQuYXV0b2NvbXBsZXRlXCIpfWVsc2V7JHRoaXMudHJpZ2dlcihcInRhcmdldENsZWFyZWQuYXV0b2NvbXBsZXRlXCIpfX0sYXR0YWNoQ2FsbGJhY2s9ZnVuY3Rpb24oc2V0dGluZ3MpeyQoJ2xpIGEnLCQoc2V0dGluZ3MudGFyZ2V0KSkuYmluZCgnY2xpY2suYXV0b2NvbXBsZXRlJyxmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpO2UucHJldmVudERlZmF1bHQoKTtzZXR0aW5ncy5jYWxsYmFjayhlKX0pfSxjbGVhclRhcmdldD1mdW5jdGlvbigkdGhpcywkdGFyZ2V0KXskdGFyZ2V0Lmh0bWwoJycpLmxpc3R2aWV3KCdyZWZyZXNoJyk7JHRoaXMudHJpZ2dlcihcInRhcmdldENsZWFyZWQuYXV0b2NvbXBsZXRlXCIpfSxoYW5kbGVJbnB1dD1mdW5jdGlvbihlKXt2YXIgJHRoaXM9JCh0aGlzKSx0ZXh0LGRhdGEsc2V0dGluZ3M9JHRoaXMuanFtRGF0YShcImF1dG9jb21wbGV0ZVwiKTtpZihzZXR0aW5ncyl7dGV4dD0kdGhpcy52YWwoKTtpZih0ZXh0Lmxlbmd0aDxzZXR0aW5ncy5taW5MZW5ndGgpe2NsZWFyVGFyZ2V0KCR0aGlzLCQoc2V0dGluZ3MudGFyZ2V0KSl9ZWxzZXtpZigkLmlzQXJyYXkoc2V0dGluZ3Muc291cmNlKSl7ZGF0YT1zZXR0aW5ncy5zb3VyY2Uuc29ydCgpLmZpbHRlcihmdW5jdGlvbihlbGVtZW50KXt2YXIgZWxlbWVudF90ZXh0LHJlPW5ldyBSZWdFeHAoJ14nK3RleHQsJ2knKTtpZigkLmlzUGxhaW5PYmplY3QoZWxlbWVudCkpe2VsZW1lbnRfdGV4dD1lbGVtZW50LmxhYmVsfWVsc2V7ZWxlbWVudF90ZXh0PWVsZW1lbnR9cmV0dXJuIHJlLnRlc3QoZWxlbWVudF90ZXh0KX0pO2J1aWxkSXRlbXMoJHRoaXMsZGF0YSxzZXR0aW5ncyl9ZWxzZXskLmdldChzZXR0aW5ncy5zb3VyY2Use3Rlcm06dGV4dH0sZnVuY3Rpb24oZGF0YSl7YnVpbGRJdGVtcygkdGhpcyxkYXRhLHNldHRpbmdzKX0sXCJqc29uXCIpfX19fSxtZXRob2RzPXtpbml0OmZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMuanFtRGF0YShcImF1dG9jb21wbGV0ZVwiLCQuZXh0ZW5kKHt9LGRlZmF1bHRzLG9wdGlvbnMpKTtyZXR1cm4gdGhpcy51bmJpbmQoXCJpbnB1dC5hdXRvY29tcGxldGVcIikuYmluZChcImlucHV0LmF1dG9jb21wbGV0ZVwiLGhhbmRsZUlucHV0KX0sdXBkYXRlOmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciBzZXR0aW5ncz10aGlzLmpxbURhdGEoXCJhdXRvY29tcGxldGVcIik7aWYoc2V0dGluZ3Mpe3RoaXMuanFtRGF0YShcImF1dG9jb21wbGV0ZVwiLCQuZXh0ZW5kKHNldHRpbmdzLG9wdGlvbnMpKX1yZXR1cm4gdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXt2YXIgc2V0dGluZ3M9dGhpcy5qcW1EYXRhKFwiYXV0b2NvbXBsZXRlXCIpO2lmKHNldHRpbmdzKXtjbGVhclRhcmdldCh0aGlzLCQoc2V0dGluZ3MudGFyZ2V0KSl9cmV0dXJuIHRoaXN9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgc2V0dGluZ3M9dGhpcy5qcW1EYXRhKFwiYXV0b2NvbXBsZXRlXCIpO2lmKHNldHRpbmdzKXtjbGVhclRhcmdldCh0aGlzLCQoc2V0dGluZ3MudGFyZ2V0KSk7dGhpcy5qcW1SZW1vdmVEYXRhKFwiYXV0b2NvbXBsZXRlXCIpO3RoaXMudW5iaW5kKFwiLmF1dG9jb21wbGV0ZVwiKX1yZXR1cm4gdGhpc319OyQuZm4uYXV0b2NvbXBsZXRlPWZ1bmN0aW9uKG1ldGhvZCl7aWYobWV0aG9kc1ttZXRob2RdKXtyZXR1cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX1lbHNlIGlmKHR5cGVvZiBtZXRob2Q9PT0nb2JqZWN0J3x8IW1ldGhvZCl7cmV0dXJuIG1ldGhvZHMuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX0pKGpRdWVyeSk7IiwiLyoqXG4gKiBDb2ZmZWVTY3JpcHQgQ29tcGlsZXIgdjEuOS4yXG4gKiBodHRwOi8vY29mZmVlc2NyaXB0Lm9yZ1xuICpcbiAqIENvcHlyaWdodCAyMDExLCBKZXJlbXkgQXNoa2VuYXNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICovXG4oZnVuY3Rpb24ocm9vdCl7dmFyIENvZmZlZVNjcmlwdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHJlcXVpcmUoZSl7cmV0dXJuIHJlcXVpcmVbZV19cmV0dXJuIHJlcXVpcmVbXCIuL2hlbHBlcnNcIl09ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXtleHBvcnRzOmV9O3JldHVybiBmdW5jdGlvbigpe3ZhciB0LG4saSxyLHMsbztlLnN0YXJ0cz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ9PT1lLnN1YnN0cihuLHQubGVuZ3RoKX0sZS5lbmRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaTtyZXR1cm4gaT10Lmxlbmd0aCx0PT09ZS5zdWJzdHIoZS5sZW5ndGgtaS0obnx8MCksaSl9LGUucmVwZWF0PXM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtmb3Iobj1cIlwiO3Q+MDspMSZ0JiYobis9ZSksdD4+Pj0xLGUrPWU7cmV0dXJuIG59LGUuY29tcGFjdD1mdW5jdGlvbihlKXt2YXIgdCxuLGkscjtmb3Iocj1bXSx0PTAsaT1lLmxlbmd0aDtpPnQ7dCsrKW49ZVt0XSxuJiZyLnB1c2gobik7cmV0dXJuIHJ9LGUuY291bnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixpO2lmKG49aT0wLCF0Lmxlbmd0aClyZXR1cm4gMS8wO2Zvcig7aT0xK2UuaW5kZXhPZih0LGkpOyluKys7cmV0dXJuIG59LGUubWVyZ2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbihuKHt9LGUpLHQpfSxuPWUuZXh0ZW5kPWZ1bmN0aW9uKGUsdCl7dmFyIG4saTtmb3IobiBpbiB0KWk9dFtuXSxlW25dPWk7cmV0dXJuIGV9LGUuZmxhdHRlbj1pPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixzO2ZvcihuPVtdLHI9MCxzPWUubGVuZ3RoO3M+cjtyKyspdD1lW3JdLHQgaW5zdGFuY2VvZiBBcnJheT9uPW4uY29uY2F0KGkodCkpOm4ucHVzaCh0KTtyZXR1cm4gbn0sZS5kZWw9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gbj1lW3RdLGRlbGV0ZSBlW3RdLG59LGUuc29tZT1udWxsIT0ocj1BcnJheS5wcm90b3R5cGUuc29tZSk/cjpmdW5jdGlvbihlKXt2YXIgdCxuLGk7Zm9yKG49MCxpPXRoaXMubGVuZ3RoO2k+bjtuKyspaWYodD10aGlzW25dLGUodCkpcmV0dXJuITA7cmV0dXJuITF9LGUuaW52ZXJ0TGl0ZXJhdGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpO3JldHVybiBpPSEwLG49ZnVuY3Rpb24oKXt2YXIgbixyLHMsbztmb3Iocz1lLnNwbGl0KFwiXFxuXCIpLG89W10sbj0wLHI9cy5sZW5ndGg7cj5uO24rKyl0PXNbbl0saSYmL14oWyBdezR9fFsgXXswLDN9XFx0KS8udGVzdCh0KT9vLnB1c2godCk6KGk9L15cXHMqJC8udGVzdCh0KSk/by5wdXNoKHQpOm8ucHVzaChcIiMgXCIrdCk7cmV0dXJuIG99KCksbi5qb2luKFwiXFxuXCIpfSx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/e2ZpcnN0X2xpbmU6ZS5maXJzdF9saW5lLGZpcnN0X2NvbHVtbjplLmZpcnN0X2NvbHVtbixsYXN0X2xpbmU6dC5sYXN0X2xpbmUsbGFzdF9jb2x1bW46dC5sYXN0X2NvbHVtbn06ZX0sZS5hZGRMb2NhdGlvbkRhdGFGbj1mdW5jdGlvbihlLG4pe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgaSYmaS51cGRhdGVMb2NhdGlvbkRhdGFJZk1pc3NpbmcmJmkudXBkYXRlTG9jYXRpb25EYXRhSWZNaXNzaW5nKHQoZSxuKSksaX19LGUubG9jYXRpb25EYXRhVG9TdHJpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuXCIyXCJpbiBlJiZcImZpcnN0X2xpbmVcImluIGVbMl0/dD1lWzJdOlwiZmlyc3RfbGluZVwiaW4gZSYmKHQ9ZSksdD90LmZpcnN0X2xpbmUrMStcIjpcIisodC5maXJzdF9jb2x1bW4rMSkrXCItXCIrKHQubGFzdF9saW5lKzErXCI6XCIrKHQubGFzdF9jb2x1bW4rMSkpOlwiTm8gbG9jYXRpb24gZGF0YVwifSxlLmJhc2VGaWxlTmFtZT1mdW5jdGlvbihlLHQsbil7dmFyIGkscjtyZXR1cm4gbnVsbD09dCYmKHQ9ITEpLG51bGw9PW4mJihuPSExKSxyPW4/L1xcXFx8XFwvLzovXFwvLyxpPWUuc3BsaXQociksZT1pW2kubGVuZ3RoLTFdLHQmJmUuaW5kZXhPZihcIi5cIik+PTA/KGk9ZS5zcGxpdChcIi5cIiksaS5wb3AoKSxcImNvZmZlZVwiPT09aVtpLmxlbmd0aC0xXSYmaS5sZW5ndGg+MSYmaS5wb3AoKSxpLmpvaW4oXCIuXCIpKTplfSxlLmlzQ29mZmVlPWZ1bmN0aW9uKGUpe3JldHVybi9cXC4oKGxpdCk/Y29mZmVlfGNvZmZlZVxcLm1kKSQvLnRlc3QoZSl9LGUuaXNMaXRlcmF0ZT1mdW5jdGlvbihlKXtyZXR1cm4vXFwuKGxpdGNvZmZlZXxjb2ZmZWVcXC5tZCkkLy50ZXN0KGUpfSxlLnRocm93U3ludGF4RXJyb3I9ZnVuY3Rpb24oZSx0KXt2YXIgbjt0aHJvdyBuPW5ldyBTeW50YXhFcnJvcihlKSxuLmxvY2F0aW9uPXQsbi50b1N0cmluZz1vLG4uc3RhY2s9XCJcIituLG59LGUudXBkYXRlU3ludGF4RXJyb3I9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLnRvU3RyaW5nPT09byYmKGUuY29kZXx8KGUuY29kZT10KSxlLmZpbGVuYW1lfHwoZS5maWxlbmFtZT1uKSxlLnN0YWNrPVwiXCIrZSksZX0sbz1mdW5jdGlvbigpe3ZhciBlLHQsbixpLHIsbyxhLGMsbCxoLHUscCxkLGYsbTtyZXR1cm4gdGhpcy5jb2RlJiZ0aGlzLmxvY2F0aW9uPyh1PXRoaXMubG9jYXRpb24sYT11LmZpcnN0X2xpbmUsbz11LmZpcnN0X2NvbHVtbixsPXUubGFzdF9saW5lLGM9dS5sYXN0X2NvbHVtbixudWxsPT1sJiYobD1hKSxudWxsPT1jJiYoYz1vKSxyPXRoaXMuZmlsZW5hbWV8fFwiW3N0ZGluXVwiLGU9dGhpcy5jb2RlLnNwbGl0KFwiXFxuXCIpW2FdLG09byxpPWE9PT1sP2MrMTplLmxlbmd0aCxoPWUuc2xpY2UoMCxtKS5yZXBsYWNlKC9bXlxcc10vZyxcIiBcIikrcyhcIl5cIixpLW0pLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBwcm9jZXNzJiZudWxsIT09cHJvY2VzcyYmKG49KG51bGwhPShwPXByb2Nlc3Muc3Rkb3V0KT9wLmlzVFRZOnZvaWQgMCkmJiEobnVsbCE9KGQ9cHJvY2Vzcy5lbnYpP2QuTk9ERV9ESVNBQkxFX0NPTE9SUzp2b2lkIDApKSwobnVsbCE9KGY9dGhpcy5jb2xvcmZ1bCk/ZjpuKSYmKHQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJcdTAwMWJbMTszMW1cIitlK1wiXHUwMDFiWzBtXCJ9LGU9ZS5zbGljZSgwLG0pK3QoZS5zbGljZShtLGkpKStlLnNsaWNlKGkpLGg9dChoKSkscitcIjpcIisoYSsxKStcIjpcIisobysxKStcIjogZXJyb3I6IFwiK3RoaXMubWVzc2FnZStcIlxcblwiK2UrXCJcXG5cIitoKTpFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzKX0sZS5uYW1lV2hpdGVzcGFjZUNoYXJhY3Rlcj1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZVwiIFwiOnJldHVyblwic3BhY2VcIjtjYXNlXCJcXG5cIjpyZXR1cm5cIm5ld2xpbmVcIjtjYXNlXCJcXHJcIjpyZXR1cm5cImNhcnJpYWdlIHJldHVyblwiO2Nhc2VcIlx0XCI6cmV0dXJuXCJ0YWJcIjtkZWZhdWx0OnJldHVybiBlfX19LmNhbGwodGhpcyksdC5leHBvcnRzfSgpLHJlcXVpcmVbXCIuL3Jld3JpdGVyXCJdPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD17ZXhwb3J0czplfTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdCxuLGkscixzLG8sYSxjLGwsaCx1LHAsZCxmLG0sZyx2LHksYixrPVtdLmluZGV4T2Z8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLG49dGhpcy5sZW5ndGg7bj50O3QrKylpZih0IGluIHRoaXMmJnRoaXNbdF09PT1lKXJldHVybiB0O3JldHVybi0xfSx3PVtdLnNsaWNlO2ZvcihmPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaTtyZXR1cm4gaT1bZSx0XSxpLmdlbmVyYXRlZD0hMCxuJiYoaS5vcmlnaW49biksaX0sZS5SZXdyaXRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLnJld3JpdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMudG9rZW5zPWUsdGhpcy5yZW1vdmVMZWFkaW5nTmV3bGluZXMoKSx0aGlzLmNsb3NlT3BlbkNhbGxzKCksdGhpcy5jbG9zZU9wZW5JbmRleGVzKCksdGhpcy5ub3JtYWxpemVMaW5lcygpLHRoaXMudGFnUG9zdGZpeENvbmRpdGlvbmFscygpLHRoaXMuYWRkSW1wbGljaXRCcmFjZXNBbmRQYXJlbnMoKSx0aGlzLmFkZExvY2F0aW9uRGF0YVRvR2VuZXJhdGVkVG9rZW5zKCksdGhpcy50b2tlbnN9LGUucHJvdG90eXBlLnNjYW5Ub2tlbnM9ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2ZvcihpPXRoaXMudG9rZW5zLHQ9MDtuPWlbdF07KXQrPWUuY2FsbCh0aGlzLG4sdCxpKTtyZXR1cm4hMH0sZS5wcm90b3R5cGUuZGV0ZWN0RW5kPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxvLGEsYyxsO2ZvcihsPXRoaXMudG9rZW5zLGk9MDtjPWxbZV07KXtpZigwPT09aSYmdC5jYWxsKHRoaXMsYyxlKSlyZXR1cm4gbi5jYWxsKHRoaXMsYyxlKTtpZighY3x8MD5pKXJldHVybiBuLmNhbGwodGhpcyxjLGUtMSk7bz1jWzBdLGsuY2FsbChzLG8pPj0wP2krPTE6KGE9Y1swXSxrLmNhbGwocixhKT49MCYmKGktPTEpKSxlKz0xfXJldHVybiBlLTF9LGUucHJvdG90eXBlLnJlbW92ZUxlYWRpbmdOZXdsaW5lcz1mdW5jdGlvbigpe3ZhciBlLHQsbixpLHI7Zm9yKGk9dGhpcy50b2tlbnMsZT10PTAsbj1pLmxlbmd0aDtuPnQmJihyPWlbZV1bMF0sXCJURVJNSU5BVE9SXCI9PT1yKTtlPSsrdCk7cmV0dXJuIGU/dGhpcy50b2tlbnMuc3BsaWNlKDAsZSk6dm9pZCAwfSxlLnByb3RvdHlwZS5jbG9zZU9wZW5DYWxscz1mdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm5cIilcIj09PShuPWVbMF0pfHxcIkNBTExfRU5EXCI9PT1ufHxcIk9VVERFTlRcIj09PWVbMF0mJlwiKVwiPT09dGhpcy50YWcodC0xKX0sZT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnRva2Vuc1tcIk9VVERFTlRcIj09PWVbMF0/dC0xOnRdWzBdPVwiQ0FMTF9FTkRcIn0sdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKG4saSl7cmV0dXJuXCJDQUxMX1NUQVJUXCI9PT1uWzBdJiZ0aGlzLmRldGVjdEVuZChpKzEsdCxlKSwxfSl9LGUucHJvdG90eXBlLmNsb3NlT3BlbkluZGV4ZXM9ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiB0PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVyblwiXVwiPT09KHQ9ZVswXSl8fFwiSU5ERVhfRU5EXCI9PT10fSxlPWZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPVwiSU5ERVhfRU5EXCJ9LHRoaXMuc2NhblRva2VucyhmdW5jdGlvbihuLGkpe3JldHVyblwiSU5ERVhfU1RBUlRcIj09PW5bMF0mJnRoaXMuZGV0ZWN0RW5kKGkrMSx0LGUpLDF9KX0sZS5wcm90b3R5cGUuaW5kZXhPZlRhZz1mdW5jdGlvbigpe3ZhciBlLHQsbixpLHIscyxvO2Zvcih0PWFyZ3VtZW50c1swXSxyPWFyZ3VtZW50cy5sZW5ndGg+PTI/dy5jYWxsKGFyZ3VtZW50cywxKTpbXSxlPTAsbj1pPTAscz1yLmxlbmd0aDtzPj0wP3M+aTppPnM7bj1zPj0wPysraTotLWkpe2Zvcig7XCJIRVJFQ09NTUVOVFwiPT09dGhpcy50YWcodCtuK2UpOyllKz0yO2lmKG51bGwhPXJbbl0mJihcInN0cmluZ1wiPT10eXBlb2YgcltuXSYmKHJbbl09W3Jbbl1dKSxvPXRoaXMudGFnKHQrbitlKSwwPmsuY2FsbChyW25dLG8pKSlyZXR1cm4tMX1yZXR1cm4gdCtuK2UtMX0sZS5wcm90b3R5cGUubG9va3NPYmplY3Rpc2g9ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gdGhpcy5pbmRleE9mVGFnKGUsXCJAXCIsbnVsbCxcIjpcIik+LTF8fHRoaXMuaW5kZXhPZlRhZyhlLG51bGwsXCI6XCIpPi0xPyEwOihuPXRoaXMuaW5kZXhPZlRhZyhlLHMpLG4+LTEmJih0PW51bGwsdGhpcy5kZXRlY3RFbmQobisxLGZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0PWVbMF0say5jYWxsKHIsdCk+PTB9LGZ1bmN0aW9uKGUsbil7cmV0dXJuIHQ9bn0pLFwiOlwiPT09dGhpcy50YWcodCsxKSk/ITA6ITEpfSxlLnByb3RvdHlwZS5maW5kVGFnc0JhY2t3YXJkcz1mdW5jdGlvbihlLHQpe3ZhciBuLGksbyxhLGMsbCxoO2ZvcihuPVtdO2U+PTAmJihuLmxlbmd0aHx8KGE9dGhpcy50YWcoZSksMD5rLmNhbGwodCxhKSYmKGM9dGhpcy50YWcoZSksMD5rLmNhbGwocyxjKXx8dGhpcy50b2tlbnNbZV0uZ2VuZXJhdGVkKSYmKGw9dGhpcy50YWcoZSksMD5rLmNhbGwodSxsKSkpKTspaT10aGlzLnRhZyhlKSxrLmNhbGwocixpKT49MCYmbi5wdXNoKHRoaXMudGFnKGUpKSxvPXRoaXMudGFnKGUpLGsuY2FsbChzLG8pPj0wJiZuLmxlbmd0aCYmbi5wb3AoKSxlLT0xO3JldHVybiBoPXRoaXMudGFnKGUpLGsuY2FsbCh0LGgpPj0wfSxlLnByb3RvdHlwZS5hZGRJbXBsaWNpdEJyYWNlc0FuZFBhcmVucz1mdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIGU9W10sdD1udWxsLHRoaXMuc2NhblRva2VucyhmdW5jdGlvbihpLGgscCl7dmFyIGQsbSxnLHYseSxiLHcsVCxDLEUsRixOLEwseCxTLEQsUixBLEksXyxPLCQsaixNLEIsVixQLFU7aWYoVT1pWzBdLEY9KE49aD4wP3BbaC0xXTpbXSlbMF0sQz0ocC5sZW5ndGgtMT5oP3BbaCsxXTpbXSlbMF0saj1mdW5jdGlvbigpe3JldHVybiBlW2UubGVuZ3RoLTFdfSxNPWgsZz1mdW5jdGlvbihlKXtyZXR1cm4gaC1NK2V9LHY9ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiBudWxsIT0oZT1qKCkpP251bGwhPSh0PWVbMl0pP3Qub3Vyczp2b2lkIDA6dm9pZCAwfSx5PWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIHYoKSYmXCIoXCI9PT0obnVsbCE9KGU9aigpKT9lWzBdOnZvaWQgMCl9LHc9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdigpJiZcIntcIj09PShudWxsIT0oZT1qKCkpP2VbMF06dm9pZCAwKX0sYj1mdW5jdGlvbigpe3ZhciBlO3JldHVybiB2JiZcIkNPTlRST0xcIj09PShudWxsIT0oZT1qKCkpP2VbMF06dm9pZCAwKX0sQj1mdW5jdGlvbih0KXt2YXIgbjtyZXR1cm4gbj1udWxsIT10P3Q6aCxlLnB1c2goW1wiKFwiLG4se291cnM6ITB9XSkscC5zcGxpY2UobiwwLGYoXCJDQUxMX1NUQVJUXCIsXCIoXCIpKSxudWxsPT10P2grPTE6dm9pZCAwfSxkPWZ1bmN0aW9uKCl7cmV0dXJuIGUucG9wKCkscC5zcGxpY2UoaCwwLGYoXCJDQUxMX0VORFwiLFwiKVwiLFtcIlwiLFwiZW5kIG9mIGlucHV0XCIsaVsyXV0pKSxoKz0xfSxWPWZ1bmN0aW9uKHQsbil7dmFyIHIscztyZXR1cm4gbnVsbD09biYmKG49ITApLHI9bnVsbCE9dD90OmgsZS5wdXNoKFtcIntcIixyLHtzYW1lTGluZTohMCxzdGFydHNMaW5lOm4sb3VyczohMH1dKSxzPW5ldyBTdHJpbmcoXCJ7XCIpLHMuZ2VuZXJhdGVkPSEwLHAuc3BsaWNlKHIsMCxmKFwie1wiLHMsaSkpLG51bGw9PXQ/aCs9MTp2b2lkIDB9LG09ZnVuY3Rpb24odCl7cmV0dXJuIHQ9bnVsbCE9dD90OmgsZS5wb3AoKSxwLnNwbGljZSh0LDAsZihcIn1cIixcIn1cIixpKSksaCs9MX0seSgpJiYoXCJJRlwiPT09VXx8XCJUUllcIj09PVV8fFwiRklOQUxMWVwiPT09VXx8XCJDQVRDSFwiPT09VXx8XCJDTEFTU1wiPT09VXx8XCJTV0lUQ0hcIj09PVUpKXJldHVybiBlLnB1c2goW1wiQ09OVFJPTFwiLGgse291cnM6ITB9XSksZygxKTtpZihcIklOREVOVFwiPT09VSYmdigpKXtpZihcIj0+XCIhPT1GJiZcIi0+XCIhPT1GJiZcIltcIiE9PUYmJlwiKFwiIT09RiYmXCIsXCIhPT1GJiZcIntcIiE9PUYmJlwiVFJZXCIhPT1GJiZcIkVMU0VcIiE9PUYmJlwiPVwiIT09Rilmb3IoO3koKTspZCgpO3JldHVybiBiKCkmJmUucG9wKCksZS5wdXNoKFtVLGhdKSxnKDEpfWlmKGsuY2FsbChzLFUpPj0wKXJldHVybiBlLnB1c2goW1UsaF0pLGcoMSk7aWYoay5jYWxsKHIsVSk+PTApe2Zvcig7digpOyl5KCk/ZCgpOncoKT9tKCk6ZS5wb3AoKTt0PWUucG9wKCl9aWYoKGsuY2FsbChjLFUpPj0wJiZpLnNwYWNlZHx8XCI/XCI9PT1VJiZoPjAmJiFwW2gtMV0uc3BhY2VkKSYmKGsuY2FsbChvLEMpPj0wfHxrLmNhbGwobCxDKT49MCYmIShudWxsIT0oTD1wW2grMV0pP0wuc3BhY2VkOnZvaWQgMCkmJiEobnVsbCE9KHg9cFtoKzFdKT94Lm5ld0xpbmU6dm9pZCAwKSkpcmV0dXJuXCI/XCI9PT1VJiYoVT1pWzBdPVwiRlVOQ19FWElTVFwiKSxCKGgrMSksZygyKTtpZihrLmNhbGwoYyxVKT49MCYmdGhpcy5pbmRleE9mVGFnKGgrMSxcIklOREVOVFwiLG51bGwsXCI6XCIpPi0xJiYhdGhpcy5maW5kVGFnc0JhY2t3YXJkcyhoLFtcIkNMQVNTXCIsXCJFWFRFTkRTXCIsXCJJRlwiLFwiQ0FUQ0hcIixcIlNXSVRDSFwiLFwiTEVBRElOR19XSEVOXCIsXCJGT1JcIixcIldISUxFXCIsXCJVTlRJTFwiXSkpcmV0dXJuIEIoaCsxKSxlLnB1c2goW1wiSU5ERU5UXCIsaCsyXSksZygzKTtpZihcIjpcIj09PVUpe2ZvcihJPWZ1bmN0aW9uKCl7dmFyIGU7c3dpdGNoKCExKXtjYXNlIGU9dGhpcy50YWcoaC0xKSwwPmsuY2FsbChyLGUpOnJldHVybiB0WzFdO2Nhc2VcIkBcIiE9PXRoaXMudGFnKGgtMik6cmV0dXJuIGgtMjtkZWZhdWx0OnJldHVybiBoLTF9fS5jYWxsKHRoaXMpO1wiSEVSRUNPTU1FTlRcIj09PXRoaXMudGFnKEktMik7KUktPTI7cmV0dXJuIHRoaXMuaW5zaWRlRm9yRGVjbGFyYXRpb249XCJGT1JcIj09PUMsUD0wPT09SXx8KFM9dGhpcy50YWcoSS0xKSxrLmNhbGwodSxTKT49MCl8fHBbSS0xXS5uZXdMaW5lLGooKSYmKEQ9aigpLCQ9RFswXSxPPURbMV0sKFwie1wiPT09JHx8XCJJTkRFTlRcIj09PSQmJlwie1wiPT09dGhpcy50YWcoTy0xKSkmJihQfHxcIixcIj09PXRoaXMudGFnKEktMSl8fFwie1wiPT09dGhpcy50YWcoSS0xKSkpP2coMSk6KFYoSSwhIVApLGcoMikpfWlmKHcoKSYmay5jYWxsKHUsVSk+PTAmJihqKClbMl0uc2FtZUxpbmU9ITEpLFQ9XCJPVVRERU5UXCI9PT1GfHxOLm5ld0xpbmUsay5jYWxsKGEsVSk+PTB8fGsuY2FsbChuLFUpPj0wJiZUKWZvcig7digpOylpZihSPWooKSwkPVJbMF0sTz1SWzFdLEE9UlsyXSxfPUEuc2FtZUxpbmUsUD1BLnN0YXJ0c0xpbmUseSgpJiZcIixcIiE9PUYpZCgpO2Vsc2UgaWYodygpJiYhdGhpcy5pbnNpZGVGb3JEZWNsYXJhdGlvbiYmXyYmXCJURVJNSU5BVE9SXCIhPT1VJiZcIjpcIiE9PUYpbSgpO2Vsc2V7aWYoIXcoKXx8XCJURVJNSU5BVE9SXCIhPT1VfHxcIixcIj09PUZ8fFAmJnRoaXMubG9va3NPYmplY3Rpc2goaCsxKSlicmVhaztpZihcIkhFUkVDT01NRU5UXCI9PT1DKXJldHVybiBnKDEpO20oKX1pZighKFwiLFwiIT09VXx8dGhpcy5sb29rc09iamVjdGlzaChoKzEpfHwhdygpfHx0aGlzLmluc2lkZUZvckRlY2xhcmF0aW9ufHxcIlRFUk1JTkFUT1JcIj09PUMmJnRoaXMubG9va3NPYmplY3Rpc2goaCsyKSkpZm9yKEU9XCJPVVRERU5UXCI9PT1DPzE6MDt3KCk7KW0oaCtFKTtyZXR1cm4gZygxKX0pfSxlLnByb3RvdHlwZS5hZGRMb2NhdGlvbkRhdGFUb0dlbmVyYXRlZFRva2Vucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIscyxvLGEsYztyZXR1cm4gZVsyXT8xOmUuZ2VuZXJhdGVkfHxlLmV4cGxpY2l0PyhcIntcIj09PWVbMF0mJihzPW51bGwhPShhPW5bdCsxXSk/YVsyXTp2b2lkIDApPyhyPXMuZmlyc3RfbGluZSxpPXMuZmlyc3RfY29sdW1uKToobz1udWxsIT0oYz1uW3QtMV0pP2NbMl06dm9pZCAwKT8ocj1vLmxhc3RfbGluZSxpPW8ubGFzdF9jb2x1bW4pOnI9aT0wLGVbMl09e2ZpcnN0X2xpbmU6cixmaXJzdF9jb2x1bW46aSxsYXN0X2xpbmU6cixsYXN0X2NvbHVtbjppfSwxKToxfSl9LGUucHJvdG90eXBlLm5vcm1hbGl6ZUxpbmVzPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLHMsbztyZXR1cm4gbz1yPXM9bnVsbCx0PWZ1bmN0aW9uKGUsdCl7dmFyIHIscyxhLGM7cmV0dXJuXCI7XCIhPT1lWzFdJiYocj1lWzBdLGsuY2FsbChwLHIpPj0wKSYmIShcIlRFUk1JTkFUT1JcIj09PWVbMF0mJihzPXRoaXMudGFnKHQrMSksay5jYWxsKGkscyk+PTApKSYmIShcIkVMU0VcIj09PWVbMF0mJlwiVEhFTlwiIT09bykmJiEhKFwiQ0FUQ0hcIiE9PShhPWVbMF0pJiZcIkZJTkFMTFlcIiE9PWF8fFwiLT5cIiE9PW8mJlwiPT5cIiE9PW8pfHwoYz1lWzBdLGsuY2FsbChuLGMpPj0wJiZ0aGlzLnRva2Vuc1t0LTFdLm5ld0xpbmUpfSxlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMudG9rZW5zLnNwbGljZShcIixcIj09PXRoaXMudGFnKHQtMSk/dC0xOnQsMCxzKX0sdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKG4sYSxjKXt2YXIgbCxoLHUscCxmLG07aWYobT1uWzBdLFwiVEVSTUlOQVRPUlwiPT09bSl7aWYoXCJFTFNFXCI9PT10aGlzLnRhZyhhKzEpJiZcIk9VVERFTlRcIiE9PXRoaXMudGFnKGEtMSkpcmV0dXJuIGMuc3BsaWNlLmFwcGx5KGMsW2EsMV0uY29uY2F0KHcuY2FsbCh0aGlzLmluZGVudGF0aW9uKCkpKSksMTtpZih1PXRoaXMudGFnKGErMSksay5jYWxsKGksdSk+PTApcmV0dXJuIGMuc3BsaWNlKGEsMSksMH1pZihcIkNBVENIXCI9PT1tKWZvcihsPWg9MTsyPj1oO2w9KytoKWlmKFwiT1VUREVOVFwiPT09KHA9dGhpcy50YWcoYStsKSl8fFwiVEVSTUlOQVRPUlwiPT09cHx8XCJGSU5BTExZXCI9PT1wKXJldHVybiBjLnNwbGljZS5hcHBseShjLFthK2wsMF0uY29uY2F0KHcuY2FsbCh0aGlzLmluZGVudGF0aW9uKCkpKSksMitsO3JldHVybiBrLmNhbGwoZCxtKT49MCYmXCJJTkRFTlRcIiE9PXRoaXMudGFnKGErMSkmJihcIkVMU0VcIiE9PW18fFwiSUZcIiE9PXRoaXMudGFnKGErMSkpPyhvPW0sZj10aGlzLmluZGVudGF0aW9uKGNbYV0pLHI9ZlswXSxzPWZbMV0sXCJUSEVOXCI9PT1vJiYoci5mcm9tVGhlbj0hMCksYy5zcGxpY2UoYSsxLDAsciksdGhpcy5kZXRlY3RFbmQoYSsyLHQsZSksXCJUSEVOXCI9PT1tJiZjLnNwbGljZShhLDEpLDEpOjF9KX0sZS5wcm90b3R5cGUudGFnUG9zdGZpeENvbmRpdGlvbmFscz1mdW5jdGlvbigpe3ZhciBlLHQsbjtyZXR1cm4gbj1udWxsLHQ9ZnVuY3Rpb24oZSx0KXt2YXIgbixpO3JldHVybiBpPWVbMF0sbj10aGlzLnRva2Vuc1t0LTFdWzBdLFwiVEVSTUlOQVRPUlwiPT09aXx8XCJJTkRFTlRcIj09PWkmJjA+ay5jYWxsKGQsbil9LGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJJTkRFTlRcIiE9PWVbMF18fGUuZ2VuZXJhdGVkJiYhZS5mcm9tVGhlbj9uWzBdPVwiUE9TVF9cIituWzBdOnZvaWQgMH0sdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKGkscil7cmV0dXJuXCJJRlwiIT09aVswXT8xOihuPWksdGhpcy5kZXRlY3RFbmQocisxLHQsZSksMSl9KX0sZS5wcm90b3R5cGUuaW5kZW50YXRpb249ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gdD1bXCJJTkRFTlRcIiwyXSxuPVtcIk9VVERFTlRcIiwyXSxlPyh0LmdlbmVyYXRlZD1uLmdlbmVyYXRlZD0hMCx0Lm9yaWdpbj1uLm9yaWdpbj1lKTp0LmV4cGxpY2l0PW4uZXhwbGljaXQ9ITAsW3Qsbl19LGUucHJvdG90eXBlLmdlbmVyYXRlPWYsZS5wcm90b3R5cGUudGFnPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBudWxsIT0odD10aGlzLnRva2Vuc1tlXSk/dFswXTp2b2lkIDB9LGV9KCksdD1bW1wiKFwiLFwiKVwiXSxbXCJbXCIsXCJdXCJdLFtcIntcIixcIn1cIl0sW1wiSU5ERU5UXCIsXCJPVVRERU5UXCJdLFtcIkNBTExfU1RBUlRcIixcIkNBTExfRU5EXCJdLFtcIlBBUkFNX1NUQVJUXCIsXCJQQVJBTV9FTkRcIl0sW1wiSU5ERVhfU1RBUlRcIixcIklOREVYX0VORFwiXSxbXCJTVFJJTkdfU1RBUlRcIixcIlNUUklOR19FTkRcIl0sW1wiUkVHRVhfU1RBUlRcIixcIlJFR0VYX0VORFwiXV0sZS5JTlZFUlNFUz1oPXt9LHM9W10scj1bXSxtPTAsdj10Lmxlbmd0aDt2Pm07bSsrKXk9dFttXSxnPXlbMF0sYj15WzFdLHMucHVzaChoW2JdPWcpLHIucHVzaChoW2ddPWIpO2k9W1wiQ0FUQ0hcIixcIlRIRU5cIixcIkVMU0VcIixcIkZJTkFMTFlcIl0uY29uY2F0KHIpLGM9W1wiSURFTlRJRklFUlwiLFwiU1VQRVJcIixcIilcIixcIkNBTExfRU5EXCIsXCJdXCIsXCJJTkRFWF9FTkRcIixcIkBcIixcIlRISVNcIl0sbz1bXCJJREVOVElGSUVSXCIsXCJOVU1CRVJcIixcIlNUUklOR1wiLFwiU1RSSU5HX1NUQVJUXCIsXCJKU1wiLFwiUkVHRVhcIixcIlJFR0VYX1NUQVJUXCIsXCJORVdcIixcIlBBUkFNX1NUQVJUXCIsXCJDTEFTU1wiLFwiSUZcIixcIlRSWVwiLFwiU1dJVENIXCIsXCJUSElTXCIsXCJCT09MXCIsXCJOVUxMXCIsXCJVTkRFRklORURcIixcIlVOQVJZXCIsXCJZSUVMRFwiLFwiVU5BUllfTUFUSFwiLFwiU1VQRVJcIixcIlRIUk9XXCIsXCJAXCIsXCItPlwiLFwiPT5cIixcIltcIixcIihcIixcIntcIixcIi0tXCIsXCIrK1wiXSxsPVtcIitcIixcIi1cIl0sYT1bXCJQT1NUX0lGXCIsXCJGT1JcIixcIldISUxFXCIsXCJVTlRJTFwiLFwiV0hFTlwiLFwiQllcIixcIkxPT1BcIixcIlRFUk1JTkFUT1JcIl0sZD1bXCJFTFNFXCIsXCItPlwiLFwiPT5cIixcIlRSWVwiLFwiRklOQUxMWVwiLFwiVEhFTlwiXSxwPVtcIlRFUk1JTkFUT1JcIixcIkNBVENIXCIsXCJGSU5BTExZXCIsXCJFTFNFXCIsXCJPVVRERU5UXCIsXCJMRUFESU5HX1dIRU5cIl0sdT1bXCJURVJNSU5BVE9SXCIsXCJJTkRFTlRcIixcIk9VVERFTlRcIl0sbj1bXCIuXCIsXCI/LlwiLFwiOjpcIixcIj86OlwiXX0uY2FsbCh0aGlzKSx0LmV4cG9ydHN9KCkscmVxdWlyZVtcIi4vbGV4ZXJcIl09ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXtleHBvcnRzOmV9O3JldHVybiBmdW5jdGlvbigpe3ZhciB0LG4saSxyLHMsbyxhLGMsbCxoLHUscCxkLGYsbSxnLHYseSxiLGssdyxULEMsRSxGLE4sTCx4LFMsRCxSLEEsSSxfLE8sJCxqLE0sQixWLFAsVSxHLEgscSxYLFcsWSxLLHosSixRLFosZXQsdHQsbnQsaXQscnQsc3Qsb3QsYXQsY3QsbHQsaHQsdXQ9W10uaW5kZXhPZnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmxlbmd0aDtuPnQ7dCsrKWlmKHQgaW4gdGhpcyYmdGhpc1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuLTF9O290PXJlcXVpcmUoXCIuL3Jld3JpdGVyXCIpLFA9b3QuUmV3cml0ZXIsdz1vdC5JTlZFUlNFUyxhdD1yZXF1aXJlKFwiLi9oZWxwZXJzXCIpLG50PWF0LmNvdW50LGx0PWF0LnN0YXJ0cyx0dD1hdC5jb21wYWN0LGN0PWF0LnJlcGVhdCxpdD1hdC5pbnZlcnRMaXRlcmF0ZSxzdD1hdC5sb2NhdGlvbkRhdGFUb1N0cmluZyxodD1hdC50aHJvd1N5bnRheEVycm9yLGUuTGV4ZXI9Uz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLnRva2VuaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLHM7Zm9yKG51bGw9PXQmJih0PXt9KSx0aGlzLmxpdGVyYXRlPXQubGl0ZXJhdGUsdGhpcy5pbmRlbnQ9MCx0aGlzLmJhc2VJbmRlbnQ9MCx0aGlzLmluZGVidD0wLHRoaXMub3V0ZGVidD0wLHRoaXMuaW5kZW50cz1bXSx0aGlzLmVuZHM9W10sdGhpcy50b2tlbnM9W10sdGhpcy5jaHVua0xpbmU9dC5saW5lfHwwLHRoaXMuY2h1bmtDb2x1bW49dC5jb2x1bW58fDAsZT10aGlzLmNsZWFuKGUpLHI9MDt0aGlzLmNodW5rPWUuc2xpY2Uocik7KWlmKG49dGhpcy5pZGVudGlmaWVyVG9rZW4oKXx8dGhpcy5jb21tZW50VG9rZW4oKXx8dGhpcy53aGl0ZXNwYWNlVG9rZW4oKXx8dGhpcy5saW5lVG9rZW4oKXx8dGhpcy5zdHJpbmdUb2tlbigpfHx0aGlzLm51bWJlclRva2VuKCl8fHRoaXMucmVnZXhUb2tlbigpfHx0aGlzLmpzVG9rZW4oKXx8dGhpcy5saXRlcmFsVG9rZW4oKSxzPXRoaXMuZ2V0TGluZUFuZENvbHVtbkZyb21DaHVuayhuKSx0aGlzLmNodW5rTGluZT1zWzBdLHRoaXMuY2h1bmtDb2x1bW49c1sxXSxyKz1uLHQudW50aWxCYWxhbmNlZCYmMD09PXRoaXMuZW5kcy5sZW5ndGgpcmV0dXJue3Rva2Vuczp0aGlzLnRva2VucyxpbmRleDpyfTtyZXR1cm4gdGhpcy5jbG9zZUluZGVudGF0aW9uKCksKGk9dGhpcy5lbmRzLnBvcCgpKSYmdGhpcy5lcnJvcihcIm1pc3NpbmcgXCIraS50YWcsaS5vcmlnaW5bMl0pLHQucmV3cml0ZT09PSExP3RoaXMudG9rZW5zOihuZXcgUCkucmV3cml0ZSh0aGlzLnRva2Vucyl9LGUucHJvdG90eXBlLmNsZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBlLmNoYXJDb2RlQXQoMCk9PT10JiYoZT1lLnNsaWNlKDEpKSxlPWUucmVwbGFjZSgvXFxyL2csXCJcIikucmVwbGFjZSh6LFwiXCIpLGV0LnRlc3QoZSkmJihlPVwiXFxuXCIrZSx0aGlzLmNodW5rTGluZS0tKSx0aGlzLmxpdGVyYXRlJiYoZT1pdChlKSksZX0sZS5wcm90b3R5cGUuaWRlbnRpZmllclRva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscixjLGwsaCx1LHAsZCxmLG0sZyx5O3JldHVybihsPXYuZXhlYyh0aGlzLmNodW5rKSk/KGM9bFswXSxpPWxbMV0sZT1sWzJdLHI9aS5sZW5ndGgsaD12b2lkIDAsXCJvd25cIj09PWkmJlwiRk9SXCI9PT10aGlzLnRhZygpPyh0aGlzLnRva2VuKFwiT1dOXCIsaSksaS5sZW5ndGgpOlwiZnJvbVwiPT09aSYmXCJZSUVMRFwiPT09dGhpcy50YWcoKT8odGhpcy50b2tlbihcIkZST01cIixpKSxpLmxlbmd0aCk6KHA9dGhpcy50b2tlbnMsdT1wW3AubGVuZ3RoLTFdLG49ZXx8bnVsbCE9dSYmKFwiLlwiPT09KGQ9dVswXSl8fFwiPy5cIj09PWR8fFwiOjpcIj09PWR8fFwiPzo6XCI9PT1kfHwhdS5zcGFjZWQmJlwiQFwiPT09dVswXSksZz1cIklERU5USUZJRVJcIiwhbiYmKHV0LmNhbGwoRSxpKT49MHx8dXQuY2FsbChhLGkpPj0wKSYmKGc9aS50b1VwcGVyQ2FzZSgpLFwiV0hFTlwiPT09ZyYmKGY9dGhpcy50YWcoKSx1dC5jYWxsKE4sZik+PTApP2c9XCJMRUFESU5HX1dIRU5cIjpcIkZPUlwiPT09Zz90aGlzLnNlZW5Gb3I9ITA6XCJVTkxFU1NcIj09PWc/Zz1cIklGXCI6dXQuY2FsbChKLGcpPj0wP2c9XCJVTkFSWVwiOnV0LmNhbGwoQixnKT49MCYmKFwiSU5TVEFOQ0VPRlwiIT09ZyYmdGhpcy5zZWVuRm9yPyhnPVwiRk9SXCIrZyx0aGlzLnNlZW5Gb3I9ITEpOihnPVwiUkVMQVRJT05cIixcIiFcIj09PXRoaXMudmFsdWUoKSYmKGg9dGhpcy50b2tlbnMucG9wKCksaT1cIiFcIitpKSkpKSx1dC5jYWxsKEMsaSk+PTAmJihuPyhnPVwiSURFTlRJRklFUlwiLGk9bmV3IFN0cmluZyhpKSxpLnJlc2VydmVkPSEwKTp1dC5jYWxsKFYsaSk+PTAmJnRoaXMuZXJyb3IoXCJyZXNlcnZlZCB3b3JkICdcIitpK1wiJ1wiLHtsZW5ndGg6aS5sZW5ndGh9KSksbnx8KHV0LmNhbGwocyxpKT49MCYmKGk9b1tpXSksZz1mdW5jdGlvbigpe3N3aXRjaChpKXtjYXNlXCIhXCI6cmV0dXJuXCJVTkFSWVwiO2Nhc2VcIj09XCI6Y2FzZVwiIT1cIjpyZXR1cm5cIkNPTVBBUkVcIjtjYXNlXCImJlwiOmNhc2VcInx8XCI6cmV0dXJuXCJMT0dJQ1wiO2Nhc2VcInRydWVcIjpjYXNlXCJmYWxzZVwiOnJldHVyblwiQk9PTFwiO2Nhc2VcImJyZWFrXCI6Y2FzZVwiY29udGludWVcIjpyZXR1cm5cIlNUQVRFTUVOVFwiO2RlZmF1bHQ6cmV0dXJuIGd9fSgpKSx5PXRoaXMudG9rZW4oZyxpLDAscikseS52YXJpYWJsZT0hbixoJiYobT1baFsyXS5maXJzdF9saW5lLGhbMl0uZmlyc3RfY29sdW1uXSx5WzJdLmZpcnN0X2xpbmU9bVswXSx5WzJdLmZpcnN0X2NvbHVtbj1tWzFdKSxlJiYodD1jLmxhc3RJbmRleE9mKFwiOlwiKSx0aGlzLnRva2VuKFwiOlwiLFwiOlwiLHQsZS5sZW5ndGgpKSxjLmxlbmd0aCkpOjB9LGUucHJvdG90eXBlLm51bWJlclRva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscjtyZXR1cm4obj1JLmV4ZWModGhpcy5jaHVuaykpPyhpPW5bMF0sdD1pLmxlbmd0aCwvXjBbQk9YXS8udGVzdChpKT90aGlzLmVycm9yKFwicmFkaXggcHJlZml4IGluICdcIitpK1wiJyBtdXN0IGJlIGxvd2VyY2FzZVwiLHtvZmZzZXQ6MX0pOi9FLy50ZXN0KGkpJiYhL14weC8udGVzdChpKT90aGlzLmVycm9yKFwiZXhwb25lbnRpYWwgbm90YXRpb24gaW4gJ1wiK2krXCInIG11c3QgYmUgaW5kaWNhdGVkIHdpdGggYSBsb3dlcmNhc2UgJ2UnXCIse29mZnNldDppLmluZGV4T2YoXCJFXCIpfSk6L14wXFxkKls4OV0vLnRlc3QoaSk/dGhpcy5lcnJvcihcImRlY2ltYWwgbGl0ZXJhbCAnXCIraStcIicgbXVzdCBub3QgYmUgcHJlZml4ZWQgd2l0aCAnMCdcIix7bGVuZ3RoOnR9KTovXjBcXGQrLy50ZXN0KGkpJiZ0aGlzLmVycm9yKFwib2N0YWwgbGl0ZXJhbCAnXCIraStcIicgbXVzdCBiZSBwcmVmaXhlZCB3aXRoICcwbydcIix7bGVuZ3RoOnR9KSwocj0vXjBvKFswLTddKykvLmV4ZWMoaSkpJiYoaT1cIjB4XCIrcGFyc2VJbnQoclsxXSw4KS50b1N0cmluZygxNikpLChlPS9eMGIoWzAxXSspLy5leGVjKGkpKSYmKGk9XCIweFwiK3BhcnNlSW50KGVbMV0sMikudG9TdHJpbmcoMTYpKSx0aGlzLnRva2VuKFwiTlVNQkVSXCIsaSwwLHQpLHQpOjB9LGUucHJvdG90eXBlLnN0cmluZ1Rva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscixzLG8sYSxjLGwsaCx1LG0sZyx2LHk7aWYoaD0oWS5leGVjKHRoaXMuY2h1bmspfHxbXSlbMF0sIWgpcmV0dXJuIDA7aWYoZz1mdW5jdGlvbigpe3N3aXRjaChoKXtjYXNlXCInXCI6cmV0dXJuIFc7Y2FzZSdcIic6cmV0dXJuIHE7Y2FzZVwiJycnXCI6cmV0dXJuIGY7Y2FzZSdcIlwiXCInOnJldHVybiBwfX0oKSxzPTM9PT1oLmxlbmd0aCx1PXRoaXMubWF0Y2hXaXRoSW50ZXJwb2xhdGlvbnMoZyxoKSx5PXUudG9rZW5zLHI9dS5pbmRleCxlPXkubGVuZ3RoLTEsbj1oLmNoYXJBdCgwKSxzKXtmb3IoYT1udWxsLGk9ZnVuY3Rpb24oKXt2YXIgZSx0LG47Zm9yKG49W10sbz1lPTAsdD15Lmxlbmd0aDt0PmU7bz0rK2Updj15W29dLFwiTkVPU1RSSU5HXCI9PT12WzBdJiZuLnB1c2godlsxXSk7cmV0dXJuIG59KCkuam9pbihcIiN7fVwiKTtsPWQuZXhlYyhpKTspdD1sWzFdLChudWxsPT09YXx8KG09dC5sZW5ndGgpPjAmJmEubGVuZ3RoPm0pJiYoYT10KTthJiYoYz1SZWdFeHAoXCJeXCIrYSxcImdtXCIpKSx0aGlzLm1lcmdlSW50ZXJwb2xhdGlvblRva2Vucyh5LHtkZWxpbWl0ZXI6bn0sZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7cmV0dXJuIG49dC5mb3JtYXRTdHJpbmcobiksMD09PWkmJihuPW4ucmVwbGFjZShGLFwiXCIpKSxpPT09ZSYmKG49bi5yZXBsYWNlKEssXCJcIikpLGMmJihuPW4ucmVwbGFjZShjLFwiXCIpKSxufX0odGhpcykpfWVsc2UgdGhpcy5tZXJnZUludGVycG9sYXRpb25Ub2tlbnMoeSx7ZGVsaW1pdGVyOm59LGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuLGkpe3JldHVybiBuPXQuZm9ybWF0U3RyaW5nKG4pLG49bi5yZXBsYWNlKEcsZnVuY3Rpb24odCxyKXtyZXR1cm4gMD09PWkmJjA9PT1yfHxpPT09ZSYmcit0Lmxlbmd0aD09PW4ubGVuZ3RoP1wiXCI6XCIgXCJ9KX19KHRoaXMpKTtyZXR1cm4gcn0sZS5wcm90b3R5cGUuY29tbWVudFRva2VuPWZ1bmN0aW9uKCl7dmFyIGUsdCxuO3JldHVybihuPXRoaXMuY2h1bmsubWF0Y2goYykpPyhlPW5bMF0sdD1uWzFdLHQmJigobj11LmV4ZWMoZSkpJiZ0aGlzLmVycm9yKFwiYmxvY2sgY29tbWVudHMgY2Fubm90IGNvbnRhaW4gXCIrblswXSx7b2Zmc2V0Om4uaW5kZXgsbGVuZ3RoOm5bMF0ubGVuZ3RofSksdC5pbmRleE9mKFwiXFxuXCIpPj0wJiYodD10LnJlcGxhY2UoUmVnRXhwKFwiXFxcXG5cIitjdChcIiBcIix0aGlzLmluZGVudCksXCJnXCIpLFwiXFxuXCIpKSx0aGlzLnRva2VuKFwiSEVSRUNPTU1FTlRcIix0LDAsZS5sZW5ndGgpKSxlLmxlbmd0aCk6MH0sZS5wcm90b3R5cGUuanNUb2tlbj1mdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuXCJgXCI9PT10aGlzLmNodW5rLmNoYXJBdCgwKSYmKGU9VC5leGVjKHRoaXMuY2h1bmspKT8odGhpcy50b2tlbihcIkpTXCIsKHQ9ZVswXSkuc2xpY2UoMSwtMSksMCx0Lmxlbmd0aCksdC5sZW5ndGgpOjB9LGUucHJvdG90eXBlLnJlZ2V4VG9rZW49ZnVuY3Rpb24oKXt2YXIgZSx0LG4scixzLG8sYSxjLGwsaCx1LHAsZDtzd2l0Y2goITEpe2Nhc2UhKG89TS5leGVjKHRoaXMuY2h1bmspKTp0aGlzLmVycm9yKFwicmVndWxhciBleHByZXNzaW9ucyBjYW5ub3QgYmVnaW4gd2l0aCBcIitvWzJdLHtvZmZzZXQ6by5pbmRleCtvWzFdLmxlbmd0aH0pO2JyZWFrO2Nhc2UhKG89dGhpcy5tYXRjaFdpdGhJbnRlcnBvbGF0aW9ucyhtLFwiLy8vXCIpKTpkPW8udG9rZW5zLHM9by5pbmRleDticmVhaztjYXNlIShvPSQuZXhlYyh0aGlzLmNodW5rKSk6aWYocD1vWzBdLGU9b1sxXSx0PW9bMl0sdGhpcy52YWxpZGF0ZUVzY2FwZXMoZSx7aXNSZWdleDohMCxvZmZzZXRJbkNodW5rOjF9KSxzPXAubGVuZ3RoLGw9dGhpcy50b2tlbnMsYz1sW2wubGVuZ3RoLTFdLGMpaWYoYy5zcGFjZWQmJihoPWNbMF0sdXQuY2FsbChpLGgpPj0wKSl7aWYoIXR8fE8udGVzdChwKSlyZXR1cm4gMH1lbHNlIGlmKHU9Y1swXSx1dC5jYWxsKEEsdSk+PTApcmV0dXJuIDA7dHx8dGhpcy5lcnJvcihcIm1pc3NpbmcgLyAodW5jbG9zZWQgcmVnZXgpXCIpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIDB9c3dpdGNoKHI9ai5leGVjKHRoaXMuY2h1bmsuc2xpY2UocykpWzBdLG49cytyLmxlbmd0aCxhPXRoaXMubWFrZVRva2VuKFwiUkVHRVhcIixudWxsLDAsbiksITEpe2Nhc2UhIVoudGVzdChyKTp0aGlzLmVycm9yKFwiaW52YWxpZCByZWd1bGFyIGV4cHJlc3Npb24gZmxhZ3MgXCIrcix7b2Zmc2V0OnMsbGVuZ3RoOnIubGVuZ3RofSk7YnJlYWs7Y2FzZSEocHx8MT09PWQubGVuZ3RoKTpudWxsPT1lJiYoZT10aGlzLmZvcm1hdEhlcmVnZXgoZFswXVsxXSkpLHRoaXMudG9rZW4oXCJSRUdFWFwiLFwiXCIrdGhpcy5tYWtlRGVsaW1pdGVkTGl0ZXJhbChlLHtkZWxpbWl0ZXI6XCIvXCJ9KStyLDAsbixhKTticmVhaztkZWZhdWx0OnRoaXMudG9rZW4oXCJSRUdFWF9TVEFSVFwiLFwiKFwiLDAsMCxhKSx0aGlzLnRva2VuKFwiSURFTlRJRklFUlwiLFwiUmVnRXhwXCIsMCwwKSx0aGlzLnRva2VuKFwiQ0FMTF9TVEFSVFwiLFwiKFwiLDAsMCksdGhpcy5tZXJnZUludGVycG9sYXRpb25Ub2tlbnMoZCx7ZGVsaW1pdGVyOidcIicsXCJkb3VibGVcIjohMH0sdGhpcy5mb3JtYXRIZXJlZ2V4KSxyJiYodGhpcy50b2tlbihcIixcIixcIixcIixzLDApLHRoaXMudG9rZW4oXCJTVFJJTkdcIiwnXCInK3IrJ1wiJyxzLHIubGVuZ3RoKSksdGhpcy50b2tlbihcIilcIixcIilcIixuLDApLHRoaXMudG9rZW4oXCJSRUdFWF9FTkRcIixcIilcIixuLDApfXJldHVybiBufSxlLnByb3RvdHlwZS5saW5lVG9rZW49ZnVuY3Rpb24oKXt2YXIgZSx0LG4saSxyO2lmKCEobj1SLmV4ZWModGhpcy5jaHVuaykpKXJldHVybiAwO2lmKHQ9blswXSx0aGlzLnNlZW5Gb3I9ITEscj10Lmxlbmd0aC0xLXQubGFzdEluZGV4T2YoXCJcXG5cIiksaT10aGlzLnVuZmluaXNoZWQoKSxyLXRoaXMuaW5kZWJ0PT09dGhpcy5pbmRlbnQpcmV0dXJuIGk/dGhpcy5zdXBwcmVzc05ld2xpbmVzKCk6dGhpcy5uZXdsaW5lVG9rZW4oMCksdC5sZW5ndGg7aWYocj50aGlzLmluZGVudCl7aWYoaSlyZXR1cm4gdGhpcy5pbmRlYnQ9ci10aGlzLmluZGVudCx0aGlzLnN1cHByZXNzTmV3bGluZXMoKSx0Lmxlbmd0aDtpZighdGhpcy50b2tlbnMubGVuZ3RoKXJldHVybiB0aGlzLmJhc2VJbmRlbnQ9dGhpcy5pbmRlbnQ9cix0Lmxlbmd0aDtlPXItdGhpcy5pbmRlbnQrdGhpcy5vdXRkZWJ0LHRoaXMudG9rZW4oXCJJTkRFTlRcIixlLHQubGVuZ3RoLXIsciksdGhpcy5pbmRlbnRzLnB1c2goZSksdGhpcy5lbmRzLnB1c2goe3RhZzpcIk9VVERFTlRcIn0pLHRoaXMub3V0ZGVidD10aGlzLmluZGVidD0wLHRoaXMuaW5kZW50PXJ9ZWxzZSB0aGlzLmJhc2VJbmRlbnQ+cj90aGlzLmVycm9yKFwibWlzc2luZyBpbmRlbnRhdGlvblwiLHtvZmZzZXQ6dC5sZW5ndGh9KToodGhpcy5pbmRlYnQ9MCx0aGlzLm91dGRlbnRUb2tlbih0aGlzLmluZGVudC1yLGksdC5sZW5ndGgpKTtyZXR1cm4gdC5sZW5ndGh9LGUucHJvdG90eXBlLm91dGRlbnRUb2tlbj1mdW5jdGlvbihlLHQsbil7dmFyIGkscixzLG87Zm9yKGk9dGhpcy5pbmRlbnQtZTtlPjA7KXM9dGhpcy5pbmRlbnRzW3RoaXMuaW5kZW50cy5sZW5ndGgtMV0scz9zPT09dGhpcy5vdXRkZWJ0PyhlLT10aGlzLm91dGRlYnQsdGhpcy5vdXRkZWJ0PTApOnRoaXMub3V0ZGVidD5zPyh0aGlzLm91dGRlYnQtPXMsZS09cyk6KHI9dGhpcy5pbmRlbnRzLnBvcCgpK3RoaXMub3V0ZGVidCxuJiYobz10aGlzLmNodW5rW25dLHV0LmNhbGwoeSxvKT49MCkmJihpLT1yLWUsZT1yKSx0aGlzLm91dGRlYnQ9MCx0aGlzLnBhaXIoXCJPVVRERU5UXCIpLHRoaXMudG9rZW4oXCJPVVRERU5UXCIsZSwwLG4pLGUtPXIpOmU9MDtmb3IociYmKHRoaXMub3V0ZGVidC09ZSk7XCI7XCI9PT10aGlzLnZhbHVlKCk7KXRoaXMudG9rZW5zLnBvcCgpO3JldHVyblwiVEVSTUlOQVRPUlwiPT09dGhpcy50YWcoKXx8dHx8dGhpcy50b2tlbihcIlRFUk1JTkFUT1JcIixcIlxcblwiLG4sMCksdGhpcy5pbmRlbnQ9aSx0aGlzfSxlLnByb3RvdHlwZS53aGl0ZXNwYWNlVG9rZW49ZnVuY3Rpb24oKXt2YXIgZSx0LG4saTtyZXR1cm4oZT1ldC5leGVjKHRoaXMuY2h1bmspKXx8KHQ9XCJcXG5cIj09PXRoaXMuY2h1bmsuY2hhckF0KDApKT8oaT10aGlzLnRva2VucyxuPWlbaS5sZW5ndGgtMV0sbiYmKG5bZT9cInNwYWNlZFwiOlwibmV3TGluZVwiXT0hMCksZT9lWzBdLmxlbmd0aDowKTowfSxlLnByb3RvdHlwZS5uZXdsaW5lVG9rZW49ZnVuY3Rpb24oZSl7Zm9yKDtcIjtcIj09PXRoaXMudmFsdWUoKTspdGhpcy50b2tlbnMucG9wKCk7cmV0dXJuXCJURVJNSU5BVE9SXCIhPT10aGlzLnRhZygpJiZ0aGlzLnRva2VuKFwiVEVSTUlOQVRPUlwiLFwiXFxuXCIsZSwwKSx0aGlzfSxlLnByb3RvdHlwZS5zdXBwcmVzc05ld2xpbmVzPWZ1bmN0aW9uKCl7cmV0dXJuXCJcXFxcXCI9PT10aGlzLnZhbHVlKCkmJnRoaXMudG9rZW5zLnBvcCgpLHRoaXN9LGUucHJvdG90eXBlLmxpdGVyYWxUb2tlbj1mdW5jdGlvbigpe3ZhciBlLHQsbixzLG8sYSxjLHUscCxkO2lmKChlPV8uZXhlYyh0aGlzLmNodW5rKSk/KGQ9ZVswXSxyLnRlc3QoZCkmJnRoaXMudGFnUGFyYW1ldGVycygpKTpkPXRoaXMuY2h1bmsuY2hhckF0KDApLHU9ZCxuPXRoaXMudG9rZW5zLHQ9bltuLmxlbmd0aC0xXSxcIj1cIj09PWQmJnQmJighdFsxXS5yZXNlcnZlZCYmKHM9dFsxXSx1dC5jYWxsKEMscyk+PTApJiZ0aGlzLmVycm9yKFwicmVzZXJ2ZWQgd29yZCAnXCIrdFsxXStcIicgY2FuJ3QgYmUgYXNzaWduZWRcIix0WzJdKSxcInx8XCI9PT0obz10WzFdKXx8XCImJlwiPT09bykpcmV0dXJuIHRbMF09XCJDT01QT1VORF9BU1NJR05cIix0WzFdKz1cIj1cIixkLmxlbmd0aDtpZihcIjtcIj09PWQpdGhpcy5zZWVuRm9yPSExLHU9XCJURVJNSU5BVE9SXCI7ZWxzZSBpZih1dC5jYWxsKEQsZCk+PTApdT1cIk1BVEhcIjtlbHNlIGlmKHV0LmNhbGwobCxkKT49MCl1PVwiQ09NUEFSRVwiO2Vsc2UgaWYodXQuY2FsbChoLGQpPj0wKXU9XCJDT01QT1VORF9BU1NJR05cIjtlbHNlIGlmKHV0LmNhbGwoSixkKT49MCl1PVwiVU5BUllcIjtlbHNlIGlmKHV0LmNhbGwoUSxkKT49MCl1PVwiVU5BUllfTUFUSFwiO2Vsc2UgaWYodXQuY2FsbChVLGQpPj0wKXU9XCJTSElGVFwiO2Vsc2UgaWYodXQuY2FsbCh4LGQpPj0wfHxcIj9cIj09PWQmJihudWxsIT10P3Quc3BhY2VkOnZvaWQgMCkpdT1cIkxPR0lDXCI7ZWxzZSBpZih0JiYhdC5zcGFjZWQpaWYoXCIoXCI9PT1kJiYoYT10WzBdLHV0LmNhbGwoaSxhKT49MCkpXCI/XCI9PT10WzBdJiYodFswXT1cIkZVTkNfRVhJU1RcIiksdT1cIkNBTExfU1RBUlRcIjtlbHNlIGlmKFwiW1wiPT09ZCYmKGM9dFswXSx1dC5jYWxsKGIsYyk+PTApKXN3aXRjaCh1PVwiSU5ERVhfU1RBUlRcIix0WzBdKXtjYXNlXCI/XCI6dFswXT1cIklOREVYX1NPQUtcIn1zd2l0Y2gocD10aGlzLm1ha2VUb2tlbih1LGQpLGQpe2Nhc2VcIihcIjpjYXNlXCJ7XCI6Y2FzZVwiW1wiOnRoaXMuZW5kcy5wdXNoKHt0YWc6d1tkXSxvcmlnaW46cH0pO2JyZWFrO2Nhc2VcIilcIjpjYXNlXCJ9XCI6Y2FzZVwiXVwiOnRoaXMucGFpcihkKX1yZXR1cm4gdGhpcy50b2tlbnMucHVzaChwKSxkLmxlbmd0aH0sZS5wcm90b3R5cGUudGFnUGFyYW1ldGVycz1mdW5jdGlvbigpe3ZhciBlLHQsbixpO2lmKFwiKVwiIT09dGhpcy50YWcoKSlyZXR1cm4gdGhpcztmb3IodD1bXSxpPXRoaXMudG9rZW5zLGU9aS5sZW5ndGgsaVstLWVdWzBdPVwiUEFSQU1fRU5EXCI7bj1pWy0tZV07KXN3aXRjaChuWzBdKXtjYXNlXCIpXCI6dC5wdXNoKG4pO2JyZWFrO2Nhc2VcIihcIjpjYXNlXCJDQUxMX1NUQVJUXCI6aWYoIXQubGVuZ3RoKXJldHVyblwiKFwiPT09blswXT8oblswXT1cIlBBUkFNX1NUQVJUXCIsdGhpcyk6dGhpczt0LnBvcCgpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5jbG9zZUluZGVudGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0ZGVudFRva2VuKHRoaXMuaW5kZW50KX0sZS5wcm90b3R5cGUubWF0Y2hXaXRoSW50ZXJwb2xhdGlvbnM9ZnVuY3Rpb24odCxuKXt2YXIgaSxyLHMsbyxhLGMsbCxoLHUscCxkLGYsbSxnLHY7aWYodj1bXSxoPW4ubGVuZ3RoLHRoaXMuY2h1bmsuc2xpY2UoMCxoKSE9PW4pcmV0dXJuIG51bGw7Zm9yKG09dGhpcy5jaHVuay5zbGljZShoKTs7KXtpZihnPXQuZXhlYyhtKVswXSx0aGlzLnZhbGlkYXRlRXNjYXBlcyhnLHtpc1JlZ2V4OlwiL1wiPT09bi5jaGFyQXQoMCksb2Zmc2V0SW5DaHVuazpofSksdi5wdXNoKHRoaXMubWFrZVRva2VuKFwiTkVPU1RSSU5HXCIsZyxoKSksbT1tLnNsaWNlKGcubGVuZ3RoKSxoKz1nLmxlbmd0aCxcIiN7XCIhPT1tLnNsaWNlKDAsMikpYnJlYWs7cD10aGlzLmdldExpbmVBbmRDb2x1bW5Gcm9tQ2h1bmsoaCsxKSxjPXBbMF0scj1wWzFdLGQ9KG5ldyBlKS50b2tlbml6ZShtLnNsaWNlKDEpLHtsaW5lOmMsY29sdW1uOnIsdW50aWxCYWxhbmNlZDohMH0pLGw9ZC50b2tlbnMsbz1kLmluZGV4LG8rPTEsdT1sWzBdLGk9bFtsLmxlbmd0aC0xXSx1WzBdPXVbMV09XCIoXCIsaVswXT1pWzFdPVwiKVwiLGkub3JpZ2luPVtcIlwiLFwiZW5kIG9mIGludGVycG9sYXRpb25cIixpWzJdXSxcIlRFUk1JTkFUT1JcIj09PShudWxsIT0oZj1sWzFdKT9mWzBdOnZvaWQgMCkmJmwuc3BsaWNlKDEsMSksdi5wdXNoKFtcIlRPS0VOU1wiLGxdKSxtPW0uc2xpY2UobyksaCs9b31yZXR1cm4gbS5zbGljZSgwLG4ubGVuZ3RoKSE9PW4mJnRoaXMuZXJyb3IoXCJtaXNzaW5nIFwiK24se2xlbmd0aDpuLmxlbmd0aH0pLHM9dlswXSxhPXZbdi5sZW5ndGgtMV0sc1syXS5maXJzdF9jb2x1bW4tPW4ubGVuZ3RoLGFbMl0ubGFzdF9jb2x1bW4rPW4ubGVuZ3RoLDA9PT1hWzFdLmxlbmd0aCYmKGFbMl0ubGFzdF9jb2x1bW4tPTEpLHt0b2tlbnM6dixpbmRleDpoK24ubGVuZ3RofX0sZS5wcm90b3R5cGUubWVyZ2VJbnRlcnBvbGF0aW9uVG9rZW5zPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLHMsbyxhLGMsbCxoLHUscCxkLGYsbSxnLHYseTtmb3IoZS5sZW5ndGg+MSYmKHU9dGhpcy50b2tlbihcIlNUUklOR19TVEFSVFwiLFwiKFwiLDAsMCkpLHM9dGhpcy50b2tlbnMubGVuZ3RoLG89YT0wLGw9ZS5sZW5ndGg7bD5hO289KythKXtzd2l0Y2goZz1lW29dLG09Z1swXSx5PWdbMV0sbSl7Y2FzZVwiVE9LRU5TXCI6aWYoMj09PXkubGVuZ3RoKWNvbnRpbnVlO2g9eVswXSx2PXk7YnJlYWs7Y2FzZVwiTkVPU1RSSU5HXCI6aWYoaT1uKGdbMV0sbyksMD09PWkubGVuZ3RoKXtpZigwIT09byljb250aW51ZTtyPXRoaXMudG9rZW5zLmxlbmd0aH0yPT09byYmbnVsbCE9ciYmdGhpcy50b2tlbnMuc3BsaWNlKHIsMiksZ1swXT1cIlNUUklOR1wiLGdbMV09dGhpcy5tYWtlRGVsaW1pdGVkTGl0ZXJhbChpLHQpLGg9Zyx2PVtnXX10aGlzLnRva2Vucy5sZW5ndGg+cyYmKHA9dGhpcy50b2tlbihcIitcIixcIitcIikscFsyXT17Zmlyc3RfbGluZTpoWzJdLmZpcnN0X2xpbmUsZmlyc3RfY29sdW1uOmhbMl0uZmlyc3RfY29sdW1uLGxhc3RfbGluZTpoWzJdLmZpcnN0X2xpbmUsbGFzdF9jb2x1bW46aFsyXS5maXJzdF9jb2x1bW59KSwoZD10aGlzLnRva2VucykucHVzaC5hcHBseShkLHYpfXJldHVybiB1PyhjPWVbZS5sZW5ndGgtMV0sdS5vcmlnaW49W1wiU1RSSU5HXCIsbnVsbCx7Zmlyc3RfbGluZTp1WzJdLmZpcnN0X2xpbmUsZmlyc3RfY29sdW1uOnVbMl0uZmlyc3RfY29sdW1uLGxhc3RfbGluZTpjWzJdLmxhc3RfbGluZSxsYXN0X2NvbHVtbjpjWzJdLmxhc3RfY29sdW1ufV0sZj10aGlzLnRva2VuKFwiU1RSSU5HX0VORFwiLFwiKVwiKSxmWzJdPXtmaXJzdF9saW5lOmNbMl0ubGFzdF9saW5lLGZpcnN0X2NvbHVtbjpjWzJdLmxhc3RfY29sdW1uLGxhc3RfbGluZTpjWzJdLmxhc3RfbGluZSxsYXN0X2NvbHVtbjpjWzJdLmxhc3RfY29sdW1ufSk6dm9pZCAwfSxlLnByb3RvdHlwZS5wYWlyPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLHM7cmV0dXJuIGk9dGhpcy5lbmRzLG49aVtpLmxlbmd0aC0xXSxlIT09KHM9bnVsbCE9bj9uLnRhZzp2b2lkIDApPyhcIk9VVERFTlRcIiE9PXMmJnRoaXMuZXJyb3IoXCJ1bm1hdGNoZWQgXCIrZSkscj10aGlzLmluZGVudHMsdD1yW3IubGVuZ3RoLTFdLHRoaXMub3V0ZGVudFRva2VuKHQsITApLHRoaXMucGFpcihlKSk6dGhpcy5lbmRzLnBvcCgpfSxlLnByb3RvdHlwZS5nZXRMaW5lQW5kQ29sdW1uRnJvbUNodW5rPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLHM7cmV0dXJuIDA9PT1lP1t0aGlzLmNodW5rTGluZSx0aGlzLmNodW5rQ29sdW1uXToocz1lPj10aGlzLmNodW5rLmxlbmd0aD90aGlzLmNodW5rOnRoaXMuY2h1bmsuc2xpY2UoMCwrKGUtMSkrMXx8OWU5KSxpPW50KHMsXCJcXG5cIiksdD10aGlzLmNodW5rQ29sdW1uLGk+MD8ocj1zLnNwbGl0KFwiXFxuXCIpLG49cltyLmxlbmd0aC0xXSx0PW4ubGVuZ3RoKTp0Kz1zLmxlbmd0aCxbdGhpcy5jaHVua0xpbmUraSx0XSl9LGUucHJvdG90eXBlLm1ha2VUb2tlbj1mdW5jdGlvbihlLHQsbixpKXt2YXIgcixzLG8sYSxjO3JldHVybiBudWxsPT1uJiYobj0wKSxudWxsPT1pJiYoaT10Lmxlbmd0aCkscz17fSxvPXRoaXMuZ2V0TGluZUFuZENvbHVtbkZyb21DaHVuayhuKSxzLmZpcnN0X2xpbmU9b1swXSxzLmZpcnN0X2NvbHVtbj1vWzFdLHI9TWF0aC5tYXgoMCxpLTEpLGE9dGhpcy5nZXRMaW5lQW5kQ29sdW1uRnJvbUNodW5rKG4rcikscy5sYXN0X2xpbmU9YVswXSxzLmxhc3RfY29sdW1uPWFbMV0sYz1bZSx0LHNdfSxlLnByb3RvdHlwZS50b2tlbj1mdW5jdGlvbihlLHQsbixpLHIpe3ZhciBzO3JldHVybiBzPXRoaXMubWFrZVRva2VuKGUsdCxuLGkpLHImJihzLm9yaWdpbj1yKSx0aGlzLnRva2Vucy5wdXNoKHMpLHN9LGUucHJvdG90eXBlLnRhZz1mdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIGU9dGhpcy50b2tlbnMsdD1lW2UubGVuZ3RoLTFdLG51bGwhPXQ/dFswXTp2b2lkIDB9LGUucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gZT10aGlzLnRva2Vucyx0PWVbZS5sZW5ndGgtMV0sbnVsbCE9dD90WzFdOnZvaWQgMH0sZS5wcm90b3R5cGUudW5maW5pc2hlZD1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBMLnRlc3QodGhpcy5jaHVuayl8fFwiXFxcXFwiPT09KGU9dGhpcy50YWcoKSl8fFwiLlwiPT09ZXx8XCI/LlwiPT09ZXx8XCI/OjpcIj09PWV8fFwiVU5BUllcIj09PWV8fFwiTUFUSFwiPT09ZXx8XCJVTkFSWV9NQVRIXCI9PT1lfHxcIitcIj09PWV8fFwiLVwiPT09ZXx8XCJZSUVMRFwiPT09ZXx8XCIqKlwiPT09ZXx8XCJTSElGVFwiPT09ZXx8XCJSRUxBVElPTlwiPT09ZXx8XCJDT01QQVJFXCI9PT1lfHxcIkxPR0lDXCI9PT1lfHxcIlRIUk9XXCI9PT1lfHxcIkVYVEVORFNcIj09PWV9LGUucHJvdG90eXBlLmZvcm1hdFN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKFgsXCIkMVwiKX0sZS5wcm90b3R5cGUuZm9ybWF0SGVyZWdleD1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKGcsXCIkMSQyXCIpfSxlLnByb3RvdHlwZS52YWxpZGF0ZUVzY2FwZXM9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIscyxvLGEsYyxsO3JldHVybiBudWxsPT10JiYodD17fSkscz1rLmV4ZWMoZSksIXN8fChzWzBdLG49c1sxXSxhPXNbMl0saT1zWzNdLGw9c1s0XSx0LmlzUmVnZXgmJmEmJlwiMFwiIT09YS5jaGFyQXQoMCkpP3ZvaWQgMDoobz1hP1wib2N0YWwgZXNjYXBlIHNlcXVlbmNlcyBhcmUgbm90IGFsbG93ZWRcIjpcImludmFsaWQgZXNjYXBlIHNlcXVlbmNlXCIscj1cIlxcXFxcIisoYXx8aXx8bCksdGhpcy5lcnJvcihvK1wiIFwiK3Ise29mZnNldDoobnVsbCE9KGM9dC5vZmZzZXRJbkNodW5rKT9jOjApK3MuaW5kZXgrbi5sZW5ndGgsbGVuZ3RoOnIubGVuZ3RofSkpfSxlLnByb3RvdHlwZS5tYWtlRGVsaW1pdGVkTGl0ZXJhbD1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBudWxsPT10JiYodD17fSksXCJcIj09PWUmJlwiL1wiPT09dC5kZWxpbWl0ZXImJihlPVwiKD86KVwiKSxuPVJlZ0V4cChcIihcXFxcXFxcXFxcXFxcXFxcKXwoXFxcXFxcXFwwKD89WzEtN10pKXxcXFxcXFxcXD8oXCIrdC5kZWxpbWl0ZXIrXCIpfFxcXFxcXFxcPyg/OihcXFxcbil8KFxcXFxyKXwoXFxcXHUyMDI4KXwoXFxcXHUyMDI5KSl8KFxcXFxcXFxcLilcIixcImdcIiksZT1lLnJlcGxhY2UobixmdW5jdGlvbihlLG4saSxyLHMsbyxhLGMsbCl7c3dpdGNoKCExKXtjYXNlIW46cmV0dXJuIHQuZG91YmxlP24rbjpuO2Nhc2UhaTpyZXR1cm5cIlxcXFx4MDBcIjtjYXNlIXI6cmV0dXJuXCJcXFxcXCIrcjtjYXNlIXM6cmV0dXJuXCJcXFxcblwiO2Nhc2UhbzpyZXR1cm5cIlxcXFxyXCI7Y2FzZSFhOnJldHVyblwiXFxcXHUyMDI4XCI7Y2FzZSFjOnJldHVyblwiXFxcXHUyMDI5XCI7Y2FzZSFsOnJldHVybiB0LmRvdWJsZT9cIlxcXFxcIitsOmx9fSksXCJcIit0LmRlbGltaXRlcitlK3QuZGVsaW1pdGVyfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixzLG8sYTtyZXR1cm4gbnVsbD09dCYmKHQ9e30pLHI9XCJmaXJzdF9saW5lXCJpbiB0P3Q6KG89dGhpcy5nZXRMaW5lQW5kQ29sdW1uRnJvbUNodW5rKG51bGwhPShzPXQub2Zmc2V0KT9zOjApLGk9b1swXSxuPW9bMV0sbyx7Zmlyc3RfbGluZTppLGZpcnN0X2NvbHVtbjpuLGxhc3RfY29sdW1uOm4rKG51bGwhPShhPXQubGVuZ3RoKT9hOjEpLTF9KSxodChlLHIpfSxlfSgpLEU9W1widHJ1ZVwiLFwiZmFsc2VcIixcIm51bGxcIixcInRoaXNcIixcIm5ld1wiLFwiZGVsZXRlXCIsXCJ0eXBlb2ZcIixcImluXCIsXCJpbnN0YW5jZW9mXCIsXCJyZXR1cm5cIixcInRocm93XCIsXCJicmVha1wiLFwiY29udGludWVcIixcImRlYnVnZ2VyXCIsXCJ5aWVsZFwiLFwiaWZcIixcImVsc2VcIixcInN3aXRjaFwiLFwiZm9yXCIsXCJ3aGlsZVwiLFwiZG9cIixcInRyeVwiLFwiY2F0Y2hcIixcImZpbmFsbHlcIixcImNsYXNzXCIsXCJleHRlbmRzXCIsXCJzdXBlclwiXSxhPVtcInVuZGVmaW5lZFwiLFwidGhlblwiLFwidW5sZXNzXCIsXCJ1bnRpbFwiLFwibG9vcFwiLFwib2ZcIixcImJ5XCIsXCJ3aGVuXCJdLG89e2FuZDpcIiYmXCIsb3I6XCJ8fFwiLGlzOlwiPT1cIixpc250OlwiIT1cIixub3Q6XCIhXCIseWVzOlwidHJ1ZVwiLG5vOlwiZmFsc2VcIixvbjpcInRydWVcIixvZmY6XCJmYWxzZVwifSxzPWZ1bmN0aW9uKCl7dmFyIGU7ZT1bXTtmb3IocnQgaW4gbyllLnB1c2gocnQpO3JldHVybiBlfSgpLGE9YS5jb25jYXQocyksVj1bXCJjYXNlXCIsXCJkZWZhdWx0XCIsXCJmdW5jdGlvblwiLFwidmFyXCIsXCJ2b2lkXCIsXCJ3aXRoXCIsXCJjb25zdFwiLFwibGV0XCIsXCJlbnVtXCIsXCJleHBvcnRcIixcImltcG9ydFwiLFwibmF0aXZlXCIsXCJpbXBsZW1lbnRzXCIsXCJpbnRlcmZhY2VcIixcInBhY2thZ2VcIixcInByaXZhdGVcIixcInByb3RlY3RlZFwiLFwicHVibGljXCIsXCJzdGF0aWNcIl0sSD1bXCJhcmd1bWVudHNcIixcImV2YWxcIixcInlpZWxkKlwiXSxDPUUuY29uY2F0KFYpLmNvbmNhdChIKSxlLlJFU0VSVkVEPVYuY29uY2F0KEUpLmNvbmNhdChhKS5jb25jYXQoSCksZS5TVFJJQ1RfUFJPU0NSSUJFRD1ILHQ9NjUyNzksdj0vXig/IVxcZCkoKD86KD8hXFxzKVskXFx3XFx4N2YtXFx1ZmZmZl0pKykoW15cXG5cXFNdKjooPyE6KSk/LyxJPS9eMGJbMDFdK3xeMG9bMC03XSt8XjB4W1xcZGEtZl0rfF5cXGQqXFwuP1xcZCsoPzplWystXT9cXGQrKT8vaSxfPS9eKD86Wy09XT58Wy0rKlxcLyU8PiZ8XiE/PV09fD4+Pj0/fChbLSs6XSlcXDF8KFsmfDw+KlxcLyVdKVxcMj0/fFxcPyhcXC58OjopfFxcLnsyLDN9KS8sZXQ9L15bXlxcblxcU10rLyxjPS9eIyMjKFteI11bXFxzXFxTXSo/KSg/OiMjI1teXFxuXFxTXSp8IyMjJCl8Xig/OlxccyojKD8hIyNbXiNdKS4qKSsvLHI9L15bLT1dPi8sUj0vXig/OlxcblteXFxuXFxTXSopKy8sVD0vXmBbXlxcXFxgXSooPzpcXFxcLlteXFxcXGBdKikqYC8sWT0vXig/OicnJ3xcIlwiXCJ8J3xcIikvLFc9L14oPzpbXlxcXFwnXXxcXFxcW1xcc1xcU10pKi8scT0vXig/OlteXFxcXFwiI118XFxcXFtcXHNcXFNdfFxcIyg/IVxceykpKi8sZj0vXig/OlteXFxcXCddfFxcXFxbXFxzXFxTXXwnKD8hJycpKSovLHA9L14oPzpbXlxcXFxcIiNdfFxcXFxbXFxzXFxTXXxcIig/IVwiXCIpfFxcIyg/IVxceykpKi8sWD0vKCg/OlxcXFxcXFxcKSspfFxcXFxbXlxcU1xcbl0qXFxuXFxzKi9nLEc9L1xccypcXG5cXHMqL2csZD0vXFxuKyhbXlxcblxcU10qKSg/PVxcUykvZywkPS9eXFwvKD8hXFwvKSgoPzpbXltcXC9cXG5cXFxcXXxcXFxcW15cXG5dfFxcWyg/OlxcXFxbXlxcbl18W15cXF1cXG5cXFxcXSkqXFxdKSopKFxcLyk/LyxqPS9eXFx3Ki8sWj0vXig/IS4qKC4pLipcXDEpW2ltZ3ldKiQvLG09L14oPzpbXlxcXFxcXC8jXXxcXFxcW1xcc1xcU118XFwvKD8hXFwvXFwvKXxcXCMoPyFcXHspKSovLGc9LygoPzpcXFxcXFxcXCkrKXxcXFxcKFxccyl8XFxzKyg/OiMuKik/L2csTT0vXihcXC98XFwvezN9XFxzKikoXFwqKS8sTz0vXlxcLz0/XFxzLyx1PS9cXCpcXC8vLEw9L15cXHMqKD86LHxcXD8/XFwuKD8hWy5cXGRdKXw6OikvLGs9LygoPzpefFteXFxcXF0pKD86XFxcXFxcXFwpKilcXFxcKD86KDBbMC03XXxbMS03XSl8KHgoPyFbXFxkYS1mQS1GXXsyfSkuezAsMn0pfCh1KD8hW1xcZGEtZkEtRl17NH0pLnswLDR9KSkvLEY9L15bXlxcblxcU10qXFxuLyxLPS9cXG5bXlxcblxcU10qJC8sej0vXFxzKyQvLGg9W1wiLT1cIixcIis9XCIsXCIvPVwiLFwiKj1cIixcIiU9XCIsXCJ8fD1cIixcIiYmPVwiLFwiPz1cIixcIjw8PVwiLFwiPj49XCIsXCI+Pj49XCIsXCImPVwiLFwiXj1cIixcInw9XCIsXCIqKj1cIixcIi8vPVwiLFwiJSU9XCJdLEo9W1wiTkVXXCIsXCJUWVBFT0ZcIixcIkRFTEVURVwiLFwiRE9cIl0sUT1bXCIhXCIsXCJ+XCJdLHg9W1wiJiZcIixcInx8XCIsXCImXCIsXCJ8XCIsXCJeXCJdLFU9W1wiPDxcIixcIj4+XCIsXCI+Pj5cIl0sbD1bXCI9PVwiLFwiIT1cIixcIjxcIixcIj5cIixcIjw9XCIsXCI+PVwiXSxEPVtcIipcIixcIi9cIixcIiVcIixcIi8vXCIsXCIlJVwiXSxCPVtcIklOXCIsXCJPRlwiLFwiSU5TVEFOQ0VPRlwiXSxuPVtcIlRSVUVcIixcIkZBTFNFXCJdLGk9W1wiSURFTlRJRklFUlwiLFwiKVwiLFwiXVwiLFwiP1wiLFwiQFwiLFwiVEhJU1wiLFwiU1VQRVJcIl0sYj1pLmNvbmNhdChbXCJOVU1CRVJcIixcIlNUUklOR1wiLFwiU1RSSU5HX0VORFwiLFwiUkVHRVhcIixcIlJFR0VYX0VORFwiLFwiQk9PTFwiLFwiTlVMTFwiLFwiVU5ERUZJTkVEXCIsXCJ9XCIsXCI6OlwiXSksQT1iLmNvbmNhdChbXCIrK1wiLFwiLS1cIl0pLE49W1wiSU5ERU5UXCIsXCJPVVRERU5UXCIsXCJURVJNSU5BVE9SXCJdLHk9W1wiKVwiLFwifVwiLFwiXVwiXX0uY2FsbCh0aGlzKSx0LmV4cG9ydHN9KCkscmVxdWlyZVtcIi4vcGFyc2VyXCJdPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD17ZXhwb3J0czplfSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMueXk9e319dmFyIHQ9ZnVuY3Rpb24oZSx0LG4saSl7Zm9yKG49bnx8e30saT1lLmxlbmd0aDtpLS07bltlW2ldXT10KTtyZXR1cm4gbn0sbj1bMSwyMF0saT1bMSw3NV0scj1bMSw3MV0scz1bMSw3Nl0sbz1bMSw3N10sYT1bMSw3M10sYz1bMSw3NF0sbD1bMSw1MF0saD1bMSw1Ml0sdT1bMSw1M10scD1bMSw1NF0sZD1bMSw1NV0sZj1bMSw0NV0sbT1bMSw0Nl0sZz1bMSwyN10sdj1bMSw2MF0seT1bMSw2MV0sYj1bMSw3MF0saz1bMSw0M10sdz1bMSwyNl0sVD1bMSw1OF0sQz1bMSw1OV0sRT1bMSw1N10sRj1bMSwzOF0sTj1bMSw0NF0sTD1bMSw1Nl0seD1bMSw2NV0sUz1bMSw2Nl0sRD1bMSw2N10sUj1bMSw2OF0sQT1bMSw0Ml0sST1bMSw2NF0sXz1bMSwyOV0sTz1bMSwzMF0sJD1bMSwzMV0saj1bMSwzMl0sTT1bMSwzM10sQj1bMSwzNF0sVj1bMSwzNV0sUD1bMSw3OF0sVT1bMSw2LDI2LDM0LDEwOF0sRz1bMSw4OF0sSD1bMSw4MV0scT1bMSw4MF0sWD1bMSw3OV0sVz1bMSw4Ml0sWT1bMSw4M10sSz1bMSw4NF0sej1bMSw4NV0sSj1bMSw4Nl0sUT1bMSw4N10sWj1bMSw5MV0sZXQ9WzEsNiwyNSwyNiwzNCw1NSw2MCw2Myw3OSw4NCw5Miw5Nyw5OSwxMDgsMTEwLDExMSwxMTIsMTE2LDExNywxMzIsMTM1LDEzNiwxNDEsMTQyLDE0MywxNDQsMTQ1LDE0NiwxNDddLHR0PVsxLDk3XSxudD1bMSw5OF0saXQ9WzEsOTldLHJ0PVsxLDEwMF0sc3Q9WzEsMTAyXSxvdD1bMSwxMDNdLGF0PVsxLDk2XSxjdD1bMiwxMTJdLGx0PVsxLDYsMjUsMjYsMzQsNTUsNjAsNjMsNzIsNzMsNzQsNzUsNzcsNzksODAsODQsOTAsOTEsOTIsOTcsOTksMTA4LDExMCwxMTEsMTEyLDExNiwxMTcsMTMyLDEzNSwxMzYsMTQxLDE0MiwxNDMsMTQ0LDE0NSwxNDYsMTQ3XSxodD1bMiw3OV0sdXQ9WzEsMTA4XSxwdD1bMiw1OF0sZHQ9WzEsMTEyXSxmdD1bMSwxMTddLG10PVsxLDExOF0sZ3Q9WzEsMTIwXSx2dD1bMSw2LDI1LDI2LDM0LDQ2LDU1LDYwLDYzLDcyLDczLDc0LDc1LDc3LDc5LDgwLDg0LDkwLDkxLDkyLDk3LDk5LDEwOCwxMTAsMTExLDExMiwxMTYsMTE3LDEzMiwxMzUsMTM2LDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0N10seXQ9WzIsNzZdLGJ0PVsxLDYsMjYsMzQsNTUsNjAsNjMsNzksODQsOTIsOTcsOTksMTA4LDExMCwxMTEsMTEyLDExNiwxMTcsMTMyLDEzNSwxMzYsMTQxLDE0MiwxNDMsMTQ0LDE0NSwxNDYsMTQ3XSxrdD1bMSwxNTVdLHd0PVsxLDE1N10sVHQ9WzEsMTUyXSxDdD1bMSw2LDI1LDI2LDM0LDQ2LDU1LDYwLDYzLDcyLDczLDc0LDc1LDc3LDc5LDgwLDg0LDg2LDkwLDkxLDkyLDk3LDk5LDEwOCwxMTAsMTExLDExMiwxMTYsMTE3LDEzMiwxMzUsMTM2LDEzOSwxNDAsMTQxLDE0MiwxNDMsMTQ0LDE0NSwxNDYsMTQ3LDE0OF0sRXQ9WzIsOTVdLEZ0PVsxLDYsMjUsMjYsMzQsNDksNTUsNjAsNjMsNzIsNzMsNzQsNzUsNzcsNzksODAsODQsOTAsOTEsOTIsOTcsOTksMTA4LDExMCwxMTEsMTEyLDExNiwxMTcsMTMyLDEzNSwxMzYsMTQxLDE0MiwxNDMsMTQ0LDE0NSwxNDYsMTQ3XSxOdD1bMSw2LDI1LDI2LDM0LDQ2LDQ5LDU1LDYwLDYzLDcyLDczLDc0LDc1LDc3LDc5LDgwLDg0LDg2LDkwLDkxLDkyLDk3LDk5LDEwOCwxMTAsMTExLDExMiwxMTYsMTE3LDEyMywxMjQsMTMyLDEzNSwxMzYsMTM5LDE0MCwxNDEsMTQyLDE0MywxNDQsMTQ1LDE0NiwxNDcsMTQ4XSxMdD1bMSwyMDZdLHh0PVsxLDIwNV0sU3Q9WzEsNiwyNSwyNiwzNCwzOCw1NSw2MCw2Myw3Miw3Myw3NCw3NSw3Nyw3OSw4MCw4NCw5MCw5MSw5Miw5Nyw5OSwxMDgsMTEwLDExMSwxMTIsMTE2LDExNywxMzIsMTM1LDEzNiwxNDEsMTQyLDE0MywxNDQsMTQ1LDE0NiwxNDddLER0PVsyLDU2XSxSdD1bMSwyMTZdLEF0PVs2LDI1LDI2LDU1LDYwXSxJdD1bNiwyNSwyNiw0Niw1NSw2MCw2M10sX3Q9WzEsNiwyNSwyNiwzNCw1NSw2MCw2Myw3OSw4NCw5Miw5Nyw5OSwxMDgsMTEwLDExMSwxMTIsMTE2LDExNywxMzIsMTM1LDEzNiwxNDIsMTQ0LDE0NSwxNDYsMTQ3XSxPdD1bMSw2LDI1LDI2LDM0LDU1LDYwLDYzLDc5LDg0LDkyLDk3LDk5LDEwOCwxMTAsMTExLDExMiwxMTYsMTE3LDEzMl0sJHQ9WzcyLDczLDc0LDc1LDc3LDgwLDkwLDkxXSxqdD1bMSwyMzVdLE10PVsyLDEzM10sQnQ9WzEsNiwyNSwyNiwzNCw0Niw1NSw2MCw2Myw3Miw3Myw3NCw3NSw3Nyw3OSw4MCw4NCw5MCw5MSw5Miw5Nyw5OSwxMDgsMTEwLDExMSwxMTIsMTE2LDExNywxMjMsMTI0LDEzMiwxMzUsMTM2LDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0N10sVnQ9WzEsMjQ0XSxQdD1bNiwyNSwyNiw2MCw5Miw5N10sVXQ9WzEsNiwyNSwyNiwzNCw1NSw2MCw2Myw3OSw4NCw5Miw5Nyw5OSwxMDgsMTE3LDEzMl0sR3Q9WzEsNiwyNSwyNiwzNCw1NSw2MCw2Myw3OSw4NCw5Miw5Nyw5OSwxMDgsMTExLDExNywxMzJdLEh0PVsxMjMsMTI0XSxxdD1bNjAsMTIzLDEyNF0sWHQ9WzEsMjU1XSxXdD1bNiwyNSwyNiw2MCw4NF0sWXQ9WzYsMjUsMjYsNDksNjAsODRdLEt0PVsxLDYsMjUsMjYsMzQsNTUsNjAsNjMsNzksODQsOTIsOTcsOTksMTA4LDExMCwxMTEsMTEyLDExNiwxMTcsMTMyLDEzNSwxMzYsMTQ0LDE0NSwxNDYsMTQ3XSx6dD1bMTEsMjgsMzAsMzIsMzMsMzYsMzcsNDAsNDEsNDIsNDMsNDQsNTEsNTIsNTMsNTcsNTgsNzksODIsODUsODksOTQsOTUsOTYsMTAyLDEwNiwxMDcsMTEwLDExMiwxMTQsMTE2LDEyNSwxMzEsMTMzLDEzNCwxMzUsMTM2LDEzNywxMzksMTQwXSxKdD1bMiwxMjJdLFF0PVs2LDI1LDI2XSxadD1bMiw1N10sZW49WzEsMjY4XSx0bj1bMSwyNjldLG5uPVsxLDYsMjUsMjYsMzQsNTUsNjAsNjMsNzksODQsOTIsOTcsOTksMTA0LDEwNSwxMDgsMTEwLDExMSwxMTIsMTE2LDExNywxMjcsMTI5LDEzMiwxMzUsMTM2LDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0N10scm49WzI2LDEyNywxMjldLHNuPVsxLDYsMjYsMzQsNTUsNjAsNjMsNzksODQsOTIsOTcsOTksMTA4LDExMSwxMTcsMTMyXSxvbj1bMiw3MV0sYW49WzEsMjkxXSxjbj1bMSwyOTJdLGxuPVsxLDYsMjUsMjYsMzQsNTUsNjAsNjMsNzksODQsOTIsOTcsOTksMTA4LDExMCwxMTEsMTEyLDExNiwxMTcsMTI3LDEzMiwxMzUsMTM2LDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0N10saG49WzEsNiwyNSwyNiwzNCw1NSw2MCw2Myw3OSw4NCw5Miw5Nyw5OSwxMDgsMTEwLDExMiwxMTYsMTE3LDEzMl0sdW49WzEsMzAzXSxwbj1bMSwzMDRdLGRuPVs2LDI1LDI2LDYwXSxmbj1bMSw2LDI1LDI2LDM0LDU1LDYwLDYzLDc5LDg0LDkyLDk3LDk5LDEwNCwxMDgsMTEwLDExMSwxMTIsMTE2LDExNywxMzIsMTM1LDEzNiwxNDEsMTQyLDE0MywxNDQsMTQ1LDE0NiwxNDddLG1uPVsyNSw2MF0sZ249e3RyYWNlOmZ1bmN0aW9uKCl7fSx5eTp7fSxzeW1ib2xzXzp7ZXJyb3I6MixSb290OjMsQm9keTo0LExpbmU6NSxURVJNSU5BVE9SOjYsRXhwcmVzc2lvbjo3LFN0YXRlbWVudDo4LFJldHVybjo5LENvbW1lbnQ6MTAsU1RBVEVNRU5UOjExLFZhbHVlOjEyLEludm9jYXRpb246MTMsQ29kZToxNCxPcGVyYXRpb246MTUsQXNzaWduOjE2LElmOjE3LFRyeToxOCxXaGlsZToxOSxGb3I6MjAsU3dpdGNoOjIxLENsYXNzOjIyLFRocm93OjIzLEJsb2NrOjI0LElOREVOVDoyNSxPVVRERU5UOjI2LElkZW50aWZpZXI6MjcsSURFTlRJRklFUjoyOCxBbHBoYU51bWVyaWM6MjksTlVNQkVSOjMwLFN0cmluZzozMSxTVFJJTkc6MzIsU1RSSU5HX1NUQVJUOjMzLFNUUklOR19FTkQ6MzQsUmVnZXg6MzUsUkVHRVg6MzYsUkVHRVhfU1RBUlQ6MzcsUkVHRVhfRU5EOjM4LExpdGVyYWw6MzksSlM6NDAsREVCVUdHRVI6NDEsVU5ERUZJTkVEOjQyLE5VTEw6NDMsQk9PTDo0NCxBc3NpZ25hYmxlOjQ1LFwiPVwiOjQ2LEFzc2lnbk9iajo0NyxPYmpBc3NpZ25hYmxlOjQ4LFwiOlwiOjQ5LFRoaXNQcm9wZXJ0eTo1MCxSRVRVUk46NTEsSEVSRUNPTU1FTlQ6NTIsUEFSQU1fU1RBUlQ6NTMsUGFyYW1MaXN0OjU0LFBBUkFNX0VORDo1NSxGdW5jR2x5cGg6NTYsXCItPlwiOjU3LFwiPT5cIjo1OCxPcHRDb21tYTo1OSxcIixcIjo2MCxQYXJhbTo2MSxQYXJhbVZhcjo2MixcIi4uLlwiOjYzLEFycmF5OjY0LE9iamVjdDo2NSxTcGxhdDo2NixTaW1wbGVBc3NpZ25hYmxlOjY3LEFjY2Vzc29yOjY4LFBhcmVudGhldGljYWw6NjksUmFuZ2U6NzAsVGhpczo3MSxcIi5cIjo3MixcIj8uXCI6NzMsXCI6OlwiOjc0LFwiPzo6XCI6NzUsSW5kZXg6NzYsSU5ERVhfU1RBUlQ6NzcsSW5kZXhWYWx1ZTo3OCxJTkRFWF9FTkQ6NzksSU5ERVhfU09BSzo4MCxTbGljZTo4MSxcIntcIjo4MixBc3NpZ25MaXN0OjgzLFwifVwiOjg0LENMQVNTOjg1LEVYVEVORFM6ODYsT3B0RnVuY0V4aXN0Ojg3LEFyZ3VtZW50czo4OCxTVVBFUjo4OSxGVU5DX0VYSVNUOjkwLENBTExfU1RBUlQ6OTEsQ0FMTF9FTkQ6OTIsQXJnTGlzdDo5MyxUSElTOjk0LFwiQFwiOjk1LFwiW1wiOjk2LFwiXVwiOjk3LFJhbmdlRG90czo5OCxcIi4uXCI6OTksQXJnOjEwMCxTaW1wbGVBcmdzOjEwMSxUUlk6MTAyLENhdGNoOjEwMyxGSU5BTExZOjEwNCxDQVRDSDoxMDUsVEhST1c6MTA2LFwiKFwiOjEwNyxcIilcIjoxMDgsV2hpbGVTb3VyY2U6MTA5LFdISUxFOjExMCxXSEVOOjExMSxVTlRJTDoxMTIsTG9vcDoxMTMsTE9PUDoxMTQsRm9yQm9keToxMTUsRk9SOjExNixCWToxMTcsRm9yU3RhcnQ6MTE4LEZvclNvdXJjZToxMTksRm9yVmFyaWFibGVzOjEyMCxPV046MTIxLEZvclZhbHVlOjEyMixGT1JJTjoxMjMsRk9ST0Y6MTI0LFNXSVRDSDoxMjUsV2hlbnM6MTI2LEVMU0U6MTI3LFdoZW46MTI4LExFQURJTkdfV0hFTjoxMjksSWZCbG9jazoxMzAsSUY6MTMxLFBPU1RfSUY6MTMyLFVOQVJZOjEzMyxVTkFSWV9NQVRIOjEzNCxcIi1cIjoxMzUsXCIrXCI6MTM2LFlJRUxEOjEzNyxGUk9NOjEzOCxcIi0tXCI6MTM5LFwiKytcIjoxNDAsXCI/XCI6MTQxLE1BVEg6MTQyLFwiKipcIjoxNDMsU0hJRlQ6MTQ0LENPTVBBUkU6MTQ1LExPR0lDOjE0NixSRUxBVElPTjoxNDcsQ09NUE9VTkRfQVNTSUdOOjE0OCwkYWNjZXB0OjAsJGVuZDoxfSx0ZXJtaW5hbHNfOnsyOlwiZXJyb3JcIiw2OlwiVEVSTUlOQVRPUlwiLDExOlwiU1RBVEVNRU5UXCIsMjU6XCJJTkRFTlRcIiwyNjpcIk9VVERFTlRcIiwyODpcIklERU5USUZJRVJcIiwzMDpcIk5VTUJFUlwiLDMyOlwiU1RSSU5HXCIsMzM6XCJTVFJJTkdfU1RBUlRcIiwzNDpcIlNUUklOR19FTkRcIiwzNjpcIlJFR0VYXCIsMzc6XCJSRUdFWF9TVEFSVFwiLDM4OlwiUkVHRVhfRU5EXCIsNDA6XCJKU1wiLDQxOlwiREVCVUdHRVJcIiw0MjpcIlVOREVGSU5FRFwiLDQzOlwiTlVMTFwiLDQ0OlwiQk9PTFwiLDQ2OlwiPVwiLDQ5OlwiOlwiLDUxOlwiUkVUVVJOXCIsNTI6XCJIRVJFQ09NTUVOVFwiLDUzOlwiUEFSQU1fU1RBUlRcIiw1NTpcIlBBUkFNX0VORFwiLDU3OlwiLT5cIiw1ODpcIj0+XCIsNjA6XCIsXCIsNjM6XCIuLi5cIiw3MjpcIi5cIiw3MzpcIj8uXCIsNzQ6XCI6OlwiLDc1OlwiPzo6XCIsNzc6XCJJTkRFWF9TVEFSVFwiLDc5OlwiSU5ERVhfRU5EXCIsODA6XCJJTkRFWF9TT0FLXCIsODI6XCJ7XCIsODQ6XCJ9XCIsODU6XCJDTEFTU1wiLDg2OlwiRVhURU5EU1wiLDg5OlwiU1VQRVJcIiw5MDpcIkZVTkNfRVhJU1RcIiw5MTpcIkNBTExfU1RBUlRcIiw5MjpcIkNBTExfRU5EXCIsOTQ6XCJUSElTXCIsOTU6XCJAXCIsOTY6XCJbXCIsOTc6XCJdXCIsOTk6XCIuLlwiLDEwMjpcIlRSWVwiLDEwNDpcIkZJTkFMTFlcIiwxMDU6XCJDQVRDSFwiLDEwNjpcIlRIUk9XXCIsMTA3OlwiKFwiLDEwODpcIilcIiwxMTA6XCJXSElMRVwiLDExMTpcIldIRU5cIiwxMTI6XCJVTlRJTFwiLDExNDpcIkxPT1BcIiwxMTY6XCJGT1JcIiwxMTc6XCJCWVwiLDEyMTpcIk9XTlwiLDEyMzpcIkZPUklOXCIsMTI0OlwiRk9ST0ZcIiwxMjU6XCJTV0lUQ0hcIiwxMjc6XCJFTFNFXCIsMTI5OlwiTEVBRElOR19XSEVOXCIsMTMxOlwiSUZcIiwxMzI6XCJQT1NUX0lGXCIsMTMzOlwiVU5BUllcIiwxMzQ6XCJVTkFSWV9NQVRIXCIsMTM1OlwiLVwiLDEzNjpcIitcIiwxMzc6XCJZSUVMRFwiLDEzODpcIkZST01cIiwxMzk6XCItLVwiLDE0MDpcIisrXCIsMTQxOlwiP1wiLDE0MjpcIk1BVEhcIiwxNDM6XCIqKlwiLDE0NDpcIlNISUZUXCIsMTQ1OlwiQ09NUEFSRVwiLDE0NjpcIkxPR0lDXCIsMTQ3OlwiUkVMQVRJT05cIiwxNDg6XCJDT01QT1VORF9BU1NJR05cIn0scHJvZHVjdGlvbnNfOlswLFszLDBdLFszLDFdLFs0LDFdLFs0LDNdLFs0LDJdLFs1LDFdLFs1LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFs3LDFdLFsyNCwyXSxbMjQsM10sWzI3LDFdLFsyOSwxXSxbMjksMV0sWzMxLDFdLFszMSwzXSxbMzUsMV0sWzM1LDNdLFszOSwxXSxbMzksMV0sWzM5LDFdLFszOSwxXSxbMzksMV0sWzM5LDFdLFszOSwxXSxbMTYsM10sWzE2LDRdLFsxNiw1XSxbNDcsMV0sWzQ3LDNdLFs0Nyw1XSxbNDcsMV0sWzQ4LDFdLFs0OCwxXSxbNDgsMV0sWzksMl0sWzksMV0sWzEwLDFdLFsxNCw1XSxbMTQsMl0sWzU2LDFdLFs1NiwxXSxbNTksMF0sWzU5LDFdLFs1NCwwXSxbNTQsMV0sWzU0LDNdLFs1NCw0XSxbNTQsNl0sWzYxLDFdLFs2MSwyXSxbNjEsM10sWzYxLDFdLFs2MiwxXSxbNjIsMV0sWzYyLDFdLFs2MiwxXSxbNjYsMl0sWzY3LDFdLFs2NywyXSxbNjcsMl0sWzY3LDFdLFs0NSwxXSxbNDUsMV0sWzQ1LDFdLFsxMiwxXSxbMTIsMV0sWzEyLDFdLFsxMiwxXSxbMTIsMV0sWzY4LDJdLFs2OCwyXSxbNjgsMl0sWzY4LDJdLFs2OCwxXSxbNjgsMV0sWzc2LDNdLFs3NiwyXSxbNzgsMV0sWzc4LDFdLFs2NSw0XSxbODMsMF0sWzgzLDFdLFs4MywzXSxbODMsNF0sWzgzLDZdLFsyMiwxXSxbMjIsMl0sWzIyLDNdLFsyMiw0XSxbMjIsMl0sWzIyLDNdLFsyMiw0XSxbMjIsNV0sWzEzLDNdLFsxMywzXSxbMTMsMV0sWzEzLDJdLFs4NywwXSxbODcsMV0sWzg4LDJdLFs4OCw0XSxbNzEsMV0sWzcxLDFdLFs1MCwyXSxbNjQsMl0sWzY0LDRdLFs5OCwxXSxbOTgsMV0sWzcwLDVdLFs4MSwzXSxbODEsMl0sWzgxLDJdLFs4MSwxXSxbOTMsMV0sWzkzLDNdLFs5Myw0XSxbOTMsNF0sWzkzLDZdLFsxMDAsMV0sWzEwMCwxXSxbMTAwLDFdLFsxMDEsMV0sWzEwMSwzXSxbMTgsMl0sWzE4LDNdLFsxOCw0XSxbMTgsNV0sWzEwMywzXSxbMTAzLDNdLFsxMDMsMl0sWzIzLDJdLFs2OSwzXSxbNjksNV0sWzEwOSwyXSxbMTA5LDRdLFsxMDksMl0sWzEwOSw0XSxbMTksMl0sWzE5LDJdLFsxOSwyXSxbMTksMV0sWzExMywyXSxbMTEzLDJdLFsyMCwyXSxbMjAsMl0sWzIwLDJdLFsxMTUsMl0sWzExNSw0XSxbMTE1LDJdLFsxMTgsMl0sWzExOCwzXSxbMTIyLDFdLFsxMjIsMV0sWzEyMiwxXSxbMTIyLDFdLFsxMjAsMV0sWzEyMCwzXSxbMTE5LDJdLFsxMTksMl0sWzExOSw0XSxbMTE5LDRdLFsxMTksNF0sWzExOSw2XSxbMTE5LDZdLFsyMSw1XSxbMjEsN10sWzIxLDRdLFsyMSw2XSxbMTI2LDFdLFsxMjYsMl0sWzEyOCwzXSxbMTI4LDRdLFsxMzAsM10sWzEzMCw1XSxbMTcsMV0sWzE3LDNdLFsxNywzXSxbMTcsM10sWzE1LDJdLFsxNSwyXSxbMTUsMl0sWzE1LDJdLFsxNSwyXSxbMTUsMl0sWzE1LDNdLFsxNSwyXSxbMTUsMl0sWzE1LDJdLFsxNSwyXSxbMTUsMl0sWzE1LDNdLFsxNSwzXSxbMTUsM10sWzE1LDNdLFsxNSwzXSxbMTUsM10sWzE1LDNdLFsxNSwzXSxbMTUsM10sWzE1LDVdLFsxNSw0XSxbMTUsM11dLHBlcmZvcm1BY3Rpb246ZnVuY3Rpb24oZSx0LG4saSxyLHMsbyl7dmFyIGE9cy5sZW5ndGgtMTtcbnN3aXRjaChyKXtjYXNlIDE6cmV0dXJuIHRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkobmV3IGkuQmxvY2spO2Nhc2UgMjpyZXR1cm4gdGhpcy4kPXNbYV07Y2FzZSAzOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkoaS5CbG9jay53cmFwKFtzW2FdXSkpO2JyZWFrO2Nhc2UgNDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMl0sb1thXSkoc1thLTJdLnB1c2goc1thXSkpO2JyZWFrO2Nhc2UgNTp0aGlzLiQ9c1thLTFdO2JyZWFrO2Nhc2UgNjpjYXNlIDc6Y2FzZSA4OmNhc2UgOTpjYXNlIDExOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAxNjpjYXNlIDE3OmNhc2UgMTg6Y2FzZSAxOTpjYXNlIDIwOmNhc2UgMjE6Y2FzZSAyMjpjYXNlIDI3OmNhc2UgMzI6Y2FzZSAzNDpjYXNlIDQ1OmNhc2UgNDY6Y2FzZSA0NzpjYXNlIDQ4OmNhc2UgNTY6Y2FzZSA1NzpjYXNlIDY3OmNhc2UgNjg6Y2FzZSA2OTpjYXNlIDcwOmNhc2UgNzU6Y2FzZSA3NjpjYXNlIDc5OmNhc2UgODM6Y2FzZSA4OTpjYXNlIDEzMzpjYXNlIDEzNDpjYXNlIDEzNjpjYXNlIDE2NjpjYXNlIDE2NzpjYXNlIDE4MzpjYXNlIDE4OTp0aGlzLiQ9c1thXTticmVhaztjYXNlIDEwOmNhc2UgMjU6Y2FzZSAyNjpjYXNlIDI4OmNhc2UgMzA6Y2FzZSAzMzpjYXNlIDM1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkobmV3IGkuTGl0ZXJhbChzW2FdKSk7YnJlYWs7Y2FzZSAyMzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuQmxvY2spO2JyZWFrO2Nhc2UgMjQ6Y2FzZSAzMTpjYXNlIDkwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShzW2EtMV0pO2JyZWFrO2Nhc2UgMjk6Y2FzZSAxNDY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKG5ldyBpLlBhcmVucyhzW2EtMV0pKTticmVhaztjYXNlIDM2OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkobmV3IGkuVW5kZWZpbmVkKTticmVhaztjYXNlIDM3OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkobmV3IGkuTnVsbCk7YnJlYWs7Y2FzZSAzODp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2FdLG9bYV0pKG5ldyBpLkJvb2woc1thXSkpO2JyZWFrO2Nhc2UgMzk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKG5ldyBpLkFzc2lnbihzW2EtMl0sc1thXSkpO2JyZWFrO2Nhc2UgNDA6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTNdLG9bYV0pKG5ldyBpLkFzc2lnbihzW2EtM10sc1thXSkpO2JyZWFrO2Nhc2UgNDE6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTRdLG9bYV0pKG5ldyBpLkFzc2lnbihzW2EtNF0sc1thLTFdKSk7YnJlYWs7Y2FzZSA0MjpjYXNlIDcyOmNhc2UgNzc6Y2FzZSA3ODpjYXNlIDgwOmNhc2UgODE6Y2FzZSA4MjpjYXNlIDE2ODpjYXNlIDE2OTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2FdLG9bYV0pKG5ldyBpLlZhbHVlKHNbYV0pKTticmVhaztjYXNlIDQzOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShuZXcgaS5Bc3NpZ24oaS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMl0pKG5ldyBpLlZhbHVlKHNbYS0yXSkpLHNbYV0sXCJvYmplY3RcIikpO2JyZWFrO2Nhc2UgNDQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTRdLG9bYV0pKG5ldyBpLkFzc2lnbihpLmFkZExvY2F0aW9uRGF0YUZuKG9bYS00XSkobmV3IGkuVmFsdWUoc1thLTRdKSksc1thLTFdLFwib2JqZWN0XCIpKTticmVhaztjYXNlIDQ5OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShuZXcgaS5SZXR1cm4oc1thXSkpO2JyZWFrO2Nhc2UgNTA6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKShuZXcgaS5SZXR1cm4pO2JyZWFrO2Nhc2UgNTE6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKShuZXcgaS5Db21tZW50KHNbYV0pKTticmVhaztjYXNlIDUyOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS00XSxvW2FdKShuZXcgaS5Db2RlKHNbYS0zXSxzW2FdLHNbYS0xXSkpO2JyZWFrO2Nhc2UgNTM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLkNvZGUoW10sc1thXSxzW2EtMV0pKTticmVhaztjYXNlIDU0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkoXCJmdW5jXCIpO2JyZWFrO2Nhc2UgNTU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKShcImJvdW5kZnVuY1wiKTticmVhaztjYXNlIDU4OmNhc2UgOTU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKShbXSk7YnJlYWs7Y2FzZSA1OTpjYXNlIDk2OmNhc2UgMTI4OmNhc2UgMTcwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkoW3NbYV1dKTticmVhaztjYXNlIDYwOmNhc2UgOTc6Y2FzZSAxMjk6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKHNbYS0yXS5jb25jYXQoc1thXSkpO2JyZWFrO2Nhc2UgNjE6Y2FzZSA5ODpjYXNlIDEzMDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtM10sb1thXSkoc1thLTNdLmNvbmNhdChzW2FdKSk7YnJlYWs7Y2FzZSA2MjpjYXNlIDk5OmNhc2UgMTMyOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS01XSxvW2FdKShzW2EtNV0uY29uY2F0KHNbYS0yXSkpO2JyZWFrO2Nhc2UgNjM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKShuZXcgaS5QYXJhbShzW2FdKSk7YnJlYWs7Y2FzZSA2NDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuUGFyYW0oc1thLTFdLG51bGwsITApKTticmVhaztjYXNlIDY1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShuZXcgaS5QYXJhbShzW2EtMl0sc1thXSkpO2JyZWFrO2Nhc2UgNjY6Y2FzZSAxMzU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKShuZXcgaS5FeHBhbnNpb24pO2JyZWFrO2Nhc2UgNzE6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLlNwbGF0KHNbYS0xXSkpO2JyZWFrO2Nhc2UgNzM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKHNbYS0xXS5hZGQoc1thXSkpO2JyZWFrO2Nhc2UgNzQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLlZhbHVlKHNbYS0xXSxbXS5jb25jYXQoc1thXSkpKTticmVhaztjYXNlIDg0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShuZXcgaS5BY2Nlc3Moc1thXSkpO2JyZWFrO2Nhc2UgODU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLkFjY2VzcyhzW2FdLFwic29ha1wiKSk7YnJlYWs7Y2FzZSA4Njp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkoW2kuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdKShuZXcgaS5BY2Nlc3MobmV3IGkuTGl0ZXJhbChcInByb3RvdHlwZVwiKSkpLGkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSkobmV3IGkuQWNjZXNzKHNbYV0pKV0pO2JyZWFrO2Nhc2UgODc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKFtpLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSkobmV3IGkuQWNjZXNzKG5ldyBpLkxpdGVyYWwoXCJwcm90b3R5cGVcIiksXCJzb2FrXCIpKSxpLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0pKG5ldyBpLkFjY2VzcyhzW2FdKSldKTticmVhaztjYXNlIDg4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkobmV3IGkuQWNjZXNzKG5ldyBpLkxpdGVyYWwoXCJwcm90b3R5cGVcIikpKTticmVhaztjYXNlIDkxOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShpLmV4dGVuZChzW2FdLHtzb2FrOiEwfSkpO2JyZWFrO2Nhc2UgOTI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKShuZXcgaS5JbmRleChzW2FdKSk7YnJlYWs7Y2FzZSA5Mzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2FdLG9bYV0pKG5ldyBpLlNsaWNlKHNbYV0pKTticmVhaztjYXNlIDk0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0zXSxvW2FdKShuZXcgaS5PYmooc1thLTJdLHNbYS0zXS5nZW5lcmF0ZWQpKTticmVhaztjYXNlIDEwMDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2FdLG9bYV0pKG5ldyBpLkNsYXNzKTticmVhaztjYXNlIDEwMTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuQ2xhc3MobnVsbCxudWxsLHNbYV0pKTticmVhaztjYXNlIDEwMjp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMl0sb1thXSkobmV3IGkuQ2xhc3MobnVsbCxzW2FdKSk7YnJlYWs7Y2FzZSAxMDM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTNdLG9bYV0pKG5ldyBpLkNsYXNzKG51bGwsc1thLTFdLHNbYV0pKTticmVhaztjYXNlIDEwNDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuQ2xhc3Moc1thXSkpO2JyZWFrO2Nhc2UgMTA1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShuZXcgaS5DbGFzcyhzW2EtMV0sbnVsbCxzW2FdKSk7YnJlYWs7Y2FzZSAxMDY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTNdLG9bYV0pKG5ldyBpLkNsYXNzKHNbYS0yXSxzW2FdKSk7YnJlYWs7Y2FzZSAxMDc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTRdLG9bYV0pKG5ldyBpLkNsYXNzKHNbYS0zXSxzW2EtMV0sc1thXSkpO2JyZWFrO2Nhc2UgMTA4OmNhc2UgMTA5OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShuZXcgaS5DYWxsKHNbYS0yXSxzW2FdLHNbYS0xXSkpO2JyZWFrO2Nhc2UgMTEwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkobmV3IGkuQ2FsbChcInN1cGVyXCIsW25ldyBpLlNwbGF0KG5ldyBpLkxpdGVyYWwoXCJhcmd1bWVudHNcIikpXSkpO2JyZWFrO2Nhc2UgMTExOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShuZXcgaS5DYWxsKFwic3VwZXJcIixzW2FdKSk7YnJlYWs7Y2FzZSAxMTI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKSghMSk7YnJlYWs7Y2FzZSAxMTM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKSghMCk7YnJlYWs7Y2FzZSAxMTQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKFtdKTticmVhaztjYXNlIDExNTpjYXNlIDEzMTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtM10sb1thXSkoc1thLTJdKTticmVhaztjYXNlIDExNjpjYXNlIDExNzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2FdLG9bYV0pKG5ldyBpLlZhbHVlKG5ldyBpLkxpdGVyYWwoXCJ0aGlzXCIpKSk7YnJlYWs7Y2FzZSAxMTg6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLlZhbHVlKGkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdKShuZXcgaS5MaXRlcmFsKFwidGhpc1wiKSksW2kuYWRkTG9jYXRpb25EYXRhRm4ob1thXSkobmV3IGkuQWNjZXNzKHNbYV0pKV0sXCJ0aGlzXCIpKTticmVhaztjYXNlIDExOTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuQXJyKFtdKSk7YnJlYWs7Y2FzZSAxMjA6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTNdLG9bYV0pKG5ldyBpLkFycihzW2EtMl0pKTticmVhaztjYXNlIDEyMTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2FdLG9bYV0pKFwiaW5jbHVzaXZlXCIpO2JyZWFrO2Nhc2UgMTIyOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYV0sb1thXSkoXCJleGNsdXNpdmVcIik7YnJlYWs7Y2FzZSAxMjM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTRdLG9bYV0pKG5ldyBpLlJhbmdlKHNbYS0zXSxzW2EtMV0sc1thLTJdKSk7YnJlYWs7Y2FzZSAxMjQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKG5ldyBpLlJhbmdlKHNbYS0yXSxzW2FdLHNbYS0xXSkpO2JyZWFrO2Nhc2UgMTI1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShuZXcgaS5SYW5nZShzW2EtMV0sbnVsbCxzW2FdKSk7YnJlYWs7Y2FzZSAxMjY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLlJhbmdlKG51bGwsc1thXSxzW2EtMV0pKTticmVhaztjYXNlIDEyNzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2FdLG9bYV0pKG5ldyBpLlJhbmdlKG51bGwsbnVsbCxzW2FdKSk7YnJlYWs7Y2FzZSAxMzc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKFtdLmNvbmNhdChzW2EtMl0sc1thXSkpO2JyZWFrO2Nhc2UgMTM4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShuZXcgaS5Ucnkoc1thXSkpO2JyZWFrO2Nhc2UgMTM5OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShuZXcgaS5Ucnkoc1thLTFdLHNbYV1bMF0sc1thXVsxXSkpO2JyZWFrO2Nhc2UgMTQwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0zXSxvW2FdKShuZXcgaS5Ucnkoc1thLTJdLG51bGwsbnVsbCxzW2FdKSk7YnJlYWs7Y2FzZSAxNDE6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTRdLG9bYV0pKG5ldyBpLlRyeShzW2EtM10sc1thLTJdWzBdLHNbYS0yXVsxXSxzW2FdKSk7YnJlYWs7Y2FzZSAxNDI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKFtzW2EtMV0sc1thXV0pO2JyZWFrO2Nhc2UgMTQzOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShbaS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0pKG5ldyBpLlZhbHVlKHNbYS0xXSkpLHNbYV1dKTticmVhaztjYXNlIDE0NDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkoW251bGwsc1thXV0pO2JyZWFrO2Nhc2UgMTQ1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShuZXcgaS5UaHJvdyhzW2FdKSk7YnJlYWs7Y2FzZSAxNDc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTRdLG9bYV0pKG5ldyBpLlBhcmVucyhzW2EtMl0pKTticmVhaztjYXNlIDE0ODp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuV2hpbGUoc1thXSkpO2JyZWFrO2Nhc2UgMTQ5OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0zXSxvW2FdKShuZXcgaS5XaGlsZShzW2EtMl0se2d1YXJkOnNbYV19KSk7YnJlYWs7Y2FzZSAxNTA6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLldoaWxlKHNbYV0se2ludmVydDohMH0pKTticmVhaztjYXNlIDE1MTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtM10sb1thXSkobmV3IGkuV2hpbGUoc1thLTJdLHtpbnZlcnQ6ITAsZ3VhcmQ6c1thXX0pKTticmVhaztjYXNlIDE1Mjp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkoc1thLTFdLmFkZEJvZHkoc1thXSkpO2JyZWFrO2Nhc2UgMTUzOmNhc2UgMTU0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShzW2FdLmFkZEJvZHkoaS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0pKGkuQmxvY2sud3JhcChbc1thLTFdXSkpKSk7YnJlYWs7Y2FzZSAxNTU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSxvW2FdKShzW2FdKTticmVhaztjYXNlIDE1Njp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuV2hpbGUoaS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0pKG5ldyBpLkxpdGVyYWwoXCJ0cnVlXCIpKSkuYWRkQm9keShzW2FdKSk7YnJlYWs7Y2FzZSAxNTc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLldoaWxlKGkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdKShuZXcgaS5MaXRlcmFsKFwidHJ1ZVwiKSkpLmFkZEJvZHkoaS5hZGRMb2NhdGlvbkRhdGFGbihvW2FdKShpLkJsb2NrLndyYXAoW3NbYV1dKSkpKTticmVhaztjYXNlIDE1ODpjYXNlIDE1OTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuRm9yKHNbYS0xXSxzW2FdKSk7YnJlYWs7Y2FzZSAxNjA6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLkZvcihzW2FdLHNbYS0xXSkpO2JyZWFrO2Nhc2UgMTYxOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKSh7c291cmNlOmkuYWRkTG9jYXRpb25EYXRhRm4ob1thXSkobmV3IGkuVmFsdWUoc1thXSkpfSk7YnJlYWs7Y2FzZSAxNjI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTNdLG9bYV0pKHtzb3VyY2U6aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMl0pKG5ldyBpLlZhbHVlKHNbYS0yXSkpLHN0ZXA6c1thXX0pO2JyZWFrO2Nhc2UgMTYzOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShmdW5jdGlvbigpe3JldHVybiBzW2FdLm93bj1zW2EtMV0ub3duLHNbYV0ubmFtZT1zW2EtMV1bMF0sc1thXS5pbmRleD1zW2EtMV1bMV0sc1thXX0oKSk7YnJlYWs7Y2FzZSAxNjQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKHNbYV0pO2JyZWFrO2Nhc2UgMTY1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShmdW5jdGlvbigpe3JldHVybiBzW2FdLm93bj0hMCxzW2FdfSgpKTticmVhaztjYXNlIDE3MTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMl0sb1thXSkoW3NbYS0yXSxzW2FdXSk7YnJlYWs7Y2FzZSAxNzI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKHtzb3VyY2U6c1thXX0pO2JyZWFrO2Nhc2UgMTczOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKSh7c291cmNlOnNbYV0sb2JqZWN0OiEwfSk7YnJlYWs7Y2FzZSAxNzQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTNdLG9bYV0pKHtzb3VyY2U6c1thLTJdLGd1YXJkOnNbYV19KTticmVhaztjYXNlIDE3NTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtM10sb1thXSkoe3NvdXJjZTpzW2EtMl0sZ3VhcmQ6c1thXSxvYmplY3Q6ITB9KTticmVhaztjYXNlIDE3Njp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtM10sb1thXSkoe3NvdXJjZTpzW2EtMl0sc3RlcDpzW2FdfSk7YnJlYWs7Y2FzZSAxNzc6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTVdLG9bYV0pKHtzb3VyY2U6c1thLTRdLGd1YXJkOnNbYS0yXSxzdGVwOnNbYV19KTticmVhaztjYXNlIDE3ODp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtNV0sb1thXSkoe3NvdXJjZTpzW2EtNF0sc3RlcDpzW2EtMl0sZ3VhcmQ6c1thXX0pO2JyZWFrO2Nhc2UgMTc5OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS00XSxvW2FdKShuZXcgaS5Td2l0Y2goc1thLTNdLHNbYS0xXSkpO2JyZWFrO2Nhc2UgMTgwOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS02XSxvW2FdKShuZXcgaS5Td2l0Y2goc1thLTVdLHNbYS0zXSxzW2EtMV0pKTticmVhaztjYXNlIDE4MTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtM10sb1thXSkobmV3IGkuU3dpdGNoKG51bGwsc1thLTFdKSk7YnJlYWs7Y2FzZSAxODI6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTVdLG9bYV0pKG5ldyBpLlN3aXRjaChudWxsLHNbYS0zXSxzW2EtMV0pKTticmVhaztjYXNlIDE4NDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkoc1thLTFdLmNvbmNhdChzW2FdKSk7YnJlYWs7Y2FzZSAxODU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKFtbc1thLTFdLHNbYV1dXSk7YnJlYWs7Y2FzZSAxODY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTNdLG9bYV0pKFtbc1thLTJdLHNbYS0xXV1dKTticmVhaztjYXNlIDE4Nzp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMl0sb1thXSkobmV3IGkuSWYoc1thLTFdLHNbYV0se3R5cGU6c1thLTJdfSkpO2JyZWFrO2Nhc2UgMTg4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS00XSxvW2FdKShzW2EtNF0uYWRkRWxzZShpLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShuZXcgaS5JZihzW2EtMV0sc1thXSx7dHlwZTpzW2EtMl19KSkpKTticmVhaztjYXNlIDE5MDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMl0sb1thXSkoc1thLTJdLmFkZEVsc2Uoc1thXSkpO2JyZWFrO2Nhc2UgMTkxOmNhc2UgMTkyOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShuZXcgaS5JZihzW2FdLGkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdKShpLkJsb2NrLndyYXAoW3NbYS0yXV0pKSx7dHlwZTpzW2EtMV0sc3RhdGVtZW50OiEwfSkpO2JyZWFrO2Nhc2UgMTkzOmNhc2UgMTk0OmNhc2UgMTk3OmNhc2UgMTk4OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShuZXcgaS5PcChzW2EtMV0sc1thXSkpO2JyZWFrO2Nhc2UgMTk1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShuZXcgaS5PcChcIi1cIixzW2FdKSk7YnJlYWs7Y2FzZSAxOTY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLk9wKFwiK1wiLHNbYV0pKTticmVhaztjYXNlIDE5OTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMl0sb1thXSkobmV3IGkuT3Aoc1thLTJdLmNvbmNhdChzW2EtMV0pLHNbYV0pKTticmVhaztjYXNlIDIwMDp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuT3AoXCItLVwiLHNbYV0pKTticmVhaztjYXNlIDIwMTp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuT3AoXCIrK1wiLHNbYV0pKTticmVhaztjYXNlIDIwMjp0aGlzLiQ9aS5hZGRMb2NhdGlvbkRhdGFGbihvW2EtMV0sb1thXSkobmV3IGkuT3AoXCItLVwiLHNbYS0xXSxudWxsLCEwKSk7YnJlYWs7Y2FzZSAyMDM6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTFdLG9bYV0pKG5ldyBpLk9wKFwiKytcIixzW2EtMV0sbnVsbCwhMCkpO2JyZWFrO2Nhc2UgMjA0OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0xXSxvW2FdKShuZXcgaS5FeGlzdGVuY2Uoc1thLTFdKSk7YnJlYWs7Y2FzZSAyMDU6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKG5ldyBpLk9wKFwiK1wiLHNbYS0yXSxzW2FdKSk7YnJlYWs7Y2FzZSAyMDY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKG5ldyBpLk9wKFwiLVwiLHNbYS0yXSxzW2FdKSk7YnJlYWs7Y2FzZSAyMDc6Y2FzZSAyMDg6Y2FzZSAyMDk6Y2FzZSAyMTA6Y2FzZSAyMTE6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKG5ldyBpLk9wKHNbYS0xXSxzW2EtMl0sc1thXSkpO2JyZWFrO2Nhc2UgMjEyOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShmdW5jdGlvbigpe3JldHVyblwiIVwiPT09c1thLTFdLmNoYXJBdCgwKT9uZXcgaS5PcChzW2EtMV0uc2xpY2UoMSksc1thLTJdLHNbYV0pLmludmVydCgpOm5ldyBpLk9wKHNbYS0xXSxzW2EtMl0sc1thXSl9KCkpO2JyZWFrO2Nhc2UgMjEzOnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0yXSxvW2FdKShuZXcgaS5Bc3NpZ24oc1thLTJdLHNbYV0sc1thLTFdKSk7YnJlYWs7Y2FzZSAyMTQ6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTRdLG9bYV0pKG5ldyBpLkFzc2lnbihzW2EtNF0sc1thLTFdLHNbYS0zXSkpO2JyZWFrO2Nhc2UgMjE1OnRoaXMuJD1pLmFkZExvY2F0aW9uRGF0YUZuKG9bYS0zXSxvW2FdKShuZXcgaS5Bc3NpZ24oc1thLTNdLHNbYV0sc1thLTJdKSk7YnJlYWs7Y2FzZSAyMTY6dGhpcy4kPWkuYWRkTG9jYXRpb25EYXRhRm4ob1thLTJdLG9bYV0pKG5ldyBpLkV4dGVuZHMoc1thLTJdLHNbYV0pKX19LHRhYmxlOlt7MTpbMiwxXSwzOjEsNDoyLDU6Myw3OjQsODo1LDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezE6WzNdfSx7MTpbMiwyXSw2OlB9LHQoVSxbMiwzXSksdChVLFsyLDZdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMTA6eCwxMTI6UywxMTY6UiwxMzI6RywxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0pLHQoVSxbMiw3XSx7MTE4OjY5LDEwOTo5MiwxMTU6OTMsMTEwOngsMTEyOlMsMTE2OlIsMTMyOlp9KSx0KGV0LFsyLDExXSx7ODc6OTQsNjg6OTUsNzY6MTAxLDcyOnR0LDczOm50LDc0Oml0LDc1OnJ0LDc3OnN0LDgwOm90LDkwOmF0LDkxOmN0fSksdChldCxbMiwxMl0sezc2OjEwMSw4NzoxMDQsNjg6MTA1LDcyOnR0LDczOm50LDc0Oml0LDc1OnJ0LDc3OnN0LDgwOm90LDkwOmF0LDkxOmN0fSksdChldCxbMiwxM10pLHQoZXQsWzIsMTRdKSx0KGV0LFsyLDE1XSksdChldCxbMiwxNl0pLHQoZXQsWzIsMTddKSx0KGV0LFsyLDE4XSksdChldCxbMiwxOV0pLHQoZXQsWzIsMjBdKSx0KGV0LFsyLDIxXSksdChldCxbMiwyMl0pLHQoZXQsWzIsOF0pLHQoZXQsWzIsOV0pLHQoZXQsWzIsMTBdKSx0KGx0LGh0LHs0NjpbMSwxMDZdfSksdChsdCxbMiw4MF0pLHQobHQsWzIsODFdKSx0KGx0LFsyLDgyXSksdChsdCxbMiw4M10pLHQoWzEsNiwyNSwyNiwzNCwzOCw1NSw2MCw2Myw3Miw3Myw3NCw3NSw3Nyw3OSw4MCw4NCw5MCw5Miw5Nyw5OSwxMDgsMTEwLDExMSwxMTIsMTE2LDExNywxMzIsMTM1LDEzNiwxNDEsMTQyLDE0MywxNDQsMTQ1LDE0NiwxNDddLFsyLDExMF0sezg4OjEwNyw5MTp1dH0pLHQoWzYsMjUsNTUsNjBdLHB0LHs1NDoxMDksNjE6MTEwLDYyOjExMSwyNzoxMTMsNTA6MTE0LDY0OjExNSw2NToxMTYsMjg6aSw2MzpkdCw4MjpiLDk1OmZ0LDk2Om10fSksezI0OjExOSwyNTpndH0sezc6MTIxLDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTIzLDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTI0LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTI1LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTI3LDg6MTI2LDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzg6WzEsMTI4XSwxMzk6QiwxNDA6Vn0sezEyOjEzMCwxMzoxMzEsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjEzMiw1MDo2Myw2NDo0Nyw2NTo0OCw2NzoxMjksNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwNzpMfSx7MTI6MTMwLDEzOjEzMSwyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MTMyLDUwOjYzLDY0OjQ3LDY1OjQ4LDY3OjEzMyw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTA3Okx9LHQodnQseXQsezg2OlsxLDEzN10sMTM5OlsxLDEzNF0sMTQwOlsxLDEzNV0sMTQ4OlsxLDEzNl19KSx0KGV0LFsyLDE4OV0sezEyNzpbMSwxMzhdfSksezI0OjEzOSwyNTpndH0sezI0OjE0MCwyNTpndH0sdChldCxbMiwxNTVdKSx7MjQ6MTQxLDI1Omd0fSx7NzoxNDIsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjU6WzEsMTQzXSwyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDY0OjQ3LDY1OjQ4LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwMjpGLDEwNjpOLDEwNzpMLDEwOTozOSwxMTA6eCwxMTI6UywxMTM6NDAsMTE0OkQsMTE1OjQxLDExNjpSLDExODo2OSwxMjU6QSwxMzA6MzcsMTMxOkksMTMzOl8sMTM0Ok8sMTM1OiQsMTM2OmosMTM3Ok0sMTM5OkIsMTQwOlZ9LHQoYnQsWzIsMTAwXSx7Mzk6MjIsNjk6MjMsNzA6MjQsNzE6MjUsNjQ6NDcsNjU6NDgsMjk6NDksMzU6NTEsMjc6NjIsNTA6NjMsMzE6NzIsMTI6MTMwLDEzOjEzMSw0NToxMzIsMjQ6MTQ0LDY3OjE0NiwyNTpndCwyODppLDMwOnIsMzI6cywzMzpvLDM2OmEsMzc6Yyw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsODI6Yiw4NjpbMSwxNDVdLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTA3Okx9KSx7NzoxNDcsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KFsxLDYsMjUsMjYsMzQsNTUsNjAsNjMsNzksODQsOTIsOTcsOTksMTA4LDExMCwxMTEsMTEyLDExNiwxMTcsMTMyLDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0N10sWzIsNTBdLHsxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDk6MTgsMTA6MTksNDU6MjEsMzk6MjIsNjk6MjMsNzA6MjQsNzE6MjUsNTY6MjgsNjc6MzYsMTMwOjM3LDEwOTozOSwxMTM6NDAsMTE1OjQxLDY0OjQ3LDY1OjQ4LDI5OjQ5LDM1OjUxLDI3OjYyLDUwOjYzLDExODo2OSwzMTo3Miw4OjEyMiw3OjE0OCwxMTpuLDI4OmksMzA6ciwzMjpzLDMzOm8sMzY6YSwzNzpjLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw1MTpmLDUyOm0sNTM6Zyw1Nzp2LDU4OnksODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTE0OkQsMTI1OkEsMTMxOkksMTMzOl8sMTM0Ok8sMTM1OiQsMTM2OmosMTM3Ok0sMTM5OkIsMTQwOlZ9KSx0KGV0LFsyLDUxXSksdCh2dCxbMiw3N10pLHQodnQsWzIsNzhdKSx0KGx0LFsyLDMyXSksdChsdCxbMiwzM10pLHQobHQsWzIsMzRdKSx0KGx0LFsyLDM1XSksdChsdCxbMiwzNl0pLHQobHQsWzIsMzddKSx0KGx0LFsyLDM4XSksezQ6MTQ5LDU6Myw3OjQsODo1LDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI1OlsxLDE1MF0sMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzoxNTEsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjU6a3QsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2Mzp3dCw2NDo0Nyw2NTo0OCw2NjoxNTYsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTM6MTUzLDk0OlQsOTU6Qyw5NjpFLDk3OlR0LDEwMDoxNTQsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChsdCxbMiwxMTZdKSx0KGx0LFsyLDExN10sezI3OjE1OCwyODppfSksezI1OlsyLDU0XX0sezI1OlsyLDU1XX0sdChDdCxbMiw3Ml0pLHQoQ3QsWzIsNzVdKSx7NzoxNTksODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzoxNjAsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzoxNjEsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzoxNjMsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTYyLDI1Omd0LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezI3OjE2OCwyODppLDUwOjE2OSw2NDoxNzAsNjU6MTcxLDcwOjE2NCw4MjpiLDk1OmZ0LDk2OkUsMTIwOjE2NSwxMjE6WzEsMTY2XSwxMjI6MTY3fSx7MTE5OjE3MiwxMjM6WzEsMTczXSwxMjQ6WzEsMTc0XX0sdChbNiwyNSw2MCw4NF0sRXQsezMxOjcyLDgzOjE3NSw0NzoxNzYsNDg6MTc3LDEwOjE3OCwyNzoxNzksMjk6MTgwLDUwOjE4MSwyODppLDMwOnIsMzI6cywzMzpvLDUyOm0sOTU6ZnR9KSx0KEZ0LFsyLDI2XSksdChGdCxbMiwyN10pLHQobHQsWzIsMzBdKSx7MTI6MTMwLDEzOjE4MiwyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MTMyLDUwOjYzLDY0OjQ3LDY1OjQ4LDY3OjE4Myw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTA3Okx9LHQoTnQsWzIsMjVdKSx0KEZ0LFsyLDI4XSksezQ6MTg0LDU6Myw3OjQsODo1LDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChVLFsyLDVdLHs3OjQsODo1LDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsOToxOCwxMDoxOSw0NToyMSwzOToyMiw2OToyMyw3MDoyNCw3MToyNSw1NjoyOCw2NzozNiwxMzA6MzcsMTA5OjM5LDExMzo0MCwxMTU6NDEsNjQ6NDcsNjU6NDgsMjk6NDksMzU6NTEsMjc6NjIsNTA6NjMsMTE4OjY5LDMxOjcyLDU6MTg1LDExOm4sMjg6aSwzMDpyLDMyOnMsMzM6bywzNjphLDM3OmMsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDUxOmYsNTI6bSw1MzpnLDU3OnYsNTg6eSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMTA6eCwxMTI6UywxMTQ6RCwxMTY6UiwxMjU6QSwxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0pLHQoZXQsWzIsMjA0XSksezc6MTg2LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTg3LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTg4LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTg5LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTkwLDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTkxLDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTkyLDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTkzLDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MTk0LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChldCxbMiwxNTRdKSx0KGV0LFsyLDE1OV0pLHs3OjE5NSw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDY0OjQ3LDY1OjQ4LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwMjpGLDEwNjpOLDEwNzpMLDEwOTozOSwxMTA6eCwxMTI6UywxMTM6NDAsMTE0OkQsMTE1OjQxLDExNjpSLDExODo2OSwxMjU6QSwxMzA6MzcsMTMxOkksMTMzOl8sMTM0Ok8sMTM1OiQsMTM2OmosMTM3Ok0sMTM5OkIsMTQwOlZ9LHQoZXQsWzIsMTUzXSksdChldCxbMiwxNThdKSx7ODg6MTk2LDkxOnV0fSx0KEN0LFsyLDczXSksezkxOlsyLDExM119LHsyNzoxOTcsMjg6aX0sezI3OjE5OCwyODppfSx0KEN0LFsyLDg4XSx7Mjc6MTk5LDI4Oml9KSx7Mjc6MjAwLDI4Oml9LHQoQ3QsWzIsODldKSx7NzoyMDIsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2MzpMdCw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw3ODoyMDEsODE6MjAzLDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDk4OjIwNCw5OTp4dCwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzY6MjA3LDc3OnN0LDgwOm90fSx7ODg6MjA4LDkxOnV0fSx0KEN0LFsyLDc0XSksezY6WzEsMjEwXSw3OjIwOSw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNTpbMSwyMTFdLDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChTdCxbMiwxMTFdKSx7NzoyMTQsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjU6a3QsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2Mzp3dCw2NDo0Nyw2NTo0OCw2NjoxNTYsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTI6WzEsMjEyXSw5MzoyMTMsOTQ6VCw5NTpDLDk2OkUsMTAwOjE1NCwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KFs2LDI1XSxEdCx7NTk6MjE3LDU1OlsxLDIxNV0sNjA6UnR9KSx0KEF0LFsyLDU5XSksdChBdCxbMiw2M10sezQ2OlsxLDIxOV0sNjM6WzEsMjE4XX0pLHQoQXQsWzIsNjZdKSx0KEl0LFsyLDY3XSksdChJdCxbMiw2OF0pLHQoSXQsWzIsNjldKSx0KEl0LFsyLDcwXSksezI3OjE1OCwyODppfSx7NzoyMTQsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjU6a3QsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2Mzp3dCw2NDo0Nyw2NTo0OCw2NjoxNTYsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTM6MTUzLDk0OlQsOTU6Qyw5NjpFLDk3OlR0LDEwMDoxNTQsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChldCxbMiw1M10pLHs0OjIyMSw1OjMsNzo0LDg6NSw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNjpbMSwyMjBdLDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChbMSw2LDI1LDI2LDM0LDU1LDYwLDYzLDc5LDg0LDkyLDk3LDk5LDEwOCwxMTAsMTExLDExMiwxMTYsMTE3LDEzMiwxMzUsMTM2LDE0MiwxNDMsMTQ0LDE0NSwxNDYsMTQ3XSxbMiwxOTNdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxNDE6WH0pLHsxMDk6OTIsMTEwOngsMTEyOlMsMTE1OjkzLDExNjpSLDExODo2OSwxMzI6Wn0sdChfdCxbMiwxOTRdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxNDE6WCwxNDM6WX0pLHQoX3QsWzIsMTk1XSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTQxOlgsMTQzOll9KSx0KF90LFsyLDE5Nl0sezExODo2OSwxMDk6ODksMTE1OjkwLDE0MTpYLDE0MzpZfSksdChldCxbMiwxOTddLHsxMTg6NjksMTA5OjkyLDExNTo5M30pLHQoT3QsWzIsMTk4XSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx7NzoyMjIsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KGV0LFsyLDIwMF0sezcyOnl0LDczOnl0LDc0Onl0LDc1Onl0LDc3Onl0LDgwOnl0LDkwOnl0LDkxOnl0fSksezY4Ojk1LDcyOnR0LDczOm50LDc0Oml0LDc1OnJ0LDc2OjEwMSw3NzpzdCw4MDpvdCw4Nzo5NCw5MDphdCw5MTpjdH0sezY4OjEwNSw3Mjp0dCw3MzpudCw3NDppdCw3NTpydCw3NjoxMDEsNzc6c3QsODA6b3QsODc6MTA0LDkwOmF0LDkxOmN0fSx0KCR0LGh0KSx0KGV0LFsyLDIwMV0sezcyOnl0LDczOnl0LDc0Onl0LDc1Onl0LDc3Onl0LDgwOnl0LDkwOnl0LDkxOnl0fSksdChldCxbMiwyMDJdKSx0KGV0LFsyLDIwM10pLHs2OlsxLDIyNV0sNzoyMjMsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjU6WzEsMjI0XSwyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDY0OjQ3LDY1OjQ4LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwMjpGLDEwNjpOLDEwNzpMLDEwOTozOSwxMTA6eCwxMTI6UywxMTM6NDAsMTE0OkQsMTE1OjQxLDExNjpSLDExODo2OSwxMjU6QSwxMzA6MzcsMTMxOkksMTMzOl8sMTM0Ok8sMTM1OiQsMTM2OmosMTM3Ok0sMTM5OkIsMTQwOlZ9LHs3OjIyNiw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDY0OjQ3LDY1OjQ4LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwMjpGLDEwNjpOLDEwNzpMLDEwOTozOSwxMTA6eCwxMTI6UywxMTM6NDAsMTE0OkQsMTE1OjQxLDExNjpSLDExODo2OSwxMjU6QSwxMzA6MzcsMTMxOkksMTMzOl8sMTM0Ok8sMTM1OiQsMTM2OmosMTM3Ok0sMTM5OkIsMTQwOlZ9LHsyNDoyMjcsMjU6Z3QsMTMxOlsxLDIyOF19LHQoZXQsWzIsMTM4XSx7MTAzOjIyOSwxMDQ6WzEsMjMwXSwxMDU6WzEsMjMxXX0pLHQoZXQsWzIsMTUyXSksdChldCxbMiwxNjBdKSx7MjU6WzEsMjMyXSwxMDk6ODksMTEwOngsMTEyOlMsMTE1OjkwLDExNjpSLDExODo2OSwxMzI6RywxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0sezEyNjoyMzMsMTI4OjIzNCwxMjk6anR9LHQoZXQsWzIsMTAxXSksezc6MjM2LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChidCxbMiwxMDRdLHsyNDoyMzcsMjU6Z3QsNzI6eXQsNzM6eXQsNzQ6eXQsNzU6eXQsNzc6eXQsODA6eXQsOTA6eXQsOTE6eXQsODY6WzEsMjM4XX0pLHQoT3QsWzIsMTQ1XSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx0KE90LFsyLDQ5XSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx7NjpQLDEwODpbMSwyMzldfSx7NDoyNDAsNTozLDc6NCw4OjUsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KFs2LDI1LDYwLDk3XSxNdCx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsOTg6MjQxLDYzOlsxLDI0Ml0sOTk6eHQsMTEwOngsMTEyOlMsMTE2OlIsMTMyOkcsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx0KEJ0LFsyLDExOV0pLHQoWzYsMjUsOTddLER0LHs1OToyNDMsNjA6VnR9KSx0KFB0LFsyLDEyOF0pLHs3OjIxNCw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNTprdCwyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDYzOnd0LDY0OjQ3LDY1OjQ4LDY2OjE1Niw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5MzoyNDUsOTQ6VCw5NTpDLDk2OkUsMTAwOjE1NCwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KFB0LFsyLDEzNF0pLHQoUHQsWzIsMTM1XSksdChOdCxbMiwxMThdKSx7MjQ6MjQ2LDI1Omd0LDEwOTo4OSwxMTA6eCwxMTI6UywxMTU6OTAsMTE2OlIsMTE4OjY5LDEzMjpHLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSx0KFV0LFsyLDE0OF0sezExODo2OSwxMDk6ODksMTE1OjkwLDExMDp4LDExMTpbMSwyNDddLDExMjpTLDExNjpSLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksdChVdCxbMiwxNTBdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMTA6eCwxMTE6WzEsMjQ4XSwxMTI6UywxMTY6UiwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0pLHQoZXQsWzIsMTU2XSksdChHdCxbMiwxNTddLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMTA6eCwxMTI6UywxMTY6UiwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0pLHQoWzEsNiwyNSwyNiwzNCw1NSw2MCw2Myw3OSw4NCw5Miw5Nyw5OSwxMDgsMTEwLDExMSwxMTIsMTE2LDEzMiwxMzUsMTM2LDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0N10sWzIsMTYxXSx7MTE3OlsxLDI0OV19KSx0KEh0LFsyLDE2NF0pLHsyNzoxNjgsMjg6aSw1MDoxNjksNjQ6MTcwLDY1OjE3MSw4MjpiLDk1OmZ0LDk2Om10LDEyMDoyNTAsMTIyOjE2N30sdChIdCxbMiwxNzBdLHs2MDpbMSwyNTFdfSksdChxdCxbMiwxNjZdKSx0KHF0LFsyLDE2N10pLHQocXQsWzIsMTY4XSksdChxdCxbMiwxNjldKSx0KGV0LFsyLDE2M10pLHs3OjI1Miw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDY0OjQ3LDY1OjQ4LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwMjpGLDEwNjpOLDEwNzpMLDEwOTozOSwxMTA6eCwxMTI6UywxMTM6NDAsMTE0OkQsMTE1OjQxLDExNjpSLDExODo2OSwxMjU6QSwxMzA6MzcsMTMxOkksMTMzOl8sMTM0Ok8sMTM1OiQsMTM2OmosMTM3Ok0sMTM5OkIsMTQwOlZ9LHs3OjI1Myw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDY0OjQ3LDY1OjQ4LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwMjpGLDEwNjpOLDEwNzpMLDEwOTozOSwxMTA6eCwxMTI6UywxMTM6NDAsMTE0OkQsMTE1OjQxLDExNjpSLDExODo2OSwxMjU6QSwxMzA6MzcsMTMxOkksMTMzOl8sMTM0Ok8sMTM1OiQsMTM2OmosMTM3Ok0sMTM5OkIsMTQwOlZ9LHQoWzYsMjUsODRdLER0LHs1OToyNTQsNjA6WHR9KSx0KFd0LFsyLDk2XSksdChXdCxbMiw0Ml0sezQ5OlsxLDI1Nl19KSx0KFd0LFsyLDQ1XSksdChZdCxbMiw0Nl0pLHQoWXQsWzIsNDddKSx0KFl0LFsyLDQ4XSksezM4OlsxLDI1N10sNjg6MTA1LDcyOnR0LDczOm50LDc0Oml0LDc1OnJ0LDc2OjEwMSw3NzpzdCw4MDpvdCw4NzoxMDQsOTA6YXQsOTE6Y3R9LHQoJHQseXQpLHs2OlAsMzQ6WzEsMjU4XX0sdChVLFsyLDRdKSx0KEt0LFsyLDIwNV0sezExODo2OSwxMDk6ODksMTE1OjkwLDE0MTpYLDE0MjpXLDE0MzpZfSksdChLdCxbMiwyMDZdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxNDE6WCwxNDI6VywxNDM6WX0pLHQoX3QsWzIsMjA3XSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTQxOlgsMTQzOll9KSx0KF90LFsyLDIwOF0sezExODo2OSwxMDk6ODksMTE1OjkwLDE0MTpYLDE0MzpZfSksdChbMSw2LDI1LDI2LDM0LDU1LDYwLDYzLDc5LDg0LDkyLDk3LDk5LDEwOCwxMTAsMTExLDExMiwxMTYsMTE3LDEzMiwxNDQsMTQ1LDE0NiwxNDddLFsyLDIwOV0sezExODo2OSwxMDk6ODksMTE1OjkwLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZfSksdChbMSw2LDI1LDI2LDM0LDU1LDYwLDYzLDc5LDg0LDkyLDk3LDk5LDEwOCwxMTAsMTExLDExMiwxMTYsMTE3LDEzMiwxNDUsMTQ2XSxbMiwyMTBdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDc6UX0pLHQoWzEsNiwyNSwyNiwzNCw1NSw2MCw2Myw3OSw4NCw5Miw5Nyw5OSwxMDgsMTEwLDExMSwxMTIsMTE2LDExNywxMzIsMTQ2XSxbMiwyMTFdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDc6UX0pLHQoWzEsNiwyNSwyNiwzNCw1NSw2MCw2Myw3OSw4NCw5Miw5Nyw5OSwxMDgsMTEwLDExMSwxMTIsMTE2LDExNywxMzIsMTQ1LDE0NiwxNDddLFsyLDIxMl0sezExODo2OSwxMDk6ODksMTE1OjkwLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLfSksdChHdCxbMiwxOTJdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMTA6eCwxMTI6UywxMTY6UiwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0pLHQoR3QsWzIsMTkxXSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTEwOngsMTEyOlMsMTE2OlIsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx0KFN0LFsyLDEwOF0pLHQoQ3QsWzIsODRdKSx0KEN0LFsyLDg1XSksdChDdCxbMiw4Nl0pLHQoQ3QsWzIsODddKSx7Nzk6WzEsMjU5XX0sezYzOkx0LDc5OlsyLDkyXSw5ODoyNjAsOTk6eHQsMTA5Ojg5LDExMDp4LDExMjpTLDExNTo5MCwxMTY6UiwxMTg6NjksMTMyOkcsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9LHs3OTpbMiw5M119LHs3OjI2MSw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDY0OjQ3LDY1OjQ4LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDc5OlsyLDEyN10sODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdCh6dCxbMiwxMjFdKSx0KHp0LEp0KSx0KEN0LFsyLDkxXSksdChTdCxbMiwxMDldKSx0KE90LFsyLDM5XSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx7NzoyNjIsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzoyNjMsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KFN0LFsyLDExNF0pLHQoWzYsMjUsOTJdLER0LHs1OToyNjQsNjA6VnR9KSx0KFB0LE10LHsxMTg6NjksMTA5Ojg5LDExNTo5MCw2MzpbMSwyNjVdLDExMDp4LDExMjpTLDExNjpSLDEzMjpHLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksezU2OjI2Niw1Nzp2LDU4Onl9LHQoUXQsWnQsezYyOjExMSwyNzoxMTMsNTA6MTE0LDY0OjExNSw2NToxMTYsNjE6MjY3LDI4OmksNjM6ZHQsODI6Yiw5NTpmdCw5NjptdH0pLHs2OmVuLDI1OnRufSx0KEF0LFsyLDY0XSksezc6MjcwLDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChubixbMiwyM10pLHs2OlAsMjY6WzEsMjcxXX0sdChPdCxbMiwxOTldLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0pLHQoT3QsWzIsMjEzXSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx7NzoyNzIsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzoyNzMsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KE90LFsyLDIxNl0sezExODo2OSwxMDk6ODksMTE1OjkwLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksdChldCxbMiwxOTBdKSx7NzoyNzQsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KGV0LFsyLDEzOV0sezEwNDpbMSwyNzVdfSksezI0OjI3NiwyNTpndH0sezI0OjI3OSwyNTpndCwyNzoyNzcsMjg6aSw2NToyNzgsODI6Yn0sezEyNjoyODAsMTI4OjIzNCwxMjk6anR9LHsyNjpbMSwyODFdLDEyNzpbMSwyODJdLDEyODoyODMsMTI5Omp0fSx0KHJuLFsyLDE4M10pLHs3OjI4NSw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDY0OjQ3LDY1OjQ4LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwMToyODQsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChzbixbMiwxMDJdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwyNDoyODYsMjU6Z3QsMTEwOngsMTEyOlMsMTE2OlIsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx0KGV0LFsyLDEwNV0pLHs3OjI4Nyw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNzo2MiwyODppLDI5OjQ5LDMwOnIsMzE6NzIsMzI6cywzMzpvLDM1OjUxLDM2OmEsMzc6YywzOToyMiw0MDpsLDQxOmgsNDI6dSw0MzpwLDQ0OmQsNDU6MjEsNTA6NjMsNTE6Ziw1MjptLDUzOmcsNTY6MjgsNTc6diw1ODp5LDY0OjQ3LDY1OjQ4LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwMjpGLDEwNjpOLDEwNzpMLDEwOTozOSwxMTA6eCwxMTI6UywxMTM6NDAsMTE0OkQsMTE1OjQxLDExNjpSLDExODo2OSwxMjU6QSwxMzA6MzcsMTMxOkksMTMzOl8sMTM0Ok8sMTM1OiQsMTM2OmosMTM3Ok0sMTM5OkIsMTQwOlZ9LHQobHQsWzIsMTQ2XSksezY6UCwyNjpbMSwyODhdfSx7NzoyODksODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KFsxMSwyOCwzMCwzMiwzMywzNiwzNyw0MCw0MSw0Miw0Myw0NCw1MSw1Miw1Myw1Nyw1OCw4Miw4NSw4OSw5NCw5NSw5NiwxMDIsMTA2LDEwNywxMTAsMTEyLDExNCwxMTYsMTI1LDEzMSwxMzMsMTM0LDEzNSwxMzYsMTM3LDEzOSwxNDBdLEp0LHs2Om9uLDI1Om9uLDYwOm9uLDk3Om9ufSksezY6YW4sMjU6Y24sOTc6WzEsMjkwXX0sdChbNiwyNSwyNiw5Miw5N10sWnQsezEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsOToxOCwxMDoxOSw0NToyMSwzOToyMiw2OToyMyw3MDoyNCw3MToyNSw1NjoyOCw2NzozNiwxMzA6MzcsMTA5OjM5LDExMzo0MCwxMTU6NDEsNjQ6NDcsNjU6NDgsMjk6NDksMzU6NTEsMjc6NjIsNTA6NjMsMTE4OjY5LDMxOjcyLDg6MTIyLDY2OjE1Niw3OjIxNCwxMDA6MjkzLDExOm4sMjg6aSwzMDpyLDMyOnMsMzM6bywzNjphLDM3OmMsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDUxOmYsNTI6bSw1MzpnLDU3OnYsNTg6eSw2Mzp3dCw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMTA6eCwxMTI6UywxMTQ6RCwxMTY6UiwxMjU6QSwxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0pLHQoUXQsRHQsezU5OjI5NCw2MDpWdH0pLHQobG4sWzIsMTg3XSksezc6Mjk1LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6Mjk2LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6Mjk3LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChIdCxbMiwxNjVdKSx7Mjc6MTY4LDI4OmksNTA6MTY5LDY0OjE3MCw2NToxNzEsODI6Yiw5NTpmdCw5NjptdCwxMjI6Mjk4fSx0KFsxLDYsMjUsMjYsMzQsNTUsNjAsNjMsNzksODQsOTIsOTcsOTksMTA4LDExMCwxMTIsMTE2LDEzMl0sWzIsMTcyXSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTExOlsxLDI5OV0sMTE3OlsxLDMwMF0sMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx0KGhuLFsyLDE3M10sezExODo2OSwxMDk6ODksMTE1OjkwLDExMTpbMSwzMDFdLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksezY6dW4sMjU6cG4sODQ6WzEsMzAyXX0sdChbNiwyNSwyNiw4NF0sWnQsezMxOjcyLDQ4OjE3NywxMDoxNzgsMjc6MTc5LDI5OjE4MCw1MDoxODEsNDc6MzA1LDI4OmksMzA6ciwzMjpzLDMzOm8sNTI6bSw5NTpmdH0pLHs3OjMwNiw4OjEyMiw5OjE4LDEwOjE5LDExOm4sMTI6NiwxMzo3LDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNTpbMSwzMDddLDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsODI6Yiw4NTprLDg5OncsOTQ6VCw5NTpDLDk2OkUsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sdChsdCxbMiwzMV0pLHQoRnQsWzIsMjldKSx0KEN0LFsyLDkwXSksezc6MzA4LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjQ6NDcsNjU6NDgsNjc6MzYsNjk6MjMsNzA6MjQsNzE6MjUsNzk6WzIsMTI1XSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7Nzk6WzIsMTI2XSwxMDk6ODksMTEwOngsMTEyOlMsMTE1OjkwLDExNjpSLDExODo2OSwxMzI6RywxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0sdChPdCxbMiw0MF0sezExODo2OSwxMDk6ODksMTE1OjkwLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksezI2OlsxLDMwOV0sMTA5Ojg5LDExMDp4LDExMjpTLDExNTo5MCwxMTY6UiwxMTg6NjksMTMyOkcsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9LHs2OmFuLDI1OmNuLDkyOlsxLDMxMF19LHQoUHQsb24pLHsyNDozMTEsMjU6Z3R9LHQoQXQsWzIsNjBdKSx7Mjc6MTEzLDI4OmksNTA6MTE0LDYxOjMxMiw2MjoxMTEsNjM6ZHQsNjQ6MTE1LDY1OjExNiw4MjpiLDk1OmZ0LDk2Om10fSx0KGRuLHB0LHs2MToxMTAsNjI6MTExLDI3OjExMyw1MDoxMTQsNjQ6MTE1LDY1OjExNiw1NDozMTMsMjg6aSw2MzpkdCw4MjpiLDk1OmZ0LDk2Om10fSksdChBdCxbMiw2NV0sezExODo2OSwxMDk6ODksMTE1OjkwLDExMDp4LDExMjpTLDExNjpSLDEzMjpHLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksdChubixbMiwyNF0pLHsyNjpbMSwzMTRdLDEwOTo4OSwxMTA6eCwxMTI6UywxMTU6OTAsMTE2OlIsMTE4OjY5LDEzMjpHLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSx0KE90LFsyLDIxNV0sezExODo2OSwxMDk6ODksMTE1OjkwLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksezI0OjMxNSwyNTpndCwxMDk6ODksMTEwOngsMTEyOlMsMTE1OjkwLDExNjpSLDExODo2OSwxMzI6RywxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0sezI0OjMxNiwyNTpndH0sdChldCxbMiwxNDBdKSx7MjQ6MzE3LDI1Omd0fSx7MjQ6MzE4LDI1Omd0fSx0KGZuLFsyLDE0NF0pLHsyNjpbMSwzMTldLDEyNzpbMSwzMjBdLDEyODoyODMsMTI5Omp0fSx0KGV0LFsyLDE4MV0pLHsyNDozMjEsMjU6Z3R9LHQocm4sWzIsMTg0XSksezI0OjMyMiwyNTpndCw2MDpbMSwzMjNdfSx0KG1uLFsyLDEzNl0sezExODo2OSwxMDk6ODksMTE1OjkwLDExMDp4LDExMjpTLDExNjpSLDEzMjpHLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksdChldCxbMiwxMDNdKSx0KHNuLFsyLDEwNl0sezExODo2OSwxMDk6ODksMTE1OjkwLDI0OjMyNCwyNTpndCwxMTA6eCwxMTI6UywxMTY6UiwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0pLHsxMDg6WzEsMzI1XX0sezk3OlsxLDMyNl0sMTA5Ojg5LDExMDp4LDExMjpTLDExNTo5MCwxMTY6UiwxMTg6NjksMTMyOkcsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9LHQoQnQsWzIsMTIwXSksezc6MjE0LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjM6d3QsNjQ6NDcsNjU6NDgsNjY6MTU2LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDk0OlQsOTU6Qyw5NjpFLDEwMDozMjcsMTAyOkYsMTA2Ok4sMTA3OkwsMTA5OjM5LDExMDp4LDExMjpTLDExMzo0MCwxMTQ6RCwxMTU6NDEsMTE2OlIsMTE4OjY5LDEyNTpBLDEzMDozNywxMzE6SSwxMzM6XywxMzQ6TywxMzU6JCwxMzY6aiwxMzc6TSwxMzk6QiwxNDA6Vn0sezc6MjE0LDg6MTIyLDk6MTgsMTA6MTksMTE6biwxMjo2LDEzOjcsMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI1Omt0LDI3OjYyLDI4OmksMjk6NDksMzA6ciwzMTo3MiwzMjpzLDMzOm8sMzU6NTEsMzY6YSwzNzpjLDM5OjIyLDQwOmwsNDE6aCw0Mjp1LDQzOnAsNDQ6ZCw0NToyMSw1MDo2Myw1MTpmLDUyOm0sNTM6Zyw1NjoyOCw1Nzp2LDU4OnksNjM6d3QsNjQ6NDcsNjU6NDgsNjY6MTU2LDY3OjM2LDY5OjIzLDcwOjI0LDcxOjI1LDgyOmIsODU6ayw4OTp3LDkzOjMyOCw5NDpULDk1OkMsOTY6RSwxMDA6MTU0LDEwMjpGLDEwNjpOLDEwNzpMLDEwOTozOSwxMTA6eCwxMTI6UywxMTM6NDAsMTE0OkQsMTE1OjQxLDExNjpSLDExODo2OSwxMjU6QSwxMzA6MzcsMTMxOkksMTMzOl8sMTM0Ok8sMTM1OiQsMTM2OmosMTM3Ok0sMTM5OkIsMTQwOlZ9LHQoUHQsWzIsMTI5XSksezY6YW4sMjU6Y24sMjY6WzEsMzI5XX0sdChHdCxbMiwxNDldLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMTA6eCwxMTI6UywxMTY6UiwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0pLHQoR3QsWzIsMTUxXSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTEwOngsMTEyOlMsMTE2OlIsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx0KEd0LFsyLDE2Ml0sezExODo2OSwxMDk6ODksMTE1OjkwLDExMDp4LDExMjpTLDExNjpSLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksdChIdCxbMiwxNzFdKSx7NzozMzAsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzozMzEsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzozMzIsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KEJ0LFsyLDk0XSksezEwOjE3OCwyNzoxNzksMjg6aSwyOToxODAsMzA6ciwzMTo3MiwzMjpzLDMzOm8sNDc6MzMzLDQ4OjE3Nyw1MDoxODEsNTI6bSw5NTpmdH0sdChkbixFdCx7MzE6NzIsNDc6MTc2LDQ4OjE3NywxMDoxNzgsMjc6MTc5LDI5OjE4MCw1MDoxODEsODM6MzM0LDI4OmksMzA6ciwzMjpzLDMzOm8sNTI6bSw5NTpmdH0pLHQoV3QsWzIsOTddKSx0KFd0LFsyLDQzXSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTEwOngsMTEyOlMsMTE2OlIsMTMyOkcsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx7NzozMzUsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7Nzk6WzIsMTI0XSwxMDk6ODksMTEwOngsMTEyOlMsMTE1OjkwLDExNjpSLDExODo2OSwxMzI6RywxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0sdChldCxbMiw0MV0pLHQoU3QsWzIsMTE1XSksdChldCxbMiw1Ml0pLHQoQXQsWzIsNjFdKSx0KFF0LER0LHs1OTozMzYsNjA6UnR9KSx0KGV0LFsyLDIxNF0pLHQobG4sWzIsMTg4XSksdChldCxbMiwxNDFdKSx0KGZuLFsyLDE0Ml0pLHQoZm4sWzIsMTQzXSksdChldCxbMiwxNzldKSx7MjQ6MzM3LDI1Omd0fSx7MjY6WzEsMzM4XX0sdChybixbMiwxODVdLHs2OlsxLDMzOV19KSx7NzozNDAsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx0KGV0LFsyLDEwN10pLHQobHQsWzIsMTQ3XSksdChsdCxbMiwxMjNdKSx0KFB0LFsyLDEzMF0pLHQoUXQsRHQsezU5OjM0MSw2MDpWdH0pLHQoUHQsWzIsMTMxXSksdChbMSw2LDI1LDI2LDM0LDU1LDYwLDYzLDc5LDg0LDkyLDk3LDk5LDEwOCwxMTAsMTExLDExMiwxMTYsMTMyXSxbMiwxNzRdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMTc6WzEsMzQyXSwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0pLHQoaG4sWzIsMTc2XSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTExOlsxLDM0M10sMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx0KE90LFsyLDE3NV0sezExODo2OSwxMDk6ODksMTE1OjkwLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksdChXdCxbMiw5OF0pLHQoUXQsRHQsezU5OjM0NCw2MDpYdH0pLHsyNjpbMSwzNDVdLDEwOTo4OSwxMTA6eCwxMTI6UywxMTU6OTAsMTE2OlIsMTE4OjY5LDEzMjpHLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSx7NjplbiwyNTp0biwyNjpbMSwzNDZdfSx7MjY6WzEsMzQ3XX0sdChldCxbMiwxODJdKSx0KHJuLFsyLDE4Nl0pLHQobW4sWzIsMTM3XSx7MTE4OjY5LDEwOTo4OSwxMTU6OTAsMTEwOngsMTEyOlMsMTE2OlIsMTMyOkcsMTM1OkgsMTM2OnEsMTQxOlgsMTQyOlcsMTQzOlksMTQ0OkssMTQ1OnosMTQ2OkosMTQ3OlF9KSx7NjphbiwyNTpjbiwyNjpbMSwzNDhdfSx7NzozNDksODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7NzozNTAsODoxMjIsOToxOCwxMDoxOSwxMTpuLDEyOjYsMTM6NywxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjc6NjIsMjg6aSwyOTo0OSwzMDpyLDMxOjcyLDMyOnMsMzM6bywzNTo1MSwzNjphLDM3OmMsMzk6MjIsNDA6bCw0MTpoLDQyOnUsNDM6cCw0NDpkLDQ1OjIxLDUwOjYzLDUxOmYsNTI6bSw1MzpnLDU2OjI4LDU3OnYsNTg6eSw2NDo0Nyw2NTo0OCw2NzozNiw2OToyMyw3MDoyNCw3MToyNSw4MjpiLDg1OmssODk6dyw5NDpULDk1OkMsOTY6RSwxMDI6RiwxMDY6TiwxMDc6TCwxMDk6MzksMTEwOngsMTEyOlMsMTEzOjQwLDExNDpELDExNTo0MSwxMTY6UiwxMTg6NjksMTI1OkEsMTMwOjM3LDEzMTpJLDEzMzpfLDEzNDpPLDEzNTokLDEzNjpqLDEzNzpNLDEzOTpCLDE0MDpWfSx7Njp1biwyNTpwbiwyNjpbMSwzNTFdfSx0KFd0LFsyLDQ0XSksdChBdCxbMiw2Ml0pLHQoZXQsWzIsMTgwXSksdChQdCxbMiwxMzJdKSx0KE90LFsyLDE3N10sezExODo2OSwxMDk6ODksMTE1OjkwLDEzNTpILDEzNjpxLDE0MTpYLDE0MjpXLDE0MzpZLDE0NDpLLDE0NTp6LDE0NjpKLDE0NzpRfSksdChPdCxbMiwxNzhdLHsxMTg6NjksMTA5Ojg5LDExNTo5MCwxMzU6SCwxMzY6cSwxNDE6WCwxNDI6VywxNDM6WSwxNDQ6SywxNDU6eiwxNDY6SiwxNDc6UX0pLHQoV3QsWzIsOTldKV0sZGVmYXVsdEFjdGlvbnM6ezYwOlsyLDU0XSw2MTpbMiw1NV0sOTY6WzIsMTEzXSwyMDM6WzIsOTNdfSxwYXJzZUVycm9yOmZ1bmN0aW9uKGUsdCl7aWYoIXQucmVjb3ZlcmFibGUpdGhyb3cgRXJyb3IoZSk7XG50aGlzLnRyYWNlKGUpfSxwYXJzZTpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGU7cmV0dXJuIGU9Zi5sZXgoKXx8cCxcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9bi5zeW1ib2xzX1tlXXx8ZSksZX12YXIgbj10aGlzLGk9WzBdLHI9W251bGxdLHM9W10sbz10aGlzLnRhYmxlLGE9XCJcIixjPTAsbD0wLGg9MCx1PTIscD0xLGQ9cy5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxmPU9iamVjdC5jcmVhdGUodGhpcy5sZXhlciksbT17eXk6e319O2Zvcih2YXIgZyBpbiB0aGlzLnl5KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLnl5LGcpJiYobS55eVtnXT10aGlzLnl5W2ddKTtmLnNldElucHV0KGUsbS55eSksbS55eS5sZXhlcj1mLG0ueXkucGFyc2VyPXRoaXMsZi55eWxsb2M9PT12b2lkIDAmJihmLnl5bGxvYz17fSk7dmFyIHY9Zi55eWxsb2M7cy5wdXNoKHYpO3ZhciB5PWYub3B0aW9ucyYmZi5vcHRpb25zLnJhbmdlczt0aGlzLnBhcnNlRXJyb3I9XCJmdW5jdGlvblwiPT10eXBlb2YgbS55eS5wYXJzZUVycm9yP20ueXkucGFyc2VFcnJvcjpPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykucGFyc2VFcnJvcjtmb3IodmFyIGIsayx3LFQsQyxFLEYsTixMLHg9e307Oyl7aWYodz1pW2kubGVuZ3RoLTFdLHRoaXMuZGVmYXVsdEFjdGlvbnNbd10/VD10aGlzLmRlZmF1bHRBY3Rpb25zW3ddOigobnVsbD09PWJ8fGI9PT12b2lkIDApJiYoYj10KCkpLFQ9b1t3XSYmb1t3XVtiXSksVD09PXZvaWQgMHx8IVQubGVuZ3RofHwhVFswXSl7dmFyIFM9XCJcIjtMPVtdO2ZvcihFIGluIG9bd10pdGhpcy50ZXJtaW5hbHNfW0VdJiZFPnUmJkwucHVzaChcIidcIit0aGlzLnRlcm1pbmFsc19bRV0rXCInXCIpO1M9Zi5zaG93UG9zaXRpb24/XCJQYXJzZSBlcnJvciBvbiBsaW5lIFwiKyhjKzEpK1wiOlxcblwiK2Yuc2hvd1Bvc2l0aW9uKCkrXCJcXG5FeHBlY3RpbmcgXCIrTC5qb2luKFwiLCBcIikrXCIsIGdvdCAnXCIrKHRoaXMudGVybWluYWxzX1tiXXx8YikrXCInXCI6XCJQYXJzZSBlcnJvciBvbiBsaW5lIFwiKyhjKzEpK1wiOiBVbmV4cGVjdGVkIFwiKyhiPT1wP1wiZW5kIG9mIGlucHV0XCI6XCInXCIrKHRoaXMudGVybWluYWxzX1tiXXx8YikrXCInXCIpLHRoaXMucGFyc2VFcnJvcihTLHt0ZXh0OmYubWF0Y2gsdG9rZW46dGhpcy50ZXJtaW5hbHNfW2JdfHxiLGxpbmU6Zi55eWxpbmVubyxsb2M6dixleHBlY3RlZDpMfSl9aWYoVFswXWluc3RhbmNlb2YgQXJyYXkmJlQubGVuZ3RoPjEpdGhyb3cgRXJyb3IoXCJQYXJzZSBFcnJvcjogbXVsdGlwbGUgYWN0aW9ucyBwb3NzaWJsZSBhdCBzdGF0ZTogXCIrdytcIiwgdG9rZW46IFwiK2IpO3N3aXRjaChUWzBdKXtjYXNlIDE6aS5wdXNoKGIpLHIucHVzaChmLnl5dGV4dCkscy5wdXNoKGYueXlsbG9jKSxpLnB1c2goVFsxXSksYj1udWxsLGs/KGI9ayxrPW51bGwpOihsPWYueXlsZW5nLGE9Zi55eXRleHQsYz1mLnl5bGluZW5vLHY9Zi55eWxsb2MsaD4wJiZoLS0pO2JyZWFrO2Nhc2UgMjppZihGPXRoaXMucHJvZHVjdGlvbnNfW1RbMV1dWzFdLHguJD1yW3IubGVuZ3RoLUZdLHguXyQ9e2ZpcnN0X2xpbmU6c1tzLmxlbmd0aC0oRnx8MSldLmZpcnN0X2xpbmUsbGFzdF9saW5lOnNbcy5sZW5ndGgtMV0ubGFzdF9saW5lLGZpcnN0X2NvbHVtbjpzW3MubGVuZ3RoLShGfHwxKV0uZmlyc3RfY29sdW1uLGxhc3RfY29sdW1uOnNbcy5sZW5ndGgtMV0ubGFzdF9jb2x1bW59LHkmJih4Ll8kLnJhbmdlPVtzW3MubGVuZ3RoLShGfHwxKV0ucmFuZ2VbMF0sc1tzLmxlbmd0aC0xXS5yYW5nZVsxXV0pLEM9dGhpcy5wZXJmb3JtQWN0aW9uLmFwcGx5KHgsW2EsbCxjLG0ueXksVFsxXSxyLHNdLmNvbmNhdChkKSksQyE9PXZvaWQgMClyZXR1cm4gQztGJiYoaT1pLnNsaWNlKDAsMiotMSpGKSxyPXIuc2xpY2UoMCwtMSpGKSxzPXMuc2xpY2UoMCwtMSpGKSksaS5wdXNoKHRoaXMucHJvZHVjdGlvbnNfW1RbMV1dWzBdKSxyLnB1c2goeC4kKSxzLnB1c2goeC5fJCksTj1vW2lbaS5sZW5ndGgtMl1dW2lbaS5sZW5ndGgtMV1dLGkucHVzaChOKTticmVhaztjYXNlIDM6cmV0dXJuITB9fXJldHVybiEwfX07cmV0dXJuIGUucHJvdG90eXBlPWduLGduLlBhcnNlcj1lLG5ldyBlfSgpO3JldHVybiByZXF1aXJlIT09dm9pZCAwJiZlIT09dm9pZCAwJiYoZS5wYXJzZXI9bixlLlBhcnNlcj1uLlBhcnNlcixlLnBhcnNlPWZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyc2UuYXBwbHkobixhcmd1bWVudHMpfSxlLm1haW49ZnVuY3Rpb24odCl7dFsxXXx8KGNvbnNvbGUubG9nKFwiVXNhZ2U6IFwiK3RbMF0rXCIgRklMRVwiKSxwcm9jZXNzLmV4aXQoMSkpO3ZhciBuPXJlcXVpcmUoXCJmc1wiKS5yZWFkRmlsZVN5bmMocmVxdWlyZShcInBhdGhcIikubm9ybWFsaXplKHRbMV0pLFwidXRmOFwiKTtyZXR1cm4gZS5wYXJzZXIucGFyc2Uobil9LHQhPT12b2lkIDAmJnJlcXVpcmUubWFpbj09PXQmJmUubWFpbihwcm9jZXNzLmFyZ3Yuc2xpY2UoMSkpKSx0LmV4cG9ydHN9KCkscmVxdWlyZVtcIi4vc2NvcGVcIl09ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXtleHBvcnRzOmV9O3JldHVybiBmdW5jdGlvbigpe3ZhciB0LG49W10uaW5kZXhPZnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmxlbmd0aDtuPnQ7dCsrKWlmKHQgaW4gdGhpcyYmdGhpc1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuLTF9O2UuU2NvcGU9dD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0LG4saSl7dmFyIHIsczt0aGlzLnBhcmVudD1lLHRoaXMuZXhwcmVzc2lvbnM9dCx0aGlzLm1ldGhvZD1uLHRoaXMucmVmZXJlbmNlZFZhcnM9aSx0aGlzLnZhcmlhYmxlcz1be25hbWU6XCJhcmd1bWVudHNcIix0eXBlOlwiYXJndW1lbnRzXCJ9XSx0aGlzLnBvc2l0aW9ucz17fSx0aGlzLnBhcmVudHx8KHRoaXMudXRpbGl0aWVzPXt9KSx0aGlzLnJvb3Q9bnVsbCE9KHI9bnVsbCE9KHM9dGhpcy5wYXJlbnQpP3Mucm9vdDp2b2lkIDApP3I6dGhpc31yZXR1cm4gZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5zaGFyZWQmJiFuP3RoaXMucGFyZW50LmFkZChlLHQsbik6T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMucG9zaXRpb25zLGUpP3RoaXMudmFyaWFibGVzW3RoaXMucG9zaXRpb25zW2VdXS50eXBlPXQ6dGhpcy5wb3NpdGlvbnNbZV09dGhpcy52YXJpYWJsZXMucHVzaCh7bmFtZTplLHR5cGU6dH0pLTF9LGUucHJvdG90eXBlLm5hbWVkTWV0aG9kPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKG51bGwhPShlPXRoaXMubWV0aG9kKT9lLm5hbWU6dm9pZCAwKXx8IXRoaXMucGFyZW50P3RoaXMubWV0aG9kOnRoaXMucGFyZW50Lm5hbWVkTWV0aG9kKCl9LGUucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2hlY2soZSk/ITA6KHRoaXMuYWRkKGUsXCJ2YXJcIiksITEpfSxlLnByb3RvdHlwZS5wYXJhbWV0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2hhcmVkJiZ0aGlzLnBhcmVudC5jaGVjayhlLCEwKT92b2lkIDA6dGhpcy5hZGQoZSxcInBhcmFtXCIpfSxlLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hISh0aGlzLnR5cGUoZSl8fChudWxsIT0odD10aGlzLnBhcmVudCk/dC5jaGVjayhlKTp2b2lkIDApKX0sZS5wcm90b3R5cGUudGVtcG9yYXJ5PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09biYmKG49ITEpLG4/KHQrcGFyc2VJbnQoZSwzNikpLnRvU3RyaW5nKDM2KS5yZXBsYWNlKC9cXGQvZyxcImFcIik6ZSsodHx8XCJcIil9LGUucHJvdG90eXBlLnR5cGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHI7Zm9yKGk9dGhpcy52YXJpYWJsZXMsdD0wLG49aS5sZW5ndGg7bj50O3QrKylpZihyPWlbdF0sci5uYW1lPT09ZSlyZXR1cm4gci50eXBlO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5mcmVlVmFyaWFibGU9ZnVuY3Rpb24oZSx0KXt2YXIgaSxyLHM7Zm9yKG51bGw9PXQmJih0PXt9KSxpPTA7Oyl7aWYocz10aGlzLnRlbXBvcmFyeShlLGksdC5zaW5nbGUpLCEodGhpcy5jaGVjayhzKXx8bi5jYWxsKHRoaXMucm9vdC5yZWZlcmVuY2VkVmFycyxzKT49MCkpYnJlYWs7aSsrfXJldHVybihudWxsIT0ocj10LnJlc2VydmUpP3I6ITApJiZ0aGlzLmFkZChzLFwidmFyXCIsITApLHN9LGUucHJvdG90eXBlLmFzc2lnbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFkZChlLHt2YWx1ZTp0LGFzc2lnbmVkOiEwfSwhMCksdGhpcy5oYXNBc3NpZ25tZW50cz0hMH0sZS5wcm90b3R5cGUuaGFzRGVjbGFyYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmRlY2xhcmVkVmFyaWFibGVzKCkubGVuZ3RofSxlLnByb3RvdHlwZS5kZWNsYXJlZFZhcmlhYmxlcz1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBmdW5jdGlvbigpe3ZhciB0LG4saSxyO2ZvcihpPXRoaXMudmFyaWFibGVzLHI9W10sdD0wLG49aS5sZW5ndGg7bj50O3QrKyllPWlbdF0sXCJ2YXJcIj09PWUudHlwZSYmci5wdXNoKGUubmFtZSk7cmV0dXJuIHJ9LmNhbGwodGhpcykuc29ydCgpfSxlLnByb3RvdHlwZS5hc3NpZ25lZFZhcmlhYmxlcz1mdW5jdGlvbigpe3ZhciBlLHQsbixpLHI7Zm9yKG49dGhpcy52YXJpYWJsZXMsaT1bXSxlPTAsdD1uLmxlbmd0aDt0PmU7ZSsrKXI9bltlXSxyLnR5cGUuYXNzaWduZWQmJmkucHVzaChyLm5hbWUrXCIgPSBcIityLnR5cGUudmFsdWUpO3JldHVybiBpfSxlfSgpfS5jYWxsKHRoaXMpLHQuZXhwb3J0c30oKSxyZXF1aXJlW1wiLi9ub2Rlc1wiXT1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9e2V4cG9ydHM6ZX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQsbixpLHIscyxvLGEsYyxsLGgsdSxwLGQsZixtLGcsdix5LGIsayx3LFQsQyxFLEYsTixMLHgsUyxELFIsQSxJLF8sTywkLGosTSxCLFYsUCxVLEcsSCxxLFgsVyxZLEsseixKLFEsWixldCx0dCxudCxpdCxydCxzdCxvdCxhdCxjdCxsdCxodCx1dCxwdCxkdCxmdCxtdCxndCx2dCx5dCxidCxrdD1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9Zm9yKHZhciBpIGluIHQpd3QuY2FsbCh0LGkpJiYoZVtpXT10W2ldKTtyZXR1cm4gbi5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IG4sZS5fX3N1cGVyX189dC5wcm90b3R5cGUsZX0sd3Q9e30uaGFzT3duUHJvcGVydHksVHQ9W10uaW5kZXhPZnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmxlbmd0aDtuPnQ7dCsrKWlmKHQgaW4gdGhpcyYmdGhpc1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuLTF9LEN0PVtdLnNsaWNlO0Vycm9yLnN0YWNrVHJhY2VMaW1pdD0xLzAsUD1yZXF1aXJlKFwiLi9zY29wZVwiKS5TY29wZSxkdD1yZXF1aXJlKFwiLi9sZXhlclwiKSwkPWR0LlJFU0VSVkVELFY9ZHQuU1RSSUNUX1BST1NDUklCRUQsZnQ9cmVxdWlyZShcIi4vaGVscGVyc1wiKSxldD1mdC5jb21wYWN0LHJ0PWZ0LmZsYXR0ZW4saXQ9ZnQuZXh0ZW5kLGh0PWZ0Lm1lcmdlLHR0PWZ0LmRlbCxndD1mdC5zdGFydHMsbnQ9ZnQuZW5kcyxtdD1mdC5zb21lLFo9ZnQuYWRkTG9jYXRpb25EYXRhRm4sbHQ9ZnQubG9jYXRpb25EYXRhVG9TdHJpbmcsdnQ9ZnQudGhyb3dTeW50YXhFcnJvcixlLmV4dGVuZD1pdCxlLmFkZExvY2F0aW9uRGF0YUZuPVosUT1mdW5jdGlvbigpe3JldHVybiEwfSxEPWZ1bmN0aW9uKCl7cmV0dXJuITF9LFg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sUz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5lZ2F0ZWQ9IXRoaXMubmVnYXRlZCx0aGlzfSxlLkNvZGVGcmFnbWVudD1sPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3ZhciBuO3RoaXMuY29kZT1cIlwiK3QsdGhpcy5sb2NhdGlvbkRhdGE9bnVsbCE9ZT9lLmxvY2F0aW9uRGF0YTp2b2lkIDAsdGhpcy50eXBlPShudWxsIT1lP251bGwhPShuPWUuY29uc3RydWN0b3IpP24ubmFtZTp2b2lkIDA6dm9pZCAwKXx8XCJ1bmtub3duXCJ9cmV0dXJuIGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJcIit0aGlzLmNvZGUrKHRoaXMubG9jYXRpb25EYXRhP1wiOiBcIitsdCh0aGlzLmxvY2F0aW9uRGF0YSk6XCJcIil9LGV9KCksc3Q9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG4saSxyO2ZvcihyPVtdLG49MCxpPWUubGVuZ3RoO2k+bjtuKyspdD1lW25dLHIucHVzaCh0LmNvZGUpO3JldHVybiByfSgpLmpvaW4oXCJcIil9LGUuQmFzZT1yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGUuY29tcGlsZT1mdW5jdGlvbihlLHQpe3JldHVybiBzdCh0aGlzLmNvbXBpbGVUb0ZyYWdtZW50cyhlLHQpKX0sZS5wcm90b3R5cGUuY29tcGlsZVRvRnJhZ21lbnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIGU9aXQoe30sZSksdCYmKGUubGV2ZWw9dCksbj10aGlzLnVuZm9sZFNvYWsoZSl8fHRoaXMsbi50YWI9ZS5pbmRlbnQsZS5sZXZlbCE9PUwmJm4uaXNTdGF0ZW1lbnQoZSk/bi5jb21waWxlQ2xvc3VyZShlKTpuLmNvbXBpbGVOb2RlKGUpfSxlLnByb3RvdHlwZS5jb21waWxlQ2xvc3VyZT1mdW5jdGlvbihlKXt2YXIgbixpLHIsYSxsLGgsdTtyZXR1cm4oYT10aGlzLmp1bXBzKCkpJiZhLmVycm9yKFwiY2Fubm90IHVzZSBhIHB1cmUgc3RhdGVtZW50IGluIGFuIGV4cHJlc3Npb25cIiksZS5zaGFyZWRTY29wZT0hMCxyPW5ldyBjKFtdLHMud3JhcChbdGhpc10pKSxuPVtdLCgoaT10aGlzLmNvbnRhaW5zKGF0KSl8fHRoaXMuY29udGFpbnMoY3QpKSYmKG49W25ldyB4KFwidGhpc1wiKV0saT8obD1cImFwcGx5XCIsbi5wdXNoKG5ldyB4KFwiYXJndW1lbnRzXCIpKSk6bD1cImNhbGxcIixyPW5ldyB6KHIsW25ldyB0KG5ldyB4KGwpKV0pKSxoPW5ldyBvKHIsbikuY29tcGlsZU5vZGUoZSksKHIuaXNHZW5lcmF0b3J8fChudWxsIT0odT1yLmJhc2UpP3UuaXNHZW5lcmF0b3I6dm9pZCAwKSkmJihoLnVuc2hpZnQodGhpcy5tYWtlQ29kZShcIih5aWVsZCogXCIpKSxoLnB1c2godGhpcy5tYWtlQ29kZShcIilcIikpKSxofSxlLnByb3RvdHlwZS5jYWNoZT1mdW5jdGlvbihlLHQsbil7dmFyIHIscyxvO3JldHVybiByPW51bGwhPW4/bih0aGlzKTp0aGlzLmlzQ29tcGxleCgpLHI/KHM9bmV3IHgoZS5zY29wZS5mcmVlVmFyaWFibGUoXCJyZWZcIikpLG89bmV3IGkocyx0aGlzKSx0P1tvLmNvbXBpbGVUb0ZyYWdtZW50cyhlLHQpLFt0aGlzLm1ha2VDb2RlKHMudmFsdWUpXV06W28sc10pOihzPXQ/dGhpcy5jb21waWxlVG9GcmFnbWVudHMoZSx0KTp0aGlzLFtzLHNdKX0sZS5wcm90b3R5cGUuY2FjaGVUb0NvZGVGcmFnbWVudHM9ZnVuY3Rpb24oZSl7cmV0dXJuW3N0KGVbMF0pLHN0KGVbMV0pXX0sZS5wcm90b3R5cGUubWFrZVJldHVybj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD10aGlzLnVud3JhcEFsbCgpLGU/bmV3IG8obmV3IHgoZStcIi5wdXNoXCIpLFt0XSk6bmV3IE0odCl9LGUucHJvdG90eXBlLmNvbnRhaW5zPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0PXZvaWQgMCx0aGlzLnRyYXZlcnNlQ2hpbGRyZW4oITEsZnVuY3Rpb24obil7cmV0dXJuIGUobik/KHQ9biwhMSk6dm9pZCAwfSksdH0sZS5wcm90b3R5cGUubGFzdE5vbkNvbW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ7Zm9yKHQ9ZS5sZW5ndGg7dC0tOylpZighKGVbdF1pbnN0YW5jZW9mIGgpKXJldHVybiBlW3RdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBudWxsPT1lJiYoZT1cIlwiKSxudWxsPT10JiYodD10aGlzLmNvbnN0cnVjdG9yLm5hbWUpLG49XCJcXG5cIitlK3QsdGhpcy5zb2FrJiYobis9XCI/XCIpLHRoaXMuZWFjaENoaWxkKGZ1bmN0aW9uKHQpe3JldHVybiBuKz10LnRvU3RyaW5nKGUrcSl9KSxufSxlLnByb3RvdHlwZS5lYWNoQ2hpbGQ9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscyxvLGEsYztpZighdGhpcy5jaGlsZHJlbilyZXR1cm4gdGhpcztmb3IoYT10aGlzLmNoaWxkcmVuLGk9MCxzPWEubGVuZ3RoO3M+aTtpKyspaWYodD1hW2ldLHRoaXNbdF0pZm9yKGM9cnQoW3RoaXNbdF1dKSxyPTAsbz1jLmxlbmd0aDtvPnI7cisrKWlmKG49Y1tyXSxlKG4pPT09ITEpcmV0dXJuIHRoaXM7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnRyYXZlcnNlQ2hpbGRyZW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoZnVuY3Rpb24obil7dmFyIGk7cmV0dXJuIGk9dChuKSxpIT09ITE/bi50cmF2ZXJzZUNoaWxkcmVuKGUsdCk6dm9pZCAwfSl9LGUucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3JldHVybiBuZXcgSShcIiFcIix0aGlzKX0sZS5wcm90b3R5cGUudW53cmFwQWxsPWZ1bmN0aW9uKCl7dmFyIGU7Zm9yKGU9dGhpcztlIT09KGU9ZS51bndyYXAoKSk7KTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuY2hpbGRyZW49W10sZS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9RCxlLnByb3RvdHlwZS5qdW1wcz1ELGUucHJvdG90eXBlLmlzQ29tcGxleD1RLGUucHJvdG90eXBlLmlzQ2hhaW5hYmxlPUQsZS5wcm90b3R5cGUuaXNBc3NpZ25hYmxlPUQsZS5wcm90b3R5cGUudW53cmFwPVgsZS5wcm90b3R5cGUudW5mb2xkU29haz1ELGUucHJvdG90eXBlLmFzc2lnbnM9RCxlLnByb3RvdHlwZS51cGRhdGVMb2NhdGlvbkRhdGFJZk1pc3Npbmc9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubG9jYXRpb25EYXRhP3RoaXM6KHRoaXMubG9jYXRpb25EYXRhPWUsdGhpcy5lYWNoQ2hpbGQoZnVuY3Rpb24odCl7cmV0dXJuIHQudXBkYXRlTG9jYXRpb25EYXRhSWZNaXNzaW5nKGUpfSkpfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gdnQoZSx0aGlzLmxvY2F0aW9uRGF0YSl9LGUucHJvdG90eXBlLm1ha2VDb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbCh0aGlzLGUpfSxlLnByb3RvdHlwZS53cmFwSW5CcmFjZXM9ZnVuY3Rpb24oZSl7cmV0dXJuW10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCIoXCIpLGUsdGhpcy5tYWtlQ29kZShcIilcIikpfSxlLnByb3RvdHlwZS5qb2luRnJhZ21lbnRBcnJheXM9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIscyxvO2ZvcihuPVtdLHI9cz0wLG89ZS5sZW5ndGg7bz5zO3I9KytzKWk9ZVtyXSxyJiZuLnB1c2godGhpcy5tYWtlQ29kZSh0KSksbj1uLmNvbmNhdChpKTtyZXR1cm4gbn0sZX0oKSxlLkJsb2NrPXM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmV4cHJlc3Npb25zPWV0KHJ0KGV8fFtdKSl9cmV0dXJuIGt0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wiZXhwcmVzc2lvbnNcIl0sdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5leHByZXNzaW9ucy5wdXNoKGUpLHRoaXN9LHQucHJvdG90eXBlLnBvcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmV4cHJlc3Npb25zLnBvcCgpfSx0LnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmV4cHJlc3Npb25zLnVuc2hpZnQoZSksdGhpc30sdC5wcm90b3R5cGUudW53cmFwPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLmV4cHJlc3Npb25zLmxlbmd0aD90aGlzLmV4cHJlc3Npb25zWzBdOnRoaXN9LHQucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5leHByZXNzaW9ucy5sZW5ndGh9LHQucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyO2ZvcihyPXRoaXMuZXhwcmVzc2lvbnMsbj0wLGk9ci5sZW5ndGg7aT5uO24rKylpZih0PXJbbl0sdC5pc1N0YXRlbWVudChlKSlyZXR1cm4hMDtyZXR1cm4hMX0sdC5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscztmb3Iocz10aGlzLmV4cHJlc3Npb25zLG49MCxyPXMubGVuZ3RoO3I+bjtuKyspaWYodD1zW25dLGk9dC5qdW1wcyhlKSlyZXR1cm4gaX0sdC5wcm90b3R5cGUubWFrZVJldHVybj1mdW5jdGlvbihlKXt2YXIgdCxuO2ZvcihuPXRoaXMuZXhwcmVzc2lvbnMubGVuZ3RoO24tLTspaWYodD10aGlzLmV4cHJlc3Npb25zW25dLCEodCBpbnN0YW5jZW9mIGgpKXt0aGlzLmV4cHJlc3Npb25zW25dPXQubWFrZVJldHVybihlKSx0IGluc3RhbmNlb2YgTSYmIXQuZXhwcmVzc2lvbiYmdGhpcy5leHByZXNzaW9ucy5zcGxpY2UobiwxKTticmVha31yZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuY29tcGlsZVRvRnJhZ21lbnRzPWZ1bmN0aW9uKGUsbil7cmV0dXJuIG51bGw9PWUmJihlPXt9KSxlLnNjb3BlP3QuX19zdXBlcl9fLmNvbXBpbGVUb0ZyYWdtZW50cy5jYWxsKHRoaXMsZSxuKTp0aGlzLmNvbXBpbGVSb290KGUpfSx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgbixpLHIscyxvLGEsYyxsLGg7Zm9yKHRoaXMudGFiPWUuaW5kZW50LGg9ZS5sZXZlbD09PUwsaT1bXSxsPXRoaXMuZXhwcmVzc2lvbnMscz1vPTAsYT1sLmxlbmd0aDthPm87cz0rK28pYz1sW3NdLGM9Yy51bndyYXBBbGwoKSxjPWMudW5mb2xkU29hayhlKXx8YyxjIGluc3RhbmNlb2YgdD9pLnB1c2goYy5jb21waWxlTm9kZShlKSk6aD8oYy5mcm9udD0hMCxyPWMuY29tcGlsZVRvRnJhZ21lbnRzKGUpLGMuaXNTdGF0ZW1lbnQoZSl8fChyLnVuc2hpZnQodGhpcy5tYWtlQ29kZShcIlwiK3RoaXMudGFiKSksci5wdXNoKHRoaXMubWFrZUNvZGUoXCI7XCIpKSksaS5wdXNoKHIpKTppLnB1c2goYy5jb21waWxlVG9GcmFnbWVudHMoZSxFKSk7cmV0dXJuIGg/dGhpcy5zcGFjZWQ/W10uY29uY2F0KHRoaXMuam9pbkZyYWdtZW50QXJyYXlzKGksXCJcXG5cXG5cIiksdGhpcy5tYWtlQ29kZShcIlxcblwiKSk6dGhpcy5qb2luRnJhZ21lbnRBcnJheXMoaSxcIlxcblwiKToobj1pLmxlbmd0aD90aGlzLmpvaW5GcmFnbWVudEFycmF5cyhpLFwiLCBcIik6W3RoaXMubWFrZUNvZGUoXCJ2b2lkIDBcIildLGkubGVuZ3RoPjEmJmUubGV2ZWw+PUU/dGhpcy53cmFwSW5CcmFjZXMobik6bil9LHQucHJvdG90eXBlLmNvbXBpbGVSb290PWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLHMsbyxhLGMsbCx1LHA7Zm9yKGUuaW5kZW50PWUuYmFyZT9cIlwiOnEsZS5sZXZlbD1MLHRoaXMuc3BhY2VkPSEwLGUuc2NvcGU9bmV3IFAobnVsbCx0aGlzLG51bGwsbnVsbCE9KGw9ZS5yZWZlcmVuY2VkVmFycyk/bDpbXSksdT1lLmxvY2Fsc3x8W10scj0wLHM9dS5sZW5ndGg7cz5yO3IrKylvPXVbcl0sZS5zY29wZS5wYXJhbWV0ZXIobyk7cmV0dXJuIGE9W10sZS5iYXJlfHwoYz1mdW5jdGlvbigpe3ZhciBlLG4scixzO2ZvcihyPXRoaXMuZXhwcmVzc2lvbnMscz1bXSxpPWU9MCxuPXIubGVuZ3RoO24+ZSYmKHQ9cltpXSx0LnVud3JhcCgpaW5zdGFuY2VvZiBoKTtpPSsrZSlzLnB1c2godCk7cmV0dXJuIHN9LmNhbGwodGhpcykscD10aGlzLmV4cHJlc3Npb25zLnNsaWNlKGMubGVuZ3RoKSx0aGlzLmV4cHJlc3Npb25zPWMsYy5sZW5ndGgmJihhPXRoaXMuY29tcGlsZU5vZGUoaHQoZSx7aW5kZW50OlwiXCJ9KSksYS5wdXNoKHRoaXMubWFrZUNvZGUoXCJcXG5cIikpKSx0aGlzLmV4cHJlc3Npb25zPXApLG49dGhpcy5jb21waWxlV2l0aERlY2xhcmF0aW9ucyhlKSxlLmJhcmU/bjpbXS5jb25jYXQoYSx0aGlzLm1ha2VDb2RlKFwiKGZ1bmN0aW9uKCkge1xcblwiKSxuLHRoaXMubWFrZUNvZGUoXCJcXG59KS5jYWxsKHRoaXMpO1xcblwiKSl9LHQucHJvdG90eXBlLmNvbXBpbGVXaXRoRGVjbGFyYXRpb25zPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLHMsbyxhLGMsbCx1LHAsZCxmLG07Zm9yKHI9W10sYz1bXSxsPXRoaXMuZXhwcmVzc2lvbnMscz1vPTAsYT1sLmxlbmd0aDthPm8mJihpPWxbc10saT1pLnVud3JhcCgpLGkgaW5zdGFuY2VvZiBofHxpIGluc3RhbmNlb2YgeCk7cz0rK28pO3JldHVybiBlPWh0KGUse2xldmVsOkx9KSxzJiYoZD10aGlzLmV4cHJlc3Npb25zLnNwbGljZShzLDllOSksdT1bdGhpcy5zcGFjZWQsITFdLG09dVswXSx0aGlzLnNwYWNlZD11WzFdLHA9W3RoaXMuY29tcGlsZU5vZGUoZSksbV0scj1wWzBdLHRoaXMuc3BhY2VkPXBbMV0sdGhpcy5leHByZXNzaW9ucz1kKSxjPXRoaXMuY29tcGlsZU5vZGUoZSksZj1lLnNjb3BlLGYuZXhwcmVzc2lvbnM9PT10aGlzJiYobj1lLnNjb3BlLmhhc0RlY2xhcmF0aW9ucygpLHQ9Zi5oYXNBc3NpZ25tZW50cyxufHx0PyhzJiZyLnB1c2godGhpcy5tYWtlQ29kZShcIlxcblwiKSksci5wdXNoKHRoaXMubWFrZUNvZGUodGhpcy50YWIrXCJ2YXIgXCIpKSxuJiZyLnB1c2godGhpcy5tYWtlQ29kZShmLmRlY2xhcmVkVmFyaWFibGVzKCkuam9pbihcIiwgXCIpKSksdCYmKG4mJnIucHVzaCh0aGlzLm1ha2VDb2RlKFwiLFxcblwiKyh0aGlzLnRhYitxKSkpLHIucHVzaCh0aGlzLm1ha2VDb2RlKGYuYXNzaWduZWRWYXJpYWJsZXMoKS5qb2luKFwiLFxcblwiKyh0aGlzLnRhYitxKSkpKSksci5wdXNoKHRoaXMubWFrZUNvZGUoXCI7XFxuXCIrKHRoaXMuc3BhY2VkP1wiXFxuXCI6XCJcIikpKSk6ci5sZW5ndGgmJmMubGVuZ3RoJiZyLnB1c2godGhpcy5tYWtlQ29kZShcIlxcblwiKSkpLHIuY29uY2F0KGMpfSx0LndyYXA9ZnVuY3Rpb24oZSl7cmV0dXJuIDE9PT1lLmxlbmd0aCYmZVswXWluc3RhbmNlb2YgdD9lWzBdOm5ldyB0KGUpfSx0fShyKSxlLkxpdGVyYWw9eD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMudmFsdWU9ZX1yZXR1cm4ga3QodCxlKSx0LnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNTdGF0ZW1lbnQoKT90aGlzOnQuX19zdXBlcl9fLm1ha2VSZXR1cm4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSx0LnByb3RvdHlwZS5pc0Fzc2lnbmFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gZy50ZXN0KHRoaXMudmFsdWUpfSx0LnByb3RvdHlwZS5pc1N0YXRlbWVudD1mdW5jdGlvbigpe3ZhciBlO3JldHVyblwiYnJlYWtcIj09PShlPXRoaXMudmFsdWUpfHxcImNvbnRpbnVlXCI9PT1lfHxcImRlYnVnZ2VyXCI9PT1lfSx0LnByb3RvdHlwZS5pc0NvbXBsZXg9RCx0LnByb3RvdHlwZS5hc3NpZ25zPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dGhpcy52YWx1ZX0sdC5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJicmVha1wiIT09dGhpcy52YWx1ZXx8KG51bGwhPWU/ZS5sb29wOnZvaWQgMCl8fChudWxsIT1lP2UuYmxvY2s6dm9pZCAwKT9cImNvbnRpbnVlXCIhPT10aGlzLnZhbHVlfHwobnVsbCE9ZT9lLmxvb3A6dm9pZCAwKT92b2lkIDA6dGhpczp0aGlzfSx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdCxuLGk7cmV0dXJuIG49XCJ0aGlzXCI9PT10aGlzLnZhbHVlPyhudWxsIT0oaT1lLnNjb3BlLm1ldGhvZCk/aS5ib3VuZDp2b2lkIDApP2Uuc2NvcGUubWV0aG9kLmNvbnRleHQ6dGhpcy52YWx1ZTp0aGlzLnZhbHVlLnJlc2VydmVkPydcIicrdGhpcy52YWx1ZSsnXCInOnRoaXMudmFsdWUsdD10aGlzLmlzU3RhdGVtZW50KCk/XCJcIit0aGlzLnRhYituK1wiO1wiOm4sW3RoaXMubWFrZUNvZGUodCldfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybicgXCInK3RoaXMudmFsdWUrJ1wiJ30sdH0ociksZS5VbmRlZmluZWQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGt0KHQsZSksdC5wcm90b3R5cGUuaXNBc3NpZ25hYmxlPUQsdC5wcm90b3R5cGUuaXNDb21wbGV4PUQsdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuW3RoaXMubWFrZUNvZGUoZS5sZXZlbD49VD9cIih2b2lkIDApXCI6XCJ2b2lkIDBcIildfSx0fShyKSxlLk51bGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3JldHVybiB0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9cmV0dXJuIGt0KHQsZSksdC5wcm90b3R5cGUuaXNBc3NpZ25hYmxlPUQsdC5wcm90b3R5cGUuaXNDb21wbGV4PUQsdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5tYWtlQ29kZShcIm51bGxcIildfSx0fShyKSxlLkJvb2w9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLnZhbD1lfXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmlzQXNzaWduYWJsZT1ELHQucHJvdG90eXBlLmlzQ29tcGxleD1ELHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuW3RoaXMubWFrZUNvZGUodGhpcy52YWwpXX0sdH0ociksZS5SZXR1cm49TT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuZXhwcmVzc2lvbj1lfXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImV4cHJlc3Npb25cIl0sdC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9USx0LnByb3RvdHlwZS5tYWtlUmV0dXJuPVgsdC5wcm90b3R5cGUuanVtcHM9WCx0LnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHM9ZnVuY3Rpb24oZSxuKXt2YXIgaSxyO3JldHVybiBpPW51bGwhPShyPXRoaXMuZXhwcmVzc2lvbik/ci5tYWtlUmV0dXJuKCk6dm9pZCAwLCFpfHxpIGluc3RhbmNlb2YgdD90Ll9fc3VwZXJfXy5jb21waWxlVG9GcmFnbWVudHMuY2FsbCh0aGlzLGUsbik6aS5jb21waWxlVG9GcmFnbWVudHMoZSxuKX0sdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpO3JldHVybiB0PVtdLG49bnVsbCE9KGk9dGhpcy5leHByZXNzaW9uKT9cImZ1bmN0aW9uXCI9PXR5cGVvZiBpLmlzWWllbGRSZXR1cm4/aS5pc1lpZWxkUmV0dXJuKCk6dm9pZCAwOnZvaWQgMCxufHx0LnB1c2godGhpcy5tYWtlQ29kZSh0aGlzLnRhYisoXCJyZXR1cm5cIisodGhpcy5leHByZXNzaW9uP1wiIFwiOlwiXCIpKSkpLHRoaXMuZXhwcmVzc2lvbiYmKHQ9dC5jb25jYXQodGhpcy5leHByZXNzaW9uLmNvbXBpbGVUb0ZyYWdtZW50cyhlLE4pKSksbnx8dC5wdXNoKHRoaXMubWFrZUNvZGUoXCI7XCIpKSx0fSx0fShyKSxlLlZhbHVlPXo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLG4saSl7cmV0dXJuIW4mJmUgaW5zdGFuY2VvZiB0P2U6KHRoaXMuYmFzZT1lLHRoaXMucHJvcGVydGllcz1ufHxbXSxpJiYodGhpc1tpXT0hMCksdGhpcyl9cmV0dXJuIGt0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wiYmFzZVwiLFwicHJvcGVydGllc1wiXSx0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHJvcGVydGllcz10aGlzLnByb3BlcnRpZXMuY29uY2F0KGUpLHRoaXN9LHQucHJvdG90eXBlLmhhc1Byb3BlcnRpZXM9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMucHJvcGVydGllcy5sZW5ndGh9LHQucHJvdG90eXBlLmJhcmVMaXRlcmFsPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLnByb3BlcnRpZXMubGVuZ3RoJiZ0aGlzLmJhc2UgaW5zdGFuY2VvZiBlfSx0LnByb3RvdHlwZS5pc0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFyZUxpdGVyYWwobil9LHQucHJvdG90eXBlLmlzUmFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXJlTGl0ZXJhbChqKX0sdC5wcm90b3R5cGUuaXNDb21wbGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUHJvcGVydGllcygpfHx0aGlzLmJhc2UuaXNDb21wbGV4KCl9LHQucHJvdG90eXBlLmlzQXNzaWduYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc1Byb3BlcnRpZXMoKXx8dGhpcy5iYXNlLmlzQXNzaWduYWJsZSgpfSx0LnByb3RvdHlwZS5pc1NpbXBsZU51bWJlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJhcmVMaXRlcmFsKHgpJiZCLnRlc3QodGhpcy5iYXNlLnZhbHVlKX0sdC5wcm90b3R5cGUuaXNTdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXJlTGl0ZXJhbCh4KSYmeS50ZXN0KHRoaXMuYmFzZS52YWx1ZSl9LHQucHJvdG90eXBlLmlzUmVnZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYXJlTGl0ZXJhbCh4KSYmdi50ZXN0KHRoaXMuYmFzZS52YWx1ZSl9LHQucHJvdG90eXBlLmlzQXRvbWljPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGk7Zm9yKGk9dGhpcy5wcm9wZXJ0aWVzLmNvbmNhdCh0aGlzLmJhc2UpLGU9MCx0PWkubGVuZ3RoO3Q+ZTtlKyspaWYobj1pW2VdLG4uc29ha3x8biBpbnN0YW5jZW9mIG8pcmV0dXJuITE7cmV0dXJuITB9LHQucHJvdG90eXBlLmlzTm90Q2FsbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1NpbXBsZU51bWJlcigpfHx0aGlzLmlzU3RyaW5nKCl8fHRoaXMuaXNSZWdleCgpfHx0aGlzLmlzQXJyYXkoKXx8dGhpcy5pc1JhbmdlKCl8fHRoaXMuaXNTcGxpY2UoKXx8dGhpcy5pc09iamVjdCgpfSx0LnByb3RvdHlwZS5pc1N0YXRlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCYmdGhpcy5iYXNlLmlzU3RhdGVtZW50KGUpfSx0LnByb3RvdHlwZS5hc3NpZ25zPWZ1bmN0aW9uKGUpe3JldHVybiF0aGlzLnByb3BlcnRpZXMubGVuZ3RoJiZ0aGlzLmJhc2UuYXNzaWducyhlKX0sdC5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMucHJvcGVydGllcy5sZW5ndGgmJnRoaXMuYmFzZS5qdW1wcyhlKX0sdC5wcm90b3R5cGUuaXNPYmplY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHJvcGVydGllcy5sZW5ndGg/ITE6dGhpcy5iYXNlIGluc3RhbmNlb2YgQSYmKCFlfHx0aGlzLmJhc2UuZ2VuZXJhdGVkKX0sdC5wcm90b3R5cGUuaXNTcGxpY2U9ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiB0PXRoaXMucHJvcGVydGllcyxlPXRbdC5sZW5ndGgtMV0sZSBpbnN0YW5jZW9mIFV9LHQucHJvdG90eXBlLmxvb2tzU3RhdGljPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzLmJhc2UudmFsdWU9PT1lJiYxPT09dGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCYmXCJwcm90b3R5cGVcIiE9PShudWxsIT0odD10aGlzLnByb3BlcnRpZXNbMF0ubmFtZSk/dC52YWx1ZTp2b2lkIDApfSx0LnByb3RvdHlwZS51bndyYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aD90aGlzOnRoaXMuYmFzZX0sdC5wcm90b3R5cGUuY2FjaGVSZWZlcmVuY2U9ZnVuY3Rpb24oZSl7dmFyIG4scixzLG8sYTtyZXR1cm4gYT10aGlzLnByb3BlcnRpZXMscz1hW2EubGVuZ3RoLTFdLDI+dGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCYmIXRoaXMuYmFzZS5pc0NvbXBsZXgoKSYmIShudWxsIT1zP3MuaXNDb21wbGV4KCk6dm9pZCAwKT9bdGhpcyx0aGlzXToobj1uZXcgdCh0aGlzLmJhc2UsdGhpcy5wcm9wZXJ0aWVzLnNsaWNlKDAsLTEpKSxuLmlzQ29tcGxleCgpJiYocj1uZXcgeChlLnNjb3BlLmZyZWVWYXJpYWJsZShcImJhc2VcIikpLG49bmV3IHQobmV3IE8obmV3IGkocixuKSkpKSxzPyhzLmlzQ29tcGxleCgpJiYobz1uZXcgeChlLnNjb3BlLmZyZWVWYXJpYWJsZShcIm5hbWVcIikpLHM9bmV3IHcobmV3IGkobyxzLmluZGV4KSksbz1uZXcgdyhvKSksW24uYWRkKHMpLG5ldyB0KHJ8fG4uYmFzZSxbb3x8c10pXSk6W24scl0pfSx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdCxuLGkscixzO2Zvcih0aGlzLmJhc2UuZnJvbnQ9dGhpcy5mcm9udCxzPXRoaXMucHJvcGVydGllcyx0PXRoaXMuYmFzZS5jb21waWxlVG9GcmFnbWVudHMoZSxzLmxlbmd0aD9UOm51bGwpLCh0aGlzLmJhc2UgaW5zdGFuY2VvZiBPfHxzLmxlbmd0aCkmJkIudGVzdChzdCh0KSkmJnQucHVzaCh0aGlzLm1ha2VDb2RlKFwiLlwiKSksbj0wLGk9cy5sZW5ndGg7aT5uO24rKylyPXNbbl0sdC5wdXNoLmFwcGx5KHQsci5jb21waWxlVG9GcmFnbWVudHMoZSkpO3JldHVybiB0fSx0LnByb3RvdHlwZS51bmZvbGRTb2FrPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT10aGlzLnVuZm9sZGVkU29haz90aGlzLnVuZm9sZGVkU29hazp0aGlzLnVuZm9sZGVkU29haz1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgcixzLG8sYSxjLGwsaCxwLGQsZjtpZihvPW4uYmFzZS51bmZvbGRTb2FrKGUpKXJldHVybihwPW8uYm9keS5wcm9wZXJ0aWVzKS5wdXNoLmFwcGx5KHAsbi5wcm9wZXJ0aWVzKSxvO2ZvcihkPW4ucHJvcGVydGllcyxzPWE9MCxjPWQubGVuZ3RoO2M+YTtzPSsrYSlpZihsPWRbc10sbC5zb2FrKXJldHVybiBsLnNvYWs9ITEscj1uZXcgdChuLmJhc2Usbi5wcm9wZXJ0aWVzLnNsaWNlKDAscykpLGY9bmV3IHQobi5iYXNlLG4ucHJvcGVydGllcy5zbGljZShzKSksci5pc0NvbXBsZXgoKSYmKGg9bmV3IHgoZS5zY29wZS5mcmVlVmFyaWFibGUoXCJyZWZcIikpLHI9bmV3IE8obmV3IGkoaCxyKSksZi5iYXNlPWgpLG5ldyBiKG5ldyB1KHIpLGYse3NvYWs6ITB9KTtyZXR1cm4hMX19KHRoaXMpKCl9LHR9KHIpLGUuQ29tbWVudD1oPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5jb21tZW50PWV9cmV0dXJuIGt0KHQsZSksdC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9USx0LnByb3RvdHlwZS5tYWtlUmV0dXJuPVgsdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixpO3JldHVybiBpPXRoaXMuY29tbWVudC5yZXBsYWNlKC9eKFxccyopIyAvZ20sXCIkMSAqIFwiKSxuPVwiLypcIit1dChpLHRoaXMudGFiKSsoVHQuY2FsbChpLFwiXFxuXCIpPj0wP1wiXFxuXCIrdGhpcy50YWI6XCJcIikrXCIgKi9cIiwodHx8ZS5sZXZlbCk9PT1MJiYobj1lLmluZGVudCtuKSxbdGhpcy5tYWtlQ29kZShcIlxcblwiKSx0aGlzLm1ha2VDb2RlKG4pXX0sdH0ociksZS5DYWxsPW89ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihlLHQsbil7dGhpcy5hcmdzPW51bGwhPXQ/dDpbXSx0aGlzLnNvYWs9bix0aGlzLmlzTmV3PSExLHRoaXMuaXNTdXBlcj1cInN1cGVyXCI9PT1lLHRoaXMudmFyaWFibGU9dGhpcy5pc1N1cGVyP251bGw6ZSxlIGluc3RhbmNlb2YgeiYmZS5pc05vdENhbGxhYmxlKCkmJmUuZXJyb3IoXCJsaXRlcmFsIGlzIG5vdCBhIGZ1bmN0aW9uXCIpfXJldHVybiBrdChuLGUpLG4ucHJvdG90eXBlLmNoaWxkcmVuPVtcInZhcmlhYmxlXCIsXCJhcmdzXCJdLG4ucHJvdG90eXBlLm5ld0luc3RhbmNlPWZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gZT0obnVsbCE9KHQ9dGhpcy52YXJpYWJsZSk/dC5iYXNlOnZvaWQgMCl8fHRoaXMudmFyaWFibGUsZSBpbnN0YW5jZW9mIG4mJiFlLmlzTmV3P2UubmV3SW5zdGFuY2UoKTp0aGlzLmlzTmV3PSEwLHRoaXN9LG4ucHJvdG90eXBlLnN1cGVyUmVmZXJlbmNlPWZ1bmN0aW9uKGUpe3ZhciBuLHIscyxvLGEsYyxsLGg7cmV0dXJuIGE9ZS5zY29wZS5uYW1lZE1ldGhvZCgpLChudWxsIT1hP2Eua2xhc3M6dm9pZCAwKT8obz1hLmtsYXNzLGM9YS5uYW1lLGg9YS52YXJpYWJsZSxvLmlzQ29tcGxleCgpJiYocz1uZXcgeChlLnNjb3BlLnBhcmVudC5mcmVlVmFyaWFibGUoXCJiYXNlXCIpKSxyPW5ldyB6KG5ldyBPKG5ldyBpKHMsbykpKSxoLmJhc2U9cixoLnByb3BlcnRpZXMuc3BsaWNlKDAsby5wcm9wZXJ0aWVzLmxlbmd0aCkpLChjLmlzQ29tcGxleCgpfHxjIGluc3RhbmNlb2YgdyYmYy5pbmRleC5pc0Fzc2lnbmFibGUoKSkmJihsPW5ldyB4KGUuc2NvcGUucGFyZW50LmZyZWVWYXJpYWJsZShcIm5hbWVcIikpLGM9bmV3IHcobmV3IGkobCxjLmluZGV4KSksaC5wcm9wZXJ0aWVzLnBvcCgpLGgucHJvcGVydGllcy5wdXNoKGMpKSxuPVtuZXcgdChuZXcgeChcIl9fc3VwZXJfX1wiKSldLGFbXCJzdGF0aWNcIl0mJm4ucHVzaChuZXcgdChuZXcgeChcImNvbnN0cnVjdG9yXCIpKSksbi5wdXNoKG51bGwhPWw/bmV3IHcobCk6YyksbmV3IHoobnVsbCE9cz9zOm8sbikuY29tcGlsZShlKSk6KG51bGwhPWE/YS5jdG9yOnZvaWQgMCk/YS5uYW1lK1wiLl9fc3VwZXJfXy5jb25zdHJ1Y3RvclwiOnRoaXMuZXJyb3IoXCJjYW5ub3QgY2FsbCBzdXBlciBvdXRzaWRlIG9mIGFuIGluc3RhbmNlIG1ldGhvZC5cIil9LG4ucHJvdG90eXBlLnN1cGVyVGhpcz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gdD1lLnNjb3BlLm1ldGhvZCx0JiYhdC5rbGFzcyYmdC5jb250ZXh0fHxcInRoaXNcIn0sbi5wcm90b3R5cGUudW5mb2xkU29haz1mdW5jdGlvbihlKXt2YXIgdCxpLHIscyxvLGEsYyxsLGg7aWYodGhpcy5zb2FrKXtpZih0aGlzLnZhcmlhYmxlKXtpZihpPXl0KGUsdGhpcyxcInZhcmlhYmxlXCIpKXJldHVybiBpO2M9bmV3IHoodGhpcy52YXJpYWJsZSkuY2FjaGVSZWZlcmVuY2UoZSkscz1jWzBdLGg9Y1sxXX1lbHNlIHM9bmV3IHgodGhpcy5zdXBlclJlZmVyZW5jZShlKSksaD1uZXcgeihzKTtyZXR1cm4gaD1uZXcgbihoLHRoaXMuYXJncyksaC5pc05ldz10aGlzLmlzTmV3LHM9bmV3IHgoXCJ0eXBlb2YgXCIrcy5jb21waWxlKGUpKycgPT09IFwiZnVuY3Rpb25cIicpLG5ldyBiKHMsbmV3IHooaCkse3NvYWs6ITB9KX1mb3IodD10aGlzLGE9W107OylpZih0LnZhcmlhYmxlIGluc3RhbmNlb2YgbilhLnB1c2godCksdD10LnZhcmlhYmxlO2Vsc2V7aWYoISh0LnZhcmlhYmxlIGluc3RhbmNlb2YgeikpYnJlYWs7aWYoYS5wdXNoKHQpLCEoKHQ9dC52YXJpYWJsZS5iYXNlKWluc3RhbmNlb2YgbikpYnJlYWt9Zm9yKGw9YS5yZXZlcnNlKCkscj0wLG89bC5sZW5ndGg7bz5yO3IrKyl0PWxbcl0saSYmKHQudmFyaWFibGUgaW5zdGFuY2VvZiBuP3QudmFyaWFibGU9aTp0LnZhcmlhYmxlLmJhc2U9aSksaT15dChlLHQsXCJ2YXJpYWJsZVwiKTtyZXR1cm4gaX0sbi5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscyxvLGEsYyxsLGg7aWYobnVsbCE9KGw9dGhpcy52YXJpYWJsZSkmJihsLmZyb250PXRoaXMuZnJvbnQpLHI9Ry5jb21waWxlU3BsYXR0ZWRBcnJheShlLHRoaXMuYXJncywhMCksci5sZW5ndGgpcmV0dXJuIHRoaXMuY29tcGlsZVNwbGF0KGUscik7Zm9yKGk9W10saD10aGlzLmFyZ3Msbj1vPTAsYT1oLmxlbmd0aDthPm87bj0rK28pdD1oW25dLG4mJmkucHVzaCh0aGlzLm1ha2VDb2RlKFwiLCBcIikpLGkucHVzaC5hcHBseShpLHQuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSkpO3JldHVybiBzPVtdLHRoaXMuaXNTdXBlcj8oYz10aGlzLnN1cGVyUmVmZXJlbmNlKGUpKyhcIi5jYWxsKFwiK3RoaXMuc3VwZXJUaGlzKGUpKSxpLmxlbmd0aCYmKGMrPVwiLCBcIikscy5wdXNoKHRoaXMubWFrZUNvZGUoYykpKToodGhpcy5pc05ldyYmcy5wdXNoKHRoaXMubWFrZUNvZGUoXCJuZXcgXCIpKSxzLnB1c2guYXBwbHkocyx0aGlzLnZhcmlhYmxlLmNvbXBpbGVUb0ZyYWdtZW50cyhlLFQpKSxzLnB1c2godGhpcy5tYWtlQ29kZShcIihcIikpKSxzLnB1c2guYXBwbHkocyxpKSxzLnB1c2godGhpcy5tYWtlQ29kZShcIilcIikpLHN9LG4ucHJvdG90eXBlLmNvbXBpbGVTcGxhdD1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixzLG8sYTtyZXR1cm4gdGhpcy5pc1N1cGVyP1tdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKHRoaXMuc3VwZXJSZWZlcmVuY2UoZSkrXCIuYXBwbHkoXCIrdGhpcy5zdXBlclRoaXMoZSkrXCIsIFwiKSx0LHRoaXMubWFrZUNvZGUoXCIpXCIpKTp0aGlzLmlzTmV3PyhzPXRoaXMudGFiK3EsW10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCIoZnVuY3Rpb24oZnVuYywgYXJncywgY3Rvcikge1xcblwiK3MrXCJjdG9yLnByb3RvdHlwZSA9IGZ1bmMucHJvdG90eXBlO1xcblwiK3MrXCJ2YXIgY2hpbGQgPSBuZXcgY3RvciwgcmVzdWx0ID0gZnVuYy5hcHBseShjaGlsZCwgYXJncyk7XFxuXCIrcytcInJldHVybiBPYmplY3QocmVzdWx0KSA9PT0gcmVzdWx0ID8gcmVzdWx0IDogY2hpbGQ7XFxuXCIrdGhpcy50YWIrXCJ9KShcIiksdGhpcy52YXJpYWJsZS5jb21waWxlVG9GcmFnbWVudHMoZSxFKSx0aGlzLm1ha2VDb2RlKFwiLCBcIiksdCx0aGlzLm1ha2VDb2RlKFwiLCBmdW5jdGlvbigpe30pXCIpKSk6KG49W10saT1uZXcgeih0aGlzLnZhcmlhYmxlKSwobz1pLnByb3BlcnRpZXMucG9wKCkpJiZpLmlzQ29tcGxleCgpPyhhPWUuc2NvcGUuZnJlZVZhcmlhYmxlKFwicmVmXCIpLG49bi5jb25jYXQodGhpcy5tYWtlQ29kZShcIihcIithK1wiID0gXCIpLGkuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSksdGhpcy5tYWtlQ29kZShcIilcIiksby5jb21waWxlVG9GcmFnbWVudHMoZSkpKToocj1pLmNvbXBpbGVUb0ZyYWdtZW50cyhlLFQpLEIudGVzdChzdChyKSkmJihyPXRoaXMud3JhcEluQnJhY2VzKHIpKSxvPyhhPXN0KHIpLHIucHVzaC5hcHBseShyLG8uY29tcGlsZVRvRnJhZ21lbnRzKGUpKSk6YT1cIm51bGxcIixuPW4uY29uY2F0KHIpKSxuPW4uY29uY2F0KHRoaXMubWFrZUNvZGUoXCIuYXBwbHkoXCIrYStcIiwgXCIpLHQsdGhpcy5tYWtlQ29kZShcIilcIikpKX0sbn0ociksZS5FeHRlbmRzPWQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3RoaXMuY2hpbGQ9ZSx0aGlzLnBhcmVudD10fXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImNoaWxkXCIsXCJwYXJlbnRcIl0sdC5wcm90b3R5cGUuY29tcGlsZVRvRnJhZ21lbnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgbyhuZXcgeihuZXcgeChidChcImV4dGVuZFwiLGUpKSksW3RoaXMuY2hpbGQsdGhpcy5wYXJlbnRdKS5jb21waWxlVG9GcmFnbWVudHMoZSl9LHR9KHIpLGUuQWNjZXNzPXQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3RoaXMubmFtZT1lLHRoaXMubmFtZS5hc0tleT0hMCx0aGlzLnNvYWs9XCJzb2FrXCI9PT10fXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcIm5hbWVcIl0sdC5wcm90b3R5cGUuY29tcGlsZVRvRnJhZ21lbnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0PXRoaXMubmFtZS5jb21waWxlVG9GcmFnbWVudHMoZSksZy50ZXN0KHN0KHQpKT90LnVuc2hpZnQodGhpcy5tYWtlQ29kZShcIi5cIikpOih0LnVuc2hpZnQodGhpcy5tYWtlQ29kZShcIltcIikpLHQucHVzaCh0aGlzLm1ha2VDb2RlKFwiXVwiKSkpLHR9LHQucHJvdG90eXBlLmlzQ29tcGxleD1ELHR9KHIpLGUuSW5kZXg9dz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuaW5kZXg9ZX1yZXR1cm4ga3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJpbmRleFwiXSx0LnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHM9ZnVuY3Rpb24oZSl7cmV0dXJuW10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCJbXCIpLHRoaXMuaW5kZXguY29tcGlsZVRvRnJhZ21lbnRzKGUsTiksdGhpcy5tYWtlQ29kZShcIl1cIikpfSx0LnByb3RvdHlwZS5pc0NvbXBsZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleC5pc0NvbXBsZXgoKX0sdH0ociksZS5SYW5nZT1qPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4pe3RoaXMuZnJvbT1lLHRoaXMudG89dCx0aGlzLmV4Y2x1c2l2ZT1cImV4Y2x1c2l2ZVwiPT09bix0aGlzLmVxdWFscz10aGlzLmV4Y2x1c2l2ZT9cIlwiOlwiPVwifXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImZyb21cIixcInRvXCJdLHQucHJvdG90eXBlLmNvbXBpbGVWYXJpYWJsZXM9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscyxvO3JldHVybiBlPWh0KGUse3RvcDohMH0pLHQ9dHQoZSxcImlzQ29tcGxleFwiKSxuPXRoaXMuY2FjaGVUb0NvZGVGcmFnbWVudHModGhpcy5mcm9tLmNhY2hlKGUsRSx0KSksdGhpcy5mcm9tQz1uWzBdLHRoaXMuZnJvbVZhcj1uWzFdLGk9dGhpcy5jYWNoZVRvQ29kZUZyYWdtZW50cyh0aGlzLnRvLmNhY2hlKGUsRSx0KSksdGhpcy50b0M9aVswXSx0aGlzLnRvVmFyPWlbMV0sKG89dHQoZSxcInN0ZXBcIikpJiYocj10aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKG8uY2FjaGUoZSxFLHQpKSx0aGlzLnN0ZXA9clswXSx0aGlzLnN0ZXBWYXI9clsxXSkscz1bdGhpcy5mcm9tVmFyLm1hdGNoKFIpLHRoaXMudG9WYXIubWF0Y2goUildLHRoaXMuZnJvbU51bT1zWzBdLHRoaXMudG9OdW09c1sxXSx0aGlzLnN0ZXBWYXI/dGhpcy5zdGVwTnVtPXRoaXMuc3RlcFZhci5tYXRjaChSKTp2b2lkIDB9LHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLHMsbyxhLGMsbCxoLHUscCxkLGY7cmV0dXJuIHRoaXMuZnJvbVZhcnx8dGhpcy5jb21waWxlVmFyaWFibGVzKGUpLGUuaW5kZXg/KGE9dGhpcy5mcm9tTnVtJiZ0aGlzLnRvTnVtLHM9dHQoZSxcImluZGV4XCIpLG89dHQoZSxcIm5hbWVcIiksbD1vJiZvIT09cyxmPXMrXCIgPSBcIit0aGlzLmZyb21DLHRoaXMudG9DIT09dGhpcy50b1ZhciYmKGYrPVwiLCBcIit0aGlzLnRvQyksdGhpcy5zdGVwIT09dGhpcy5zdGVwVmFyJiYoZis9XCIsIFwiK3RoaXMuc3RlcCksaD1bcytcIiA8XCIrdGhpcy5lcXVhbHMscytcIiA+XCIrdGhpcy5lcXVhbHNdLGM9aFswXSxyPWhbMV0sbj10aGlzLnN0ZXBOdW0/cHQodGhpcy5zdGVwTnVtWzBdKT4wP2MrXCIgXCIrdGhpcy50b1ZhcjpyK1wiIFwiK3RoaXMudG9WYXI6YT8odT1bcHQodGhpcy5mcm9tTnVtWzBdKSxwdCh0aGlzLnRvTnVtWzBdKV0saT11WzBdLGQ9dVsxXSx1LGQ+PWk/YytcIiBcIitkOnIrXCIgXCIrZCk6KHQ9dGhpcy5zdGVwVmFyP3RoaXMuc3RlcFZhcitcIiA+IDBcIjp0aGlzLmZyb21WYXIrXCIgPD0gXCIrdGhpcy50b1Zhcix0K1wiID8gXCIrYytcIiBcIit0aGlzLnRvVmFyK1wiIDogXCIrcitcIiBcIit0aGlzLnRvVmFyKSxwPXRoaXMuc3RlcFZhcj9zK1wiICs9IFwiK3RoaXMuc3RlcFZhcjphP2w/ZD49aT9cIisrXCIrczpcIi0tXCIrczpkPj1pP3MrXCIrK1wiOnMrXCItLVwiOmw/dCtcIiA/ICsrXCIrcytcIiA6IC0tXCIrczp0K1wiID8gXCIrcytcIisrIDogXCIrcytcIi0tXCIsbCYmKGY9bytcIiA9IFwiK2YpLGwmJihwPW8rXCIgPSBcIitwKSxbdGhpcy5tYWtlQ29kZShmK1wiOyBcIituK1wiOyBcIitwKV0pOnRoaXMuY29tcGlsZUFycmF5KGUpfSx0LnByb3RvdHlwZS5jb21waWxlQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscyxvLGEsYyxsLGgsdSxwLGQ7cmV0dXJuIHRoaXMuZnJvbU51bSYmdGhpcy50b051bSYmMjA+PU1hdGguYWJzKHRoaXMuZnJvbU51bS10aGlzLnRvTnVtKT8obD1mdW5jdGlvbigpe3A9W107Zm9yKHZhciBlPWg9K3RoaXMuZnJvbU51bSx0PSt0aGlzLnRvTnVtO3Q+PWg/dD49ZTplPj10O3Q+PWg/ZSsrOmUtLSlwLnB1c2goZSk7cmV0dXJuIHB9LmFwcGx5KHRoaXMpLHRoaXMuZXhjbHVzaXZlJiZsLnBvcCgpLFt0aGlzLm1ha2VDb2RlKFwiW1wiK2wuam9pbihcIiwgXCIpK1wiXVwiKV0pOihvPXRoaXMudGFiK3Escz1lLnNjb3BlLmZyZWVWYXJpYWJsZShcImlcIix7c2luZ2xlOiEwfSksdT1lLnNjb3BlLmZyZWVWYXJpYWJsZShcInJlc3VsdHNcIiksYz1cIlxcblwiK28rdStcIiA9IFtdO1wiLHRoaXMuZnJvbU51bSYmdGhpcy50b051bT8oZS5pbmRleD1zLG49c3QodGhpcy5jb21waWxlTm9kZShlKSkpOihkPXMrXCIgPSBcIit0aGlzLmZyb21DKyh0aGlzLnRvQyE9PXRoaXMudG9WYXI/XCIsIFwiK3RoaXMudG9DOlwiXCIpLGk9dGhpcy5mcm9tVmFyK1wiIDw9IFwiK3RoaXMudG9WYXIsbj1cInZhciBcIitkK1wiOyBcIitpK1wiID8gXCIrcytcIiA8XCIrdGhpcy5lcXVhbHMrXCIgXCIrdGhpcy50b1ZhcitcIiA6IFwiK3MrXCIgPlwiK3RoaXMuZXF1YWxzK1wiIFwiK3RoaXMudG9WYXIrXCI7IFwiK2krXCIgPyBcIitzK1wiKysgOiBcIitzK1wiLS1cIiksYT1cInsgXCIrdStcIi5wdXNoKFwiK3MrXCIpOyB9XFxuXCIrbytcInJldHVybiBcIit1K1wiO1xcblwiK2UuaW5kZW50LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWU/ZS5jb250YWlucyhhdCk6dm9pZCAwfSwocih0aGlzLmZyb20pfHxyKHRoaXMudG8pKSYmKHQ9XCIsIGFyZ3VtZW50c1wiKSxbdGhpcy5tYWtlQ29kZShcIihmdW5jdGlvbigpIHtcIitjK1wiXFxuXCIrbytcImZvciAoXCIrbitcIilcIithK1wifSkuYXBwbHkodGhpc1wiKyhudWxsIT10P3Q6XCJcIikrXCIpXCIpXSl9LHR9KHIpLGUuU2xpY2U9VT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMucmFuZ2U9ZSx0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpfXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcInJhbmdlXCJdLHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLHMsbyxhO3JldHVybiBzPXRoaXMucmFuZ2Usbz1zLnRvLGk9cy5mcm9tLHI9aSYmaS5jb21waWxlVG9GcmFnbWVudHMoZSxOKXx8W3RoaXMubWFrZUNvZGUoXCIwXCIpXSxvJiYodD1vLmNvbXBpbGVUb0ZyYWdtZW50cyhlLE4pLG49c3QodCksKHRoaXMucmFuZ2UuZXhjbHVzaXZlfHwtMSE9PStuKSYmKGE9XCIsIFwiKyh0aGlzLnJhbmdlLmV4Y2x1c2l2ZT9uOkIudGVzdChuKT9cIlwiKygrbisxKToodD1vLmNvbXBpbGVUb0ZyYWdtZW50cyhlLFQpLFwiK1wiK3N0KHQpK1wiICsgMSB8fCA5ZTlcIikpKSksW3RoaXMubWFrZUNvZGUoXCIuc2xpY2UoXCIrc3QocikrKGF8fFwiXCIpK1wiKVwiKV19LHR9KHIpLGUuT2JqPUE9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihlLHQpe3RoaXMuZ2VuZXJhdGVkPW51bGwhPXQ/dDohMSx0aGlzLm9iamVjdHM9dGhpcy5wcm9wZXJ0aWVzPWV8fFtdfXJldHVybiBrdChuLGUpLG4ucHJvdG90eXBlLmNoaWxkcmVuPVtcInByb3BlcnRpZXNcIl0sbi5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIG4scixzLG8sYSxjLGwsdSxwLGQsZixtLGcsdix5LGIsayx3LFQsQyxFO2lmKFQ9dGhpcy5wcm9wZXJ0aWVzLHRoaXMuZ2VuZXJhdGVkKWZvcihsPTAsZz1ULmxlbmd0aDtnPmw7bCsrKWI9VFtsXSxiIGluc3RhbmNlb2YgeiYmYi5lcnJvcihcImNhbm5vdCBoYXZlIGFuIGltcGxpY2l0IHZhbHVlIGluIGFuIGltcGxpY2l0IG9iamVjdFwiKTtmb3Iocj1wPTAsdj1ULmxlbmd0aDt2PnAmJih3PVRbcl0sISgody52YXJpYWJsZXx8dykuYmFzZSBpbnN0YW5jZW9mIE8pKTtyPSsrcCk7Zm9yKHM9VC5sZW5ndGg+cixhPWUuaW5kZW50Kz1xLG09dGhpcy5sYXN0Tm9uQ29tbWVudCh0aGlzLnByb3BlcnRpZXMpLG49W10scyYmKGs9ZS5zY29wZS5mcmVlVmFyaWFibGUoXCJvYmpcIiksbi5wdXNoKHRoaXMubWFrZUNvZGUoXCIoXFxuXCIrYStrK1wiID0gXCIpKSksbi5wdXNoKHRoaXMubWFrZUNvZGUoXCJ7XCIrKDA9PT1ULmxlbmd0aHx8MD09PXI/XCJ9XCI6XCJcXG5cIikpKSxvPWY9MCx5PVQubGVuZ3RoO3k+ZjtvPSsrZil3PVRbb10sbz09PXImJigwIT09byYmbi5wdXNoKHRoaXMubWFrZUNvZGUoXCJcXG5cIithK1wifVwiKSksbi5wdXNoKHRoaXMubWFrZUNvZGUoXCIsXFxuXCIpKSksdT1vPT09VC5sZW5ndGgtMXx8bz09PXItMT9cIlwiOnc9PT1tfHx3IGluc3RhbmNlb2YgaD9cIlxcblwiOlwiLFxcblwiLGM9dyBpbnN0YW5jZW9mIGg/XCJcIjphLHMmJnI+byYmKGMrPXEpLHcgaW5zdGFuY2VvZiBpJiZ3LnZhcmlhYmxlIGluc3RhbmNlb2YgeiYmdy52YXJpYWJsZS5oYXNQcm9wZXJ0aWVzKCkmJncudmFyaWFibGUuZXJyb3IoXCJJbnZhbGlkIG9iamVjdCBrZXlcIiksdyBpbnN0YW5jZW9mIHomJndbXCJ0aGlzXCJdJiYodz1uZXcgaSh3LnByb3BlcnRpZXNbMF0ubmFtZSx3LFwib2JqZWN0XCIpKSx3IGluc3RhbmNlb2YgaHx8KHI+bz8odyBpbnN0YW5jZW9mIGl8fCh3PW5ldyBpKHcsdyxcIm9iamVjdFwiKSksKHcudmFyaWFibGUuYmFzZXx8dy52YXJpYWJsZSkuYXNLZXk9ITApOih3IGluc3RhbmNlb2YgaT8oZD13LnZhcmlhYmxlLEU9dy52YWx1ZSk6KEM9dy5iYXNlLmNhY2hlKGUpLGQ9Q1swXSxFPUNbMV0pLHc9bmV3IGkobmV3IHoobmV3IHgoayksW25ldyB0KGQpXSksRSkpKSxjJiZuLnB1c2godGhpcy5tYWtlQ29kZShjKSksbi5wdXNoLmFwcGx5KG4sdy5jb21waWxlVG9GcmFnbWVudHMoZSxMKSksdSYmbi5wdXNoKHRoaXMubWFrZUNvZGUodSkpO3JldHVybiBzP24ucHVzaCh0aGlzLm1ha2VDb2RlKFwiLFxcblwiK2EraytcIlxcblwiK3RoaXMudGFiK1wiKVwiKSk6MCE9PVQubGVuZ3RoJiZuLnB1c2godGhpcy5tYWtlQ29kZShcIlxcblwiK3RoaXMudGFiK1wifVwiKSksdGhpcy5mcm9udCYmIXM/dGhpcy53cmFwSW5CcmFjZXMobik6bn0sbi5wcm90b3R5cGUuYXNzaWducz1mdW5jdGlvbihlKXt2YXIgdCxuLGkscjtmb3Iocj10aGlzLnByb3BlcnRpZXMsdD0wLG49ci5sZW5ndGg7bj50O3QrKylpZihpPXJbdF0saS5hc3NpZ25zKGUpKXJldHVybiEwO3JldHVybiExfSxufShyKSxlLkFycj1uPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dGhpcy5vYmplY3RzPWV8fFtdfXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcIm9iamVjdHNcIl0sdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscyxvLGE7aWYoIXRoaXMub2JqZWN0cy5sZW5ndGgpcmV0dXJuW3RoaXMubWFrZUNvZGUoXCJbXVwiKV07aWYoZS5pbmRlbnQrPXEsdD1HLmNvbXBpbGVTcGxhdHRlZEFycmF5KGUsdGhpcy5vYmplY3RzKSx0Lmxlbmd0aClyZXR1cm4gdDtmb3IodD1bXSxuPWZ1bmN0aW9uKCl7dmFyIHQsbixpLHI7Zm9yKGk9dGhpcy5vYmplY3RzLHI9W10sdD0wLG49aS5sZW5ndGg7bj50O3QrKylhPWlbdF0sci5wdXNoKGEuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSkpO3JldHVybiByfS5jYWxsKHRoaXMpLHI9cz0wLG89bi5sZW5ndGg7bz5zO3I9KytzKWk9bltyXSxyJiZ0LnB1c2godGhpcy5tYWtlQ29kZShcIiwgXCIpKSx0LnB1c2guYXBwbHkodCxpKTtyZXR1cm4gc3QodCkuaW5kZXhPZihcIlxcblwiKT49MD8odC51bnNoaWZ0KHRoaXMubWFrZUNvZGUoXCJbXFxuXCIrZS5pbmRlbnQpKSx0LnB1c2godGhpcy5tYWtlQ29kZShcIlxcblwiK3RoaXMudGFiK1wiXVwiKSkpOih0LnVuc2hpZnQodGhpcy5tYWtlQ29kZShcIltcIikpLHQucHVzaCh0aGlzLm1ha2VDb2RlKFwiXVwiKSkpLHR9LHQucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHI7Zm9yKHI9dGhpcy5vYmplY3RzLHQ9MCxuPXIubGVuZ3RoO24+dDt0KyspaWYoaT1yW3RdLGkuYXNzaWducyhlKSlyZXR1cm4hMDtyZXR1cm4hMX0sdH0ociksZS5DbGFzcz1hPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIG4oZSx0LG4pe3RoaXMudmFyaWFibGU9ZSx0aGlzLnBhcmVudD10LHRoaXMuYm9keT1udWxsIT1uP246bmV3IHMsdGhpcy5ib3VuZEZ1bmNzPVtdLHRoaXMuYm9keS5jbGFzc0JvZHk9ITB9cmV0dXJuIGt0KG4sZSksbi5wcm90b3R5cGUuY2hpbGRyZW49W1widmFyaWFibGVcIixcInBhcmVudFwiLFwiYm9keVwiXSxuLnByb3RvdHlwZS5kZXRlcm1pbmVOYW1lPWZ1bmN0aW9uKCl7dmFyIGUsbixpO3JldHVybiB0aGlzLnZhcmlhYmxlPyhuPXRoaXMudmFyaWFibGUucHJvcGVydGllcyxpPW5bbi5sZW5ndGgtMV0sZT1pP2kgaW5zdGFuY2VvZiB0JiZpLm5hbWUudmFsdWU6dGhpcy52YXJpYWJsZS5iYXNlLnZhbHVlLFR0LmNhbGwoVixlKT49MCYmdGhpcy52YXJpYWJsZS5lcnJvcihcImNsYXNzIHZhcmlhYmxlIG5hbWUgbWF5IG5vdCBiZSBcIitlKSxlJiYoZT1nLnRlc3QoZSkmJmUpKTpudWxsfSxuLnByb3RvdHlwZS5zZXRDb250ZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmJvZHkudHJhdmVyc2VDaGlsZHJlbighMSxmdW5jdGlvbih0KXtyZXR1cm4gdC5jbGFzc0JvZHk/ITE6dCBpbnN0YW5jZW9mIHgmJlwidGhpc1wiPT09dC52YWx1ZT90LnZhbHVlPWU6dCBpbnN0YW5jZW9mIGMmJnQuYm91bmQ/dC5jb250ZXh0PWU6dm9pZCAwfSl9LG4ucHJvdG90eXBlLmFkZEJvdW5kRnVuY3Rpb25zPWZ1bmN0aW9uKGUpe3ZhciBuLGkscixzLG87Zm9yKG89dGhpcy5ib3VuZEZ1bmNzLGk9MCxyPW8ubGVuZ3RoO3I+aTtpKyspbj1vW2ldLHM9bmV3IHoobmV3IHgoXCJ0aGlzXCIpLFtuZXcgdChuKV0pLmNvbXBpbGUoZSksdGhpcy5jdG9yLmJvZHkudW5zaGlmdChuZXcgeChzK1wiID0gXCIrYnQoXCJiaW5kXCIsZSkrXCIoXCIrcytcIiwgdGhpcylcIikpfSxuLnByb3RvdHlwZS5hZGRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsbixyKXt2YXIgcyxvLGEsbCxoLHU7cmV0dXJuIHU9ZS5iYXNlLnByb3BlcnRpZXMuc2xpY2UoMCksbD1mdW5jdGlvbigpe3ZhciBlO2ZvcihlPVtdO289dS5zaGlmdCgpOylvIGluc3RhbmNlb2YgaSYmKGE9by52YXJpYWJsZS5iYXNlLGRlbGV0ZSBvLmNvbnRleHQsaD1vLnZhbHVlLFwiY29uc3RydWN0b3JcIj09PWEudmFsdWU/KHRoaXMuY3RvciYmby5lcnJvcihcImNhbm5vdCBkZWZpbmUgbW9yZSB0aGFuIG9uZSBjb25zdHJ1Y3RvciBpbiBhIGNsYXNzXCIpLGguYm91bmQmJm8uZXJyb3IoXCJjYW5ub3QgZGVmaW5lIGEgY29uc3RydWN0b3IgYXMgYSBib3VuZCBmdW5jdGlvblwiKSxoIGluc3RhbmNlb2YgYz9vPXRoaXMuY3Rvcj1oOih0aGlzLmV4dGVybmFsQ3Rvcj1yLmNsYXNzU2NvcGUuZnJlZVZhcmlhYmxlKFwiY2xhc3NcIiksbz1uZXcgaShuZXcgeCh0aGlzLmV4dGVybmFsQ3RvciksaCkpKTpvLnZhcmlhYmxlW1widGhpc1wiXT9oW1wic3RhdGljXCJdPSEwOihzPWEuaXNDb21wbGV4KCk/bmV3IHcoYSk6bmV3IHQoYSksby52YXJpYWJsZT1uZXcgeihuZXcgeChuKSxbbmV3IHQobmV3IHgoXCJwcm90b3R5cGVcIikpLHNdKSxoIGluc3RhbmNlb2YgYyYmaC5ib3VuZCYmKHRoaXMuYm91bmRGdW5jcy5wdXNoKGEpLGguYm91bmQ9ITEpKSksZS5wdXNoKG8pO3JldHVybiBlfS5jYWxsKHRoaXMpLGV0KGwpfSxuLnByb3RvdHlwZS53YWxrQm9keT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnRyYXZlcnNlQ2hpbGRyZW4oITEsZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBhLGMsbCxoLHUscCxkO2lmKGE9ITAsbyBpbnN0YW5jZW9mIG4pcmV0dXJuITE7aWYobyBpbnN0YW5jZW9mIHMpe2ZvcihkPWM9by5leHByZXNzaW9ucyxsPWg9MCx1PWQubGVuZ3RoO3U+aDtsPSsraClwPWRbbF0scCBpbnN0YW5jZW9mIGkmJnAudmFyaWFibGUubG9va3NTdGF0aWMoZSk/cC52YWx1ZVtcInN0YXRpY1wiXT0hMDpwIGluc3RhbmNlb2YgeiYmcC5pc09iamVjdCghMCkmJihhPSExLGNbbF09ci5hZGRQcm9wZXJ0aWVzKHAsZSx0KSk7by5leHByZXNzaW9ucz1jPXJ0KGMpfXJldHVybiBhJiYhKG8gaW5zdGFuY2VvZiBuKX19KHRoaXMpKX0sbi5wcm90b3R5cGUuaG9pc3REaXJlY3RpdmVQcm9sb2d1ZT1mdW5jdGlvbigpe3ZhciBlLHQsbjtmb3IodD0wLGU9dGhpcy5ib2R5LmV4cHJlc3Npb25zOyhuPWVbdF0pJiZuIGluc3RhbmNlb2YgaHx8biBpbnN0YW5jZW9mIHomJm4uaXNTdHJpbmcoKTspKyt0O3JldHVybiB0aGlzLmRpcmVjdGl2ZXM9ZS5zcGxpY2UoMCx0KX0sbi5wcm90b3R5cGUuZW5zdXJlQ29uc3RydWN0b3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY3Rvcnx8KHRoaXMuY3Rvcj1uZXcgYyx0aGlzLmV4dGVybmFsQ3Rvcj90aGlzLmN0b3IuYm9keS5wdXNoKG5ldyB4KHRoaXMuZXh0ZXJuYWxDdG9yK1wiLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcIikpOnRoaXMucGFyZW50JiZ0aGlzLmN0b3IuYm9keS5wdXNoKG5ldyB4KGUrXCIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcIikpLHRoaXMuY3Rvci5ib2R5Lm1ha2VSZXR1cm4oKSx0aGlzLmJvZHkuZXhwcmVzc2lvbnMudW5zaGlmdCh0aGlzLmN0b3IpKSx0aGlzLmN0b3IuY3Rvcj10aGlzLmN0b3IubmFtZT1lLHRoaXMuY3Rvci5rbGFzcz1udWxsLHRoaXMuY3Rvci5ub1JldHVybj0hMH0sbi5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGEsbCxoLHUscCxmO3JldHVybihhPXRoaXMuYm9keS5qdW1wcygpKSYmYS5lcnJvcihcIkNsYXNzIGJvZGllcyBjYW5ub3QgY29udGFpbiBwdXJlIHN0YXRlbWVudHNcIiksKG49dGhpcy5ib2R5LmNvbnRhaW5zKGF0KSkmJm4uZXJyb3IoXCJDbGFzcyBib2RpZXMgc2hvdWxkbid0IHJlZmVyZW5jZSBhcmd1bWVudHNcIiksdT10aGlzLmRldGVybWluZU5hbWUoKXx8XCJfQ2xhc3NcIix1LnJlc2VydmVkJiYodT1cIl9cIit1KSxoPW5ldyB4KHUpLHI9bmV3IGMoW10scy53cmFwKFt0aGlzLmJvZHldKSksdD1bXSxlLmNsYXNzU2NvcGU9ci5tYWtlU2NvcGUoZS5zY29wZSksdGhpcy5ob2lzdERpcmVjdGl2ZVByb2xvZ3VlKCksdGhpcy5zZXRDb250ZXh0KHUpLHRoaXMud2Fsa0JvZHkodSxlKSx0aGlzLmVuc3VyZUNvbnN0cnVjdG9yKHUpLHRoaXMuYWRkQm91bmRGdW5jdGlvbnMoZSksdGhpcy5ib2R5LnNwYWNlZD0hMCx0aGlzLmJvZHkuZXhwcmVzc2lvbnMucHVzaChoKSx0aGlzLnBhcmVudCYmKGY9bmV3IHgoZS5jbGFzc1Njb3BlLmZyZWVWYXJpYWJsZShcInN1cGVyQ2xhc3NcIix7cmVzZXJ2ZTohMX0pKSx0aGlzLmJvZHkuZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgZChoLGYpKSxyLnBhcmFtcy5wdXNoKG5ldyBfKGYpKSx0LnB1c2godGhpcy5wYXJlbnQpKSwocD10aGlzLmJvZHkuZXhwcmVzc2lvbnMpLnVuc2hpZnQuYXBwbHkocCx0aGlzLmRpcmVjdGl2ZXMpLGw9bmV3IE8obmV3IG8ocix0KSksdGhpcy52YXJpYWJsZSYmKGw9bmV3IGkodGhpcy52YXJpYWJsZSxsKSksbC5jb21waWxlVG9GcmFnbWVudHMoZSl9LG59KHIpLGUuQXNzaWduPWk9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gbihlLHQsbixpKXt2YXIgcixzLG87dGhpcy52YXJpYWJsZT1lLHRoaXMudmFsdWU9dCx0aGlzLmNvbnRleHQ9bix0aGlzLnBhcmFtPWkmJmkucGFyYW0sdGhpcy5zdWJwYXR0ZXJuPWkmJmkuc3VicGF0dGVybixvPXM9dGhpcy52YXJpYWJsZS51bndyYXBBbGwoKS52YWx1ZSxyPVR0LmNhbGwoVixvKT49MCxyJiZcIm9iamVjdFwiIT09dGhpcy5jb250ZXh0JiZ0aGlzLnZhcmlhYmxlLmVycm9yKCd2YXJpYWJsZSBuYW1lIG1heSBub3QgYmUgXCInK3MrJ1wiJyl9cmV0dXJuIGt0KG4sZSksbi5wcm90b3R5cGUuY2hpbGRyZW49W1widmFyaWFibGVcIixcInZhbHVlXCJdLG4ucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3JldHVybihudWxsIT1lP2UubGV2ZWw6dm9pZCAwKT09PUwmJm51bGwhPXRoaXMuY29udGV4dCYmVHQuY2FsbCh0aGlzLmNvbnRleHQsXCI/XCIpPj0wXG59LG4ucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXNbXCJvYmplY3RcIj09PXRoaXMuY29udGV4dD9cInZhbHVlXCI6XCJ2YXJpYWJsZVwiXS5hc3NpZ25zKGUpfSxuLnByb3RvdHlwZS51bmZvbGRTb2FrPWZ1bmN0aW9uKGUpe3JldHVybiB5dChlLHRoaXMsXCJ2YXJpYWJsZVwiKX0sbi5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscyxvLGEsbCxoLHUscCxkLGYsbTtpZihpPXRoaXMudmFyaWFibGUgaW5zdGFuY2VvZiB6KXtpZih0aGlzLnZhcmlhYmxlLmlzQXJyYXkoKXx8dGhpcy52YXJpYWJsZS5pc09iamVjdCgpKXJldHVybiB0aGlzLmNvbXBpbGVQYXR0ZXJuTWF0Y2goZSk7aWYodGhpcy52YXJpYWJsZS5pc1NwbGljZSgpKXJldHVybiB0aGlzLmNvbXBpbGVTcGxpY2UoZSk7aWYoXCJ8fD1cIj09PShsPXRoaXMuY29udGV4dCl8fFwiJiY9XCI9PT1sfHxcIj89XCI9PT1sKXJldHVybiB0aGlzLmNvbXBpbGVDb25kaXRpb25hbChlKTtpZihcIioqPVwiPT09KGg9dGhpcy5jb250ZXh0KXx8XCIvLz1cIj09PWh8fFwiJSU9XCI9PT1oKXJldHVybiB0aGlzLmNvbXBpbGVTcGVjaWFsTWF0aChlKX1yZXR1cm4gdGhpcy52YWx1ZSBpbnN0YW5jZW9mIGMmJih0aGlzLnZhbHVlW1wic3RhdGljXCJdPyh0aGlzLnZhbHVlLmtsYXNzPXRoaXMudmFyaWFibGUuYmFzZSx0aGlzLnZhbHVlLm5hbWU9dGhpcy52YXJpYWJsZS5wcm9wZXJ0aWVzWzBdLHRoaXMudmFsdWUudmFyaWFibGU9dGhpcy52YXJpYWJsZSk6KG51bGwhPSh1PXRoaXMudmFyaWFibGUucHJvcGVydGllcyk/dS5sZW5ndGg6dm9pZCAwKT49MiYmKHA9dGhpcy52YXJpYWJsZS5wcm9wZXJ0aWVzLG89cC5sZW5ndGg+PTM/Q3QuY2FsbChwLDAscj1wLmxlbmd0aC0yKToocj0wLFtdKSxhPXBbcisrXSxzPXBbcisrXSxcInByb3RvdHlwZVwiPT09KG51bGwhPShkPWEubmFtZSk/ZC52YWx1ZTp2b2lkIDApJiYodGhpcy52YWx1ZS5rbGFzcz1uZXcgeih0aGlzLnZhcmlhYmxlLmJhc2UsbyksdGhpcy52YWx1ZS5uYW1lPXMsdGhpcy52YWx1ZS52YXJpYWJsZT10aGlzLnZhcmlhYmxlKSkpLHRoaXMuY29udGV4dHx8KG09dGhpcy52YXJpYWJsZS51bndyYXBBbGwoKSxtLmlzQXNzaWduYWJsZSgpfHx0aGlzLnZhcmlhYmxlLmVycm9yKCdcIicrdGhpcy52YXJpYWJsZS5jb21waWxlKGUpKydcIiBjYW5ub3QgYmUgYXNzaWduZWQnKSwoXCJmdW5jdGlvblwiPT10eXBlb2YgbS5oYXNQcm9wZXJ0aWVzP20uaGFzUHJvcGVydGllcygpOnZvaWQgMCl8fCh0aGlzLnBhcmFtP2Uuc2NvcGUuYWRkKG0udmFsdWUsXCJ2YXJcIik6ZS5zY29wZS5maW5kKG0udmFsdWUpKSksZj10aGlzLnZhbHVlLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEUpLG49dGhpcy52YXJpYWJsZS5jb21waWxlVG9GcmFnbWVudHMoZSxFKSxcIm9iamVjdFwiPT09dGhpcy5jb250ZXh0P24uY29uY2F0KHRoaXMubWFrZUNvZGUoXCI6IFwiKSxmKToodD1uLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiIFwiKyh0aGlzLmNvbnRleHR8fFwiPVwiKStcIiBcIiksZiksRT49ZS5sZXZlbD90OnRoaXMud3JhcEluQnJhY2VzKHQpKX0sbi5wcm90b3R5cGUuY29tcGlsZVBhdHRlcm5NYXRjaD1mdW5jdGlvbihlKXt2YXIgaSxyLHMsbyxhLGMsbCxoLHUsZCxmLG0sdix5LGIsayxULEMsTixTLEQsUixBLEksXyxqLE0sQjtpZihJPWUubGV2ZWw9PT1MLGo9dGhpcy52YWx1ZSx5PXRoaXMudmFyaWFibGUuYmFzZS5vYmplY3RzLCEoYj15Lmxlbmd0aCkpcmV0dXJuIHM9ai5jb21waWxlVG9GcmFnbWVudHMoZSksZS5sZXZlbD49Rj90aGlzLndyYXBJbkJyYWNlcyhzKTpzO2lmKGg9dGhpcy52YXJpYWJsZS5pc09iamVjdCgpLEkmJjE9PT1iJiYhKCh2PXlbMF0paW5zdGFuY2VvZiBHKSlyZXR1cm4gdiBpbnN0YW5jZW9mIG4/KFQ9dixDPVQudmFyaWFibGUsbD1DLmJhc2Usdj1ULnZhbHVlKTpsPWg/dltcInRoaXNcIl0/di5wcm9wZXJ0aWVzWzBdLm5hbWU6djpuZXcgeCgwKSxpPWcudGVzdChsLnVud3JhcCgpLnZhbHVlfHwwKSxqPW5ldyB6KGopLGoucHJvcGVydGllcy5wdXNoKG5ldyhpP3Q6dykobCkpLE49di51bndyYXAoKS52YWx1ZSxUdC5jYWxsKCQsTik+PTAmJnYuZXJyb3IoXCJhc3NpZ25tZW50IHRvIGEgcmVzZXJ2ZWQgd29yZDogXCIrdi5jb21waWxlKGUpKSxuZXcgbih2LGosbnVsbCx7cGFyYW06dGhpcy5wYXJhbX0pLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEwpO2ZvcihNPWouY29tcGlsZVRvRnJhZ21lbnRzKGUsRSksQj1zdChNKSxyPVtdLG89ITEsKCFnLnRlc3QoQil8fHRoaXMudmFyaWFibGUuYXNzaWducyhCKSkmJihyLnB1c2goW3RoaXMubWFrZUNvZGUoKGs9ZS5zY29wZS5mcmVlVmFyaWFibGUoXCJyZWZcIikpK1wiID0gXCIpXS5jb25jYXQoQ3QuY2FsbChNKSkpLE09W3RoaXMubWFrZUNvZGUoayldLEI9ayksYz1kPTAsZj15Lmxlbmd0aDtmPmQ7Yz0rK2Qpe2lmKHY9eVtjXSxsPWMsaCYmKHYgaW5zdGFuY2VvZiBuPyhTPXYsRD1TLnZhcmlhYmxlLGw9RC5iYXNlLHY9Uy52YWx1ZSk6di5iYXNlIGluc3RhbmNlb2YgTz8oUj1uZXcgeih2LnVud3JhcEFsbCgpKS5jYWNoZVJlZmVyZW5jZShlKSx2PVJbMF0sbD1SWzFdKTpsPXZbXCJ0aGlzXCJdP3YucHJvcGVydGllc1swXS5uYW1lOnYpLCFvJiZ2IGluc3RhbmNlb2YgRyltPXYubmFtZS51bndyYXAoKS52YWx1ZSx2PXYudW53cmFwKCksXz1iK1wiIDw9IFwiK0IrXCIubGVuZ3RoID8gXCIrYnQoXCJzbGljZVwiLGUpK1wiLmNhbGwoXCIrQitcIiwgXCIrYywoQT1iLWMtMSk/KHU9ZS5zY29wZS5mcmVlVmFyaWFibGUoXCJpXCIse3NpbmdsZTohMH0pLF8rPVwiLCBcIit1K1wiID0gXCIrQitcIi5sZW5ndGggLSBcIitBK1wiKSA6IChcIit1K1wiID0gXCIrYytcIiwgW10pXCIpOl8rPVwiKSA6IFtdXCIsXz1uZXcgeChfKSxvPXUrXCIrK1wiO2Vsc2V7aWYoIW8mJnYgaW5zdGFuY2VvZiBwKXsoQT1iLWMtMSkmJigxPT09QT9vPUIrXCIubGVuZ3RoIC0gMVwiOih1PWUuc2NvcGUuZnJlZVZhcmlhYmxlKFwiaVwiLHtzaW5nbGU6ITB9KSxfPW5ldyB4KHUrXCIgPSBcIitCK1wiLmxlbmd0aCAtIFwiK0EpLG89dStcIisrXCIsci5wdXNoKF8uY29tcGlsZVRvRnJhZ21lbnRzKGUsRSkpKSk7Y29udGludWV9bT12LnVud3JhcCgpLnZhbHVlLCh2IGluc3RhbmNlb2YgR3x8diBpbnN0YW5jZW9mIHApJiZ2LmVycm9yKFwibXVsdGlwbGUgc3BsYXRzL2V4cGFuc2lvbnMgYXJlIGRpc2FsbG93ZWQgaW4gYW4gYXNzaWdubWVudFwiKSxcIm51bWJlclwiPT10eXBlb2YgbD8obD1uZXcgeChvfHxsKSxpPSExKTppPWgmJmcudGVzdChsLnVud3JhcCgpLnZhbHVlfHwwKSxfPW5ldyB6KG5ldyB4KEIpLFtuZXcoaT90OncpKGwpXSl9bnVsbCE9bSYmVHQuY2FsbCgkLG0pPj0wJiZ2LmVycm9yKFwiYXNzaWdubWVudCB0byBhIHJlc2VydmVkIHdvcmQ6IFwiK3YuY29tcGlsZShlKSksci5wdXNoKG5ldyBuKHYsXyxudWxsLHtwYXJhbTp0aGlzLnBhcmFtLHN1YnBhdHRlcm46ITB9KS5jb21waWxlVG9GcmFnbWVudHMoZSxFKSl9cmV0dXJuIEl8fHRoaXMuc3VicGF0dGVybnx8ci5wdXNoKE0pLGE9dGhpcy5qb2luRnJhZ21lbnRBcnJheXMocixcIiwgXCIpLEU+ZS5sZXZlbD9hOnRoaXMud3JhcEluQnJhY2VzKGEpfSxuLnByb3RvdHlwZS5jb21waWxlQ29uZGl0aW9uYWw9ZnVuY3Rpb24oZSl7dmFyIHQsaSxyLHM7cmV0dXJuIHI9dGhpcy52YXJpYWJsZS5jYWNoZVJlZmVyZW5jZShlKSxpPXJbMF0scz1yWzFdLCFpLnByb3BlcnRpZXMubGVuZ3RoJiZpLmJhc2UgaW5zdGFuY2VvZiB4JiZcInRoaXNcIiE9PWkuYmFzZS52YWx1ZSYmIWUuc2NvcGUuY2hlY2soaS5iYXNlLnZhbHVlKSYmdGhpcy52YXJpYWJsZS5lcnJvcigndGhlIHZhcmlhYmxlIFwiJytpLmJhc2UudmFsdWUrXCJcXFwiIGNhbid0IGJlIGFzc2lnbmVkIHdpdGggXCIrdGhpcy5jb250ZXh0K1wiIGJlY2F1c2UgaXQgaGFzIG5vdCBiZWVuIGRlY2xhcmVkIGJlZm9yZVwiKSxUdC5jYWxsKHRoaXMuY29udGV4dCxcIj9cIik+PTA/KGUuaXNFeGlzdGVudGlhbEVxdWFscz0hMCxuZXcgYihuZXcgdShpKSxzLHt0eXBlOlwiaWZcIn0pLmFkZEVsc2UobmV3IG4ocyx0aGlzLnZhbHVlLFwiPVwiKSkuY29tcGlsZVRvRnJhZ21lbnRzKGUpKToodD1uZXcgSSh0aGlzLmNvbnRleHQuc2xpY2UoMCwtMSksaSxuZXcgbihzLHRoaXMudmFsdWUsXCI9XCIpKS5jb21waWxlVG9GcmFnbWVudHMoZSksRT49ZS5sZXZlbD90OnRoaXMud3JhcEluQnJhY2VzKHQpKX0sbi5wcm90b3R5cGUuY29tcGlsZVNwZWNpYWxNYXRoPWZ1bmN0aW9uKGUpe3ZhciB0LGkscjtyZXR1cm4gaT10aGlzLnZhcmlhYmxlLmNhY2hlUmVmZXJlbmNlKGUpLHQ9aVswXSxyPWlbMV0sbmV3IG4odCxuZXcgSSh0aGlzLmNvbnRleHQuc2xpY2UoMCwtMSkscix0aGlzLnZhbHVlKSkuY29tcGlsZVRvRnJhZ21lbnRzKGUpfSxuLnByb3RvdHlwZS5jb21waWxlU3BsaWNlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLHMsbyxhLGMsbCxoLHUscDtyZXR1cm4gYT10aGlzLnZhcmlhYmxlLnByb3BlcnRpZXMucG9wKCkucmFuZ2UsaT1hLmZyb20saD1hLnRvLG49YS5leGNsdXNpdmUsbz10aGlzLnZhcmlhYmxlLmNvbXBpbGUoZSksaT8oYz10aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKGkuY2FjaGUoZSxGKSkscj1jWzBdLHM9Y1sxXSk6cj1zPVwiMFwiLGg/aSBpbnN0YW5jZW9mIHomJmkuaXNTaW1wbGVOdW1iZXIoKSYmaCBpbnN0YW5jZW9mIHomJmguaXNTaW1wbGVOdW1iZXIoKT8oaD1oLmNvbXBpbGUoZSktcyxufHwoaCs9MSkpOihoPWguY29tcGlsZShlLFQpK1wiIC0gXCIrcyxufHwoaCs9XCIgKyAxXCIpKTpoPVwiOWU5XCIsbD10aGlzLnZhbHVlLmNhY2hlKGUsRSksdT1sWzBdLHA9bFsxXSx0PVtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiW10uc3BsaWNlLmFwcGx5KFwiK28rXCIsIFtcIityK1wiLCBcIitoK1wiXS5jb25jYXQoXCIpLHUsdGhpcy5tYWtlQ29kZShcIikpLCBcIikscCksZS5sZXZlbD5MP3RoaXMud3JhcEluQnJhY2VzKHQpOnR9LG59KHIpLGUuQ29kZT1jPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4pe3RoaXMucGFyYW1zPWV8fFtdLHRoaXMuYm9keT10fHxuZXcgcyx0aGlzLmJvdW5kPVwiYm91bmRmdW5jXCI9PT1uLHRoaXMuaXNHZW5lcmF0b3I9ISF0aGlzLmJvZHkuY29udGFpbnMoZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGUgaW5zdGFuY2VvZiBJJiYoXCJ5aWVsZFwiPT09KHQ9ZS5vcGVyYXRvcil8fFwieWllbGQqXCI9PT10KX0pfXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcInBhcmFtc1wiLFwiYm9keVwiXSx0LnByb3RvdHlwZS5pc1N0YXRlbWVudD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5jdG9yfSx0LnByb3RvdHlwZS5qdW1wcz1ELHQucHJvdG90eXBlLm1ha2VTY29wZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFAoZSx0aGlzLmJvZHksdGhpcyl9LHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciByLGEsYyxsLGgsdSxkLGYsbSxnLHYseSxrLHcsQyxFLEYsTixMLFMsRCxSLEEsTywkLGosTSxCLFYsUCxVLEcsSDtpZih0aGlzLmJvdW5kJiYobnVsbCE9KEE9ZS5zY29wZS5tZXRob2QpP0EuYm91bmQ6dm9pZCAwKSYmKHRoaXMuY29udGV4dD1lLnNjb3BlLm1ldGhvZC5jb250ZXh0KSx0aGlzLmJvdW5kJiYhdGhpcy5jb250ZXh0KXJldHVybiB0aGlzLmNvbnRleHQ9XCJfdGhpc1wiLEg9bmV3IHQoW25ldyBfKG5ldyB4KHRoaXMuY29udGV4dCkpXSxuZXcgcyhbdGhpc10pKSxhPW5ldyBvKEgsW25ldyB4KFwidGhpc1wiKV0pLGEudXBkYXRlTG9jYXRpb25EYXRhSWZNaXNzaW5nKHRoaXMubG9jYXRpb25EYXRhKSxhLmNvbXBpbGVOb2RlKGUpO2ZvcihlLnNjb3BlPXR0KGUsXCJjbGFzc1Njb3BlXCIpfHx0aGlzLm1ha2VTY29wZShlLnNjb3BlKSxlLnNjb3BlLnNoYXJlZD10dChlLFwic2hhcmVkU2NvcGVcIiksZS5pbmRlbnQrPXEsZGVsZXRlIGUuYmFyZSxkZWxldGUgZS5pc0V4aXN0ZW50aWFsRXF1YWxzLEw9W10sbD1bXSxPPXRoaXMucGFyYW1zLHU9MCxtPU8ubGVuZ3RoO20+dTt1KyspTj1PW3VdLE4gaW5zdGFuY2VvZiBwfHxlLnNjb3BlLnBhcmFtZXRlcihOLmFzUmVmZXJlbmNlKGUpKTtmb3IoJD10aGlzLnBhcmFtcyxkPTAsZz0kLmxlbmd0aDtnPmQ7ZCsrKWlmKE49JFtkXSxOLnNwbGF0fHxOIGluc3RhbmNlb2YgcCl7Zm9yKGo9dGhpcy5wYXJhbXMsZj0wLHY9ai5sZW5ndGg7dj5mO2YrKylGPWpbZl0sRiBpbnN0YW5jZW9mIHB8fCFGLm5hbWUudmFsdWV8fGUuc2NvcGUuYWRkKEYubmFtZS52YWx1ZSxcInZhclwiLCEwKTtWPW5ldyBpKG5ldyB6KG5ldyBuKGZ1bmN0aW9uKCl7dmFyIHQsbixpLHI7Zm9yKGk9dGhpcy5wYXJhbXMscj1bXSxuPTAsdD1pLmxlbmd0aDt0Pm47bisrKUY9aVtuXSxyLnB1c2goRi5hc1JlZmVyZW5jZShlKSk7cmV0dXJuIHJ9LmNhbGwodGhpcykpKSxuZXcgeihuZXcgeChcImFyZ3VtZW50c1wiKSkpO2JyZWFrfWZvcihNPXRoaXMucGFyYW1zLEU9MCx5PU0ubGVuZ3RoO3k+RTtFKyspTj1NW0VdLE4uaXNDb21wbGV4KCk/KFU9Uj1OLmFzUmVmZXJlbmNlKGUpLE4udmFsdWUmJihVPW5ldyBJKFwiP1wiLFIsTi52YWx1ZSkpLGwucHVzaChuZXcgaShuZXcgeihOLm5hbWUpLFUsXCI9XCIse3BhcmFtOiEwfSkpKTooUj1OLE4udmFsdWUmJihDPW5ldyB4KFIubmFtZS52YWx1ZStcIiA9PSBudWxsXCIpLFU9bmV3IGkobmV3IHooTi5uYW1lKSxOLnZhbHVlLFwiPVwiKSxsLnB1c2gobmV3IGIoQyxVKSkpKSxWfHxMLnB1c2goUik7Zm9yKEc9dGhpcy5ib2R5LmlzRW1wdHkoKSxWJiZsLnVuc2hpZnQoViksbC5sZW5ndGgmJihCPXRoaXMuYm9keS5leHByZXNzaW9ucykudW5zaGlmdC5hcHBseShCLGwpLGg9Uz0wLGs9TC5sZW5ndGg7az5TO2g9KytTKUY9TFtoXSxMW2hdPUYuY29tcGlsZVRvRnJhZ21lbnRzKGUpLGUuc2NvcGUucGFyYW1ldGVyKHN0KExbaF0pKTtmb3IoUD1bXSx0aGlzLmVhY2hQYXJhbU5hbWUoZnVuY3Rpb24oZSx0KXtyZXR1cm4gVHQuY2FsbChQLGUpPj0wJiZ0LmVycm9yKFwibXVsdGlwbGUgcGFyYW1ldGVycyBuYW1lZCBcIitlKSxQLnB1c2goZSl9KSxHfHx0aGlzLm5vUmV0dXJufHx0aGlzLmJvZHkubWFrZVJldHVybigpLGM9XCJmdW5jdGlvblwiLHRoaXMuaXNHZW5lcmF0b3ImJihjKz1cIipcIiksdGhpcy5jdG9yJiYoYys9XCIgXCIrdGhpcy5uYW1lKSxjKz1cIihcIixyPVt0aGlzLm1ha2VDb2RlKGMpXSxoPUQ9MCx3PUwubGVuZ3RoO3c+RDtoPSsrRClGPUxbaF0saCYmci5wdXNoKHRoaXMubWFrZUNvZGUoXCIsIFwiKSksci5wdXNoLmFwcGx5KHIsRik7cmV0dXJuIHIucHVzaCh0aGlzLm1ha2VDb2RlKFwiKSB7XCIpKSx0aGlzLmJvZHkuaXNFbXB0eSgpfHwocj1yLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiXFxuXCIpLHRoaXMuYm9keS5jb21waWxlV2l0aERlY2xhcmF0aW9ucyhlKSx0aGlzLm1ha2VDb2RlKFwiXFxuXCIrdGhpcy50YWIpKSksci5wdXNoKHRoaXMubWFrZUNvZGUoXCJ9XCIpKSx0aGlzLmN0b3I/W3RoaXMubWFrZUNvZGUodGhpcy50YWIpXS5jb25jYXQoQ3QuY2FsbChyKSk6dGhpcy5mcm9udHx8ZS5sZXZlbD49VD90aGlzLndyYXBJbkJyYWNlcyhyKTpyfSx0LnByb3RvdHlwZS5lYWNoUGFyYW1OYW1lPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLHM7Zm9yKHI9dGhpcy5wYXJhbXMscz1bXSx0PTAsbj1yLmxlbmd0aDtuPnQ7dCsrKWk9clt0XSxzLnB1c2goaS5lYWNoTmFtZShlKSk7cmV0dXJuIHN9LHQucHJvdG90eXBlLnRyYXZlcnNlQ2hpbGRyZW49ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZT90Ll9fc3VwZXJfXy50cmF2ZXJzZUNoaWxkcmVuLmNhbGwodGhpcyxlLG4pOnZvaWQgMH0sdH0ociksZS5QYXJhbT1fPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4pe3ZhciBpLHI7dGhpcy5uYW1lPWUsdGhpcy52YWx1ZT10LHRoaXMuc3BsYXQ9bixyPWk9dGhpcy5uYW1lLnVud3JhcEFsbCgpLnZhbHVlLFR0LmNhbGwoVixyKT49MCYmdGhpcy5uYW1lLmVycm9yKCdwYXJhbWV0ZXIgbmFtZSBcIicraSsnXCIgaXMgbm90IGFsbG93ZWQnKX1yZXR1cm4ga3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJuYW1lXCIsXCJ2YWx1ZVwiXSx0LnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmFtZS5jb21waWxlVG9GcmFnbWVudHMoZSxFKX0sdC5wcm90b3R5cGUuYXNSZWZlcmVuY2U9ZnVuY3Rpb24oZSl7dmFyIHQsbjtyZXR1cm4gdGhpcy5yZWZlcmVuY2U/dGhpcy5yZWZlcmVuY2U6KG49dGhpcy5uYW1lLG5bXCJ0aGlzXCJdPyh0PW4ucHJvcGVydGllc1swXS5uYW1lLnZhbHVlLHQucmVzZXJ2ZWQmJih0PVwiX1wiK3QpLG49bmV3IHgoZS5zY29wZS5mcmVlVmFyaWFibGUodCkpKTpuLmlzQ29tcGxleCgpJiYobj1uZXcgeChlLnNjb3BlLmZyZWVWYXJpYWJsZShcImFyZ1wiKSkpLG49bmV3IHoobiksdGhpcy5zcGxhdCYmKG49bmV3IEcobikpLG4udXBkYXRlTG9jYXRpb25EYXRhSWZNaXNzaW5nKHRoaXMubG9jYXRpb25EYXRhKSx0aGlzLnJlZmVyZW5jZT1uKX0sdC5wcm90b3R5cGUuaXNDb21wbGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZS5pc0NvbXBsZXgoKX0sdC5wcm90b3R5cGUuZWFjaE5hbWU9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLHMsbyxhLGM7aWYobnVsbD09dCYmKHQ9dGhpcy5uYW1lKSxuPWZ1bmN0aW9uKHQpe3JldHVybiBlKFwiQFwiK3QucHJvcGVydGllc1swXS5uYW1lLnZhbHVlLHQpfSx0IGluc3RhbmNlb2YgeClyZXR1cm4gZSh0LnZhbHVlLHQpO2lmKHQgaW5zdGFuY2VvZiB6KXJldHVybiBuKHQpO2ZvcihjPXQub2JqZWN0cyxyPTAscz1jLmxlbmd0aDtzPnI7cisrKWE9Y1tyXSxhIGluc3RhbmNlb2YgaT90aGlzLmVhY2hOYW1lKGUsYS52YWx1ZS51bndyYXAoKSk6YSBpbnN0YW5jZW9mIEc/KG89YS5uYW1lLnVud3JhcCgpLGUoby52YWx1ZSxvKSk6YSBpbnN0YW5jZW9mIHo/YS5pc0FycmF5KCl8fGEuaXNPYmplY3QoKT90aGlzLmVhY2hOYW1lKGUsYS5iYXNlKTphW1widGhpc1wiXT9uKGEpOmUoYS5iYXNlLnZhbHVlLGEuYmFzZSk6YSBpbnN0YW5jZW9mIHB8fGEuZXJyb3IoXCJpbGxlZ2FsIHBhcmFtZXRlciBcIithLmNvbXBpbGUoKSl9LHR9KHIpLGUuU3BsYXQ9Rz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMubmFtZT1lLmNvbXBpbGU/ZTpuZXcgeChlKX1yZXR1cm4ga3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJuYW1lXCJdLHQucHJvdG90eXBlLmlzQXNzaWduYWJsZT1RLHQucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmFtZS5hc3NpZ25zKGUpfSx0LnByb3RvdHlwZS5jb21waWxlVG9GcmFnbWVudHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmFtZS5jb21waWxlVG9GcmFnbWVudHMoZSl9LHQucHJvdG90eXBlLnVud3JhcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9LHQuY29tcGlsZVNwbGF0dGVkQXJyYXk9ZnVuY3Rpb24oZSxuLGkpe3ZhciByLHMsbyxhLGMsbCxoLHUscCxkLGY7Zm9yKGg9LTE7KGY9blsrK2hdKSYmIShmIGluc3RhbmNlb2YgdCk7KTtpZihoPj1uLmxlbmd0aClyZXR1cm5bXTtpZigxPT09bi5sZW5ndGgpcmV0dXJuIGY9blswXSxjPWYuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSksaT9jOltdLmNvbmNhdChmLm1ha2VDb2RlKGJ0KFwic2xpY2VcIixlKStcIi5jYWxsKFwiKSxjLGYubWFrZUNvZGUoXCIpXCIpKTtmb3Iocj1uLnNsaWNlKGgpLGw9dT0wLGQ9ci5sZW5ndGg7ZD51O2w9Kyt1KWY9cltsXSxvPWYuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSkscltsXT1mIGluc3RhbmNlb2YgdD9bXS5jb25jYXQoZi5tYWtlQ29kZShidChcInNsaWNlXCIsZSkrXCIuY2FsbChcIiksbyxmLm1ha2VDb2RlKFwiKVwiKSk6W10uY29uY2F0KGYubWFrZUNvZGUoXCJbXCIpLG8sZi5tYWtlQ29kZShcIl1cIikpO3JldHVybiAwPT09aD8oZj1uWzBdLGE9Zi5qb2luRnJhZ21lbnRBcnJheXMoci5zbGljZSgxKSxcIiwgXCIpLHJbMF0uY29uY2F0KGYubWFrZUNvZGUoXCIuY29uY2F0KFwiKSxhLGYubWFrZUNvZGUoXCIpXCIpKSk6KHM9ZnVuY3Rpb24oKXt2YXIgdCxpLHIscztmb3Iocj1uLnNsaWNlKDAsaCkscz1bXSx0PTAsaT1yLmxlbmd0aDtpPnQ7dCsrKWY9clt0XSxzLnB1c2goZi5jb21waWxlVG9GcmFnbWVudHMoZSxFKSk7cmV0dXJuIHN9KCkscz1uWzBdLmpvaW5GcmFnbWVudEFycmF5cyhzLFwiLCBcIiksYT1uW2hdLmpvaW5GcmFnbWVudEFycmF5cyhyLFwiLCBcIikscD1uW24ubGVuZ3RoLTFdLFtdLmNvbmNhdChuWzBdLm1ha2VDb2RlKFwiW1wiKSxzLG5baF0ubWFrZUNvZGUoXCJdLmNvbmNhdChcIiksYSxwLm1ha2VDb2RlKFwiKVwiKSkpfSx0fShyKSxlLkV4cGFuc2lvbj1wPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtyZXR1cm4gdC5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmlzQ29tcGxleD1ELHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3IoXCJFeHBhbnNpb24gbXVzdCBiZSB1c2VkIGluc2lkZSBhIGRlc3RydWN0dXJpbmcgYXNzaWdubWVudCBvciBwYXJhbWV0ZXIgbGlzdFwiKX0sdC5wcm90b3R5cGUuYXNSZWZlcmVuY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5wcm90b3R5cGUuZWFjaE5hbWU9ZnVuY3Rpb24oKXt9LHR9KHIpLGUuV2hpbGU9Sj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7dGhpcy5jb25kaXRpb249KG51bGwhPXQ/dC5pbnZlcnQ6dm9pZCAwKT9lLmludmVydCgpOmUsdGhpcy5ndWFyZD1udWxsIT10P3QuZ3VhcmQ6dm9pZCAwfXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImNvbmRpdGlvblwiLFwiZ3VhcmRcIixcImJvZHlcIl0sdC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9USx0LnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybiBlP3QuX19zdXBlcl9fLm1ha2VSZXR1cm4uYXBwbHkodGhpcyxhcmd1bWVudHMpOih0aGlzLnJldHVybnM9IXRoaXMuanVtcHMoe2xvb3A6ITB9KSx0aGlzKX0sdC5wcm90b3R5cGUuYWRkQm9keT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ib2R5PWUsdGhpc30sdC5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saSxyO2lmKGU9dGhpcy5ib2R5LmV4cHJlc3Npb25zLCFlLmxlbmd0aClyZXR1cm4hMTtmb3IodD0wLGk9ZS5sZW5ndGg7aT50O3QrKylpZihyPWVbdF0sbj1yLmp1bXBzKHtsb29wOiEwfSkpcmV0dXJuIG47cmV0dXJuITF9LHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyO3JldHVybiBlLmluZGVudCs9cSxyPVwiXCIsbj10aGlzLmJvZHksbi5pc0VtcHR5KCk/bj10aGlzLm1ha2VDb2RlKFwiXCIpOih0aGlzLnJldHVybnMmJihuLm1ha2VSZXR1cm4oaT1lLnNjb3BlLmZyZWVWYXJpYWJsZShcInJlc3VsdHNcIikpLHI9XCJcIit0aGlzLnRhYitpK1wiID0gW107XFxuXCIpLHRoaXMuZ3VhcmQmJihuLmV4cHJlc3Npb25zLmxlbmd0aD4xP24uZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgYihuZXcgTyh0aGlzLmd1YXJkKS5pbnZlcnQoKSxuZXcgeChcImNvbnRpbnVlXCIpKSk6dGhpcy5ndWFyZCYmKG49cy53cmFwKFtuZXcgYih0aGlzLmd1YXJkLG4pXSkpKSxuPVtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiXFxuXCIpLG4uY29tcGlsZVRvRnJhZ21lbnRzKGUsTCksdGhpcy5tYWtlQ29kZShcIlxcblwiK3RoaXMudGFiKSkpLHQ9W10uY29uY2F0KHRoaXMubWFrZUNvZGUocit0aGlzLnRhYitcIndoaWxlIChcIiksdGhpcy5jb25kaXRpb24uY29tcGlsZVRvRnJhZ21lbnRzKGUsTiksdGhpcy5tYWtlQ29kZShcIikge1wiKSxuLHRoaXMubWFrZUNvZGUoXCJ9XCIpKSx0aGlzLnJldHVybnMmJnQucHVzaCh0aGlzLm1ha2VDb2RlKFwiXFxuXCIrdGhpcy50YWIrXCJyZXR1cm4gXCIraStcIjtcIikpLHR9LHR9KHIpLGUuT3A9ST1mdW5jdGlvbihlKXtmdW5jdGlvbiBuKGUsdCxuLGkpe2lmKFwiaW5cIj09PWUpcmV0dXJuIG5ldyBrKHQsbik7aWYoXCJkb1wiPT09ZSlyZXR1cm4gdGhpcy5nZW5lcmF0ZURvKHQpO2lmKFwibmV3XCI9PT1lKXtpZih0IGluc3RhbmNlb2YgbyYmIXRbXCJkb1wiXSYmIXQuaXNOZXcpcmV0dXJuIHQubmV3SW5zdGFuY2UoKTsodCBpbnN0YW5jZW9mIGMmJnQuYm91bmR8fHRbXCJkb1wiXSkmJih0PW5ldyBPKHQpKX1yZXR1cm4gdGhpcy5vcGVyYXRvcj1yW2VdfHxlLHRoaXMuZmlyc3Q9dCx0aGlzLnNlY29uZD1uLHRoaXMuZmxpcD0hIWksdGhpc312YXIgcixzO3JldHVybiBrdChuLGUpLHI9e1wiPT1cIjpcIj09PVwiLFwiIT1cIjpcIiE9PVwiLG9mOlwiaW5cIix5aWVsZGZyb206XCJ5aWVsZCpcIn0scz17XCIhPT1cIjpcIj09PVwiLFwiPT09XCI6XCIhPT1cIn0sbi5wcm90b3R5cGUuY2hpbGRyZW49W1wiZmlyc3RcIixcInNlY29uZFwiXSxuLnByb3RvdHlwZS5pc1NpbXBsZU51bWJlcj1ELG4ucHJvdG90eXBlLmlzWWllbGQ9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm5cInlpZWxkXCI9PT0oZT10aGlzLm9wZXJhdG9yKXx8XCJ5aWVsZCpcIj09PWV9LG4ucHJvdG90eXBlLmlzWWllbGRSZXR1cm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1lpZWxkKCkmJnRoaXMuZmlyc3QgaW5zdGFuY2VvZiBNfSxuLnByb3RvdHlwZS5pc1VuYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuc2Vjb25kfSxuLnByb3RvdHlwZS5pc0NvbXBsZXg9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4hKHRoaXMuaXNVbmFyeSgpJiYoXCIrXCI9PT0oZT10aGlzLm9wZXJhdG9yKXx8XCItXCI9PT1lKSYmdGhpcy5maXJzdCBpbnN0YW5jZW9mIHomJnRoaXMuZmlyc3QuaXNTaW1wbGVOdW1iZXIoKSl9LG4ucHJvdG90eXBlLmlzQ2hhaW5hYmxlPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuXCI8XCI9PT0oZT10aGlzLm9wZXJhdG9yKXx8XCI+XCI9PT1lfHxcIj49XCI9PT1lfHxcIjw9XCI9PT1lfHxcIj09PVwiPT09ZXx8XCIhPT1cIj09PWV9LG4ucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3ZhciBlLHQsaSxyLG87aWYodGhpcy5pc0NoYWluYWJsZSgpJiZ0aGlzLmZpcnN0LmlzQ2hhaW5hYmxlKCkpe2ZvcihlPSEwLHQ9dGhpczt0JiZ0Lm9wZXJhdG9yOyllJiYoZT10Lm9wZXJhdG9yIGluIHMpLHQ9dC5maXJzdDtpZighZSlyZXR1cm4gbmV3IE8odGhpcykuaW52ZXJ0KCk7Zm9yKHQ9dGhpczt0JiZ0Lm9wZXJhdG9yOyl0LmludmVydD0hdC5pbnZlcnQsdC5vcGVyYXRvcj1zW3Qub3BlcmF0b3JdLHQ9dC5maXJzdDtyZXR1cm4gdGhpc31yZXR1cm4ocj1zW3RoaXMub3BlcmF0b3JdKT8odGhpcy5vcGVyYXRvcj1yLHRoaXMuZmlyc3QudW53cmFwKClpbnN0YW5jZW9mIG4mJnRoaXMuZmlyc3QuaW52ZXJ0KCksdGhpcyk6dGhpcy5zZWNvbmQ/bmV3IE8odGhpcykuaW52ZXJ0KCk6XCIhXCI9PT10aGlzLm9wZXJhdG9yJiYoaT10aGlzLmZpcnN0LnVud3JhcCgpKWluc3RhbmNlb2YgbiYmKFwiIVwiPT09KG89aS5vcGVyYXRvcil8fFwiaW5cIj09PW98fFwiaW5zdGFuY2VvZlwiPT09byk/aTpuZXcgbihcIiFcIix0aGlzKX0sbi5wcm90b3R5cGUudW5mb2xkU29haz1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4oXCIrK1wiPT09KHQ9dGhpcy5vcGVyYXRvcil8fFwiLS1cIj09PXR8fFwiZGVsZXRlXCI9PT10KSYmeXQoZSx0aGlzLFwiZmlyc3RcIil9LG4ucHJvdG90eXBlLmdlbmVyYXRlRG89ZnVuY3Rpb24oZSl7dmFyIHQsbixyLHMsYSxsLGgsdTtmb3IobD1bXSxuPWUgaW5zdGFuY2VvZiBpJiYoaD1lLnZhbHVlLnVud3JhcCgpKWluc3RhbmNlb2YgYz9oOmUsdT1uLnBhcmFtc3x8W10scj0wLHM9dS5sZW5ndGg7cz5yO3IrKylhPXVbcl0sYS52YWx1ZT8obC5wdXNoKGEudmFsdWUpLGRlbGV0ZSBhLnZhbHVlKTpsLnB1c2goYSk7cmV0dXJuIHQ9bmV3IG8oZSxsKSx0W1wiZG9cIl09ITAsdH0sbi5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHIscyxvO2lmKG49dGhpcy5pc0NoYWluYWJsZSgpJiZ0aGlzLmZpcnN0LmlzQ2hhaW5hYmxlKCksbnx8KHRoaXMuZmlyc3QuZnJvbnQ9dGhpcy5mcm9udCksXCJkZWxldGVcIj09PXRoaXMub3BlcmF0b3ImJmUuc2NvcGUuY2hlY2sodGhpcy5maXJzdC51bndyYXBBbGwoKS52YWx1ZSkmJnRoaXMuZXJyb3IoXCJkZWxldGUgb3BlcmFuZCBtYXkgbm90IGJlIGFyZ3VtZW50IG9yIHZhclwiKSwoXCItLVwiPT09KHI9dGhpcy5vcGVyYXRvcil8fFwiKytcIj09PXIpJiYocz10aGlzLmZpcnN0LnVud3JhcEFsbCgpLnZhbHVlLFR0LmNhbGwoVixzKT49MCkmJnRoaXMuZXJyb3IoJ2Nhbm5vdCBpbmNyZW1lbnQvZGVjcmVtZW50IFwiJyt0aGlzLmZpcnN0LnVud3JhcEFsbCgpLnZhbHVlKydcIicpLHRoaXMuaXNZaWVsZCgpKXJldHVybiB0aGlzLmNvbXBpbGVZaWVsZChlKTtpZih0aGlzLmlzVW5hcnkoKSlyZXR1cm4gdGhpcy5jb21waWxlVW5hcnkoZSk7aWYobilyZXR1cm4gdGhpcy5jb21waWxlQ2hhaW4oZSk7c3dpdGNoKHRoaXMub3BlcmF0b3Ipe2Nhc2VcIj9cIjpyZXR1cm4gdGhpcy5jb21waWxlRXhpc3RlbmNlKGUpO2Nhc2VcIioqXCI6cmV0dXJuIHRoaXMuY29tcGlsZVBvd2VyKGUpO2Nhc2VcIi8vXCI6cmV0dXJuIHRoaXMuY29tcGlsZUZsb29yRGl2aXNpb24oZSk7Y2FzZVwiJSVcIjpyZXR1cm4gdGhpcy5jb21waWxlTW9kdWxvKGUpO2RlZmF1bHQ6cmV0dXJuIGk9dGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMoZSxGKSxvPXRoaXMuc2Vjb25kLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEYpLHQ9W10uY29uY2F0KGksdGhpcy5tYWtlQ29kZShcIiBcIit0aGlzLm9wZXJhdG9yK1wiIFwiKSxvKSxGPj1lLmxldmVsP3Q6dGhpcy53cmFwSW5CcmFjZXModCl9fSxuLnByb3RvdHlwZS5jb21waWxlQ2hhaW49ZnVuY3Rpb24oZSl7dmFyIHQsbixpLHI7cmV0dXJuIGk9dGhpcy5maXJzdC5zZWNvbmQuY2FjaGUoZSksdGhpcy5maXJzdC5zZWNvbmQ9aVswXSxyPWlbMV0sbj10aGlzLmZpcnN0LmNvbXBpbGVUb0ZyYWdtZW50cyhlLEYpLHQ9bi5jb25jYXQodGhpcy5tYWtlQ29kZShcIiBcIisodGhpcy5pbnZlcnQ/XCImJlwiOlwifHxcIikrXCIgXCIpLHIuY29tcGlsZVRvRnJhZ21lbnRzKGUpLHRoaXMubWFrZUNvZGUoXCIgXCIrdGhpcy5vcGVyYXRvcitcIiBcIiksdGhpcy5zZWNvbmQuY29tcGlsZVRvRnJhZ21lbnRzKGUsRikpLHRoaXMud3JhcEluQnJhY2VzKHQpfSxuLnByb3RvdHlwZS5jb21waWxlRXhpc3RlbmNlPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIHRoaXMuZmlyc3QuaXNDb21wbGV4KCk/KG49bmV3IHgoZS5zY29wZS5mcmVlVmFyaWFibGUoXCJyZWZcIikpLHQ9bmV3IE8obmV3IGkobix0aGlzLmZpcnN0KSkpOih0PXRoaXMuZmlyc3Qsbj10KSxuZXcgYihuZXcgdSh0KSxuLHt0eXBlOlwiaWZcIn0pLmFkZEVsc2UodGhpcy5zZWNvbmQpLmNvbXBpbGVUb0ZyYWdtZW50cyhlKX0sbi5wcm90b3R5cGUuY29tcGlsZVVuYXJ5PWZ1bmN0aW9uKGUpe3ZhciB0LGkscjtyZXR1cm4gaT1bXSx0PXRoaXMub3BlcmF0b3IsaS5wdXNoKFt0aGlzLm1ha2VDb2RlKHQpXSksXCIhXCI9PT10JiZ0aGlzLmZpcnN0IGluc3RhbmNlb2YgdT8odGhpcy5maXJzdC5uZWdhdGVkPSF0aGlzLmZpcnN0Lm5lZ2F0ZWQsdGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMoZSkpOmUubGV2ZWw+PVQ/bmV3IE8odGhpcykuY29tcGlsZVRvRnJhZ21lbnRzKGUpOihyPVwiK1wiPT09dHx8XCItXCI9PT10LChcIm5ld1wiPT09dHx8XCJ0eXBlb2ZcIj09PXR8fFwiZGVsZXRlXCI9PT10fHxyJiZ0aGlzLmZpcnN0IGluc3RhbmNlb2YgbiYmdGhpcy5maXJzdC5vcGVyYXRvcj09PXQpJiZpLnB1c2goW3RoaXMubWFrZUNvZGUoXCIgXCIpXSksKHImJnRoaXMuZmlyc3QgaW5zdGFuY2VvZiBufHxcIm5ld1wiPT09dCYmdGhpcy5maXJzdC5pc1N0YXRlbWVudChlKSkmJih0aGlzLmZpcnN0PW5ldyBPKHRoaXMuZmlyc3QpKSxpLnB1c2godGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMoZSxGKSksdGhpcy5mbGlwJiZpLnJldmVyc2UoKSx0aGlzLmpvaW5GcmFnbWVudEFycmF5cyhpLFwiXCIpKX0sbi5wcm90b3R5cGUuY29tcGlsZVlpZWxkPWZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIG49W10sdD10aGlzLm9wZXJhdG9yLG51bGw9PWUuc2NvcGUucGFyZW50JiZ0aGlzLmVycm9yKFwieWllbGQgc3RhdGVtZW50cyBtdXN0IG9jY3VyIHdpdGhpbiBhIGZ1bmN0aW9uIGdlbmVyYXRvci5cIiksVHQuY2FsbChPYmplY3Qua2V5cyh0aGlzLmZpcnN0KSxcImV4cHJlc3Npb25cIik+PTAmJiEodGhpcy5maXJzdCBpbnN0YW5jZW9mIFcpP3RoaXMuaXNZaWVsZFJldHVybigpP24ucHVzaCh0aGlzLmZpcnN0LmNvbXBpbGVUb0ZyYWdtZW50cyhlLEwpKTpudWxsIT10aGlzLmZpcnN0LmV4cHJlc3Npb24mJm4ucHVzaCh0aGlzLmZpcnN0LmV4cHJlc3Npb24uY29tcGlsZVRvRnJhZ21lbnRzKGUsRikpOihuLnB1c2goW3RoaXMubWFrZUNvZGUoXCIoXCIrdCtcIiBcIildKSxuLnB1c2godGhpcy5maXJzdC5jb21waWxlVG9GcmFnbWVudHMoZSxGKSksbi5wdXNoKFt0aGlzLm1ha2VDb2RlKFwiKVwiKV0pKSx0aGlzLmpvaW5GcmFnbWVudEFycmF5cyhuLFwiXCIpfSxuLnByb3RvdHlwZS5jb21waWxlUG93ZXI9ZnVuY3Rpb24oZSl7dmFyIG47cmV0dXJuIG49bmV3IHoobmV3IHgoXCJNYXRoXCIpLFtuZXcgdChuZXcgeChcInBvd1wiKSldKSxuZXcgbyhuLFt0aGlzLmZpcnN0LHRoaXMuc2Vjb25kXSkuY29tcGlsZVRvRnJhZ21lbnRzKGUpfSxuLnByb3RvdHlwZS5jb21waWxlRmxvb3JEaXZpc2lvbj1mdW5jdGlvbihlKXt2YXIgaSxyO3JldHVybiByPW5ldyB6KG5ldyB4KFwiTWF0aFwiKSxbbmV3IHQobmV3IHgoXCJmbG9vclwiKSldKSxpPW5ldyBuKFwiL1wiLHRoaXMuZmlyc3QsdGhpcy5zZWNvbmQpLG5ldyBvKHIsW2ldKS5jb21waWxlVG9GcmFnbWVudHMoZSl9LG4ucHJvdG90eXBlLmNvbXBpbGVNb2R1bG89ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHQ9bmV3IHoobmV3IHgoYnQoXCJtb2R1bG9cIixlKSkpLG5ldyBvKHQsW3RoaXMuZmlyc3QsdGhpcy5zZWNvbmRdKS5jb21waWxlVG9GcmFnbWVudHMoZSl9LG4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybiBuLl9fc3VwZXJfXy50b1N0cmluZy5jYWxsKHRoaXMsZSx0aGlzLmNvbnN0cnVjdG9yLm5hbWUrXCIgXCIrdGhpcy5vcGVyYXRvcil9LG59KHIpLGUuSW49az1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7dGhpcy5vYmplY3Q9ZSx0aGlzLmFycmF5PXR9cmV0dXJuIGt0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wib2JqZWN0XCIsXCJhcnJheVwiXSx0LnByb3RvdHlwZS5pbnZlcnQ9Uyx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdCxuLGkscixzO2lmKHRoaXMuYXJyYXkgaW5zdGFuY2VvZiB6JiZ0aGlzLmFycmF5LmlzQXJyYXkoKSYmdGhpcy5hcnJheS5iYXNlLm9iamVjdHMubGVuZ3RoKXtmb3Iocz10aGlzLmFycmF5LmJhc2Uub2JqZWN0cyxuPTAsaT1zLmxlbmd0aDtpPm47bisrKWlmKHI9c1tuXSxyIGluc3RhbmNlb2YgRyl7dD0hMDticmVha31pZighdClyZXR1cm4gdGhpcy5jb21waWxlT3JUZXN0KGUpfXJldHVybiB0aGlzLmNvbXBpbGVMb29wVGVzdChlKX0sdC5wcm90b3R5cGUuY29tcGlsZU9yVGVzdD1mdW5jdGlvbihlKXt2YXIgdCxuLGkscixzLG8sYSxjLGwsaCx1LHA7Zm9yKGM9dGhpcy5vYmplY3QuY2FjaGUoZSxGKSx1PWNbMF0sYT1jWzFdLGw9dGhpcy5uZWdhdGVkP1tcIiAhPT0gXCIsXCIgJiYgXCJdOltcIiA9PT0gXCIsXCIgfHwgXCJdLHQ9bFswXSxuPWxbMV0scD1bXSxoPXRoaXMuYXJyYXkuYmFzZS5vYmplY3RzLGk9cz0wLG89aC5sZW5ndGg7bz5zO2k9KytzKXI9aFtpXSxpJiZwLnB1c2godGhpcy5tYWtlQ29kZShuKSkscD1wLmNvbmNhdChpP2E6dSx0aGlzLm1ha2VDb2RlKHQpLHIuY29tcGlsZVRvRnJhZ21lbnRzKGUsVCkpO3JldHVybiBGPmUubGV2ZWw/cDp0aGlzLndyYXBJbkJyYWNlcyhwKX0sdC5wcm90b3R5cGUuY29tcGlsZUxvb3BUZXN0PWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyO3JldHVybiBpPXRoaXMub2JqZWN0LmNhY2hlKGUsRSkscj1pWzBdLG49aVsxXSx0PVtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKGJ0KFwiaW5kZXhPZlwiLGUpK1wiLmNhbGwoXCIpLHRoaXMuYXJyYXkuY29tcGlsZVRvRnJhZ21lbnRzKGUsRSksdGhpcy5tYWtlQ29kZShcIiwgXCIpLG4sdGhpcy5tYWtlQ29kZShcIikgXCIrKHRoaXMubmVnYXRlZD9cIjwgMFwiOlwiPj0gMFwiKSkpLHN0KHIpPT09c3Qobik/dDoodD1yLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiLCBcIiksdCksRT5lLmxldmVsP3Q6dGhpcy53cmFwSW5CcmFjZXModCkpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5fX3N1cGVyX18udG9TdHJpbmcuY2FsbCh0aGlzLGUsdGhpcy5jb25zdHJ1Y3Rvci5uYW1lKyh0aGlzLm5lZ2F0ZWQ/XCIhXCI6XCJcIikpfSx0fShyKSxlLlRyeT1ZPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4saSl7dGhpcy5hdHRlbXB0PWUsdGhpcy5lcnJvclZhcmlhYmxlPXQsdGhpcy5yZWNvdmVyeT1uLHRoaXMuZW5zdXJlPWl9cmV0dXJuIGt0KHQsZSksdC5wcm90b3R5cGUuY2hpbGRyZW49W1wiYXR0ZW1wdFwiLFwicmVjb3ZlcnlcIixcImVuc3VyZVwiXSx0LnByb3RvdHlwZS5pc1N0YXRlbWVudD1RLHQucHJvdG90eXBlLmp1bXBzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiB0aGlzLmF0dGVtcHQuanVtcHMoZSl8fChudWxsIT0odD10aGlzLnJlY292ZXJ5KT90Lmp1bXBzKGUpOnZvaWQgMCl9LHQucHJvdG90eXBlLm1ha2VSZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXR0ZW1wdCYmKHRoaXMuYXR0ZW1wdD10aGlzLmF0dGVtcHQubWFrZVJldHVybihlKSksdGhpcy5yZWNvdmVyeSYmKHRoaXMucmVjb3Zlcnk9dGhpcy5yZWNvdmVyeS5tYWtlUmV0dXJuKGUpKSx0aGlzfSx0LnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihlKXt2YXIgdCxuLHIscztyZXR1cm4gZS5pbmRlbnQrPXEscz10aGlzLmF0dGVtcHQuY29tcGlsZVRvRnJhZ21lbnRzKGUsTCksdD10aGlzLnJlY292ZXJ5PyhyPW5ldyB4KFwiX2Vycm9yXCIpLHRoaXMuZXJyb3JWYXJpYWJsZT90aGlzLnJlY292ZXJ5LnVuc2hpZnQobmV3IGkodGhpcy5lcnJvclZhcmlhYmxlLHIpKTp2b2lkIDAsW10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCIgY2F0Y2ggKFwiKSxyLmNvbXBpbGVUb0ZyYWdtZW50cyhlKSx0aGlzLm1ha2VDb2RlKFwiKSB7XFxuXCIpLHRoaXMucmVjb3ZlcnkuY29tcGlsZVRvRnJhZ21lbnRzKGUsTCksdGhpcy5tYWtlQ29kZShcIlxcblwiK3RoaXMudGFiK1wifVwiKSkpOnRoaXMuZW5zdXJlfHx0aGlzLnJlY292ZXJ5P1tdOlt0aGlzLm1ha2VDb2RlKFwiIGNhdGNoIChfZXJyb3IpIHt9XCIpXSxuPXRoaXMuZW5zdXJlP1tdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiIGZpbmFsbHkge1xcblwiKSx0aGlzLmVuc3VyZS5jb21waWxlVG9GcmFnbWVudHMoZSxMKSx0aGlzLm1ha2VDb2RlKFwiXFxuXCIrdGhpcy50YWIrXCJ9XCIpKTpbXSxbXS5jb25jYXQodGhpcy5tYWtlQ29kZSh0aGlzLnRhYitcInRyeSB7XFxuXCIpLHMsdGhpcy5tYWtlQ29kZShcIlxcblwiK3RoaXMudGFiK1wifVwiKSx0LG4pfSx0fShyKSxlLlRocm93PVc9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmV4cHJlc3Npb249ZX1yZXR1cm4ga3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJleHByZXNzaW9uXCJdLHQucHJvdG90eXBlLmlzU3RhdGVtZW50PVEsdC5wcm90b3R5cGUuanVtcHM9RCx0LnByb3RvdHlwZS5tYWtlUmV0dXJuPVgsdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuW10uY29uY2F0KHRoaXMubWFrZUNvZGUodGhpcy50YWIrXCJ0aHJvdyBcIiksdGhpcy5leHByZXNzaW9uLmNvbXBpbGVUb0ZyYWdtZW50cyhlKSx0aGlzLm1ha2VDb2RlKFwiO1wiKSl9LHR9KHIpLGUuRXhpc3RlbmNlPXU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt0aGlzLmV4cHJlc3Npb249ZX1yZXR1cm4ga3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJleHByZXNzaW9uXCJdLHQucHJvdG90eXBlLmludmVydD1TLHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyO3JldHVybiB0aGlzLmV4cHJlc3Npb24uZnJvbnQ9dGhpcy5mcm9udCxpPXRoaXMuZXhwcmVzc2lvbi5jb21waWxlKGUsRiksZy50ZXN0KGkpJiYhZS5zY29wZS5jaGVjayhpKT8ocj10aGlzLm5lZ2F0ZWQ/W1wiPT09XCIsXCJ8fFwiXTpbXCIhPT1cIixcIiYmXCJdLHQ9clswXSxuPXJbMV0saT1cInR5cGVvZiBcIitpK1wiIFwiK3QrJyBcInVuZGVmaW5lZFwiICcrbitcIiBcIitpK1wiIFwiK3QrXCIgbnVsbFwiKTppPWkrXCIgXCIrKHRoaXMubmVnYXRlZD9cIj09XCI6XCIhPVwiKStcIiBudWxsXCIsW3RoaXMubWFrZUNvZGUoQz49ZS5sZXZlbD9pOlwiKFwiK2krXCIpXCIpXX0sdH0ociksZS5QYXJlbnM9Tz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3RoaXMuYm9keT1lfXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcImJvZHlcIl0sdC5wcm90b3R5cGUudW53cmFwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keX0sdC5wcm90b3R5cGUuaXNDb21wbGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5pc0NvbXBsZXgoKX0sdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7dmFyIHQsbixpO3JldHVybiBuPXRoaXMuYm9keS51bndyYXAoKSxuIGluc3RhbmNlb2YgeiYmbi5pc0F0b21pYygpPyhuLmZyb250PXRoaXMuZnJvbnQsbi5jb21waWxlVG9GcmFnbWVudHMoZSkpOihpPW4uY29tcGlsZVRvRnJhZ21lbnRzKGUsTiksdD1GPmUubGV2ZWwmJihuIGluc3RhbmNlb2YgSXx8biBpbnN0YW5jZW9mIG98fG4gaW5zdGFuY2VvZiBmJiZuLnJldHVybnMpLHQ/aTp0aGlzLndyYXBJbkJyYWNlcyhpKSl9LHR9KHIpLGUuRm9yPWY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe3ZhciBuO3RoaXMuc291cmNlPXQuc291cmNlLHRoaXMuZ3VhcmQ9dC5ndWFyZCx0aGlzLnN0ZXA9dC5zdGVwLHRoaXMubmFtZT10Lm5hbWUsdGhpcy5pbmRleD10LmluZGV4LHRoaXMuYm9keT1zLndyYXAoW2VdKSx0aGlzLm93bj0hIXQub3duLHRoaXMub2JqZWN0PSEhdC5vYmplY3QsdGhpcy5vYmplY3QmJihuPVt0aGlzLmluZGV4LHRoaXMubmFtZV0sdGhpcy5uYW1lPW5bMF0sdGhpcy5pbmRleD1uWzFdKSx0aGlzLmluZGV4IGluc3RhbmNlb2YgeiYmdGhpcy5pbmRleC5lcnJvcihcImluZGV4IGNhbm5vdCBiZSBhIHBhdHRlcm4gbWF0Y2hpbmcgZXhwcmVzc2lvblwiKSx0aGlzLnJhbmdlPXRoaXMuc291cmNlIGluc3RhbmNlb2YgeiYmdGhpcy5zb3VyY2UuYmFzZSBpbnN0YW5jZW9mIGomJiF0aGlzLnNvdXJjZS5wcm9wZXJ0aWVzLmxlbmd0aCx0aGlzLnBhdHRlcm49dGhpcy5uYW1lIGluc3RhbmNlb2Ygeix0aGlzLnJhbmdlJiZ0aGlzLmluZGV4JiZ0aGlzLmluZGV4LmVycm9yKFwiaW5kZXhlcyBkbyBub3QgYXBwbHkgdG8gcmFuZ2UgbG9vcHNcIiksdGhpcy5yYW5nZSYmdGhpcy5wYXR0ZXJuJiZ0aGlzLm5hbWUuZXJyb3IoXCJjYW5ub3QgcGF0dGVybiBtYXRjaCBvdmVyIHJhbmdlIGxvb3BzXCIpLHRoaXMub3duJiYhdGhpcy5vYmplY3QmJnRoaXMubmFtZS5lcnJvcihcImNhbm5vdCB1c2Ugb3duIHdpdGggZm9yLWluXCIpLHRoaXMucmV0dXJucz0hMX1yZXR1cm4ga3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJib2R5XCIsXCJzb3VyY2VcIixcImd1YXJkXCIsXCJzdGVwXCJdLHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4scixvLGEsYyxsLGgsdSxwLGQsZixtLHYseSxrLHcsVCxDLEYsTixTLEQsQSxJLF8sJCxqLEIsVixQLFUsRyxIO3JldHVybiB0PXMud3JhcChbdGhpcy5ib2R5XSksRD10LmV4cHJlc3Npb25zLFQ9RFtELmxlbmd0aC0xXSwobnVsbCE9VD9ULmp1bXBzKCk6dm9pZCAwKWluc3RhbmNlb2YgTSYmKHRoaXMucmV0dXJucz0hMSksQj10aGlzLnJhbmdlP3RoaXMuc291cmNlLmJhc2U6dGhpcy5zb3VyY2Usaj1lLnNjb3BlLHRoaXMucGF0dGVybnx8KEY9dGhpcy5uYW1lJiZ0aGlzLm5hbWUuY29tcGlsZShlLEUpKSx2PXRoaXMuaW5kZXgmJnRoaXMuaW5kZXguY29tcGlsZShlLEUpLEYmJiF0aGlzLnBhdHRlcm4mJmouZmluZChGKSx2JiZqLmZpbmQodiksdGhpcy5yZXR1cm5zJiYoJD1qLmZyZWVWYXJpYWJsZShcInJlc3VsdHNcIikpLHk9dGhpcy5vYmplY3QmJnZ8fGouZnJlZVZhcmlhYmxlKFwiaVwiLHtzaW5nbGU6ITB9KSxrPXRoaXMucmFuZ2UmJkZ8fHZ8fHksdz1rIT09eT9rK1wiID0gXCI6XCJcIix0aGlzLnN0ZXAmJiF0aGlzLnJhbmdlJiYoQT10aGlzLmNhY2hlVG9Db2RlRnJhZ21lbnRzKHRoaXMuc3RlcC5jYWNoZShlLEUsb3QpKSxWPUFbMF0sVT1BWzFdLFA9VS5tYXRjaChSKSksdGhpcy5wYXR0ZXJuJiYoRj15KSxIPVwiXCIsZD1cIlwiLGw9XCJcIixmPXRoaXMudGFiK3EsdGhpcy5yYW5nZT9wPUIuY29tcGlsZVRvRnJhZ21lbnRzKGh0KGUse2luZGV4OnksbmFtZTpGLHN0ZXA6dGhpcy5zdGVwLGlzQ29tcGxleDpvdH0pKTooRz10aGlzLnNvdXJjZS5jb21waWxlKGUsRSksIUYmJiF0aGlzLm93bnx8Zy50ZXN0KEcpfHwobCs9XCJcIit0aGlzLnRhYisoUz1qLmZyZWVWYXJpYWJsZShcInJlZlwiKSkrXCIgPSBcIitHK1wiO1xcblwiLEc9UyksRiYmIXRoaXMucGF0dGVybiYmKE49RitcIiA9IFwiK0crXCJbXCIraytcIl1cIiksdGhpcy5vYmplY3R8fChWIT09VSYmKGwrPVwiXCIrdGhpcy50YWIrVitcIjtcXG5cIiksdGhpcy5zdGVwJiZQJiYodT0wPnB0KFBbMF0pKXx8KEM9ai5mcmVlVmFyaWFibGUoXCJsZW5cIikpLGE9XCJcIit3K3krXCIgPSAwLCBcIitDK1wiID0gXCIrRytcIi5sZW5ndGhcIixjPVwiXCIrdyt5K1wiID0gXCIrRytcIi5sZW5ndGggLSAxXCIscj15K1wiIDwgXCIrQyxvPXkrXCIgPj0gMFwiLHRoaXMuc3RlcD8oUD91JiYocj1vLGE9Yyk6KHI9VStcIiA+IDAgPyBcIityK1wiIDogXCIrbyxhPVwiKFwiK1UrXCIgPiAwID8gKFwiK2ErXCIpIDogXCIrYytcIilcIiksbT15K1wiICs9IFwiK1UpOm09XCJcIisoayE9PXk/XCIrK1wiK3k6eStcIisrXCIpLHA9W3RoaXMubWFrZUNvZGUoYStcIjsgXCIrcitcIjsgXCIrdyttKV0pKSx0aGlzLnJldHVybnMmJihJPVwiXCIrdGhpcy50YWIrJCtcIiA9IFtdO1xcblwiLF89XCJcXG5cIit0aGlzLnRhYitcInJldHVybiBcIiskK1wiO1wiLHQubWFrZVJldHVybigkKSksdGhpcy5ndWFyZCYmKHQuZXhwcmVzc2lvbnMubGVuZ3RoPjE/dC5leHByZXNzaW9ucy51bnNoaWZ0KG5ldyBiKG5ldyBPKHRoaXMuZ3VhcmQpLmludmVydCgpLG5ldyB4KFwiY29udGludWVcIikpKTp0aGlzLmd1YXJkJiYodD1zLndyYXAoW25ldyBiKHRoaXMuZ3VhcmQsdCldKSkpLHRoaXMucGF0dGVybiYmdC5leHByZXNzaW9ucy51bnNoaWZ0KG5ldyBpKHRoaXMubmFtZSxuZXcgeChHK1wiW1wiK2srXCJdXCIpKSksaD1bXS5jb25jYXQodGhpcy5tYWtlQ29kZShsKSx0aGlzLnBsdWNrRGlyZWN0Q2FsbChlLHQpKSxOJiYoSD1cIlxcblwiK2YrTitcIjtcIiksdGhpcy5vYmplY3QmJihwPVt0aGlzLm1ha2VDb2RlKGsrXCIgaW4gXCIrRyldLHRoaXMub3duJiYoZD1cIlxcblwiK2YrXCJpZiAoIVwiK2J0KFwiaGFzUHJvcFwiLGUpK1wiLmNhbGwoXCIrRytcIiwgXCIraytcIikpIGNvbnRpbnVlO1wiKSksbj10LmNvbXBpbGVUb0ZyYWdtZW50cyhodChlLHtpbmRlbnQ6Zn0pLEwpLG4mJm4ubGVuZ3RoPjAmJihuPVtdLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiXFxuXCIpLG4sdGhpcy5tYWtlQ29kZShcIlxcblwiKSkpLFtdLmNvbmNhdChoLHRoaXMubWFrZUNvZGUoXCJcIisoSXx8XCJcIikrdGhpcy50YWIrXCJmb3IgKFwiKSxwLHRoaXMubWFrZUNvZGUoXCIpIHtcIitkK0gpLG4sdGhpcy5tYWtlQ29kZSh0aGlzLnRhYitcIn1cIisoX3x8XCJcIikpKX0sdC5wcm90b3R5cGUucGx1Y2tEaXJlY3RDYWxsPWZ1bmN0aW9uKGUsdCl7dmFyIG4scixzLGEsbCxoLHUscCxkLGYsbSxnLHYseSxiLGs7Zm9yKHI9W10sZD10LmV4cHJlc3Npb25zLGw9aD0wLHU9ZC5sZW5ndGg7dT5oO2w9KytoKXM9ZFtsXSxzPXMudW53cmFwQWxsKCkscyBpbnN0YW5jZW9mIG8mJihrPW51bGwhPShmPXMudmFyaWFibGUpP2YudW53cmFwQWxsKCk6dm9pZCAwLChrIGluc3RhbmNlb2YgY3x8ayBpbnN0YW5jZW9mIHomJihudWxsIT0obT1rLmJhc2UpP20udW53cmFwQWxsKCk6dm9pZCAwKWluc3RhbmNlb2YgYyYmMT09PWsucHJvcGVydGllcy5sZW5ndGgmJihcImNhbGxcIj09PShnPW51bGwhPSh2PWsucHJvcGVydGllc1swXS5uYW1lKT92LnZhbHVlOnZvaWQgMCl8fFwiYXBwbHlcIj09PWcpKSYmKGE9KG51bGwhPSh5PWsuYmFzZSk/eS51bndyYXBBbGwoKTp2b2lkIDApfHxrLHA9bmV3IHgoZS5zY29wZS5mcmVlVmFyaWFibGUoXCJmblwiKSksbj1uZXcgeihwKSxrLmJhc2UmJihiPVtuLGtdLGsuYmFzZT1iWzBdLG49YlsxXSksdC5leHByZXNzaW9uc1tsXT1uZXcgbyhuLHMuYXJncykscj1yLmNvbmNhdCh0aGlzLm1ha2VDb2RlKHRoaXMudGFiKSxuZXcgaShwLGEpLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEwpLHRoaXMubWFrZUNvZGUoXCI7XFxuXCIpKSkpO3JldHVybiByfSx0fShKKSxlLlN3aXRjaD1IPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LG4pe3RoaXMuc3ViamVjdD1lLHRoaXMuY2FzZXM9dCx0aGlzLm90aGVyd2lzZT1ufXJldHVybiBrdCh0LGUpLHQucHJvdG90eXBlLmNoaWxkcmVuPVtcInN1YmplY3RcIixcImNhc2VzXCIsXCJvdGhlcndpc2VcIl0sdC5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9USx0LnByb3RvdHlwZS5qdW1wcz1mdW5jdGlvbihlKXt2YXIgdCxuLGkscixzLG8sYSxjO2ZvcihudWxsPT1lJiYoZT17YmxvY2s6ITB9KSxvPXRoaXMuY2FzZXMsaT0wLHM9by5sZW5ndGg7cz5pO2krKylpZihhPW9baV0sbj1hWzBdLHQ9YVsxXSxyPXQuanVtcHMoZSkpcmV0dXJuIHI7cmV0dXJuIG51bGwhPShjPXRoaXMub3RoZXJ3aXNlKT9jLmp1bXBzKGUpOnZvaWQgMH0sdC5wcm90b3R5cGUubWFrZVJldHVybj1mdW5jdGlvbihlKXt2YXIgdCxuLGkscixvO2ZvcihyPXRoaXMuY2FzZXMsdD0wLG49ci5sZW5ndGg7bj50O3QrKylpPXJbdF0saVsxXS5tYWtlUmV0dXJuKGUpO3JldHVybiBlJiYodGhpcy5vdGhlcndpc2V8fCh0aGlzLm90aGVyd2lzZT1uZXcgcyhbbmV3IHgoXCJ2b2lkIDBcIildKSkpLG51bGwhPShvPXRoaXMub3RoZXJ3aXNlKSYmby5tYWtlUmV0dXJuKGUpLHRoaXN9LHQucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLHMsbyxhLGMsbCxoLHUscCxkLGYsbSxnO2ZvcihjPWUuaW5kZW50K3EsbD1lLmluZGVudD1jK3Esbz1bXS5jb25jYXQodGhpcy5tYWtlQ29kZSh0aGlzLnRhYitcInN3aXRjaCAoXCIpLHRoaXMuc3ViamVjdD90aGlzLnN1YmplY3QuY29tcGlsZVRvRnJhZ21lbnRzKGUsTik6dGhpcy5tYWtlQ29kZShcImZhbHNlXCIpLHRoaXMubWFrZUNvZGUoXCIpIHtcXG5cIikpLGY9dGhpcy5jYXNlcyxhPWg9MCxwPWYubGVuZ3RoO3A+aDthPSsraCl7Zm9yKG09ZlthXSxyPW1bMF0sdD1tWzFdLGc9cnQoW3JdKSx1PTAsZD1nLmxlbmd0aDtkPnU7dSsrKWk9Z1t1XSx0aGlzLnN1YmplY3R8fChpPWkuaW52ZXJ0KCkpLG89by5jb25jYXQodGhpcy5tYWtlQ29kZShjK1wiY2FzZSBcIiksaS5jb21waWxlVG9GcmFnbWVudHMoZSxOKSx0aGlzLm1ha2VDb2RlKFwiOlxcblwiKSk7aWYoKG49dC5jb21waWxlVG9GcmFnbWVudHMoZSxMKSkubGVuZ3RoPjAmJihvPW8uY29uY2F0KG4sdGhpcy5tYWtlQ29kZShcIlxcblwiKSkpLGE9PT10aGlzLmNhc2VzLmxlbmd0aC0xJiYhdGhpcy5vdGhlcndpc2UpYnJlYWs7cz10aGlzLmxhc3ROb25Db21tZW50KHQuZXhwcmVzc2lvbnMpLHMgaW5zdGFuY2VvZiBNfHxzIGluc3RhbmNlb2YgeCYmcy5qdW1wcygpJiZcImRlYnVnZ2VyXCIhPT1zLnZhbHVlfHxvLnB1c2goaS5tYWtlQ29kZShsK1wiYnJlYWs7XFxuXCIpKX1yZXR1cm4gdGhpcy5vdGhlcndpc2UmJnRoaXMub3RoZXJ3aXNlLmV4cHJlc3Npb25zLmxlbmd0aCYmby5wdXNoLmFwcGx5KG8sW3RoaXMubWFrZUNvZGUoYytcImRlZmF1bHQ6XFxuXCIpXS5jb25jYXQoQ3QuY2FsbCh0aGlzLm90aGVyd2lzZS5jb21waWxlVG9GcmFnbWVudHMoZSxMKSksW3RoaXMubWFrZUNvZGUoXCJcXG5cIildKSksby5wdXNoKHRoaXMubWFrZUNvZGUodGhpcy50YWIrXCJ9XCIpKSxvfSx0fShyKSxlLklmPWI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQsbil7dGhpcy5ib2R5PXQsbnVsbD09biYmKG49e30pLHRoaXMuY29uZGl0aW9uPVwidW5sZXNzXCI9PT1uLnR5cGU/ZS5pbnZlcnQoKTplLHRoaXMuZWxzZUJvZHk9bnVsbCx0aGlzLmlzQ2hhaW49ITEsdGhpcy5zb2FrPW4uc29ha31yZXR1cm4ga3QodCxlKSx0LnByb3RvdHlwZS5jaGlsZHJlbj1bXCJjb25kaXRpb25cIixcImJvZHlcIixcImVsc2VCb2R5XCJdLHQucHJvdG90eXBlLmJvZHlOb2RlPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuIG51bGwhPShlPXRoaXMuYm9keSk/ZS51bndyYXAoKTp2b2lkIDB9LHQucHJvdG90eXBlLmVsc2VCb2R5Tm9kZT1mdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT0oZT10aGlzLmVsc2VCb2R5KT9lLnVud3JhcCgpOnZvaWQgMH0sdC5wcm90b3R5cGUuYWRkRWxzZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pc0NoYWluP3RoaXMuZWxzZUJvZHlOb2RlKCkuYWRkRWxzZShlKToodGhpcy5pc0NoYWluPWUgaW5zdGFuY2VvZiB0LHRoaXMuZWxzZUJvZHk9dGhpcy5lbnN1cmVCbG9jayhlKSx0aGlzLmVsc2VCb2R5LnVwZGF0ZUxvY2F0aW9uRGF0YUlmTWlzc2luZyhlLmxvY2F0aW9uRGF0YSkpLHRoaXN9LHQucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybihudWxsIT1lP2UubGV2ZWw6dm9pZCAwKT09PUx8fHRoaXMuYm9keU5vZGUoKS5pc1N0YXRlbWVudChlKXx8KG51bGwhPSh0PXRoaXMuZWxzZUJvZHlOb2RlKCkpP3QuaXNTdGF0ZW1lbnQoZSk6dm9pZCAwKX0sdC5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHRoaXMuYm9keS5qdW1wcyhlKXx8KG51bGwhPSh0PXRoaXMuZWxzZUJvZHkpP3QuanVtcHMoZSk6dm9pZCAwKX0sdC5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNTdGF0ZW1lbnQoZSk/dGhpcy5jb21waWxlU3RhdGVtZW50KGUpOnRoaXMuY29tcGlsZUV4cHJlc3Npb24oZSl9LHQucHJvdG90eXBlLm1ha2VSZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJih0aGlzLmVsc2VCb2R5fHwodGhpcy5lbHNlQm9keT1uZXcgcyhbbmV3IHgoXCJ2b2lkIDBcIildKSkpLHRoaXMuYm9keSYmKHRoaXMuYm9keT1uZXcgcyhbdGhpcy5ib2R5Lm1ha2VSZXR1cm4oZSldKSksdGhpcy5lbHNlQm9keSYmKHRoaXMuZWxzZUJvZHk9bmV3IHMoW3RoaXMuZWxzZUJvZHkubWFrZVJldHVybihlKV0pKSx0aGlzfSx0LnByb3RvdHlwZS5lbnN1cmVCbG9jaz1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHM/ZTpuZXcgcyhbZV0pfSx0LnByb3RvdHlwZS5jb21waWxlU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3ZhciBuLGkscixzLG8sYSxjO3JldHVybiByPXR0KGUsXCJjaGFpbkNoaWxkXCIpLChvPXR0KGUsXCJpc0V4aXN0ZW50aWFsRXF1YWxzXCIpKT9uZXcgdCh0aGlzLmNvbmRpdGlvbi5pbnZlcnQoKSx0aGlzLmVsc2VCb2R5Tm9kZSgpLHt0eXBlOlwiaWZcIn0pLmNvbXBpbGVUb0ZyYWdtZW50cyhlKTooYz1lLmluZGVudCtxLHM9dGhpcy5jb25kaXRpb24uY29tcGlsZVRvRnJhZ21lbnRzKGUsTiksaT10aGlzLmVuc3VyZUJsb2NrKHRoaXMuYm9keSkuY29tcGlsZVRvRnJhZ21lbnRzKGh0KGUse2luZGVudDpjfSkpLGE9W10uY29uY2F0KHRoaXMubWFrZUNvZGUoXCJpZiAoXCIpLHMsdGhpcy5tYWtlQ29kZShcIikge1xcblwiKSxpLHRoaXMubWFrZUNvZGUoXCJcXG5cIit0aGlzLnRhYitcIn1cIikpLHJ8fGEudW5zaGlmdCh0aGlzLm1ha2VDb2RlKHRoaXMudGFiKSksdGhpcy5lbHNlQm9keT8obj1hLmNvbmNhdCh0aGlzLm1ha2VDb2RlKFwiIGVsc2UgXCIpKSx0aGlzLmlzQ2hhaW4/KGUuY2hhaW5DaGlsZD0hMCxuPW4uY29uY2F0KHRoaXMuZWxzZUJvZHkudW53cmFwKCkuY29tcGlsZVRvRnJhZ21lbnRzKGUsTCkpKTpuPW4uY29uY2F0KHRoaXMubWFrZUNvZGUoXCJ7XFxuXCIpLHRoaXMuZWxzZUJvZHkuY29tcGlsZVRvRnJhZ21lbnRzKGh0KGUse2luZGVudDpjfSksTCksdGhpcy5tYWtlQ29kZShcIlxcblwiK3RoaXMudGFiK1wifVwiKSksbik6YSl9LHQucHJvdG90eXBlLmNvbXBpbGVFeHByZXNzaW9uPWZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyO3JldHVybiBpPXRoaXMuY29uZGl0aW9uLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEMpLG49dGhpcy5ib2R5Tm9kZSgpLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEUpLHQ9dGhpcy5lbHNlQm9keU5vZGUoKT90aGlzLmVsc2VCb2R5Tm9kZSgpLmNvbXBpbGVUb0ZyYWdtZW50cyhlLEUpOlt0aGlzLm1ha2VDb2RlKFwidm9pZCAwXCIpXSxyPWkuY29uY2F0KHRoaXMubWFrZUNvZGUoXCIgPyBcIiksbix0aGlzLm1ha2VDb2RlKFwiIDogXCIpLHQpLGUubGV2ZWw+PUM/dGhpcy53cmFwSW5CcmFjZXMocik6cn0sdC5wcm90b3R5cGUudW5mb2xkU29haz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvYWsmJnRoaXN9LHR9KHIpLEs9e2V4dGVuZDpmdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoXCIrYnQoXCJoYXNQcm9wXCIsZSkrXCIuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH1cIn0sYmluZDpmdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfVwifSxpbmRleE9mOmZ1bmN0aW9uKCl7cmV0dXJuXCJbXS5pbmRleE9mIHx8IGZ1bmN0aW9uKGl0ZW0pIHsgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykgeyBpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHJldHVybiBpOyB9IHJldHVybiAtMTsgfVwifSxtb2R1bG86ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuICgrYSAlIChiID0gK2IpICsgYikgJSBiOyB9XCJ9LGhhc1Byb3A6ZnVuY3Rpb24oKXtyZXR1cm5cInt9Lmhhc093blByb3BlcnR5XCJ9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuXCJbXS5zbGljZVwifX0sTD0xLE49MixFPTMsQz00LEY9NSxUPTYscT1cIiAgXCIsZz0vXig/IVxcZClbJFxcd1xceDdmLVxcdWZmZmZdKyQvLEI9L15bKy1dP1xcZCskLyxtPS9eWystXT8weFtcXGRhLWZdKy9pLFI9L15bKy1dPyg/OjB4W1xcZGEtZl0rfFxcZCpcXC4/XFxkKyg/OmVbKy1dP1xcZCspPykkL2kseT0vXlsnXCJdLyx2PS9eXFwvLyxidD1mdW5jdGlvbihlLHQpe3ZhciBuLGk7cmV0dXJuIGk9dC5zY29wZS5yb290LGUgaW4gaS51dGlsaXRpZXM/aS51dGlsaXRpZXNbZV06KG49aS5mcmVlVmFyaWFibGUoZSksaS5hc3NpZ24obixLW2VdKHQpKSxpLnV0aWxpdGllc1tlXT1uKX0sdXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1lLnJlcGxhY2UoL1xcbi9nLFwiJCZcIit0KSxlLnJlcGxhY2UoL1xccyskLyxcIlwiKX0scHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/MDplLm1hdGNoKG0pP3BhcnNlSW50KGUsMTYpOnBhcnNlRmxvYXQoZSl9LGF0PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgeCYmXCJhcmd1bWVudHNcIj09PWUudmFsdWUmJiFlLmFzS2V5fSxjdD1mdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHgmJlwidGhpc1wiPT09ZS52YWx1ZSYmIWUuYXNLZXl8fGUgaW5zdGFuY2VvZiBjJiZlLmJvdW5kfHxlIGluc3RhbmNlb2YgbyYmZS5pc1N1cGVyfSxvdD1mdW5jdGlvbihlKXtyZXR1cm4gZS5pc0NvbXBsZXgoKXx8KFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuaXNBc3NpZ25hYmxlP2UuaXNBc3NpZ25hYmxlKCk6dm9pZCAwKX0seXQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpO2lmKGk9dFtuXS51bmZvbGRTb2FrKGUpKXJldHVybiB0W25dPWkuYm9keSxpLmJvZHk9bmV3IHoodCksaX19LmNhbGwodGhpcyksdC5leHBvcnRzfSgpLHJlcXVpcmVbXCIuL3NvdXJjZW1hcFwiXT1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9e2V4cG9ydHM6ZX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGUsbjtlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLmxpbmU9ZSx0aGlzLmNvbHVtbnM9W119cmV0dXJuIGUucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQsbil7dmFyIGkscjtyZXR1cm4gcj10WzBdLGk9dFsxXSxudWxsPT1uJiYobj17fSksdGhpcy5jb2x1bW5zW2VdJiZuLm5vUmVwbGFjZT92b2lkIDA6dGhpcy5jb2x1bW5zW2VdPXtsaW5lOnRoaXMubGluZSxjb2x1bW46ZSxzb3VyY2VMaW5lOnIsc291cmNlQ29sdW1uOml9fSxlLnByb3RvdHlwZS5zb3VyY2VMb2NhdGlvbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ7ISgodD10aGlzLmNvbHVtbnNbZV0pfHwwPj1lKTspZS0tO3JldHVybiB0JiZbdC5zb3VyY2VMaW5lLHQuc291cmNlQ29sdW1uXX0sZX0oKSxuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMubGluZXM9W119dmFyIG4saSxyLHM7cmV0dXJuIHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0LG4saSl7dmFyIHIscyxvLGE7cmV0dXJuIG51bGw9PWkmJihpPXt9KSxvPW5bMF0scz1uWzFdLGE9KHI9dGhpcy5saW5lcylbb118fChyW29dPW5ldyBlKG8pKSxhLmFkZChzLHQsaSl9LHQucHJvdG90eXBlLnNvdXJjZUxvY2F0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0LG4saTtmb3Iobj1lWzBdLHQ9ZVsxXTshKChpPXRoaXMubGluZXNbbl0pfHwwPj1uKTspbi0tO3JldHVybiBpJiZpLnNvdXJjZUxvY2F0aW9uKHQpfSx0LnByb3RvdHlwZS5nZW5lcmF0ZT1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixzLG8sYSxjLGwsaCx1LHAsZCxmLG0sZyx2O2ZvcihudWxsPT1lJiYoZT17fSksbnVsbD09dCYmKHQ9bnVsbCksdj0wLHM9MCxhPTAsbz0wLGQ9ITEsbj1cIlwiLGY9dGhpcy5saW5lcyx1PWk9MCxjPWYubGVuZ3RoO2M+aTt1PSsraSlpZihoPWZbdV0pZm9yKG09aC5jb2x1bW5zLHI9MCxsPW0ubGVuZ3RoO2w+cjtyKyspaWYocD1tW3JdKXtmb3IoO3AubGluZT52OylzPTAsZD0hMSxuKz1cIjtcIix2Kys7ZCYmKG4rPVwiLFwiLGQ9ITEpLG4rPXRoaXMuZW5jb2RlVmxxKHAuY29sdW1uLXMpLHM9cC5jb2x1bW4sbis9dGhpcy5lbmNvZGVWbHEoMCksbis9dGhpcy5lbmNvZGVWbHEocC5zb3VyY2VMaW5lLWEpLGE9cC5zb3VyY2VMaW5lLG4rPXRoaXMuZW5jb2RlVmxxKHAuc291cmNlQ29sdW1uLW8pLG89cC5zb3VyY2VDb2x1bW4sZD0hMH1yZXR1cm4gZz17dmVyc2lvbjozLGZpbGU6ZS5nZW5lcmF0ZWRGaWxlfHxcIlwiLHNvdXJjZVJvb3Q6ZS5zb3VyY2VSb290fHxcIlwiLHNvdXJjZXM6ZS5zb3VyY2VGaWxlc3x8W1wiXCJdLG5hbWVzOltdLG1hcHBpbmdzOm59LGUuaW5saW5lJiYoZy5zb3VyY2VzQ29udGVudD1bdF0pLEpTT04uc3RyaW5naWZ5KGcsbnVsbCwyKX0scj01LGk9MTw8cixzPWktMSx0LnByb3RvdHlwZS5lbmNvZGVWbHE9ZnVuY3Rpb24oZSl7dmFyIHQsbixvLGE7Zm9yKHQ9XCJcIixvPTA+ZT8xOjAsYT0oTWF0aC5hYnMoZSk8PDEpK287YXx8IXQ7KW49YSZzLGE+Pj1yLGEmJihufD1pKSx0Kz10aGlzLmVuY29kZUJhc2U2NChuKTtyZXR1cm4gdH0sbj1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIix0LnByb3RvdHlwZS5lbmNvZGVCYXNlNjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fGZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJDYW5ub3QgQmFzZTY0IGVuY29kZSB2YWx1ZTogXCIrZSl9KCl9LHR9KCksdC5leHBvcnRzPW59LmNhbGwodGhpcyksdC5leHBvcnRzfSgpLHJlcXVpcmVbXCIuL2NvZmZlZS1zY3JpcHRcIl09ZnVuY3Rpb24oKXt2YXIgZT17fSx0PXtleHBvcnRzOmV9O3JldHVybiBmdW5jdGlvbigpe3ZhciB0LG4saSxyLHMsbyxhLGMsbCxoLHUscCxkLGYsbSxnLHYseSxiPXt9Lmhhc093blByb3BlcnR5LGs9W10uaW5kZXhPZnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj10aGlzLmxlbmd0aDtuPnQ7dCsrKWlmKHQgaW4gdGhpcyYmdGhpc1t0XT09PWUpcmV0dXJuIHQ7cmV0dXJuLTF9O2lmKGE9cmVxdWlyZShcImZzXCIpLHY9cmVxdWlyZShcInZtXCIpLGY9cmVxdWlyZShcInBhdGhcIiksdD1yZXF1aXJlKFwiLi9sZXhlclwiKS5MZXhlcixkPXJlcXVpcmUoXCIuL3BhcnNlclwiKS5wYXJzZXIsbD1yZXF1aXJlKFwiLi9oZWxwZXJzXCIpLG49cmVxdWlyZShcIi4vc291cmNlbWFwXCIpLGUuVkVSU0lPTj1cIjEuOS4yXCIsZS5GSUxFX0VYVEVOU0lPTlM9W1wiLmNvZmZlZVwiLFwiLmxpdGNvZmZlZVwiLFwiLmNvZmZlZS5tZFwiXSxlLmhlbHBlcnM9bCx5PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciBpO251bGw9PW4mJihuPXt9KTt0cnl7cmV0dXJuIGUuY2FsbCh0aGlzLHQsbilcbn1jYXRjaChyKXt0aHJvdyBpPXIsbC51cGRhdGVTeW50YXhFcnJvcihpLHQsbi5maWxlbmFtZSl9fX0sZS5jb21waWxlPXI9eShmdW5jdGlvbihlLHQpe3ZhciBpLHIscyxvLGEsYyxoLHUsZixtLGcsdix5LGIsaztmb3Iodj1sLm1lcmdlLG89bC5leHRlbmQsdD1vKHt9LHQpLHQuc291cmNlTWFwJiYoZz1uZXcgbiksaz1wLnRva2VuaXplKGUsdCksdC5yZWZlcmVuY2VkVmFycz1mdW5jdGlvbigpe3ZhciBlLHQsbjtmb3Iobj1bXSxlPTAsdD1rLmxlbmd0aDt0PmU7ZSsrKWI9a1tlXSxiLnZhcmlhYmxlJiZuLnB1c2goYlsxXSk7cmV0dXJuIG59KCksYz1kLnBhcnNlKGspLmNvbXBpbGVUb0ZyYWdtZW50cyh0KSxzPTAsdC5oZWFkZXImJihzKz0xKSx0LnNoaWZ0TGluZSYmKHMrPTEpLHI9MCxmPVwiXCIsdT0wLG09Yy5sZW5ndGg7bT51O3UrKylhPWNbdV0sdC5zb3VyY2VNYXAmJihhLmxvY2F0aW9uRGF0YSYmZy5hZGQoW2EubG9jYXRpb25EYXRhLmZpcnN0X2xpbmUsYS5sb2NhdGlvbkRhdGEuZmlyc3RfY29sdW1uXSxbcyxyXSx7bm9SZXBsYWNlOiEwfSkseT1sLmNvdW50KGEuY29kZSxcIlxcblwiKSxzKz15LHk/cj1hLmNvZGUubGVuZ3RoLShhLmNvZGUubGFzdEluZGV4T2YoXCJcXG5cIikrMSk6cis9YS5jb2RlLmxlbmd0aCksZis9YS5jb2RlO3JldHVybiB0LmhlYWRlciYmKGg9XCJHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IFwiK3RoaXMuVkVSU0lPTixmPVwiLy8gXCIraCtcIlxcblwiK2YpLHQuc291cmNlTWFwPyhpPXtqczpmfSxpLnNvdXJjZU1hcD1nLGkudjNTb3VyY2VNYXA9Zy5nZW5lcmF0ZSh0LGUpLGkpOmZ9KSxlLnRva2Vucz15KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAudG9rZW5pemUoZSx0KX0pLGUubm9kZXM9eShmdW5jdGlvbihlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2QucGFyc2UocC50b2tlbml6ZShlLHQpKTpkLnBhcnNlKGUpfSksZS5ydW49ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHMsbztyZXR1cm4gbnVsbD09dCYmKHQ9e30pLHM9cmVxdWlyZS5tYWluLHMuZmlsZW5hbWU9cHJvY2Vzcy5hcmd2WzFdPXQuZmlsZW5hbWU/YS5yZWFscGF0aFN5bmModC5maWxlbmFtZSk6XCIuXCIscy5tb2R1bGVDYWNoZSYmKHMubW9kdWxlQ2FjaGU9e30pLGk9dC5maWxlbmFtZT9mLmRpcm5hbWUoYS5yZWFscGF0aFN5bmModC5maWxlbmFtZSkpOmEucmVhbHBhdGhTeW5jKFwiLlwiKSxzLnBhdGhzPXJlcXVpcmUoXCJtb2R1bGVcIikuX25vZGVNb2R1bGVQYXRocyhpKSwoIWwuaXNDb2ZmZWUocy5maWxlbmFtZSl8fHJlcXVpcmUuZXh0ZW5zaW9ucykmJihuPXIoZSx0KSxlPW51bGwhPShvPW4uanMpP286bikscy5fY29tcGlsZShlLHMuZmlsZW5hbWUpfSxlLmV2YWw9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHMsbyxhLGMsbCxoLHUscCxkLG0sZyx5LGssdyxUO2lmKG51bGw9PXQmJih0PXt9KSxlPWUudHJpbSgpKXtpZihvPW51bGwhPShtPXYuU2NyaXB0LmNyZWF0ZUNvbnRleHQpP206di5jcmVhdGVDb250ZXh0LGM9bnVsbCE9KGc9di5pc0NvbnRleHQpP2c6ZnVuY3Rpb24oKXtyZXR1cm4gdC5zYW5kYm94IGluc3RhbmNlb2YgbygpLmNvbnN0cnVjdG9yfSxvKXtpZihudWxsIT10LnNhbmRib3gpe2lmKGModC5zYW5kYm94KSl3PXQuc2FuZGJveDtlbHNle3c9bygpLHk9dC5zYW5kYm94O2ZvcihoIGluIHkpYi5jYWxsKHksaCkmJihUPXlbaF0sd1toXT1UKX13Lmdsb2JhbD13LnJvb3Q9dy5HTE9CQUw9d31lbHNlIHc9Z2xvYmFsO2lmKHcuX19maWxlbmFtZT10LmZpbGVuYW1lfHxcImV2YWxcIix3Ll9fZGlybmFtZT1mLmRpcm5hbWUody5fX2ZpbGVuYW1lKSx3PT09Z2xvYmFsJiYhdy5tb2R1bGUmJiF3LnJlcXVpcmUpe2ZvcihuPXJlcXVpcmUoXCJtb2R1bGVcIiksdy5tb2R1bGU9aT1uZXcgbih0Lm1vZHVsZW5hbWV8fFwiZXZhbFwiKSx3LnJlcXVpcmU9cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5fbG9hZChlLGksITApfSxpLmZpbGVuYW1lPXcuX19maWxlbmFtZSxrPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHJlcXVpcmUpLGE9MCx1PWsubGVuZ3RoO3U+YTthKyspZD1rW2FdLFwicGF0aHNcIiE9PWQmJihzW2RdPXJlcXVpcmVbZF0pO3MucGF0aHM9aS5wYXRocz1uLl9ub2RlTW9kdWxlUGF0aHMocHJvY2Vzcy5jd2QoKSkscy5yZXNvbHZlPWZ1bmN0aW9uKGUpe3JldHVybiBuLl9yZXNvbHZlRmlsZW5hbWUoZSxpKX19fXA9e307Zm9yKGggaW4gdCliLmNhbGwodCxoKSYmKFQ9dFtoXSxwW2hdPVQpO3JldHVybiBwLmJhcmU9ITAsbD1yKGUscCksdz09PWdsb2JhbD92LnJ1bkluVGhpc0NvbnRleHQobCk6di5ydW5JbkNvbnRleHQobCx3KX19LGUucmVnaXN0ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gcmVxdWlyZShcIi4vcmVnaXN0ZXJcIil9LHJlcXVpcmUuZXh0ZW5zaW9ucylmb3IobT10aGlzLkZJTEVfRVhURU5TSU9OUyxoPTAsdT1tLmxlbmd0aDt1Pmg7aCsrKXM9bVtoXSxudWxsPT0oaT1yZXF1aXJlLmV4dGVuc2lvbnMpW3NdJiYoaVtzXT1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiVXNlIENvZmZlZVNjcmlwdC5yZWdpc3RlcigpIG9yIHJlcXVpcmUgdGhlIGNvZmZlZS1zY3JpcHQvcmVnaXN0ZXIgbW9kdWxlIHRvIHJlcXVpcmUgXCIrcytcIiBmaWxlcy5cIil9KTtlLl9jb21waWxlRmlsZT1mdW5jdGlvbihlLHQpe3ZhciBuLGkscyxvO251bGw9PXQmJih0PSExKSxzPWEucmVhZEZpbGVTeW5jKGUsXCJ1dGY4XCIpLG89NjUyNzk9PT1zLmNoYXJDb2RlQXQoMCk/cy5zdWJzdHJpbmcoMSk6czt0cnl7bj1yKG8se2ZpbGVuYW1lOmUsc291cmNlTWFwOnQsbGl0ZXJhdGU6bC5pc0xpdGVyYXRlKGUpfSl9Y2F0Y2goYyl7dGhyb3cgaT1jLGwudXBkYXRlU3ludGF4RXJyb3IoaSxvLGUpfXJldHVybiBufSxwPW5ldyB0LGQubGV4ZXI9e2xleDpmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIHQ9ZC50b2tlbnNbdGhpcy5wb3MrK10sdD8oZT10WzBdLHRoaXMueXl0ZXh0PXRbMV0sdGhpcy55eWxsb2M9dFsyXSxkLmVycm9yVG9rZW49dC5vcmlnaW58fHQsdGhpcy55eWxpbmVubz10aGlzLnl5bGxvYy5maXJzdF9saW5lKTplPVwiXCIsZX0sc2V0SW5wdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGQudG9rZW5zPWUsdGhpcy5wb3M9MH0sdXBjb21pbmdJbnB1dDpmdW5jdGlvbigpe3JldHVyblwiXCJ9fSxkLnl5PXJlcXVpcmUoXCIuL25vZGVzXCIpLGQueXkucGFyc2VFcnJvcj1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixzLG8sYTtyZXR1cm4gbz10LnRva2VuLHM9ZC5lcnJvclRva2VuLGE9ZC50b2tlbnMsaT1zWzBdLHI9c1sxXSxuPXNbMl0scj1mdW5jdGlvbigpe3N3aXRjaCghMSl7Y2FzZSBzIT09YVthLmxlbmd0aC0xXTpyZXR1cm5cImVuZCBvZiBpbnB1dFwiO2Nhc2VcIklOREVOVFwiIT09aSYmXCJPVVRERU5UXCIhPT1pOnJldHVyblwiaW5kZW50YXRpb25cIjtjYXNlXCJJREVOVElGSUVSXCIhPT1pJiZcIk5VTUJFUlwiIT09aSYmXCJTVFJJTkdcIiE9PWkmJlwiU1RSSU5HX1NUQVJUXCIhPT1pJiZcIlJFR0VYXCIhPT1pJiZcIlJFR0VYX1NUQVJUXCIhPT1pOnJldHVybiBpLnJlcGxhY2UoL19TVEFSVCQvLFwiXCIpLnRvTG93ZXJDYXNlKCk7ZGVmYXVsdDpyZXR1cm4gbC5uYW1lV2hpdGVzcGFjZUNoYXJhY3RlcihyKX19KCksbC50aHJvd1N5bnRheEVycm9yKFwidW5leHBlY3RlZCBcIityLG4pfSxvPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLHMsbyxhLGMsbCxoLHUscCxkO3JldHVybiBzPXZvaWQgMCxyPVwiXCIsZS5pc05hdGl2ZSgpP3I9XCJuYXRpdmVcIjooZS5pc0V2YWwoKT8ocz1lLmdldFNjcmlwdE5hbWVPclNvdXJjZVVSTCgpLHN8fChyPWUuZ2V0RXZhbE9yaWdpbigpK1wiLCBcIikpOnM9ZS5nZXRGaWxlTmFtZSgpLHN8fChzPVwiPGFub255bW91cz5cIiksbD1lLmdldExpbmVOdW1iZXIoKSxpPWUuZ2V0Q29sdW1uTnVtYmVyKCksdT10KHMsbCxpKSxyPXU/cytcIjpcIit1WzBdK1wiOlwiK3VbMV06cytcIjpcIitsK1wiOlwiK2kpLG89ZS5nZXRGdW5jdGlvbk5hbWUoKSxhPWUuaXNDb25zdHJ1Y3RvcigpLGM9IShlLmlzVG9wbGV2ZWwoKXx8YSksYz8oaD1lLmdldE1ldGhvZE5hbWUoKSxkPWUuZ2V0VHlwZU5hbWUoKSxvPyhwPW49XCJcIixkJiZvLmluZGV4T2YoZCkmJihwPWQrXCIuXCIpLGgmJm8uaW5kZXhPZihcIi5cIitoKSE9PW8ubGVuZ3RoLWgubGVuZ3RoLTEmJihuPVwiIFthcyBcIitoK1wiXVwiKSxcIlwiK3ArbytuK1wiIChcIityK1wiKVwiKTpkK1wiLlwiKyhofHxcIjxhbm9ueW1vdXM+XCIpK1wiIChcIityK1wiKVwiKTphP1wibmV3IFwiKyhvfHxcIjxhbm9ueW1vdXM+XCIpK1wiIChcIityK1wiKVwiOm8/bytcIiAoXCIrcitcIilcIjpyfSxnPXt9LGM9ZnVuY3Rpb24odCl7dmFyIG4saTtpZihnW3RdKXJldHVybiBnW3RdO2lmKGk9bnVsbCE9Zj9mLmV4dG5hbWUodCk6dm9pZCAwLCEoMD5rLmNhbGwoZS5GSUxFX0VYVEVOU0lPTlMsaSkpKXJldHVybiBuPWUuX2NvbXBpbGVGaWxlKHQsITApLGdbdF09bi5zb3VyY2VNYXB9LEVycm9yLnByZXBhcmVTdGFja1RyYWNlPWZ1bmN0aW9uKHQsbil7dmFyIGkscixzO3JldHVybiBzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyO3JldHVybiByPWMoZSksciYmKGk9ci5zb3VyY2VMb2NhdGlvbihbdC0xLG4tMV0pKSxpP1tpWzBdKzEsaVsxXSsxXTpudWxsfSxyPWZ1bmN0aW9uKCl7dmFyIHQscixhO2ZvcihhPVtdLHQ9MCxyPW4ubGVuZ3RoO3I+dCYmKGk9blt0XSxpLmdldEZ1bmN0aW9uKCkhPT1lLnJ1bik7dCsrKWEucHVzaChcIiAgYXQgXCIrbyhpLHMpKTtyZXR1cm4gYX0oKSxcIlwiK3QrXCJcXG5cIityLmpvaW4oXCJcXG5cIikrXCJcXG5cIn19LmNhbGwodGhpcyksdC5leHBvcnRzfSgpLHJlcXVpcmVbXCIuL2Jyb3dzZXJcIl09ZnVuY3Rpb24oKXt2YXIgZXhwb3J0cz17fSxtb2R1bGU9e2V4cG9ydHM6ZXhwb3J0c307cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIENvZmZlZVNjcmlwdCxjb21waWxlLHJ1blNjcmlwdHMsaW5kZXhPZj1bXS5pbmRleE9mfHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxuPXRoaXMubGVuZ3RoO24+dDt0KyspaWYodCBpbiB0aGlzJiZ0aGlzW3RdPT09ZSlyZXR1cm4gdDtyZXR1cm4tMX07Q29mZmVlU2NyaXB0PXJlcXVpcmUoXCIuL2NvZmZlZS1zY3JpcHRcIiksQ29mZmVlU2NyaXB0LnJlcXVpcmU9cmVxdWlyZSxjb21waWxlPUNvZmZlZVNjcmlwdC5jb21waWxlLENvZmZlZVNjcmlwdC5ldmFsPWZ1bmN0aW9uKGNvZGUsb3B0aW9ucyl7cmV0dXJuIG51bGw9PW9wdGlvbnMmJihvcHRpb25zPXt9KSxudWxsPT1vcHRpb25zLmJhcmUmJihvcHRpb25zLmJhcmU9ITApLGV2YWwoY29tcGlsZShjb2RlLG9wdGlvbnMpKX0sQ29mZmVlU2NyaXB0LnJ1bj1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT10JiYodD17fSksdC5iYXJlPSEwLHQuc2hpZnRMaW5lPSEwLEZ1bmN0aW9uKGNvbXBpbGUoZSx0KSkoKX0sXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmbnVsbCE9PXdpbmRvdyYmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBidG9hJiZudWxsIT09YnRvYSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEpTT04mJm51bGwhPT1KU09OJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdW5lc2NhcGUmJm51bGwhPT11bmVzY2FwZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGVuY29kZVVSSUNvbXBvbmVudCYmbnVsbCE9PWVuY29kZVVSSUNvbXBvbmVudCYmKGNvbXBpbGU9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHI7cmV0dXJuIG51bGw9PXQmJih0PXt9KSx0LnNvdXJjZU1hcD0hMCx0LmlubGluZT0hMCxpPUNvZmZlZVNjcmlwdC5jb21waWxlKGUsdCksbj1pLmpzLHI9aS52M1NvdXJjZU1hcCxuK1wiXFxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChyKSkpK1wiXFxuLy8jIHNvdXJjZVVSTD1jb2ZmZWVzY3JpcHRcIn0pLENvZmZlZVNjcmlwdC5sb2FkPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByO3JldHVybiBudWxsPT1uJiYobj17fSksbnVsbD09aSYmKGk9ITEpLG4uc291cmNlRmlsZXM9W2VdLHI9d2luZG93LkFjdGl2ZVhPYmplY3Q/bmV3IHdpbmRvdy5BY3RpdmVYT2JqZWN0KFwiTWljcm9zb2Z0LlhNTEhUVFBcIik6bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCxyLm9wZW4oXCJHRVRcIixlLCEwKSxcIm92ZXJyaWRlTWltZVR5cGVcImluIHImJnIub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW5cIiksci5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgcyxvO2lmKDQ9PT1yLnJlYWR5U3RhdGUpe2lmKDAhPT0obz1yLnN0YXR1cykmJjIwMCE9PW8pdGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgbG9hZCBcIitlKTtpZihzPVtyLnJlc3BvbnNlVGV4dCxuXSxpfHxDb2ZmZWVTY3JpcHQucnVuLmFwcGx5KENvZmZlZVNjcmlwdCxzKSx0KXJldHVybiB0KHMpfX0sci5zZW5kKG51bGwpfSxydW5TY3JpcHRzPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGkscixzLG8sYSxjLGwsaDtmb3IoaD13aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksdD1bXCJ0ZXh0L2NvZmZlZXNjcmlwdFwiLFwidGV4dC9saXRlcmF0ZS1jb2ZmZWVzY3JpcHRcIl0sZT1mdW5jdGlvbigpe3ZhciBlLG4saSxyO2ZvcihyPVtdLGU9MCxuPWgubGVuZ3RoO24+ZTtlKyspYz1oW2VdLGk9Yy50eXBlLGluZGV4T2YuY2FsbCh0LGkpPj0wJiZyLnB1c2goYyk7cmV0dXJuIHJ9KCkscz0wLG49ZnVuY3Rpb24oKXt2YXIgdDtyZXR1cm4gdD1lW3NdLHQgaW5zdGFuY2VvZiBBcnJheT8oQ29mZmVlU2NyaXB0LnJ1bi5hcHBseShDb2ZmZWVTY3JpcHQsdCkscysrLG4oKSk6dm9pZCAwfSxpPWZ1bmN0aW9uKGkscil7dmFyIHMsbztyZXR1cm4gcz17bGl0ZXJhdGU6aS50eXBlPT09dFsxXX0sbz1pLnNyY3x8aS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNyY1wiKSxvP0NvZmZlZVNjcmlwdC5sb2FkKG8sZnVuY3Rpb24odCl7cmV0dXJuIGVbcl09dCxuKCl9LHMsITApOihzLnNvdXJjZUZpbGVzPVtcImVtYmVkZGVkXCJdLGVbcl09W2kuaW5uZXJIVE1MLHNdKX0scj1vPTAsYT1lLmxlbmd0aDthPm87cj0rK28pbD1lW3JdLGkobCxyKTtyZXR1cm4gbigpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcj93aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixydW5TY3JpcHRzLCExKTp3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixydW5TY3JpcHRzKSl9LmNhbGwodGhpcyksbW9kdWxlLmV4cG9ydHN9KCkscmVxdWlyZVtcIi4vY29mZmVlLXNjcmlwdFwiXX0oKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIENvZmZlZVNjcmlwdH0pOnJvb3QuQ29mZmVlU2NyaXB0PUNvZmZlZVNjcmlwdH0pKHRoaXMpOyIsIi8qIVxuICogdHlwZWFoZWFkLmpzIDAuOS4zXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdHdpdHRlci90eXBlYWhlYWRcbiAqIENvcHlyaWdodCAyMDEzIFR3aXR0ZXIsIEluYy4gYW5kIG90aGVyIGNvbnRyaWJ1dG9yczsgTGljZW5zZWQgTUlUXG4gKi9cblxuKGZ1bmN0aW9uKCQpIHtcbiAgICB2YXIgVkVSU0lPTiA9IFwiMC45LjNcIjtcbiAgICB2YXIgdXRpbHMgPSB7XG4gICAgICAgIGlzTXNpZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSAvKG1zaWUpIChbXFx3Ll0rKS9pLmV4ZWMobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2ggPyBwYXJzZUludChtYXRjaFsyXSwgMTApIDogZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGlzQmxhbmtTdHJpbmc6IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgICAgcmV0dXJuICFzdHIgfHwgL15cXHMqJC8udGVzdChzdHIpO1xuICAgICAgICB9LFxuICAgICAgICBlc2NhcGVSZWdFeENoYXJzOiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csIFwiXFxcXCQmXCIpO1xuICAgICAgICB9LFxuICAgICAgICBpc1N0cmluZzogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJzdHJpbmdcIjtcbiAgICAgICAgfSxcbiAgICAgICAgaXNOdW1iZXI6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IFwibnVtYmVyXCI7XG4gICAgICAgIH0sXG4gICAgICAgIGlzQXJyYXk6ICQuaXNBcnJheSxcbiAgICAgICAgaXNGdW5jdGlvbjogJC5pc0Z1bmN0aW9uLFxuICAgICAgICBpc09iamVjdDogJC5pc1BsYWluT2JqZWN0LFxuICAgICAgICBpc1VuZGVmaW5lZDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgICAgfSxcbiAgICAgICAgYmluZDogJC5wcm94eSxcbiAgICAgICAgYmluZEFsbDogZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICB2YXIgdmFsO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgICQuaXNGdW5jdGlvbih2YWwgPSBvYmpba2V5XSkgJiYgKG9ialtrZXldID0gJC5wcm94eSh2YWwsIG9iaikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbmRleE9mOiBmdW5jdGlvbihoYXlzdGFjaywgbmVlZGxlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhheXN0YWNrLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhheXN0YWNrW2ldID09PSBuZWVkbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9LFxuICAgICAgICBlYWNoOiAkLmVhY2gsXG4gICAgICAgIG1hcDogJC5tYXAsXG4gICAgICAgIGZpbHRlcjogJC5ncmVwLFxuICAgICAgICBldmVyeTogZnVuY3Rpb24ob2JqLCB0ZXN0KSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghb2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQuZWFjaChvYmosIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEocmVzdWx0ID0gdGVzdC5jYWxsKG51bGwsIHZhbCwga2V5LCBvYmopKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gISFyZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNvbWU6IGZ1bmN0aW9uKG9iaiwgdGVzdCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJC5lYWNoKG9iaiwgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID0gdGVzdC5jYWxsKG51bGwsIHZhbCwga2V5LCBvYmopKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAhIXJlc3VsdDtcbiAgICAgICAgfSxcbiAgICAgICAgbWl4aW46ICQuZXh0ZW5kLFxuICAgICAgICBnZXRVbmlxdWVJZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50ZXIrKztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oKSxcbiAgICAgICAgZGVmZXI6IGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVib3VuY2U6IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQsIHJlc3VsdDtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHMsIGxhdGVyLCBjYWxsTm93O1xuICAgICAgICAgICAgICAgIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgICAgICAgICAgIGlmIChjYWxsTm93KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICB0aHJvdHRsZTogZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQsIGFyZ3MsIHRpbWVvdXQsIHJlc3VsdCwgcHJldmlvdXMsIGxhdGVyO1xuICAgICAgICAgICAgcHJldmlvdXMgPSAwO1xuICAgICAgICAgICAgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCksIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICB0b2tlbml6ZVF1ZXJ5OiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiAkLnRyaW0oc3RyKS50b0xvd2VyQ2FzZSgpLnNwbGl0KC9bXFxzXSsvKTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9rZW5pemVUZXh0OiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICAgIHJldHVybiAkLnRyaW0oc3RyKS50b0xvd2VyQ2FzZSgpLnNwbGl0KC9bXFxzXFwtX10rLyk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFByb3RvY29sOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgfSxcbiAgICAgICAgbm9vcDogZnVuY3Rpb24oKSB7fVxuICAgIH07XG4gICAgdmFyIEV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBldmVudFNwbGl0dGVyID0gL1xccysvO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb246IGZ1bmN0aW9uKGV2ZW50cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICAgICAgICAgICAgICAgIGV2ZW50cyA9IGV2ZW50cy5zcGxpdChldmVudFNwbGl0dGVyKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZXZlbnQgPSBldmVudHMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWxsYmFja3NbZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzW2V2ZW50XSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2tzW2V2ZW50XS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24oZXZlbnRzLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50LCBjYWxsYmFja3M7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWxsYmFja3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV2ZW50cyA9IGV2ZW50cy5zcGxpdChldmVudFNwbGl0dGVyKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZXZlbnQgPSBldmVudHMuc2hpZnQoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzW2V2ZW50XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3NbaV0uY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSgpO1xuICAgIHZhciBFdmVudEJ1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbmFtZXNwYWNlID0gXCJ0eXBlYWhlYWQ6XCI7XG4gICAgICAgIGZ1bmN0aW9uIEV2ZW50QnVzKG8pIHtcbiAgICAgICAgICAgIGlmICghbyB8fCAhby5lbCkge1xuICAgICAgICAgICAgICAgICQuZXJyb3IoXCJFdmVudEJ1cyBpbml0aWFsaXplZCB3aXRob3V0IGVsXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy4kZWwgPSAkKG8uZWwpO1xuICAgICAgICB9XG4gICAgICAgIHV0aWxzLm1peGluKEV2ZW50QnVzLnByb3RvdHlwZSwge1xuICAgICAgICAgICAgdHJpZ2dlcjogZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLnRyaWdnZXIobmFtZXNwYWNlICsgdHlwZSwgYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gRXZlbnRCdXM7XG4gICAgfSgpO1xuICAgIHZhciBQZXJzaXN0ZW50U3RvcmFnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbHMsIG1ldGhvZHM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBscyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2U7XG4gICAgICAgICAgICBscy5zZXRJdGVtKFwifn5+XCIsIFwiIVwiKTtcbiAgICAgICAgICAgIGxzLnJlbW92ZUl0ZW0oXCJ+fn5cIik7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgbHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIFBlcnNpc3RlbnRTdG9yYWdlKG5hbWVzcGFjZSkge1xuICAgICAgICAgICAgdGhpcy5wcmVmaXggPSBbIFwiX19cIiwgbmFtZXNwYWNlLCBcIl9fXCIgXS5qb2luKFwiXCIpO1xuICAgICAgICAgICAgdGhpcy50dGxLZXkgPSBcIl9fdHRsX19cIjtcbiAgICAgICAgICAgIHRoaXMua2V5TWF0Y2hlciA9IG5ldyBSZWdFeHAoXCJeXCIgKyB0aGlzLnByZWZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxzICYmIHdpbmRvdy5KU09OKSB7XG4gICAgICAgICAgICBtZXRob2RzID0ge1xuICAgICAgICAgICAgICAgIF9wcmVmaXg6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcmVmaXggKyBrZXk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBfdHRsS2V5OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWZpeChrZXkpICsgdGhpcy50dGxLZXk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0V4cGlyZWQoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVjb2RlKGxzLmdldEl0ZW0odGhpcy5fcHJlZml4KGtleSkpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oa2V5LCB2YWwsIHR0bCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIodHRsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbHMuc2V0SXRlbSh0aGlzLl90dGxLZXkoa2V5KSwgZW5jb2RlKG5vdygpICsgdHRsKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBscy5yZW1vdmVJdGVtKHRoaXMuX3R0bEtleShrZXkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbHMuc2V0SXRlbSh0aGlzLl9wcmVmaXgoa2V5KSwgZW5jb2RlKHZhbCkpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgbHMucmVtb3ZlSXRlbSh0aGlzLl90dGxLZXkoa2V5KSk7XG4gICAgICAgICAgICAgICAgICAgIGxzLnJlbW92ZUl0ZW0odGhpcy5fcHJlZml4KGtleSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGksIGtleSwga2V5cyA9IFtdLCBsZW4gPSBscy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChrZXkgPSBscy5rZXkoaSkpLm1hdGNoKHRoaXMua2V5TWF0Y2hlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5LnJlcGxhY2UodGhpcy5rZXlNYXRjaGVyLCBcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0ga2V5cy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZShrZXlzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlzRXhwaXJlZDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0dGwgPSBkZWNvZGUobHMuZ2V0SXRlbSh0aGlzLl90dGxLZXkoa2V5KSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuaXNOdW1iZXIodHRsKSAmJiBub3coKSA+IHR0bCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbWV0aG9kcyA9IHtcbiAgICAgICAgICAgICAgICBnZXQ6IHV0aWxzLm5vb3AsXG4gICAgICAgICAgICAgICAgc2V0OiB1dGlscy5ub29wLFxuICAgICAgICAgICAgICAgIHJlbW92ZTogdXRpbHMubm9vcCxcbiAgICAgICAgICAgICAgICBjbGVhcjogdXRpbHMubm9vcCxcbiAgICAgICAgICAgICAgICBpc0V4cGlyZWQ6IHV0aWxzLm5vb3BcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdXRpbHMubWl4aW4oUGVyc2lzdGVudFN0b3JhZ2UucHJvdG90eXBlLCBtZXRob2RzKTtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbnRTdG9yYWdlO1xuICAgICAgICBmdW5jdGlvbiBub3coKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHV0aWxzLmlzVW5kZWZpbmVkKHZhbCkgPyBudWxsIDogdmFsKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkZWNvZGUodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWwpO1xuICAgICAgICB9XG4gICAgfSgpO1xuICAgIHZhciBSZXF1ZXN0Q2FjaGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gUmVxdWVzdENhY2hlKG8pIHtcbiAgICAgICAgICAgIHV0aWxzLmJpbmRBbGwodGhpcyk7XG4gICAgICAgICAgICBvID0gbyB8fCB7fTtcbiAgICAgICAgICAgIHRoaXMuc2l6ZUxpbWl0ID0gby5zaXplTGltaXQgfHwgMTA7XG4gICAgICAgICAgICB0aGlzLmNhY2hlID0ge307XG4gICAgICAgICAgICB0aGlzLmNhY2hlZEtleXNCeUFnZSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHV0aWxzLm1peGluKFJlcXVlc3RDYWNoZS5wcm90b3R5cGUsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGVbdXJsXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uKHVybCwgcmVzcCkge1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0VG9FdmljdDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZWRLZXlzQnlBZ2UubGVuZ3RoID09PSB0aGlzLnNpemVMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0VG9FdmljdCA9IHRoaXMuY2FjaGVkS2V5c0J5QWdlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlW3JlcXVlc3RUb0V2aWN0XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZVt1cmxdID0gcmVzcDtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZEtleXNCeUFnZS5wdXNoKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUmVxdWVzdENhY2hlO1xuICAgIH0oKTtcbiAgICB2YXIgVHJhbnNwb3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwZW5kaW5nUmVxdWVzdHNDb3VudCA9IDAsIHBlbmRpbmdSZXF1ZXN0cyA9IHt9LCBtYXhQZW5kaW5nUmVxdWVzdHMsIHJlcXVlc3RDYWNoZTtcbiAgICAgICAgZnVuY3Rpb24gVHJhbnNwb3J0KG8pIHtcbiAgICAgICAgICAgIHV0aWxzLmJpbmRBbGwodGhpcyk7XG4gICAgICAgICAgICBvID0gdXRpbHMuaXNTdHJpbmcobykgPyB7XG4gICAgICAgICAgICAgICAgdXJsOiBvXG4gICAgICAgICAgICB9IDogbztcbiAgICAgICAgICAgIHJlcXVlc3RDYWNoZSA9IHJlcXVlc3RDYWNoZSB8fCBuZXcgUmVxdWVzdENhY2hlKCk7XG4gICAgICAgICAgICBtYXhQZW5kaW5nUmVxdWVzdHMgPSB1dGlscy5pc051bWJlcihvLm1heFBhcmFsbGVsUmVxdWVzdHMpID8gby5tYXhQYXJhbGxlbFJlcXVlc3RzIDogbWF4UGVuZGluZ1JlcXVlc3RzIHx8IDY7XG4gICAgICAgICAgICB0aGlzLnVybCA9IG8udXJsO1xuICAgICAgICAgICAgdGhpcy53aWxkY2FyZCA9IG8ud2lsZGNhcmQgfHwgXCIlUVVFUllcIjtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyID0gby5maWx0ZXI7XG4gICAgICAgICAgICB0aGlzLnJlcGxhY2UgPSBvLnJlcGxhY2U7XG4gICAgICAgICAgICB0aGlzLmFqYXhTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgIGNhY2hlOiBvLmNhY2hlLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IG8udGltZW91dCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogby5kYXRhVHlwZSB8fCBcImpzb25cIixcbiAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBvLmJlZm9yZVNlbmRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9nZXQgPSAoL150aHJvdHRsZSQvaS50ZXN0KG8ucmF0ZUxpbWl0Rm4pID8gdXRpbHMudGhyb3R0bGUgOiB1dGlscy5kZWJvdW5jZSkodGhpcy5fZ2V0LCBvLnJhdGVMaW1pdFdhaXQgfHwgMzAwKTtcbiAgICAgICAgfVxuICAgICAgICB1dGlscy5taXhpbihUcmFuc3BvcnQucHJvdG90eXBlLCB7XG4gICAgICAgICAgICBfZ2V0OiBmdW5jdGlvbih1cmwsIGNiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGlmIChiZWxvd1BlbmRpbmdSZXF1ZXN0c1RocmVzaG9sZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbmRSZXF1ZXN0KHVybCkuZG9uZShkb25lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRGVja1JlcXVlc3RBcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkb25lKHJlc3ApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGF0LmZpbHRlciA/IHRoYXQuZmlsdGVyKHJlc3ApIDogcmVzcDtcbiAgICAgICAgICAgICAgICAgICAgY2IgJiYgY2IoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RDYWNoZS5zZXQodXJsLCByZXNwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NlbmRSZXF1ZXN0OiBmdW5jdGlvbih1cmwpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsIGpxWGhyID0gcGVuZGluZ1JlcXVlc3RzW3VybF07XG4gICAgICAgICAgICAgICAgaWYgKCFqcVhocikge1xuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnRQZW5kaW5nUmVxdWVzdHMoKTtcbiAgICAgICAgICAgICAgICAgICAganFYaHIgPSBwZW5kaW5nUmVxdWVzdHNbdXJsXSA9ICQuYWpheCh1cmwsIHRoaXMuYWpheFNldHRpbmdzKS5hbHdheXMoYWx3YXlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpxWGhyO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFsd2F5cygpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVjcmVtZW50UGVuZGluZ1JlcXVlc3RzKCk7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdSZXF1ZXN0c1t1cmxdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQub25EZWNrUmVxdWVzdEFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX2dldC5hcHBseSh0aGF0LCB0aGF0Lm9uRGVja1JlcXVlc3RBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQub25EZWNrUmVxdWVzdEFyZ3MgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24ocXVlcnksIGNiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCBlbmNvZGVkUXVlcnkgPSBlbmNvZGVVUklDb21wb25lbnQocXVlcnkgfHwgXCJcIiksIHVybCwgcmVzcDtcbiAgICAgICAgICAgICAgICBjYiA9IGNiIHx8IHV0aWxzLm5vb3A7XG4gICAgICAgICAgICAgICAgdXJsID0gdGhpcy5yZXBsYWNlID8gdGhpcy5yZXBsYWNlKHRoaXMudXJsLCBlbmNvZGVkUXVlcnkpIDogdGhpcy51cmwucmVwbGFjZSh0aGlzLndpbGRjYXJkLCBlbmNvZGVkUXVlcnkpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwID0gcmVxdWVzdENhY2hlLmdldCh1cmwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmRlZmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2IodGhhdC5maWx0ZXIgPyB0aGF0LmZpbHRlcihyZXNwKSA6IHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXQodXJsLCBjYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhIXJlc3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gVHJhbnNwb3J0O1xuICAgICAgICBmdW5jdGlvbiBpbmNyZW1lbnRQZW5kaW5nUmVxdWVzdHMoKSB7XG4gICAgICAgICAgICBwZW5kaW5nUmVxdWVzdHNDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGRlY3JlbWVudFBlbmRpbmdSZXF1ZXN0cygpIHtcbiAgICAgICAgICAgIHBlbmRpbmdSZXF1ZXN0c0NvdW50LS07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYmVsb3dQZW5kaW5nUmVxdWVzdHNUaHJlc2hvbGQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGVuZGluZ1JlcXVlc3RzQ291bnQgPCBtYXhQZW5kaW5nUmVxdWVzdHM7XG4gICAgICAgIH1cbiAgICB9KCk7XG4gICAgdmFyIERhdGFzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGtleXMgPSB7XG4gICAgICAgICAgICB0aHVtYnByaW50OiBcInRodW1icHJpbnRcIixcbiAgICAgICAgICAgIHByb3RvY29sOiBcInByb3RvY29sXCIsXG4gICAgICAgICAgICBpdGVtSGFzaDogXCJpdGVtSGFzaFwiLFxuICAgICAgICAgICAgYWRqYWNlbmN5TGlzdDogXCJhZGphY2VuY3lMaXN0XCJcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gRGF0YXNldChvKSB7XG4gICAgICAgICAgICB1dGlscy5iaW5kQWxsKHRoaXMpO1xuICAgICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKG8udGVtcGxhdGUpICYmICFvLmVuZ2luZSkge1xuICAgICAgICAgICAgICAgICQuZXJyb3IoXCJubyB0ZW1wbGF0ZSBlbmdpbmUgc3BlY2lmaWVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFvLmxvY2FsICYmICFvLnByZWZldGNoICYmICFvLnJlbW90ZSkge1xuICAgICAgICAgICAgICAgICQuZXJyb3IoXCJvbmUgb2YgbG9jYWwsIHByZWZldGNoLCBvciByZW1vdGUgaXMgcmVxdWlyZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBvLm5hbWUgfHwgdXRpbHMuZ2V0VW5pcXVlSWQoKTtcbiAgICAgICAgICAgIHRoaXMubGltaXQgPSBvLmxpbWl0IHx8IDU7XG4gICAgICAgICAgICB0aGlzLm1pbkxlbmd0aCA9IG8ubWluTGVuZ3RoIHx8IDE7XG4gICAgICAgICAgICB0aGlzLmhlYWRlciA9IG8uaGVhZGVyO1xuICAgICAgICAgICAgdGhpcy5mb290ZXIgPSBvLmZvb3RlcjtcbiAgICAgICAgICAgIHRoaXMudmFsdWVLZXkgPSBvLnZhbHVlS2V5IHx8IFwidmFsdWVcIjtcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUgPSBjb21waWxlVGVtcGxhdGUoby50ZW1wbGF0ZSwgby5lbmdpbmUsIHRoaXMudmFsdWVLZXkpO1xuICAgICAgICAgICAgdGhpcy5sb2NhbCA9IG8ubG9jYWw7XG4gICAgICAgICAgICB0aGlzLnByZWZldGNoID0gby5wcmVmZXRjaDtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlID0gby5yZW1vdGU7XG4gICAgICAgICAgICB0aGlzLml0ZW1IYXNoID0ge307XG4gICAgICAgICAgICB0aGlzLmFkamFjZW5jeUxpc3QgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZSA9IG8ubmFtZSA/IG5ldyBQZXJzaXN0ZW50U3RvcmFnZShvLm5hbWUpIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB1dGlscy5taXhpbihEYXRhc2V0LnByb3RvdHlwZSwge1xuICAgICAgICAgICAgX3Byb2Nlc3NMb2NhbERhdGE6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXJnZVByb2Nlc3NlZERhdGEodGhpcy5fcHJvY2Vzc0RhdGEoZGF0YSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9sb2FkUHJlZmV0Y2hEYXRhOiBmdW5jdGlvbihvKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCB0aHVtYnByaW50ID0gVkVSU0lPTiArIChvLnRodW1icHJpbnQgfHwgXCJcIiksIHN0b3JlZFRodW1icHJpbnQsIHN0b3JlZFByb3RvY29sLCBzdG9yZWRJdGVtSGFzaCwgc3RvcmVkQWRqYWNlbmN5TGlzdCwgaXNFeHBpcmVkLCBkZWZlcnJlZDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlZFRodW1icHJpbnQgPSB0aGlzLnN0b3JhZ2UuZ2V0KGtleXMudGh1bWJwcmludCk7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JlZFByb3RvY29sID0gdGhpcy5zdG9yYWdlLmdldChrZXlzLnByb3RvY29sKTtcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVkSXRlbUhhc2ggPSB0aGlzLnN0b3JhZ2UuZ2V0KGtleXMuaXRlbUhhc2gpO1xuICAgICAgICAgICAgICAgICAgICBzdG9yZWRBZGphY2VuY3lMaXN0ID0gdGhpcy5zdG9yYWdlLmdldChrZXlzLmFkamFjZW5jeUxpc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpc0V4cGlyZWQgPSBzdG9yZWRUaHVtYnByaW50ICE9PSB0aHVtYnByaW50IHx8IHN0b3JlZFByb3RvY29sICE9PSB1dGlscy5nZXRQcm90b2NvbCgpO1xuICAgICAgICAgICAgICAgIG8gPSB1dGlscy5pc1N0cmluZyhvKSA/IHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBvXG4gICAgICAgICAgICAgICAgfSA6IG87XG4gICAgICAgICAgICAgICAgby50dGwgPSB1dGlscy5pc051bWJlcihvLnR0bCkgPyBvLnR0bCA6IDI0ICogNjAgKiA2MCAqIDFlMztcbiAgICAgICAgICAgICAgICBpZiAoc3RvcmVkSXRlbUhhc2ggJiYgc3RvcmVkQWRqYWNlbmN5TGlzdCAmJiAhaXNFeHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lcmdlUHJvY2Vzc2VkRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtSGFzaDogc3RvcmVkSXRlbUhhc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGphY2VuY3lMaXN0OiBzdG9yZWRBZGphY2VuY3lMaXN0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQgPSAkLmdldEpTT04oby51cmwpLmRvbmUocHJvY2Vzc1ByZWZldGNoRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBwcm9jZXNzUHJlZmV0Y2hEYXRhKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlcmVkRGF0YSA9IG8uZmlsdGVyID8gby5maWx0ZXIoZGF0YSkgOiBkYXRhLCBwcm9jZXNzZWREYXRhID0gdGhhdC5fcHJvY2Vzc0RhdGEoZmlsdGVyZWREYXRhKSwgaXRlbUhhc2ggPSBwcm9jZXNzZWREYXRhLml0ZW1IYXNoLCBhZGphY2VuY3lMaXN0ID0gcHJvY2Vzc2VkRGF0YS5hZGphY2VuY3lMaXN0O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhhdC5zdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0b3JhZ2Uuc2V0KGtleXMuaXRlbUhhc2gsIGl0ZW1IYXNoLCBvLnR0bCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnN0b3JhZ2Uuc2V0KGtleXMuYWRqYWNlbmN5TGlzdCwgYWRqYWNlbmN5TGlzdCwgby50dGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5zdG9yYWdlLnNldChrZXlzLnRodW1icHJpbnQsIHRodW1icHJpbnQsIG8udHRsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc3RvcmFnZS5zZXQoa2V5cy5wcm90b2NvbCwgdXRpbHMuZ2V0UHJvdG9jb2woKSwgby50dGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX21lcmdlUHJvY2Vzc2VkRGF0YShwcm9jZXNzZWREYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3RyYW5zZm9ybURhdHVtOiBmdW5jdGlvbihkYXR1bSkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHV0aWxzLmlzU3RyaW5nKGRhdHVtKSA/IGRhdHVtIDogZGF0dW1bdGhpcy52YWx1ZUtleV0sIHRva2VucyA9IGRhdHVtLnRva2VucyB8fCB1dGlscy50b2tlbml6ZVRleHQodmFsdWUpLCBpdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHRva2VuczogdG9rZW5zXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoZGF0dW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZGF0dW0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5kYXR1bVt0aGlzLnZhbHVlS2V5XSA9IGRhdHVtO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uZGF0dW0gPSBkYXR1bTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbS50b2tlbnMgPSB1dGlscy5maWx0ZXIoaXRlbS50b2tlbnMsIGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhdXRpbHMuaXNCbGFua1N0cmluZyh0b2tlbik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaXRlbS50b2tlbnMgPSB1dGlscy5tYXAoaXRlbS50b2tlbnMsIGZ1bmN0aW9uKHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9wcm9jZXNzRGF0YTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcywgaXRlbUhhc2ggPSB7fSwgYWRqYWNlbmN5TGlzdCA9IHt9O1xuICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goZGF0YSwgZnVuY3Rpb24oaSwgZGF0dW0pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGF0Ll90cmFuc2Zvcm1EYXR1bShkYXR1bSksIGlkID0gdXRpbHMuZ2V0VW5pcXVlSWQoaXRlbS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1IYXNoW2lkXSA9IGl0ZW07XG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goaXRlbS50b2tlbnMsIGZ1bmN0aW9uKGksIHRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hhcmFjdGVyID0gdG9rZW4uY2hhckF0KDApLCBhZGphY2VuY3kgPSBhZGphY2VuY3lMaXN0W2NoYXJhY3Rlcl0gfHwgKGFkamFjZW5jeUxpc3RbY2hhcmFjdGVyXSA9IFsgaWQgXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAhfnV0aWxzLmluZGV4T2YoYWRqYWNlbmN5LCBpZCkgJiYgYWRqYWNlbmN5LnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpdGVtSGFzaDogaXRlbUhhc2gsXG4gICAgICAgICAgICAgICAgICAgIGFkamFjZW5jeUxpc3Q6IGFkamFjZW5jeUxpc3RcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tZXJnZVByb2Nlc3NlZERhdGE6IGZ1bmN0aW9uKHByb2Nlc3NlZERhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdXRpbHMubWl4aW4odGhpcy5pdGVtSGFzaCwgcHJvY2Vzc2VkRGF0YS5pdGVtSGFzaCk7XG4gICAgICAgICAgICAgICAgdXRpbHMuZWFjaChwcm9jZXNzZWREYXRhLmFkamFjZW5jeUxpc3QsIGZ1bmN0aW9uKGNoYXJhY3RlciwgYWRqYWNlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXN0ZXJBZGphY2VuY3kgPSB0aGF0LmFkamFjZW5jeUxpc3RbY2hhcmFjdGVyXTtcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hZGphY2VuY3lMaXN0W2NoYXJhY3Rlcl0gPSBtYXN0ZXJBZGphY2VuY3kgPyBtYXN0ZXJBZGphY2VuY3kuY29uY2F0KGFkamFjZW5jeSkgOiBhZGphY2VuY3k7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldExvY2FsU3VnZ2VzdGlvbnM6IGZ1bmN0aW9uKHRlcm1zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCBmaXJzdENoYXJzID0gW10sIGxpc3RzID0gW10sIHNob3J0ZXN0TGlzdCwgc3VnZ2VzdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICB1dGlscy5lYWNoKHRlcm1zLCBmdW5jdGlvbihpLCB0ZXJtKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdENoYXIgPSB0ZXJtLmNoYXJBdCgwKTtcbiAgICAgICAgICAgICAgICAgICAgIX51dGlscy5pbmRleE9mKGZpcnN0Q2hhcnMsIGZpcnN0Q2hhcikgJiYgZmlyc3RDaGFycy5wdXNoKGZpcnN0Q2hhcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdXRpbHMuZWFjaChmaXJzdENoYXJzLCBmdW5jdGlvbihpLCBmaXJzdENoYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB0aGF0LmFkamFjZW5jeUxpc3RbZmlyc3RDaGFyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGlzdHMucHVzaChsaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG9ydGVzdExpc3QgfHwgbGlzdC5sZW5ndGggPCBzaG9ydGVzdExpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG9ydGVzdExpc3QgPSBsaXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RzLmxlbmd0aCA8IGZpcnN0Q2hhcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXRpbHMuZWFjaChzaG9ydGVzdExpc3QsIGZ1bmN0aW9uKGksIGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhhdC5pdGVtSGFzaFtpZF0sIGlzQ2FuZGlkYXRlLCBpc01hdGNoO1xuICAgICAgICAgICAgICAgICAgICBpc0NhbmRpZGF0ZSA9IHV0aWxzLmV2ZXJ5KGxpc3RzLCBmdW5jdGlvbihsaXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gfnV0aWxzLmluZGV4T2YobGlzdCwgaWQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaXNNYXRjaCA9IGlzQ2FuZGlkYXRlICYmIHV0aWxzLmV2ZXJ5KHRlcm1zLCBmdW5jdGlvbih0ZXJtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuc29tZShpdGVtLnRva2VucywgZnVuY3Rpb24odG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW4uaW5kZXhPZih0ZXJtKSA9PT0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaXNNYXRjaCAmJiBzdWdnZXN0aW9ucy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWdnZXN0aW9ucztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbml0aWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbCAmJiB0aGlzLl9wcm9jZXNzTG9jYWxEYXRhKHRoaXMubG9jYWwpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdGhpcy5yZW1vdGUgPyBuZXcgVHJhbnNwb3J0KHRoaXMucmVtb3RlKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQgPSB0aGlzLnByZWZldGNoID8gdGhpcy5fbG9hZFByZWZldGNoRGF0YSh0aGlzLnByZWZldGNoKSA6ICQuRGVmZXJyZWQoKS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NhbCA9IHRoaXMucHJlZmV0Y2ggPSB0aGlzLnJlbW90ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTdWdnZXN0aW9uczogZnVuY3Rpb24ocXVlcnksIGNiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLCB0ZXJtcywgc3VnZ2VzdGlvbnMsIGNhY2hlSGl0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCA8IHRoaXMubWluTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGVybXMgPSB1dGlscy50b2tlbml6ZVF1ZXJ5KHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBzdWdnZXN0aW9ucyA9IHRoaXMuX2dldExvY2FsU3VnZ2VzdGlvbnModGVybXMpLnNsaWNlKDAsIHRoaXMubGltaXQpO1xuICAgICAgICAgICAgICAgIGlmIChzdWdnZXN0aW9ucy5sZW5ndGggPCB0aGlzLmxpbWl0ICYmIHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhY2hlSGl0ID0gdGhpcy50cmFuc3BvcnQuZ2V0KHF1ZXJ5LCBwcm9jZXNzUmVtb3RlRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICFjYWNoZUhpdCAmJiBjYiAmJiBjYihzdWdnZXN0aW9ucyk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc1JlbW90ZURhdGEoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBzdWdnZXN0aW9ucyA9IHN1Z2dlc3Rpb25zLnNsaWNlKDApO1xuICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKGRhdGEsIGZ1bmN0aW9uKGksIGRhdHVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHRoYXQuX3RyYW5zZm9ybURhdHVtKGRhdHVtKSwgaXNEdXBsaWNhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0R1cGxpY2F0ZSA9IHV0aWxzLnNvbWUoc3VnZ2VzdGlvbnMsIGZ1bmN0aW9uKHN1Z2dlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSA9PT0gc3VnZ2VzdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgIWlzRHVwbGljYXRlICYmIHN1Z2dlc3Rpb25zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VnZ2VzdGlvbnMubGVuZ3RoIDwgdGhhdC5saW1pdDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNiICYmIGNiKHN1Z2dlc3Rpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gRGF0YXNldDtcbiAgICAgICAgZnVuY3Rpb24gY29tcGlsZVRlbXBsYXRlKHRlbXBsYXRlLCBlbmdpbmUsIHZhbHVlS2V5KSB7XG4gICAgICAgICAgICB2YXIgcmVuZGVyRm4sIGNvbXBpbGVkVGVtcGxhdGU7XG4gICAgICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbih0ZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJGbiA9IHRlbXBsYXRlO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc1N0cmluZyh0ZW1wbGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBjb21waWxlZFRlbXBsYXRlID0gZW5naW5lLmNvbXBpbGUodGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIHJlbmRlckZuID0gdXRpbHMuYmluZChjb21waWxlZFRlbXBsYXRlLnJlbmRlciwgY29tcGlsZWRUZW1wbGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbmRlckZuID0gZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCI8cD5cIiArIGNvbnRleHRbdmFsdWVLZXldICsgXCI8L3A+XCI7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW5kZXJGbjtcbiAgICAgICAgfVxuICAgIH0oKTtcbiAgICB2YXIgSW5wdXRWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIElucHV0VmlldyhvKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICB1dGlscy5iaW5kQWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zcGVjaWFsS2V5Q29kZU1hcCA9IHtcbiAgICAgICAgICAgICAgICA5OiBcInRhYlwiLFxuICAgICAgICAgICAgICAgIDI3OiBcImVzY1wiLFxuICAgICAgICAgICAgICAgIDM3OiBcImxlZnRcIixcbiAgICAgICAgICAgICAgICAzOTogXCJyaWdodFwiLFxuICAgICAgICAgICAgICAgIDEzOiBcImVudGVyXCIsXG4gICAgICAgICAgICAgICAgMzg6IFwidXBcIixcbiAgICAgICAgICAgICAgICA0MDogXCJkb3duXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLiRoaW50ID0gJChvLmhpbnQpO1xuICAgICAgICAgICAgdGhpcy4kaW5wdXQgPSAkKG8uaW5wdXQpLm9uKFwiYmx1ci50dFwiLCB0aGlzLl9oYW5kbGVCbHVyKS5vbihcImZvY3VzLnR0XCIsIHRoaXMuX2hhbmRsZUZvY3VzKS5vbihcImtleWRvd24udHRcIiwgdGhpcy5faGFuZGxlU3BlY2lhbEtleUV2ZW50KTtcbiAgICAgICAgICAgIGlmICghdXRpbHMuaXNNc2llKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC5vbihcImlucHV0LnR0XCIsIHRoaXMuX2NvbXBhcmVRdWVyeVRvSW5wdXRWYWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0Lm9uKFwia2V5ZG93bi50dCBrZXlwcmVzcy50dCBjdXQudHQgcGFzdGUudHRcIiwgZnVuY3Rpb24oJGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQuc3BlY2lhbEtleUNvZGVNYXBbJGUud2hpY2ggfHwgJGUua2V5Q29kZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1dGlscy5kZWZlcih0aGF0Ll9jb21wYXJlUXVlcnlUb0lucHV0VmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IHRoaXMuJGlucHV0LnZhbCgpO1xuICAgICAgICAgICAgdGhpcy4kb3ZlcmZsb3dIZWxwZXIgPSBidWlsZE92ZXJmbG93SGVscGVyKHRoaXMuJGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICB1dGlscy5taXhpbihJbnB1dFZpZXcucHJvdG90eXBlLCBFdmVudFRhcmdldCwge1xuICAgICAgICAgICAgX2hhbmRsZUZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJmb2N1c2VkXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9oYW5kbGVCbHVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJibHVyZWRcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hhbmRsZVNwZWNpYWxLZXlFdmVudDogZnVuY3Rpb24oJGUpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5TmFtZSA9IHRoaXMuc3BlY2lhbEtleUNvZGVNYXBbJGUud2hpY2ggfHwgJGUua2V5Q29kZV07XG4gICAgICAgICAgICAgICAga2V5TmFtZSAmJiB0aGlzLnRyaWdnZXIoa2V5TmFtZSArIFwiS2V5ZWRcIiwgJGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jb21wYXJlUXVlcnlUb0lucHV0VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gdGhpcy5nZXRJbnB1dFZhbHVlKCksIGlzU2FtZVF1ZXJ5ID0gY29tcGFyZVF1ZXJpZXModGhpcy5xdWVyeSwgaW5wdXRWYWx1ZSksIGlzU2FtZVF1ZXJ5RXhjZXB0V2hpdGVzcGFjZSA9IGlzU2FtZVF1ZXJ5ID8gdGhpcy5xdWVyeS5sZW5ndGggIT09IGlucHV0VmFsdWUubGVuZ3RoIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2FtZVF1ZXJ5RXhjZXB0V2hpdGVzcGFjZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJ3aGl0ZXNwYWNlQ2hhbmdlZFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5xdWVyeVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFpc1NhbWVRdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoXCJxdWVyeUNoYW5nZWRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMucXVlcnkgPSBpbnB1dFZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRoaW50Lm9mZihcIi50dFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC5vZmYoXCIudHRcIik7XG4gICAgICAgICAgICAgICAgdGhpcy4kaGludCA9IHRoaXMuJGlucHV0ID0gdGhpcy4kb3ZlcmZsb3dIZWxwZXIgPSBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJsdXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGlucHV0LmJsdXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRRdWVyeTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucXVlcnk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UXVlcnk6IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldElucHV0VmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRpbnB1dC52YWwoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRJbnB1dFZhbHVlOiBmdW5jdGlvbih2YWx1ZSwgc2lsZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kaW5wdXQudmFsKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAhc2lsZW50ICYmIHRoaXMuX2NvbXBhcmVRdWVyeVRvSW5wdXRWYWx1ZSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldEhpbnRWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGhpbnQudmFsKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0SGludFZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGhpbnQudmFsKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRMYW5ndWFnZURpcmVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLiRpbnB1dC5jc3MoXCJkaXJlY3Rpb25cIikgfHwgXCJsdHJcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc092ZXJmbG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRvdmVyZmxvd0hlbHBlci50ZXh0KHRoaXMuZ2V0SW5wdXRWYWx1ZSgpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kb3ZlcmZsb3dIZWxwZXIud2lkdGgoKSA+IHRoaXMuJGlucHV0LndpZHRoKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNDdXJzb3JBdEVuZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlTGVuZ3RoID0gdGhpcy4kaW5wdXQudmFsKCkubGVuZ3RoLCBzZWxlY3Rpb25TdGFydCA9IHRoaXMuJGlucHV0WzBdLnNlbGVjdGlvblN0YXJ0LCByYW5nZTtcbiAgICAgICAgICAgICAgICBpZiAodXRpbHMuaXNOdW1iZXIoc2VsZWN0aW9uU3RhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25TdGFydCA9PT0gdmFsdWVMZW5ndGg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIC12YWx1ZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZUxlbmd0aCA9PT0gcmFuZ2UudGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIElucHV0VmlldztcbiAgICAgICAgZnVuY3Rpb24gYnVpbGRPdmVyZmxvd0hlbHBlcigkaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiAkKFwiPHNwYW4+PC9zcGFuPlwiKS5jc3Moe1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgbGVmdDogXCItOTk5OXB4XCIsXG4gICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICRpbnB1dC5jc3MoXCJmb250LWZhbWlseVwiKSxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJGlucHV0LmNzcyhcImZvbnQtc2l6ZVwiKSxcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6ICRpbnB1dC5jc3MoXCJmb250LXN0eWxlXCIpLFxuICAgICAgICAgICAgICAgIGZvbnRWYXJpYW50OiAkaW5wdXQuY3NzKFwiZm9udC12YXJpYW50XCIpLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICRpbnB1dC5jc3MoXCJmb250LXdlaWdodFwiKSxcbiAgICAgICAgICAgICAgICB3b3JkU3BhY2luZzogJGlucHV0LmNzcyhcIndvcmQtc3BhY2luZ1wiKSxcbiAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nOiAkaW5wdXQuY3NzKFwibGV0dGVyLXNwYWNpbmdcIiksXG4gICAgICAgICAgICAgICAgdGV4dEluZGVudDogJGlucHV0LmNzcyhcInRleHQtaW5kZW50XCIpLFxuICAgICAgICAgICAgICAgIHRleHRSZW5kZXJpbmc6ICRpbnB1dC5jc3MoXCJ0ZXh0LXJlbmRlcmluZ1wiKSxcbiAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiAkaW5wdXQuY3NzKFwidGV4dC10cmFuc2Zvcm1cIilcbiAgICAgICAgICAgIH0pLmluc2VydEFmdGVyKCRpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY29tcGFyZVF1ZXJpZXMoYSwgYikge1xuICAgICAgICAgICAgYSA9IChhIHx8IFwiXCIpLnJlcGxhY2UoL15cXHMqL2csIFwiXCIpLnJlcGxhY2UoL1xcc3syLH0vZywgXCIgXCIpO1xuICAgICAgICAgICAgYiA9IChiIHx8IFwiXCIpLnJlcGxhY2UoL15cXHMqL2csIFwiXCIpLnJlcGxhY2UoL1xcc3syLH0vZywgXCIgXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgICAgIH1cbiAgICB9KCk7XG4gICAgdmFyIERyb3Bkb3duVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IHtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb25zTGlzdDogJzxzcGFuIGNsYXNzPVwidHQtc3VnZ2VzdGlvbnNcIj48L3NwYW4+J1xuICAgICAgICB9LCBjc3MgPSB7XG4gICAgICAgICAgICBzdWdnZXN0aW9uc0xpc3Q6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWdnZXN0aW9uOiB7XG4gICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VnZ2VzdGlvbkNoaWxkOiB7XG4gICAgICAgICAgICAgICAgd2hpdGVTcGFjZTogXCJub3JtYWxcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBEcm9wZG93blZpZXcobykge1xuICAgICAgICAgICAgdXRpbHMuYmluZEFsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlckRyb3Bkb3duID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLiRtZW51ID0gJChvLm1lbnUpLm9uKFwibW91c2VlbnRlci50dFwiLCB0aGlzLl9oYW5kbGVNb3VzZWVudGVyKS5vbihcIm1vdXNlbGVhdmUudHRcIiwgdGhpcy5faGFuZGxlTW91c2VsZWF2ZSkub24oXCJjbGljay50dFwiLCBcIi50dC1zdWdnZXN0aW9uXCIsIHRoaXMuX2hhbmRsZVNlbGVjdGlvbikub24oXCJtb3VzZW92ZXIudHRcIiwgXCIudHQtc3VnZ2VzdGlvblwiLCB0aGlzLl9oYW5kbGVNb3VzZW92ZXIpO1xuICAgICAgICB9XG4gICAgICAgIHV0aWxzLm1peGluKERyb3Bkb3duVmlldy5wcm90b3R5cGUsIEV2ZW50VGFyZ2V0LCB7XG4gICAgICAgICAgICBfaGFuZGxlTW91c2VlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlckRyb3Bkb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaGFuZGxlTW91c2VsZWF2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlckRyb3Bkb3duID0gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hhbmRsZU1vdXNlb3ZlcjogZnVuY3Rpb24oJGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHN1Z2dlc3Rpb24gPSAkKCRlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dldFN1Z2dlc3Rpb25zKCkucmVtb3ZlQ2xhc3MoXCJ0dC1pcy11bmRlci1jdXJzb3JcIik7XG4gICAgICAgICAgICAgICAgJHN1Z2dlc3Rpb24uYWRkQ2xhc3MoXCJ0dC1pcy11bmRlci1jdXJzb3JcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hhbmRsZVNlbGVjdGlvbjogZnVuY3Rpb24oJGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgJHN1Z2dlc3Rpb24gPSAkKCRlLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcInN1Z2dlc3Rpb25TZWxlY3RlZFwiLCBleHRyYWN0U3VnZ2VzdGlvbigkc3VnZ2VzdGlvbikpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRtZW51LmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaGlkZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kbWVudS5oaWRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21vdmVDdXJzb3I6IGZ1bmN0aW9uKGluY3JlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciAkc3VnZ2VzdGlvbnMsICRjdXIsIG5leHRJbmRleCwgJHVuZGVyQ3Vyc29yO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICRzdWdnZXN0aW9ucyA9IHRoaXMuX2dldFN1Z2dlc3Rpb25zKCk7XG4gICAgICAgICAgICAgICAgJGN1ciA9ICRzdWdnZXN0aW9ucy5maWx0ZXIoXCIudHQtaXMtdW5kZXItY3Vyc29yXCIpO1xuICAgICAgICAgICAgICAgICRjdXIucmVtb3ZlQ2xhc3MoXCJ0dC1pcy11bmRlci1jdXJzb3JcIik7XG4gICAgICAgICAgICAgICAgbmV4dEluZGV4ID0gJHN1Z2dlc3Rpb25zLmluZGV4KCRjdXIpICsgaW5jcmVtZW50O1xuICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IChuZXh0SW5kZXggKyAxKSAlICgkc3VnZ2VzdGlvbnMubGVuZ3RoICsgMSkgLSAxO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0SW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcImN1cnNvclJlbW92ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRJbmRleCA8IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHRJbmRleCA9ICRzdWdnZXN0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkdW5kZXJDdXJzb3IgPSAkc3VnZ2VzdGlvbnMuZXEobmV4dEluZGV4KS5hZGRDbGFzcyhcInR0LWlzLXVuZGVyLWN1cnNvclwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnN1cmVWaXNpYmlsaXR5KCR1bmRlckN1cnNvcik7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwiY3Vyc29yTW92ZWRcIiwgZXh0cmFjdFN1Z2dlc3Rpb24oJHVuZGVyQ3Vyc29yKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFN1Z2dlc3Rpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVudS5maW5kKFwiLnR0LXN1Z2dlc3Rpb25zID4gLnR0LXN1Z2dlc3Rpb25cIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Vuc3VyZVZpc2liaWxpdHk6IGZ1bmN0aW9uKCRlbCkge1xuICAgICAgICAgICAgICAgIHZhciBtZW51SGVpZ2h0ID0gdGhpcy4kbWVudS5oZWlnaHQoKSArIHBhcnNlSW50KHRoaXMuJG1lbnUuY3NzKFwicGFkZGluZ1RvcFwiKSwgMTApICsgcGFyc2VJbnQodGhpcy4kbWVudS5jc3MoXCJwYWRkaW5nQm90dG9tXCIpLCAxMCksIG1lbnVTY3JvbGxUb3AgPSB0aGlzLiRtZW51LnNjcm9sbFRvcCgpLCBlbFRvcCA9ICRlbC5wb3NpdGlvbigpLnRvcCwgZWxCb3R0b20gPSBlbFRvcCArICRlbC5vdXRlckhlaWdodCh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoZWxUb3AgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lbnUuc2Nyb2xsVG9wKG1lbnVTY3JvbGxUb3AgKyBlbFRvcCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtZW51SGVpZ2h0IDwgZWxCb3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVudS5zY3JvbGxUb3AobWVudVNjcm9sbFRvcCArIChlbEJvdHRvbSAtIG1lbnVIZWlnaHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kbWVudS5vZmYoXCIudHRcIik7XG4gICAgICAgICAgICAgICAgdGhpcy4kbWVudSA9IG51bGw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNWaXNpYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pc09wZW4gJiYgIXRoaXMuaXNFbXB0eTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZVVubGVzc01vdXNlSXNPdmVyRHJvcGRvd246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc01vdXNlT3ZlckRyb3Bkb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VPdmVyRHJvcGRvd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZW51LmZpbmQoXCIudHQtc3VnZ2VzdGlvbnMgPiAudHQtc3VnZ2VzdGlvblwiKS5yZW1vdmVDbGFzcyhcInR0LWlzLXVuZGVyLWN1cnNvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyKFwiY2xvc2VkXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvcGVuOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuaXNFbXB0eSAmJiB0aGlzLl9zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcIm9wZW5lZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0TGFuZ3VhZ2VEaXJlY3Rpb246IGZ1bmN0aW9uKGRpcikge1xuICAgICAgICAgICAgICAgIHZhciBsdHJDc3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogXCJhdXRvXCJcbiAgICAgICAgICAgICAgICB9LCBydGxDc3MgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICByaWdodDogXCIgMFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkaXIgPT09IFwibHRyXCIgPyB0aGlzLiRtZW51LmNzcyhsdHJDc3MpIDogdGhpcy4kbWVudS5jc3MocnRsQ3NzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb3ZlQ3Vyc29yVXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21vdmVDdXJzb3IoLTEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vdmVDdXJzb3JEb3duOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3ZlQ3Vyc29yKCsxKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTdWdnZXN0aW9uVW5kZXJDdXJzb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkc3VnZ2VzdGlvbiA9IHRoaXMuX2dldFN1Z2dlc3Rpb25zKCkuZmlsdGVyKFwiLnR0LWlzLXVuZGVyLWN1cnNvclwiKS5maXJzdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkc3VnZ2VzdGlvbi5sZW5ndGggPiAwID8gZXh0cmFjdFN1Z2dlc3Rpb24oJHN1Z2dlc3Rpb24pIDogbnVsbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRGaXJzdFN1Z2dlc3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciAkc3VnZ2VzdGlvbiA9IHRoaXMuX2dldFN1Z2dlc3Rpb25zKCkuZmlyc3QoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJHN1Z2dlc3Rpb24ubGVuZ3RoID4gMCA/IGV4dHJhY3RTdWdnZXN0aW9uKCRzdWdnZXN0aW9uKSA6IG51bGw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVuZGVyU3VnZ2VzdGlvbnM6IGZ1bmN0aW9uKGRhdGFzZXQsIHN1Z2dlc3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFzZXRDbGFzc05hbWUgPSBcInR0LWRhdGFzZXQtXCIgKyBkYXRhc2V0Lm5hbWUsIHdyYXBwZXIgPSAnPGRpdiBjbGFzcz1cInR0LXN1Z2dlc3Rpb25cIj4lYm9keTwvZGl2PicsIGNvbXBpbGVkSHRtbCwgJHN1Z2dlc3Rpb25zTGlzdCwgJGRhdGFzZXQgPSB0aGlzLiRtZW51LmZpbmQoXCIuXCIgKyBkYXRhc2V0Q2xhc3NOYW1lKSwgZWxCdWlsZGVyLCBmcmFnbWVudCwgJGVsO1xuICAgICAgICAgICAgICAgIGlmICgkZGF0YXNldC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJHN1Z2dlc3Rpb25zTGlzdCA9ICQoaHRtbC5zdWdnZXN0aW9uc0xpc3QpLmNzcyhjc3Muc3VnZ2VzdGlvbnNMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgJGRhdGFzZXQgPSAkKFwiPGRpdj48L2Rpdj5cIikuYWRkQ2xhc3MoZGF0YXNldENsYXNzTmFtZSkuYXBwZW5kKGRhdGFzZXQuaGVhZGVyKS5hcHBlbmQoJHN1Z2dlc3Rpb25zTGlzdCkuYXBwZW5kKGRhdGFzZXQuZm9vdGVyKS5hcHBlbmRUbyh0aGlzLiRtZW51KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0VtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNPcGVuICYmIHRoaXMuX3Nob3coKTtcbiAgICAgICAgICAgICAgICAgICAgZWxCdWlsZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goc3VnZ2VzdGlvbnMsIGZ1bmN0aW9uKGksIHN1Z2dlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb24uZGF0YXNldCA9IGRhdGFzZXQubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBpbGVkSHRtbCA9IGRhdGFzZXQudGVtcGxhdGUoc3VnZ2VzdGlvbi5kYXR1bSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbEJ1aWxkZXIuaW5uZXJIVE1MID0gd3JhcHBlci5yZXBsYWNlKFwiJWJvZHlcIiwgY29tcGlsZWRIdG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbCA9ICQoZWxCdWlsZGVyLmZpcnN0Q2hpbGQpLmNzcyhjc3Muc3VnZ2VzdGlvbikuZGF0YShcInN1Z2dlc3Rpb25cIiwgc3VnZ2VzdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAkZWwuY2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY3NzKGNzcy5zdWdnZXN0aW9uQ2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZCgkZWxbMF0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgJGRhdGFzZXQuc2hvdygpLmZpbmQoXCIudHQtc3VnZ2VzdGlvbnNcIikuaHRtbChmcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclN1Z2dlc3Rpb25zKGRhdGFzZXQubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlcihcInN1Z2dlc3Rpb25zUmVuZGVyZWRcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xlYXJTdWdnZXN0aW9uczogZnVuY3Rpb24oZGF0YXNldE5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgJGRhdGFzZXRzID0gZGF0YXNldE5hbWUgPyB0aGlzLiRtZW51LmZpbmQoXCIudHQtZGF0YXNldC1cIiArIGRhdGFzZXROYW1lKSA6IHRoaXMuJG1lbnUuZmluZCgnW2NsYXNzXj1cInR0LWRhdGFzZXQtXCJdJyksICRzdWdnZXN0aW9ucyA9ICRkYXRhc2V0cy5maW5kKFwiLnR0LXN1Z2dlc3Rpb25zXCIpO1xuICAgICAgICAgICAgICAgICRkYXRhc2V0cy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJHN1Z2dlc3Rpb25zLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2dldFN1Z2dlc3Rpb25zKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gRHJvcGRvd25WaWV3O1xuICAgICAgICBmdW5jdGlvbiBleHRyYWN0U3VnZ2VzdGlvbigkZWwpIHtcbiAgICAgICAgICAgIHJldHVybiAkZWwuZGF0YShcInN1Z2dlc3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9KCk7XG4gICAgdmFyIFR5cGVhaGVhZFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWwgPSB7XG4gICAgICAgICAgICB3cmFwcGVyOiAnPHNwYW4gY2xhc3M9XCJ0d2l0dGVyLXR5cGVhaGVhZFwiPjwvc3Bhbj4nLFxuICAgICAgICAgICAgaGludDogJzxpbnB1dCBjbGFzcz1cInR0LWhpbnRcIiB0eXBlPVwidGV4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIHNwZWxsY2hlY2s9XCJvZmZcIiBkaXNhYmxlZD4nLFxuICAgICAgICAgICAgZHJvcGRvd246ICc8c3BhbiBjbGFzcz1cInR0LWRyb3Bkb3duLW1lbnVcIj48L3NwYW4+J1xuICAgICAgICB9LCBjc3MgPSB7XG4gICAgICAgICAgICB3cmFwcGVyOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGludDoge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgdG9wOiBcIjBcIixcbiAgICAgICAgICAgICAgICBsZWZ0OiBcIjBcIixcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCJub25lXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbjogXCJ0b3BcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRyb3Bkb3duOiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICB0b3A6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGxlZnQ6IFwiMFwiLFxuICAgICAgICAgICAgICAgIHpJbmRleDogXCIxMDBcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAodXRpbHMuaXNNc2llKCkpIHtcbiAgICAgICAgICAgIHV0aWxzLm1peGluKGNzcy5xdWVyeSwge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFJQUFBQUFBQVAvLy95SDVCQUVBQUFBQUxBQUFBQUFCQUFFQUFBSUJSQUE3KVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXRpbHMuaXNNc2llKCkgJiYgdXRpbHMuaXNNc2llKCkgPD0gNykge1xuICAgICAgICAgICAgdXRpbHMubWl4aW4oY3NzLndyYXBwZXIsIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImlubGluZVwiLFxuICAgICAgICAgICAgICAgIHpvb206IFwiMVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHV0aWxzLm1peGluKGNzcy5xdWVyeSwge1xuICAgICAgICAgICAgICAgIG1hcmdpblRvcDogXCItMXB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIFR5cGVhaGVhZFZpZXcobykge1xuICAgICAgICAgICAgdmFyICRtZW51LCAkaW5wdXQsICRoaW50O1xuICAgICAgICAgICAgdXRpbHMuYmluZEFsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuJG5vZGUgPSBidWlsZERvbVN0cnVjdHVyZShvLmlucHV0KTtcbiAgICAgICAgICAgIHRoaXMuZGF0YXNldHMgPSBvLmRhdGFzZXRzO1xuICAgICAgICAgICAgdGhpcy5kaXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ldmVudEJ1cyA9IG8uZXZlbnRCdXM7XG4gICAgICAgICAgICAkbWVudSA9IHRoaXMuJG5vZGUuZmluZChcIi50dC1kcm9wZG93bi1tZW51XCIpO1xuICAgICAgICAgICAgJGlucHV0ID0gdGhpcy4kbm9kZS5maW5kKFwiLnR0LXF1ZXJ5XCIpO1xuICAgICAgICAgICAgJGhpbnQgPSB0aGlzLiRub2RlLmZpbmQoXCIudHQtaGludFwiKTtcbiAgICAgICAgICAgIHRoaXMuZHJvcGRvd25WaWV3ID0gbmV3IERyb3Bkb3duVmlldyh7XG4gICAgICAgICAgICAgICAgbWVudTogJG1lbnVcbiAgICAgICAgICAgIH0pLm9uKFwic3VnZ2VzdGlvblNlbGVjdGVkXCIsIHRoaXMuX2hhbmRsZVNlbGVjdGlvbikub24oXCJjdXJzb3JNb3ZlZFwiLCB0aGlzLl9jbGVhckhpbnQpLm9uKFwiY3Vyc29yTW92ZWRcIiwgdGhpcy5fc2V0SW5wdXRWYWx1ZVRvU3VnZ2VzdGlvblVuZGVyQ3Vyc29yKS5vbihcImN1cnNvclJlbW92ZWRcIiwgdGhpcy5fc2V0SW5wdXRWYWx1ZVRvUXVlcnkpLm9uKFwiY3Vyc29yUmVtb3ZlZFwiLCB0aGlzLl91cGRhdGVIaW50KS5vbihcInN1Z2dlc3Rpb25zUmVuZGVyZWRcIiwgdGhpcy5fdXBkYXRlSGludCkub24oXCJvcGVuZWRcIiwgdGhpcy5fdXBkYXRlSGludCkub24oXCJjbG9zZWRcIiwgdGhpcy5fY2xlYXJIaW50KS5vbihcIm9wZW5lZCBjbG9zZWRcIiwgdGhpcy5fcHJvcGFnYXRlRXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dFZpZXcgPSBuZXcgSW5wdXRWaWV3KHtcbiAgICAgICAgICAgICAgICBpbnB1dDogJGlucHV0LFxuICAgICAgICAgICAgICAgIGhpbnQ6ICRoaW50XG4gICAgICAgICAgICB9KS5vbihcImZvY3VzZWRcIiwgdGhpcy5fb3BlbkRyb3Bkb3duKS5vbihcImJsdXJlZFwiLCB0aGlzLl9jbG9zZURyb3Bkb3duKS5vbihcImJsdXJlZFwiLCB0aGlzLl9zZXRJbnB1dFZhbHVlVG9RdWVyeSkub24oXCJlbnRlcktleWVkIHRhYktleWVkXCIsIHRoaXMuX2hhbmRsZVNlbGVjdGlvbikub24oXCJxdWVyeUNoYW5nZWRcIiwgdGhpcy5fY2xlYXJIaW50KS5vbihcInF1ZXJ5Q2hhbmdlZFwiLCB0aGlzLl9jbGVhclN1Z2dlc3Rpb25zKS5vbihcInF1ZXJ5Q2hhbmdlZFwiLCB0aGlzLl9nZXRTdWdnZXN0aW9ucykub24oXCJ3aGl0ZXNwYWNlQ2hhbmdlZFwiLCB0aGlzLl91cGRhdGVIaW50KS5vbihcInF1ZXJ5Q2hhbmdlZCB3aGl0ZXNwYWNlQ2hhbmdlZFwiLCB0aGlzLl9vcGVuRHJvcGRvd24pLm9uKFwicXVlcnlDaGFuZ2VkIHdoaXRlc3BhY2VDaGFuZ2VkXCIsIHRoaXMuX3NldExhbmd1YWdlRGlyZWN0aW9uKS5vbihcImVzY0tleWVkXCIsIHRoaXMuX2Nsb3NlRHJvcGRvd24pLm9uKFwiZXNjS2V5ZWRcIiwgdGhpcy5fc2V0SW5wdXRWYWx1ZVRvUXVlcnkpLm9uKFwidGFiS2V5ZWQgdXBLZXllZCBkb3duS2V5ZWRcIiwgdGhpcy5fbWFuYWdlUHJldmVudERlZmF1bHQpLm9uKFwidXBLZXllZCBkb3duS2V5ZWRcIiwgdGhpcy5fbW92ZURyb3Bkb3duQ3Vyc29yKS5vbihcInVwS2V5ZWQgZG93bktleWVkXCIsIHRoaXMuX29wZW5Ecm9wZG93bikub24oXCJ0YWJLZXllZCBsZWZ0S2V5ZWQgcmlnaHRLZXllZFwiLCB0aGlzLl9hdXRvY29tcGxldGUpO1xuICAgICAgICB9XG4gICAgICAgIHV0aWxzLm1peGluKFR5cGVhaGVhZFZpZXcucHJvdG90eXBlLCBFdmVudFRhcmdldCwge1xuICAgICAgICAgICAgX21hbmFnZVByZXZlbnREZWZhdWx0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdmFyICRlID0gZS5kYXRhLCBoaW50LCBpbnB1dFZhbHVlLCBwcmV2ZW50RGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwidGFiS2V5ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgaGludCA9IHRoaXMuaW5wdXRWaWV3LmdldEhpbnRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlID0gdGhpcy5pbnB1dFZpZXcuZ2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdCA9IGhpbnQgJiYgaGludCAhPT0gaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1cEtleWVkXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZG93bktleWVkXCI6XG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0ID0gISRlLnNoaWZ0S2V5ICYmICEkZS5jdHJsS2V5ICYmICEkZS5tZXRhS2V5O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQgJiYgJGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0TGFuZ3VhZ2VEaXJlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBkaXIgPSB0aGlzLmlucHV0Vmlldy5nZXRMYW5ndWFnZURpcmVjdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChkaXIgIT09IHRoaXMuZGlyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyID0gZGlyO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRub2RlLmNzcyhcImRpcmVjdGlvblwiLCBkaXIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duVmlldy5zZXRMYW5ndWFnZURpcmVjdGlvbihkaXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdXBkYXRlSGludDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1Z2dlc3Rpb24gPSB0aGlzLmRyb3Bkb3duVmlldy5nZXRGaXJzdFN1Z2dlc3Rpb24oKSwgaGludCA9IHN1Z2dlc3Rpb24gPyBzdWdnZXN0aW9uLnZhbHVlIDogbnVsbCwgZHJvcGRvd25Jc1Zpc2libGUgPSB0aGlzLmRyb3Bkb3duVmlldy5pc1Zpc2libGUoKSwgaW5wdXRIYXNPdmVyZmxvdyA9IHRoaXMuaW5wdXRWaWV3LmlzT3ZlcmZsb3coKSwgaW5wdXRWYWx1ZSwgcXVlcnksIGVzY2FwZWRRdWVyeSwgYmVnaW5zV2l0aFF1ZXJ5LCBtYXRjaDtcbiAgICAgICAgICAgICAgICBpZiAoaGludCAmJiBkcm9wZG93bklzVmlzaWJsZSAmJiAhaW5wdXRIYXNPdmVyZmxvdykge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbHVlID0gdGhpcy5pbnB1dFZpZXcuZ2V0SW5wdXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICBxdWVyeSA9IGlucHV0VmFsdWUucmVwbGFjZSgvXFxzezIsfS9nLCBcIiBcIikucmVwbGFjZSgvXlxccysvZywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRRdWVyeSA9IHV0aWxzLmVzY2FwZVJlZ0V4Q2hhcnMocXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICBiZWdpbnNXaXRoUXVlcnkgPSBuZXcgUmVnRXhwKFwiXig/OlwiICsgZXNjYXBlZFF1ZXJ5ICsgXCIpKC4qJClcIiwgXCJpXCIpO1xuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGJlZ2luc1dpdGhRdWVyeS5leGVjKGhpbnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0Vmlldy5zZXRIaW50VmFsdWUoaW5wdXRWYWx1ZSArIChtYXRjaCA/IG1hdGNoWzFdIDogXCJcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xlYXJIaW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0Vmlldy5zZXRIaW50VmFsdWUoXCJcIik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NsZWFyU3VnZ2VzdGlvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJvcGRvd25WaWV3LmNsZWFyU3VnZ2VzdGlvbnMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SW5wdXRWYWx1ZVRvUXVlcnk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRWaWV3LnNldElucHV0VmFsdWUodGhpcy5pbnB1dFZpZXcuZ2V0UXVlcnkoKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldElucHV0VmFsdWVUb1N1Z2dlc3Rpb25VbmRlckN1cnNvcjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdWdnZXN0aW9uID0gZS5kYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRWaWV3LnNldElucHV0VmFsdWUoc3VnZ2VzdGlvbi52YWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wZW5Ecm9wZG93bjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93blZpZXcub3BlbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbG9zZURyb3Bkb3duOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93blZpZXdbZS50eXBlID09PSBcImJsdXJlZFwiID8gXCJjbG9zZVVubGVzc01vdXNlSXNPdmVyRHJvcGRvd25cIiA6IFwiY2xvc2VcIl0oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfbW92ZURyb3Bkb3duQ3Vyc29yOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdmFyICRlID0gZS5kYXRhO1xuICAgICAgICAgICAgICAgIGlmICghJGUuc2hpZnRLZXkgJiYgISRlLmN0cmxLZXkgJiYgISRlLm1ldGFLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93blZpZXdbZS50eXBlID09PSBcInVwS2V5ZWRcIiA/IFwibW92ZUN1cnNvclVwXCIgOiBcIm1vdmVDdXJzb3JEb3duXCJdKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9oYW5kbGVTZWxlY3Rpb246IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYnlDbGljayA9IGUudHlwZSA9PT0gXCJzdWdnZXN0aW9uU2VsZWN0ZWRcIiwgc3VnZ2VzdGlvbiA9IGJ5Q2xpY2sgPyBlLmRhdGEgOiB0aGlzLmRyb3Bkb3duVmlldy5nZXRTdWdnZXN0aW9uVW5kZXJDdXJzb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VnZ2VzdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0Vmlldy5zZXRJbnB1dFZhbHVlKHN1Z2dlc3Rpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBieUNsaWNrID8gdGhpcy5pbnB1dFZpZXcuZm9jdXMoKSA6IGUuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBieUNsaWNrICYmIHV0aWxzLmlzTXNpZSgpID8gdXRpbHMuZGVmZXIodGhpcy5kcm9wZG93blZpZXcuY2xvc2UpIDogdGhpcy5kcm9wZG93blZpZXcuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEJ1cy50cmlnZ2VyKFwic2VsZWN0ZWRcIiwgc3VnZ2VzdGlvbi5kYXR1bSwgc3VnZ2VzdGlvbi5kYXRhc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFN1Z2dlc3Rpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsIHF1ZXJ5ID0gdGhpcy5pbnB1dFZpZXcuZ2V0UXVlcnkoKTtcbiAgICAgICAgICAgICAgICBpZiAodXRpbHMuaXNCbGFua1N0cmluZyhxdWVyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1dGlscy5lYWNoKHRoaXMuZGF0YXNldHMsIGZ1bmN0aW9uKGksIGRhdGFzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YXNldC5nZXRTdWdnZXN0aW9ucyhxdWVyeSwgZnVuY3Rpb24oc3VnZ2VzdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWVyeSA9PT0gdGhhdC5pbnB1dFZpZXcuZ2V0UXVlcnkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZHJvcGRvd25WaWV3LnJlbmRlclN1Z2dlc3Rpb25zKGRhdGFzZXQsIHN1Z2dlc3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2F1dG9jb21wbGV0ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciBpc0N1cnNvckF0RW5kLCBpZ25vcmVFdmVudCwgcXVlcnksIGhpbnQsIHN1Z2dlc3Rpb247XG4gICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJyaWdodEtleWVkXCIgfHwgZS50eXBlID09PSBcImxlZnRLZXllZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzQ3Vyc29yQXRFbmQgPSB0aGlzLmlucHV0Vmlldy5pc0N1cnNvckF0RW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZUV2ZW50ID0gdGhpcy5pbnB1dFZpZXcuZ2V0TGFuZ3VhZ2VEaXJlY3Rpb24oKSA9PT0gXCJsdHJcIiA/IGUudHlwZSA9PT0gXCJsZWZ0S2V5ZWRcIiA6IGUudHlwZSA9PT0gXCJyaWdodEtleWVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNDdXJzb3JBdEVuZCB8fCBpZ25vcmVFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHF1ZXJ5ID0gdGhpcy5pbnB1dFZpZXcuZ2V0UXVlcnkoKTtcbiAgICAgICAgICAgICAgICBoaW50ID0gdGhpcy5pbnB1dFZpZXcuZ2V0SGludFZhbHVlKCk7XG4gICAgICAgICAgICAgICAgaWYgKGhpbnQgIT09IFwiXCIgJiYgcXVlcnkgIT09IGhpbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbiA9IHRoaXMuZHJvcGRvd25WaWV3LmdldEZpcnN0U3VnZ2VzdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0Vmlldy5zZXRJbnB1dFZhbHVlKHN1Z2dlc3Rpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50QnVzLnRyaWdnZXIoXCJhdXRvY29tcGxldGVkXCIsIHN1Z2dlc3Rpb24uZGF0dW0sIHN1Z2dlc3Rpb24uZGF0YXNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9wcm9wYWdhdGVFdmVudDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRCdXMudHJpZ2dlcihlLnR5cGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRWaWV3LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duVmlldy5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgZGVzdHJveURvbVN0cnVjdHVyZSh0aGlzLiRub2RlKTtcbiAgICAgICAgICAgICAgICB0aGlzLiRub2RlID0gbnVsbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRRdWVyeTogZnVuY3Rpb24ocXVlcnkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0Vmlldy5zZXRRdWVyeShxdWVyeSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dFZpZXcuc2V0SW5wdXRWYWx1ZShxdWVyeSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJIaW50KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJTdWdnZXN0aW9ucygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2dldFN1Z2dlc3Rpb25zKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gVHlwZWFoZWFkVmlldztcbiAgICAgICAgZnVuY3Rpb24gYnVpbGREb21TdHJ1Y3R1cmUoaW5wdXQpIHtcbiAgICAgICAgICAgIHZhciAkd3JhcHBlciA9ICQoaHRtbC53cmFwcGVyKSwgJGRyb3Bkb3duID0gJChodG1sLmRyb3Bkb3duKSwgJGlucHV0ID0gJChpbnB1dCksICRoaW50ID0gJChodG1sLmhpbnQpO1xuICAgICAgICAgICAgJHdyYXBwZXIgPSAkd3JhcHBlci5jc3MoY3NzLndyYXBwZXIpO1xuICAgICAgICAgICAgJGRyb3Bkb3duID0gJGRyb3Bkb3duLmNzcyhjc3MuZHJvcGRvd24pO1xuICAgICAgICAgICAgJGhpbnQuY3NzKGNzcy5oaW50KS5jc3Moe1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRBdHRhY2htZW50OiAkaW5wdXQuY3NzKFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCIpLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDbGlwOiAkaW5wdXQuY3NzKFwiYmFja2dyb3VuZC1jbGlwXCIpLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJGlucHV0LmNzcyhcImJhY2tncm91bmQtY29sb3JcIiksXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiAkaW5wdXQuY3NzKFwiYmFja2dyb3VuZC1pbWFnZVwiKSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kT3JpZ2luOiAkaW5wdXQuY3NzKFwiYmFja2dyb3VuZC1vcmlnaW5cIiksXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiAkaW5wdXQuY3NzKFwiYmFja2dyb3VuZC1wb3NpdGlvblwiKSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiAkaW5wdXQuY3NzKFwiYmFja2dyb3VuZC1yZXBlYXRcIiksXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFNpemU6ICRpbnB1dC5jc3MoXCJiYWNrZ3JvdW5kLXNpemVcIilcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgJGlucHV0LmRhdGEoXCJ0dEF0dHJzXCIsIHtcbiAgICAgICAgICAgICAgICBkaXI6ICRpbnB1dC5hdHRyKFwiZGlyXCIpLFxuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogJGlucHV0LmF0dHIoXCJhdXRvY29tcGxldGVcIiksXG4gICAgICAgICAgICAgICAgc3BlbGxjaGVjazogJGlucHV0LmF0dHIoXCJzcGVsbGNoZWNrXCIpLFxuICAgICAgICAgICAgICAgIHN0eWxlOiAkaW5wdXQuYXR0cihcInN0eWxlXCIpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRpbnB1dC5hZGRDbGFzcyhcInR0LXF1ZXJ5XCIpLmF0dHIoe1xuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogXCJvZmZcIixcbiAgICAgICAgICAgICAgICBzcGVsbGNoZWNrOiBmYWxzZVxuICAgICAgICAgICAgfSkuY3NzKGNzcy5xdWVyeSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICEkaW5wdXQuYXR0cihcImRpclwiKSAmJiAkaW5wdXQuYXR0cihcImRpclwiLCBcImF1dG9cIik7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICAgICAgcmV0dXJuICRpbnB1dC53cmFwKCR3cmFwcGVyKS5wYXJlbnQoKS5wcmVwZW5kKCRoaW50KS5hcHBlbmQoJGRyb3Bkb3duKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkZXN0cm95RG9tU3RydWN0dXJlKCRub2RlKSB7XG4gICAgICAgICAgICB2YXIgJGlucHV0ID0gJG5vZGUuZmluZChcIi50dC1xdWVyeVwiKTtcbiAgICAgICAgICAgIHV0aWxzLmVhY2goJGlucHV0LmRhdGEoXCJ0dEF0dHJzXCIpLCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgICAgICAgICAgIHV0aWxzLmlzVW5kZWZpbmVkKHZhbCkgPyAkaW5wdXQucmVtb3ZlQXR0cihrZXkpIDogJGlucHV0LmF0dHIoa2V5LCB2YWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkaW5wdXQuZGV0YWNoKCkucmVtb3ZlRGF0YShcInR0QXR0cnNcIikucmVtb3ZlQ2xhc3MoXCJ0dC1xdWVyeVwiKS5pbnNlcnRBZnRlcigkbm9kZSk7XG4gICAgICAgICAgICAkbm9kZS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgIH0oKTtcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IHt9LCB2aWV3S2V5ID0gXCJ0dFZpZXdcIiwgbWV0aG9kcztcbiAgICAgICAgbWV0aG9kcyA9IHtcbiAgICAgICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGRhdGFzZXREZWZzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFzZXRzO1xuICAgICAgICAgICAgICAgIGRhdGFzZXREZWZzID0gdXRpbHMuaXNBcnJheShkYXRhc2V0RGVmcykgPyBkYXRhc2V0RGVmcyA6IFsgZGF0YXNldERlZnMgXTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YXNldERlZnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICQuZXJyb3IoXCJubyBkYXRhc2V0cyBwcm92aWRlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGF0YXNldHMgPSB1dGlscy5tYXAoZGF0YXNldERlZnMsIGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFzZXQgPSBjYWNoZVtvLm5hbWVdID8gY2FjaGVbby5uYW1lXSA6IG5ldyBEYXRhc2V0KG8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoby5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZVtvLm5hbWVdID0gZGF0YXNldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YXNldDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGluaXRpYWxpemUpO1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpLCBkZWZlcnJlZHMsIGV2ZW50QnVzID0gbmV3IEV2ZW50QnVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsOiAkaW5wdXRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkcyA9IHV0aWxzLm1hcChkYXRhc2V0cywgZnVuY3Rpb24oZGF0YXNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFzZXQuaW5pdGlhbGl6ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LmRhdGEodmlld0tleSwgbmV3IFR5cGVhaGVhZFZpZXcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICRpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QnVzOiBldmVudEJ1cyA9IG5ldyBFdmVudEJ1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWw6ICRpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0czogZGF0YXNldHNcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAkLndoZW4uYXBwbHkoJCwgZGVmZXJyZWRzKS5hbHdheXMoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5kZWZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudEJ1cy50cmlnZ2VyKFwiaW5pdGlhbGl6ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZGVzdHJveSk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwgdmlldyA9ICR0aGlzLmRhdGEodmlld0tleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2aWV3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWV3LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnJlbW92ZURhdGEodmlld0tleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0UXVlcnk6IGZ1bmN0aW9uKHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChzZXRRdWVyeSk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2V0UXVlcnkoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2aWV3ID0gJCh0aGlzKS5kYXRhKHZpZXdLZXkpO1xuICAgICAgICAgICAgICAgICAgICB2aWV3ICYmIHZpZXcuc2V0UXVlcnkocXVlcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgalF1ZXJ5LmZuLnR5cGVhaGVhZCA9IGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgICAgaWYgKG1ldGhvZHNbbWV0aG9kXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXRob2RzW21ldGhvZF0uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1ldGhvZHMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pKCk7XG59KSh3aW5kb3cualF1ZXJ5KTsiLCIvKipcclxuICogQ29weXJpZ2h0IChjKSAyMDEwIE1heGltIFZhc2lsaWV2XHJcbiAqXHJcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxyXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXHJcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcclxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXHJcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XHJcbiAqXHJcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxyXG4gKlxyXG4gKiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuICogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcbiAqIFRIRSBTT0ZUV0FSRS5cclxuICpcclxuICogQGF1dGhvciBNYXhpbSBWYXNpbGlldlxyXG4gKiBEYXRlOiAwOS4wOS4yMDEwXHJcbiAqIFRpbWU6IDE5OjAyOjMzXHJcbiAqL1xyXG5cclxuXHJcbnZhciBmb3JtMmpzID0gKGZ1bmN0aW9uKClcclxue1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cclxuXHQvKipcclxuXHQgKiBSZXR1cm5zIGZvcm0gdmFsdWVzIHJlcHJlc2VudGVkIGFzIEphdmFzY3JpcHQgb2JqZWN0XHJcblx0ICogXCJuYW1lXCIgYXR0cmlidXRlIGRlZmluZXMgc3RydWN0dXJlIG9mIHJlc3VsdGluZyBvYmplY3RcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSByb290Tm9kZSB7RWxlbWVudHxTdHJpbmd9IHJvb3QgZm9ybSBlbGVtZW50IChvciBpdCdzIGlkKSBvciBhcnJheSBvZiByb290IGVsZW1lbnRzXHJcblx0ICogQHBhcmFtIGRlbGltaXRlciB7U3RyaW5nfSBzdHJ1Y3R1cmUgcGFydHMgZGVsaW1pdGVyIGRlZmF1bHRzIHRvICcuJ1xyXG5cdCAqIEBwYXJhbSBza2lwRW1wdHkge0Jvb2xlYW59IHNob3VsZCBza2lwIGVtcHR5IHRleHQgdmFsdWVzLCBkZWZhdWx0cyB0byB0cnVlXHJcblx0ICogQHBhcmFtIGVtcHR5VG9OdWxsIHtCb29sZWFufSBzaG91bGQgZW1wdHkgdmFsdWVzIGJlIGNvbnZlcnRlZCB0byBudWxsP1xyXG5cdCAqIEBwYXJhbSBub2RlQ2FsbGJhY2sge0Z1bmN0aW9ufSBjdXN0b20gZnVuY3Rpb24gdG8gZ2V0IG5vZGUgdmFsdWVcclxuXHQgKiBAcGFyYW0gdXNlSWRJZkVtcHR5TmFtZSB7Qm9vbGVhbn0gaWYgdHJ1ZSB2YWx1ZSBvZiBpZCBhdHRyaWJ1dGUgb2YgZmllbGQgd2lsbCBiZSB1c2VkIGlmIG5hbWUgb2YgZmllbGQgaXMgZW1wdHlcclxuXHQgKi9cclxuXHRmdW5jdGlvbiBmb3JtMmpzKHJvb3ROb2RlLCBkZWxpbWl0ZXIsIHNraXBFbXB0eSwgZW1wdHlUb051bGwsIG5vZGVDYWxsYmFjaywgdXNlSWRJZkVtcHR5TmFtZSlcclxuXHR7XHJcblx0XHRpZiAodHlwZW9mIHNraXBFbXB0eSA9PSAndW5kZWZpbmVkJyB8fCBza2lwRW1wdHkgPT0gbnVsbCkgc2tpcEVtcHR5ID0gdHJ1ZTtcclxuXHRcdGlmICh0eXBlb2YgZW1wdHlUb051bGwgPT0gJ3VuZGVmaW5lZCcgfHwgZW1wdHlUb051bGwgPT0gbnVsbCkgZW1wdHlUb051bGwgPSB0cnVlO1xyXG5cdFx0aWYgKHR5cGVvZiBkZWxpbWl0ZXIgPT0gJ3VuZGVmaW5lZCcgfHwgZGVsaW1pdGVyID09IG51bGwpIGRlbGltaXRlciA9ICcuJztcclxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoIDwgNikgdXNlSWRJZkVtcHR5TmFtZSA9IGZhbHNlO1xyXG5cclxuXHRcdHJvb3ROb2RlID0gdHlwZW9mIHJvb3ROb2RlID09ICdzdHJpbmcnID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocm9vdE5vZGUpIDogcm9vdE5vZGU7XHJcblxyXG5cdFx0dmFyIGZvcm1WYWx1ZXMgPSBbXSxcclxuXHRcdFx0Y3Vyck5vZGUsXHJcblx0XHRcdGkgPSAwO1xyXG5cclxuXHRcdC8qIElmIHJvb3ROb2RlIGlzIGFycmF5IC0gY29tYmluZSB2YWx1ZXMgKi9cclxuXHRcdGlmIChyb290Tm9kZS5jb25zdHJ1Y3RvciA9PSBBcnJheSB8fCAodHlwZW9mIE5vZGVMaXN0ICE9ICd1bmRlZmluZWQnICYmIHJvb3ROb2RlLmNvbnN0cnVjdG9yID09IE5vZGVMaXN0KSlcclxuXHRcdHtcclxuXHRcdFx0d2hpbGUoY3Vyck5vZGUgPSByb290Tm9kZVtpKytdKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Zm9ybVZhbHVlcyA9IGZvcm1WYWx1ZXMuY29uY2F0KGdldEZvcm1WYWx1ZXMoY3Vyck5vZGUsIG5vZGVDYWxsYmFjaywgdXNlSWRJZkVtcHR5TmFtZSkpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHR7XHJcblx0XHRcdGZvcm1WYWx1ZXMgPSBnZXRGb3JtVmFsdWVzKHJvb3ROb2RlLCBub2RlQ2FsbGJhY2ssIHVzZUlkSWZFbXB0eU5hbWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBwcm9jZXNzTmFtZVZhbHVlcyhmb3JtVmFsdWVzLCBza2lwRW1wdHksIGVtcHR5VG9OdWxsLCBkZWxpbWl0ZXIpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogUHJvY2Vzc2VzIGNvbGxlY3Rpb24gb2YgeyBuYW1lOiAnbmFtZScsIHZhbHVlOiAndmFsdWUnIH0gb2JqZWN0cy5cclxuXHQgKiBAcGFyYW0gbmFtZVZhbHVlc1xyXG5cdCAqIEBwYXJhbSBza2lwRW1wdHkgaWYgdHJ1ZSBza2lwcyBlbGVtZW50cyB3aXRoIHZhbHVlID09ICcnIG9yIHZhbHVlID09IG51bGxcclxuXHQgKiBAcGFyYW0gZGVsaW1pdGVyXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gcHJvY2Vzc05hbWVWYWx1ZXMobmFtZVZhbHVlcywgc2tpcEVtcHR5LCBlbXB0eVRvTnVsbCwgZGVsaW1pdGVyKVxyXG5cdHtcclxuXHRcdHZhciByZXN1bHQgPSB7fSxcclxuXHRcdFx0YXJyYXlzID0ge30sXHJcblx0XHRcdGksIGosIGssIGwsXHJcblx0XHRcdHZhbHVlLFxyXG5cdFx0XHRuYW1lUGFydHMsXHJcblx0XHRcdGN1cnJSZXN1bHQsXHJcblx0XHRcdGFyck5hbWVGdWxsLFxyXG5cdFx0XHRhcnJOYW1lLFxyXG5cdFx0XHRhcnJJZHgsXHJcblx0XHRcdG5hbWVQYXJ0LFxyXG5cdFx0XHRuYW1lLFxyXG5cdFx0XHRfbmFtZVBhcnRzO1xyXG5cclxuXHRcdGZvciAoaSA9IDA7IGkgPCBuYW1lVmFsdWVzLmxlbmd0aDsgaSsrKVxyXG5cdFx0e1xyXG5cdFx0XHR2YWx1ZSA9IG5hbWVWYWx1ZXNbaV0udmFsdWU7XHJcblxyXG5cdFx0XHRpZiAoZW1wdHlUb051bGwgJiYgKHZhbHVlID09PSAnJykpIHsgdmFsdWUgPSBudWxsOyB9XHJcblx0XHRcdGlmIChza2lwRW1wdHkgJiYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gbnVsbCkpIGNvbnRpbnVlO1xyXG5cclxuXHRcdFx0bmFtZSA9IG5hbWVWYWx1ZXNbaV0ubmFtZTtcclxuXHRcdFx0aWYgKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJykgY29udGludWU7XHJcblxyXG5cdFx0XHRfbmFtZVBhcnRzID0gbmFtZS5zcGxpdChkZWxpbWl0ZXIpO1xyXG5cdFx0XHRuYW1lUGFydHMgPSBbXTtcclxuXHRcdFx0Y3VyclJlc3VsdCA9IHJlc3VsdDtcclxuXHRcdFx0YXJyTmFtZUZ1bGwgPSAnJztcclxuXHJcblx0XHRcdGZvcihqID0gMDsgaiA8IF9uYW1lUGFydHMubGVuZ3RoOyBqKyspXHJcblx0XHRcdHtcclxuXHRcdFx0XHRuYW1lUGFydCA9IF9uYW1lUGFydHNbal0uc3BsaXQoJ11bJyk7XHJcblx0XHRcdFx0aWYgKG5hbWVQYXJ0Lmxlbmd0aCA+IDEpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Zm9yKGsgPSAwOyBrIDwgbmFtZVBhcnQubGVuZ3RoOyBrKyspXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmIChrID09IDApXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRuYW1lUGFydFtrXSA9IG5hbWVQYXJ0W2tdICsgJ10nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGVsc2UgaWYgKGsgPT0gbmFtZVBhcnQubGVuZ3RoIC0gMSlcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdG5hbWVQYXJ0W2tdID0gJ1snICsgbmFtZVBhcnRba107XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0bmFtZVBhcnRba10gPSAnWycgKyBuYW1lUGFydFtrXSArICddJztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0YXJySWR4ID0gbmFtZVBhcnRba10ubWF0Y2goLyhbYS16X10rKT9cXFsoW2Etel9dW2EtejAtOV9dKz8pXFxdL2kpO1xyXG5cdFx0XHRcdFx0XHRpZiAoYXJySWR4KVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0Zm9yKGwgPSAxOyBsIDwgYXJySWR4Lmxlbmd0aDsgbCsrKVxyXG5cdFx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChhcnJJZHhbbF0pIG5hbWVQYXJ0cy5wdXNoKGFycklkeFtsXSk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGVsc2V7XHJcblx0XHRcdFx0XHRcdFx0bmFtZVBhcnRzLnB1c2gobmFtZVBhcnRba10pO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdG5hbWVQYXJ0cyA9IG5hbWVQYXJ0cy5jb25jYXQobmFtZVBhcnQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgbmFtZVBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZVBhcnQgPSBuYW1lUGFydHNbal07XHJcblxyXG5cdFx0XHRcdGlmIChuYW1lUGFydC5pbmRleE9mKCdbXScpID4gLTEgJiYgaiA9PSBuYW1lUGFydHMubGVuZ3RoIC0gMSlcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRhcnJOYW1lID0gbmFtZVBhcnQuc3Vic3RyKDAsIG5hbWVQYXJ0LmluZGV4T2YoJ1snKSk7XHJcblx0XHRcdFx0XHRhcnJOYW1lRnVsbCArPSBhcnJOYW1lO1xyXG5cclxuXHRcdFx0XHRcdGlmICghY3VyclJlc3VsdFthcnJOYW1lXSkgY3VyclJlc3VsdFthcnJOYW1lXSA9IFtdO1xyXG5cdFx0XHRcdFx0Y3VyclJlc3VsdFthcnJOYW1lXS5wdXNoKHZhbHVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAobmFtZVBhcnQuaW5kZXhPZignWycpID4gLTEpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0YXJyTmFtZSA9IG5hbWVQYXJ0LnN1YnN0cigwLCBuYW1lUGFydC5pbmRleE9mKCdbJykpO1xyXG5cdFx0XHRcdFx0YXJySWR4ID0gbmFtZVBhcnQucmVwbGFjZSgvKF4oW2Etel9dKyk/XFxbKXwoXFxdJCkvZ2ksICcnKTtcclxuXHJcblx0XHRcdFx0XHQvKiBVbmlxdWUgYXJyYXkgbmFtZSAqL1xyXG5cdFx0XHRcdFx0YXJyTmFtZUZ1bGwgKz0gJ18nICsgYXJyTmFtZSArICdfJyArIGFycklkeDtcclxuXHJcblx0XHRcdFx0XHQvKlxyXG5cdFx0XHRcdFx0ICogQmVjYXVzZSBhcnJJZHggaW4gZmllbGQgbmFtZSBjYW4gYmUgbm90IHplcm8tYmFzZWQgYW5kIHN0ZXAgY2FuIGJlXHJcblx0XHRcdFx0XHQgKiBvdGhlciB0aGFuIDEsIHdlIGNhbid0IHVzZSB0aGVtIGluIHRhcmdldCBhcnJheSBkaXJlY3RseS5cclxuXHRcdFx0XHRcdCAqIEluc3RlYWQgd2UncmUgbWFraW5nIGEgaGFzaCB3aGVyZSBrZXkgaXMgYXJySWR4IGFuZCB2YWx1ZSBpcyBhIHJlZmVyZW5jZSB0b1xyXG5cdFx0XHRcdFx0ICogYWRkZWQgYXJyYXkgZWxlbWVudFxyXG5cdFx0XHRcdFx0ICovXHJcblxyXG5cdFx0XHRcdFx0aWYgKCFhcnJheXNbYXJyTmFtZUZ1bGxdKSBhcnJheXNbYXJyTmFtZUZ1bGxdID0ge307XHJcblx0XHRcdFx0XHRpZiAoYXJyTmFtZSAhPSAnJyAmJiAhY3VyclJlc3VsdFthcnJOYW1lXSkgY3VyclJlc3VsdFthcnJOYW1lXSA9IFtdO1xyXG5cclxuXHRcdFx0XHRcdGlmIChqID09IG5hbWVQYXJ0cy5sZW5ndGggLSAxKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZiAoYXJyTmFtZSA9PSAnJylcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdGN1cnJSZXN1bHQucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0YXJyYXlzW2Fyck5hbWVGdWxsXVthcnJJZHhdID0gY3VyclJlc3VsdFtjdXJyUmVzdWx0Lmxlbmd0aCAtIDFdO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRcdGN1cnJSZXN1bHRbYXJyTmFtZV0ucHVzaCh2YWx1ZSk7XHJcblx0XHRcdFx0XHRcdFx0YXJyYXlzW2Fyck5hbWVGdWxsXVthcnJJZHhdID0gY3VyclJlc3VsdFthcnJOYW1lXVtjdXJyUmVzdWx0W2Fyck5hbWVdLmxlbmd0aCAtIDFdO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGlmICghYXJyYXlzW2Fyck5hbWVGdWxsXVthcnJJZHhdKVxyXG5cdFx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCgvXlthLXpfXStcXFs/L2kpLnRlc3QobmFtZVBhcnRzW2orMV0pKSBjdXJyUmVzdWx0W2Fyck5hbWVdLnB1c2goe30pO1xyXG5cdFx0XHRcdFx0XHRcdGVsc2UgY3VyclJlc3VsdFthcnJOYW1lXS5wdXNoKFtdKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0YXJyYXlzW2Fyck5hbWVGdWxsXVthcnJJZHhdID0gY3VyclJlc3VsdFthcnJOYW1lXVtjdXJyUmVzdWx0W2Fyck5hbWVdLmxlbmd0aCAtIDFdO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Y3VyclJlc3VsdCA9IGFycmF5c1thcnJOYW1lRnVsbF1bYXJySWR4XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGFyck5hbWVGdWxsICs9IG5hbWVQYXJ0O1xyXG5cclxuXHRcdFx0XHRcdGlmIChqIDwgbmFtZVBhcnRzLmxlbmd0aCAtIDEpIC8qIE5vdCB0aGUgbGFzdCBwYXJ0IG9mIG5hbWUgLSBtZWFucyBvYmplY3QgKi9cclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0aWYgKCFjdXJyUmVzdWx0W25hbWVQYXJ0XSkgY3VyclJlc3VsdFtuYW1lUGFydF0gPSB7fTtcclxuXHRcdFx0XHRcdFx0Y3VyclJlc3VsdCA9IGN1cnJSZXN1bHRbbmFtZVBhcnRdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRjdXJyUmVzdWx0W25hbWVQYXJ0XSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEZvcm1WYWx1ZXMocm9vdE5vZGUsIG5vZGVDYWxsYmFjaywgdXNlSWRJZkVtcHR5TmFtZSlcclxuICAgIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gZXh0cmFjdE5vZGVWYWx1ZXMocm9vdE5vZGUsIG5vZGVDYWxsYmFjaywgdXNlSWRJZkVtcHR5TmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5sZW5ndGggPiAwID8gcmVzdWx0IDogZ2V0U3ViRm9ybVZhbHVlcyhyb290Tm9kZSwgbm9kZUNhbGxiYWNrLCB1c2VJZElmRW1wdHlOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTdWJGb3JtVmFsdWVzKHJvb3ROb2RlLCBub2RlQ2FsbGJhY2ssIHVzZUlkSWZFbXB0eU5hbWUpXHJcblx0e1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdLFxyXG5cdFx0XHRjdXJyZW50Tm9kZSA9IHJvb3ROb2RlLmZpcnN0Q2hpbGQ7XHJcblx0XHRcclxuXHRcdHdoaWxlIChjdXJyZW50Tm9kZSlcclxuXHRcdHtcclxuXHRcdFx0cmVzdWx0ID0gcmVzdWx0LmNvbmNhdChleHRyYWN0Tm9kZVZhbHVlcyhjdXJyZW50Tm9kZSwgbm9kZUNhbGxiYWNrLCB1c2VJZElmRW1wdHlOYW1lKSk7XHJcblx0XHRcdGN1cnJlbnROb2RlID0gY3VycmVudE5vZGUubmV4dFNpYmxpbmc7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG4gICAgZnVuY3Rpb24gZXh0cmFjdE5vZGVWYWx1ZXMobm9kZSwgbm9kZUNhbGxiYWNrLCB1c2VJZElmRW1wdHlOYW1lKSB7XHJcbiAgICAgICAgdmFyIGNhbGxiYWNrUmVzdWx0LCBmaWVsZFZhbHVlLCByZXN1bHQsIGZpZWxkTmFtZSA9IGdldEZpZWxkTmFtZShub2RlLCB1c2VJZElmRW1wdHlOYW1lKTtcclxuXHJcbiAgICAgICAgY2FsbGJhY2tSZXN1bHQgPSBub2RlQ2FsbGJhY2sgJiYgbm9kZUNhbGxiYWNrKG5vZGUpO1xyXG5cclxuICAgICAgICBpZiAoY2FsbGJhY2tSZXN1bHQgJiYgY2FsbGJhY2tSZXN1bHQubmFtZSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBbY2FsbGJhY2tSZXN1bHRdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmaWVsZE5hbWUgIT0gJycgJiYgbm9kZS5ub2RlTmFtZS5tYXRjaCgvSU5QVVR8VEVYVEFSRUEvaSkpIHtcclxuICAgICAgICAgICAgZmllbGRWYWx1ZSA9IGdldEZpZWxkVmFsdWUobm9kZSk7ICAgXHJcblx0ICAgICAgICBpZiAoZmllbGRWYWx1ZSA9PSBudWxsICYmIG5vZGUudHlwZSA9PSAncmFkaW8nKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gW107XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IFsgeyBuYW1lOiBmaWVsZE5hbWUsIHZhbHVlOiBmaWVsZFZhbHVlfSBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChmaWVsZE5hbWUgIT0gJycgJiYgbm9kZS5ub2RlTmFtZS5tYXRjaCgvU0VMRUNUL2kpKSB7XHJcblx0ICAgICAgICBmaWVsZFZhbHVlID0gZ2V0RmllbGRWYWx1ZShub2RlKTtcclxuXHQgICAgICAgIHJlc3VsdCA9IFsgeyBuYW1lOiBmaWVsZE5hbWUucmVwbGFjZSgvXFxbXFxdJC8sICcnKSwgdmFsdWU6IGZpZWxkVmFsdWUgfSBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gZ2V0U3ViRm9ybVZhbHVlcyhub2RlLCBub2RlQ2FsbGJhY2ssIHVzZUlkSWZFbXB0eU5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0RmllbGROYW1lKG5vZGUsIHVzZUlkSWZFbXB0eU5hbWUpXHJcblx0e1xyXG5cdFx0aWYgKG5vZGUubmFtZSAmJiBub2RlLm5hbWUgIT0gJycpIHJldHVybiBub2RlLm5hbWU7XHJcblx0XHRlbHNlIGlmICh1c2VJZElmRW1wdHlOYW1lICYmIG5vZGUuaWQgJiYgbm9kZS5pZCAhPSAnJykgcmV0dXJuIG5vZGUuaWQ7XHJcblx0XHRlbHNlIHJldHVybiAnJztcclxuXHR9XHJcblxyXG5cclxuXHRmdW5jdGlvbiBnZXRGaWVsZFZhbHVlKGZpZWxkTm9kZSlcclxuXHR7XHJcblx0XHRpZiAoZmllbGROb2RlLmRpc2FibGVkKSByZXR1cm4gbnVsbDtcclxuXHRcdFxyXG5cdFx0c3dpdGNoIChmaWVsZE5vZGUubm9kZU5hbWUpIHtcclxuXHRcdFx0Y2FzZSAnSU5QVVQnOlxyXG5cdFx0XHRjYXNlICdURVhUQVJFQSc6XHJcblx0XHRcdFx0c3dpdGNoIChmaWVsZE5vZGUudHlwZS50b0xvd2VyQ2FzZSgpKSB7XHJcblx0XHRcdFx0XHRjYXNlICdyYWRpbyc6XHJcblx0XHRcdFx0XHRjYXNlICdjaGVja2JveCc6XHJcblx0XHRcdFx0XHRcdGlmIChmaWVsZE5vZGUuY2hlY2tlZCkgcmV0dXJuIGZpZWxkTm9kZS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0Y2FzZSAnYnV0dG9uJzpcclxuXHRcdFx0XHRcdGNhc2UgJ3Jlc2V0JzpcclxuXHRcdFx0XHRcdGNhc2UgJ3N1Ym1pdCc6XHJcblx0XHRcdFx0XHRjYXNlICdpbWFnZSc6XHJcblx0XHRcdFx0XHRcdHJldHVybiAnJztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZpZWxkTm9kZS52YWx1ZTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0Y2FzZSAnU0VMRUNUJzpcclxuXHRcdFx0XHRyZXR1cm4gZ2V0U2VsZWN0ZWRPcHRpb25WYWx1ZShmaWVsZE5vZGUpO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGdldFNlbGVjdGVkT3B0aW9uVmFsdWUoc2VsZWN0Tm9kZSlcclxuXHR7XHJcblx0XHR2YXIgbXVsdGlwbGUgPSBzZWxlY3ROb2RlLm11bHRpcGxlLFxyXG5cdFx0XHRyZXN1bHQgPSBbXSxcclxuXHRcdFx0b3B0aW9ucyxcclxuXHRcdFx0aSwgbDtcclxuXHJcblx0XHRpZiAoIW11bHRpcGxlKSByZXR1cm4gc2VsZWN0Tm9kZS52YWx1ZTtcclxuXHJcblx0XHRmb3IgKG9wdGlvbnMgPSBzZWxlY3ROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdvcHRpb24nKSwgaSA9IDAsIGwgPSBvcHRpb25zLmxlbmd0aDsgaSA8IGw7IGkrKylcclxuXHRcdHtcclxuXHRcdFx0aWYgKG9wdGlvbnNbaV0uc2VsZWN0ZWQpIHJlc3VsdC5wdXNoKG9wdGlvbnNbaV0udmFsdWUpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZm9ybTJqcztcclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgTWF4aW0gVmFzaWxpZXZcclxuICpcclxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuICpcclxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcbiAqXHJcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuICogVEhFIFNPRlRXQVJFLlxyXG4gKlxyXG4gKiBAYXV0aG9yIE1heGltIFZhc2lsaWV2XHJcbiAqIERhdGU6IDE5LjA5LjExXHJcbiAqIFRpbWU6IDIzOjQwXHJcbiAqL1xyXG5cclxudmFyIGpzMmZvcm0gPSAoZnVuY3Rpb24oKVxyXG57XHJcblx0XCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG5cdHZhciBfc3ViQXJyYXlSZWdleHAgPSAvXlxcW1xcZCs/XFxdLyxcclxuXHRcdFx0X3N1Yk9iamVjdFJlZ2V4cCA9IC9eW2EtekEtWl9dW2EtekEtWl8wLTldKy8sXHJcblx0XHRcdF9hcnJheUl0ZW1SZWdleHAgPSAvXFxbWzAtOV0rP1xcXSQvLFxyXG5cdFx0XHRfbGFzdEluZGV4ZWRBcnJheVJlZ2V4cCA9IC8oLiopKFxcWykoWzAtOV0qKShcXF0pJC8sXHJcblx0XHRcdF9hcnJheU9mQXJyYXlzUmVnZXhwID0gL1xcWyhbMC05XSspXFxdXFxbKFswLTldKylcXF0vZyxcclxuXHRcdFx0X2lucHV0T3JUZXh0YXJlYVJlZ2V4cCA9IC9JTlBVVHxURVhUQVJFQS9pO1xyXG5cclxuXHQvKipcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSByb290Tm9kZVxyXG5cdCAqIEBwYXJhbSBkYXRhXHJcblx0ICogQHBhcmFtIGRlbGltaXRlclxyXG5cdCAqIEBwYXJhbSBub2RlQ2FsbGJhY2tcclxuXHQgKiBAcGFyYW0gdXNlSWRJZkVtcHR5TmFtZVxyXG5cdCAqIEBwYXJhbSBzaG91bGRDbGVhbiBzaG91bGQgd2UgZW1wdHkgb3V0IGZpZWxkcyBmaXJzdD9cclxuXHQgKi9cclxuXHRmdW5jdGlvbiBqczJmb3JtKHJvb3ROb2RlLCBkYXRhLCBkZWxpbWl0ZXIsIG5vZGVDYWxsYmFjaywgdXNlSWRJZkVtcHR5TmFtZSwgc2hvdWxkQ2xlYW4pXHJcblx0e1xyXG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPCAzKSBkZWxpbWl0ZXIgPSAnLic7XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDQpIG5vZGVDYWxsYmFjayA9IG51bGw7XHJcblx0XHRpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDUpIHVzZUlkSWZFbXB0eU5hbWUgPSBmYWxzZTtcclxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoIDwgNikgc2hvdWxkQ2xlYW4gPSB0cnVlO1xyXG5cclxuXHRcdHZhciBmaWVsZFZhbHVlcyxcclxuXHRcdFx0XHRmb3JtRmllbGRzQnlOYW1lO1xyXG5cclxuXHRcdGZpZWxkVmFsdWVzID0gb2JqZWN0MmFycmF5KGRhdGEpO1xyXG5cdFx0Zm9ybUZpZWxkc0J5TmFtZSA9IGdldEZpZWxkcyhyb290Tm9kZSwgdXNlSWRJZkVtcHR5TmFtZSwgZGVsaW1pdGVyLCB7fSwgc2hvdWxkQ2xlYW4pO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRWYWx1ZXMubGVuZ3RoOyBpKyspXHJcblx0XHR7XHJcblx0XHRcdHZhciBmaWVsZE5hbWUgPSBmaWVsZFZhbHVlc1tpXS5uYW1lLFxyXG5cdFx0XHRcdFx0ZmllbGRWYWx1ZSA9IGZpZWxkVmFsdWVzW2ldLnZhbHVlO1xyXG5cclxuXHRcdFx0aWYgKHR5cGVvZiBmb3JtRmllbGRzQnlOYW1lW2ZpZWxkTmFtZV0gIT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRzZXRWYWx1ZShmb3JtRmllbGRzQnlOYW1lW2ZpZWxkTmFtZV0sIGZpZWxkVmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgaWYgKHR5cGVvZiBmb3JtRmllbGRzQnlOYW1lW2ZpZWxkTmFtZS5yZXBsYWNlKF9hcnJheUl0ZW1SZWdleHAsICdbXScpXSAhPSAndW5kZWZpbmVkJylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHNldFZhbHVlKGZvcm1GaWVsZHNCeU5hbWVbZmllbGROYW1lLnJlcGxhY2UoX2FycmF5SXRlbVJlZ2V4cCwgJ1tdJyldLCBmaWVsZFZhbHVlKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gc2V0VmFsdWUoZmllbGQsIHZhbHVlKVxyXG5cdHtcclxuXHRcdHZhciBjaGlsZHJlbiwgaSwgbDtcclxuXHJcblx0XHRpZiAoZmllbGQgaW5zdGFuY2VvZiBBcnJheSlcclxuXHRcdHtcclxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGZpZWxkLmxlbmd0aDsgaSsrKVxyXG5cdFx0XHR7XHJcbiAgICAgICAgaWYgKGZpZWxkW2ldLnR5cGUgPT0gXCJyYWRpb1wiKXtcclxuICAgICAgICAgIGZpZWxkW2ldLmNoZWNrZWQgPSBmYWxzZVxyXG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSBcInVuZGVmaW5lZFwiICYmIHZhbHVlICE9PSBudWxsICAmJiBmaWVsZFtpXS52YWx1ZSA9PSB2YWx1ZSB8fCBmaWVsZFtpXS52YWx1ZSA9PSB2YWx1ZS50b1N0cmluZygpIClcclxuICAgICAgICAgICAgZmllbGRbaV0uY2hlY2tlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2V7XHJcbiAgICAgICAgICBpZiAodmFsdWUgPT0gJ29uJyB8fCB2YWx1ZSA9PSAndHJ1ZScgfHwgdmFsdWUgPT0gJzEnKVxyXG4gICAgICAgICAgICBmaWVsZFtpXS5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgZmllbGRbaV0uY2hlY2tlZCA9IGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblx0XHR9XHJcblx0XHRlbHNlIGlmIChfaW5wdXRPclRleHRhcmVhUmVnZXhwLnRlc3QoZmllbGQubm9kZU5hbWUpKVxyXG5cdFx0e1xyXG5cdFx0XHRpZiAodmFsdWUpXHJcblx0XHRcdFx0ZmllbGQudmFsdWUgPSB2YWx1ZTtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYgKC9TRUxFQ1QvaS50ZXN0KGZpZWxkLm5vZGVOYW1lKSlcclxuXHRcdHtcclxuXHRcdFx0Y2hpbGRyZW4gPSBmaWVsZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnb3B0aW9uJyk7XHJcblx0XHRcdGZvciAoaSA9IDAsbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGlmIChjaGlsZHJlbltpXS52YWx1ZSA9PSB2YWx1ZSlcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRjaGlsZHJlbltpXS5zZWxlY3RlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRpZiAoZmllbGQubXVsdGlwbGUpIGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRlbHNlIGlmICghZmllbGQubXVsdGlwbGUpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0Y2hpbGRyZW5baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGdldEZpZWxkcyhyb290Tm9kZSwgdXNlSWRJZkVtcHR5TmFtZSwgZGVsaW1pdGVyLCBhcnJheUluZGV4ZXMsIHNob3VsZENsZWFuKVxyXG5cdHtcclxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoIDwgNCkgYXJyYXlJbmRleGVzID0ge307XHJcblxyXG5cdFx0dmFyIHJlc3VsdCA9IHt9LFxyXG5cdFx0XHRjdXJyTm9kZSA9IHJvb3ROb2RlLmZpcnN0Q2hpbGQsXHJcblx0XHRcdG5hbWUsIG5hbWVOb3JtYWxpemVkLFxyXG5cdFx0XHRzdWJGaWVsZE5hbWUsXHJcblx0XHRcdGksIGosIGwsXHJcblx0XHRcdG9wdGlvbnM7XHJcblxyXG5cdFx0d2hpbGUgKGN1cnJOb2RlKVxyXG5cdFx0e1xyXG5cdFx0XHRuYW1lID0gJyc7XHJcblxyXG5cdFx0XHRpZiAoY3Vyck5vZGUubmFtZSAmJiBjdXJyTm9kZS5uYW1lICE9ICcnKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZSA9IGN1cnJOb2RlLm5hbWU7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAodXNlSWRJZkVtcHR5TmFtZSAmJiBjdXJyTm9kZS5pZCAmJiBjdXJyTm9kZS5pZCAhPSAnJylcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWUgPSBjdXJyTm9kZS5pZDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKG5hbWUgPT0gJycpXHJcblx0XHRcdHtcclxuXHRcdFx0XHR2YXIgc3ViRmllbGRzID0gZ2V0RmllbGRzKGN1cnJOb2RlLCB1c2VJZElmRW1wdHlOYW1lLCBkZWxpbWl0ZXIsIGFycmF5SW5kZXhlcywgc2hvdWxkQ2xlYW4pO1xyXG5cdFx0XHRcdGZvciAoc3ViRmllbGROYW1lIGluIHN1YkZpZWxkcylcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRpZiAodHlwZW9mIHJlc3VsdFtzdWJGaWVsZE5hbWVdID09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRyZXN1bHRbc3ViRmllbGROYW1lXSA9IHN1YkZpZWxkc1tzdWJGaWVsZE5hbWVdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgc3ViRmllbGRzW3N1YkZpZWxkTmFtZV0ubGVuZ3RoOyBpKyspXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bHRbc3ViRmllbGROYW1lXS5wdXNoKHN1YkZpZWxkc1tzdWJGaWVsZE5hbWVdW2ldKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpZiAoL1NFTEVDVC9pLnRlc3QoY3Vyck5vZGUubm9kZU5hbWUpKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGZvcihqID0gMCwgb3B0aW9ucyA9IGN1cnJOb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdvcHRpb24nKSwgbCA9IG9wdGlvbnMubGVuZ3RoOyBqIDwgbDsgaisrKVxyXG5cdFx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0XHRpZiAoc2hvdWxkQ2xlYW4pXHJcblx0XHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0XHRvcHRpb25zW2pdLnNlbGVjdGVkID0gZmFsc2U7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdG5hbWVOb3JtYWxpemVkID0gbm9ybWFsaXplTmFtZShuYW1lLCBkZWxpbWl0ZXIsIGFycmF5SW5kZXhlcyk7XHJcblx0XHRcdFx0XHRcdHJlc3VsdFtuYW1lTm9ybWFsaXplZF0gPSBjdXJyTm9kZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0ZWxzZSBpZiAoL0lOUFVUL2kudGVzdChjdXJyTm9kZS5ub2RlTmFtZSkgJiYgL0NIRUNLQk9YfFJBRElPL2kudGVzdChjdXJyTm9kZS50eXBlKSlcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRpZihzaG91bGRDbGVhbilcclxuXHRcdFx0XHRcdHtcclxuXHRcdFx0XHRcdFx0Y3Vyck5vZGUuY2hlY2tlZCA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG5hbWVOb3JtYWxpemVkID0gbm9ybWFsaXplTmFtZShuYW1lLCBkZWxpbWl0ZXIsIGFycmF5SW5kZXhlcyk7XHJcblx0XHRcdFx0XHRuYW1lTm9ybWFsaXplZCA9IG5hbWVOb3JtYWxpemVkLnJlcGxhY2UoX2FycmF5SXRlbVJlZ2V4cCwgJ1tdJyk7XHJcblx0XHRcdFx0XHRpZiAoIXJlc3VsdFtuYW1lTm9ybWFsaXplZF0pIHJlc3VsdFtuYW1lTm9ybWFsaXplZF0gPSBbXTtcclxuXHRcdFx0XHRcdHJlc3VsdFtuYW1lTm9ybWFsaXplZF0ucHVzaChjdXJyTm9kZSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRpZiAoc2hvdWxkQ2xlYW4pXHJcblx0XHRcdFx0XHR7XHJcblx0XHRcdFx0XHRcdGN1cnJOb2RlLnZhbHVlID0gJyc7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0bmFtZU5vcm1hbGl6ZWQgPSBub3JtYWxpemVOYW1lKG5hbWUsIGRlbGltaXRlciwgYXJyYXlJbmRleGVzKTtcclxuXHRcdFx0XHRcdHJlc3VsdFtuYW1lTm9ybWFsaXplZF0gPSBjdXJyTm9kZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGN1cnJOb2RlID0gY3Vyck5vZGUubmV4dFNpYmxpbmc7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJlc3VsdDtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIE5vcm1hbGl6ZXMgbmFtZXMgb2YgYXJyYXlzLCBwdXRzIGNvcnJlY3QgaW5kZXhlcyAoY29uc2VjdXRpdmUgYW5kIG9yZGVyZWQgYnkgZWxlbWVudCBhcHBlYXJhbmNlIGluIEhUTUwpXHJcblx0ICogQHBhcmFtIG5hbWVcclxuXHQgKiBAcGFyYW0gZGVsaW1pdGVyXHJcblx0ICogQHBhcmFtIGFycmF5SW5kZXhlc1xyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWUobmFtZSwgZGVsaW1pdGVyLCBhcnJheUluZGV4ZXMpXHJcblx0e1xyXG5cdFx0dmFyIG5hbWVDaHVua3NOb3JtYWxpemVkID0gW10sXHJcblx0XHRcdFx0bmFtZUNodW5rcyA9IG5hbWUuc3BsaXQoZGVsaW1pdGVyKSxcclxuXHRcdFx0XHRjdXJyQ2h1bmssXHJcblx0XHRcdFx0bmFtZU1hdGNoZXMsXHJcblx0XHRcdFx0bmFtZU5vcm1hbGl6ZWQsXHJcblx0XHRcdFx0Y3VyckluZGV4LFxyXG5cdFx0XHRcdG5ld0luZGV4LFxyXG5cdFx0XHRcdGk7XHJcblxyXG5cdFx0bmFtZSA9IG5hbWUucmVwbGFjZShfYXJyYXlPZkFycmF5c1JlZ2V4cCwgJ1skMV0uWyQyXScpO1xyXG5cdFx0Zm9yIChpID0gMDsgaSA8IG5hbWVDaHVua3MubGVuZ3RoOyBpKyspXHJcblx0XHR7XHJcblx0XHRcdGN1cnJDaHVuayA9IG5hbWVDaHVua3NbaV07XHJcblx0XHRcdG5hbWVDaHVua3NOb3JtYWxpemVkLnB1c2goY3VyckNodW5rKTtcclxuXHRcdFx0bmFtZU1hdGNoZXMgPSBjdXJyQ2h1bmsubWF0Y2goX2xhc3RJbmRleGVkQXJyYXlSZWdleHApO1xyXG5cdFx0XHRpZiAobmFtZU1hdGNoZXMgIT0gbnVsbClcclxuXHRcdFx0e1xyXG5cdFx0XHRcdG5hbWVOb3JtYWxpemVkID0gbmFtZUNodW5rc05vcm1hbGl6ZWQuam9pbihkZWxpbWl0ZXIpO1xyXG5cdFx0XHRcdGN1cnJJbmRleCA9IG5hbWVOb3JtYWxpemVkLnJlcGxhY2UoX2xhc3RJbmRleGVkQXJyYXlSZWdleHAsICckMycpO1xyXG5cdFx0XHRcdG5hbWVOb3JtYWxpemVkID0gbmFtZU5vcm1hbGl6ZWQucmVwbGFjZShfbGFzdEluZGV4ZWRBcnJheVJlZ2V4cCwgJyQxJyk7XHJcblxyXG5cdFx0XHRcdGlmICh0eXBlb2YgKGFycmF5SW5kZXhlc1tuYW1lTm9ybWFsaXplZF0pID09ICd1bmRlZmluZWQnKVxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGFycmF5SW5kZXhlc1tuYW1lTm9ybWFsaXplZF0gPSB7XHJcblx0XHRcdFx0XHRcdGxhc3RJbmRleDogLTEsXHJcblx0XHRcdFx0XHRcdGluZGV4ZXM6IHt9XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKGN1cnJJbmRleCA9PSAnJyB8fCB0eXBlb2YgYXJyYXlJbmRleGVzW25hbWVOb3JtYWxpemVkXS5pbmRleGVzW2N1cnJJbmRleF0gPT0gJ3VuZGVmaW5lZCcpXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0YXJyYXlJbmRleGVzW25hbWVOb3JtYWxpemVkXS5sYXN0SW5kZXgrKztcclxuXHRcdFx0XHRcdGFycmF5SW5kZXhlc1tuYW1lTm9ybWFsaXplZF0uaW5kZXhlc1tjdXJySW5kZXhdID0gYXJyYXlJbmRleGVzW25hbWVOb3JtYWxpemVkXS5sYXN0SW5kZXg7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRuZXdJbmRleCA9IGFycmF5SW5kZXhlc1tuYW1lTm9ybWFsaXplZF0uaW5kZXhlc1tjdXJySW5kZXhdO1xyXG5cdFx0XHRcdG5hbWVDaHVua3NOb3JtYWxpemVkW25hbWVDaHVua3NOb3JtYWxpemVkLmxlbmd0aCAtIDFdID0gY3VyckNodW5rLnJlcGxhY2UoX2xhc3RJbmRleGVkQXJyYXlSZWdleHAsICckMSQyJyArIG5ld0luZGV4ICsgJyQ0Jyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRuYW1lTm9ybWFsaXplZCA9IG5hbWVDaHVua3NOb3JtYWxpemVkLmpvaW4oZGVsaW1pdGVyKTtcclxuXHRcdG5hbWVOb3JtYWxpemVkID0gbmFtZU5vcm1hbGl6ZWQucmVwbGFjZSgnXS5bJywgJ11bJyk7XHJcblx0XHRyZXR1cm4gbmFtZU5vcm1hbGl6ZWQ7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBvYmplY3QyYXJyYXkob2JqLCBsdmwpXHJcblx0e1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdLCBpLCBuYW1lO1xyXG5cclxuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIGx2bCA9IDA7XHJcblxyXG4gICAgICAgIGlmIChvYmogPT0gbnVsbClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IFt7IG5hbWU6IFwiXCIsIHZhbHVlOiBudWxsIH1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygb2JqID09ICdzdHJpbmcnIHx8IHR5cGVvZiBvYmogPT0gJ251bWJlcicgfHwgdHlwZW9mIG9iaiA9PSAnZGF0ZScgfHwgdHlwZW9mIG9iaiA9PSAnYm9vbGVhbicpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBbXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IFwiXCIsIHZhbHVlIDogb2JqIH1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gXCJbXCIgKyBpICsgXCJdXCI7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGdldFN1YlZhbHVlcyhvYmpbaV0sIG5hbWUsIGx2bCArIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGkgaW4gb2JqKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gaTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoZ2V0U3ViVmFsdWVzKG9ialtpXSwgbmFtZSwgbHZsICsgMSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG5cdGZ1bmN0aW9uIGdldFN1YlZhbHVlcyhzdWJPYmosIG5hbWUsIGx2bClcclxuXHR7XHJcblx0XHR2YXIgaXRlbU5hbWU7XHJcblx0XHR2YXIgcmVzdWx0ID0gW10sIHRlbXBSZXN1bHQgPSBvYmplY3QyYXJyYXkoc3ViT2JqLCBsdmwgKyAxKSwgaSwgdGVtcEl0ZW07XHJcblxyXG5cdFx0Zm9yIChpID0gMDsgaSA8IHRlbXBSZXN1bHQubGVuZ3RoOyBpKyspXHJcblx0XHR7XHJcblx0XHRcdGl0ZW1OYW1lID0gbmFtZTtcclxuXHRcdFx0aWYgKF9zdWJBcnJheVJlZ2V4cC50ZXN0KHRlbXBSZXN1bHRbaV0ubmFtZSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpdGVtTmFtZSArPSB0ZW1wUmVzdWx0W2ldLm5hbWU7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSBpZiAoX3N1Yk9iamVjdFJlZ2V4cC50ZXN0KHRlbXBSZXN1bHRbaV0ubmFtZSkpXHJcblx0XHRcdHtcclxuXHRcdFx0XHRpdGVtTmFtZSArPSAnLicgKyB0ZW1wUmVzdWx0W2ldLm5hbWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRlbXBJdGVtID0geyBuYW1lOiBpdGVtTmFtZSwgdmFsdWU6IHRlbXBSZXN1bHRbaV0udmFsdWUgfTtcclxuXHRcdFx0cmVzdWx0LnB1c2godGVtcEl0ZW0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4ganMyZm9ybTtcclxuXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgTWF4aW0gVmFzaWxpZXZcclxuICpcclxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXHJcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcclxuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxyXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcclxuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcclxuICpcclxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cclxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcbiAqXHJcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiAqIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuICogVEhFIFNPRlRXQVJFLlxyXG4gKlxyXG4gKiBAYXV0aG9yIE1heGltIFZhc2lsaWV2XHJcbiAqIERhdGU6IDI5LjA2LjExXHJcbiAqIFRpbWU6IDIwOjA5XHJcbiAqL1xyXG5cclxuKGZ1bmN0aW9uKCQpe1xyXG5cclxuXHQvKipcclxuXHQgKiBqUXVlcnkgd3JhcHBlciBmb3IgZm9ybTJvYmplY3QoKVxyXG5cdCAqIEV4dHJhY3RzIGRhdGEgZnJvbSBjaGlsZCBpbnB1dHMgaW50byBqYXZhc2NyaXB0IG9iamVjdFxyXG5cdCAqL1xyXG5cdCQuZm4udG9PYmplY3QgPSBmdW5jdGlvbihvcHRpb25zKVxyXG5cdHtcclxuXHRcdHZhciByZXN1bHQgPSBbXSxcclxuXHRcdFx0c2V0dGluZ3MgPSB7XHJcblx0XHRcdFx0bW9kZTogJ2ZpcnN0JywgLy8gd2hhdCB0byBjb252ZXJ0OiAnYWxsJyBvciAnZmlyc3QnIG1hdGNoZWQgbm9kZVxyXG5cdFx0XHRcdGRlbGltaXRlcjogXCIuXCIsXHJcblx0XHRcdFx0c2tpcEVtcHR5OiB0cnVlLFxyXG5cdFx0XHRcdG5vZGVDYWxsYmFjazogbnVsbCxcclxuXHRcdFx0XHR1c2VJZElmRW1wdHlOYW1lOiBmYWxzZVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdGlmIChvcHRpb25zKVxyXG5cdFx0e1xyXG5cdFx0XHQkLmV4dGVuZChzZXR0aW5ncywgb3B0aW9ucyk7XHJcblx0XHR9XHJcblxyXG5cdFx0c3dpdGNoKHNldHRpbmdzLm1vZGUpXHJcblx0XHR7XHJcblx0XHRcdGNhc2UgJ2ZpcnN0JzpcclxuXHRcdFx0XHRyZXR1cm4gZm9ybTJqcyh0aGlzLmdldCgwKSwgc2V0dGluZ3MuZGVsaW1pdGVyLCBzZXR0aW5ncy5za2lwRW1wdHksIHNldHRpbmdzLm5vZGVDYWxsYmFjaywgc2V0dGluZ3MudXNlSWRJZkVtcHR5TmFtZSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ2FsbCc6XHJcblx0XHRcdFx0dGhpcy5lYWNoKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRyZXN1bHQucHVzaChmb3JtMmpzKHRoaXMsIHNldHRpbmdzLmRlbGltaXRlciwgc2V0dGluZ3Muc2tpcEVtcHR5LCBzZXR0aW5ncy5ub2RlQ2FsbGJhY2ssIHNldHRpbmdzLnVzZUlkSWZFbXB0eU5hbWUpKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdjb21iaW5lJzpcclxuXHRcdFx0XHRyZXR1cm4gZm9ybTJqcyhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzKSwgc2V0dGluZ3MuZGVsaW1pdGVyLCBzZXR0aW5ncy5za2lwRW1wdHksIHNldHRpbmdzLm5vZGVDYWxsYmFjaywgc2V0dGluZ3MudXNlSWRJZkVtcHR5TmFtZSk7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxufSkoalF1ZXJ5KTsiLCIvKlxuQ29weXJpZ2h0IChjKSAyMDEwIFJ5YW4gU2NodWZ0IChyeWFuLnNjaHVmdEBnbWFpbC5jb20pXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cbiovXG5cbi8qXG4gIFRoaXMgY29kZSBpcyBiYXNlZCBpbiBwYXJ0IG9uIHRoZSB3b3JrIGRvbmUgaW4gUnVieSB0byBzdXBwb3J0XG4gIGluZmVjdGlvbiBhcyBwYXJ0IG9mIFJ1Ynkgb24gUmFpbHMgaW4gdGhlIEFjdGl2ZVN1cHBvcnQncyBJbmZsZWN0b3JcbiAgYW5kIEluZmxlY3Rpb25zIGNsYXNzZXMuICBJdCB3YXMgaW5pdGFsbHkgcG9ydGVkIHRvIEphdmFzY3JpcHQgYnlcbiAgUnlhbiBTY2h1ZnQgKHJ5YW4uc2NodWZ0QGdtYWlsLmNvbSkgaW4gMjAwNy5cblxuICBUaGUgY29kZSBpcyBhdmFpbGFibGUgYXQgaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2luZmxlY3Rpb24tanMvXG5cbiAgVGhlIGJhc2ljIHVzYWdlIGlzOlxuICAgIDEuIEluY2x1ZGUgdGhpcyBzY3JpcHQgb24geW91ciB3ZWIgcGFnZS5cbiAgICAyLiBDYWxsIGZ1bmN0aW9ucyBvbiBhbnkgU3RyaW5nIG9iamVjdCBpbiBKYXZhc2NyaXB0XG5cbiAgQ3VycmVudGx5IGltcGxlbWVudGVkIGZ1bmN0aW9uczpcblxuICAgIFN0cmluZy5wbHVyYWxpemUocGx1cmFsKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgYSBzaW5ndWxhciBFbmdsaXNoIGxhbmd1YWdlIG5vdW4gaW50byBpdHMgcGx1cmFsIGZvcm1cbiAgICAgIG5vcm1hbCByZXN1bHRzIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHBhc3NpbmcgaW4gYW4gYWx0ZXJuYXRpdmVcblxuICAgIFN0cmluZy5zaW5ndWxhcml6ZShzaW5ndWxhcikgPT0gU3RyaW5nXG4gICAgICByZW5kZXJzIGEgcGx1cmFsIEVuZ2xpc2ggbGFuZ3VhZ2Ugbm91biBpbnRvIGl0cyBzaW5ndWxhciBmb3JtXG4gICAgICBub3JtYWwgcmVzdWx0cyBjYW4gYmUgb3ZlcnJpZGRlbiBieSBwYXNzaW5nIGluIGFuIGFsdGVyYXRpdmVcblxuICAgIFN0cmluZy5jYW1lbGl6ZShsb3dGaXJzdExldHRlcikgPT0gU3RyaW5nXG4gICAgICByZW5kZXJzIGEgbG93ZXIgY2FzZSB1bmRlcnNjb3JlZCB3b3JkIGludG8gY2FtZWwgY2FzZVxuICAgICAgdGhlIGZpcnN0IGxldHRlciBvZiB0aGUgcmVzdWx0IHdpbGwgYmUgdXBwZXIgY2FzZSB1bmxlc3MgeW91IHBhc3MgdHJ1ZVxuICAgICAgYWxzbyB0cmFuc2xhdGVzIFwiL1wiIGludG8gXCI6OlwiICh1bmRlcnNjb3JlIGRvZXMgdGhlIG9wcG9zaXRlKVxuXG4gICAgU3RyaW5nLnVuZGVyc2NvcmUoKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgYSBjYW1lbCBjYXNlZCB3b3JkIGludG8gd29yZHMgc2VwZXJhdGVkIGJ5IHVuZGVyc2NvcmVzXG4gICAgICBhbHNvIHRyYW5zbGF0ZXMgXCI6OlwiIGJhY2sgaW50byBcIi9cIiAoY2FtZWxpemUgZG9lcyB0aGUgb3Bwb3NpdGUpXG5cbiAgICBTdHJpbmcuaHVtYW5pemUobG93Rmlyc3RMZXR0ZXIpID09IFN0cmluZ1xuICAgICAgcmVuZGVycyBhIGxvd2VyIGNhc2UgYW5kIHVuZGVyc2NvcmVkIHdvcmQgaW50byBodW1hbiByZWFkYWJsZSBmb3JtXG4gICAgICBkZWZhdWx0cyB0byBtYWtpbmcgdGhlIGZpcnN0IGxldHRlciBjYXBpdGFsaXplZCB1bmxlc3MgeW91IHBhc3MgdHJ1ZVxuXG4gICAgU3RyaW5nLmNhcGl0YWxpemUoKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgYWxsIGNoYXJhY3RlcnMgdG8gbG93ZXIgY2FzZSBhbmQgdGhlbiBtYWtlcyB0aGUgZmlyc3QgdXBwZXJcblxuICAgIFN0cmluZy5kYXNoZXJpemUoKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgYWxsIHVuZGVyYmFycyBhbmQgc3BhY2VzIGFzIGRhc2hlc1xuXG4gICAgU3RyaW5nLnRpdGxlaXplKCkgPT0gU3RyaW5nXG4gICAgICByZW5kZXJzIHdvcmRzIGludG8gdGl0bGUgY2FzaW5nIChhcyBmb3IgYm9vayB0aXRsZXMpXG5cbiAgICBTdHJpbmcuZGVtb2R1bGl6ZSgpID09IFN0cmluZ1xuICAgICAgcmVuZGVycyBjbGFzcyBuYW1lcyB0aGF0IGFyZSBwcmVwZW5kZWQgYnkgbW9kdWxlcyBpbnRvIGp1c3QgdGhlIGNsYXNzXG5cbiAgICBTdHJpbmcudGFibGVpemUoKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgY2FtZWwgY2FzZWQgc2luZ3VsYXIgd29yZHMgaW50byB0aGVpciB1bmRlcnNjb3JlZCBwbHVyYWwgZm9ybVxuXG4gICAgU3RyaW5nLmNsYXNzaWZ5KCkgPT0gU3RyaW5nXG4gICAgICByZW5kZXJzIGFuIHVuZGVyc2NvcmVkIHBsdXJhbCB3b3JkIGludG8gaXRzIGNhbWVsIGNhc2VkIHNpbmd1bGFyIGZvcm1cblxuICAgIFN0cmluZy5mb3JlaWduX2tleShkcm9wSWRVYmFyKSA9PSBTdHJpbmdcbiAgICAgIHJlbmRlcnMgYSBjbGFzcyBuYW1lIChjYW1lbCBjYXNlZCBzaW5ndWxhciBub3VuKSBpbnRvIGEgZm9yZWlnbiBrZXlcbiAgICAgIGRlZmF1bHRzIHRvIHNlcGVyYXRpbmcgdGhlIGNsYXNzIGZyb20gdGhlIGlkIHdpdGggYW4gdW5kZXJiYXIgdW5sZXNzXG4gICAgICB5b3UgcGFzcyB0cnVlXG5cbiAgICBTdHJpbmcub3JkaW5hbGl6ZSgpID09IFN0cmluZ1xuICAgICAgcmVuZGVycyBhbGwgbnVtYmVycyBmb3VuZCBpbiB0aGUgc3RyaW5nIGludG8gdGhlaXIgc2VxdWVuY2UgbGlrZSBcIjIybmRcIlxuKi9cblxuLypcbiAgVGhpcyBzZXRzIHVwIGEgY29udGFpbmVyIGZvciBzb21lIGNvbnN0YW50cyBpbiBpdHMgb3duIG5hbWVzcGFjZVxuICBXZSB1c2UgdGhlIHdpbmRvdyAoaWYgYXZhaWxhYmxlKSB0byBlbmFibGUgZHluYW1pYyBsb2FkaW5nIG9mIHRoaXMgc2NyaXB0XG4gIFdpbmRvdyB3b24ndCBuZWNlc3NhcmlseSBleGlzdCBmb3Igbm9uLWJyb3dzZXJzLlxuKi9cbmlmICh3aW5kb3cgJiYgIXdpbmRvdy5JbmZsZWN0aW9uSlMpXG57XG4gICAgd2luZG93LkluZmxlY3Rpb25KUyA9IG51bGw7XG59XG5cbi8qXG4gIFRoaXMgc2V0cyB1cCBzb21lIGNvbnN0YW50cyBmb3IgbGF0ZXIgdXNlXG4gIFRoaXMgc2hvdWxkIHVzZSB0aGUgd2luZG93IG5hbWVzcGFjZSB2YXJpYWJsZSBpZiBhdmFpbGFibGVcbiovXG5JbmZsZWN0aW9uSlMgPVxue1xuICAgIC8qXG4gICAgICBUaGlzIGlzIGEgbGlzdCBvZiBub3VucyB0aGF0IHVzZSB0aGUgc2FtZSBmb3JtIGZvciBib3RoIHNpbmd1bGFyIGFuZCBwbHVyYWwuXG4gICAgICBUaGlzIGxpc3Qgc2hvdWxkIHJlbWFpbiBlbnRpcmVseSBpbiBsb3dlciBjYXNlIHRvIGNvcnJlY3RseSBtYXRjaCBTdHJpbmdzLlxuICAgICovXG4gICAgdW5jb3VudGFibGVfd29yZHM6IFtcbiAgICAgICAgJ2VxdWlwbWVudCcsICdpbmZvcm1hdGlvbicsICdyaWNlJywgJ21vbmV5JywgJ3NwZWNpZXMnLCAnc2VyaWVzJyxcbiAgICAgICAgJ2Zpc2gnLCAnc2hlZXAnLCAnbW9vc2UnLCAnZGVlcicsICduZXdzJ1xuICAgIF0sXG5cbiAgICAvKlxuICAgICAgVGhlc2UgcnVsZXMgdHJhbnNsYXRlIGZyb20gdGhlIHNpbmd1bGFyIGZvcm0gb2YgYSBub3VuIHRvIGl0cyBwbHVyYWwgZm9ybS5cbiAgICAqL1xuICAgIHBsdXJhbF9ydWxlczogW1xuICAgICAgICBbbmV3IFJlZ0V4cCgnKG0pYW4kJywgJ2dpJyksICAgICAgICAgICAgICAgICAnJDFlbiddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKHBlKXJzb24kJywgJ2dpJyksICAgICAgICAgICAgICAnJDFvcGxlJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoY2hpbGQpJCcsICdnaScpLCAgICAgICAgICAgICAgICckMXJlbiddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnXihveCkkJywgJ2dpJyksICAgICAgICAgICAgICAgICAnJDFlbiddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKGF4fHRlc3QpaXMkJywgJ2dpJyksICAgICAgICAgICAnJDFlcyddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKG9jdG9wfHZpcil1cyQnLCAnZ2knKSwgICAgICAgICAnJDFpJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoYWxpYXN8c3RhdHVzKSQnLCAnZ2knKSwgICAgICAgICckMWVzJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoYnUpcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICckMXNlcyddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKGJ1ZmZhbHx0b21hdHxwb3RhdClvJCcsICdnaScpLCAnJDFvZXMnXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhbdGldKXVtJCcsICdnaScpLCAgICAgICAgICAgICAgJyQxYSddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnc2lzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAnc2VzJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoPzooW15mXSlmZXwoW2xyXSlmKSQnLCAnZ2knKSwgICckMSQydmVzJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoaGl2ZSkkJywgJ2dpJyksICAgICAgICAgICAgICAgICckMXMnXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhbXmFlaW91eV18cXUpeSQnLCAnZ2knKSwgICAgICAgJyQxaWVzJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoeHxjaHxzc3xzaCkkJywgJ2dpJyksICAgICAgICAgICckMWVzJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcobWF0cnx2ZXJ0fGluZClpeHxleCQnLCAnZ2knKSwgICckMWljZXMnXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhbbXxsXSlvdXNlJCcsICdnaScpLCAgICAgICAgICAgJyQxaWNlJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcocXVpeikkJywgJ2dpJyksICAgICAgICAgICAgICAgICckMXplcyddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgncyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAncyddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAncyddXG4gICAgXSxcblxuICAgIC8qXG4gICAgICBUaGVzZSBydWxlcyB0cmFuc2xhdGUgZnJvbSB0aGUgcGx1cmFsIGZvcm0gb2YgYSBub3VuIHRvIGl0cyBzaW5ndWxhciBmb3JtLlxuICAgICovXG4gICAgc2luZ3VsYXJfcnVsZXM6IFtcbiAgICAgICAgW25ldyBSZWdFeHAoJyhtKWVuJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFhbiddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKHBlKW9wbGUkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMXJzb24nXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhjaGlsZClyZW4kJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhbdGldKWEkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDF1bSddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKChhKW5hbHl8KGIpYXwoZClpYWdub3wocClhcmVudGhlfChwKXJvZ25vfChzKXlub3B8KHQpaGUpc2VzJCcsJ2dpJyksICckMSQyc2lzJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoaGl2ZSlzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcodGl2ZSlzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoY3VydmUpcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoW2xyXSl2ZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxZiddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKFteZm9dKXZlcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMWZlJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoW15hZWlvdXldfHF1KWllcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxeSddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKHMpZXJpZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMWVyaWVzJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcobSlvdmllcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxb3ZpZSddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKHh8Y2h8c3N8c2gpZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKFttfGxdKWljZSQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMW91c2UnXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhidXMpZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhvKWVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhzaG9lKXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhjcmlzfGF4fHRlc3QpZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFpcyddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKG9jdG9wfHZpcilpJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMXVzJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcoYWxpYXN8c3RhdHVzKWVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCdeKG94KWVuJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sXG4gICAgICAgIFtuZXcgUmVnRXhwKCcodmVydHxpbmQpaWNlcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxZXgnXSxcbiAgICAgICAgW25ldyBSZWdFeHAoJyhtYXRyKWljZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFpeCddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgnKHF1aXopemVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLFxuICAgICAgICBbbmV3IFJlZ0V4cCgncyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnXVxuICAgIF0sXG5cbiAgICAvKlxuICAgICAgVGhpcyBpcyBhIGxpc3Qgb2Ygd29yZHMgdGhhdCBzaG91bGQgbm90IGJlIGNhcGl0YWxpemVkIGZvciB0aXRsZSBjYXNlXG4gICAgKi9cbiAgICBub25fdGl0bGVjYXNlZF93b3JkczogW1xuICAgICAgICAnYW5kJywgJ29yJywgJ25vcicsICdhJywgJ2FuJywgJ3RoZScsICdzbycsICdidXQnLCAndG8nLCAnb2YnLCAnYXQnLFxuICAgICAgICAnYnknLCAnZnJvbScsICdpbnRvJywgJ29uJywgJ29udG8nLCAnb2ZmJywgJ291dCcsICdpbicsICdvdmVyJyxcbiAgICAgICAgJ3dpdGgnLCAnZm9yJ1xuICAgIF0sXG5cbiAgICAvKlxuICAgICAgVGhlc2UgYXJlIHJlZ3VsYXIgZXhwcmVzc2lvbnMgdXNlZCBmb3IgY29udmVydGluZyBiZXR3ZWVuIFN0cmluZyBmb3JtYXRzXG4gICAgKi9cbiAgICBpZF9zdWZmaXg6IG5ldyBSZWdFeHAoJyhfaWRzfF9pZCkkJywgJ2cnKSxcbiAgICB1bmRlcmJhcjogbmV3IFJlZ0V4cCgnXycsICdnJyksXG4gICAgc3BhY2Vfb3JfdW5kZXJiYXI6IG5ldyBSZWdFeHAoJ1tcXCBfXScsICdnJyksXG4gICAgdXBwZXJjYXNlOiBuZXcgUmVnRXhwKCcoW0EtWl0pJywgJ2cnKSxcbiAgICB1bmRlcmJhcl9wcmVmaXg6IG5ldyBSZWdFeHAoJ15fJyksXG4gICAgXG4gICAgLypcbiAgICAgIFRoaXMgaXMgYSBoZWxwZXIgbWV0aG9kIHRoYXQgYXBwbGllcyBydWxlcyBiYXNlZCByZXBsYWNlbWVudCB0byBhIFN0cmluZ1xuICAgICAgU2lnbmF0dXJlOlxuICAgICAgICBJbmZsZWN0aW9uSlMuYXBwbHlfcnVsZXMoc3RyLCBydWxlcywgc2tpcCwgb3ZlcnJpZGUpID09IFN0cmluZ1xuICAgICAgQXJndW1lbnRzOlxuICAgICAgICBzdHIgLSBTdHJpbmcgLSBTdHJpbmcgdG8gbW9kaWZ5IGFuZCByZXR1cm4gYmFzZWQgb24gdGhlIHBhc3NlZCBydWxlc1xuICAgICAgICBydWxlcyAtIEFycmF5OiBbUmVnRXhwLCBTdHJpbmddIC0gUmVnZXhwIHRvIG1hdGNoIHBhaXJlZCB3aXRoIFN0cmluZyB0byB1c2UgZm9yIHJlcGxhY2VtZW50XG4gICAgICAgIHNraXAgLSBBcnJheTogW1N0cmluZ10gLSBTdHJpbmdzIHRvIHNraXAgaWYgdGhleSBtYXRjaFxuICAgICAgICBvdmVycmlkZSAtIFN0cmluZyAob3B0aW9uYWwpIC0gU3RyaW5nIHRvIHJldHVybiBhcyB0aG91Z2ggdGhpcyBtZXRob2Qgc3VjY2VlZGVkICh1c2VkIHRvIGNvbmZvcm0gdG8gQVBJcylcbiAgICAgIFJldHVybnM6XG4gICAgICAgIFN0cmluZyAtIHBhc3NlZCBTdHJpbmcgbW9kaWZpZWQgYnkgcGFzc2VkIHJ1bGVzXG4gICAgICBFeGFtcGxlczpcbiAgICAgICAgSW5mbGVjdGlvbkpTLmFwcGx5X3J1bGVzKFwiY293c1wiLCBJbmZsZWN0aW9uSnMuc2luZ3VsYXJfcnVsZXMpID09PSAnY293J1xuICAgICovXG4gICAgYXBwbHlfcnVsZXM6IGZ1bmN0aW9uKHN0ciwgcnVsZXMsIHNraXAsIG92ZXJyaWRlKVxuICAgIHtcbiAgICAgICAgaWYgKG92ZXJyaWRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdHIgPSBvdmVycmlkZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpZ25vcmUgPSAoc2tpcC5pbmRleE9mKHN0ci50b0xvd2VyQ2FzZSgpKSA+IC0xKTtcbiAgICAgICAgICAgIGlmICghaWdub3JlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcnVsZXMubGVuZ3RoOyB4KyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RyLm1hdGNoKHJ1bGVzW3hdWzBdKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocnVsZXNbeF1bMF0sIHJ1bGVzW3hdWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxufTtcblxuLypcbiAgVGhpcyBsZXRzIHVzIGRldGVjdCBpZiBhbiBBcnJheSBjb250YWlucyBhIGdpdmVuIGVsZW1lbnRcbiAgU2lnbmF0dXJlOlxuICAgIEFycmF5LmluZGV4T2YoaXRlbSwgZnJvbUluZGV4LCBjb21wYXJlRnVuYykgPT0gSW50ZWdlclxuICBBcmd1bWVudHM6XG4gICAgaXRlbSAtIE9iamVjdCAtIG9iamVjdCB0byBsb2NhdGUgaW4gdGhlIEFycmF5XG4gICAgZnJvbUluZGV4IC0gSW50ZWdlciAob3B0aW9uYWwpIC0gc3RhcnRzIGNoZWNraW5nIGZyb20gdGhpcyBwb3NpdGlvbiBpbiB0aGUgQXJyYXlcbiAgICBjb21wYXJlRnVuYyAtIEZ1bmN0aW9uIChvcHRpb25hbCkgLSBmdW5jdGlvbiB1c2VkIHRvIGNvbXBhcmUgQXJyYXkgaXRlbSB2cyBwYXNzZWQgaXRlbVxuICBSZXR1cm5zOlxuICAgIEludGVnZXIgLSBpbmRleCBwb3NpdGlvbiBpbiB0aGUgQXJyYXkgb2YgdGhlIHBhc3NlZCBpdGVtXG4gIEV4YW1wbGVzOlxuICAgIFsnaGknLCd0aGVyZSddLmluZGV4T2YoXCJndXlzXCIpID09PSAtMVxuICAgIFsnaGknLCd0aGVyZSddLmluZGV4T2YoXCJoaVwiKSA9PT0gMFxuKi9cbmlmICghQXJyYXkucHJvdG90eXBlLmluZGV4T2YpXG57XG4gICAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihpdGVtLCBmcm9tSW5kZXgsIGNvbXBhcmVGdW5jKVxuICAgIHtcbiAgICAgICAgaWYgKCFmcm9tSW5kZXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZyb21JbmRleCA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICBmb3IgKHZhciBpID0gZnJvbUluZGV4OyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IGl0ZW0gfHwgY29tcGFyZUZ1bmMgJiYgY29tcGFyZUZ1bmModGhpc1tpXSwgaXRlbSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xufVxuXG4vKlxuICBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbGlzdCBmb3IgYWxsIFN0cmluZ3Mgb3IganVzdCBvbmUgZGVwZW5kaW5nIG9uIGlmIHlvdVxuICBzZXQgdGhlIG5ldyB2YWx1ZXMgb24gcHJvdG90eXBlIG9yIG9uIGEgZ2l2ZW4gU3RyaW5nIGluc3RhbmNlLlxuKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS5fdW5jb3VudGFibGVfd29yZHMpXG57XG4gICAgU3RyaW5nLnByb3RvdHlwZS5fdW5jb3VudGFibGVfd29yZHMgPSBJbmZsZWN0aW9uSlMudW5jb3VudGFibGVfd29yZHM7XG59XG5cbi8qXG4gIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBsaXN0IGZvciBhbGwgU3RyaW5ncyBvciBqdXN0IG9uZSBkZXBlbmRpbmcgb24gaWYgeW91XG4gIHNldCB0aGUgbmV3IHZhbHVlcyBvbiBwcm90b3R5cGUgb3Igb24gYSBnaXZlbiBTdHJpbmcgaW5zdGFuY2UuXG4qL1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLl9wbHVyYWxfcnVsZXMpXG57XG4gICAgU3RyaW5nLnByb3RvdHlwZS5fcGx1cmFsX3J1bGVzID0gSW5mbGVjdGlvbkpTLnBsdXJhbF9ydWxlcztcbn1cblxuLypcbiAgWW91IGNhbiBvdmVycmlkZSB0aGlzIGxpc3QgZm9yIGFsbCBTdHJpbmdzIG9yIGp1c3Qgb25lIGRlcGVuZGluZyBvbiBpZiB5b3VcbiAgc2V0IHRoZSBuZXcgdmFsdWVzIG9uIHByb3RvdHlwZSBvciBvbiBhIGdpdmVuIFN0cmluZyBpbnN0YW5jZS5cbiovXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuX3Npbmd1bGFyX3J1bGVzKVxue1xuICAgIFN0cmluZy5wcm90b3R5cGUuX3Npbmd1bGFyX3J1bGVzID0gSW5mbGVjdGlvbkpTLnNpbmd1bGFyX3J1bGVzO1xufVxuXG4vKlxuICBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbGlzdCBmb3IgYWxsIFN0cmluZ3Mgb3IganVzdCBvbmUgZGVwZW5kaW5nIG9uIGlmIHlvdVxuICBzZXQgdGhlIG5ldyB2YWx1ZXMgb24gcHJvdG90eXBlIG9yIG9uIGEgZ2l2ZW4gU3RyaW5nIGluc3RhbmNlLlxuKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS5fbm9uX3RpdGxlY2FzZWRfd29yZHMpXG57XG4gICAgU3RyaW5nLnByb3RvdHlwZS5fbm9uX3RpdGxlY2FzZWRfd29yZHMgPSBJbmZsZWN0aW9uSlMubm9uX3RpdGxlY2FzZWRfd29yZHM7XG59XG5cbi8qXG4gIFRoaXMgZnVuY3Rpb24gYWRkcyBwbHVyaWxpemF0aW9uIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdFxuICAgIFNpZ25hdHVyZTpcbiAgICAgIFN0cmluZy5wbHVyYWxpemUocGx1cmFsKSA9PSBTdHJpbmdcbiAgICBBcmd1bWVudHM6XG4gICAgICBwbHVyYWwgLSBTdHJpbmcgKG9wdGlvbmFsKSAtIG92ZXJyaWRlcyBub3JtYWwgb3V0cHV0IHdpdGggc2FpZCBTdHJpbmdcbiAgICBSZXR1cm5zOlxuICAgICAgU3RyaW5nIC0gc2luZ3VsYXIgRW5nbGlzaCBsYW5ndWFnZSBub3VucyBhcmUgcmV0dXJuZWQgaW4gcGx1cmFsIGZvcm1cbiAgICBFeGFtcGxlczpcbiAgICAgIFwicGVyc29uXCIucGx1cmFsaXplKCkgPT0gXCJwZW9wbGVcIlxuICAgICAgXCJvY3RvcHVzXCIucGx1cmFsaXplKCkgPT0gXCJvY3RvcGlcIlxuICAgICAgXCJIYXRcIi5wbHVyYWxpemUoKSA9PSBcIkhhdHNcIlxuICAgICAgXCJwZXJzb25cIi5wbHVyYWxpemUoXCJndXlzXCIpID09IFwiZ3V5c1wiXG4qL1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLnBsdXJhbGl6ZSlcbntcbiAgICBTdHJpbmcucHJvdG90eXBlLnBsdXJhbGl6ZSA9IGZ1bmN0aW9uKHBsdXJhbClcbiAgICB7XG4gICAgICAgIHJldHVybiBJbmZsZWN0aW9uSlMuYXBwbHlfcnVsZXMoXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy5fcGx1cmFsX3J1bGVzLFxuICAgICAgICAgICAgdGhpcy5fdW5jb3VudGFibGVfd29yZHMsXG4gICAgICAgICAgICBwbHVyYWxcbiAgICAgICAgKTtcbiAgICB9O1xufVxuXG4vKlxuICBUaGlzIGZ1bmN0aW9uIGFkZHMgc2luZ3VsYXJpemF0aW9uIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdFxuICAgIFNpZ25hdHVyZTpcbiAgICAgIFN0cmluZy5zaW5ndWxhcml6ZShzaW5ndWxhcikgPT0gU3RyaW5nXG4gICAgQXJndW1lbnRzOlxuICAgICAgc2luZ3VsYXIgLSBTdHJpbmcgKG9wdGlvbmFsKSAtIG92ZXJyaWRlcyBub3JtYWwgb3V0cHV0IHdpdGggc2FpZCBTdHJpbmdcbiAgICBSZXR1cm5zOlxuICAgICAgU3RyaW5nIC0gcGx1cmFsIEVuZ2xpc2ggbGFuZ3VhZ2Ugbm91bnMgYXJlIHJldHVybmVkIGluIHNpbmd1bGFyIGZvcm1cbiAgICBFeGFtcGxlczpcbiAgICAgIFwicGVvcGxlXCIuc2luZ3VsYXJpemUoKSA9PSBcInBlcnNvblwiXG4gICAgICBcIm9jdG9waVwiLnNpbmd1bGFyaXplKCkgPT0gXCJvY3RvcHVzXCJcbiAgICAgIFwiSGF0c1wiLnNpbmd1bGFyaXplKCkgPT0gXCJIYXRcIlxuICAgICAgXCJndXlzXCIuc2luZ3VsYXJpemUoXCJwZXJzb25cIikgPT0gXCJwZXJzb25cIlxuKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS5zaW5ndWxhcml6ZSlcbntcbiAgICBTdHJpbmcucHJvdG90eXBlLnNpbmd1bGFyaXplID0gZnVuY3Rpb24oc2luZ3VsYXIpXG4gICAge1xuICAgICAgICByZXR1cm4gSW5mbGVjdGlvbkpTLmFwcGx5X3J1bGVzKFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIHRoaXMuX3Npbmd1bGFyX3J1bGVzLFxuICAgICAgICAgICAgdGhpcy5fdW5jb3VudGFibGVfd29yZHMsXG4gICAgICAgICAgICBzaW5ndWxhclxuICAgICAgICApO1xuICAgIH07XG59XG5cbi8qXG4gIFRoaXMgZnVuY3Rpb24gYWRkcyBjYW1lbGl6YXRpb24gc3VwcG9ydCB0byBldmVyeSBTdHJpbmcgb2JqZWN0XG4gICAgU2lnbmF0dXJlOlxuICAgICAgU3RyaW5nLmNhbWVsaXplKGxvd0ZpcnN0TGV0dGVyKSA9PSBTdHJpbmdcbiAgICBBcmd1bWVudHM6XG4gICAgICBsb3dGaXJzdExldHRlciAtIGJvb2xlYW4gKG9wdGlvbmFsKSAtIGRlZmF1bHQgaXMgdG8gY2FwaXRhbGl6ZSB0aGUgZmlyc3RcbiAgICAgICAgbGV0dGVyIG9mIHRoZSByZXN1bHRzLi4uIHBhc3NpbmcgdHJ1ZSB3aWxsIGxvd2VyY2FzZSBpdFxuICAgIFJldHVybnM6XG4gICAgICBTdHJpbmcgLSBsb3dlciBjYXNlIHVuZGVyc2NvcmVkIHdvcmRzIHdpbGwgYmUgcmV0dXJuZWQgaW4gY2FtZWwgY2FzZVxuICAgICAgICBhZGRpdGlvbmFsbHkgJy8nIGlzIHRyYW5zbGF0ZWQgdG8gJzo6J1xuICAgIEV4YW1wbGVzOlxuICAgICAgXCJtZXNzYWdlX3Byb3BlcnRpZXNcIi5jYW1lbGl6ZSgpID09IFwiTWVzc2FnZVByb3BlcnRpZXNcIlxuICAgICAgXCJtZXNzYWdlX3Byb3BlcnRpZXNcIi5jYW1lbGl6ZSh0cnVlKSA9PSBcIm1lc3NhZ2VQcm9wZXJ0aWVzXCJcbiovXG5pZiAoIVN0cmluZy5wcm90b3R5cGUuY2FtZWxpemUpXG57XG4gICAgIFN0cmluZy5wcm90b3R5cGUuY2FtZWxpemUgPSBmdW5jdGlvbihsb3dGaXJzdExldHRlcilcbiAgICAge1xuICAgICAgICB2YXIgc3RyID0gdGhpcy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB2YXIgc3RyX3BhdGggPSBzdHIuc3BsaXQoJy8nKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJfcGF0aC5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHN0cl9hcnIgPSBzdHJfcGF0aFtpXS5zcGxpdCgnXycpO1xuICAgICAgICAgICAgdmFyIGluaXRYID0gKChsb3dGaXJzdExldHRlciAmJiBpICsgMSA9PT0gc3RyX3BhdGgubGVuZ3RoKSA/ICgxKSA6ICgwKSk7XG4gICAgICAgICAgICBmb3IgKHZhciB4ID0gaW5pdFg7IHggPCBzdHJfYXJyLmxlbmd0aDsgeCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cl9hcnJbeF0gPSBzdHJfYXJyW3hdLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc3RyX2Fyclt4XS5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJfcGF0aFtpXSA9IHN0cl9hcnIuam9pbignJyk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyID0gc3RyX3BhdGguam9pbignOjonKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xufVxuXG4vKlxuICBUaGlzIGZ1bmN0aW9uIGFkZHMgdW5kZXJzY29yZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3RcbiAgICBTaWduYXR1cmU6XG4gICAgICBTdHJpbmcudW5kZXJzY29yZSgpID09IFN0cmluZ1xuICAgIEFyZ3VtZW50czpcbiAgICAgIE4vQVxuICAgIFJldHVybnM6XG4gICAgICBTdHJpbmcgLSBjYW1lbCBjYXNlZCB3b3JkcyBhcmUgcmV0dXJuZWQgYXMgbG93ZXIgY2FzZWQgYW5kIHVuZGVyc2NvcmVkXG4gICAgICAgIGFkZGl0aW9uYWxseSAnOjonIGlzIHRyYW5zbGF0ZWQgdG8gJy8nXG4gICAgRXhhbXBsZXM6XG4gICAgICBcIk1lc3NhZ2VQcm9wZXJ0aWVzXCIuY2FtZWxpemUoKSA9PSBcIm1lc3NhZ2VfcHJvcGVydGllc1wiXG4gICAgICBcIm1lc3NhZ2VQcm9wZXJ0aWVzXCIudW5kZXJzY29yZSgpID09IFwibWVzc2FnZV9wcm9wZXJ0aWVzXCJcbiovXG5pZiAoIVN0cmluZy5wcm90b3R5cGUudW5kZXJzY29yZSlcbntcbiAgICAgU3RyaW5nLnByb3RvdHlwZS51bmRlcnNjb3JlID0gZnVuY3Rpb24oKVxuICAgICB7XG4gICAgICAgIHZhciBzdHIgPSB0aGlzO1xuICAgICAgICB2YXIgc3RyX3BhdGggPSBzdHIuc3BsaXQoJzo6Jyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyX3BhdGgubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0cl9wYXRoW2ldID0gc3RyX3BhdGhbaV0ucmVwbGFjZShJbmZsZWN0aW9uSlMudXBwZXJjYXNlLCAnXyQxJyk7XG4gICAgICAgICAgICBzdHJfcGF0aFtpXSA9IHN0cl9wYXRoW2ldLnJlcGxhY2UoSW5mbGVjdGlvbkpTLnVuZGVyYmFyX3ByZWZpeCwgJycpO1xuICAgICAgICB9XG4gICAgICAgIHN0ciA9IHN0cl9wYXRoLmpvaW4oJy8nKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG59XG5cbi8qXG4gIFRoaXMgZnVuY3Rpb24gYWRkcyBodW1hbml6ZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3RcbiAgICBTaWduYXR1cmU6XG4gICAgICBTdHJpbmcuaHVtYW5pemUobG93Rmlyc3RMZXR0ZXIpID09IFN0cmluZ1xuICAgIEFyZ3VtZW50czpcbiAgICAgIGxvd0ZpcnN0TGV0dGVyIC0gYm9vbGVhbiAob3B0aW9uYWwpIC0gZGVmYXVsdCBpcyB0byBjYXBpdGFsaXplIHRoZSBmaXJzdFxuICAgICAgICBsZXR0ZXIgb2YgdGhlIHJlc3VsdHMuLi4gcGFzc2luZyB0cnVlIHdpbGwgbG93ZXJjYXNlIGl0XG4gICAgUmV0dXJuczpcbiAgICAgIFN0cmluZyAtIGxvd2VyIGNhc2UgdW5kZXJzY29yZWQgd29yZHMgd2lsbCBiZSByZXR1cm5lZCBpbiBodW1hbml6ZWQgZm9ybVxuICAgIEV4YW1wbGVzOlxuICAgICAgXCJtZXNzYWdlX3Byb3BlcnRpZXNcIi5odW1hbml6ZSgpID09IFwiTWVzc2FnZSBwcm9wZXJ0aWVzXCJcbiAgICAgIFwibWVzc2FnZV9wcm9wZXJ0aWVzXCIuaHVtYW5pemUodHJ1ZSkgPT0gXCJtZXNzYWdlIHByb3BlcnRpZXNcIlxuKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS5odW1hbml6ZSlcbntcbiAgICBTdHJpbmcucHJvdG90eXBlLmh1bWFuaXplID0gZnVuY3Rpb24obG93Rmlyc3RMZXR0ZXIpXG4gICAge1xuICAgICAgICB2YXIgc3RyID0gdGhpcy50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShJbmZsZWN0aW9uSlMuaWRfc3VmZml4LCAnJyk7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKEluZmxlY3Rpb25KUy51bmRlcmJhciwgJyAnKTtcbiAgICAgICAgaWYgKCFsb3dGaXJzdExldHRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgc3RyID0gc3RyLmNhcGl0YWxpemUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG59XG5cbi8qXG4gIFRoaXMgZnVuY3Rpb24gYWRkcyBjYXBpdGFsaXphdGlvbiBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3RcbiAgICBTaWduYXR1cmU6XG4gICAgICBTdHJpbmcuY2FwaXRhbGl6ZSgpID09IFN0cmluZ1xuICAgIEFyZ3VtZW50czpcbiAgICAgIE4vQVxuICAgIFJldHVybnM6XG4gICAgICBTdHJpbmcgLSBhbGwgY2hhcmFjdGVycyB3aWxsIGJlIGxvd2VyIGNhc2UgYW5kIHRoZSBmaXJzdCB3aWxsIGJlIHVwcGVyXG4gICAgRXhhbXBsZXM6XG4gICAgICBcIm1lc3NhZ2VfcHJvcGVydGllc1wiLmNhcGl0YWxpemUoKSA9PSBcIk1lc3NhZ2VfcHJvcGVydGllc1wiXG4gICAgICBcIm1lc3NhZ2UgcHJvcGVydGllc1wiLmNhcGl0YWxpemUoKSA9PSBcIk1lc3NhZ2UgcHJvcGVydGllc1wiXG4qL1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUpXG57XG4gICAgU3RyaW5nLnByb3RvdHlwZS5jYXBpdGFsaXplID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIHN0ciA9IHRoaXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cmluZygxKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xufVxuXG4vKlxuICBUaGlzIGZ1bmN0aW9uIGFkZHMgZGFzaGVyaXphdGlvbiBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3RcbiAgICBTaWduYXR1cmU6XG4gICAgICBTdHJpbmcuZGFzaGVyaXplKCkgPT0gU3RyaW5nXG4gICAgQXJndW1lbnRzOlxuICAgICAgTi9BXG4gICAgUmV0dXJuczpcbiAgICAgIFN0cmluZyAtIHJlcGxhY2VzIGFsbCBzcGFjZXMgb3IgdW5kZXJiYXJzIHdpdGggZGFzaGVzXG4gICAgRXhhbXBsZXM6XG4gICAgICBcIm1lc3NhZ2VfcHJvcGVydGllc1wiLmNhcGl0YWxpemUoKSA9PSBcIm1lc3NhZ2UtcHJvcGVydGllc1wiXG4gICAgICBcIk1lc3NhZ2UgUHJvcGVydGllc1wiLmNhcGl0YWxpemUoKSA9PSBcIk1lc3NhZ2UtUHJvcGVydGllc1wiXG4qL1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLmRhc2hlcml6ZSlcbntcbiAgICBTdHJpbmcucHJvdG90eXBlLmRhc2hlcml6ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBzdHIgPSB0aGlzO1xuICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShJbmZsZWN0aW9uSlMuc3BhY2Vfb3JfdW5kZXJiYXIsICctJyk7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcbn1cblxuLypcbiAgVGhpcyBmdW5jdGlvbiBhZGRzIHRpdGxlaXplIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdFxuICAgIFNpZ25hdHVyZTpcbiAgICAgIFN0cmluZy50aXRsZWl6ZSgpID09IFN0cmluZ1xuICAgIEFyZ3VtZW50czpcbiAgICAgIE4vQVxuICAgIFJldHVybnM6XG4gICAgICBTdHJpbmcgLSBjYXBpdGFsaXplcyB3b3JkcyBhcyB5b3Ugd291bGQgZm9yIGEgYm9vayB0aXRsZVxuICAgIEV4YW1wbGVzOlxuICAgICAgXCJtZXNzYWdlX3Byb3BlcnRpZXNcIi50aXRsZWl6ZSgpID09IFwiTWVzc2FnZSBQcm9wZXJ0aWVzXCJcbiAgICAgIFwibWVzc2FnZSBwcm9wZXJ0aWVzIHRvIGtlZXBcIi50aXRsZWl6ZSgpID09IFwiTWVzc2FnZSBQcm9wZXJ0aWVzIHRvIEtlZXBcIlxuKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS50aXRsZWl6ZSlcbntcbiAgICBTdHJpbmcucHJvdG90eXBlLnRpdGxlaXplID0gZnVuY3Rpb24oKVxuICAgIHtcbiAgICAgICAgdmFyIHN0ciA9IHRoaXMudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoSW5mbGVjdGlvbkpTLnVuZGVyYmFyLCAnICcpO1xuICAgICAgICB2YXIgc3RyX2FyciA9IHN0ci5zcGxpdCgnICcpO1xuICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN0cl9hcnIubGVuZ3RoOyB4KyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkID0gc3RyX2Fyclt4XS5zcGxpdCgnLScpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ub25fdGl0bGVjYXNlZF93b3Jkcy5pbmRleE9mKGRbaV0udG9Mb3dlckNhc2UoKSkgPCAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZFtpXSA9IGRbaV0uY2FwaXRhbGl6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cl9hcnJbeF0gPSBkLmpvaW4oJy0nKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgPSBzdHJfYXJyLmpvaW4oJyAnKTtcbiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cmluZygxKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xufVxuXG4vKlxuICBUaGlzIGZ1bmN0aW9uIGFkZHMgZGVtb2R1bGl6ZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3RcbiAgICBTaWduYXR1cmU6XG4gICAgICBTdHJpbmcuZGVtb2R1bGl6ZSgpID09IFN0cmluZ1xuICAgIEFyZ3VtZW50czpcbiAgICAgIE4vQVxuICAgIFJldHVybnM6XG4gICAgICBTdHJpbmcgLSByZW1vdmVzIG1vZHVsZSBuYW1lcyBsZWF2aW5nIG9ubHkgY2xhc3MgbmFtZXMgKFJ1Ynkgc3R5bGUpXG4gICAgRXhhbXBsZXM6XG4gICAgICBcIk1lc3NhZ2U6OkJ1czo6UHJvcGVydGllc1wiLmRlbW9kdWxpemUoKSA9PSBcIlByb3BlcnRpZXNcIlxuKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS5kZW1vZHVsaXplKVxue1xuICAgIFN0cmluZy5wcm90b3R5cGUuZGVtb2R1bGl6ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBzdHIgPSB0aGlzO1xuICAgICAgICB2YXIgc3RyX2FyciA9IHN0ci5zcGxpdCgnOjonKTtcbiAgICAgICAgc3RyID0gc3RyX2FycltzdHJfYXJyLmxlbmd0aCAtIDFdO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG59XG5cbi8qXG4gIFRoaXMgZnVuY3Rpb24gYWRkcyB0YWJsZWl6ZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3RcbiAgICBTaWduYXR1cmU6XG4gICAgICBTdHJpbmcudGFibGVpemUoKSA9PSBTdHJpbmdcbiAgICBBcmd1bWVudHM6XG4gICAgICBOL0FcbiAgICBSZXR1cm5zOlxuICAgICAgU3RyaW5nIC0gcmVuZGVycyBjYW1lbCBjYXNlZCB3b3JkcyBpbnRvIHRoZWlyIHVuZGVyc2NvcmVkIHBsdXJhbCBmb3JtXG4gICAgRXhhbXBsZXM6XG4gICAgICBcIk1lc3NhZ2VCdXNQcm9wZXJ0eVwiLnRhYmxlaXplKCkgPT0gXCJtZXNzYWdlX2J1c19wcm9wZXJ0aWVzXCJcbiovXG5pZiAoIVN0cmluZy5wcm90b3R5cGUudGFibGVpemUpXG57XG4gICAgU3RyaW5nLnByb3RvdHlwZS50YWJsZWl6ZSA9IGZ1bmN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBzdHIgPSB0aGlzO1xuICAgICAgICBzdHIgPSBzdHIudW5kZXJzY29yZSgpLnBsdXJhbGl6ZSgpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG59XG5cbi8qXG4gIFRoaXMgZnVuY3Rpb24gYWRkcyBjbGFzc2lmaWNhdGlvbiBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3RcbiAgICBTaWduYXR1cmU6XG4gICAgICBTdHJpbmcuY2xhc3NpZnkoKSA9PSBTdHJpbmdcbiAgICBBcmd1bWVudHM6XG4gICAgICBOL0FcbiAgICBSZXR1cm5zOlxuICAgICAgU3RyaW5nIC0gdW5kZXJzY29yZWQgcGx1cmFsIG5vdW5zIGJlY29tZSB0aGUgY2FtZWwgY2FzZWQgc2luZ3VsYXIgZm9ybVxuICAgIEV4YW1wbGVzOlxuICAgICAgXCJtZXNzYWdlX2J1c19wcm9wZXJ0aWVzXCIuY2xhc3NpZnkoKSA9PSBcIk1lc3NhZ2VCdXNQcm9wZXJ0eVwiXG4qL1xuaWYgKCFTdHJpbmcucHJvdG90eXBlLmNsYXNzaWZ5KVxue1xuICAgIFN0cmluZy5wcm90b3R5cGUuY2xhc3NpZnkgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgc3RyID0gdGhpcztcbiAgICAgICAgc3RyID0gc3RyLmNhbWVsaXplKCkuc2luZ3VsYXJpemUoKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xufVxuXG4vKlxuICBUaGlzIGZ1bmN0aW9uIGFkZHMgZm9yZWlnbiBrZXkgc3VwcG9ydCB0byBldmVyeSBTdHJpbmcgb2JqZWN0XG4gICAgU2lnbmF0dXJlOlxuICAgICAgU3RyaW5nLmZvcmVpZ25fa2V5KGRyb3BJZFViYXIpID09IFN0cmluZ1xuICAgIEFyZ3VtZW50czpcbiAgICAgIGRyb3BJZFViYXIgLSBib29sZWFuIChvcHRpb25hbCkgLSBkZWZhdWx0IGlzIHRvIHNlcGVyYXRlIGlkIHdpdGggYW5cbiAgICAgICAgdW5kZXJiYXIgYXQgdGhlIGVuZCBvZiB0aGUgY2xhc3MgbmFtZSwgeW91IGNhbiBwYXNzIHRydWUgdG8gc2tpcCBpdFxuICAgIFJldHVybnM6XG4gICAgICBTdHJpbmcgLSBjYW1lbCBjYXNlZCBzaW5ndWxhciBjbGFzcyBuYW1lcyBiZWNvbWUgdW5kZXJzY29yZWQgd2l0aCBpZFxuICAgIEV4YW1wbGVzOlxuICAgICAgXCJNZXNzYWdlQnVzUHJvcGVydHlcIi5mb3JlaWduX2tleSgpID09IFwibWVzc2FnZV9idXNfcHJvcGVydHlfaWRcIlxuICAgICAgXCJNZXNzYWdlQnVzUHJvcGVydHlcIi5mb3JlaWduX2tleSh0cnVlKSA9PSBcIm1lc3NhZ2VfYnVzX3Byb3BlcnR5aWRcIlxuKi9cbmlmICghU3RyaW5nLnByb3RvdHlwZS5mb3JlaWduX2tleSlcbntcbiAgICBTdHJpbmcucHJvdG90eXBlLmZvcmVpZ25fa2V5ID0gZnVuY3Rpb24oZHJvcElkVWJhcilcbiAgICB7XG4gICAgICAgIHZhciBzdHIgPSB0aGlzO1xuICAgICAgICBzdHIgPSBzdHIuZGVtb2R1bGl6ZSgpLnVuZGVyc2NvcmUoKSArICgoZHJvcElkVWJhcikgPyAoJycpIDogKCdfJykpICsgJ2lkJztcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9O1xufVxuXG4vKlxuICBUaGlzIGZ1bmN0aW9uIGFkZHMgb3JkaW5hbGl6ZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3RcbiAgICBTaWduYXR1cmU6XG4gICAgICBTdHJpbmcub3JkaW5hbGl6ZSgpID09IFN0cmluZ1xuICAgIEFyZ3VtZW50czpcbiAgICAgIE4vQVxuICAgIFJldHVybnM6XG4gICAgICBTdHJpbmcgLSByZW5kZXJzIGFsbCBmb3VuZCBudW1iZXJzIHRoZWlyIHNlcXVlbmNlIGxpa2UgXCIyMm5kXCJcbiAgICBFeGFtcGxlczpcbiAgICAgIFwidGhlIDEgcGl0Y2hcIi5vcmRpbmFsaXplKCkgPT0gXCJ0aGUgMXN0IHBpdGNoXCJcbiovXG5pZiAoIVN0cmluZy5wcm90b3R5cGUub3JkaW5hbGl6ZSlcbntcbiAgICBTdHJpbmcucHJvdG90eXBlLm9yZGluYWxpemUgPSBmdW5jdGlvbigpXG4gICAge1xuICAgICAgICB2YXIgc3RyID0gdGhpcztcbiAgICAgICAgdmFyIHN0cl9hcnIgPSBzdHIuc3BsaXQoJyAnKTtcbiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdHJfYXJyLmxlbmd0aDsgeCsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaSA9IHBhcnNlSW50KHN0cl9hcnJbeF0pO1xuICAgICAgICAgICAgaWYgKGkgPT09IE5hTilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgbHRkID0gc3RyX2Fyclt4XS5zdWJzdHJpbmcoc3RyX2Fyclt4XS5sZW5ndGggLSAyKTtcbiAgICAgICAgICAgICAgICB2YXIgbGQgPSBzdHJfYXJyW3hdLnN1YnN0cmluZyhzdHJfYXJyW3hdLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIHZhciBzdWYgPSBcInRoXCI7XG4gICAgICAgICAgICAgICAgaWYgKGx0ZCAhPSBcIjExXCIgJiYgbHRkICE9IFwiMTJcIiAmJiBsdGQgIT0gXCIxM1wiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxkID09PSBcIjFcIilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VmID0gXCJzdFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxkID09PSBcIjJcIilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VmID0gXCJuZFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxkID09PSBcIjNcIilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VmID0gXCJyZFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN0cl9hcnJbeF0gKz0gc3VmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0ciA9IHN0cl9hcnIuam9pbignICcpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH07XG59XG4iLCIoZnVuY3Rpb24gKCQpIHtcblx0XHRcblx0XHR2YXIgZGF5c0luV2VlayA9IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdO1xuXHRcdHZhciBzaG9ydE1vbnRoc0luWWVhciA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcblx0XHR2YXIgbG9uZ01vbnRoc0luWWVhciA9IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdO1xuXHRcdHZhciBzaG9ydE1vbnRoc1RvTnVtYmVyID0gW107XG5cdFx0c2hvcnRNb250aHNUb051bWJlcltcIkphblwiXSA9IFwiMDFcIjtcblx0XHRzaG9ydE1vbnRoc1RvTnVtYmVyW1wiRmViXCJdID0gXCIwMlwiO1xuXHRcdHNob3J0TW9udGhzVG9OdW1iZXJbXCJNYXJcIl0gPSBcIjAzXCI7XG5cdFx0c2hvcnRNb250aHNUb051bWJlcltcIkFwclwiXSA9IFwiMDRcIjtcblx0XHRzaG9ydE1vbnRoc1RvTnVtYmVyW1wiTWF5XCJdID0gXCIwNVwiO1xuXHRcdHNob3J0TW9udGhzVG9OdW1iZXJbXCJKdW5cIl0gPSBcIjA2XCI7XG5cdFx0c2hvcnRNb250aHNUb051bWJlcltcIkp1bFwiXSA9IFwiMDdcIjtcblx0XHRzaG9ydE1vbnRoc1RvTnVtYmVyW1wiQXVnXCJdID0gXCIwOFwiO1xuXHRcdHNob3J0TW9udGhzVG9OdW1iZXJbXCJTZXBcIl0gPSBcIjA5XCI7XG5cdFx0c2hvcnRNb250aHNUb051bWJlcltcIk9jdFwiXSA9IFwiMTBcIjtcblx0XHRzaG9ydE1vbnRoc1RvTnVtYmVyW1wiTm92XCJdID0gXCIxMVwiO1xuXHRcdHNob3J0TW9udGhzVG9OdW1iZXJbXCJEZWNcIl0gPSBcIjEyXCI7XG5cdFxuICAgICQuZm9ybWF0ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gc3RyRGF5KHZhbHVlKSB7XG4gXHRcdFx0XHRcdFx0cmV0dXJuIGRheXNJbldlZWtbcGFyc2VJbnQodmFsdWUsIDEwKV0gfHwgdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzdHJNb250aCh2YWx1ZSkge1xuXHRcdFx0XHRcdFx0dmFyIG1vbnRoQXJyYXlJbmRleCA9IHBhcnNlSW50KHZhbHVlLCAxMCkgLSAxO1xuIFx0XHRcdFx0XHRcdHJldHVybiBzaG9ydE1vbnRoc0luWWVhclttb250aEFycmF5SW5kZXhdIHx8IHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc3RyTG9uZ01vbnRoKHZhbHVlKSB7XG5cdFx0XHRcdFx0dmFyIG1vbnRoQXJyYXlJbmRleCA9IHBhcnNlSW50KHZhbHVlLCAxMCkgLSAxO1xuXHRcdFx0XHRcdHJldHVybiBsb25nTW9udGhzSW5ZZWFyW21vbnRoQXJyYXlJbmRleF0gfHwgdmFsdWU7XHRcdFx0XHRcdFxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBhcnNlTW9udGggPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRcdFx0XHRyZXR1cm4gc2hvcnRNb250aHNUb051bWJlclt2YWx1ZV0gfHwgdmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHBhcnNlVGltZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBtaWxsaXMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGlmIChyZXRWYWx1ZS5pbmRleE9mKFwiLlwiKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGltaXRlZCA9IHJldFZhbHVlLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldFZhbHVlID0gZGVsaW1pdGVkWzBdO1xuICAgICAgICAgICAgICAgICAgICBtaWxsaXMgPSBkZWxpbWl0ZWRbMV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlczMgPSByZXRWYWx1ZS5zcGxpdChcIjpcIik7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzMy5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgaG91ciA9IHZhbHVlczNbMF07XG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZSA9IHZhbHVlczNbMV07XG4gICAgICAgICAgICAgICAgICAgIHNlY29uZCA9IHZhbHVlczNbMl07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IHJldFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogaG91cixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogbWludXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiBzZWNvbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaWxsaXM6IG1pbGxpc1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbGxpczogXCJcIlxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGU6IGZ1bmN0aW9uICh2YWx1ZSwgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgLyogXG5cdFx0XHRcdFx0dmFsdWUgPSBuZXcgamF2YS51dGlsLkRhdGUoKVxuICAgICAgICAgICAgICAgICBcdDIwMDktMTItMTggMTA6NTQ6NTAuNTQ2IFxuXHRcdFx0XHQqL1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5T2ZNb250aCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXlPZldlZWsgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUuZ2V0RnVsbFllYXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHZhbHVlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHZhbHVlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZNb250aCA9IHZhbHVlLmdldERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheU9mV2VlayA9IHZhbHVlLmdldERheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IHBhcnNlVGltZSh2YWx1ZS50b1RpbWVTdHJpbmcoKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAodmFsdWUuc2VhcmNoKC9cXGR7NH0tXFxkezJ9LVxcZHsyfVRcXGR7Mn06XFxkezJ9OlxcZHsyfVxcLj9cXGR7MCwzfVstK10/XFxkezJ9OlxcZHsyfS8pICE9IC0xKSB7IC8qIDIwMDktMDQtMTlUMTY6MTE6MDUrMDI6MDAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSB2YWx1ZS5zcGxpdCgvW1RcXCstXS8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHZhbHVlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdmFsdWVzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZNb250aCA9IHZhbHVlc1syXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUgPSBwYXJzZVRpbWUodmFsdWVzWzNdLnNwbGl0KFwiLlwiKVswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXlPZk1vbnRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gdmFsdWUuc3BsaXQoXCIgXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogV2VkIEphbiAxMyAxMDo0Mzo0MSBDRVQgMjAxMCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSB2YWx1ZXNbNV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSBwYXJzZU1vbnRoKHZhbHVlc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZNb250aCA9IHZhbHVlc1syXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gcGFyc2VUaW1lKHZhbHVlc1szXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5T2ZNb250aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiAyMDA5LTEyLTE4IDEwOjU0OjUwLjU0NiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMyID0gdmFsdWVzWzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdmFsdWVzMlswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHZhbHVlczJbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZNb250aCA9IHZhbHVlczJbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZSA9IHBhcnNlVGltZSh2YWx1ZXNbMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRheU9mTW9udGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogVHVlIE1hciAwMSAyMDExIDEyOjAxOjQyIEdNVC0wODAwIChQU1QpICovXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyphZGRlZCBieSBMYXJyeSwgZm9yIEZyaSBBcHIgMDggMjAxMSAwMDowMDowMCBHTVQrMDgwMCAoQ2hpbmEgU3RhbmRhcmQgVGltZSkgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogYWRkZWQgYnkgTGFycnksIGZvciBGcmkgQXByIDA4IDIwMTEgMDA6MDA6MDAgR01UKzAyMDAgKFcuIEV1cm9wZSBEYXlsaWdodCBUaW1lKSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSB2YWx1ZXNbM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSBwYXJzZU1vbnRoKHZhbHVlc1sxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZNb250aCA9IHZhbHVlc1syXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gcGFyc2VUaW1lKHZhbHVlc1s0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF5T2ZNb250aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5T2ZXZWVrID0gZGF0ZS5nZXREYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0VmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAvKlxuXHRcdFx0XHRcdFx0SXNzdWUgMSAtIHZhcmlhYmxlIHNjb3BlIGlzc3VlIGluIGZvcm1hdC5kYXRlIFxuICAgICAgICAgICAgICAgICAgICBcdFRoYW5rcyBqYWtlbW9uT1xuXHRcdFx0XHRcdCovXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybWF0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFBhdHRlcm4gPSBmb3JtYXQuY2hhckF0KGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSBjdXJyZW50UGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocGF0dGVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRkZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFZhbHVlICs9IHN0ckRheShkYXlPZldlZWspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImRkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdC5jaGFyQXQoaSArIDEpID09IFwiZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoU3RyaW5nKGRheU9mTW9udGgpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXlPZk1vbnRoID0gJzAnICsgZGF5T2ZNb250aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0VmFsdWUgKz0gZGF5T2ZNb250aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNTU1NXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0VmFsdWUgKz0gc3RyTG9uZ01vbnRoKG1vbnRoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNTU1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0LmNoYXJBdChpICsgMSkgPT09IFwiTVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRWYWx1ZSArPSBzdHJNb250aChtb250aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTU1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0LmNoYXJBdChpICsgMSkgPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTdHJpbmcobW9udGgpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9ICcwJyArIG1vbnRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRWYWx1ZSArPSBtb250aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ5eXl5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0VmFsdWUgKz0geWVhcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJISFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFZhbHVlICs9IHRpbWUuaG91cjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJoaFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIHRpbWUuaG91ciBpcyBcIjAwXCIgYXMgc3RyaW5nID09IGlzIHVzZWQgaW5zdGVhZCBvZiA9PT0gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRWYWx1ZSArPSAodGltZS5ob3VyID09IDAgPyAxMiA6IHRpbWUuaG91ciA8IDEzID8gdGltZS5ob3VyIDogdGltZS5ob3VyIC0gMTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1tXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0VmFsdWUgKz0gdGltZS5taW51dGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBlbnN1cmUgb25seSBzZWNvbmRzIGFyZSBhZGRlZCB0byB0aGUgcmV0dXJuIHN0cmluZyAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFZhbHVlICs9IHRpbWUuc2Vjb25kLnN1YnN0cmluZygwLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTU1NcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRWYWx1ZSArPSB0aW1lLm1pbGxpcy5zdWJzdHJpbmcoMCwgMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFZhbHVlICs9IHRpbWUuaG91ciA+PSAxMiA/IFwiUE1cIiA6IFwiQU1cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIgXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0VmFsdWUgKz0gY3VycmVudFBhdHRlcm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiL1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldFZhbHVlICs9IGN1cnJlbnRQYXR0ZXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjpcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRWYWx1ZSArPSBjdXJyZW50UGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4ubGVuZ3RoID09PSAyICYmIHBhdHRlcm4uaW5kZXhPZihcInlcIikgIT09IDAgJiYgcGF0dGVybiAhPSBcIlNTXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0VmFsdWUgKz0gcGF0dGVybi5zdWJzdHJpbmcoMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnN1YnN0cmluZygxLCAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChwYXR0ZXJuLmxlbmd0aCA9PT0gMyAmJiBwYXR0ZXJuLmluZGV4T2YoXCJ5eXlcIikgPT09IC0xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldFZhbHVlO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSgpKTtcbn0oalF1ZXJ5KSk7XG5cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICQoXCIuc2hvcnREYXRlRm9ybWF0XCIpLmVhY2goZnVuY3Rpb24gKGlkeCwgZWxlbSkge1xuICAgICAgICBpZiAoJChlbGVtKS5pcyhcIjppbnB1dFwiKSkge1xuICAgICAgICAgICAgJChlbGVtKS52YWwoJC5mb3JtYXQuZGF0ZSgkKGVsZW0pLnZhbCgpLCBcImRkL01NL3l5eXlcIikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChlbGVtKS50ZXh0KCQuZm9ybWF0LmRhdGUoJChlbGVtKS50ZXh0KCksIFwiZGQvTU0veXl5eVwiKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAkKFwiLmxvbmdEYXRlRm9ybWF0XCIpLmVhY2goZnVuY3Rpb24gKGlkeCwgZWxlbSkge1xuICAgICAgICBpZiAoJChlbGVtKS5pcyhcIjppbnB1dFwiKSkge1xuICAgICAgICAgICAgJChlbGVtKS52YWwoJC5mb3JtYXQuZGF0ZSgkKGVsZW0pLnZhbCgpLCBcImRkL01NL3l5eXkgaGg6bW06c3NcIikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChlbGVtKS50ZXh0KCQuZm9ybWF0LmRhdGUoJChlbGVtKS50ZXh0KCksIFwiZGQvTU0veXl5eSBoaDptbTpzc1wiKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0pO1xuIiwiLyohIERhdGFUYWJsZXMgMS4xMC40XG4gKiDCqTIwMDgtMjAxNCBTcHJ5TWVkaWEgTHRkIC0gZGF0YXRhYmxlcy5uZXQvbGljZW5zZVxuICovXG4oZnVuY3Rpb24oRGEsUCxsKXt2YXIgTz1mdW5jdGlvbihnKXtmdW5jdGlvbiBWKGEpe3ZhciBiLGMsZT17fTtnLmVhY2goYSxmdW5jdGlvbihkKXtpZigoYj1kLm1hdGNoKC9eKFteQS1aXSs/KShbQS1aXSkvKSkmJi0xIT09XCJhIGFhIGFpIGFvIGFzIGIgZm4gaSBtIG8gcyBcIi5pbmRleE9mKGJbMV0rXCIgXCIpKWM9ZC5yZXBsYWNlKGJbMF0sYlsyXS50b0xvd2VyQ2FzZSgpKSxlW2NdPWQsXCJvXCI9PT1iWzFdJiZWKGFbZF0pfSk7YS5faHVuZ2FyaWFuTWFwPWV9ZnVuY3Rpb24gRyhhLGIsYyl7YS5faHVuZ2FyaWFuTWFwfHxWKGEpO3ZhciBlO2cuZWFjaChiLGZ1bmN0aW9uKGQpe2U9YS5faHVuZ2FyaWFuTWFwW2RdO2lmKGUhPT1sJiYoY3x8YltlXT09PWwpKVwib1wiPT09ZS5jaGFyQXQoMCk/KGJbZV18fChiW2VdPXt9KSxnLmV4dGVuZCghMCxiW2VdLGJbZF0pLEcoYVtlXSxiW2VdLGMpKTpiW2VdPWJbZF19KX1mdW5jdGlvbiBPKGEpe3ZhciBiPXAuZGVmYXVsdHMub0xhbmd1YWdlLGM9YS5zWmVyb1JlY29yZHM7XG4hYS5zRW1wdHlUYWJsZSYmKGMmJlwiTm8gZGF0YSBhdmFpbGFibGUgaW4gdGFibGVcIj09PWIuc0VtcHR5VGFibGUpJiZEKGEsYSxcInNaZXJvUmVjb3Jkc1wiLFwic0VtcHR5VGFibGVcIik7IWEuc0xvYWRpbmdSZWNvcmRzJiYoYyYmXCJMb2FkaW5nLi4uXCI9PT1iLnNMb2FkaW5nUmVjb3JkcykmJkQoYSxhLFwic1plcm9SZWNvcmRzXCIsXCJzTG9hZGluZ1JlY29yZHNcIik7YS5zSW5mb1Rob3VzYW5kcyYmKGEuc1Rob3VzYW5kcz1hLnNJbmZvVGhvdXNhbmRzKTsoYT1hLnNEZWNpbWFsKSYmY2IoYSl9ZnVuY3Rpb24gZGIoYSl7eihhLFwib3JkZXJpbmdcIixcImJTb3J0XCIpO3ooYSxcIm9yZGVyTXVsdGlcIixcImJTb3J0TXVsdGlcIik7eihhLFwib3JkZXJDbGFzc2VzXCIsXCJiU29ydENsYXNzZXNcIik7eihhLFwib3JkZXJDZWxsc1RvcFwiLFwiYlNvcnRDZWxsc1RvcFwiKTt6KGEsXCJvcmRlclwiLFwiYWFTb3J0aW5nXCIpO3ooYSxcIm9yZGVyRml4ZWRcIixcImFhU29ydGluZ0ZpeGVkXCIpO3ooYSxcInBhZ2luZ1wiLFwiYlBhZ2luYXRlXCIpO1xueihhLFwicGFnaW5nVHlwZVwiLFwic1BhZ2luYXRpb25UeXBlXCIpO3ooYSxcInBhZ2VMZW5ndGhcIixcImlEaXNwbGF5TGVuZ3RoXCIpO3ooYSxcInNlYXJjaGluZ1wiLFwiYkZpbHRlclwiKTtpZihhPWEuYW9TZWFyY2hDb2xzKWZvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylhW2JdJiZHKHAubW9kZWxzLm9TZWFyY2gsYVtiXSl9ZnVuY3Rpb24gZWIoYSl7eihhLFwib3JkZXJhYmxlXCIsXCJiU29ydGFibGVcIik7eihhLFwib3JkZXJEYXRhXCIsXCJhRGF0YVNvcnRcIik7eihhLFwib3JkZXJTZXF1ZW5jZVwiLFwiYXNTb3J0aW5nXCIpO3ooYSxcIm9yZGVyRGF0YVR5cGVcIixcInNvcnREYXRhVHlwZVwiKX1mdW5jdGlvbiBmYihhKXt2YXIgYT1hLm9Ccm93c2VyLGI9ZyhcIjxkaXYvPlwiKS5jc3Moe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6MCxsZWZ0OjAsaGVpZ2h0OjEsd2lkdGg6MSxvdmVyZmxvdzpcImhpZGRlblwifSkuYXBwZW5kKGcoXCI8ZGl2Lz5cIikuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjEsbGVmdDoxLHdpZHRoOjEwMCxcbm92ZXJmbG93Olwic2Nyb2xsXCJ9KS5hcHBlbmQoZygnPGRpdiBjbGFzcz1cInRlc3RcIi8+JykuY3NzKHt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6MTB9KSkpLmFwcGVuZFRvKFwiYm9keVwiKSxjPWIuZmluZChcIi50ZXN0XCIpO2EuYlNjcm9sbE92ZXJzaXplPTEwMD09PWNbMF0ub2Zmc2V0V2lkdGg7YS5iU2Nyb2xsYmFyTGVmdD0xIT09Yy5vZmZzZXQoKS5sZWZ0O2IucmVtb3ZlKCl9ZnVuY3Rpb24gZ2IoYSxiLGMsZSxkLGYpe3ZhciBoLGk9ITE7YyE9PWwmJihoPWMsaT0hMCk7Zm9yKDtlIT09ZDspYS5oYXNPd25Qcm9wZXJ0eShlKSYmKGg9aT9iKGgsYVtlXSxlLGEpOmFbZV0saT0hMCxlKz1mKTtyZXR1cm4gaH1mdW5jdGlvbiBFYShhLGIpe3ZhciBjPXAuZGVmYXVsdHMuY29sdW1uLGU9YS5hb0NvbHVtbnMubGVuZ3RoLGM9Zy5leHRlbmQoe30scC5tb2RlbHMub0NvbHVtbixjLHtuVGg6Yj9iOlAuY3JlYXRlRWxlbWVudChcInRoXCIpLHNUaXRsZTpjLnNUaXRsZT9jLnNUaXRsZTpiP2IuaW5uZXJIVE1MOlxuXCJcIixhRGF0YVNvcnQ6Yy5hRGF0YVNvcnQ/Yy5hRGF0YVNvcnQ6W2VdLG1EYXRhOmMubURhdGE/Yy5tRGF0YTplLGlkeDplfSk7YS5hb0NvbHVtbnMucHVzaChjKTtjPWEuYW9QcmVTZWFyY2hDb2xzO2NbZV09Zy5leHRlbmQoe30scC5tb2RlbHMub1NlYXJjaCxjW2VdKTtqYShhLGUsbnVsbCl9ZnVuY3Rpb24gamEoYSxiLGMpe3ZhciBiPWEuYW9Db2x1bW5zW2JdLGU9YS5vQ2xhc3NlcyxkPWcoYi5uVGgpO2lmKCFiLnNXaWR0aE9yaWcpe2Iuc1dpZHRoT3JpZz1kLmF0dHIoXCJ3aWR0aFwiKXx8bnVsbDt2YXIgZj0oZC5hdHRyKFwic3R5bGVcIil8fFwiXCIpLm1hdGNoKC93aWR0aDpcXHMqKFxcZCtbcHhlbSVdKykvKTtmJiYoYi5zV2lkdGhPcmlnPWZbMV0pfWMhPT1sJiZudWxsIT09YyYmKGViKGMpLEcocC5kZWZhdWx0cy5jb2x1bW4sYyksYy5tRGF0YVByb3AhPT1sJiYhYy5tRGF0YSYmKGMubURhdGE9Yy5tRGF0YVByb3ApLGMuc1R5cGUmJihiLl9zTWFudWFsVHlwZT1jLnNUeXBlKSxjLmNsYXNzTmFtZSYmXG4hYy5zQ2xhc3MmJihjLnNDbGFzcz1jLmNsYXNzTmFtZSksZy5leHRlbmQoYixjKSxEKGIsYyxcInNXaWR0aFwiLFwic1dpZHRoT3JpZ1wiKSxcIm51bWJlclwiPT09dHlwZW9mIGMuaURhdGFTb3J0JiYoYi5hRGF0YVNvcnQ9W2MuaURhdGFTb3J0XSksRChiLGMsXCJhRGF0YVNvcnRcIikpO3ZhciBoPWIubURhdGEsaT1XKGgpLGo9Yi5tUmVuZGVyP1coYi5tUmVuZGVyKTpudWxsLGM9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhJiYtMSE9PWEuaW5kZXhPZihcIkBcIil9O2IuX2JBdHRyU3JjPWcuaXNQbGFpbk9iamVjdChoKSYmKGMoaC5zb3J0KXx8YyhoLnR5cGUpfHxjKGguZmlsdGVyKSk7Yi5mbkdldERhdGE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPWkoYSxiLGwsYyk7cmV0dXJuIGomJmI/aihlLGIsYSxjKTplfTtiLmZuU2V0RGF0YT1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIFEoaCkoYSxiLGMpfTtcIm51bWJlclwiIT09dHlwZW9mIGgmJihhLl9yb3dSZWFkT2JqZWN0PSEwKTthLm9GZWF0dXJlcy5iU29ydHx8XG4oYi5iU29ydGFibGU9ITEsZC5hZGRDbGFzcyhlLnNTb3J0YWJsZU5vbmUpKTthPS0xIT09Zy5pbkFycmF5KFwiYXNjXCIsYi5hc1NvcnRpbmcpO2M9LTEhPT1nLmluQXJyYXkoXCJkZXNjXCIsYi5hc1NvcnRpbmcpOyFiLmJTb3J0YWJsZXx8IWEmJiFjPyhiLnNTb3J0aW5nQ2xhc3M9ZS5zU29ydGFibGVOb25lLGIuc1NvcnRpbmdDbGFzc0pVST1cIlwiKTphJiYhYz8oYi5zU29ydGluZ0NsYXNzPWUuc1NvcnRhYmxlQXNjLGIuc1NvcnRpbmdDbGFzc0pVST1lLnNTb3J0SlVJQXNjQWxsb3dlZCk6IWEmJmM/KGIuc1NvcnRpbmdDbGFzcz1lLnNTb3J0YWJsZURlc2MsYi5zU29ydGluZ0NsYXNzSlVJPWUuc1NvcnRKVUlEZXNjQWxsb3dlZCk6KGIuc1NvcnRpbmdDbGFzcz1lLnNTb3J0YWJsZSxiLnNTb3J0aW5nQ2xhc3NKVUk9ZS5zU29ydEpVSSl9ZnVuY3Rpb24gWChhKXtpZighMSE9PWEub0ZlYXR1cmVzLmJBdXRvV2lkdGgpe3ZhciBiPWEuYW9Db2x1bW5zO0ZhKGEpO2Zvcih2YXIgYz0wLGU9Yi5sZW5ndGg7YzxcbmU7YysrKWJbY10ublRoLnN0eWxlLndpZHRoPWJbY10uc1dpZHRofWI9YS5vU2Nyb2xsOyhcIlwiIT09Yi5zWXx8XCJcIiE9PWIuc1gpJiZZKGEpO3UoYSxudWxsLFwiY29sdW1uLXNpemluZ1wiLFthXSl9ZnVuY3Rpb24ga2EoYSxiKXt2YXIgYz1aKGEsXCJiVmlzaWJsZVwiKTtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGNbYl0/Y1tiXTpudWxsfWZ1bmN0aW9uICQoYSxiKXt2YXIgYz1aKGEsXCJiVmlzaWJsZVwiKSxjPWcuaW5BcnJheShiLGMpO3JldHVybi0xIT09Yz9jOm51bGx9ZnVuY3Rpb24gYWEoYSl7cmV0dXJuIFooYSxcImJWaXNpYmxlXCIpLmxlbmd0aH1mdW5jdGlvbiBaKGEsYil7dmFyIGM9W107Zy5tYXAoYS5hb0NvbHVtbnMsZnVuY3Rpb24oYSxkKXthW2JdJiZjLnB1c2goZCl9KTtyZXR1cm4gY31mdW5jdGlvbiBHYShhKXt2YXIgYj1hLmFvQ29sdW1ucyxjPWEuYW9EYXRhLGU9cC5leHQudHlwZS5kZXRlY3QsZCxmLGgsaSxqLGcsbSxvLGs7ZD0wO2ZvcihmPWIubGVuZ3RoO2Q8ZjtkKyspaWYobT1cbmJbZF0saz1bXSwhbS5zVHlwZSYmbS5fc01hbnVhbFR5cGUpbS5zVHlwZT1tLl9zTWFudWFsVHlwZTtlbHNlIGlmKCFtLnNUeXBlKXtoPTA7Zm9yKGk9ZS5sZW5ndGg7aDxpO2grKyl7aj0wO2ZvcihnPWMubGVuZ3RoO2o8ZztqKyspe2tbal09PT1sJiYoa1tqXT12KGEsaixkLFwidHlwZVwiKSk7bz1lW2hdKGtbal0sYSk7aWYoIW8mJmghPT1lLmxlbmd0aC0xKWJyZWFrO2lmKFwiaHRtbFwiPT09bylicmVha31pZihvKXttLnNUeXBlPW87YnJlYWt9fW0uc1R5cGV8fChtLnNUeXBlPVwic3RyaW5nXCIpfX1mdW5jdGlvbiBoYihhLGIsYyxlKXt2YXIgZCxmLGgsaSxqLG4sbT1hLmFvQ29sdW1ucztpZihiKWZvcihkPWIubGVuZ3RoLTE7MDw9ZDtkLS0pe249YltkXTt2YXIgbz1uLnRhcmdldHMhPT1sP24udGFyZ2V0czpuLmFUYXJnZXRzO2cuaXNBcnJheShvKXx8KG89W29dKTtmPTA7Zm9yKGg9by5sZW5ndGg7ZjxoO2YrKylpZihcIm51bWJlclwiPT09dHlwZW9mIG9bZl0mJjA8PW9bZl0pe2Zvcig7bS5sZW5ndGg8PVxub1tmXTspRWEoYSk7ZShvW2ZdLG4pfWVsc2UgaWYoXCJudW1iZXJcIj09PXR5cGVvZiBvW2ZdJiYwPm9bZl0pZShtLmxlbmd0aCtvW2ZdLG4pO2Vsc2UgaWYoXCJzdHJpbmdcIj09PXR5cGVvZiBvW2ZdKXtpPTA7Zm9yKGo9bS5sZW5ndGg7aTxqO2krKykoXCJfYWxsXCI9PW9bZl18fGcobVtpXS5uVGgpLmhhc0NsYXNzKG9bZl0pKSYmZShpLG4pfX1pZihjKXtkPTA7Zm9yKGE9Yy5sZW5ndGg7ZDxhO2QrKyllKGQsY1tkXSl9fWZ1bmN0aW9uIEkoYSxiLGMsZSl7dmFyIGQ9YS5hb0RhdGEubGVuZ3RoLGY9Zy5leHRlbmQoITAse30scC5tb2RlbHMub1Jvdyx7c3JjOmM/XCJkb21cIjpcImRhdGFcIn0pO2YuX2FEYXRhPWI7YS5hb0RhdGEucHVzaChmKTtmb3IodmFyIGI9YS5hb0NvbHVtbnMsZj0wLGg9Yi5sZW5ndGg7ZjxoO2YrKyljJiZIYShhLGQsZix2KGEsZCxmKSksYltmXS5zVHlwZT1udWxsO2EuYWlEaXNwbGF5TWFzdGVyLnB1c2goZCk7KGN8fCFhLm9GZWF0dXJlcy5iRGVmZXJSZW5kZXIpJiZJYShhLFxuZCxjLGUpO3JldHVybiBkfWZ1bmN0aW9uIGxhKGEsYil7dmFyIGM7YiBpbnN0YW5jZW9mIGd8fChiPWcoYikpO3JldHVybiBiLm1hcChmdW5jdGlvbihiLGQpe2M9bWEoYSxkKTtyZXR1cm4gSShhLGMuZGF0YSxkLGMuY2VsbHMpfSl9ZnVuY3Rpb24gdihhLGIsYyxlKXt2YXIgZD1hLmlEcmF3LGY9YS5hb0NvbHVtbnNbY10saD1hLmFvRGF0YVtiXS5fYURhdGEsaT1mLnNEZWZhdWx0Q29udGVudCxjPWYuZm5HZXREYXRhKGgsZSx7c2V0dGluZ3M6YSxyb3c6Yixjb2w6Y30pO2lmKGM9PT1sKXJldHVybiBhLmlEcmF3RXJyb3IhPWQmJm51bGw9PT1pJiYoUihhLDAsXCJSZXF1ZXN0ZWQgdW5rbm93biBwYXJhbWV0ZXIgXCIrKFwiZnVuY3Rpb25cIj09dHlwZW9mIGYubURhdGE/XCJ7ZnVuY3Rpb259XCI6XCInXCIrZi5tRGF0YStcIidcIikrXCIgZm9yIHJvdyBcIitiLDQpLGEuaURyYXdFcnJvcj1kKSxpO2lmKChjPT09aHx8bnVsbD09PWMpJiZudWxsIT09aSljPWk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYylyZXR1cm4gYy5jYWxsKGgpO1xucmV0dXJuIG51bGw9PT1jJiZcImRpc3BsYXlcIj09ZT9cIlwiOmN9ZnVuY3Rpb24gSGEoYSxiLGMsZSl7YS5hb0NvbHVtbnNbY10uZm5TZXREYXRhKGEuYW9EYXRhW2JdLl9hRGF0YSxlLHtzZXR0aW5nczphLHJvdzpiLGNvbDpjfSl9ZnVuY3Rpb24gSmEoYSl7cmV0dXJuIGcubWFwKGEubWF0Y2goLyhcXFxcLnxbXlxcLl0pKy9nKSxmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXFxcLi9nLFwiLlwiKX0pfWZ1bmN0aW9uIFcoYSl7aWYoZy5pc1BsYWluT2JqZWN0KGEpKXt2YXIgYj17fTtnLmVhY2goYSxmdW5jdGlvbihhLGMpe2MmJihiW2FdPVcoYykpfSk7cmV0dXJuIGZ1bmN0aW9uKGEsYyxmLGgpe3ZhciBpPWJbY118fGIuXztyZXR1cm4gaSE9PWw/aShhLGMsZixoKTphfX1pZihudWxsPT09YSlyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXJldHVybiBmdW5jdGlvbihiLGMsZixoKXtyZXR1cm4gYShiLGMsZixoKX07aWYoXCJzdHJpbmdcIj09PVxudHlwZW9mIGEmJigtMSE9PWEuaW5kZXhPZihcIi5cIil8fC0xIT09YS5pbmRleE9mKFwiW1wiKXx8LTEhPT1hLmluZGV4T2YoXCIoXCIpKSl7dmFyIGM9ZnVuY3Rpb24oYSxiLGYpe3ZhciBoLGk7aWYoXCJcIiE9PWYpe2k9SmEoZik7Zm9yKHZhciBqPTAsZz1pLmxlbmd0aDtqPGc7aisrKXtmPWlbal0ubWF0Y2goYmEpO2g9aVtqXS5tYXRjaChTKTtpZihmKXtpW2pdPWlbal0ucmVwbGFjZShiYSxcIlwiKTtcIlwiIT09aVtqXSYmKGE9YVtpW2pdXSk7aD1bXTtpLnNwbGljZSgwLGorMSk7aT1pLmpvaW4oXCIuXCIpO2o9MDtmb3IoZz1hLmxlbmd0aDtqPGc7aisrKWgucHVzaChjKGFbal0sYixpKSk7YT1mWzBdLnN1YnN0cmluZygxLGZbMF0ubGVuZ3RoLTEpO2E9XCJcIj09PWE/aDpoLmpvaW4oYSk7YnJlYWt9ZWxzZSBpZihoKXtpW2pdPWlbal0ucmVwbGFjZShTLFwiXCIpO2E9YVtpW2pdXSgpO2NvbnRpbnVlfWlmKG51bGw9PT1hfHxhW2lbal1dPT09bClyZXR1cm4gbDthPWFbaVtqXV19fXJldHVybiBhfTtyZXR1cm4gZnVuY3Rpb24oYixcbmQpe3JldHVybiBjKGIsZCxhKX19cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiW2FdfX1mdW5jdGlvbiBRKGEpe2lmKGcuaXNQbGFpbk9iamVjdChhKSlyZXR1cm4gUShhLl8pO2lmKG51bGw9PT1hKXJldHVybiBmdW5jdGlvbigpe307aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpcmV0dXJuIGZ1bmN0aW9uKGIsZSxkKXthKGIsXCJzZXRcIixlLGQpfTtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEmJigtMSE9PWEuaW5kZXhPZihcIi5cIil8fC0xIT09YS5pbmRleE9mKFwiW1wiKXx8LTEhPT1hLmluZGV4T2YoXCIoXCIpKSl7dmFyIGI9ZnVuY3Rpb24oYSxlLGQpe3ZhciBkPUphKGQpLGY7Zj1kW2QubGVuZ3RoLTFdO2Zvcih2YXIgaCxpLGo9MCxnPWQubGVuZ3RoLTE7ajxnO2orKyl7aD1kW2pdLm1hdGNoKGJhKTtpPWRbal0ubWF0Y2goUyk7aWYoaCl7ZFtqXT1kW2pdLnJlcGxhY2UoYmEsXCJcIik7YVtkW2pdXT1bXTtmPWQuc2xpY2UoKTtmLnNwbGljZSgwLGorMSk7aD1mLmpvaW4oXCIuXCIpO2k9MDtmb3IoZz1cbmUubGVuZ3RoO2k8ZztpKyspZj17fSxiKGYsZVtpXSxoKSxhW2Rbal1dLnB1c2goZik7cmV0dXJufWkmJihkW2pdPWRbal0ucmVwbGFjZShTLFwiXCIpLGE9YVtkW2pdXShlKSk7aWYobnVsbD09PWFbZFtqXV18fGFbZFtqXV09PT1sKWFbZFtqXV09e307YT1hW2Rbal1dfWlmKGYubWF0Y2goUykpYVtmLnJlcGxhY2UoUyxcIlwiKV0oZSk7ZWxzZSBhW2YucmVwbGFjZShiYSxcIlwiKV09ZX07cmV0dXJuIGZ1bmN0aW9uKGMsZSl7cmV0dXJuIGIoYyxlLGEpfX1yZXR1cm4gZnVuY3Rpb24oYixlKXtiW2FdPWV9fWZ1bmN0aW9uIEthKGEpe3JldHVybiBDKGEuYW9EYXRhLFwiX2FEYXRhXCIpfWZ1bmN0aW9uIG5hKGEpe2EuYW9EYXRhLmxlbmd0aD0wO2EuYWlEaXNwbGF5TWFzdGVyLmxlbmd0aD0wO2EuYWlEaXNwbGF5Lmxlbmd0aD0wfWZ1bmN0aW9uIG9hKGEsYixjKXtmb3IodmFyIGU9LTEsZD0wLGY9YS5sZW5ndGg7ZDxmO2QrKylhW2RdPT1iP2U9ZDphW2RdPmImJmFbZF0tLTsgLTEhPWUmJmM9PT1sJiZcbmEuc3BsaWNlKGUsMSl9ZnVuY3Rpb24gY2EoYSxiLGMsZSl7dmFyIGQ9YS5hb0RhdGFbYl0sZixoPWZ1bmN0aW9uKGMsZil7Zm9yKDtjLmNoaWxkTm9kZXMubGVuZ3RoOyljLnJlbW92ZUNoaWxkKGMuZmlyc3RDaGlsZCk7Yy5pbm5lckhUTUw9dihhLGIsZixcImRpc3BsYXlcIil9O2lmKFwiZG9tXCI9PT1jfHwoIWN8fFwiYXV0b1wiPT09YykmJlwiZG9tXCI9PT1kLnNyYylkLl9hRGF0YT1tYShhLGQsZSxlPT09bD9sOmQuX2FEYXRhKS5kYXRhO2Vsc2V7dmFyIGk9ZC5hbkNlbGxzO2lmKGkpaWYoZSE9PWwpaChpW2VdLGUpO2Vsc2V7Yz0wO2ZvcihmPWkubGVuZ3RoO2M8ZjtjKyspaChpW2NdLGMpfX1kLl9hU29ydERhdGE9bnVsbDtkLl9hRmlsdGVyRGF0YT1udWxsO2g9YS5hb0NvbHVtbnM7aWYoZSE9PWwpaFtlXS5zVHlwZT1udWxsO2Vsc2V7Yz0wO2ZvcihmPWgubGVuZ3RoO2M8ZjtjKyspaFtjXS5zVHlwZT1udWxsO0xhKGQpfX1mdW5jdGlvbiBtYShhLGIsYyxlKXt2YXIgZD1bXSxmPWIuZmlyc3RDaGlsZCxcbmgsaT0wLGosbj1hLmFvQ29sdW1ucyxtPWEuX3Jvd1JlYWRPYmplY3QsZT1lfHxtP3t9OltdLG89ZnVuY3Rpb24oYSxiKXtpZihcInN0cmluZ1wiPT09dHlwZW9mIGEpe3ZhciBjPWEuaW5kZXhPZihcIkBcIik7LTEhPT1jJiYoYz1hLnN1YnN0cmluZyhjKzEpLFEoYSkoZSxiLmdldEF0dHJpYnV0ZShjKSkpfX0sYT1mdW5jdGlvbihhKXtpZihjPT09bHx8Yz09PWkpaD1uW2ldLGo9Zy50cmltKGEuaW5uZXJIVE1MKSxoJiZoLl9iQXR0clNyYz8oUShoLm1EYXRhLl8pKGUsaiksbyhoLm1EYXRhLnNvcnQsYSksbyhoLm1EYXRhLnR5cGUsYSksbyhoLm1EYXRhLmZpbHRlcixhKSk6bT8oaC5fc2V0dGVyfHwoaC5fc2V0dGVyPVEoaC5tRGF0YSkpLGguX3NldHRlcihlLGopKTplW2ldPWo7aSsrfTtpZihmKWZvcig7Zjspe2I9Zi5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpO2lmKFwiVERcIj09Ynx8XCJUSFwiPT1iKWEoZiksZC5wdXNoKGYpO2Y9Zi5uZXh0U2libGluZ31lbHNle2Q9Yi5hbkNlbGxzO2Y9MDtmb3IoYj1cbmQubGVuZ3RoO2Y8YjtmKyspYShkW2ZdKX1yZXR1cm57ZGF0YTplLGNlbGxzOmR9fWZ1bmN0aW9uIElhKGEsYixjLGUpe3ZhciBkPWEuYW9EYXRhW2JdLGY9ZC5fYURhdGEsaD1bXSxpLGosZyxtLG87aWYobnVsbD09PWQublRyKXtpPWN8fFAuY3JlYXRlRWxlbWVudChcInRyXCIpO2QublRyPWk7ZC5hbkNlbGxzPWg7aS5fRFRfUm93SW5kZXg9YjtMYShkKTttPTA7Zm9yKG89YS5hb0NvbHVtbnMubGVuZ3RoO208bzttKyspe2c9YS5hb0NvbHVtbnNbbV07aj1jP2VbbV06UC5jcmVhdGVFbGVtZW50KGcuc0NlbGxUeXBlKTtoLnB1c2goaik7aWYoIWN8fGcubVJlbmRlcnx8Zy5tRGF0YSE9PW0pai5pbm5lckhUTUw9dihhLGIsbSxcImRpc3BsYXlcIik7Zy5zQ2xhc3MmJihqLmNsYXNzTmFtZSs9XCIgXCIrZy5zQ2xhc3MpO2cuYlZpc2libGUmJiFjP2kuYXBwZW5kQ2hpbGQoaik6IWcuYlZpc2libGUmJmMmJmoucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChqKTtnLmZuQ3JlYXRlZENlbGwmJmcuZm5DcmVhdGVkQ2VsbC5jYWxsKGEub0luc3RhbmNlLFxuaix2KGEsYixtKSxmLGIsbSl9dShhLFwiYW9Sb3dDcmVhdGVkQ2FsbGJhY2tcIixudWxsLFtpLGYsYl0pfWQublRyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInJvd1wiKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1hLm5UcixjPWEuX2FEYXRhO2lmKGIpe2MuRFRfUm93SWQmJihiLmlkPWMuRFRfUm93SWQpO2lmKGMuRFRfUm93Q2xhc3Mpe3ZhciBlPWMuRFRfUm93Q2xhc3Muc3BsaXQoXCIgXCIpO2EuX19yb3djPWEuX19yb3djP01hKGEuX19yb3djLmNvbmNhdChlKSk6ZTtnKGIpLnJlbW92ZUNsYXNzKGEuX19yb3djLmpvaW4oXCIgXCIpKS5hZGRDbGFzcyhjLkRUX1Jvd0NsYXNzKX1jLkRUX1Jvd0RhdGEmJmcoYikuZGF0YShjLkRUX1Jvd0RhdGEpfX1mdW5jdGlvbiBpYihhKXt2YXIgYixjLGUsZCxmLGg9YS5uVEhlYWQsaT1hLm5URm9vdCxqPTA9PT1nKFwidGgsIHRkXCIsaCkubGVuZ3RoLG49YS5vQ2xhc3NlcyxtPWEuYW9Db2x1bW5zO2omJihkPWcoXCI8dHIvPlwiKS5hcHBlbmRUbyhoKSk7Yj0wO2ZvcihjPVxubS5sZW5ndGg7YjxjO2IrKylmPW1bYl0sZT1nKGYublRoKS5hZGRDbGFzcyhmLnNDbGFzcyksaiYmZS5hcHBlbmRUbyhkKSxhLm9GZWF0dXJlcy5iU29ydCYmKGUuYWRkQ2xhc3MoZi5zU29ydGluZ0NsYXNzKSwhMSE9PWYuYlNvcnRhYmxlJiYoZS5hdHRyKFwidGFiaW5kZXhcIixhLmlUYWJJbmRleCkuYXR0cihcImFyaWEtY29udHJvbHNcIixhLnNUYWJsZUlkKSxOYShhLGYublRoLGIpKSksZi5zVGl0bGUhPWUuaHRtbCgpJiZlLmh0bWwoZi5zVGl0bGUpLE9hKGEsXCJoZWFkZXJcIikoYSxlLGYsbik7aiYmZGEoYS5hb0hlYWRlcixoKTtnKGgpLmZpbmQoXCI+dHJcIikuYXR0cihcInJvbGVcIixcInJvd1wiKTtnKGgpLmZpbmQoXCI+dHI+dGgsID50cj50ZFwiKS5hZGRDbGFzcyhuLnNIZWFkZXJUSCk7ZyhpKS5maW5kKFwiPnRyPnRoLCA+dHI+dGRcIikuYWRkQ2xhc3Mobi5zRm9vdGVyVEgpO2lmKG51bGwhPT1pKXthPWEuYW9Gb290ZXJbMF07Yj0wO2ZvcihjPWEubGVuZ3RoO2I8YztiKyspZj1tW2JdLGYublRmPVxuYVtiXS5jZWxsLGYuc0NsYXNzJiZnKGYublRmKS5hZGRDbGFzcyhmLnNDbGFzcyl9fWZ1bmN0aW9uIGVhKGEsYixjKXt2YXIgZSxkLGYsaD1bXSxpPVtdLGo9YS5hb0NvbHVtbnMubGVuZ3RoLG47aWYoYil7Yz09PWwmJihjPSExKTtlPTA7Zm9yKGQ9Yi5sZW5ndGg7ZTxkO2UrKyl7aFtlXT1iW2VdLnNsaWNlKCk7aFtlXS5uVHI9YltlXS5uVHI7Zm9yKGY9ai0xOzA8PWY7Zi0tKSFhLmFvQ29sdW1uc1tmXS5iVmlzaWJsZSYmIWMmJmhbZV0uc3BsaWNlKGYsMSk7aS5wdXNoKFtdKX1lPTA7Zm9yKGQ9aC5sZW5ndGg7ZTxkO2UrKyl7aWYoYT1oW2VdLm5Ucilmb3IoO2Y9YS5maXJzdENoaWxkOylhLnJlbW92ZUNoaWxkKGYpO2Y9MDtmb3IoYj1oW2VdLmxlbmd0aDtmPGI7ZisrKWlmKG49aj0xLGlbZV1bZl09PT1sKXthLmFwcGVuZENoaWxkKGhbZV1bZl0uY2VsbCk7Zm9yKGlbZV1bZl09MTtoW2Ural0hPT1sJiZoW2VdW2ZdLmNlbGw9PWhbZStqXVtmXS5jZWxsOylpW2Ural1bZl09MSxqKys7XG5mb3IoO2hbZV1bZituXSE9PWwmJmhbZV1bZl0uY2VsbD09aFtlXVtmK25dLmNlbGw7KXtmb3IoYz0wO2M8ajtjKyspaVtlK2NdW2Yrbl09MTtuKyt9ZyhoW2VdW2ZdLmNlbGwpLmF0dHIoXCJyb3dzcGFuXCIsaikuYXR0cihcImNvbHNwYW5cIixuKX19fX1mdW5jdGlvbiBMKGEpe3ZhciBiPXUoYSxcImFvUHJlRHJhd0NhbGxiYWNrXCIsXCJwcmVEcmF3XCIsW2FdKTtpZigtMSE9PWcuaW5BcnJheSghMSxiKSlCKGEsITEpO2Vsc2V7dmFyIGI9W10sYz0wLGU9YS5hc1N0cmlwZUNsYXNzZXMsZD1lLmxlbmd0aCxmPWEub0xhbmd1YWdlLGg9YS5pSW5pdERpc3BsYXlTdGFydCxpPVwic3NwXCI9PUEoYSksaj1hLmFpRGlzcGxheTthLmJEcmF3aW5nPSEwO2ghPT1sJiYtMSE9PWgmJihhLl9pRGlzcGxheVN0YXJ0PWk/aDpoPj1hLmZuUmVjb3Jkc0Rpc3BsYXkoKT8wOmgsYS5pSW5pdERpc3BsYXlTdGFydD0tMSk7dmFyIGg9YS5faURpc3BsYXlTdGFydCxuPWEuZm5EaXNwbGF5RW5kKCk7aWYoYS5iRGVmZXJMb2FkaW5nKWEuYkRlZmVyTG9hZGluZz1cbiExLGEuaURyYXcrKyxCKGEsITEpO2Vsc2UgaWYoaSl7aWYoIWEuYkRlc3Ryb3lpbmcmJiFqYihhKSlyZXR1cm59ZWxzZSBhLmlEcmF3Kys7aWYoMCE9PWoubGVuZ3RoKXtmPWk/YS5hb0RhdGEubGVuZ3RoOm47Zm9yKGk9aT8wOmg7aTxmO2krKyl7dmFyIG09altpXSxvPWEuYW9EYXRhW21dO251bGw9PT1vLm5UciYmSWEoYSxtKTttPW8ublRyO2lmKDAhPT1kKXt2YXIgaz1lW2MlZF07by5fc1Jvd1N0cmlwZSE9ayYmKGcobSkucmVtb3ZlQ2xhc3Moby5fc1Jvd1N0cmlwZSkuYWRkQ2xhc3Moayksby5fc1Jvd1N0cmlwZT1rKX11KGEsXCJhb1Jvd0NhbGxiYWNrXCIsbnVsbCxbbSxvLl9hRGF0YSxjLGldKTtiLnB1c2gobSk7YysrfX1lbHNlIGM9Zi5zWmVyb1JlY29yZHMsMT09YS5pRHJhdyYmXCJhamF4XCI9PUEoYSk/Yz1mLnNMb2FkaW5nUmVjb3JkczpmLnNFbXB0eVRhYmxlJiYwPT09YS5mblJlY29yZHNUb3RhbCgpJiYoYz1mLnNFbXB0eVRhYmxlKSxiWzBdPWcoXCI8dHIvPlwiLHtcImNsYXNzXCI6ZD9cbmVbMF06XCJcIn0pLmFwcGVuZChnKFwiPHRkIC8+XCIse3ZhbGlnbjpcInRvcFwiLGNvbFNwYW46YWEoYSksXCJjbGFzc1wiOmEub0NsYXNzZXMuc1Jvd0VtcHR5fSkuaHRtbChjKSlbMF07dShhLFwiYW9IZWFkZXJDYWxsYmFja1wiLFwiaGVhZGVyXCIsW2coYS5uVEhlYWQpLmNoaWxkcmVuKFwidHJcIilbMF0sS2EoYSksaCxuLGpdKTt1KGEsXCJhb0Zvb3RlckNhbGxiYWNrXCIsXCJmb290ZXJcIixbZyhhLm5URm9vdCkuY2hpbGRyZW4oXCJ0clwiKVswXSxLYShhKSxoLG4sal0pO2U9ZyhhLm5UQm9keSk7ZS5jaGlsZHJlbigpLmRldGFjaCgpO2UuYXBwZW5kKGcoYikpO3UoYSxcImFvRHJhd0NhbGxiYWNrXCIsXCJkcmF3XCIsW2FdKTthLmJTb3J0ZWQ9ITE7YS5iRmlsdGVyZWQ9ITE7YS5iRHJhd2luZz0hMX19ZnVuY3Rpb24gTShhLGIpe3ZhciBjPWEub0ZlYXR1cmVzLGU9Yy5iRmlsdGVyO2MuYlNvcnQmJmtiKGEpO2U/ZmEoYSxhLm9QcmV2aW91c1NlYXJjaCk6YS5haURpc3BsYXk9YS5haURpc3BsYXlNYXN0ZXIuc2xpY2UoKTtcbiEwIT09YiYmKGEuX2lEaXNwbGF5U3RhcnQ9MCk7YS5fZHJhd0hvbGQ9YjtMKGEpO2EuX2RyYXdIb2xkPSExfWZ1bmN0aW9uIGxiKGEpe3ZhciBiPWEub0NsYXNzZXMsYz1nKGEublRhYmxlKSxjPWcoXCI8ZGl2Lz5cIikuaW5zZXJ0QmVmb3JlKGMpLGU9YS5vRmVhdHVyZXMsZD1nKFwiPGRpdi8+XCIse2lkOmEuc1RhYmxlSWQrXCJfd3JhcHBlclwiLFwiY2xhc3NcIjpiLnNXcmFwcGVyKyhhLm5URm9vdD9cIlwiOlwiIFwiK2Iuc05vRm9vdGVyKX0pO2EubkhvbGRpbmc9Y1swXTthLm5UYWJsZVdyYXBwZXI9ZFswXTthLm5UYWJsZVJlaW5zZXJ0QmVmb3JlPWEublRhYmxlLm5leHRTaWJsaW5nO2Zvcih2YXIgZj1hLnNEb20uc3BsaXQoXCJcIiksaCxpLGosbixtLG8saz0wO2s8Zi5sZW5ndGg7aysrKXtoPW51bGw7aT1mW2tdO2lmKFwiPFwiPT1pKXtqPWcoXCI8ZGl2Lz5cIilbMF07bj1mW2srMV07aWYoXCInXCI9PW58fCdcIic9PW4pe209XCJcIjtmb3Iobz0yO2ZbaytvXSE9bjspbSs9ZltrK29dLG8rKztcIkhcIj09bT9tPWIuc0pVSUhlYWRlcjpcblwiRlwiPT1tJiYobT1iLnNKVUlGb290ZXIpOy0xIT1tLmluZGV4T2YoXCIuXCIpPyhuPW0uc3BsaXQoXCIuXCIpLGouaWQ9blswXS5zdWJzdHIoMSxuWzBdLmxlbmd0aC0xKSxqLmNsYXNzTmFtZT1uWzFdKTpcIiNcIj09bS5jaGFyQXQoMCk/ai5pZD1tLnN1YnN0cigxLG0ubGVuZ3RoLTEpOmouY2xhc3NOYW1lPW07ays9b31kLmFwcGVuZChqKTtkPWcoail9ZWxzZSBpZihcIj5cIj09aSlkPWQucGFyZW50KCk7ZWxzZSBpZihcImxcIj09aSYmZS5iUGFnaW5hdGUmJmUuYkxlbmd0aENoYW5nZSloPW1iKGEpO2Vsc2UgaWYoXCJmXCI9PWkmJmUuYkZpbHRlciloPW5iKGEpO2Vsc2UgaWYoXCJyXCI9PWkmJmUuYlByb2Nlc3NpbmcpaD1vYihhKTtlbHNlIGlmKFwidFwiPT1pKWg9cGIoYSk7ZWxzZSBpZihcImlcIj09aSYmZS5iSW5mbyloPXFiKGEpO2Vsc2UgaWYoXCJwXCI9PWkmJmUuYlBhZ2luYXRlKWg9cmIoYSk7ZWxzZSBpZigwIT09cC5leHQuZmVhdHVyZS5sZW5ndGgpe2o9cC5leHQuZmVhdHVyZTtvPTA7Zm9yKG49ai5sZW5ndGg7bzxcbm47bysrKWlmKGk9PWpbb10uY0ZlYXR1cmUpe2g9altvXS5mbkluaXQoYSk7YnJlYWt9fWgmJihqPWEuYWFuRmVhdHVyZXMsaltpXXx8KGpbaV09W10pLGpbaV0ucHVzaChoKSxkLmFwcGVuZChoKSl9Yy5yZXBsYWNlV2l0aChkKX1mdW5jdGlvbiBkYShhLGIpe3ZhciBjPWcoYikuY2hpbGRyZW4oXCJ0clwiKSxlLGQsZixoLGksaixuLG0sbyxrO2Euc3BsaWNlKDAsYS5sZW5ndGgpO2Y9MDtmb3Ioaj1jLmxlbmd0aDtmPGo7ZisrKWEucHVzaChbXSk7Zj0wO2ZvcihqPWMubGVuZ3RoO2Y8ajtmKyspe2U9Y1tmXTtmb3IoZD1lLmZpcnN0Q2hpbGQ7ZDspe2lmKFwiVERcIj09ZC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpfHxcIlRIXCI9PWQubm9kZU5hbWUudG9VcHBlckNhc2UoKSl7bT0xKmQuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKTtvPTEqZC5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpO209IW18fDA9PT1tfHwxPT09bT8xOm07bz0hb3x8MD09PW98fDE9PT1vPzE6bztoPTA7Zm9yKGk9YVtmXTtpW2hdOyloKys7XG5uPWg7az0xPT09bT8hMDohMTtmb3IoaT0wO2k8bTtpKyspZm9yKGg9MDtoPG87aCsrKWFbZitoXVtuK2ldPXtjZWxsOmQsdW5pcXVlOmt9LGFbZitoXS5uVHI9ZX1kPWQubmV4dFNpYmxpbmd9fX1mdW5jdGlvbiBwYShhLGIsYyl7dmFyIGU9W107Y3x8KGM9YS5hb0hlYWRlcixiJiYoYz1bXSxkYShjLGIpKSk7Zm9yKHZhciBiPTAsZD1jLmxlbmd0aDtiPGQ7YisrKWZvcih2YXIgZj0wLGg9Y1tiXS5sZW5ndGg7ZjxoO2YrKylpZihjW2JdW2ZdLnVuaXF1ZSYmKCFlW2ZdfHwhYS5iU29ydENlbGxzVG9wKSllW2ZdPWNbYl1bZl0uY2VsbDtyZXR1cm4gZX1mdW5jdGlvbiBxYShhLGIsYyl7dShhLFwiYW9TZXJ2ZXJQYXJhbXNcIixcInNlcnZlclBhcmFtc1wiLFtiXSk7aWYoYiYmZy5pc0FycmF5KGIpKXt2YXIgZT17fSxkPS8oLio/KVxcW1xcXSQvO2cuZWFjaChiLGZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5uYW1lLm1hdGNoKGQpO2M/KGM9Y1swXSxlW2NdfHwoZVtjXT1bXSksZVtjXS5wdXNoKGIudmFsdWUpKTpcbmVbYi5uYW1lXT1iLnZhbHVlfSk7Yj1lfXZhciBmLGg9YS5hamF4LGk9YS5vSW5zdGFuY2U7aWYoZy5pc1BsYWluT2JqZWN0KGgpJiZoLmRhdGEpe2Y9aC5kYXRhO3ZhciBqPWcuaXNGdW5jdGlvbihmKT9mKGIpOmYsYj1nLmlzRnVuY3Rpb24oZikmJmo/ajpnLmV4dGVuZCghMCxiLGopO2RlbGV0ZSBoLmRhdGF9aj17ZGF0YTpiLHN1Y2Nlc3M6ZnVuY3Rpb24oYil7dmFyIGY9Yi5lcnJvcnx8Yi5zRXJyb3I7ZiYmYS5vQXBpLl9mbkxvZyhhLDAsZik7YS5qc29uPWI7dShhLG51bGwsXCJ4aHJcIixbYSxiXSk7YyhiKX0sZGF0YVR5cGU6XCJqc29uXCIsY2FjaGU6ITEsdHlwZTphLnNTZXJ2ZXJNZXRob2QsZXJyb3I6ZnVuY3Rpb24oYixjKXt2YXIgZj1hLm9BcGkuX2ZuTG9nO1wicGFyc2VyZXJyb3JcIj09Yz9mKGEsMCxcIkludmFsaWQgSlNPTiByZXNwb25zZVwiLDEpOjQ9PT1iLnJlYWR5U3RhdGUmJmYoYSwwLFwiQWpheCBlcnJvclwiLDcpO0IoYSwhMSl9fTthLm9BamF4RGF0YT1iO3UoYSxudWxsLFwicHJlWGhyXCIsXG5bYSxiXSk7YS5mblNlcnZlckRhdGE/YS5mblNlcnZlckRhdGEuY2FsbChpLGEuc0FqYXhTb3VyY2UsZy5tYXAoYixmdW5jdGlvbihhLGIpe3JldHVybntuYW1lOmIsdmFsdWU6YX19KSxjLGEpOmEuc0FqYXhTb3VyY2V8fFwic3RyaW5nXCI9PT10eXBlb2YgaD9hLmpxWEhSPWcuYWpheChnLmV4dGVuZChqLHt1cmw6aHx8YS5zQWpheFNvdXJjZX0pKTpnLmlzRnVuY3Rpb24oaCk/YS5qcVhIUj1oLmNhbGwoaSxiLGMsYSk6KGEuanFYSFI9Zy5hamF4KGcuZXh0ZW5kKGosaCkpLGguZGF0YT1mKX1mdW5jdGlvbiBqYihhKXtyZXR1cm4gYS5iQWpheERhdGFHZXQ/KGEuaURyYXcrKyxCKGEsITApLHFhKGEsc2IoYSksZnVuY3Rpb24oYil7dGIoYSxiKX0pLCExKTohMH1mdW5jdGlvbiBzYihhKXt2YXIgYj1hLmFvQ29sdW1ucyxjPWIubGVuZ3RoLGU9YS5vRmVhdHVyZXMsZD1hLm9QcmV2aW91c1NlYXJjaCxmPWEuYW9QcmVTZWFyY2hDb2xzLGgsaT1bXSxqLG4sbSxvPVQoYSk7aD1hLl9pRGlzcGxheVN0YXJ0O1xuaj0hMSE9PWUuYlBhZ2luYXRlP2EuX2lEaXNwbGF5TGVuZ3RoOi0xO3ZhciBrPWZ1bmN0aW9uKGEsYil7aS5wdXNoKHtuYW1lOmEsdmFsdWU6Yn0pfTtrKFwic0VjaG9cIixhLmlEcmF3KTtrKFwiaUNvbHVtbnNcIixjKTtrKFwic0NvbHVtbnNcIixDKGIsXCJzTmFtZVwiKS5qb2luKFwiLFwiKSk7ayhcImlEaXNwbGF5U3RhcnRcIixoKTtrKFwiaURpc3BsYXlMZW5ndGhcIixqKTt2YXIgbD17ZHJhdzphLmlEcmF3LGNvbHVtbnM6W10sb3JkZXI6W10sc3RhcnQ6aCxsZW5ndGg6aixzZWFyY2g6e3ZhbHVlOmQuc1NlYXJjaCxyZWdleDpkLmJSZWdleH19O2ZvcihoPTA7aDxjO2grKyluPWJbaF0sbT1mW2hdLGo9XCJmdW5jdGlvblwiPT10eXBlb2Ygbi5tRGF0YT9cImZ1bmN0aW9uXCI6bi5tRGF0YSxsLmNvbHVtbnMucHVzaCh7ZGF0YTpqLG5hbWU6bi5zTmFtZSxzZWFyY2hhYmxlOm4uYlNlYXJjaGFibGUsb3JkZXJhYmxlOm4uYlNvcnRhYmxlLHNlYXJjaDp7dmFsdWU6bS5zU2VhcmNoLHJlZ2V4Om0uYlJlZ2V4fX0pLFxuayhcIm1EYXRhUHJvcF9cIitoLGopLGUuYkZpbHRlciYmKGsoXCJzU2VhcmNoX1wiK2gsbS5zU2VhcmNoKSxrKFwiYlJlZ2V4X1wiK2gsbS5iUmVnZXgpLGsoXCJiU2VhcmNoYWJsZV9cIitoLG4uYlNlYXJjaGFibGUpKSxlLmJTb3J0JiZrKFwiYlNvcnRhYmxlX1wiK2gsbi5iU29ydGFibGUpO2UuYkZpbHRlciYmKGsoXCJzU2VhcmNoXCIsZC5zU2VhcmNoKSxrKFwiYlJlZ2V4XCIsZC5iUmVnZXgpKTtlLmJTb3J0JiYoZy5lYWNoKG8sZnVuY3Rpb24oYSxiKXtsLm9yZGVyLnB1c2goe2NvbHVtbjpiLmNvbCxkaXI6Yi5kaXJ9KTtrKFwiaVNvcnRDb2xfXCIrYSxiLmNvbCk7ayhcInNTb3J0RGlyX1wiK2EsYi5kaXIpfSksayhcImlTb3J0aW5nQ29sc1wiLG8ubGVuZ3RoKSk7Yj1wLmV4dC5sZWdhY3kuYWpheDtyZXR1cm4gbnVsbD09PWI/YS5zQWpheFNvdXJjZT9pOmw6Yj9pOmx9ZnVuY3Rpb24gdGIoYSxiKXt2YXIgYz1iLnNFY2hvIT09bD9iLnNFY2hvOmIuZHJhdyxlPWIuaVRvdGFsUmVjb3JkcyE9PWw/Yi5pVG90YWxSZWNvcmRzOlxuYi5yZWNvcmRzVG90YWwsZD1iLmlUb3RhbERpc3BsYXlSZWNvcmRzIT09bD9iLmlUb3RhbERpc3BsYXlSZWNvcmRzOmIucmVjb3Jkc0ZpbHRlcmVkO2lmKGMpe2lmKDEqYzxhLmlEcmF3KXJldHVybjthLmlEcmF3PTEqY31uYShhKTthLl9pUmVjb3Jkc1RvdGFsPXBhcnNlSW50KGUsMTApO2EuX2lSZWNvcmRzRGlzcGxheT1wYXJzZUludChkLDEwKTtjPXJhKGEsYik7ZT0wO2ZvcihkPWMubGVuZ3RoO2U8ZDtlKyspSShhLGNbZV0pO2EuYWlEaXNwbGF5PWEuYWlEaXNwbGF5TWFzdGVyLnNsaWNlKCk7YS5iQWpheERhdGFHZXQ9ITE7TChhKTthLl9iSW5pdENvbXBsZXRlfHxzYShhLGIpO2EuYkFqYXhEYXRhR2V0PSEwO0IoYSwhMSl9ZnVuY3Rpb24gcmEoYSxiKXt2YXIgYz1nLmlzUGxhaW5PYmplY3QoYS5hamF4KSYmYS5hamF4LmRhdGFTcmMhPT1sP2EuYWpheC5kYXRhU3JjOmEuc0FqYXhEYXRhUHJvcDtyZXR1cm5cImRhdGFcIj09PWM/Yi5hYURhdGF8fGJbY106XCJcIiE9PWM/VyhjKShiKTpcbmJ9ZnVuY3Rpb24gbmIoYSl7dmFyIGI9YS5vQ2xhc3NlcyxjPWEuc1RhYmxlSWQsZT1hLm9MYW5ndWFnZSxkPWEub1ByZXZpb3VzU2VhcmNoLGY9YS5hYW5GZWF0dXJlcyxoPSc8aW5wdXQgdHlwZT1cInNlYXJjaFwiIGNsYXNzPVwiJytiLnNGaWx0ZXJJbnB1dCsnXCIvPicsaT1lLnNTZWFyY2gsaT1pLm1hdGNoKC9fSU5QVVRfLyk/aS5yZXBsYWNlKFwiX0lOUFVUX1wiLGgpOmkraCxiPWcoXCI8ZGl2Lz5cIix7aWQ6IWYuZj9jK1wiX2ZpbHRlclwiOm51bGwsXCJjbGFzc1wiOmIuc0ZpbHRlcn0pLmFwcGVuZChnKFwiPGxhYmVsLz5cIikuYXBwZW5kKGkpKSxmPWZ1bmN0aW9uKCl7dmFyIGI9IXRoaXMudmFsdWU/XCJcIjp0aGlzLnZhbHVlO2IhPWQuc1NlYXJjaCYmKGZhKGEse3NTZWFyY2g6YixiUmVnZXg6ZC5iUmVnZXgsYlNtYXJ0OmQuYlNtYXJ0LGJDYXNlSW5zZW5zaXRpdmU6ZC5iQ2FzZUluc2Vuc2l0aXZlfSksYS5faURpc3BsYXlTdGFydD0wLEwoYSkpfSxoPW51bGwhPT1hLnNlYXJjaERlbGF5P2Euc2VhcmNoRGVsYXk6XG5cInNzcFwiPT09QShhKT80MDA6MCxqPWcoXCJpbnB1dFwiLGIpLnZhbChkLnNTZWFyY2gpLmF0dHIoXCJwbGFjZWhvbGRlclwiLGUuc1NlYXJjaFBsYWNlaG9sZGVyKS5iaW5kKFwia2V5dXAuRFQgc2VhcmNoLkRUIGlucHV0LkRUIHBhc3RlLkRUIGN1dC5EVFwiLGg/dGEoZixoKTpmKS5iaW5kKFwia2V5cHJlc3MuRFRcIixmdW5jdGlvbihhKXtpZigxMz09YS5rZXlDb2RlKXJldHVybiExfSkuYXR0cihcImFyaWEtY29udHJvbHNcIixjKTtnKGEublRhYmxlKS5vbihcInNlYXJjaC5kdC5EVFwiLGZ1bmN0aW9uKGIsYyl7aWYoYT09PWMpdHJ5e2pbMF0hPT1QLmFjdGl2ZUVsZW1lbnQmJmoudmFsKGQuc1NlYXJjaCl9Y2F0Y2goZil7fX0pO3JldHVybiBiWzBdfWZ1bmN0aW9uIGZhKGEsYixjKXt2YXIgZT1hLm9QcmV2aW91c1NlYXJjaCxkPWEuYW9QcmVTZWFyY2hDb2xzLGY9ZnVuY3Rpb24oYSl7ZS5zU2VhcmNoPWEuc1NlYXJjaDtlLmJSZWdleD1hLmJSZWdleDtlLmJTbWFydD1hLmJTbWFydDtlLmJDYXNlSW5zZW5zaXRpdmU9XG5hLmJDYXNlSW5zZW5zaXRpdmV9O0dhKGEpO2lmKFwic3NwXCIhPUEoYSkpe3ViKGEsYi5zU2VhcmNoLGMsYi5iRXNjYXBlUmVnZXghPT1sPyFiLmJFc2NhcGVSZWdleDpiLmJSZWdleCxiLmJTbWFydCxiLmJDYXNlSW5zZW5zaXRpdmUpO2YoYik7Zm9yKGI9MDtiPGQubGVuZ3RoO2IrKyl2YihhLGRbYl0uc1NlYXJjaCxiLGRbYl0uYkVzY2FwZVJlZ2V4IT09bD8hZFtiXS5iRXNjYXBlUmVnZXg6ZFtiXS5iUmVnZXgsZFtiXS5iU21hcnQsZFtiXS5iQ2FzZUluc2Vuc2l0aXZlKTt3YihhKX1lbHNlIGYoYik7YS5iRmlsdGVyZWQ9ITA7dShhLG51bGwsXCJzZWFyY2hcIixbYV0pfWZ1bmN0aW9uIHdiKGEpe2Zvcih2YXIgYj1wLmV4dC5zZWFyY2gsYz1hLmFpRGlzcGxheSxlLGQsZj0wLGg9Yi5sZW5ndGg7ZjxoO2YrKyl7Zm9yKHZhciBpPVtdLGo9MCxnPWMubGVuZ3RoO2o8ZztqKyspZD1jW2pdLGU9YS5hb0RhdGFbZF0sYltmXShhLGUuX2FGaWx0ZXJEYXRhLGQsZS5fYURhdGEsaikmJmkucHVzaChkKTtcbmMubGVuZ3RoPTA7Yy5wdXNoLmFwcGx5KGMsaSl9fWZ1bmN0aW9uIHZiKGEsYixjLGUsZCxmKXtpZihcIlwiIT09Yilmb3IodmFyIGg9YS5haURpc3BsYXksZT1QYShiLGUsZCxmKSxkPWgubGVuZ3RoLTE7MDw9ZDtkLS0pYj1hLmFvRGF0YVtoW2RdXS5fYUZpbHRlckRhdGFbY10sZS50ZXN0KGIpfHxoLnNwbGljZShkLDEpfWZ1bmN0aW9uIHViKGEsYixjLGUsZCxmKXt2YXIgZT1QYShiLGUsZCxmKSxkPWEub1ByZXZpb3VzU2VhcmNoLnNTZWFyY2gsZj1hLmFpRGlzcGxheU1hc3RlcixoOzAhPT1wLmV4dC5zZWFyY2gubGVuZ3RoJiYoYz0hMCk7aD14YihhKTtpZigwPj1iLmxlbmd0aClhLmFpRGlzcGxheT1mLnNsaWNlKCk7ZWxzZXtpZihofHxjfHxkLmxlbmd0aD5iLmxlbmd0aHx8MCE9PWIuaW5kZXhPZihkKXx8YS5iU29ydGVkKWEuYWlEaXNwbGF5PWYuc2xpY2UoKTtiPWEuYWlEaXNwbGF5O2ZvcihjPWIubGVuZ3RoLTE7MDw9YztjLS0pZS50ZXN0KGEuYW9EYXRhW2JbY11dLl9zRmlsdGVyUm93KXx8XG5iLnNwbGljZShjLDEpfX1mdW5jdGlvbiBQYShhLGIsYyxlKXthPWI/YTp1YShhKTtjJiYoYT1cIl4oPz0uKj9cIitnLm1hcChhLm1hdGNoKC9cIlteXCJdK1wifFteIF0rL2cpfHxcIlwiLGZ1bmN0aW9uKGEpe2lmKCdcIic9PT1hLmNoYXJBdCgwKSl2YXIgYj1hLm1hdGNoKC9eXCIoLiopXCIkLyksYT1iP2JbMV06YTtyZXR1cm4gYS5yZXBsYWNlKCdcIicsXCJcIil9KS5qb2luKFwiKSg/PS4qP1wiKStcIikuKiRcIik7cmV0dXJuIFJlZ0V4cChhLGU/XCJpXCI6XCJcIil9ZnVuY3Rpb24gdWEoYSl7cmV0dXJuIGEucmVwbGFjZShYYixcIlxcXFwkMVwiKX1mdW5jdGlvbiB4YihhKXt2YXIgYj1hLmFvQ29sdW1ucyxjLGUsZCxmLGgsaSxnLG4sbT1wLmV4dC50eXBlLnNlYXJjaDtjPSExO2U9MDtmb3IoZj1hLmFvRGF0YS5sZW5ndGg7ZTxmO2UrKylpZihuPWEuYW9EYXRhW2VdLCFuLl9hRmlsdGVyRGF0YSl7aT1bXTtkPTA7Zm9yKGg9Yi5sZW5ndGg7ZDxoO2QrKyljPWJbZF0sYy5iU2VhcmNoYWJsZT8oZz12KGEsZSxkLFwiZmlsdGVyXCIpLFxubVtjLnNUeXBlXSYmKGc9bVtjLnNUeXBlXShnKSksbnVsbD09PWcmJihnPVwiXCIpLFwic3RyaW5nXCIhPT10eXBlb2YgZyYmZy50b1N0cmluZyYmKGc9Zy50b1N0cmluZygpKSk6Zz1cIlwiLGcuaW5kZXhPZiYmLTEhPT1nLmluZGV4T2YoXCImXCIpJiYodmEuaW5uZXJIVE1MPWcsZz1ZYj92YS50ZXh0Q29udGVudDp2YS5pbm5lclRleHQpLGcucmVwbGFjZSYmKGc9Zy5yZXBsYWNlKC9bXFxyXFxuXS9nLFwiXCIpKSxpLnB1c2goZyk7bi5fYUZpbHRlckRhdGE9aTtuLl9zRmlsdGVyUm93PWkuam9pbihcIiAgXCIpO2M9ITB9cmV0dXJuIGN9ZnVuY3Rpb24geWIoYSl7cmV0dXJue3NlYXJjaDphLnNTZWFyY2gsc21hcnQ6YS5iU21hcnQscmVnZXg6YS5iUmVnZXgsY2FzZUluc2Vuc2l0aXZlOmEuYkNhc2VJbnNlbnNpdGl2ZX19ZnVuY3Rpb24gemIoYSl7cmV0dXJue3NTZWFyY2g6YS5zZWFyY2gsYlNtYXJ0OmEuc21hcnQsYlJlZ2V4OmEucmVnZXgsYkNhc2VJbnNlbnNpdGl2ZTphLmNhc2VJbnNlbnNpdGl2ZX19XG5mdW5jdGlvbiBxYihhKXt2YXIgYj1hLnNUYWJsZUlkLGM9YS5hYW5GZWF0dXJlcy5pLGU9ZyhcIjxkaXYvPlwiLHtcImNsYXNzXCI6YS5vQ2xhc3Nlcy5zSW5mbyxpZDohYz9iK1wiX2luZm9cIjpudWxsfSk7Y3x8KGEuYW9EcmF3Q2FsbGJhY2sucHVzaCh7Zm46QWIsc05hbWU6XCJpbmZvcm1hdGlvblwifSksZS5hdHRyKFwicm9sZVwiLFwic3RhdHVzXCIpLmF0dHIoXCJhcmlhLWxpdmVcIixcInBvbGl0ZVwiKSxnKGEublRhYmxlKS5hdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiLGIrXCJfaW5mb1wiKSk7cmV0dXJuIGVbMF19ZnVuY3Rpb24gQWIoYSl7dmFyIGI9YS5hYW5GZWF0dXJlcy5pO2lmKDAhPT1iLmxlbmd0aCl7dmFyIGM9YS5vTGFuZ3VhZ2UsZT1hLl9pRGlzcGxheVN0YXJ0KzEsZD1hLmZuRGlzcGxheUVuZCgpLGY9YS5mblJlY29yZHNUb3RhbCgpLGg9YS5mblJlY29yZHNEaXNwbGF5KCksaT1oP2Muc0luZm86Yy5zSW5mb0VtcHR5O2ghPT1mJiYoaSs9XCIgXCIrYy5zSW5mb0ZpbHRlcmVkKTtpKz1jLnNJbmZvUG9zdEZpeDtcbmk9QmIoYSxpKTtjPWMuZm5JbmZvQ2FsbGJhY2s7bnVsbCE9PWMmJihpPWMuY2FsbChhLm9JbnN0YW5jZSxhLGUsZCxmLGgsaSkpO2coYikuaHRtbChpKX19ZnVuY3Rpb24gQmIoYSxiKXt2YXIgYz1hLmZuRm9ybWF0TnVtYmVyLGU9YS5faURpc3BsYXlTdGFydCsxLGQ9YS5faURpc3BsYXlMZW5ndGgsZj1hLmZuUmVjb3Jkc0Rpc3BsYXkoKSxoPS0xPT09ZDtyZXR1cm4gYi5yZXBsYWNlKC9fU1RBUlRfL2csYy5jYWxsKGEsZSkpLnJlcGxhY2UoL19FTkRfL2csYy5jYWxsKGEsYS5mbkRpc3BsYXlFbmQoKSkpLnJlcGxhY2UoL19NQVhfL2csYy5jYWxsKGEsYS5mblJlY29yZHNUb3RhbCgpKSkucmVwbGFjZSgvX1RPVEFMXy9nLGMuY2FsbChhLGYpKS5yZXBsYWNlKC9fUEFHRV8vZyxjLmNhbGwoYSxoPzE6TWF0aC5jZWlsKGUvZCkpKS5yZXBsYWNlKC9fUEFHRVNfL2csYy5jYWxsKGEsaD8xOk1hdGguY2VpbChmL2QpKSl9ZnVuY3Rpb24gZ2EoYSl7dmFyIGIsYyxlPWEuaUluaXREaXNwbGF5U3RhcnQsXG5kPWEuYW9Db2x1bW5zLGY7Yz1hLm9GZWF0dXJlcztpZihhLmJJbml0aWFsaXNlZCl7bGIoYSk7aWIoYSk7ZWEoYSxhLmFvSGVhZGVyKTtlYShhLGEuYW9Gb290ZXIpO0IoYSwhMCk7Yy5iQXV0b1dpZHRoJiZGYShhKTtiPTA7Zm9yKGM9ZC5sZW5ndGg7YjxjO2IrKylmPWRbYl0sZi5zV2lkdGgmJihmLm5UaC5zdHlsZS53aWR0aD1zKGYuc1dpZHRoKSk7TShhKTtkPUEoYSk7XCJzc3BcIiE9ZCYmKFwiYWpheFwiPT1kP3FhKGEsW10sZnVuY3Rpb24oYyl7dmFyIGY9cmEoYSxjKTtmb3IoYj0wO2I8Zi5sZW5ndGg7YisrKUkoYSxmW2JdKTthLmlJbml0RGlzcGxheVN0YXJ0PWU7TShhKTtCKGEsITEpO3NhKGEsYyl9LGEpOihCKGEsITEpLHNhKGEpKSl9ZWxzZSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Z2EoYSl9LDIwMCl9ZnVuY3Rpb24gc2EoYSxiKXthLl9iSW5pdENvbXBsZXRlPSEwO2ImJlgoYSk7dShhLFwiYW9Jbml0Q29tcGxldGVcIixcImluaXRcIixbYSxiXSl9ZnVuY3Rpb24gUWEoYSxiKXt2YXIgYz1cbnBhcnNlSW50KGIsMTApO2EuX2lEaXNwbGF5TGVuZ3RoPWM7UmEoYSk7dShhLG51bGwsXCJsZW5ndGhcIixbYSxjXSl9ZnVuY3Rpb24gbWIoYSl7Zm9yKHZhciBiPWEub0NsYXNzZXMsYz1hLnNUYWJsZUlkLGU9YS5hTGVuZ3RoTWVudSxkPWcuaXNBcnJheShlWzBdKSxmPWQ/ZVswXTplLGU9ZD9lWzFdOmUsZD1nKFwiPHNlbGVjdC8+XCIse25hbWU6YytcIl9sZW5ndGhcIixcImFyaWEtY29udHJvbHNcIjpjLFwiY2xhc3NcIjpiLnNMZW5ndGhTZWxlY3R9KSxoPTAsaT1mLmxlbmd0aDtoPGk7aCsrKWRbMF1baF09bmV3IE9wdGlvbihlW2hdLGZbaF0pO3ZhciBqPWcoXCI8ZGl2PjxsYWJlbC8+PC9kaXY+XCIpLmFkZENsYXNzKGIuc0xlbmd0aCk7YS5hYW5GZWF0dXJlcy5sfHwoalswXS5pZD1jK1wiX2xlbmd0aFwiKTtqLmNoaWxkcmVuKCkuYXBwZW5kKGEub0xhbmd1YWdlLnNMZW5ndGhNZW51LnJlcGxhY2UoXCJfTUVOVV9cIixkWzBdLm91dGVySFRNTCkpO2coXCJzZWxlY3RcIixqKS52YWwoYS5faURpc3BsYXlMZW5ndGgpLmJpbmQoXCJjaGFuZ2UuRFRcIixcbmZ1bmN0aW9uKCl7UWEoYSxnKHRoaXMpLnZhbCgpKTtMKGEpfSk7ZyhhLm5UYWJsZSkuYmluZChcImxlbmd0aC5kdC5EVFwiLGZ1bmN0aW9uKGIsYyxmKXthPT09YyYmZyhcInNlbGVjdFwiLGopLnZhbChmKX0pO3JldHVybiBqWzBdfWZ1bmN0aW9uIHJiKGEpe3ZhciBiPWEuc1BhZ2luYXRpb25UeXBlLGM9cC5leHQucGFnZXJbYl0sZT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgYyxkPWZ1bmN0aW9uKGEpe0woYSl9LGI9ZyhcIjxkaXYvPlwiKS5hZGRDbGFzcyhhLm9DbGFzc2VzLnNQYWdpbmcrYilbMF0sZj1hLmFhbkZlYXR1cmVzO2V8fGMuZm5Jbml0KGEsYixkKTtmLnB8fChiLmlkPWEuc1RhYmxlSWQrXCJfcGFnaW5hdGVcIixhLmFvRHJhd0NhbGxiYWNrLnB1c2goe2ZuOmZ1bmN0aW9uKGEpe2lmKGUpe3ZhciBiPWEuX2lEaXNwbGF5U3RhcnQsZz1hLl9pRGlzcGxheUxlbmd0aCxuPWEuZm5SZWNvcmRzRGlzcGxheSgpLG09LTE9PT1nLGI9bT8wOk1hdGguY2VpbChiL2cpLGc9bT8xOk1hdGguY2VpbChuL1xuZyksbj1jKGIsZyksbyxtPTA7Zm9yKG89Zi5wLmxlbmd0aDttPG87bSsrKU9hKGEsXCJwYWdlQnV0dG9uXCIpKGEsZi5wW21dLG0sbixiLGcpfWVsc2UgYy5mblVwZGF0ZShhLGQpfSxzTmFtZTpcInBhZ2luYXRpb25cIn0pKTtyZXR1cm4gYn1mdW5jdGlvbiBTYShhLGIsYyl7dmFyIGU9YS5faURpc3BsYXlTdGFydCxkPWEuX2lEaXNwbGF5TGVuZ3RoLGY9YS5mblJlY29yZHNEaXNwbGF5KCk7MD09PWZ8fC0xPT09ZD9lPTA6XCJudW1iZXJcIj09PXR5cGVvZiBiPyhlPWIqZCxlPmYmJihlPTApKTpcImZpcnN0XCI9PWI/ZT0wOlwicHJldmlvdXNcIj09Yj8oZT0wPD1kP2UtZDowLDA+ZSYmKGU9MCkpOlwibmV4dFwiPT1iP2UrZDxmJiYoZSs9ZCk6XCJsYXN0XCI9PWI/ZT1NYXRoLmZsb29yKChmLTEpL2QpKmQ6UihhLDAsXCJVbmtub3duIHBhZ2luZyBhY3Rpb246IFwiK2IsNSk7Yj1hLl9pRGlzcGxheVN0YXJ0IT09ZTthLl9pRGlzcGxheVN0YXJ0PWU7YiYmKHUoYSxudWxsLFwicGFnZVwiLFthXSksYyYmTChhKSk7XG5yZXR1cm4gYn1mdW5jdGlvbiBvYihhKXtyZXR1cm4gZyhcIjxkaXYvPlwiLHtpZDohYS5hYW5GZWF0dXJlcy5yP2Euc1RhYmxlSWQrXCJfcHJvY2Vzc2luZ1wiOm51bGwsXCJjbGFzc1wiOmEub0NsYXNzZXMuc1Byb2Nlc3Npbmd9KS5odG1sKGEub0xhbmd1YWdlLnNQcm9jZXNzaW5nKS5pbnNlcnRCZWZvcmUoYS5uVGFibGUpWzBdfWZ1bmN0aW9uIEIoYSxiKXthLm9GZWF0dXJlcy5iUHJvY2Vzc2luZyYmZyhhLmFhbkZlYXR1cmVzLnIpLmNzcyhcImRpc3BsYXlcIixiP1wiYmxvY2tcIjpcIm5vbmVcIik7dShhLG51bGwsXCJwcm9jZXNzaW5nXCIsW2EsYl0pfWZ1bmN0aW9uIHBiKGEpe3ZhciBiPWcoYS5uVGFibGUpO2IuYXR0cihcInJvbGVcIixcImdyaWRcIik7dmFyIGM9YS5vU2Nyb2xsO2lmKFwiXCI9PT1jLnNYJiZcIlwiPT09Yy5zWSlyZXR1cm4gYS5uVGFibGU7dmFyIGU9Yy5zWCxkPWMuc1ksZj1hLm9DbGFzc2VzLGg9Yi5jaGlsZHJlbihcImNhcHRpb25cIiksaT1oLmxlbmd0aD9oWzBdLl9jYXB0aW9uU2lkZTpudWxsLFxuaj1nKGJbMF0uY2xvbmVOb2RlKCExKSksbj1nKGJbMF0uY2xvbmVOb2RlKCExKSksbT1iLmNoaWxkcmVuKFwidGZvb3RcIik7Yy5zWCYmXCIxMDAlXCI9PT1iLmF0dHIoXCJ3aWR0aFwiKSYmYi5yZW1vdmVBdHRyKFwid2lkdGhcIik7bS5sZW5ndGh8fChtPW51bGwpO2M9ZyhcIjxkaXYvPlwiLHtcImNsYXNzXCI6Zi5zU2Nyb2xsV3JhcHBlcn0pLmFwcGVuZChnKFwiPGRpdi8+XCIse1wiY2xhc3NcIjpmLnNTY3JvbGxIZWFkfSkuY3NzKHtvdmVyZmxvdzpcImhpZGRlblwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixib3JkZXI6MCx3aWR0aDplPyFlP251bGw6cyhlKTpcIjEwMCVcIn0pLmFwcGVuZChnKFwiPGRpdi8+XCIse1wiY2xhc3NcIjpmLnNTY3JvbGxIZWFkSW5uZXJ9KS5jc3Moe1wiYm94LXNpemluZ1wiOlwiY29udGVudC1ib3hcIix3aWR0aDpjLnNYSW5uZXJ8fFwiMTAwJVwifSkuYXBwZW5kKGoucmVtb3ZlQXR0cihcImlkXCIpLmNzcyhcIm1hcmdpbi1sZWZ0XCIsMCkuYXBwZW5kKFwidG9wXCI9PT1pP2g6bnVsbCkuYXBwZW5kKGIuY2hpbGRyZW4oXCJ0aGVhZFwiKSkpKSkuYXBwZW5kKGcoXCI8ZGl2Lz5cIixcbntcImNsYXNzXCI6Zi5zU2Nyb2xsQm9keX0pLmNzcyh7b3ZlcmZsb3c6XCJhdXRvXCIsaGVpZ2h0OiFkP251bGw6cyhkKSx3aWR0aDohZT9udWxsOnMoZSl9KS5hcHBlbmQoYikpO20mJmMuYXBwZW5kKGcoXCI8ZGl2Lz5cIix7XCJjbGFzc1wiOmYuc1Njcm9sbEZvb3R9KS5jc3Moe292ZXJmbG93OlwiaGlkZGVuXCIsYm9yZGVyOjAsd2lkdGg6ZT8hZT9udWxsOnMoZSk6XCIxMDAlXCJ9KS5hcHBlbmQoZyhcIjxkaXYvPlwiLHtcImNsYXNzXCI6Zi5zU2Nyb2xsRm9vdElubmVyfSkuYXBwZW5kKG4ucmVtb3ZlQXR0cihcImlkXCIpLmNzcyhcIm1hcmdpbi1sZWZ0XCIsMCkuYXBwZW5kKFwiYm90dG9tXCI9PT1pP2g6bnVsbCkuYXBwZW5kKGIuY2hpbGRyZW4oXCJ0Zm9vdFwiKSkpKSk7dmFyIGI9Yy5jaGlsZHJlbigpLG89YlswXSxmPWJbMV0saz1tP2JbMl06bnVsbDtlJiZnKGYpLnNjcm9sbChmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2Nyb2xsTGVmdDtvLnNjcm9sbExlZnQ9YTttJiYoay5zY3JvbGxMZWZ0PWEpfSk7YS5uU2Nyb2xsSGVhZD1cbm87YS5uU2Nyb2xsQm9keT1mO2EublNjcm9sbEZvb3Q9azthLmFvRHJhd0NhbGxiYWNrLnB1c2goe2ZuOlksc05hbWU6XCJzY3JvbGxpbmdcIn0pO3JldHVybiBjWzBdfWZ1bmN0aW9uIFkoYSl7dmFyIGI9YS5vU2Nyb2xsLGM9Yi5zWCxlPWIuc1hJbm5lcixkPWIuc1ksZj1iLmlCYXJXaWR0aCxoPWcoYS5uU2Nyb2xsSGVhZCksaT1oWzBdLnN0eWxlLGo9aC5jaGlsZHJlbihcImRpdlwiKSxuPWpbMF0uc3R5bGUsbT1qLmNoaWxkcmVuKFwidGFibGVcIiksaj1hLm5TY3JvbGxCb2R5LG89ZyhqKSxrPWouc3R5bGUsbD1nKGEublNjcm9sbEZvb3QpLmNoaWxkcmVuKFwiZGl2XCIpLHA9bC5jaGlsZHJlbihcInRhYmxlXCIpLHI9ZyhhLm5USGVhZCkscT1nKGEublRhYmxlKSx0PXFbMF0sTj10LnN0eWxlLEo9YS5uVEZvb3Q/ZyhhLm5URm9vdCk6bnVsbCx1PWEub0Jyb3dzZXIsdz11LmJTY3JvbGxPdmVyc2l6ZSx5LHYseCxLLHosQT1bXSxCPVtdLEM9W10sRCxFPWZ1bmN0aW9uKGEpe2E9YS5zdHlsZTthLnBhZGRpbmdUb3A9XG5cIjBcIjthLnBhZGRpbmdCb3R0b209XCIwXCI7YS5ib3JkZXJUb3BXaWR0aD1cIjBcIjthLmJvcmRlckJvdHRvbVdpZHRoPVwiMFwiO2EuaGVpZ2h0PTB9O3EuY2hpbGRyZW4oXCJ0aGVhZCwgdGZvb3RcIikucmVtb3ZlKCk7ej1yLmNsb25lKCkucHJlcGVuZFRvKHEpO3k9ci5maW5kKFwidHJcIik7eD16LmZpbmQoXCJ0clwiKTt6LmZpbmQoXCJ0aCwgdGRcIikucmVtb3ZlQXR0cihcInRhYmluZGV4XCIpO0omJihLPUouY2xvbmUoKS5wcmVwZW5kVG8ocSksdj1KLmZpbmQoXCJ0clwiKSxLPUsuZmluZChcInRyXCIpKTtjfHwoay53aWR0aD1cIjEwMCVcIixoWzBdLnN0eWxlLndpZHRoPVwiMTAwJVwiKTtnLmVhY2gocGEoYSx6KSxmdW5jdGlvbihiLGMpe0Q9a2EoYSxiKTtjLnN0eWxlLndpZHRoPWEuYW9Db2x1bW5zW0RdLnNXaWR0aH0pO0omJkYoZnVuY3Rpb24oYSl7YS5zdHlsZS53aWR0aD1cIlwifSxLKTtiLmJDb2xsYXBzZSYmXCJcIiE9PWQmJihrLmhlaWdodD1vWzBdLm9mZnNldEhlaWdodCtyWzBdLm9mZnNldEhlaWdodCtcInB4XCIpO1xuaD1xLm91dGVyV2lkdGgoKTtpZihcIlwiPT09Yyl7aWYoTi53aWR0aD1cIjEwMCVcIix3JiYocS5maW5kKFwidGJvZHlcIikuaGVpZ2h0KCk+ai5vZmZzZXRIZWlnaHR8fFwic2Nyb2xsXCI9PW8uY3NzKFwib3ZlcmZsb3cteVwiKSkpTi53aWR0aD1zKHEub3V0ZXJXaWR0aCgpLWYpfWVsc2VcIlwiIT09ZT9OLndpZHRoPXMoZSk6aD09by53aWR0aCgpJiZvLmhlaWdodCgpPHEuaGVpZ2h0KCk/KE4ud2lkdGg9cyhoLWYpLHEub3V0ZXJXaWR0aCgpPmgtZiYmKE4ud2lkdGg9cyhoKSkpOk4ud2lkdGg9cyhoKTtoPXEub3V0ZXJXaWR0aCgpO0YoRSx4KTtGKGZ1bmN0aW9uKGEpe0MucHVzaChhLmlubmVySFRNTCk7QS5wdXNoKHMoZyhhKS5jc3MoXCJ3aWR0aFwiKSkpfSx4KTtGKGZ1bmN0aW9uKGEsYil7YS5zdHlsZS53aWR0aD1BW2JdfSx5KTtnKHgpLmhlaWdodCgwKTtKJiYoRihFLEspLEYoZnVuY3Rpb24oYSl7Qi5wdXNoKHMoZyhhKS5jc3MoXCJ3aWR0aFwiKSkpfSxLKSxGKGZ1bmN0aW9uKGEsYil7YS5zdHlsZS53aWR0aD1cbkJbYl19LHYpLGcoSykuaGVpZ2h0KDApKTtGKGZ1bmN0aW9uKGEsYil7YS5pbm5lckhUTUw9JzxkaXYgY2xhc3M9XCJkYXRhVGFibGVzX3NpemluZ1wiIHN0eWxlPVwiaGVpZ2h0OjA7b3ZlcmZsb3c6aGlkZGVuO1wiPicrQ1tiXStcIjwvZGl2PlwiO2Euc3R5bGUud2lkdGg9QVtiXX0seCk7SiYmRihmdW5jdGlvbihhLGIpe2EuaW5uZXJIVE1MPVwiXCI7YS5zdHlsZS53aWR0aD1CW2JdfSxLKTtpZihxLm91dGVyV2lkdGgoKTxoKXt2PWouc2Nyb2xsSGVpZ2h0Pmoub2Zmc2V0SGVpZ2h0fHxcInNjcm9sbFwiPT1vLmNzcyhcIm92ZXJmbG93LXlcIik/aCtmOmg7aWYodyYmKGouc2Nyb2xsSGVpZ2h0Pmoub2Zmc2V0SGVpZ2h0fHxcInNjcm9sbFwiPT1vLmNzcyhcIm92ZXJmbG93LXlcIikpKU4ud2lkdGg9cyh2LWYpOyhcIlwiPT09Y3x8XCJcIiE9PWUpJiZSKGEsMSxcIlBvc3NpYmxlIGNvbHVtbiBtaXNhbGlnbm1lbnRcIiw2KX1lbHNlIHY9XCIxMDAlXCI7ay53aWR0aD1zKHYpO2kud2lkdGg9cyh2KTtKJiYoYS5uU2Nyb2xsRm9vdC5zdHlsZS53aWR0aD1cbnModikpOyFkJiZ3JiYoay5oZWlnaHQ9cyh0Lm9mZnNldEhlaWdodCtmKSk7ZCYmYi5iQ29sbGFwc2UmJihrLmhlaWdodD1zKGQpLGI9YyYmdC5vZmZzZXRXaWR0aD5qLm9mZnNldFdpZHRoP2Y6MCx0Lm9mZnNldEhlaWdodDxqLm9mZnNldEhlaWdodCYmKGsuaGVpZ2h0PXModC5vZmZzZXRIZWlnaHQrYikpKTtiPXEub3V0ZXJXaWR0aCgpO21bMF0uc3R5bGUud2lkdGg9cyhiKTtuLndpZHRoPXMoYik7bT1xLmhlaWdodCgpPmouY2xpZW50SGVpZ2h0fHxcInNjcm9sbFwiPT1vLmNzcyhcIm92ZXJmbG93LXlcIik7dT1cInBhZGRpbmdcIisodS5iU2Nyb2xsYmFyTGVmdD9cIkxlZnRcIjpcIlJpZ2h0XCIpO25bdV09bT9mK1wicHhcIjpcIjBweFwiO0omJihwWzBdLnN0eWxlLndpZHRoPXMoYiksbFswXS5zdHlsZS53aWR0aD1zKGIpLGxbMF0uc3R5bGVbdV09bT9mK1wicHhcIjpcIjBweFwiKTtvLnNjcm9sbCgpO2lmKChhLmJTb3J0ZWR8fGEuYkZpbHRlcmVkKSYmIWEuX2RyYXdIb2xkKWouc2Nyb2xsVG9wPTB9ZnVuY3Rpb24gRihhLFxuYixjKXtmb3IodmFyIGU9MCxkPTAsZj1iLmxlbmd0aCxoLGc7ZDxmOyl7aD1iW2RdLmZpcnN0Q2hpbGQ7Zm9yKGc9Yz9jW2RdLmZpcnN0Q2hpbGQ6bnVsbDtoOykxPT09aC5ub2RlVHlwZSYmKGM/YShoLGcsZSk6YShoLGUpLGUrKyksaD1oLm5leHRTaWJsaW5nLGc9Yz9nLm5leHRTaWJsaW5nOm51bGw7ZCsrfX1mdW5jdGlvbiBGYShhKXt2YXIgYj1hLm5UYWJsZSxjPWEuYW9Db2x1bW5zLGU9YS5vU2Nyb2xsLGQ9ZS5zWSxmPWUuc1gsaD1lLnNYSW5uZXIsaT1jLmxlbmd0aCxlPVooYSxcImJWaXNpYmxlXCIpLGo9ZyhcInRoXCIsYS5uVEhlYWQpLG49Yi5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSxtPWIucGFyZW50Tm9kZSxvPSExLGssbDtmb3Ioaz0wO2s8ZS5sZW5ndGg7aysrKWw9Y1tlW2tdXSxudWxsIT09bC5zV2lkdGgmJihsLnNXaWR0aD1DYihsLnNXaWR0aE9yaWcsbSksbz0hMCk7aWYoIW8mJiFmJiYhZCYmaT09YWEoYSkmJmk9PWoubGVuZ3RoKWZvcihrPTA7azxpO2srKyljW2tdLnNXaWR0aD1cbnMoai5lcShrKS53aWR0aCgpKTtlbHNle2k9ZyhiKS5jbG9uZSgpLmVtcHR5KCkuY3NzKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLnJlbW92ZUF0dHIoXCJpZFwiKS5hcHBlbmQoZyhhLm5USGVhZCkuY2xvbmUoITEpKS5hcHBlbmQoZyhhLm5URm9vdCkuY2xvbmUoITEpKS5hcHBlbmQoZyhcIjx0Ym9keT48dHIvPjwvdGJvZHk+XCIpKTtpLmZpbmQoXCJ0Zm9vdCB0aCwgdGZvb3QgdGRcIikuY3NzKFwid2lkdGhcIixcIlwiKTt2YXIgcD1pLmZpbmQoXCJ0Ym9keSB0clwiKSxqPXBhKGEsaS5maW5kKFwidGhlYWRcIilbMF0pO2ZvcihrPTA7azxlLmxlbmd0aDtrKyspbD1jW2Vba11dLGpba10uc3R5bGUud2lkdGg9bnVsbCE9PWwuc1dpZHRoT3JpZyYmXCJcIiE9PWwuc1dpZHRoT3JpZz9zKGwuc1dpZHRoT3JpZyk6XCJcIjtpZihhLmFvRGF0YS5sZW5ndGgpZm9yKGs9MDtrPGUubGVuZ3RoO2srKylvPWVba10sbD1jW29dLGcoRGIoYSxvKSkuY2xvbmUoITEpLmFwcGVuZChsLnNDb250ZW50UGFkZGluZykuYXBwZW5kVG8ocCk7XG5pLmFwcGVuZFRvKG0pO2YmJmg/aS53aWR0aChoKTpmPyhpLmNzcyhcIndpZHRoXCIsXCJhdXRvXCIpLGkud2lkdGgoKTxtLm9mZnNldFdpZHRoJiZpLndpZHRoKG0ub2Zmc2V0V2lkdGgpKTpkP2kud2lkdGgobS5vZmZzZXRXaWR0aCk6biYmaS53aWR0aChuKTtFYihhLGlbMF0pO2lmKGYpe2ZvcihrPWg9MDtrPGUubGVuZ3RoO2srKylsPWNbZVtrXV0sZD1nKGpba10pLm91dGVyV2lkdGgoKSxoKz1udWxsPT09bC5zV2lkdGhPcmlnP2Q6cGFyc2VJbnQobC5zV2lkdGgsMTApK2QtZyhqW2tdKS53aWR0aCgpO2kud2lkdGgocyhoKSk7Yi5zdHlsZS53aWR0aD1zKGgpfWZvcihrPTA7azxlLmxlbmd0aDtrKyspaWYobD1jW2Vba11dLGQ9ZyhqW2tdKS53aWR0aCgpKWwuc1dpZHRoPXMoZCk7Yi5zdHlsZS53aWR0aD1zKGkuY3NzKFwid2lkdGhcIikpO2kucmVtb3ZlKCl9biYmKGIuc3R5bGUud2lkdGg9cyhuKSk7aWYoKG58fGYpJiYhYS5fcmVzekV2dClnKERhKS5iaW5kKFwicmVzaXplLkRULVwiK2Euc0luc3RhbmNlLFxudGEoZnVuY3Rpb24oKXtYKGEpfSkpLGEuX3Jlc3pFdnQ9ITB9ZnVuY3Rpb24gdGEoYSxiKXt2YXIgYz1iIT09bD9iOjIwMCxlLGQ7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxoPStuZXcgRGF0ZSxnPWFyZ3VtZW50cztlJiZoPGUrYz8oY2xlYXJUaW1lb3V0KGQpLGQ9c2V0VGltZW91dChmdW5jdGlvbigpe2U9bDthLmFwcGx5KGIsZyl9LGMpKTplPyhlPWgsYS5hcHBseShiLGcpKTplPWh9fWZ1bmN0aW9uIENiKGEsYil7aWYoIWEpcmV0dXJuIDA7dmFyIGM9ZyhcIjxkaXYvPlwiKS5jc3MoXCJ3aWR0aFwiLHMoYSkpLmFwcGVuZFRvKGJ8fFAuYm9keSksZT1jWzBdLm9mZnNldFdpZHRoO2MucmVtb3ZlKCk7cmV0dXJuIGV9ZnVuY3Rpb24gRWIoYSxiKXt2YXIgYz1hLm9TY3JvbGw7aWYoYy5zWHx8Yy5zWSljPSFjLnNYP2MuaUJhcldpZHRoOjAsYi5zdHlsZS53aWR0aD1zKGcoYikub3V0ZXJXaWR0aCgpLWMpfWZ1bmN0aW9uIERiKGEsYil7dmFyIGM9RmIoYSxiKTtpZigwPmMpcmV0dXJuIG51bGw7XG52YXIgZT1hLmFvRGF0YVtjXTtyZXR1cm4hZS5uVHI/ZyhcIjx0ZC8+XCIpLmh0bWwodihhLGMsYixcImRpc3BsYXlcIikpWzBdOmUuYW5DZWxsc1tiXX1mdW5jdGlvbiBGYihhLGIpe2Zvcih2YXIgYyxlPS0xLGQ9LTEsZj0wLGg9YS5hb0RhdGEubGVuZ3RoO2Y8aDtmKyspYz12KGEsZixiLFwiZGlzcGxheVwiKStcIlwiLGM9Yy5yZXBsYWNlKFpiLFwiXCIpLGMubGVuZ3RoPmUmJihlPWMubGVuZ3RoLGQ9Zik7cmV0dXJuIGR9ZnVuY3Rpb24gcyhhKXtyZXR1cm4gbnVsbD09PWE/XCIwcHhcIjpcIm51bWJlclwiPT10eXBlb2YgYT8wPmE/XCIwcHhcIjphK1wicHhcIjphLm1hdGNoKC9cXGQkLyk/YStcInB4XCI6YX1mdW5jdGlvbiBHYigpe2lmKCFwLl9fc2Nyb2xsYmFyV2lkdGgpe3ZhciBhPWcoXCI8cC8+XCIpLmNzcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OjIwMCxwYWRkaW5nOjB9KVswXSxiPWcoXCI8ZGl2Lz5cIikuY3NzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowLHdpZHRoOjIwMCxoZWlnaHQ6MTUwLHBhZGRpbmc6MCxcbm92ZXJmbG93OlwiaGlkZGVuXCIsdmlzaWJpbGl0eTpcImhpZGRlblwifSkuYXBwZW5kKGEpLmFwcGVuZFRvKFwiYm9keVwiKSxjPWEub2Zmc2V0V2lkdGg7Yi5jc3MoXCJvdmVyZmxvd1wiLFwic2Nyb2xsXCIpO2E9YS5vZmZzZXRXaWR0aDtjPT09YSYmKGE9YlswXS5jbGllbnRXaWR0aCk7Yi5yZW1vdmUoKTtwLl9fc2Nyb2xsYmFyV2lkdGg9Yy1hfXJldHVybiBwLl9fc2Nyb2xsYmFyV2lkdGh9ZnVuY3Rpb24gVChhKXt2YXIgYixjLGU9W10sZD1hLmFvQ29sdW1ucyxmLGgsaSxqO2I9YS5hYVNvcnRpbmdGaXhlZDtjPWcuaXNQbGFpbk9iamVjdChiKTt2YXIgbj1bXTtmPWZ1bmN0aW9uKGEpe2EubGVuZ3RoJiYhZy5pc0FycmF5KGFbMF0pP24ucHVzaChhKTpuLnB1c2guYXBwbHkobixhKX07Zy5pc0FycmF5KGIpJiZmKGIpO2MmJmIucHJlJiZmKGIucHJlKTtmKGEuYWFTb3J0aW5nKTtjJiZiLnBvc3QmJmYoYi5wb3N0KTtmb3IoYT0wO2E8bi5sZW5ndGg7YSsrKXtqPW5bYV1bMF07Zj1kW2pdLmFEYXRhU29ydDtcbmI9MDtmb3IoYz1mLmxlbmd0aDtiPGM7YisrKWg9ZltiXSxpPWRbaF0uc1R5cGV8fFwic3RyaW5nXCIsblthXS5faWR4PT09bCYmKG5bYV0uX2lkeD1nLmluQXJyYXkoblthXVsxXSxkW2hdLmFzU29ydGluZykpLGUucHVzaCh7c3JjOmosY29sOmgsZGlyOm5bYV1bMV0saW5kZXg6blthXS5faWR4LHR5cGU6aSxmb3JtYXR0ZXI6cC5leHQudHlwZS5vcmRlcltpK1wiLXByZVwiXX0pfXJldHVybiBlfWZ1bmN0aW9uIGtiKGEpe3ZhciBiLGMsZT1bXSxkPXAuZXh0LnR5cGUub3JkZXIsZj1hLmFvRGF0YSxoPTAsZyxqPWEuYWlEaXNwbGF5TWFzdGVyLG47R2EoYSk7bj1UKGEpO2I9MDtmb3IoYz1uLmxlbmd0aDtiPGM7YisrKWc9bltiXSxnLmZvcm1hdHRlciYmaCsrLEhiKGEsZy5jb2wpO2lmKFwic3NwXCIhPUEoYSkmJjAhPT1uLmxlbmd0aCl7Yj0wO2ZvcihjPWoubGVuZ3RoO2I8YztiKyspZVtqW2JdXT1iO2g9PT1uLmxlbmd0aD9qLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGgsZyxpPW4ubGVuZ3RoLFxuaj1mW2FdLl9hU29ydERhdGEsbD1mW2JdLl9hU29ydERhdGE7Zm9yKGg9MDtoPGk7aCsrKWlmKGc9bltoXSxjPWpbZy5jb2xdLGQ9bFtnLmNvbF0sYz1jPGQ/LTE6Yz5kPzE6MCwwIT09YylyZXR1cm5cImFzY1wiPT09Zy5kaXI/YzotYztjPWVbYV07ZD1lW2JdO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH0pOmouc29ydChmdW5jdGlvbihhLGIpe3ZhciBjLGgsZyxpLGo9bi5sZW5ndGgsbD1mW2FdLl9hU29ydERhdGEscD1mW2JdLl9hU29ydERhdGE7Zm9yKGc9MDtnPGo7ZysrKWlmKGk9bltnXSxjPWxbaS5jb2xdLGg9cFtpLmNvbF0saT1kW2kudHlwZStcIi1cIitpLmRpcl18fGRbXCJzdHJpbmctXCIraS5kaXJdLGM9aShjLGgpLDAhPT1jKXJldHVybiBjO2M9ZVthXTtoPWVbYl07cmV0dXJuIGM8aD8tMTpjPmg/MTowfSl9YS5iU29ydGVkPSEwfWZ1bmN0aW9uIEliKGEpe2Zvcih2YXIgYixjLGU9YS5hb0NvbHVtbnMsZD1UKGEpLGE9YS5vTGFuZ3VhZ2Uub0FyaWEsZj0wLGg9ZS5sZW5ndGg7ZjxoO2YrKyl7Yz1cbmVbZl07dmFyIGc9Yy5hc1NvcnRpbmc7Yj1jLnNUaXRsZS5yZXBsYWNlKC88Lio/Pi9nLFwiXCIpO3ZhciBqPWMublRoO2oucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zb3J0XCIpO2MuYlNvcnRhYmxlJiYoMDxkLmxlbmd0aCYmZFswXS5jb2w9PWY/KGouc2V0QXR0cmlidXRlKFwiYXJpYS1zb3J0XCIsXCJhc2NcIj09ZFswXS5kaXI/XCJhc2NlbmRpbmdcIjpcImRlc2NlbmRpbmdcIiksYz1nW2RbMF0uaW5kZXgrMV18fGdbMF0pOmM9Z1swXSxiKz1cImFzY1wiPT09Yz9hLnNTb3J0QXNjZW5kaW5nOmEuc1NvcnREZXNjZW5kaW5nKTtqLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixiKX19ZnVuY3Rpb24gVGEoYSxiLGMsZSl7dmFyIGQ9YS5hYVNvcnRpbmcsZj1hLmFvQ29sdW1uc1tiXS5hc1NvcnRpbmcsaD1mdW5jdGlvbihhLGIpe3ZhciBjPWEuX2lkeDtjPT09bCYmKGM9Zy5pbkFycmF5KGFbMV0sZikpO3JldHVybiBjKzE8Zi5sZW5ndGg/YysxOmI/bnVsbDowfTtcIm51bWJlclwiPT09dHlwZW9mIGRbMF0mJlxuKGQ9YS5hYVNvcnRpbmc9W2RdKTtjJiZhLm9GZWF0dXJlcy5iU29ydE11bHRpPyhjPWcuaW5BcnJheShiLEMoZCxcIjBcIikpLC0xIT09Yz8oYj1oKGRbY10sITApLG51bGw9PT1iP2Quc3BsaWNlKGMsMSk6KGRbY11bMV09ZltiXSxkW2NdLl9pZHg9YikpOihkLnB1c2goW2IsZlswXSwwXSksZFtkLmxlbmd0aC0xXS5faWR4PTApKTpkLmxlbmd0aCYmZFswXVswXT09Yj8oYj1oKGRbMF0pLGQubGVuZ3RoPTEsZFswXVsxXT1mW2JdLGRbMF0uX2lkeD1iKTooZC5sZW5ndGg9MCxkLnB1c2goW2IsZlswXV0pLGRbMF0uX2lkeD0wKTtNKGEpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUoYSl9ZnVuY3Rpb24gTmEoYSxiLGMsZSl7dmFyIGQ9YS5hb0NvbHVtbnNbY107VWEoYix7fSxmdW5jdGlvbihiKXshMSE9PWQuYlNvcnRhYmxlJiYoYS5vRmVhdHVyZXMuYlByb2Nlc3Npbmc/KEIoYSwhMCksc2V0VGltZW91dChmdW5jdGlvbigpe1RhKGEsYyxiLnNoaWZ0S2V5LGUpO1wic3NwXCIhPT1BKGEpJiZCKGEsXG4hMSl9LDApKTpUYShhLGMsYi5zaGlmdEtleSxlKSl9KX1mdW5jdGlvbiB3YShhKXt2YXIgYj1hLmFMYXN0U29ydCxjPWEub0NsYXNzZXMuc1NvcnRDb2x1bW4sZT1UKGEpLGQ9YS5vRmVhdHVyZXMsZixoO2lmKGQuYlNvcnQmJmQuYlNvcnRDbGFzc2VzKXtkPTA7Zm9yKGY9Yi5sZW5ndGg7ZDxmO2QrKyloPWJbZF0uc3JjLGcoQyhhLmFvRGF0YSxcImFuQ2VsbHNcIixoKSkucmVtb3ZlQ2xhc3MoYysoMj5kP2QrMTozKSk7ZD0wO2ZvcihmPWUubGVuZ3RoO2Q8ZjtkKyspaD1lW2RdLnNyYyxnKEMoYS5hb0RhdGEsXCJhbkNlbGxzXCIsaCkpLmFkZENsYXNzKGMrKDI+ZD9kKzE6MykpfWEuYUxhc3RTb3J0PWV9ZnVuY3Rpb24gSGIoYSxiKXt2YXIgYz1hLmFvQ29sdW1uc1tiXSxlPXAuZXh0Lm9yZGVyW2Muc1NvcnREYXRhVHlwZV0sZDtlJiYoZD1lLmNhbGwoYS5vSW5zdGFuY2UsYSxiLCQoYSxiKSkpO2Zvcih2YXIgZixoPXAuZXh0LnR5cGUub3JkZXJbYy5zVHlwZStcIi1wcmVcIl0sZz0wLGo9YS5hb0RhdGEubGVuZ3RoO2c8XG5qO2crKylpZihjPWEuYW9EYXRhW2ddLGMuX2FTb3J0RGF0YXx8KGMuX2FTb3J0RGF0YT1bXSksIWMuX2FTb3J0RGF0YVtiXXx8ZSlmPWU/ZFtnXTp2KGEsZyxiLFwic29ydFwiKSxjLl9hU29ydERhdGFbYl09aD9oKGYpOmZ9ZnVuY3Rpb24geGEoYSl7aWYoYS5vRmVhdHVyZXMuYlN0YXRlU2F2ZSYmIWEuYkRlc3Ryb3lpbmcpe3ZhciBiPXt0aW1lOituZXcgRGF0ZSxzdGFydDphLl9pRGlzcGxheVN0YXJ0LGxlbmd0aDphLl9pRGlzcGxheUxlbmd0aCxvcmRlcjpnLmV4dGVuZCghMCxbXSxhLmFhU29ydGluZyksc2VhcmNoOnliKGEub1ByZXZpb3VzU2VhcmNoKSxjb2x1bW5zOmcubWFwKGEuYW9Db2x1bW5zLGZ1bmN0aW9uKGIsZSl7cmV0dXJue3Zpc2libGU6Yi5iVmlzaWJsZSxzZWFyY2g6eWIoYS5hb1ByZVNlYXJjaENvbHNbZV0pfX0pfTt1KGEsXCJhb1N0YXRlU2F2ZVBhcmFtc1wiLFwic3RhdGVTYXZlUGFyYW1zXCIsW2EsYl0pO2Eub1NhdmVkU3RhdGU9YjthLmZuU3RhdGVTYXZlQ2FsbGJhY2suY2FsbChhLm9JbnN0YW5jZSxcbmEsYil9fWZ1bmN0aW9uIEpiKGEpe3ZhciBiLGMsZT1hLmFvQ29sdW1ucztpZihhLm9GZWF0dXJlcy5iU3RhdGVTYXZlKXt2YXIgZD1hLmZuU3RhdGVMb2FkQ2FsbGJhY2suY2FsbChhLm9JbnN0YW5jZSxhKTtpZihkJiZkLnRpbWUmJihiPXUoYSxcImFvU3RhdGVMb2FkUGFyYW1zXCIsXCJzdGF0ZUxvYWRQYXJhbXNcIixbYSxkXSksLTE9PT1nLmluQXJyYXkoITEsYikmJihiPWEuaVN0YXRlRHVyYXRpb24sISgwPGImJmQudGltZTwrbmV3IERhdGUtMUUzKmIpJiZlLmxlbmd0aD09PWQuY29sdW1ucy5sZW5ndGgpKSl7YS5vTG9hZGVkU3RhdGU9Zy5leHRlbmQoITAse30sZCk7YS5faURpc3BsYXlTdGFydD1kLnN0YXJ0O2EuaUluaXREaXNwbGF5U3RhcnQ9ZC5zdGFydDthLl9pRGlzcGxheUxlbmd0aD1kLmxlbmd0aDthLmFhU29ydGluZz1bXTtnLmVhY2goZC5vcmRlcixmdW5jdGlvbihiLGMpe2EuYWFTb3J0aW5nLnB1c2goY1swXT49ZS5sZW5ndGg/WzAsY1sxXV06Yyl9KTtnLmV4dGVuZChhLm9QcmV2aW91c1NlYXJjaCxcbnpiKGQuc2VhcmNoKSk7Yj0wO2ZvcihjPWQuY29sdW1ucy5sZW5ndGg7YjxjO2IrKyl7dmFyIGY9ZC5jb2x1bW5zW2JdO2VbYl0uYlZpc2libGU9Zi52aXNpYmxlO2cuZXh0ZW5kKGEuYW9QcmVTZWFyY2hDb2xzW2JdLHpiKGYuc2VhcmNoKSl9dShhLFwiYW9TdGF0ZUxvYWRlZFwiLFwic3RhdGVMb2FkZWRcIixbYSxkXSl9fX1mdW5jdGlvbiB5YShhKXt2YXIgYj1wLnNldHRpbmdzLGE9Zy5pbkFycmF5KGEsQyhiLFwiblRhYmxlXCIpKTtyZXR1cm4tMSE9PWE/YlthXTpudWxsfWZ1bmN0aW9uIFIoYSxiLGMsZSl7Yz1cIkRhdGFUYWJsZXMgd2FybmluZzogXCIrKG51bGwhPT1hP1widGFibGUgaWQ9XCIrYS5zVGFibGVJZCtcIiAtIFwiOlwiXCIpK2M7ZSYmKGMrPVwiLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIGVycm9yLCBwbGVhc2Ugc2VlIGh0dHA6Ly9kYXRhdGFibGVzLm5ldC90bi9cIitlKTtpZihiKURhLmNvbnNvbGUmJmNvbnNvbGUubG9nJiZjb25zb2xlLmxvZyhjKTtlbHNlIGlmKGE9cC5leHQsXG5cImFsZXJ0XCI9PShhLnNFcnJNb2RlfHxhLmVyck1vZGUpKWFsZXJ0KGMpO2Vsc2UgdGhyb3cgRXJyb3IoYyk7fWZ1bmN0aW9uIEQoYSxiLGMsZSl7Zy5pc0FycmF5KGMpP2cuZWFjaChjLGZ1bmN0aW9uKGMsZil7Zy5pc0FycmF5KGYpP0QoYSxiLGZbMF0sZlsxXSk6RChhLGIsZil9KTooZT09PWwmJihlPWMpLGJbY10hPT1sJiYoYVtlXT1iW2NdKSl9ZnVuY3Rpb24gS2IoYSxiLGMpe3ZhciBlLGQ7Zm9yKGQgaW4gYiliLmhhc093blByb3BlcnR5KGQpJiYoZT1iW2RdLGcuaXNQbGFpbk9iamVjdChlKT8oZy5pc1BsYWluT2JqZWN0KGFbZF0pfHwoYVtkXT17fSksZy5leHRlbmQoITAsYVtkXSxlKSk6YVtkXT1jJiZcImRhdGFcIiE9PWQmJlwiYWFEYXRhXCIhPT1kJiZnLmlzQXJyYXkoZSk/ZS5zbGljZSgpOmUpO3JldHVybiBhfWZ1bmN0aW9uIFVhKGEsYixjKXtnKGEpLmJpbmQoXCJjbGljay5EVFwiLGIsZnVuY3Rpb24oYil7YS5ibHVyKCk7YyhiKX0pLmJpbmQoXCJrZXlwcmVzcy5EVFwiLGIsZnVuY3Rpb24oYSl7MTM9PT1cbmEud2hpY2gmJihhLnByZXZlbnREZWZhdWx0KCksYyhhKSl9KS5iaW5kKFwic2VsZWN0c3RhcnQuRFRcIixmdW5jdGlvbigpe3JldHVybiExfSl9ZnVuY3Rpb24geChhLGIsYyxlKXtjJiZhW2JdLnB1c2goe2ZuOmMsc05hbWU6ZX0pfWZ1bmN0aW9uIHUoYSxiLGMsZSl7dmFyIGQ9W107YiYmKGQ9Zy5tYXAoYVtiXS5zbGljZSgpLnJldmVyc2UoKSxmdW5jdGlvbihiKXtyZXR1cm4gYi5mbi5hcHBseShhLm9JbnN0YW5jZSxlKX0pKTtudWxsIT09YyYmZyhhLm5UYWJsZSkudHJpZ2dlcihjK1wiLmR0XCIsZSk7cmV0dXJuIGR9ZnVuY3Rpb24gUmEoYSl7dmFyIGI9YS5faURpc3BsYXlTdGFydCxjPWEuZm5EaXNwbGF5RW5kKCksZT1hLl9pRGlzcGxheUxlbmd0aDtiPj1jJiYoYj1jLWUpO2ItPWIlZTtpZigtMT09PWV8fDA+YiliPTA7YS5faURpc3BsYXlTdGFydD1ifWZ1bmN0aW9uIE9hKGEsYil7dmFyIGM9YS5yZW5kZXJlcixlPXAuZXh0LnJlbmRlcmVyW2JdO3JldHVybiBnLmlzUGxhaW5PYmplY3QoYykmJlxuY1tiXT9lW2NbYl1dfHxlLl86XCJzdHJpbmdcIj09PXR5cGVvZiBjP2VbY118fGUuXzplLl99ZnVuY3Rpb24gQShhKXtyZXR1cm4gYS5vRmVhdHVyZXMuYlNlcnZlclNpZGU/XCJzc3BcIjphLmFqYXh8fGEuc0FqYXhTb3VyY2U/XCJhamF4XCI6XCJkb21cIn1mdW5jdGlvbiBWYShhLGIpe3ZhciBjPVtdLGM9TGIubnVtYmVyc19sZW5ndGgsZT1NYXRoLmZsb29yKGMvMik7Yjw9Yz9jPVUoMCxiKTphPD1lPyhjPVUoMCxjLTIpLGMucHVzaChcImVsbGlwc2lzXCIpLGMucHVzaChiLTEpKTooYT49Yi0xLWU/Yz1VKGItKGMtMiksYik6KGM9VShhLTEsYSsyKSxjLnB1c2goXCJlbGxpcHNpc1wiKSxjLnB1c2goYi0xKSksYy5zcGxpY2UoMCwwLFwiZWxsaXBzaXNcIiksYy5zcGxpY2UoMCwwLDApKTtjLkRUX2VsPVwic3BhblwiO3JldHVybiBjfWZ1bmN0aW9uIGNiKGEpe2cuZWFjaCh7bnVtOmZ1bmN0aW9uKGIpe3JldHVybiB6YShiLGEpfSxcIm51bS1mbXRcIjpmdW5jdGlvbihiKXtyZXR1cm4gemEoYixhLFdhKX0sXCJodG1sLW51bVwiOmZ1bmN0aW9uKGIpe3JldHVybiB6YShiLFxuYSxBYSl9LFwiaHRtbC1udW0tZm10XCI6ZnVuY3Rpb24oYil7cmV0dXJuIHphKGIsYSxBYSxXYSl9fSxmdW5jdGlvbihiLGMpe3cudHlwZS5vcmRlcltiK2ErXCItcHJlXCJdPWM7Yi5tYXRjaCgvXmh0bWxcXC0vKSYmKHcudHlwZS5zZWFyY2hbYithXT13LnR5cGUuc2VhcmNoLmh0bWwpfSl9ZnVuY3Rpb24gTWIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9W3lhKHRoaXNbcC5leHQuaUFwaUluZGV4XSldLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKTtyZXR1cm4gcC5leHQuaW50ZXJuYWxbYV0uYXBwbHkodGhpcyxiKX19dmFyIHAsdyxxLHIsdCxYYT17fSxOYj0vW1xcclxcbl0vZyxBYT0vPC4qPz4vZywkYj0vXltcXHdcXCtcXC1dLyxhYz0vW1xcd1xcK1xcLV0kLyxYYj1SZWdFeHAoXCIoXFxcXC98XFxcXC58XFxcXCp8XFxcXCt8XFxcXD98XFxcXHx8XFxcXCh8XFxcXCl8XFxcXFt8XFxcXF18XFxcXHt8XFxcXH18XFxcXFxcXFx8XFxcXCR8XFxcXF58XFxcXC0pXCIsXCJnXCIpLFdhPS9bJywkXFx1MDBhM1xcdTIwYWNcXHUwMGE1JVxcdTIwMDlcXHUyMDJGXS9nLFxuSD1mdW5jdGlvbihhKXtyZXR1cm4hYXx8ITA9PT1hfHxcIi1cIj09PWE/ITA6ITF9LE9iPWZ1bmN0aW9uKGEpe3ZhciBiPXBhcnNlSW50KGEsMTApO3JldHVybiFpc05hTihiKSYmaXNGaW5pdGUoYSk/YjpudWxsfSxQYj1mdW5jdGlvbihhLGIpe1hhW2JdfHwoWGFbYl09UmVnRXhwKHVhKGIpLFwiZ1wiKSk7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhJiZcIi5cIiE9PWI/YS5yZXBsYWNlKC9cXC4vZyxcIlwiKS5yZXBsYWNlKFhhW2JdLFwiLlwiKTphfSxZYT1mdW5jdGlvbihhLGIsYyl7dmFyIGU9XCJzdHJpbmdcIj09PXR5cGVvZiBhO2ImJmUmJihhPVBiKGEsYikpO2MmJmUmJihhPWEucmVwbGFjZShXYSxcIlwiKSk7cmV0dXJuIEgoYSl8fCFpc05hTihwYXJzZUZsb2F0KGEpKSYmaXNGaW5pdGUoYSl9LFFiPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gSChhKT8hMDohKEgoYSl8fFwic3RyaW5nXCI9PT10eXBlb2YgYSk/bnVsbDpZYShhLnJlcGxhY2UoQWEsXCJcIiksYixjKT8hMDpudWxsfSxDPWZ1bmN0aW9uKGEsXG5iLGMpe3ZhciBlPVtdLGQ9MCxmPWEubGVuZ3RoO2lmKGMhPT1sKWZvcig7ZDxmO2QrKylhW2RdJiZhW2RdW2JdJiZlLnB1c2goYVtkXVtiXVtjXSk7ZWxzZSBmb3IoO2Q8ZjtkKyspYVtkXSYmZS5wdXNoKGFbZF1bYl0pO3JldHVybiBlfSxoYT1mdW5jdGlvbihhLGIsYyxlKXt2YXIgZD1bXSxmPTAsaD1iLmxlbmd0aDtpZihlIT09bClmb3IoO2Y8aDtmKyspYVtiW2ZdXVtjXSYmZC5wdXNoKGFbYltmXV1bY11bZV0pO2Vsc2UgZm9yKDtmPGg7ZisrKWQucHVzaChhW2JbZl1dW2NdKTtyZXR1cm4gZH0sVT1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGU7Yj09PWw/KGI9MCxlPWEpOihlPWIsYj1hKTtmb3IodmFyIGQ9YjtkPGU7ZCsrKWMucHVzaChkKTtyZXR1cm4gY30sUmI9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxlPWEubGVuZ3RoO2M8ZTtjKyspYVtjXSYmYi5wdXNoKGFbY10pO3JldHVybiBifSxNYT1mdW5jdGlvbihhKXt2YXIgYj1bXSxjLGUsZD1hLmxlbmd0aCxmLGg9MDtcbmU9MDthOmZvcig7ZTxkO2UrKyl7Yz1hW2VdO2ZvcihmPTA7ZjxoO2YrKylpZihiW2ZdPT09Yyljb250aW51ZSBhO2IucHVzaChjKTtoKyt9cmV0dXJuIGJ9LHo9ZnVuY3Rpb24oYSxiLGMpe2FbYl0hPT1sJiYoYVtjXT1hW2JdKX0sYmE9L1xcWy4qP1xcXSQvLFM9L1xcKFxcKSQvLHZhPWcoXCI8ZGl2PlwiKVswXSxZYj12YS50ZXh0Q29udGVudCE9PWwsWmI9LzwuKj8+L2c7cD1mdW5jdGlvbihhKXt0aGlzLiQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hcGkoITApLiQoYSxiKX07dGhpcy5fPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYXBpKCEwKS5yb3dzKGEsYikuZGF0YSgpfTt0aGlzLmFwaT1mdW5jdGlvbihhKXtyZXR1cm4gYT9uZXcgcSh5YSh0aGlzW3cuaUFwaUluZGV4XSkpOm5ldyBxKHRoaXMpfTt0aGlzLmZuQWRkRGF0YT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuYXBpKCEwKSxlPWcuaXNBcnJheShhKSYmKGcuaXNBcnJheShhWzBdKXx8Zy5pc1BsYWluT2JqZWN0KGFbMF0pKT9cbmMucm93cy5hZGQoYSk6Yy5yb3cuYWRkKGEpOyhiPT09bHx8YikmJmMuZHJhdygpO3JldHVybiBlLmZsYXR0ZW4oKS50b0FycmF5KCl9O3RoaXMuZm5BZGp1c3RDb2x1bW5TaXppbmc9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApLmNvbHVtbnMuYWRqdXN0KCksYz1iLnNldHRpbmdzKClbMF0sZT1jLm9TY3JvbGw7YT09PWx8fGE/Yi5kcmF3KCExKTooXCJcIiE9PWUuc1h8fFwiXCIhPT1lLnNZKSYmWShjKX07dGhpcy5mbkNsZWFyVGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApLmNsZWFyKCk7KGE9PT1sfHxhKSYmYi5kcmF3KCl9O3RoaXMuZm5DbG9zZT1mdW5jdGlvbihhKXt0aGlzLmFwaSghMCkucm93KGEpLmNoaWxkLmhpZGUoKX07dGhpcy5mbkRlbGV0ZVJvdz1mdW5jdGlvbihhLGIsYyl7dmFyIGU9dGhpcy5hcGkoITApLGE9ZS5yb3dzKGEpLGQ9YS5zZXR0aW5ncygpWzBdLGc9ZC5hb0RhdGFbYVswXVswXV07YS5yZW1vdmUoKTtiJiZiLmNhbGwodGhpcyxkLGcpO1xuKGM9PT1sfHxjKSYmZS5kcmF3KCk7cmV0dXJuIGd9O3RoaXMuZm5EZXN0cm95PWZ1bmN0aW9uKGEpe3RoaXMuYXBpKCEwKS5kZXN0cm95KGEpfTt0aGlzLmZuRHJhdz1mdW5jdGlvbihhKXt0aGlzLmFwaSghMCkuZHJhdyghYSl9O3RoaXMuZm5GaWx0ZXI9ZnVuY3Rpb24oYSxiLGMsZSxkLGcpe2Q9dGhpcy5hcGkoITApO251bGw9PT1ifHxiPT09bD9kLnNlYXJjaChhLGMsZSxnKTpkLmNvbHVtbihiKS5zZWFyY2goYSxjLGUsZyk7ZC5kcmF3KCl9O3RoaXMuZm5HZXREYXRhPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5hcGkoITApO2lmKGEhPT1sKXt2YXIgZT1hLm5vZGVOYW1lP2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKTpcIlwiO3JldHVybiBiIT09bHx8XCJ0ZFwiPT1lfHxcInRoXCI9PWU/Yy5jZWxsKGEsYikuZGF0YSgpOmMucm93KGEpLmRhdGEoKXx8bnVsbH1yZXR1cm4gYy5kYXRhKCkudG9BcnJheSgpfTt0aGlzLmZuR2V0Tm9kZXM9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hcGkoITApO1xucmV0dXJuIGEhPT1sP2Iucm93KGEpLm5vZGUoKTpiLnJvd3MoKS5ub2RlcygpLmZsYXR0ZW4oKS50b0FycmF5KCl9O3RoaXMuZm5HZXRQb3NpdGlvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmFwaSghMCksYz1hLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7cmV0dXJuXCJUUlwiPT1jP2Iucm93KGEpLmluZGV4KCk6XCJURFwiPT1jfHxcIlRIXCI9PWM/KGE9Yi5jZWxsKGEpLmluZGV4KCksW2Eucm93LGEuY29sdW1uVmlzaWJsZSxhLmNvbHVtbl0pOm51bGx9O3RoaXMuZm5Jc09wZW49ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXBpKCEwKS5yb3coYSkuY2hpbGQuaXNTaG93bigpfTt0aGlzLmZuT3Blbj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuYXBpKCEwKS5yb3coYSkuY2hpbGQoYixjKS5zaG93KCkuY2hpbGQoKVswXX07dGhpcy5mblBhZ2VDaGFuZ2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFwaSghMCkucGFnZShhKTsoYj09PWx8fGIpJiZjLmRyYXcoITEpfTt0aGlzLmZuU2V0Q29sdW1uVmlzPVxuZnVuY3Rpb24oYSxiLGMpe2E9dGhpcy5hcGkoITApLmNvbHVtbihhKS52aXNpYmxlKGIpOyhjPT09bHx8YykmJmEuY29sdW1ucy5hZGp1c3QoKS5kcmF3KCl9O3RoaXMuZm5TZXR0aW5ncz1mdW5jdGlvbigpe3JldHVybiB5YSh0aGlzW3cuaUFwaUluZGV4XSl9O3RoaXMuZm5Tb3J0PWZ1bmN0aW9uKGEpe3RoaXMuYXBpKCEwKS5vcmRlcihhKS5kcmF3KCl9O3RoaXMuZm5Tb3J0TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuYXBpKCEwKS5vcmRlci5saXN0ZW5lcihhLGIsYyl9O3RoaXMuZm5VcGRhdGU9ZnVuY3Rpb24oYSxiLGMsZSxkKXt2YXIgZz10aGlzLmFwaSghMCk7Yz09PWx8fG51bGw9PT1jP2cucm93KGIpLmRhdGEoYSk6Zy5jZWxsKGIsYykuZGF0YShhKTsoZD09PWx8fGQpJiZnLmNvbHVtbnMuYWRqdXN0KCk7KGU9PT1sfHxlKSYmZy5kcmF3KCk7cmV0dXJuIDB9O3RoaXMuZm5WZXJzaW9uQ2hlY2s9dy5mblZlcnNpb25DaGVjazt2YXIgYj10aGlzLGM9YT09PWwsZT10aGlzLmxlbmd0aDtcbmMmJihhPXt9KTt0aGlzLm9BcGk9dGhpcy5pbnRlcm5hbD13LmludGVybmFsO2Zvcih2YXIgZCBpbiBwLmV4dC5pbnRlcm5hbClkJiYodGhpc1tkXT1NYihkKSk7dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9e30sZD0xPGU/S2IoZCxhLCEwKTphLGg9MCxpLGo9dGhpcy5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxuPSExLG09cC5kZWZhdWx0cztpZihcInRhYmxlXCIhPXRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSlSKG51bGwsMCxcIk5vbi10YWJsZSBub2RlIGluaXRpYWxpc2F0aW9uIChcIit0aGlzLm5vZGVOYW1lK1wiKVwiLDIpO2Vsc2V7ZGIobSk7ZWIobS5jb2x1bW4pO0cobSxtLCEwKTtHKG0uY29sdW1uLG0uY29sdW1uLCEwKTtHKG0sZCk7dmFyIG89cC5zZXR0aW5ncyxoPTA7Zm9yKGk9by5sZW5ndGg7aDxpO2grKyl7aWYob1toXS5uVGFibGU9PXRoaXMpe2k9ZC5iUmV0cmlldmUhPT1sP2QuYlJldHJpZXZlOm0uYlJldHJpZXZlO2lmKGN8fGkpcmV0dXJuIG9baF0ub0luc3RhbmNlO2lmKGQuYkRlc3Ryb3khPT1cbmw/ZC5iRGVzdHJveTptLmJEZXN0cm95KXtvW2hdLm9JbnN0YW5jZS5mbkRlc3Ryb3koKTticmVha31lbHNle1Iob1toXSwwLFwiQ2Fubm90IHJlaW5pdGlhbGlzZSBEYXRhVGFibGVcIiwzKTtyZXR1cm59fWlmKG9baF0uc1RhYmxlSWQ9PXRoaXMuaWQpe28uc3BsaWNlKGgsMSk7YnJlYWt9fWlmKG51bGw9PT1qfHxcIlwiPT09ail0aGlzLmlkPWo9XCJEYXRhVGFibGVzX1RhYmxlX1wiK3AuZXh0Ll91bmlxdWUrKzt2YXIgaz1nLmV4dGVuZCghMCx7fSxwLm1vZGVscy5vU2V0dGluZ3Mse25UYWJsZTp0aGlzLG9BcGk6Yi5pbnRlcm5hbCxvSW5pdDpkLHNEZXN0cm95V2lkdGg6Zyh0aGlzKVswXS5zdHlsZS53aWR0aCxzSW5zdGFuY2U6aixzVGFibGVJZDpqfSk7by5wdXNoKGspO2sub0luc3RhbmNlPTE9PT1iLmxlbmd0aD9iOmcodGhpcykuZGF0YVRhYmxlKCk7ZGIoZCk7ZC5vTGFuZ3VhZ2UmJk8oZC5vTGFuZ3VhZ2UpO2QuYUxlbmd0aE1lbnUmJiFkLmlEaXNwbGF5TGVuZ3RoJiYoZC5pRGlzcGxheUxlbmd0aD1cbmcuaXNBcnJheShkLmFMZW5ndGhNZW51WzBdKT9kLmFMZW5ndGhNZW51WzBdWzBdOmQuYUxlbmd0aE1lbnVbMF0pO2Q9S2IoZy5leHRlbmQoITAse30sbSksZCk7RChrLm9GZWF0dXJlcyxkLFwiYlBhZ2luYXRlIGJMZW5ndGhDaGFuZ2UgYkZpbHRlciBiU29ydCBiU29ydE11bHRpIGJJbmZvIGJQcm9jZXNzaW5nIGJBdXRvV2lkdGggYlNvcnRDbGFzc2VzIGJTZXJ2ZXJTaWRlIGJEZWZlclJlbmRlclwiLnNwbGl0KFwiIFwiKSk7RChrLGQsW1wiYXNTdHJpcGVDbGFzc2VzXCIsXCJhamF4XCIsXCJmblNlcnZlckRhdGFcIixcImZuRm9ybWF0TnVtYmVyXCIsXCJzU2VydmVyTWV0aG9kXCIsXCJhYVNvcnRpbmdcIixcImFhU29ydGluZ0ZpeGVkXCIsXCJhTGVuZ3RoTWVudVwiLFwic1BhZ2luYXRpb25UeXBlXCIsXCJzQWpheFNvdXJjZVwiLFwic0FqYXhEYXRhUHJvcFwiLFwiaVN0YXRlRHVyYXRpb25cIixcInNEb21cIixcImJTb3J0Q2VsbHNUb3BcIixcImlUYWJJbmRleFwiLFwiZm5TdGF0ZUxvYWRDYWxsYmFja1wiLFwiZm5TdGF0ZVNhdmVDYWxsYmFja1wiLFxuXCJyZW5kZXJlclwiLFwic2VhcmNoRGVsYXlcIixbXCJpQ29va2llRHVyYXRpb25cIixcImlTdGF0ZUR1cmF0aW9uXCJdLFtcIm9TZWFyY2hcIixcIm9QcmV2aW91c1NlYXJjaFwiXSxbXCJhb1NlYXJjaENvbHNcIixcImFvUHJlU2VhcmNoQ29sc1wiXSxbXCJpRGlzcGxheUxlbmd0aFwiLFwiX2lEaXNwbGF5TGVuZ3RoXCJdLFtcImJKUXVlcnlVSVwiLFwiYkpVSVwiXV0pO0Qoay5vU2Nyb2xsLGQsW1tcInNTY3JvbGxYXCIsXCJzWFwiXSxbXCJzU2Nyb2xsWElubmVyXCIsXCJzWElubmVyXCJdLFtcInNTY3JvbGxZXCIsXCJzWVwiXSxbXCJiU2Nyb2xsQ29sbGFwc2VcIixcImJDb2xsYXBzZVwiXV0pO0Qoay5vTGFuZ3VhZ2UsZCxcImZuSW5mb0NhbGxiYWNrXCIpO3goayxcImFvRHJhd0NhbGxiYWNrXCIsZC5mbkRyYXdDYWxsYmFjayxcInVzZXJcIik7eChrLFwiYW9TZXJ2ZXJQYXJhbXNcIixkLmZuU2VydmVyUGFyYW1zLFwidXNlclwiKTt4KGssXCJhb1N0YXRlU2F2ZVBhcmFtc1wiLGQuZm5TdGF0ZVNhdmVQYXJhbXMsXCJ1c2VyXCIpO3goayxcImFvU3RhdGVMb2FkUGFyYW1zXCIsXG5kLmZuU3RhdGVMb2FkUGFyYW1zLFwidXNlclwiKTt4KGssXCJhb1N0YXRlTG9hZGVkXCIsZC5mblN0YXRlTG9hZGVkLFwidXNlclwiKTt4KGssXCJhb1Jvd0NhbGxiYWNrXCIsZC5mblJvd0NhbGxiYWNrLFwidXNlclwiKTt4KGssXCJhb1Jvd0NyZWF0ZWRDYWxsYmFja1wiLGQuZm5DcmVhdGVkUm93LFwidXNlclwiKTt4KGssXCJhb0hlYWRlckNhbGxiYWNrXCIsZC5mbkhlYWRlckNhbGxiYWNrLFwidXNlclwiKTt4KGssXCJhb0Zvb3RlckNhbGxiYWNrXCIsZC5mbkZvb3RlckNhbGxiYWNrLFwidXNlclwiKTt4KGssXCJhb0luaXRDb21wbGV0ZVwiLGQuZm5Jbml0Q29tcGxldGUsXCJ1c2VyXCIpO3goayxcImFvUHJlRHJhd0NhbGxiYWNrXCIsZC5mblByZURyYXdDYWxsYmFjayxcInVzZXJcIik7aj1rLm9DbGFzc2VzO2QuYkpRdWVyeVVJPyhnLmV4dGVuZChqLHAuZXh0Lm9KVUlDbGFzc2VzLGQub0NsYXNzZXMpLGQuc0RvbT09PW0uc0RvbSYmXCJsZnJ0aXBcIj09PW0uc0RvbSYmKGsuc0RvbT0nPFwiSFwibGZyPnQ8XCJGXCJpcD4nKSxrLnJlbmRlcmVyKT9cbmcuaXNQbGFpbk9iamVjdChrLnJlbmRlcmVyKSYmIWsucmVuZGVyZXIuaGVhZGVyJiYoay5yZW5kZXJlci5oZWFkZXI9XCJqcXVlcnl1aVwiKTprLnJlbmRlcmVyPVwianF1ZXJ5dWlcIjpnLmV4dGVuZChqLHAuZXh0LmNsYXNzZXMsZC5vQ2xhc3Nlcyk7Zyh0aGlzKS5hZGRDbGFzcyhqLnNUYWJsZSk7aWYoXCJcIiE9PWsub1Njcm9sbC5zWHx8XCJcIiE9PWsub1Njcm9sbC5zWSlrLm9TY3JvbGwuaUJhcldpZHRoPUdiKCk7ITA9PT1rLm9TY3JvbGwuc1gmJihrLm9TY3JvbGwuc1g9XCIxMDAlXCIpO2suaUluaXREaXNwbGF5U3RhcnQ9PT1sJiYoay5pSW5pdERpc3BsYXlTdGFydD1kLmlEaXNwbGF5U3RhcnQsay5faURpc3BsYXlTdGFydD1kLmlEaXNwbGF5U3RhcnQpO251bGwhPT1kLmlEZWZlckxvYWRpbmcmJihrLmJEZWZlckxvYWRpbmc9ITAsaD1nLmlzQXJyYXkoZC5pRGVmZXJMb2FkaW5nKSxrLl9pUmVjb3Jkc0Rpc3BsYXk9aD9kLmlEZWZlckxvYWRpbmdbMF06ZC5pRGVmZXJMb2FkaW5nLGsuX2lSZWNvcmRzVG90YWw9XG5oP2QuaURlZmVyTG9hZGluZ1sxXTpkLmlEZWZlckxvYWRpbmcpO3ZhciByPWsub0xhbmd1YWdlO2cuZXh0ZW5kKCEwLHIsZC5vTGFuZ3VhZ2UpO1wiXCIhPT1yLnNVcmwmJihnLmFqYXgoe2RhdGFUeXBlOlwianNvblwiLHVybDpyLnNVcmwsc3VjY2VzczpmdW5jdGlvbihhKXtPKGEpO0cobS5vTGFuZ3VhZ2UsYSk7Zy5leHRlbmQodHJ1ZSxyLGEpO2dhKGspfSxlcnJvcjpmdW5jdGlvbigpe2dhKGspfX0pLG49ITApO251bGw9PT1kLmFzU3RyaXBlQ2xhc3NlcyYmKGsuYXNTdHJpcGVDbGFzc2VzPVtqLnNTdHJpcGVPZGQsai5zU3RyaXBlRXZlbl0pO3ZhciBoPWsuYXNTdHJpcGVDbGFzc2VzLHE9ZyhcInRib2R5IHRyOmVxKDApXCIsdGhpcyk7LTEhPT1nLmluQXJyYXkoITAsZy5tYXAoaCxmdW5jdGlvbihhKXtyZXR1cm4gcS5oYXNDbGFzcyhhKX0pKSYmKGcoXCJ0Ym9keSB0clwiLHRoaXMpLnJlbW92ZUNsYXNzKGguam9pbihcIiBcIikpLGsuYXNEZXN0cm95U3RyaXBlcz1oLnNsaWNlKCkpO3ZhciBvPVxuW10scyxoPXRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0aGVhZFwiKTswIT09aC5sZW5ndGgmJihkYShrLmFvSGVhZGVyLGhbMF0pLG89cGEoaykpO2lmKG51bGw9PT1kLmFvQ29sdW1ucyl7cz1bXTtoPTA7Zm9yKGk9by5sZW5ndGg7aDxpO2grKylzLnB1c2gobnVsbCl9ZWxzZSBzPWQuYW9Db2x1bW5zO2g9MDtmb3IoaT1zLmxlbmd0aDtoPGk7aCsrKUVhKGssbz9vW2hdOm51bGwpO2hiKGssZC5hb0NvbHVtbkRlZnMscyxmdW5jdGlvbihhLGIpe2phKGssYSxiKX0pO2lmKHEubGVuZ3RoKXt2YXIgdD1mdW5jdGlvbihhLGIpe3JldHVybiBhLmdldEF0dHJpYnV0ZShcImRhdGEtXCIrYik/YjpudWxsfTtnLmVhY2gobWEoayxxWzBdKS5jZWxscyxmdW5jdGlvbihhLGIpe3ZhciBjPWsuYW9Db2x1bW5zW2FdO2lmKGMubURhdGE9PT1hKXt2YXIgZT10KGIsXCJzb3J0XCIpfHx0KGIsXCJvcmRlclwiKSxkPXQoYixcImZpbHRlclwiKXx8dChiLFwic2VhcmNoXCIpO2lmKGUhPT1udWxsfHxkIT09bnVsbCl7Yy5tRGF0YT1cbntfOmErXCIuZGlzcGxheVwiLHNvcnQ6ZSE9PW51bGw/YStcIi5AZGF0YS1cIitlOmwsdHlwZTplIT09bnVsbD9hK1wiLkBkYXRhLVwiK2U6bCxmaWx0ZXI6ZCE9PW51bGw/YStcIi5AZGF0YS1cIitkOmx9O2phKGssYSl9fX0pfXZhciB2PWsub0ZlYXR1cmVzO2QuYlN0YXRlU2F2ZSYmKHYuYlN0YXRlU2F2ZT0hMCxKYihrLGQpLHgoayxcImFvRHJhd0NhbGxiYWNrXCIseGEsXCJzdGF0ZV9zYXZlXCIpKTtpZihkLmFhU29ydGluZz09PWwpe289ay5hYVNvcnRpbmc7aD0wO2ZvcihpPW8ubGVuZ3RoO2g8aTtoKyspb1toXVsxXT1rLmFvQ29sdW1uc1toXS5hc1NvcnRpbmdbMF19d2Eoayk7di5iU29ydCYmeChrLFwiYW9EcmF3Q2FsbGJhY2tcIixmdW5jdGlvbigpe2lmKGsuYlNvcnRlZCl7dmFyIGE9VChrKSxiPXt9O2cuZWFjaChhLGZ1bmN0aW9uKGEsYyl7YltjLnNyY109Yy5kaXJ9KTt1KGssbnVsbCxcIm9yZGVyXCIsW2ssYSxiXSk7SWIoayl9fSk7eChrLFwiYW9EcmF3Q2FsbGJhY2tcIixmdW5jdGlvbigpeyhrLmJTb3J0ZWR8fFxuQShrKT09PVwic3NwXCJ8fHYuYkRlZmVyUmVuZGVyKSYmd2Eoayl9LFwic2NcIik7ZmIoayk7aD1nKHRoaXMpLmNoaWxkcmVuKFwiY2FwdGlvblwiKS5lYWNoKGZ1bmN0aW9uKCl7dGhpcy5fY2FwdGlvblNpZGU9Zyh0aGlzKS5jc3MoXCJjYXB0aW9uLXNpZGVcIil9KTtpPWcodGhpcykuY2hpbGRyZW4oXCJ0aGVhZFwiKTswPT09aS5sZW5ndGgmJihpPWcoXCI8dGhlYWQvPlwiKS5hcHBlbmRUbyh0aGlzKSk7ay5uVEhlYWQ9aVswXTtpPWcodGhpcykuY2hpbGRyZW4oXCJ0Ym9keVwiKTswPT09aS5sZW5ndGgmJihpPWcoXCI8dGJvZHkvPlwiKS5hcHBlbmRUbyh0aGlzKSk7ay5uVEJvZHk9aVswXTtpPWcodGhpcykuY2hpbGRyZW4oXCJ0Zm9vdFwiKTtpZigwPT09aS5sZW5ndGgmJjA8aC5sZW5ndGgmJihcIlwiIT09ay5vU2Nyb2xsLnNYfHxcIlwiIT09ay5vU2Nyb2xsLnNZKSlpPWcoXCI8dGZvb3QvPlwiKS5hcHBlbmRUbyh0aGlzKTswPT09aS5sZW5ndGh8fDA9PT1pLmNoaWxkcmVuKCkubGVuZ3RoP2codGhpcykuYWRkQ2xhc3Moai5zTm9Gb290ZXIpOlxuMDxpLmxlbmd0aCYmKGsublRGb290PWlbMF0sZGEoay5hb0Zvb3RlcixrLm5URm9vdCkpO2lmKGQuYWFEYXRhKWZvcihoPTA7aDxkLmFhRGF0YS5sZW5ndGg7aCsrKUkoayxkLmFhRGF0YVtoXSk7ZWxzZShrLmJEZWZlckxvYWRpbmd8fFwiZG9tXCI9PUEoaykpJiZsYShrLGcoay5uVEJvZHkpLmNoaWxkcmVuKFwidHJcIikpO2suYWlEaXNwbGF5PWsuYWlEaXNwbGF5TWFzdGVyLnNsaWNlKCk7ay5iSW5pdGlhbGlzZWQ9ITA7ITE9PT1uJiZnYShrKX19KTtiPW51bGw7cmV0dXJuIHRoaXN9O3ZhciBTYj1bXSx5PUFycmF5LnByb3RvdHlwZSxiYz1mdW5jdGlvbihhKXt2YXIgYixjLGU9cC5zZXR0aW5ncyxkPWcubWFwKGUsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRhYmxlfSk7aWYoYSl7aWYoYS5uVGFibGUmJmEub0FwaSlyZXR1cm5bYV07aWYoYS5ub2RlTmFtZSYmXCJ0YWJsZVwiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBiPWcuaW5BcnJheShhLGQpLC0xIT09Yj9bZVtiXV06XG5udWxsO2lmKGEmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLnNldHRpbmdzKXJldHVybiBhLnNldHRpbmdzKCkudG9BcnJheSgpO1wic3RyaW5nXCI9PT10eXBlb2YgYT9jPWcoYSk6YSBpbnN0YW5jZW9mIGcmJihjPWEpfWVsc2UgcmV0dXJuW107aWYoYylyZXR1cm4gYy5tYXAoZnVuY3Rpb24oKXtiPWcuaW5BcnJheSh0aGlzLGQpO3JldHVybi0xIT09Yj9lW2JdOm51bGx9KS50b0FycmF5KCl9O3E9ZnVuY3Rpb24oYSxiKXtpZighdGhpcyBpbnN0YW5jZW9mIHEpdGhyb3dcIkRUIEFQSSBtdXN0IGJlIGNvbnN0cnVjdGVkIGFzIGEgbmV3IG9iamVjdFwiO3ZhciBjPVtdLGU9ZnVuY3Rpb24oYSl7KGE9YmMoYSkpJiZjLnB1c2guYXBwbHkoYyxhKX07aWYoZy5pc0FycmF5KGEpKWZvcih2YXIgZD0wLGY9YS5sZW5ndGg7ZDxmO2QrKyllKGFbZF0pO2Vsc2UgZShhKTt0aGlzLmNvbnRleHQ9TWEoYyk7YiYmdGhpcy5wdXNoLmFwcGx5KHRoaXMsYi50b0FycmF5P2IudG9BcnJheSgpOmIpO3RoaXMuc2VsZWN0b3I9XG57cm93czpudWxsLGNvbHM6bnVsbCxvcHRzOm51bGx9O3EuZXh0ZW5kKHRoaXMsdGhpcyxTYil9O3AuQXBpPXE7cS5wcm90b3R5cGU9e2NvbmNhdDp5LmNvbmNhdCxjb250ZXh0OltdLGVhY2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz10aGlzLmxlbmd0aDtiPGM7YisrKWEuY2FsbCh0aGlzLHRoaXNbYl0sYix0aGlzKTtyZXR1cm4gdGhpc30sZXE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jb250ZXh0O3JldHVybiBiLmxlbmd0aD5hP25ldyBxKGJbYV0sdGhpc1thXSk6bnVsbH0sZmlsdGVyOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2lmKHkuZmlsdGVyKWI9eS5maWx0ZXIuY2FsbCh0aGlzLGEsdGhpcyk7ZWxzZSBmb3IodmFyIGM9MCxlPXRoaXMubGVuZ3RoO2M8ZTtjKyspYS5jYWxsKHRoaXMsdGhpc1tjXSxjLHRoaXMpJiZiLnB1c2godGhpc1tjXSk7cmV0dXJuIG5ldyBxKHRoaXMuY29udGV4dCxiKX0sZmxhdHRlbjpmdW5jdGlvbigpe3ZhciBhPVtdO3JldHVybiBuZXcgcSh0aGlzLmNvbnRleHQsXG5hLmNvbmNhdC5hcHBseShhLHRoaXMudG9BcnJheSgpKSl9LGpvaW46eS5qb2luLGluZGV4T2Y6eS5pbmRleE9mfHxmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1ifHwwLGU9dGhpcy5sZW5ndGg7YzxlO2MrKylpZih0aGlzW2NdPT09YSlyZXR1cm4gYztyZXR1cm4tMX0saXRlcmF0b3I6ZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGQ9W10sZixoLGcsaixuLG09dGhpcy5jb250ZXh0LG8sayxwPXRoaXMuc2VsZWN0b3I7XCJzdHJpbmdcIj09PXR5cGVvZiBhJiYoZT1jLGM9YixiPWEsYT0hMSk7aD0wO2ZvcihnPW0ubGVuZ3RoO2g8ZztoKyspe3ZhciByPW5ldyBxKG1baF0pO2lmKFwidGFibGVcIj09PWIpZj1jLmNhbGwocixtW2hdLGgpLGYhPT1sJiZkLnB1c2goZik7ZWxzZSBpZihcImNvbHVtbnNcIj09PWJ8fFwicm93c1wiPT09YilmPWMuY2FsbChyLG1baF0sdGhpc1toXSxoKSxmIT09bCYmZC5wdXNoKGYpO2Vsc2UgaWYoXCJjb2x1bW5cIj09PWJ8fFwiY29sdW1uLXJvd3NcIj09PWJ8fFwicm93XCI9PT1ifHxcImNlbGxcIj09PVxuYil7az10aGlzW2hdO1wiY29sdW1uLXJvd3NcIj09PWImJihvPUJhKG1baF0scC5vcHRzKSk7aj0wO2ZvcihuPWsubGVuZ3RoO2o8bjtqKyspZj1rW2pdLGY9XCJjZWxsXCI9PT1iP2MuY2FsbChyLG1baF0sZi5yb3csZi5jb2x1bW4saCxqKTpjLmNhbGwocixtW2hdLGYsaCxqLG8pLGYhPT1sJiZkLnB1c2goZil9fXJldHVybiBkLmxlbmd0aHx8ZT8oYT1uZXcgcShtLGE/ZC5jb25jYXQuYXBwbHkoW10sZCk6ZCksYj1hLnNlbGVjdG9yLGIucm93cz1wLnJvd3MsYi5jb2xzPXAuY29scyxiLm9wdHM9cC5vcHRzLGEpOnRoaXN9LGxhc3RJbmRleE9mOnkubGFzdEluZGV4T2Z8fGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaW5kZXhPZi5hcHBseSh0aGlzLnRvQXJyYXkucmV2ZXJzZSgpLGFyZ3VtZW50cyl9LGxlbmd0aDowLG1hcDpmdW5jdGlvbihhKXt2YXIgYj1bXTtpZih5Lm1hcCliPXkubWFwLmNhbGwodGhpcyxhLHRoaXMpO2Vsc2UgZm9yKHZhciBjPTAsZT10aGlzLmxlbmd0aDtjPGU7YysrKWIucHVzaChhLmNhbGwodGhpcyxcbnRoaXNbY10sYykpO3JldHVybiBuZXcgcSh0aGlzLmNvbnRleHQsYil9LHBsdWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYlthXX0pfSxwb3A6eS5wb3AscHVzaDp5LnB1c2gscmVkdWNlOnkucmVkdWNlfHxmdW5jdGlvbihhLGIpe3JldHVybiBnYih0aGlzLGEsYiwwLHRoaXMubGVuZ3RoLDEpfSxyZWR1Y2VSaWdodDp5LnJlZHVjZVJpZ2h0fHxmdW5jdGlvbihhLGIpe3JldHVybiBnYih0aGlzLGEsYix0aGlzLmxlbmd0aC0xLC0xLC0xKX0scmV2ZXJzZTp5LnJldmVyc2Usc2VsZWN0b3I6bnVsbCxzaGlmdDp5LnNoaWZ0LHNvcnQ6eS5zb3J0LHNwbGljZTp5LnNwbGljZSx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHkuc2xpY2UuY2FsbCh0aGlzKX0sdG8kOmZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyl9LHRvSlF1ZXJ5OmZ1bmN0aW9uKCl7cmV0dXJuIGcodGhpcyl9LHVuaXF1ZTpmdW5jdGlvbigpe3JldHVybiBuZXcgcSh0aGlzLmNvbnRleHQsXG5NYSh0aGlzKSl9LHVuc2hpZnQ6eS51bnNoaWZ0fTtxLmV4dGVuZD1mdW5jdGlvbihhLGIsYyl7aWYoYiYmKGIgaW5zdGFuY2VvZiBxfHxiLl9fZHRfd3JhcHBlcikpe3ZhciBlLGQsZixoPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1iLmFwcGx5KGEsYXJndW1lbnRzKTtxLmV4dGVuZChlLGUsYy5tZXRob2RFeHQpO3JldHVybiBlfX07ZT0wO2ZvcihkPWMubGVuZ3RoO2U8ZDtlKyspZj1jW2VdLGJbZi5uYW1lXT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgZi52YWw/aChhLGYudmFsLGYpOmcuaXNQbGFpbk9iamVjdChmLnZhbCk/e306Zi52YWwsYltmLm5hbWVdLl9fZHRfd3JhcHBlcj0hMCxxLmV4dGVuZChhLGJbZi5uYW1lXSxmLnByb3BFeHQpfX07cS5yZWdpc3Rlcj1yPWZ1bmN0aW9uKGEsYil7aWYoZy5pc0FycmF5KGEpKWZvcih2YXIgYz0wLGU9YS5sZW5ndGg7YzxlO2MrKylxLnJlZ2lzdGVyKGFbY10sYik7ZWxzZSBmb3IodmFyIGQ9YS5zcGxpdChcIi5cIiksXG5mPVNiLGgsaSxjPTAsZT1kLmxlbmd0aDtjPGU7YysrKXtoPShpPS0xIT09ZFtjXS5pbmRleE9mKFwiKClcIikpP2RbY10ucmVwbGFjZShcIigpXCIsXCJcIik6ZFtjXTt2YXIgajthOntqPTA7Zm9yKHZhciBuPWYubGVuZ3RoO2o8bjtqKyspaWYoZltqXS5uYW1lPT09aCl7aj1mW2pdO2JyZWFrIGF9aj1udWxsfWp8fChqPXtuYW1lOmgsdmFsOnt9LG1ldGhvZEV4dDpbXSxwcm9wRXh0OltdfSxmLnB1c2goaikpO2M9PT1lLTE/ai52YWw9YjpmPWk/ai5tZXRob2RFeHQ6ai5wcm9wRXh0fX07cS5yZWdpc3RlclBsdXJhbD10PWZ1bmN0aW9uKGEsYixjKXtxLnJlZ2lzdGVyKGEsYyk7cS5yZWdpc3RlcihiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGE9PT10aGlzP3RoaXM6YSBpbnN0YW5jZW9mIHE/YS5sZW5ndGg/Zy5pc0FycmF5KGFbMF0pP25ldyBxKGEuY29udGV4dCxhWzBdKTphWzBdOmw6YX0pfTtyKFwidGFibGVzKClcIixmdW5jdGlvbihhKXt2YXIgYjtcbmlmKGEpe2I9cTt2YXIgYz10aGlzLmNvbnRleHQ7aWYoXCJudW1iZXJcIj09PXR5cGVvZiBhKWE9W2NbYV1dO2Vsc2UgdmFyIGU9Zy5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm4gYS5uVGFibGV9KSxhPWcoZSkuZmlsdGVyKGEpLm1hcChmdW5jdGlvbigpe3ZhciBhPWcuaW5BcnJheSh0aGlzLGUpO3JldHVybiBjW2FdfSkudG9BcnJheSgpO2I9bmV3IGIoYSl9ZWxzZSBiPXRoaXM7cmV0dXJuIGJ9KTtyKFwidGFibGUoKVwiLGZ1bmN0aW9uKGEpe3ZhciBhPXRoaXMudGFibGVzKGEpLGI9YS5jb250ZXh0O3JldHVybiBiLmxlbmd0aD9uZXcgcShiWzBdKTphfSk7dChcInRhYmxlcygpLm5vZGVzKClcIixcInRhYmxlKCkubm9kZSgpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRhYmxlfSwxKX0pO3QoXCJ0YWJsZXMoKS5ib2R5KClcIixcInRhYmxlKCkuYm9keSgpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsXG5mdW5jdGlvbihhKXtyZXR1cm4gYS5uVEJvZHl9LDEpfSk7dChcInRhYmxlcygpLmhlYWRlcigpXCIsXCJ0YWJsZSgpLmhlYWRlcigpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRIZWFkfSwxKX0pO3QoXCJ0YWJsZXMoKS5mb290ZXIoKVwiLFwidGFibGUoKS5mb290ZXIoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5URm9vdH0sMSl9KTt0KFwidGFibGVzKCkuY29udGFpbmVycygpXCIsXCJ0YWJsZSgpLmNvbnRhaW5lcigpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEublRhYmxlV3JhcHBlcn0sMSl9KTtyKFwiZHJhdygpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGIpe00oYiwhMT09PWEpfSl9KTtyKFwicGFnZSgpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1cbmw/dGhpcy5wYWdlLmluZm8oKS5wYWdlOnRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGIpe1NhKGIsYSl9KX0pO3IoXCJwYWdlLmluZm8oKVwiLGZ1bmN0aW9uKCl7aWYoMD09PXRoaXMuY29udGV4dC5sZW5ndGgpcmV0dXJuIGw7dmFyIGE9dGhpcy5jb250ZXh0WzBdLGI9YS5faURpc3BsYXlTdGFydCxjPWEuX2lEaXNwbGF5TGVuZ3RoLGU9YS5mblJlY29yZHNEaXNwbGF5KCksZD0tMT09PWM7cmV0dXJue3BhZ2U6ZD8wOk1hdGguZmxvb3IoYi9jKSxwYWdlczpkPzE6TWF0aC5jZWlsKGUvYyksc3RhcnQ6YixlbmQ6YS5mbkRpc3BsYXlFbmQoKSxsZW5ndGg6YyxyZWNvcmRzVG90YWw6YS5mblJlY29yZHNUb3RhbCgpLHJlY29yZHNEaXNwbGF5OmV9fSk7cihcInBhZ2UubGVuKClcIixmdW5jdGlvbihhKXtyZXR1cm4gYT09PWw/MCE9PXRoaXMuY29udGV4dC5sZW5ndGg/dGhpcy5jb250ZXh0WzBdLl9pRGlzcGxheUxlbmd0aDpsOnRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGIpe1FhKGIsXG5hKX0pfSk7dmFyIFRiPWZ1bmN0aW9uKGEsYixjKXtcInNzcFwiPT1BKGEpP00oYSxiKTooQihhLCEwKSxxYShhLFtdLGZ1bmN0aW9uKGMpe25hKGEpO2Zvcih2YXIgYz1yYShhLGMpLGU9MCxoPWMubGVuZ3RoO2U8aDtlKyspSShhLGNbZV0pO00oYSxiKTtCKGEsITEpfSkpO2lmKGMpe3ZhciBlPW5ldyBxKGEpO2Uub25lKFwiZHJhd1wiLGZ1bmN0aW9uKCl7YyhlLmFqYXguanNvbigpKX0pfX07cihcImFqYXguanNvbigpXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRleHQ7aWYoMDxhLmxlbmd0aClyZXR1cm4gYVswXS5qc29ufSk7cihcImFqYXgucGFyYW1zKClcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29udGV4dDtpZigwPGEubGVuZ3RoKXJldHVybiBhWzBdLm9BamF4RGF0YX0pO3IoXCJhamF4LnJlbG9hZCgpXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYyl7VGIoYywhMT09PWIsYSl9KX0pO3IoXCJhamF4LnVybCgpXCIsZnVuY3Rpb24oYSl7dmFyIGI9XG50aGlzLmNvbnRleHQ7aWYoYT09PWwpe2lmKDA9PT1iLmxlbmd0aClyZXR1cm4gbDtiPWJbMF07cmV0dXJuIGIuYWpheD9nLmlzUGxhaW5PYmplY3QoYi5hamF4KT9iLmFqYXgudXJsOmIuYWpheDpiLnNBamF4U291cmNlfXJldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXtnLmlzUGxhaW5PYmplY3QoYi5hamF4KT9iLmFqYXgudXJsPWE6Yi5hamF4PWF9KX0pO3IoXCJhamF4LnVybCgpLmxvYWQoKVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGMpe1RiKGMsITE9PT1iLGEpfSl9KTt2YXIgWmE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxlLGQsZixoLGksajtlPXR5cGVvZiBhO2lmKCFhfHxcInN0cmluZ1wiPT09ZXx8XCJmdW5jdGlvblwiPT09ZXx8YS5sZW5ndGg9PT1sKWE9W2FdO2Y9MDtmb3IoaD1hLmxlbmd0aDtmPGg7ZisrKXtkPWFbZl0mJmFbZl0uc3BsaXQ/YVtmXS5zcGxpdChcIixcIik6W2FbZl1dO2k9MDtmb3Ioaj1cbmQubGVuZ3RoO2k8ajtpKyspKGU9YihcInN0cmluZ1wiPT09dHlwZW9mIGRbaV0/Zy50cmltKGRbaV0pOmRbaV0pKSYmZS5sZW5ndGgmJmMucHVzaC5hcHBseShjLGUpfXJldHVybiBjfSwkYT1mdW5jdGlvbihhKXthfHwoYT17fSk7YS5maWx0ZXImJiFhLnNlYXJjaCYmKGEuc2VhcmNoPWEuZmlsdGVyKTtyZXR1cm57c2VhcmNoOmEuc2VhcmNofHxcIm5vbmVcIixvcmRlcjphLm9yZGVyfHxcImN1cnJlbnRcIixwYWdlOmEucGFnZXx8XCJhbGxcIn19LGFiPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKylpZigwPGFbYl0ubGVuZ3RoKXJldHVybiBhWzBdPWFbYl0sYS5sZW5ndGg9MSxhLmNvbnRleHQ9W2EuY29udGV4dFtiXV0sYTthLmxlbmd0aD0wO3JldHVybiBhfSxCYT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZCxmPVtdLGg9YS5haURpc3BsYXk7Yz1hLmFpRGlzcGxheU1hc3Rlcjt2YXIgaT1iLnNlYXJjaDtlPWIub3JkZXI7ZD1iLnBhZ2U7aWYoXCJzc3BcIj09QShhKSlyZXR1cm5cInJlbW92ZWRcIj09PVxuaT9bXTpVKDAsYy5sZW5ndGgpO2lmKFwiY3VycmVudFwiPT1kKXtjPWEuX2lEaXNwbGF5U3RhcnQ7Zm9yKGU9YS5mbkRpc3BsYXlFbmQoKTtjPGU7YysrKWYucHVzaChoW2NdKX1lbHNlIGlmKFwiY3VycmVudFwiPT1lfHxcImFwcGxpZWRcIj09ZSlmPVwibm9uZVwiPT1pP2Muc2xpY2UoKTpcImFwcGxpZWRcIj09aT9oLnNsaWNlKCk6Zy5tYXAoYyxmdW5jdGlvbihhKXtyZXR1cm4tMT09PWcuaW5BcnJheShhLGgpP2E6bnVsbH0pO2Vsc2UgaWYoXCJpbmRleFwiPT1lfHxcIm9yaWdpbmFsXCI9PWUpe2M9MDtmb3IoZT1hLmFvRGF0YS5sZW5ndGg7YzxlO2MrKylcIm5vbmVcIj09aT9mLnB1c2goYyk6KGQ9Zy5pbkFycmF5KGMsaCksKC0xPT09ZCYmXCJyZW1vdmVkXCI9PWl8fDA8PWQmJlwiYXBwbGllZFwiPT1pKSYmZi5wdXNoKGMpKX1yZXR1cm4gZn07cihcInJvd3MoKVwiLGZ1bmN0aW9uKGEsYil7YT09PWw/YT1cIlwiOmcuaXNQbGFpbk9iamVjdChhKSYmKGI9YSxhPVwiXCIpO3ZhciBiPSRhKGIpLGM9dGhpcy5pdGVyYXRvcihcInRhYmxlXCIsXG5mdW5jdGlvbihjKXt2YXIgZD1iO3JldHVybiBaYShhLGZ1bmN0aW9uKGEpe3ZhciBiPU9iKGEpO2lmKGIhPT1udWxsJiYhZClyZXR1cm5bYl07dmFyIGk9QmEoYyxkKTtpZihiIT09bnVsbCYmZy5pbkFycmF5KGIsaSkhPT0tMSlyZXR1cm5bYl07aWYoIWEpcmV0dXJuIGk7aWYodHlwZW9mIGE9PT1cImZ1bmN0aW9uXCIpcmV0dXJuIGcubWFwKGksZnVuY3Rpb24oYil7dmFyIGQ9Yy5hb0RhdGFbYl07cmV0dXJuIGEoYixkLl9hRGF0YSxkLm5Ucik/YjpudWxsfSk7Yj1SYihoYShjLmFvRGF0YSxpLFwiblRyXCIpKTtyZXR1cm4gYS5ub2RlTmFtZSYmZy5pbkFycmF5KGEsYikhPT0tMT9bYS5fRFRfUm93SW5kZXhdOmcoYikuZmlsdGVyKGEpLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLl9EVF9Sb3dJbmRleH0pLnRvQXJyYXkoKX0pfSwxKTtjLnNlbGVjdG9yLnJvd3M9YTtjLnNlbGVjdG9yLm9wdHM9YjtyZXR1cm4gY30pO3IoXCJyb3dzKCkubm9kZXMoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJyb3dcIixcbmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9EYXRhW2JdLm5Ucnx8bH0sMSl9KTtyKFwicm93cygpLmRhdGEoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoITAsXCJyb3dzXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gaGEoYS5hb0RhdGEsYixcIl9hRGF0YVwiKX0sMSl9KTt0KFwicm93cygpLmNhY2hlKClcIixcInJvdygpLmNhY2hlKClcIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInJvd1wiLGZ1bmN0aW9uKGIsYyl7dmFyIGU9Yi5hb0RhdGFbY107cmV0dXJuXCJzZWFyY2hcIj09PWE/ZS5fYUZpbHRlckRhdGE6ZS5fYVNvcnREYXRhfSwxKX0pO3QoXCJyb3dzKCkuaW52YWxpZGF0ZSgpXCIsXCJyb3coKS5pbnZhbGlkYXRlKClcIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInJvd1wiLGZ1bmN0aW9uKGIsYyl7Y2EoYixjLGEpfSl9KTt0KFwicm93cygpLmluZGV4ZXMoKVwiLFwicm93KCkuaW5kZXgoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJyb3dcIixcbmZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9LDEpfSk7dChcInJvd3MoKS5yZW1vdmUoKVwiLFwicm93KCkucmVtb3ZlKClcIixmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJyb3dcIixmdW5jdGlvbihiLGMsZSl7dmFyIGQ9Yi5hb0RhdGE7ZC5zcGxpY2UoYywxKTtmb3IodmFyIGY9MCxoPWQubGVuZ3RoO2Y8aDtmKyspbnVsbCE9PWRbZl0ublRyJiYoZFtmXS5uVHIuX0RUX1Jvd0luZGV4PWYpO2cuaW5BcnJheShjLGIuYWlEaXNwbGF5KTtvYShiLmFpRGlzcGxheU1hc3RlcixjKTtvYShiLmFpRGlzcGxheSxjKTtvYShhW2VdLGMsITEpO1JhKGIpfSl9KTtyKFwicm93cy5hZGQoKVwiLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGIpe3ZhciBjLGYsaCxnPVtdO2Y9MDtmb3IoaD1hLmxlbmd0aDtmPGg7ZisrKWM9YVtmXSxjLm5vZGVOYW1lJiZcIlRSXCI9PT1jLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk/Zy5wdXNoKGxhKGIsYylbMF0pOlxuZy5wdXNoKEkoYixjKSk7cmV0dXJuIGd9LDEpLGM9dGhpcy5yb3dzKC0xKTtjLnBvcCgpO2MucHVzaC5hcHBseShjLGIudG9BcnJheSgpKTtyZXR1cm4gY30pO3IoXCJyb3coKVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGFiKHRoaXMucm93cyhhLGIpKX0pO3IoXCJyb3coKS5kYXRhKClcIixmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRleHQ7aWYoYT09PWwpcmV0dXJuIGIubGVuZ3RoJiZ0aGlzLmxlbmd0aD9iWzBdLmFvRGF0YVt0aGlzWzBdXS5fYURhdGE6bDtiWzBdLmFvRGF0YVt0aGlzWzBdXS5fYURhdGE9YTtjYShiWzBdLHRoaXNbMF0sXCJkYXRhXCIpO3JldHVybiB0aGlzfSk7cihcInJvdygpLm5vZGUoKVwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb250ZXh0O3JldHVybiBhLmxlbmd0aCYmdGhpcy5sZW5ndGg/YVswXS5hb0RhdGFbdGhpc1swXV0ublRyfHxudWxsOm51bGx9KTtyKFwicm93LmFkZCgpXCIsZnVuY3Rpb24oYSl7YSBpbnN0YW5jZW9mIGcmJmEubGVuZ3RoJiYoYT1hWzBdKTtcbnZhciBiPXRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGIpe3JldHVybiBhLm5vZGVOYW1lJiZcIlRSXCI9PT1hLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk/bGEoYixhKVswXTpJKGIsYSl9KTtyZXR1cm4gdGhpcy5yb3coYlswXSl9KTt2YXIgYmI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmNvbnRleHQ7Yy5sZW5ndGgmJihjPWNbMF0uYW9EYXRhW2IhPT1sP2I6YVswXV0sYy5fZGV0YWlscyYmKGMuX2RldGFpbHMucmVtb3ZlKCksYy5fZGV0YWlsc1Nob3c9bCxjLl9kZXRhaWxzPWwpKX0sVWI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmNvbnRleHQ7aWYoYy5sZW5ndGgmJmEubGVuZ3RoKXt2YXIgZT1jWzBdLmFvRGF0YVthWzBdXTtpZihlLl9kZXRhaWxzKXsoZS5fZGV0YWlsc1Nob3c9Yik/ZS5fZGV0YWlscy5pbnNlcnRBZnRlcihlLm5Ucik6ZS5fZGV0YWlscy5kZXRhY2goKTt2YXIgZD1jWzBdLGY9bmV3IHEoZCksaD1kLmFvRGF0YTtmLm9mZihcImRyYXcuZHQuRFRfZGV0YWlscyBjb2x1bW4tdmlzaWJpbGl0eS5kdC5EVF9kZXRhaWxzIGRlc3Ryb3kuZHQuRFRfZGV0YWlsc1wiKTtcbjA8QyhoLFwiX2RldGFpbHNcIikubGVuZ3RoJiYoZi5vbihcImRyYXcuZHQuRFRfZGV0YWlsc1wiLGZ1bmN0aW9uKGEsYil7ZD09PWImJmYucm93cyh7cGFnZTpcImN1cnJlbnRcIn0pLmVxKDApLmVhY2goZnVuY3Rpb24oYSl7YT1oW2FdO2EuX2RldGFpbHNTaG93JiZhLl9kZXRhaWxzLmluc2VydEFmdGVyKGEublRyKX0pfSksZi5vbihcImNvbHVtbi12aXNpYmlsaXR5LmR0LkRUX2RldGFpbHNcIixmdW5jdGlvbihhLGIpe2lmKGQ9PT1iKWZvcih2YXIgYyxlPWFhKGIpLGY9MCxnPWgubGVuZ3RoO2Y8ZztmKyspYz1oW2ZdLGMuX2RldGFpbHMmJmMuX2RldGFpbHMuY2hpbGRyZW4oXCJ0ZFtjb2xzcGFuXVwiKS5hdHRyKFwiY29sc3BhblwiLGUpfSksZi5vbihcImRlc3Ryb3kuZHQuRFRfZGV0YWlsc1wiLGZ1bmN0aW9uKGEsYil7aWYoZD09PWIpZm9yKHZhciBjPTAsZT1oLmxlbmd0aDtjPGU7YysrKWhbY10uX2RldGFpbHMmJmJiKGYsYyl9KSl9fX07cihcInJvdygpLmNoaWxkKClcIixmdW5jdGlvbihhLGIpe3ZhciBjPVxudGhpcy5jb250ZXh0O2lmKGE9PT1sKXJldHVybiBjLmxlbmd0aCYmdGhpcy5sZW5ndGg/Y1swXS5hb0RhdGFbdGhpc1swXV0uX2RldGFpbHM6bDtpZighMD09PWEpdGhpcy5jaGlsZC5zaG93KCk7ZWxzZSBpZighMT09PWEpYmIodGhpcyk7ZWxzZSBpZihjLmxlbmd0aCYmdGhpcy5sZW5ndGgpe3ZhciBlPWNbMF0sYz1jWzBdLmFvRGF0YVt0aGlzWzBdXSxkPVtdLGY9ZnVuY3Rpb24oYSxiKXtpZihhLm5vZGVOYW1lJiZcInRyXCI9PT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpZC5wdXNoKGEpO2Vsc2V7dmFyIGM9ZyhcIjx0cj48dGQvPjwvdHI+XCIpLmFkZENsYXNzKGIpO2coXCJ0ZFwiLGMpLmFkZENsYXNzKGIpLmh0bWwoYSlbMF0uY29sU3Bhbj1hYShlKTtkLnB1c2goY1swXSl9fTtpZihnLmlzQXJyYXkoYSl8fGEgaW5zdGFuY2VvZiBnKWZvcih2YXIgaD0wLGk9YS5sZW5ndGg7aDxpO2grKylmKGFbaF0sYik7ZWxzZSBmKGEsYik7Yy5fZGV0YWlscyYmYy5fZGV0YWlscy5yZW1vdmUoKTtjLl9kZXRhaWxzPVxuZyhkKTtjLl9kZXRhaWxzU2hvdyYmYy5fZGV0YWlscy5pbnNlcnRBZnRlcihjLm5Ucil9cmV0dXJuIHRoaXN9KTtyKFtcInJvdygpLmNoaWxkLnNob3coKVwiLFwicm93KCkuY2hpbGQoKS5zaG93KClcIl0sZnVuY3Rpb24oKXtVYih0aGlzLCEwKTtyZXR1cm4gdGhpc30pO3IoW1wicm93KCkuY2hpbGQuaGlkZSgpXCIsXCJyb3coKS5jaGlsZCgpLmhpZGUoKVwiXSxmdW5jdGlvbigpe1ViKHRoaXMsITEpO3JldHVybiB0aGlzfSk7cihbXCJyb3coKS5jaGlsZC5yZW1vdmUoKVwiLFwicm93KCkuY2hpbGQoKS5yZW1vdmUoKVwiXSxmdW5jdGlvbigpe2JiKHRoaXMpO3JldHVybiB0aGlzfSk7cihcInJvdygpLmNoaWxkLmlzU2hvd24oKVwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb250ZXh0O3JldHVybiBhLmxlbmd0aCYmdGhpcy5sZW5ndGg/YVswXS5hb0RhdGFbdGhpc1swXV0uX2RldGFpbHNTaG93fHwhMTohMX0pO3ZhciBjYz0vXiguKyk6KG5hbWV8dmlzSWR4fHZpc2libGUpJC8sVmI9ZnVuY3Rpb24oYSxcbmIsYyxlLGQpe2Zvcih2YXIgYz1bXSxlPTAsZj1kLmxlbmd0aDtlPGY7ZSsrKWMucHVzaCh2KGEsZFtlXSxiKSk7cmV0dXJuIGN9O3IoXCJjb2x1bW5zKClcIixmdW5jdGlvbihhLGIpe2E9PT1sP2E9XCJcIjpnLmlzUGxhaW5PYmplY3QoYSkmJihiPWEsYT1cIlwiKTt2YXIgYj0kYShiKSxjPXRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGMpe3ZhciBkPWEsZj1iLGg9Yy5hb0NvbHVtbnMsaT1DKGgsXCJzTmFtZVwiKSxqPUMoaCxcIm5UaFwiKTtyZXR1cm4gWmEoZCxmdW5jdGlvbihhKXt2YXIgYj1PYihhKTtpZihhPT09XCJcIilyZXR1cm4gVShoLmxlbmd0aCk7aWYoYiE9PW51bGwpcmV0dXJuW2I+PTA/YjpoLmxlbmd0aCtiXTtpZih0eXBlb2YgYT09PVwiZnVuY3Rpb25cIil7dmFyIGQ9QmEoYyxmKTtyZXR1cm4gZy5tYXAoaCxmdW5jdGlvbihiLGYpe3JldHVybiBhKGYsVmIoYyxmLDAsMCxkKSxqW2ZdKT9mOm51bGx9KX12YXIgaz10eXBlb2YgYT09PVwic3RyaW5nXCI/YS5tYXRjaChjYyk6XCJcIjtpZihrKXN3aXRjaChrWzJdKXtjYXNlIFwidmlzSWR4XCI6Y2FzZSBcInZpc2libGVcIjpiPVxucGFyc2VJbnQoa1sxXSwxMCk7aWYoYjwwKXt2YXIgbD1nLm1hcChoLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYlZpc2libGU/YjpudWxsfSk7cmV0dXJuW2xbbC5sZW5ndGgrYl1dfXJldHVybltrYShjLGIpXTtjYXNlIFwibmFtZVwiOnJldHVybiBnLm1hcChpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1rWzFdP2I6bnVsbH0pfWVsc2UgcmV0dXJuIGcoaikuZmlsdGVyKGEpLm1hcChmdW5jdGlvbigpe3JldHVybiBnLmluQXJyYXkodGhpcyxqKX0pLnRvQXJyYXkoKX0pfSwxKTtjLnNlbGVjdG9yLmNvbHM9YTtjLnNlbGVjdG9yLm9wdHM9YjtyZXR1cm4gY30pO3QoXCJjb2x1bW5zKCkuaGVhZGVyKClcIixcImNvbHVtbigpLmhlYWRlcigpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtblwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9Db2x1bW5zW2JdLm5UaH0sMSl9KTt0KFwiY29sdW1ucygpLmZvb3RlcigpXCIsXCJjb2x1bW4oKS5mb290ZXIoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjb2x1bW5cIixcbmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9Db2x1bW5zW2JdLm5UZn0sMSl9KTt0KFwiY29sdW1ucygpLmRhdGEoKVwiLFwiY29sdW1uKCkuZGF0YSgpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtbi1yb3dzXCIsVmIsMSl9KTt0KFwiY29sdW1ucygpLmRhdGFTcmMoKVwiLFwiY29sdW1uKCkuZGF0YVNyYygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtblwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYW9Db2x1bW5zW2JdLm1EYXRhfSwxKX0pO3QoXCJjb2x1bW5zKCkuY2FjaGUoKVwiLFwiY29sdW1uKCkuY2FjaGUoKVwiLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY29sdW1uLXJvd3NcIixmdW5jdGlvbihiLGMsZSxkLGYpe3JldHVybiBoYShiLmFvRGF0YSxmLFwic2VhcmNoXCI9PT1hP1wiX2FGaWx0ZXJEYXRhXCI6XCJfYVNvcnREYXRhXCIsYyl9LDEpfSk7dChcImNvbHVtbnMoKS5ub2RlcygpXCIsXCJjb2x1bW4oKS5ub2RlcygpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtbi1yb3dzXCIsXG5mdW5jdGlvbihhLGIsYyxlLGQpe3JldHVybiBoYShhLmFvRGF0YSxkLFwiYW5DZWxsc1wiLGIpfSwxKX0pO3QoXCJjb2x1bW5zKCkudmlzaWJsZSgpXCIsXCJjb2x1bW4oKS52aXNpYmxlKClcIixmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY29sdW1uXCIsZnVuY3Rpb24oYyxlKXtpZihhPT09bClyZXR1cm4gYy5hb0NvbHVtbnNbZV0uYlZpc2libGU7dmFyIGQ9Yy5hb0NvbHVtbnMsZj1kW2VdLGg9Yy5hb0RhdGEsaSxqLG47aWYoYSE9PWwmJmYuYlZpc2libGUhPT1hKXtpZihhKXt2YXIgbT1nLmluQXJyYXkoITAsQyhkLFwiYlZpc2libGVcIiksZSsxKTtpPTA7Zm9yKGo9aC5sZW5ndGg7aTxqO2krKyluPWhbaV0ublRyLGQ9aFtpXS5hbkNlbGxzLG4mJm4uaW5zZXJ0QmVmb3JlKGRbZV0sZFttXXx8bnVsbCl9ZWxzZSBnKEMoYy5hb0RhdGEsXCJhbkNlbGxzXCIsZSkpLmRldGFjaCgpO2YuYlZpc2libGU9YTtlYShjLGMuYW9IZWFkZXIpO2VhKGMsYy5hb0Zvb3Rlcik7aWYoYj09PWx8fFxuYilYKGMpLChjLm9TY3JvbGwuc1h8fGMub1Njcm9sbC5zWSkmJlkoYyk7dShjLG51bGwsXCJjb2x1bW4tdmlzaWJpbGl0eVwiLFtjLGUsYV0pO3hhKGMpfX0pfSk7dChcImNvbHVtbnMoKS5pbmRleGVzKClcIixcImNvbHVtbigpLmluZGV4KClcIixmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcImNvbHVtblwiLGZ1bmN0aW9uKGIsYyl7cmV0dXJuXCJ2aXNpYmxlXCI9PT1hPyQoYixjKTpjfSwxKX0pO3IoXCJjb2x1bW5zLmFkanVzdCgpXCIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYSl7WChhKX0sMSl9KTtyKFwiY29sdW1uLmluZGV4KClcIixmdW5jdGlvbihhLGIpe2lmKDAhPT10aGlzLmNvbnRleHQubGVuZ3RoKXt2YXIgYz10aGlzLmNvbnRleHRbMF07aWYoXCJmcm9tVmlzaWJsZVwiPT09YXx8XCJ0b0RhdGFcIj09PWEpcmV0dXJuIGthKGMsYik7aWYoXCJmcm9tRGF0YVwiPT09YXx8XCJ0b1Zpc2libGVcIj09PWEpcmV0dXJuICQoYyxiKX19KTtyKFwiY29sdW1uKClcIixcbmZ1bmN0aW9uKGEsYil7cmV0dXJuIGFiKHRoaXMuY29sdW1ucyhhLGIpKX0pO3IoXCJjZWxscygpXCIsZnVuY3Rpb24oYSxiLGMpe2cuaXNQbGFpbk9iamVjdChhKSYmKHR5cGVvZiBhLnJvdyE9PWw/KGM9YixiPW51bGwpOihjPWEsYT1udWxsKSk7Zy5pc1BsYWluT2JqZWN0KGIpJiYoYz1iLGI9bnVsbCk7aWYobnVsbD09PWJ8fGI9PT1sKXJldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXt2YXIgZT1hLGQ9JGEoYyksZj1iLmFvRGF0YSxoPUJhKGIsZCksZD1SYihoYShmLGgsXCJhbkNlbGxzXCIpKSxpPWcoW10uY29uY2F0LmFwcGx5KFtdLGQpKSxqLG09Yi5hb0NvbHVtbnMubGVuZ3RoLG4scCxyLHEscyx0O3JldHVybiBaYShlLGZ1bmN0aW9uKGEpe3ZhciBjPXR5cGVvZiBhPT09XCJmdW5jdGlvblwiO2lmKGE9PT1udWxsfHxhPT09bHx8Yyl7bj1bXTtwPTA7Zm9yKHI9aC5sZW5ndGg7cDxyO3ArKyl7aj1oW3BdO2ZvcihxPTA7cTxtO3ErKyl7cz17cm93OmosY29sdW1uOnF9O1xuaWYoYyl7dD1iLmFvRGF0YVtqXTthKHMsdihiLGoscSksdC5hbkNlbGxzW3FdKSYmbi5wdXNoKHMpfWVsc2Ugbi5wdXNoKHMpfX1yZXR1cm4gbn1yZXR1cm4gZy5pc1BsYWluT2JqZWN0KGEpP1thXTppLmZpbHRlcihhKS5tYXAoZnVuY3Rpb24oYSxiKXtqPWIucGFyZW50Tm9kZS5fRFRfUm93SW5kZXg7cmV0dXJue3JvdzpqLGNvbHVtbjpnLmluQXJyYXkoYixmW2pdLmFuQ2VsbHMpfX0pLnRvQXJyYXkoKX0pfSk7dmFyIGU9dGhpcy5jb2x1bW5zKGIsYyksZD10aGlzLnJvd3MoYSxjKSxmLGgsaSxqLG4sbT10aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhLGIpe2Y9W107aD0wO2ZvcihpPWRbYl0ubGVuZ3RoO2g8aTtoKyspe2o9MDtmb3Iobj1lW2JdLmxlbmd0aDtqPG47aisrKWYucHVzaCh7cm93OmRbYl1baF0sY29sdW1uOmVbYl1bal19KX1yZXR1cm4gZn0sMSk7Zy5leHRlbmQobS5zZWxlY3Rvcix7Y29sczpiLHJvd3M6YSxvcHRzOmN9KTtyZXR1cm4gbX0pO3QoXCJjZWxscygpLm5vZGVzKClcIixcblwiY2VsbCgpLm5vZGUoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjZWxsXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybihhPWEuYW9EYXRhW2JdLmFuQ2VsbHMpP2FbY106bH0sMSl9KTtyKFwiY2VsbHMoKS5kYXRhKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY2VsbFwiLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdihhLGIsYyl9LDEpfSk7dChcImNlbGxzKCkuY2FjaGUoKVwiLFwiY2VsbCgpLmNhY2hlKClcIixmdW5jdGlvbihhKXthPVwic2VhcmNoXCI9PT1hP1wiX2FGaWx0ZXJEYXRhXCI6XCJfYVNvcnREYXRhXCI7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjZWxsXCIsZnVuY3Rpb24oYixjLGUpe3JldHVybiBiLmFvRGF0YVtjXVthXVtlXX0sMSl9KTt0KFwiY2VsbHMoKS5yZW5kZXIoKVwiLFwiY2VsbCgpLnJlbmRlcigpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjZWxsXCIsZnVuY3Rpb24oYixjLGUpe3JldHVybiB2KGIsYyxlLGEpfSwxKX0pO3QoXCJjZWxscygpLmluZGV4ZXMoKVwiLFxuXCJjZWxsKCkuaW5kZXgoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjZWxsXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybntyb3c6Yixjb2x1bW46Yyxjb2x1bW5WaXNpYmxlOiQoYSxjKX19LDEpfSk7dChcImNlbGxzKCkuaW52YWxpZGF0ZSgpXCIsXCJjZWxsKCkuaW52YWxpZGF0ZSgpXCIsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJjZWxsXCIsZnVuY3Rpb24oYixjLGUpe2NhKGIsYyxhLGUpfSl9KTtyKFwiY2VsbCgpXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhYih0aGlzLmNlbGxzKGEsYixjKSl9KTtyKFwiY2VsbCgpLmRhdGEoKVwiLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGV4dCxjPXRoaXNbMF07aWYoYT09PWwpcmV0dXJuIGIubGVuZ3RoJiZjLmxlbmd0aD92KGJbMF0sY1swXS5yb3csY1swXS5jb2x1bW4pOmw7SGEoYlswXSxjWzBdLnJvdyxjWzBdLmNvbHVtbixhKTtjYShiWzBdLGNbMF0ucm93LFwiZGF0YVwiLGNbMF0uY29sdW1uKTtyZXR1cm4gdGhpc30pO1xucihcIm9yZGVyKClcIixmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY29udGV4dDtpZihhPT09bClyZXR1cm4gMCE9PWMubGVuZ3RoP2NbMF0uYWFTb3J0aW5nOmw7XCJudW1iZXJcIj09PXR5cGVvZiBhP2E9W1thLGJdXTpnLmlzQXJyYXkoYVswXSl8fChhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihiKXtiLmFhU29ydGluZz1hLnNsaWNlKCl9KX0pO3IoXCJvcmRlci5saXN0ZW5lcigpXCIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihlKXtOYShlLGEsYixjKX0pfSk7cihbXCJjb2x1bW5zKCkub3JkZXIoKVwiLFwiY29sdW1uKCkub3JkZXIoKVwiXSxmdW5jdGlvbihhKXt2YXIgYj10aGlzO3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihjLGUpe3ZhciBkPVtdO2cuZWFjaChiW2VdLGZ1bmN0aW9uKGIsYyl7ZC5wdXNoKFtjLGFdKX0pO1xuYy5hYVNvcnRpbmc9ZH0pfSk7cihcInNlYXJjaCgpXCIsZnVuY3Rpb24oYSxiLGMsZSl7dmFyIGQ9dGhpcy5jb250ZXh0O3JldHVybiBhPT09bD8wIT09ZC5sZW5ndGg/ZFswXS5vUHJldmlvdXNTZWFyY2guc1NlYXJjaDpsOnRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGQpe2Qub0ZlYXR1cmVzLmJGaWx0ZXImJmZhKGQsZy5leHRlbmQoe30sZC5vUHJldmlvdXNTZWFyY2gse3NTZWFyY2g6YStcIlwiLGJSZWdleDpudWxsPT09Yj8hMTpiLGJTbWFydDpudWxsPT09Yz8hMDpjLGJDYXNlSW5zZW5zaXRpdmU6bnVsbD09PWU/ITA6ZX0pLDEpfSl9KTt0KFwiY29sdW1ucygpLnNlYXJjaCgpXCIsXCJjb2x1bW4oKS5zZWFyY2goKVwiLGZ1bmN0aW9uKGEsYixjLGUpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwiY29sdW1uXCIsZnVuY3Rpb24oZCxmKXt2YXIgaD1kLmFvUHJlU2VhcmNoQ29scztpZihhPT09bClyZXR1cm4gaFtmXS5zU2VhcmNoO2Qub0ZlYXR1cmVzLmJGaWx0ZXImJihnLmV4dGVuZChoW2ZdLFxue3NTZWFyY2g6YStcIlwiLGJSZWdleDpudWxsPT09Yj8hMTpiLGJTbWFydDpudWxsPT09Yz8hMDpjLGJDYXNlSW5zZW5zaXRpdmU6bnVsbD09PWU/ITA6ZX0pLGZhKGQsZC5vUHJldmlvdXNTZWFyY2gsMSkpfSl9KTtyKFwic3RhdGUoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5sZW5ndGg/dGhpcy5jb250ZXh0WzBdLm9TYXZlZFN0YXRlOm51bGx9KTtyKFwic3RhdGUuY2xlYXIoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe2EuZm5TdGF0ZVNhdmVDYWxsYmFjay5jYWxsKGEub0luc3RhbmNlLGEse30pfSl9KTtyKFwic3RhdGUubG9hZGVkKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQubGVuZ3RoP3RoaXMuY29udGV4dFswXS5vTG9hZGVkU3RhdGU6bnVsbH0pO3IoXCJzdGF0ZS5zYXZlKClcIixmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZXJhdG9yKFwidGFibGVcIixmdW5jdGlvbihhKXt4YShhKX0pfSk7cC52ZXJzaW9uQ2hlY2s9XG5wLmZuVmVyc2lvbkNoZWNrPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLnZlcnNpb24uc3BsaXQoXCIuXCIpLGE9YS5zcGxpdChcIi5cIiksYyxlLGQ9MCxmPWEubGVuZ3RoO2Q8ZjtkKyspaWYoYz1wYXJzZUludChiW2RdLDEwKXx8MCxlPXBhcnNlSW50KGFbZF0sMTApfHwwLGMhPT1lKXJldHVybiBjPmU7cmV0dXJuITB9O3AuaXNEYXRhVGFibGU9cC5mbklzRGF0YVRhYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPWcoYSkuZ2V0KDApLGM9ITE7Zy5lYWNoKHAuc2V0dGluZ3MsZnVuY3Rpb24oYSxkKXtpZihkLm5UYWJsZT09PWJ8fGQublNjcm9sbEhlYWQ9PT1ifHxkLm5TY3JvbGxGb290PT09YiljPSEwfSk7cmV0dXJuIGN9O3AudGFibGVzPXAuZm5UYWJsZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGcubWFwKHAuc2V0dGluZ3MsZnVuY3Rpb24oYil7aWYoIWF8fGEmJmcoYi5uVGFibGUpLmlzKFwiOnZpc2libGVcIikpcmV0dXJuIGIublRhYmxlfSl9O3AudXRpbD17dGhyb3R0bGU6dGEsZXNjYXBlUmVnZXg6dWF9O1xucC5jYW1lbFRvSHVuZ2FyaWFuPUc7cihcIiQoKVwiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5yb3dzKGIpLm5vZGVzKCksYz1nKGMpO3JldHVybiBnKFtdLmNvbmNhdChjLmZpbHRlcihhKS50b0FycmF5KCksYy5maW5kKGEpLnRvQXJyYXkoKSkpfSk7Zy5lYWNoKFtcIm9uXCIsXCJvbmVcIixcIm9mZlwiXSxmdW5jdGlvbihhLGIpe3IoYitcIigpXCIsZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2FbMF0ubWF0Y2goL1xcLmR0XFxiLyl8fChhWzBdKz1cIi5kdFwiKTt2YXIgZT1nKHRoaXMudGFibGVzKCkubm9kZXMoKSk7ZVtiXS5hcHBseShlLGEpO3JldHVybiB0aGlzfSl9KTtyKFwiY2xlYXIoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLGZ1bmN0aW9uKGEpe25hKGEpfSl9KTtyKFwic2V0dGluZ3MoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBxKHRoaXMuY29udGV4dCx0aGlzLmNvbnRleHQpfSk7cihcImRhdGEoKVwiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlcmF0b3IoXCJ0YWJsZVwiLFxuZnVuY3Rpb24oYSl7cmV0dXJuIEMoYS5hb0RhdGEsXCJfYURhdGFcIil9KS5mbGF0dGVuKCl9KTtyKFwiZGVzdHJveSgpXCIsZnVuY3Rpb24oYSl7YT1hfHwhMTtyZXR1cm4gdGhpcy5pdGVyYXRvcihcInRhYmxlXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5uVGFibGVXcmFwcGVyLnBhcmVudE5vZGUsZT1iLm9DbGFzc2VzLGQ9Yi5uVGFibGUsZj1iLm5UQm9keSxoPWIublRIZWFkLGk9Yi5uVEZvb3Qsaj1nKGQpLGY9ZyhmKSxsPWcoYi5uVGFibGVXcmFwcGVyKSxtPWcubWFwKGIuYW9EYXRhLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5Ucn0pLG87Yi5iRGVzdHJveWluZz0hMDt1KGIsXCJhb0Rlc3Ryb3lDYWxsYmFja1wiLFwiZGVzdHJveVwiLFtiXSk7YXx8KG5ldyBxKGIpKS5jb2x1bW5zKCkudmlzaWJsZSghMCk7bC51bmJpbmQoXCIuRFRcIikuZmluZChcIjpub3QodGJvZHkgKilcIikudW5iaW5kKFwiLkRUXCIpO2coRGEpLnVuYmluZChcIi5EVC1cIitiLnNJbnN0YW5jZSk7ZCE9aC5wYXJlbnROb2RlJiYoai5jaGlsZHJlbihcInRoZWFkXCIpLmRldGFjaCgpLFxuai5hcHBlbmQoaCkpO2kmJmQhPWkucGFyZW50Tm9kZSYmKGouY2hpbGRyZW4oXCJ0Zm9vdFwiKS5kZXRhY2goKSxqLmFwcGVuZChpKSk7ai5kZXRhY2goKTtsLmRldGFjaCgpO2IuYWFTb3J0aW5nPVtdO2IuYWFTb3J0aW5nRml4ZWQ9W107d2EoYik7ZyhtKS5yZW1vdmVDbGFzcyhiLmFzU3RyaXBlQ2xhc3Nlcy5qb2luKFwiIFwiKSk7ZyhcInRoLCB0ZFwiLGgpLnJlbW92ZUNsYXNzKGUuc1NvcnRhYmxlK1wiIFwiK2Uuc1NvcnRhYmxlQXNjK1wiIFwiK2Uuc1NvcnRhYmxlRGVzYytcIiBcIitlLnNTb3J0YWJsZU5vbmUpO2IuYkpVSSYmKGcoXCJ0aCBzcGFuLlwiK2Uuc1NvcnRJY29uK1wiLCB0ZCBzcGFuLlwiK2Uuc1NvcnRJY29uLGgpLmRldGFjaCgpLGcoXCJ0aCwgdGRcIixoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGE9ZyhcImRpdi5cIitlLnNTb3J0SlVJV3JhcHBlcix0aGlzKTtnKHRoaXMpLmFwcGVuZChhLmNvbnRlbnRzKCkpO2EuZGV0YWNoKCl9KSk7IWEmJmMmJmMuaW5zZXJ0QmVmb3JlKGQsYi5uVGFibGVSZWluc2VydEJlZm9yZSk7XG5mLmNoaWxkcmVuKCkuZGV0YWNoKCk7Zi5hcHBlbmQobSk7ai5jc3MoXCJ3aWR0aFwiLGIuc0Rlc3Ryb3lXaWR0aCkucmVtb3ZlQ2xhc3MoZS5zVGFibGUpOyhvPWIuYXNEZXN0cm95U3RyaXBlcy5sZW5ndGgpJiZmLmNoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihhKXtnKHRoaXMpLmFkZENsYXNzKGIuYXNEZXN0cm95U3RyaXBlc1thJW9dKX0pO2M9Zy5pbkFycmF5KGIscC5zZXR0aW5ncyk7LTEhPT1jJiZwLnNldHRpbmdzLnNwbGljZShjLDEpfSl9KTtwLnZlcnNpb249XCIxLjEwLjRcIjtwLnNldHRpbmdzPVtdO3AubW9kZWxzPXt9O3AubW9kZWxzLm9TZWFyY2g9e2JDYXNlSW5zZW5zaXRpdmU6ITAsc1NlYXJjaDpcIlwiLGJSZWdleDohMSxiU21hcnQ6ITB9O3AubW9kZWxzLm9Sb3c9e25UcjpudWxsLGFuQ2VsbHM6bnVsbCxfYURhdGE6W10sX2FTb3J0RGF0YTpudWxsLF9hRmlsdGVyRGF0YTpudWxsLF9zRmlsdGVyUm93Om51bGwsX3NSb3dTdHJpcGU6XCJcIixzcmM6bnVsbH07cC5tb2RlbHMub0NvbHVtbj1cbntpZHg6bnVsbCxhRGF0YVNvcnQ6bnVsbCxhc1NvcnRpbmc6bnVsbCxiU2VhcmNoYWJsZTpudWxsLGJTb3J0YWJsZTpudWxsLGJWaXNpYmxlOm51bGwsX3NNYW51YWxUeXBlOm51bGwsX2JBdHRyU3JjOiExLGZuQ3JlYXRlZENlbGw6bnVsbCxmbkdldERhdGE6bnVsbCxmblNldERhdGE6bnVsbCxtRGF0YTpudWxsLG1SZW5kZXI6bnVsbCxuVGg6bnVsbCxuVGY6bnVsbCxzQ2xhc3M6bnVsbCxzQ29udGVudFBhZGRpbmc6bnVsbCxzRGVmYXVsdENvbnRlbnQ6bnVsbCxzTmFtZTpudWxsLHNTb3J0RGF0YVR5cGU6XCJzdGRcIixzU29ydGluZ0NsYXNzOm51bGwsc1NvcnRpbmdDbGFzc0pVSTpudWxsLHNUaXRsZTpudWxsLHNUeXBlOm51bGwsc1dpZHRoOm51bGwsc1dpZHRoT3JpZzpudWxsfTtwLmRlZmF1bHRzPXthYURhdGE6bnVsbCxhYVNvcnRpbmc6W1swLFwiYXNjXCJdXSxhYVNvcnRpbmdGaXhlZDpbXSxhamF4Om51bGwsYUxlbmd0aE1lbnU6WzEwLDI1LDUwLDEwMF0sYW9Db2x1bW5zOm51bGwsXG5hb0NvbHVtbkRlZnM6bnVsbCxhb1NlYXJjaENvbHM6W10sYXNTdHJpcGVDbGFzc2VzOm51bGwsYkF1dG9XaWR0aDohMCxiRGVmZXJSZW5kZXI6ITEsYkRlc3Ryb3k6ITEsYkZpbHRlcjohMCxiSW5mbzohMCxiSlF1ZXJ5VUk6ITEsYkxlbmd0aENoYW5nZTohMCxiUGFnaW5hdGU6ITAsYlByb2Nlc3Npbmc6ITEsYlJldHJpZXZlOiExLGJTY3JvbGxDb2xsYXBzZTohMSxiU2VydmVyU2lkZTohMSxiU29ydDohMCxiU29ydE11bHRpOiEwLGJTb3J0Q2VsbHNUb3A6ITEsYlNvcnRDbGFzc2VzOiEwLGJTdGF0ZVNhdmU6ITEsZm5DcmVhdGVkUm93Om51bGwsZm5EcmF3Q2FsbGJhY2s6bnVsbCxmbkZvb3RlckNhbGxiYWNrOm51bGwsZm5Gb3JtYXROdW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLHRoaXMub0xhbmd1YWdlLnNUaG91c2FuZHMpfSxmbkhlYWRlckNhbGxiYWNrOm51bGwsZm5JbmZvQ2FsbGJhY2s6bnVsbCxcbmZuSW5pdENvbXBsZXRlOm51bGwsZm5QcmVEcmF3Q2FsbGJhY2s6bnVsbCxmblJvd0NhbGxiYWNrOm51bGwsZm5TZXJ2ZXJEYXRhOm51bGwsZm5TZXJ2ZXJQYXJhbXM6bnVsbCxmblN0YXRlTG9hZENhbGxiYWNrOmZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZSgoLTE9PT1hLmlTdGF0ZUR1cmF0aW9uP3Nlc3Npb25TdG9yYWdlOmxvY2FsU3RvcmFnZSkuZ2V0SXRlbShcIkRhdGFUYWJsZXNfXCIrYS5zSW5zdGFuY2UrXCJfXCIrbG9jYXRpb24ucGF0aG5hbWUpKX1jYXRjaChiKXt9fSxmblN0YXRlTG9hZFBhcmFtczpudWxsLGZuU3RhdGVMb2FkZWQ6bnVsbCxmblN0YXRlU2F2ZUNhbGxiYWNrOmZ1bmN0aW9uKGEsYil7dHJ5eygtMT09PWEuaVN0YXRlRHVyYXRpb24/c2Vzc2lvblN0b3JhZ2U6bG9jYWxTdG9yYWdlKS5zZXRJdGVtKFwiRGF0YVRhYmxlc19cIithLnNJbnN0YW5jZStcIl9cIitsb2NhdGlvbi5wYXRobmFtZSxKU09OLnN0cmluZ2lmeShiKSl9Y2F0Y2goYyl7fX0sZm5TdGF0ZVNhdmVQYXJhbXM6bnVsbCxcbmlTdGF0ZUR1cmF0aW9uOjcyMDAsaURlZmVyTG9hZGluZzpudWxsLGlEaXNwbGF5TGVuZ3RoOjEwLGlEaXNwbGF5U3RhcnQ6MCxpVGFiSW5kZXg6MCxvQ2xhc3Nlczp7fSxvTGFuZ3VhZ2U6e29BcmlhOntzU29ydEFzY2VuZGluZzpcIjogYWN0aXZhdGUgdG8gc29ydCBjb2x1bW4gYXNjZW5kaW5nXCIsc1NvcnREZXNjZW5kaW5nOlwiOiBhY3RpdmF0ZSB0byBzb3J0IGNvbHVtbiBkZXNjZW5kaW5nXCJ9LG9QYWdpbmF0ZTp7c0ZpcnN0OlwiRmlyc3RcIixzTGFzdDpcIkxhc3RcIixzTmV4dDpcIk5leHRcIixzUHJldmlvdXM6XCJQcmV2aW91c1wifSxzRW1wdHlUYWJsZTpcIk5vIGRhdGEgYXZhaWxhYmxlIGluIHRhYmxlXCIsc0luZm86XCJTaG93aW5nIF9TVEFSVF8gdG8gX0VORF8gb2YgX1RPVEFMXyBlbnRyaWVzXCIsc0luZm9FbXB0eTpcIlNob3dpbmcgMCB0byAwIG9mIDAgZW50cmllc1wiLHNJbmZvRmlsdGVyZWQ6XCIoZmlsdGVyZWQgZnJvbSBfTUFYXyB0b3RhbCBlbnRyaWVzKVwiLHNJbmZvUG9zdEZpeDpcIlwiLHNEZWNpbWFsOlwiXCIsXG5zVGhvdXNhbmRzOlwiLFwiLHNMZW5ndGhNZW51OlwiU2hvdyBfTUVOVV8gZW50cmllc1wiLHNMb2FkaW5nUmVjb3JkczpcIkxvYWRpbmcuLi5cIixzUHJvY2Vzc2luZzpcIlByb2Nlc3NpbmcuLi5cIixzU2VhcmNoOlwiU2VhcmNoOlwiLHNTZWFyY2hQbGFjZWhvbGRlcjpcIlwiLHNVcmw6XCJcIixzWmVyb1JlY29yZHM6XCJObyBtYXRjaGluZyByZWNvcmRzIGZvdW5kXCJ9LG9TZWFyY2g6Zy5leHRlbmQoe30scC5tb2RlbHMub1NlYXJjaCksc0FqYXhEYXRhUHJvcDpcImRhdGFcIixzQWpheFNvdXJjZTpudWxsLHNEb206XCJsZnJ0aXBcIixzZWFyY2hEZWxheTpudWxsLHNQYWdpbmF0aW9uVHlwZTpcInNpbXBsZV9udW1iZXJzXCIsc1Njcm9sbFg6XCJcIixzU2Nyb2xsWElubmVyOlwiXCIsc1Njcm9sbFk6XCJcIixzU2VydmVyTWV0aG9kOlwiR0VUXCIscmVuZGVyZXI6bnVsbH07VihwLmRlZmF1bHRzKTtwLmRlZmF1bHRzLmNvbHVtbj17YURhdGFTb3J0Om51bGwsaURhdGFTb3J0Oi0xLGFzU29ydGluZzpbXCJhc2NcIixcImRlc2NcIl0sYlNlYXJjaGFibGU6ITAsXG5iU29ydGFibGU6ITAsYlZpc2libGU6ITAsZm5DcmVhdGVkQ2VsbDpudWxsLG1EYXRhOm51bGwsbVJlbmRlcjpudWxsLHNDZWxsVHlwZTpcInRkXCIsc0NsYXNzOlwiXCIsc0NvbnRlbnRQYWRkaW5nOlwiXCIsc0RlZmF1bHRDb250ZW50Om51bGwsc05hbWU6XCJcIixzU29ydERhdGFUeXBlOlwic3RkXCIsc1RpdGxlOm51bGwsc1R5cGU6bnVsbCxzV2lkdGg6bnVsbH07VihwLmRlZmF1bHRzLmNvbHVtbik7cC5tb2RlbHMub1NldHRpbmdzPXtvRmVhdHVyZXM6e2JBdXRvV2lkdGg6bnVsbCxiRGVmZXJSZW5kZXI6bnVsbCxiRmlsdGVyOm51bGwsYkluZm86bnVsbCxiTGVuZ3RoQ2hhbmdlOm51bGwsYlBhZ2luYXRlOm51bGwsYlByb2Nlc3Npbmc6bnVsbCxiU2VydmVyU2lkZTpudWxsLGJTb3J0Om51bGwsYlNvcnRNdWx0aTpudWxsLGJTb3J0Q2xhc3NlczpudWxsLGJTdGF0ZVNhdmU6bnVsbH0sb1Njcm9sbDp7YkNvbGxhcHNlOm51bGwsaUJhcldpZHRoOjAsc1g6bnVsbCxzWElubmVyOm51bGwsc1k6bnVsbH0sXG5vTGFuZ3VhZ2U6e2ZuSW5mb0NhbGxiYWNrOm51bGx9LG9Ccm93c2VyOntiU2Nyb2xsT3ZlcnNpemU6ITEsYlNjcm9sbGJhckxlZnQ6ITF9LGFqYXg6bnVsbCxhYW5GZWF0dXJlczpbXSxhb0RhdGE6W10sYWlEaXNwbGF5OltdLGFpRGlzcGxheU1hc3RlcjpbXSxhb0NvbHVtbnM6W10sYW9IZWFkZXI6W10sYW9Gb290ZXI6W10sb1ByZXZpb3VzU2VhcmNoOnt9LGFvUHJlU2VhcmNoQ29sczpbXSxhYVNvcnRpbmc6bnVsbCxhYVNvcnRpbmdGaXhlZDpbXSxhc1N0cmlwZUNsYXNzZXM6bnVsbCxhc0Rlc3Ryb3lTdHJpcGVzOltdLHNEZXN0cm95V2lkdGg6MCxhb1Jvd0NhbGxiYWNrOltdLGFvSGVhZGVyQ2FsbGJhY2s6W10sYW9Gb290ZXJDYWxsYmFjazpbXSxhb0RyYXdDYWxsYmFjazpbXSxhb1Jvd0NyZWF0ZWRDYWxsYmFjazpbXSxhb1ByZURyYXdDYWxsYmFjazpbXSxhb0luaXRDb21wbGV0ZTpbXSxhb1N0YXRlU2F2ZVBhcmFtczpbXSxhb1N0YXRlTG9hZFBhcmFtczpbXSxhb1N0YXRlTG9hZGVkOltdLFxuc1RhYmxlSWQ6XCJcIixuVGFibGU6bnVsbCxuVEhlYWQ6bnVsbCxuVEZvb3Q6bnVsbCxuVEJvZHk6bnVsbCxuVGFibGVXcmFwcGVyOm51bGwsYkRlZmVyTG9hZGluZzohMSxiSW5pdGlhbGlzZWQ6ITEsYW9PcGVuUm93czpbXSxzRG9tOm51bGwsc2VhcmNoRGVsYXk6bnVsbCxzUGFnaW5hdGlvblR5cGU6XCJ0d29fYnV0dG9uXCIsaVN0YXRlRHVyYXRpb246MCxhb1N0YXRlU2F2ZTpbXSxhb1N0YXRlTG9hZDpbXSxvU2F2ZWRTdGF0ZTpudWxsLG9Mb2FkZWRTdGF0ZTpudWxsLHNBamF4U291cmNlOm51bGwsc0FqYXhEYXRhUHJvcDpudWxsLGJBamF4RGF0YUdldDohMCxqcVhIUjpudWxsLGpzb246bCxvQWpheERhdGE6bCxmblNlcnZlckRhdGE6bnVsbCxhb1NlcnZlclBhcmFtczpbXSxzU2VydmVyTWV0aG9kOm51bGwsZm5Gb3JtYXROdW1iZXI6bnVsbCxhTGVuZ3RoTWVudTpudWxsLGlEcmF3OjAsYkRyYXdpbmc6ITEsaURyYXdFcnJvcjotMSxfaURpc3BsYXlMZW5ndGg6MTAsX2lEaXNwbGF5U3RhcnQ6MCxcbl9pUmVjb3Jkc1RvdGFsOjAsX2lSZWNvcmRzRGlzcGxheTowLGJKVUk6bnVsbCxvQ2xhc3Nlczp7fSxiRmlsdGVyZWQ6ITEsYlNvcnRlZDohMSxiU29ydENlbGxzVG9wOm51bGwsb0luaXQ6bnVsbCxhb0Rlc3Ryb3lDYWxsYmFjazpbXSxmblJlY29yZHNUb3RhbDpmdW5jdGlvbigpe3JldHVyblwic3NwXCI9PUEodGhpcyk/MSp0aGlzLl9pUmVjb3Jkc1RvdGFsOnRoaXMuYWlEaXNwbGF5TWFzdGVyLmxlbmd0aH0sZm5SZWNvcmRzRGlzcGxheTpmdW5jdGlvbigpe3JldHVyblwic3NwXCI9PUEodGhpcyk/MSp0aGlzLl9pUmVjb3Jkc0Rpc3BsYXk6dGhpcy5haURpc3BsYXkubGVuZ3RofSxmbkRpc3BsYXlFbmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9pRGlzcGxheUxlbmd0aCxiPXRoaXMuX2lEaXNwbGF5U3RhcnQsYz1iK2EsZT10aGlzLmFpRGlzcGxheS5sZW5ndGgsZD10aGlzLm9GZWF0dXJlcyxmPWQuYlBhZ2luYXRlO3JldHVybiBkLmJTZXJ2ZXJTaWRlPyExPT09Znx8LTE9PT1hP2IrZTpcbk1hdGgubWluKGIrYSx0aGlzLl9pUmVjb3Jkc0Rpc3BsYXkpOiFmfHxjPmV8fC0xPT09YT9lOmN9LG9JbnN0YW5jZTpudWxsLHNJbnN0YW5jZTpudWxsLGlUYWJJbmRleDowLG5TY3JvbGxIZWFkOm51bGwsblNjcm9sbEZvb3Q6bnVsbCxhTGFzdFNvcnQ6W10sb1BsdWdpbnM6e319O3AuZXh0PXc9e2NsYXNzZXM6e30sZXJyTW9kZTpcImFsZXJ0XCIsZmVhdHVyZTpbXSxzZWFyY2g6W10saW50ZXJuYWw6e30sbGVnYWN5OnthamF4Om51bGx9LHBhZ2VyOnt9LHJlbmRlcmVyOntwYWdlQnV0dG9uOnt9LGhlYWRlcjp7fX0sb3JkZXI6e30sdHlwZTp7ZGV0ZWN0OltdLHNlYXJjaDp7fSxvcmRlcjp7fX0sX3VuaXF1ZTowLGZuVmVyc2lvbkNoZWNrOnAuZm5WZXJzaW9uQ2hlY2ssaUFwaUluZGV4OjAsb0pVSUNsYXNzZXM6e30sc1ZlcnNpb246cC52ZXJzaW9ufTtnLmV4dGVuZCh3LHthZm5GaWx0ZXJpbmc6dy5zZWFyY2gsYVR5cGVzOncudHlwZS5kZXRlY3Qsb2ZuU2VhcmNoOncudHlwZS5zZWFyY2gsXG5vU29ydDp3LnR5cGUub3JkZXIsYWZuU29ydERhdGE6dy5vcmRlcixhb0ZlYXR1cmVzOncuZmVhdHVyZSxvQXBpOncuaW50ZXJuYWwsb1N0ZENsYXNzZXM6dy5jbGFzc2VzLG9QYWdpbmF0aW9uOncucGFnZXJ9KTtnLmV4dGVuZChwLmV4dC5jbGFzc2VzLHtzVGFibGU6XCJkYXRhVGFibGVcIixzTm9Gb290ZXI6XCJuby1mb290ZXJcIixzUGFnZUJ1dHRvbjpcInBhZ2luYXRlX2J1dHRvblwiLHNQYWdlQnV0dG9uQWN0aXZlOlwiY3VycmVudFwiLHNQYWdlQnV0dG9uRGlzYWJsZWQ6XCJkaXNhYmxlZFwiLHNTdHJpcGVPZGQ6XCJvZGRcIixzU3RyaXBlRXZlbjpcImV2ZW5cIixzUm93RW1wdHk6XCJkYXRhVGFibGVzX2VtcHR5XCIsc1dyYXBwZXI6XCJkYXRhVGFibGVzX3dyYXBwZXJcIixzRmlsdGVyOlwiZGF0YVRhYmxlc19maWx0ZXJcIixzSW5mbzpcImRhdGFUYWJsZXNfaW5mb1wiLHNQYWdpbmc6XCJkYXRhVGFibGVzX3BhZ2luYXRlIHBhZ2luZ19cIixzTGVuZ3RoOlwiZGF0YVRhYmxlc19sZW5ndGhcIixzUHJvY2Vzc2luZzpcImRhdGFUYWJsZXNfcHJvY2Vzc2luZ1wiLFxuc1NvcnRBc2M6XCJzb3J0aW5nX2FzY1wiLHNTb3J0RGVzYzpcInNvcnRpbmdfZGVzY1wiLHNTb3J0YWJsZTpcInNvcnRpbmdcIixzU29ydGFibGVBc2M6XCJzb3J0aW5nX2FzY19kaXNhYmxlZFwiLHNTb3J0YWJsZURlc2M6XCJzb3J0aW5nX2Rlc2NfZGlzYWJsZWRcIixzU29ydGFibGVOb25lOlwic29ydGluZ19kaXNhYmxlZFwiLHNTb3J0Q29sdW1uOlwic29ydGluZ19cIixzRmlsdGVySW5wdXQ6XCJcIixzTGVuZ3RoU2VsZWN0OlwiXCIsc1Njcm9sbFdyYXBwZXI6XCJkYXRhVGFibGVzX3Njcm9sbFwiLHNTY3JvbGxIZWFkOlwiZGF0YVRhYmxlc19zY3JvbGxIZWFkXCIsc1Njcm9sbEhlYWRJbm5lcjpcImRhdGFUYWJsZXNfc2Nyb2xsSGVhZElubmVyXCIsc1Njcm9sbEJvZHk6XCJkYXRhVGFibGVzX3Njcm9sbEJvZHlcIixzU2Nyb2xsRm9vdDpcImRhdGFUYWJsZXNfc2Nyb2xsRm9vdFwiLHNTY3JvbGxGb290SW5uZXI6XCJkYXRhVGFibGVzX3Njcm9sbEZvb3RJbm5lclwiLHNIZWFkZXJUSDpcIlwiLHNGb290ZXJUSDpcIlwiLHNTb3J0SlVJQXNjOlwiXCIsXG5zU29ydEpVSURlc2M6XCJcIixzU29ydEpVSTpcIlwiLHNTb3J0SlVJQXNjQWxsb3dlZDpcIlwiLHNTb3J0SlVJRGVzY0FsbG93ZWQ6XCJcIixzU29ydEpVSVdyYXBwZXI6XCJcIixzU29ydEljb246XCJcIixzSlVJSGVhZGVyOlwiXCIsc0pVSUZvb3RlcjpcIlwifSk7dmFyIENhPVwiXCIsQ2E9XCJcIixFPUNhK1widWktc3RhdGUtZGVmYXVsdFwiLGlhPUNhK1wiY3NzX3JpZ2h0IHVpLWljb24gdWktaWNvbi1cIixXYj1DYStcImZnLXRvb2xiYXIgdWktdG9vbGJhciB1aS13aWRnZXQtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeFwiO2cuZXh0ZW5kKHAuZXh0Lm9KVUlDbGFzc2VzLHAuZXh0LmNsYXNzZXMse3NQYWdlQnV0dG9uOlwiZmctYnV0dG9uIHVpLWJ1dHRvbiBcIitFLHNQYWdlQnV0dG9uQWN0aXZlOlwidWktc3RhdGUtZGlzYWJsZWRcIixzUGFnZUJ1dHRvbkRpc2FibGVkOlwidWktc3RhdGUtZGlzYWJsZWRcIixzUGFnaW5nOlwiZGF0YVRhYmxlc19wYWdpbmF0ZSBmZy1idXR0b25zZXQgdWktYnV0dG9uc2V0IGZnLWJ1dHRvbnNldC1tdWx0aSB1aS1idXR0b25zZXQtbXVsdGkgcGFnaW5nX1wiLFxuc1NvcnRBc2M6RStcIiBzb3J0aW5nX2FzY1wiLHNTb3J0RGVzYzpFK1wiIHNvcnRpbmdfZGVzY1wiLHNTb3J0YWJsZTpFK1wiIHNvcnRpbmdcIixzU29ydGFibGVBc2M6RStcIiBzb3J0aW5nX2FzY19kaXNhYmxlZFwiLHNTb3J0YWJsZURlc2M6RStcIiBzb3J0aW5nX2Rlc2NfZGlzYWJsZWRcIixzU29ydGFibGVOb25lOkUrXCIgc29ydGluZ19kaXNhYmxlZFwiLHNTb3J0SlVJQXNjOmlhK1widHJpYW5nbGUtMS1uXCIsc1NvcnRKVUlEZXNjOmlhK1widHJpYW5nbGUtMS1zXCIsc1NvcnRKVUk6aWErXCJjYXJhdC0yLW4tc1wiLHNTb3J0SlVJQXNjQWxsb3dlZDppYStcImNhcmF0LTEtblwiLHNTb3J0SlVJRGVzY0FsbG93ZWQ6aWErXCJjYXJhdC0xLXNcIixzU29ydEpVSVdyYXBwZXI6XCJEYXRhVGFibGVzX3NvcnRfd3JhcHBlclwiLHNTb3J0SWNvbjpcIkRhdGFUYWJsZXNfc29ydF9pY29uXCIsc1Njcm9sbEhlYWQ6XCJkYXRhVGFibGVzX3Njcm9sbEhlYWQgXCIrRSxzU2Nyb2xsRm9vdDpcImRhdGFUYWJsZXNfc2Nyb2xsRm9vdCBcIitFLFxuc0hlYWRlclRIOkUsc0Zvb3RlclRIOkUsc0pVSUhlYWRlcjpXYitcIiB1aS1jb3JuZXItdGwgdWktY29ybmVyLXRyXCIsc0pVSUZvb3RlcjpXYitcIiB1aS1jb3JuZXItYmwgdWktY29ybmVyLWJyXCJ9KTt2YXIgTGI9cC5leHQucGFnZXI7Zy5leHRlbmQoTGIse3NpbXBsZTpmdW5jdGlvbigpe3JldHVybltcInByZXZpb3VzXCIsXCJuZXh0XCJdfSxmdWxsOmZ1bmN0aW9uKCl7cmV0dXJuW1wiZmlyc3RcIixcInByZXZpb3VzXCIsXCJuZXh0XCIsXCJsYXN0XCJdfSxzaW1wbGVfbnVtYmVyczpmdW5jdGlvbihhLGIpe3JldHVybltcInByZXZpb3VzXCIsVmEoYSxiKSxcIm5leHRcIl19LGZ1bGxfbnVtYmVyczpmdW5jdGlvbihhLGIpe3JldHVybltcImZpcnN0XCIsXCJwcmV2aW91c1wiLFZhKGEsYiksXCJuZXh0XCIsXCJsYXN0XCJdfSxfbnVtYmVyczpWYSxudW1iZXJzX2xlbmd0aDo3fSk7Zy5leHRlbmQoITAscC5leHQucmVuZGVyZXIse3BhZ2VCdXR0b246e186ZnVuY3Rpb24oYSxiLGMsZSxkLGYpe3ZhciBoPWEub0NsYXNzZXMsaT1cbmEub0xhbmd1YWdlLm9QYWdpbmF0ZSxqLGwsbT0wLG89ZnVuY3Rpb24oYixlKXt2YXIgayxwLHIscSxzPWZ1bmN0aW9uKGIpe1NhKGEsYi5kYXRhLmFjdGlvbix0cnVlKX07az0wO2ZvcihwPWUubGVuZ3RoO2s8cDtrKyspe3E9ZVtrXTtpZihnLmlzQXJyYXkocSkpe3I9ZyhcIjxcIisocS5EVF9lbHx8XCJkaXZcIikrXCIvPlwiKS5hcHBlbmRUbyhiKTtvKHIscSl9ZWxzZXtsPWo9XCJcIjtzd2l0Y2gocSl7Y2FzZSBcImVsbGlwc2lzXCI6Yi5hcHBlbmQoXCI8c3Bhbj4maGVsbGlwOzwvc3Bhbj5cIik7YnJlYWs7Y2FzZSBcImZpcnN0XCI6aj1pLnNGaXJzdDtsPXErKGQ+MD9cIlwiOlwiIFwiK2guc1BhZ2VCdXR0b25EaXNhYmxlZCk7YnJlYWs7Y2FzZSBcInByZXZpb3VzXCI6aj1pLnNQcmV2aW91cztsPXErKGQ+MD9cIlwiOlwiIFwiK2guc1BhZ2VCdXR0b25EaXNhYmxlZCk7YnJlYWs7Y2FzZSBcIm5leHRcIjpqPWkuc05leHQ7bD1xKyhkPGYtMT9cIlwiOlwiIFwiK2guc1BhZ2VCdXR0b25EaXNhYmxlZCk7YnJlYWs7Y2FzZSBcImxhc3RcIjpqPVxuaS5zTGFzdDtsPXErKGQ8Zi0xP1wiXCI6XCIgXCIraC5zUGFnZUJ1dHRvbkRpc2FibGVkKTticmVhaztkZWZhdWx0Omo9cSsxO2w9ZD09PXE/aC5zUGFnZUJ1dHRvbkFjdGl2ZTpcIlwifWlmKGope3I9ZyhcIjxhPlwiLHtcImNsYXNzXCI6aC5zUGFnZUJ1dHRvbitcIiBcIitsLFwiYXJpYS1jb250cm9sc1wiOmEuc1RhYmxlSWQsXCJkYXRhLWR0LWlkeFwiOm0sdGFiaW5kZXg6YS5pVGFiSW5kZXgsaWQ6Yz09PTAmJnR5cGVvZiBxPT09XCJzdHJpbmdcIj9hLnNUYWJsZUlkK1wiX1wiK3E6bnVsbH0pLmh0bWwoaikuYXBwZW5kVG8oYik7VWEocix7YWN0aW9uOnF9LHMpO20rK319fX07dHJ5e3ZhciBrPWcoUC5hY3RpdmVFbGVtZW50KS5kYXRhKFwiZHQtaWR4XCIpO28oZyhiKS5lbXB0eSgpLGUpO2shPT1udWxsJiZnKGIpLmZpbmQoXCJbZGF0YS1kdC1pZHg9XCIraytcIl1cIikuZm9jdXMoKX1jYXRjaChwKXt9fX19KTtnLmV4dGVuZChwLmV4dC50eXBlLmRldGVjdCxbZnVuY3Rpb24oYSxiKXt2YXIgYz1iLm9MYW5ndWFnZS5zRGVjaW1hbDtcbnJldHVybiBZYShhLGMpP1wibnVtXCIrYzpudWxsfSxmdW5jdGlvbihhKXtpZihhJiYhKGEgaW5zdGFuY2VvZiBEYXRlKSYmKCEkYi50ZXN0KGEpfHwhYWMudGVzdChhKSkpcmV0dXJuIG51bGw7dmFyIGI9RGF0ZS5wYXJzZShhKTtyZXR1cm4gbnVsbCE9PWImJiFpc05hTihiKXx8SChhKT9cImRhdGVcIjpudWxsfSxmdW5jdGlvbihhLGIpe3ZhciBjPWIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBZYShhLGMsITApP1wibnVtLWZtdFwiK2M6bnVsbH0sZnVuY3Rpb24oYSxiKXt2YXIgYz1iLm9MYW5ndWFnZS5zRGVjaW1hbDtyZXR1cm4gUWIoYSxjKT9cImh0bWwtbnVtXCIrYzpudWxsfSxmdW5jdGlvbihhLGIpe3ZhciBjPWIub0xhbmd1YWdlLnNEZWNpbWFsO3JldHVybiBRYihhLGMsITApP1wiaHRtbC1udW0tZm10XCIrYzpudWxsfSxmdW5jdGlvbihhKXtyZXR1cm4gSChhKXx8XCJzdHJpbmdcIj09PXR5cGVvZiBhJiYtMSE9PWEuaW5kZXhPZihcIjxcIik/XCJodG1sXCI6bnVsbH1dKTtnLmV4dGVuZChwLmV4dC50eXBlLnNlYXJjaCxcbntodG1sOmZ1bmN0aW9uKGEpe3JldHVybiBIKGEpP2E6XCJzdHJpbmdcIj09PXR5cGVvZiBhP2EucmVwbGFjZShOYixcIiBcIikucmVwbGFjZShBYSxcIlwiKTpcIlwifSxzdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuIEgoYSk/YTpcInN0cmluZ1wiPT09dHlwZW9mIGE/YS5yZXBsYWNlKE5iLFwiIFwiKTphfX0pO3ZhciB6YT1mdW5jdGlvbihhLGIsYyxlKXtpZigwIT09YSYmKCFhfHxcIi1cIj09PWEpKXJldHVybi1JbmZpbml0eTtiJiYoYT1QYihhLGIpKTthLnJlcGxhY2UmJihjJiYoYT1hLnJlcGxhY2UoYyxcIlwiKSksZSYmKGE9YS5yZXBsYWNlKGUsXCJcIikpKTtyZXR1cm4gMSphfTtnLmV4dGVuZCh3LnR5cGUub3JkZXIse1wiZGF0ZS1wcmVcIjpmdW5jdGlvbihhKXtyZXR1cm4gRGF0ZS5wYXJzZShhKXx8MH0sXCJodG1sLXByZVwiOmZ1bmN0aW9uKGEpe3JldHVybiBIKGEpP1wiXCI6YS5yZXBsYWNlP2EucmVwbGFjZSgvPC4qPz4vZyxcIlwiKS50b0xvd2VyQ2FzZSgpOmErXCJcIn0sXCJzdHJpbmctcHJlXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIEgoYSk/XG5cIlwiOlwic3RyaW5nXCI9PT10eXBlb2YgYT9hLnRvTG93ZXJDYXNlKCk6IWEudG9TdHJpbmc/XCJcIjphLnRvU3RyaW5nKCl9LFwic3RyaW5nLWFzY1wiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE8Yj8tMTphPmI/MTowfSxcInN0cmluZy1kZXNjXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYTxiPzE6YT5iPy0xOjB9fSk7Y2IoXCJcIik7Zy5leHRlbmQoITAscC5leHQucmVuZGVyZXIse2hlYWRlcjp7XzpmdW5jdGlvbihhLGIsYyxlKXtnKGEublRhYmxlKS5vbihcIm9yZGVyLmR0LkRUXCIsZnVuY3Rpb24oZCxmLGgsZyl7aWYoYT09PWYpe2Q9Yy5pZHg7Yi5yZW1vdmVDbGFzcyhjLnNTb3J0aW5nQ2xhc3MrXCIgXCIrZS5zU29ydEFzYytcIiBcIitlLnNTb3J0RGVzYykuYWRkQ2xhc3MoZ1tkXT09XCJhc2NcIj9lLnNTb3J0QXNjOmdbZF09PVwiZGVzY1wiP2Uuc1NvcnREZXNjOmMuc1NvcnRpbmdDbGFzcyl9fSl9LGpxdWVyeXVpOmZ1bmN0aW9uKGEsYixjLGUpe2coXCI8ZGl2Lz5cIikuYWRkQ2xhc3MoZS5zU29ydEpVSVdyYXBwZXIpLmFwcGVuZChiLmNvbnRlbnRzKCkpLmFwcGVuZChnKFwiPHNwYW4vPlwiKS5hZGRDbGFzcyhlLnNTb3J0SWNvbitcblwiIFwiK2Muc1NvcnRpbmdDbGFzc0pVSSkpLmFwcGVuZFRvKGIpO2coYS5uVGFibGUpLm9uKFwib3JkZXIuZHQuRFRcIixmdW5jdGlvbihkLGYsZyxpKXtpZihhPT09Zil7ZD1jLmlkeDtiLnJlbW92ZUNsYXNzKGUuc1NvcnRBc2MrXCIgXCIrZS5zU29ydERlc2MpLmFkZENsYXNzKGlbZF09PVwiYXNjXCI/ZS5zU29ydEFzYzppW2RdPT1cImRlc2NcIj9lLnNTb3J0RGVzYzpjLnNTb3J0aW5nQ2xhc3MpO2IuZmluZChcInNwYW4uXCIrZS5zU29ydEljb24pLnJlbW92ZUNsYXNzKGUuc1NvcnRKVUlBc2MrXCIgXCIrZS5zU29ydEpVSURlc2MrXCIgXCIrZS5zU29ydEpVSStcIiBcIitlLnNTb3J0SlVJQXNjQWxsb3dlZCtcIiBcIitlLnNTb3J0SlVJRGVzY0FsbG93ZWQpLmFkZENsYXNzKGlbZF09PVwiYXNjXCI/ZS5zU29ydEpVSUFzYzppW2RdPT1cImRlc2NcIj9lLnNTb3J0SlVJRGVzYzpjLnNTb3J0aW5nQ2xhc3NKVUkpfX0pfX19KTtwLnJlbmRlcj17bnVtYmVyOmZ1bmN0aW9uKGEsYixjLGUpe3JldHVybntkaXNwbGF5OmZ1bmN0aW9uKGQpe3ZhciBmPVxuMD5kP1wiLVwiOlwiXCIsZD1NYXRoLmFicyhwYXJzZUZsb2F0KGQpKSxnPXBhcnNlSW50KGQsMTApLGQ9Yz9iKyhkLWcpLnRvRml4ZWQoYykuc3Vic3RyaW5nKDIpOlwiXCI7cmV0dXJuIGYrKGV8fFwiXCIpK2cudG9TdHJpbmcoKS5yZXBsYWNlKC9cXEIoPz0oXFxkezN9KSsoPyFcXGQpKS9nLGEpK2R9fX19O2cuZXh0ZW5kKHAuZXh0LmludGVybmFsLHtfZm5FeHRlcm5BcGlGdW5jOk1iLF9mbkJ1aWxkQWpheDpxYSxfZm5BamF4VXBkYXRlOmpiLF9mbkFqYXhQYXJhbWV0ZXJzOnNiLF9mbkFqYXhVcGRhdGVEcmF3OnRiLF9mbkFqYXhEYXRhU3JjOnJhLF9mbkFkZENvbHVtbjpFYSxfZm5Db2x1bW5PcHRpb25zOmphLF9mbkFkanVzdENvbHVtblNpemluZzpYLF9mblZpc2libGVUb0NvbHVtbkluZGV4OmthLF9mbkNvbHVtbkluZGV4VG9WaXNpYmxlOiQsX2ZuVmlzYmxlQ29sdW1uczphYSxfZm5HZXRDb2x1bW5zOlosX2ZuQ29sdW1uVHlwZXM6R2EsX2ZuQXBwbHlDb2x1bW5EZWZzOmhiLF9mbkh1bmdhcmlhbk1hcDpWLFxuX2ZuQ2FtZWxUb0h1bmdhcmlhbjpHLF9mbkxhbmd1YWdlQ29tcGF0Ok8sX2ZuQnJvd3NlckRldGVjdDpmYixfZm5BZGREYXRhOkksX2ZuQWRkVHI6bGEsX2ZuTm9kZVRvRGF0YUluZGV4OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuX0RUX1Jvd0luZGV4IT09bD9iLl9EVF9Sb3dJbmRleDpudWxsfSxfZm5Ob2RlVG9Db2x1bW5JbmRleDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGcuaW5BcnJheShjLGEuYW9EYXRhW2JdLmFuQ2VsbHMpfSxfZm5HZXRDZWxsRGF0YTp2LF9mblNldENlbGxEYXRhOkhhLF9mblNwbGl0T2JqTm90YXRpb246SmEsX2ZuR2V0T2JqZWN0RGF0YUZuOlcsX2ZuU2V0T2JqZWN0RGF0YUZuOlEsX2ZuR2V0RGF0YU1hc3RlcjpLYSxfZm5DbGVhclRhYmxlOm5hLF9mbkRlbGV0ZUluZGV4Om9hLF9mbkludmFsaWRhdGU6Y2EsX2ZuR2V0Um93RWxlbWVudHM6bWEsX2ZuQ3JlYXRlVHI6SWEsX2ZuQnVpbGRIZWFkOmliLF9mbkRyYXdIZWFkOmVhLF9mbkRyYXc6TCxfZm5SZURyYXc6TSxcbl9mbkFkZE9wdGlvbnNIdG1sOmxiLF9mbkRldGVjdEhlYWRlcjpkYSxfZm5HZXRVbmlxdWVUaHM6cGEsX2ZuRmVhdHVyZUh0bWxGaWx0ZXI6bmIsX2ZuRmlsdGVyQ29tcGxldGU6ZmEsX2ZuRmlsdGVyQ3VzdG9tOndiLF9mbkZpbHRlckNvbHVtbjp2YixfZm5GaWx0ZXI6dWIsX2ZuRmlsdGVyQ3JlYXRlU2VhcmNoOlBhLF9mbkVzY2FwZVJlZ2V4OnVhLF9mbkZpbHRlckRhdGE6eGIsX2ZuRmVhdHVyZUh0bWxJbmZvOnFiLF9mblVwZGF0ZUluZm86QWIsX2ZuSW5mb01hY3JvczpCYixfZm5Jbml0aWFsaXNlOmdhLF9mbkluaXRDb21wbGV0ZTpzYSxfZm5MZW5ndGhDaGFuZ2U6UWEsX2ZuRmVhdHVyZUh0bWxMZW5ndGg6bWIsX2ZuRmVhdHVyZUh0bWxQYWdpbmF0ZTpyYixfZm5QYWdlQ2hhbmdlOlNhLF9mbkZlYXR1cmVIdG1sUHJvY2Vzc2luZzpvYixfZm5Qcm9jZXNzaW5nRGlzcGxheTpCLF9mbkZlYXR1cmVIdG1sVGFibGU6cGIsX2ZuU2Nyb2xsRHJhdzpZLF9mbkFwcGx5VG9DaGlsZHJlbjpGLFxuX2ZuQ2FsY3VsYXRlQ29sdW1uV2lkdGhzOkZhLF9mblRocm90dGxlOnRhLF9mbkNvbnZlcnRUb1dpZHRoOkNiLF9mblNjcm9sbGluZ1dpZHRoQWRqdXN0OkViLF9mbkdldFdpZGVzdE5vZGU6RGIsX2ZuR2V0TWF4TGVuU3RyaW5nOkZiLF9mblN0cmluZ1RvQ3NzOnMsX2ZuU2Nyb2xsQmFyV2lkdGg6R2IsX2ZuU29ydEZsYXR0ZW46VCxfZm5Tb3J0OmtiLF9mblNvcnRBcmlhOkliLF9mblNvcnRMaXN0ZW5lcjpUYSxfZm5Tb3J0QXR0YWNoTGlzdGVuZXI6TmEsX2ZuU29ydGluZ0NsYXNzZXM6d2EsX2ZuU29ydERhdGE6SGIsX2ZuU2F2ZVN0YXRlOnhhLF9mbkxvYWRTdGF0ZTpKYixfZm5TZXR0aW5nc0Zyb21Ob2RlOnlhLF9mbkxvZzpSLF9mbk1hcDpELF9mbkJpbmRBY3Rpb246VWEsX2ZuQ2FsbGJhY2tSZWc6eCxfZm5DYWxsYmFja0ZpcmU6dSxfZm5MZW5ndGhPdmVyZmxvdzpSYSxfZm5SZW5kZXJlcjpPYSxfZm5EYXRhU291cmNlOkEsX2ZuUm93QXR0cmlidXRlczpMYSxfZm5DYWxjdWxhdGVFbmQ6ZnVuY3Rpb24oKXt9fSk7XG5nLmZuLmRhdGFUYWJsZT1wO2cuZm4uZGF0YVRhYmxlU2V0dGluZ3M9cC5zZXR0aW5ncztnLmZuLmRhdGFUYWJsZUV4dD1wLmV4dDtnLmZuLkRhdGFUYWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gZyh0aGlzKS5kYXRhVGFibGUoYSkuYXBpKCl9O2cuZWFjaChwLGZ1bmN0aW9uKGEsYil7Zy5mbi5EYXRhVGFibGVbYV09Yn0pO3JldHVybiBnLmZuLmRhdGFUYWJsZX07XCJmdW5jdGlvblwiPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJkYXRhdGFibGVzXCIsW1wianF1ZXJ5XCJdLE8pOlwib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cz9PKHJlcXVpcmUoXCJqcXVlcnlcIikpOmpRdWVyeSYmIWpRdWVyeS5mbi5kYXRhVGFibGUmJk8oalF1ZXJ5KX0pKHdpbmRvdyxkb2N1bWVudCk7XG4iLCIvLyBtb21lbnQuanNcbi8vIHZlcnNpb24gOiAyLjAuMFxuLy8gYXV0aG9yIDogVGltIFdvb2Rcbi8vIGxpY2Vuc2UgOiBNSVRcbi8vIG1vbWVudGpzLmNvbVxuKGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4odCxuKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHUodC5jYWxsKHRoaXMsZSksbil9fWZ1bmN0aW9uIGUodCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmxhbmcoKS5vcmRpbmFsKHQuY2FsbCh0aGlzLG4pKX19ZnVuY3Rpb24gcygpe31mdW5jdGlvbiByKHQpe2kodGhpcyx0KX1mdW5jdGlvbiBhKHQpe3ZhciBuPXRoaXMuX2RhdGE9e30sZT10LnllYXJzfHx0LnllYXJ8fHQueXx8MCxzPXQubW9udGhzfHx0Lm1vbnRofHx0Lk18fDAscj10LndlZWtzfHx0LndlZWt8fHQud3x8MCxhPXQuZGF5c3x8dC5kYXl8fHQuZHx8MCxpPXQuaG91cnN8fHQuaG91cnx8dC5ofHwwLHU9dC5taW51dGVzfHx0Lm1pbnV0ZXx8dC5tfHwwLGQ9dC5zZWNvbmRzfHx0LnNlY29uZHx8dC5zfHwwLGM9dC5taWxsaXNlY29uZHN8fHQubWlsbGlzZWNvbmR8fHQubXN8fDA7dGhpcy5fbWlsbGlzZWNvbmRzPWMrMWUzKmQrNmU0KnUrMzZlNSppLHRoaXMuX2RheXM9YSs3KnIsdGhpcy5fbW9udGhzPXMrMTIqZSxuLm1pbGxpc2Vjb25kcz1jJTFlMyxkKz1vKGMvMWUzKSxuLnNlY29uZHM9ZCU2MCx1Kz1vKGQvNjApLG4ubWludXRlcz11JTYwLGkrPW8odS82MCksbi5ob3Vycz1pJTI0LGErPW8oaS8yNCksYSs9NypyLG4uZGF5cz1hJTMwLHMrPW8oYS8zMCksbi5tb250aHM9cyUxMixlKz1vKHMvMTIpLG4ueWVhcnM9ZX1mdW5jdGlvbiBpKHQsbil7Zm9yKHZhciBlIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShlKSYmKHRbZV09bltlXSk7cmV0dXJuIHR9ZnVuY3Rpb24gbyh0KXtyZXR1cm4gMD50P01hdGguY2VpbCh0KTpNYXRoLmZsb29yKHQpfWZ1bmN0aW9uIHUodCxuKXtmb3IodmFyIGU9dCtcIlwiO24+ZS5sZW5ndGg7KWU9XCIwXCIrZTtyZXR1cm4gZX1mdW5jdGlvbiBkKHQsbixlKXt2YXIgcyxyPW4uX21pbGxpc2Vjb25kcyxhPW4uX2RheXMsaT1uLl9tb250aHM7ciYmdC5fZC5zZXRUaW1lKCt0K3IqZSksYSYmdC5kYXRlKHQuZGF0ZSgpK2EqZSksaSYmKHM9dC5kYXRlKCksdC5kYXRlKDEpLm1vbnRoKHQubW9udGgoKStpKmUpLmRhdGUoTWF0aC5taW4ocyx0LmRheXNJbk1vbnRoKCkpKSl9ZnVuY3Rpb24gYyh0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9ZnVuY3Rpb24gaCh0LG4pe3ZhciBlLHM9TWF0aC5taW4odC5sZW5ndGgsbi5sZW5ndGgpLHI9TWF0aC5hYnModC5sZW5ndGgtbi5sZW5ndGgpLGE9MDtmb3IoZT0wO3M+ZTtlKyspfn50W2VdIT09fn5uW2VdJiZhKys7cmV0dXJuIGErcn1mdW5jdGlvbiBmKHQsbil7cmV0dXJuIG4uYWJicj10LHhbdF18fCh4W3RdPW5ldyBzKSx4W3RdLnNldChuKSx4W3RdfWZ1bmN0aW9uIGwodCl7cmV0dXJuIHQ/KCF4W3RdJiZXJiZyZXF1aXJlKFwiLi9sYW5nL1wiK3QpLHhbdF0pOk8uZm4uX2xhbmd9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gdC5tYXRjaCgvXFxbLipcXF0vKT90LnJlcGxhY2UoL15cXFt8XFxdJC9nLFwiXCIpOnQucmVwbGFjZSgvXFxcXC9nLFwiXCIpfWZ1bmN0aW9uIG0odCl7dmFyIG4sZSxzPXQubWF0Y2goQSk7Zm9yKG49MCxlPXMubGVuZ3RoO2U+bjtuKyspc1tuXT1ybltzW25dXT9ybltzW25dXTpfKHNbbl0pO3JldHVybiBmdW5jdGlvbihyKXt2YXIgYT1cIlwiO2ZvcihuPTA7ZT5uO24rKylhKz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzW25dLmNhbGw/c1tuXS5jYWxsKHIsdCk6c1tuXTtyZXR1cm4gYX19ZnVuY3Rpb24geSh0LG4pe2Z1bmN0aW9uIGUobil7cmV0dXJuIHQubGFuZygpLmxvbmdEYXRlRm9ybWF0KG4pfHxufWZvcih2YXIgcz01O3MtLSYmUC50ZXN0KG4pOyluPW4ucmVwbGFjZShQLGUpO3JldHVybiBubltuXXx8KG5uW25dPW0obikpLG5uW25dKHQpfWZ1bmN0aW9uIE0odCl7c3dpdGNoKHQpe2Nhc2VcIkRERERcIjpyZXR1cm4gRTtjYXNlXCJZWVlZXCI6cmV0dXJuIE47Y2FzZVwiWVlZWVlcIjpyZXR1cm4gJDtjYXNlXCJTXCI6Y2FzZVwiU1NcIjpjYXNlXCJTU1NcIjpjYXNlXCJERERcIjpyZXR1cm4gVjtjYXNlXCJNTU1cIjpjYXNlXCJNTU1NXCI6Y2FzZVwiZGRcIjpjYXNlXCJkZGRcIjpjYXNlXCJkZGRkXCI6Y2FzZVwiYVwiOmNhc2VcIkFcIjpyZXR1cm4gSTtjYXNlXCJYXCI6cmV0dXJuIFI7Y2FzZVwiWlwiOmNhc2VcIlpaXCI6cmV0dXJuIFg7Y2FzZVwiVFwiOnJldHVybiBqO2Nhc2VcIk1NXCI6Y2FzZVwiRERcIjpjYXNlXCJZWVwiOmNhc2VcIkhIXCI6Y2FzZVwiaGhcIjpjYXNlXCJtbVwiOmNhc2VcInNzXCI6Y2FzZVwiTVwiOmNhc2VcIkRcIjpjYXNlXCJkXCI6Y2FzZVwiSFwiOmNhc2VcImhcIjpjYXNlXCJtXCI6Y2FzZVwic1wiOnJldHVybiBKO2RlZmF1bHQ6cmV0dXJuIFJlZ0V4cCh0LnJlcGxhY2UoXCJcXFxcXCIsXCJcIikpfX1mdW5jdGlvbiBEKHQsbixlKXt2YXIgcyxyPWUuX2E7c3dpdGNoKHQpe2Nhc2VcIk1cIjpjYXNlXCJNTVwiOnJbMV09bnVsbD09bj8wOn5+bi0xO2JyZWFrO2Nhc2VcIk1NTVwiOmNhc2VcIk1NTU1cIjpzPWwoZS5fbCkubW9udGhzUGFyc2UobiksbnVsbCE9cz9yWzFdPXM6ZS5faXNWYWxpZD0hMTticmVhaztjYXNlXCJEXCI6Y2FzZVwiRERcIjpjYXNlXCJERERcIjpjYXNlXCJEREREXCI6bnVsbCE9biYmKHJbMl09fn5uKTticmVhaztjYXNlXCJZWVwiOnJbMF09fn5uKyh+fm4+Njg/MTkwMDoyZTMpO2JyZWFrO2Nhc2VcIllZWVlcIjpjYXNlXCJZWVlZWVwiOnJbMF09fn5uO2JyZWFrO2Nhc2VcImFcIjpjYXNlXCJBXCI6ZS5faXNQbT1cInBtXCI9PT0obitcIlwiKS50b0xvd2VyQ2FzZSgpO2JyZWFrO2Nhc2VcIkhcIjpjYXNlXCJISFwiOmNhc2VcImhcIjpjYXNlXCJoaFwiOnJbM109fn5uO2JyZWFrO2Nhc2VcIm1cIjpjYXNlXCJtbVwiOnJbNF09fn5uO2JyZWFrO2Nhc2VcInNcIjpjYXNlXCJzc1wiOnJbNV09fn5uO2JyZWFrO2Nhc2VcIlNcIjpjYXNlXCJTU1wiOmNhc2VcIlNTU1wiOnJbNl09fn4oMWUzKihcIjAuXCIrbikpO2JyZWFrO2Nhc2VcIlhcIjplLl9kPW5ldyBEYXRlKDFlMypwYXJzZUZsb2F0KG4pKTticmVhaztjYXNlXCJaXCI6Y2FzZVwiWlpcIjplLl91c2VVVEM9ITAscz0obitcIlwiKS5tYXRjaChLKSxzJiZzWzFdJiYoZS5fdHpoPX5+c1sxXSkscyYmc1syXSYmKGUuX3R6bT1+fnNbMl0pLHMmJlwiK1wiPT09c1swXSYmKGUuX3R6aD0tZS5fdHpoLGUuX3R6bT0tZS5fdHptKX1udWxsPT1uJiYoZS5faXNWYWxpZD0hMSl9ZnVuY3Rpb24gWSh0KXt2YXIgbixlLHM9W107aWYoIXQuX2Qpe2ZvcihuPTA7Nz5uO24rKyl0Ll9hW25dPXNbbl09bnVsbD09dC5fYVtuXT8yPT09bj8xOjA6dC5fYVtuXTtzWzNdKz10Ll90emh8fDAsc1s0XSs9dC5fdHptfHwwLGU9bmV3IERhdGUoMCksdC5fdXNlVVRDPyhlLnNldFVUQ0Z1bGxZZWFyKHNbMF0sc1sxXSxzWzJdKSxlLnNldFVUQ0hvdXJzKHNbM10sc1s0XSxzWzVdLHNbNl0pKTooZS5zZXRGdWxsWWVhcihzWzBdLHNbMV0sc1syXSksZS5zZXRIb3VycyhzWzNdLHNbNF0sc1s1XSxzWzZdKSksdC5fZD1lfX1mdW5jdGlvbiBwKHQpe3ZhciBuLGUscz10Ll9mLm1hdGNoKEEpLHI9dC5faTtmb3IodC5fYT1bXSxuPTA7cy5sZW5ndGg+bjtuKyspZT0oTShzW25dKS5leGVjKHIpfHxbXSlbMF0sZSYmKHI9ci5zbGljZShyLmluZGV4T2YoZSkrZS5sZW5ndGgpKSxybltzW25dXSYmRChzW25dLGUsdCk7dC5faXNQbSYmMTI+dC5fYVszXSYmKHQuX2FbM10rPTEyKSx0Ll9pc1BtPT09ITEmJjEyPT09dC5fYVszXSYmKHQuX2FbM109MCksWSh0KX1mdW5jdGlvbiBnKHQpe3ZhciBuLGUscyxhLG8sdT05OTtmb3IoYT10Ll9mLmxlbmd0aDthPjA7YS0tKXtpZihuPWkoe30sdCksbi5fZj10Ll9mW2EtMV0scChuKSxlPW5ldyByKG4pLGUuaXNWYWxpZCgpKXtzPWU7YnJlYWt9bz1oKG4uX2EsZS50b0FycmF5KCkpLHU+byYmKHU9byxzPWUpfWkodCxzKX1mdW5jdGlvbiB3KHQpe3ZhciBuLGU9dC5faTtpZihxLmV4ZWMoZSkpe2Zvcih0Ll9mPVwiWVlZWS1NTS1ERFRcIixuPTA7ND5uO24rKylpZihHW25dWzFdLmV4ZWMoZSkpe3QuX2YrPUdbbl1bMF07YnJlYWt9WC5leGVjKGUpJiYodC5fZis9XCIgWlwiKSxwKHQpfWVsc2UgdC5fZD1uZXcgRGF0ZShlKX1mdW5jdGlvbiBUKG4pe3ZhciBlPW4uX2kscz1aLmV4ZWMoZSk7ZT09PXQ/bi5fZD1uZXcgRGF0ZTpzP24uX2Q9bmV3IERhdGUoK3NbMV0pOlwic3RyaW5nXCI9PXR5cGVvZiBlP3cobik6YyhlKT8obi5fYT1lLnNsaWNlKDApLFkobikpOm4uX2Q9ZSBpbnN0YW5jZW9mIERhdGU/bmV3IERhdGUoK2UpOm5ldyBEYXRlKGUpfWZ1bmN0aW9uIHYodCxuLGUscyxyKXtyZXR1cm4gci5yZWxhdGl2ZVRpbWUobnx8MSwhIWUsdCxzKX1mdW5jdGlvbiBrKHQsbixlKXt2YXIgcz1VKE1hdGguYWJzKHQpLzFlMykscj1VKHMvNjApLGE9VShyLzYwKSxpPVUoYS8yNCksbz1VKGkvMzY1KSx1PTQ1PnMmJltcInNcIixzXXx8MT09PXImJltcIm1cIl18fDQ1PnImJltcIm1tXCIscl18fDE9PT1hJiZbXCJoXCJdfHwyMj5hJiZbXCJoaFwiLGFdfHwxPT09aSYmW1wiZFwiXXx8MjU+PWkmJltcImRkXCIsaV18fDQ1Pj1pJiZbXCJNXCJdfHwzNDU+aSYmW1wiTU1cIixVKGkvMzApXXx8MT09PW8mJltcInlcIl18fFtcInl5XCIsb107cmV0dXJuIHVbMl09bix1WzNdPXQ+MCx1WzRdPWUsdi5hcHBseSh7fSx1KX1mdW5jdGlvbiBTKHQsbixlKXt2YXIgcz1lLW4scj1lLXQuZGF5KCk7cmV0dXJuIHI+cyYmKHItPTcpLHMtNz5yJiYocis9NyksTWF0aC5jZWlsKE8odCkuYWRkKFwiZFwiLHIpLmRheU9mWWVhcigpLzcpfWZ1bmN0aW9uIGIodCl7dmFyIG49dC5faSxlPXQuX2Y7cmV0dXJuIG51bGw9PT1ufHxcIlwiPT09bj9udWxsOihcInN0cmluZ1wiPT10eXBlb2YgbiYmKHQuX2k9bj1sKCkucHJlcGFyc2UobikpLE8uaXNNb21lbnQobik/KHQ9aSh7fSxuKSx0Ll9kPW5ldyBEYXRlKCtuLl9kKSk6ZT9jKGUpP2codCk6cCh0KTpUKHQpLG5ldyByKHQpKX1mdW5jdGlvbiBGKHQsbil7Ty5mblt0XT1PLmZuW3QrXCJzXCJdPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2lzVVRDP1wiVVRDXCI6XCJcIjtyZXR1cm4gbnVsbCE9dD8odGhpcy5fZFtcInNldFwiK2Urbl0odCksdGhpcyk6dGhpcy5fZFtcImdldFwiK2Urbl0oKX19ZnVuY3Rpb24gTCh0KXtPLmR1cmF0aW9uLmZuW3RdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFbdF19fWZ1bmN0aW9uIEgodCxuKXtPLmR1cmF0aW9uLmZuW1wiYXNcIit0XT1mdW5jdGlvbigpe3JldHVybit0aGlzL259fWZvcih2YXIgTyx6LEM9XCIyLjAuMFwiLFU9TWF0aC5yb3VuZCx4PXt9LFc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMsWj0vXlxcLz9EYXRlXFwoKFxcLT9cXGQrKS9pLEE9LyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFlZWVlZfFlZWVl8WVl8YXxBfGhoP3xISD98bW0/fHNzP3xTUz9TP3xYfHp6P3xaWj98LikvZyxQPS8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhMVHxMTD9MP0w/fGx7MSw0fSkvZyxKPS9cXGRcXGQ/LyxWPS9cXGR7MSwzfS8sRT0vXFxkezN9LyxOPS9cXGR7MSw0fS8sJD0vWytcXC1dP1xcZHsxLDZ9LyxJPS9bMC05XSpbYS16XFx1MDBBMC1cXHUwNUZGXFx1MDcwMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSt8W1xcdTA2MDAtXFx1MDZGRl0rXFxzKj9bXFx1MDYwMC1cXHUwNkZGXSsvaSxYPS9afFtcXCtcXC1dXFxkXFxkOj9cXGRcXGQvaSxqPS9UL2ksUj0vW1xcK1xcLV0/XFxkKyhcXC5cXGR7MSwzfSk/LyxxPS9eXFxzKlxcZHs0fS1cXGRcXGQtXFxkXFxkKChUfCApKFxcZFxcZCg6XFxkXFxkKDpcXGRcXGQoXFwuXFxkXFxkP1xcZD8pPyk/KT8pPyhbXFwrXFwtXVxcZFxcZDo/XFxkXFxkKT8pPy8sQj1cIllZWVktTU0tRERUSEg6bW06c3NaXCIsRz1bW1wiSEg6bW06c3MuU1wiLC8oVHwgKVxcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkezEsM30vXSxbXCJISDptbTpzc1wiLC8oVHwgKVxcZFxcZDpcXGRcXGQ6XFxkXFxkL10sW1wiSEg6bW1cIiwvKFR8IClcXGRcXGQ6XFxkXFxkL10sW1wiSEhcIiwvKFR8IClcXGRcXGQvXV0sSz0vKFtcXCtcXC1dfFxcZFxcZCkvZ2ksUT1cIk1vbnRofERhdGV8SG91cnN8TWludXRlc3xTZWNvbmRzfE1pbGxpc2Vjb25kc1wiLnNwbGl0KFwifFwiKSx0bj17TWlsbGlzZWNvbmRzOjEsU2Vjb25kczoxZTMsTWludXRlczo2ZTQsSG91cnM6MzZlNSxEYXlzOjg2NGU1LE1vbnRoczoyNTkyZTYsWWVhcnM6MzE1MzZlNn0sbm49e30sZW49XCJEREQgdyBXIE0gRCBkXCIuc3BsaXQoXCIgXCIpLHNuPVwiTSBEIEggaCBtIHMgdyBXXCIuc3BsaXQoXCIgXCIpLHJuPXtNOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9udGgoKSsxfSxNTU06ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGFuZygpLm1vbnRoc1Nob3J0KHRoaXMsdCl9LE1NTU06ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGFuZygpLm1vbnRocyh0aGlzLHQpfSxEOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0ZSgpfSxEREQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXlPZlllYXIoKX0sZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRheSgpfSxkZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sYW5nKCkud2Vla2RheXNNaW4odGhpcyx0KX0sZGRkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxhbmcoKS53ZWVrZGF5c1Nob3J0KHRoaXMsdCl9LGRkZGQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGFuZygpLndlZWtkYXlzKHRoaXMsdCl9LHc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWVrKCl9LFc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc29XZWVrKCl9LFlZOmZ1bmN0aW9uKCl7cmV0dXJuIHUodGhpcy55ZWFyKCklMTAwLDIpfSxZWVlZOmZ1bmN0aW9uKCl7cmV0dXJuIHUodGhpcy55ZWFyKCksNCl9LFlZWVlZOmZ1bmN0aW9uKCl7cmV0dXJuIHUodGhpcy55ZWFyKCksNSl9LGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYW5nKCkubWVyaWRpZW0odGhpcy5ob3VycygpLHRoaXMubWludXRlcygpLCEwKX0sQTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhbmcoKS5tZXJpZGllbSh0aGlzLmhvdXJzKCksdGhpcy5taW51dGVzKCksITEpfSxIOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaG91cnMoKX0saDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhvdXJzKCklMTJ8fDEyfSxtOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWludXRlcygpfSxzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2Vjb25kcygpfSxTOmZ1bmN0aW9uKCl7cmV0dXJufn4odGhpcy5taWxsaXNlY29uZHMoKS8xMDApfSxTUzpmdW5jdGlvbigpe3JldHVybiB1KH5+KHRoaXMubWlsbGlzZWNvbmRzKCkvMTApLDIpfSxTU1M6ZnVuY3Rpb24oKXtyZXR1cm4gdSh0aGlzLm1pbGxpc2Vjb25kcygpLDMpfSxaOmZ1bmN0aW9uKCl7dmFyIHQ9LXRoaXMuem9uZSgpLG49XCIrXCI7cmV0dXJuIDA+dCYmKHQ9LXQsbj1cIi1cIiksbit1KH5+KHQvNjApLDIpK1wiOlwiK3Uofn50JTYwLDIpfSxaWjpmdW5jdGlvbigpe3ZhciB0PS10aGlzLnpvbmUoKSxuPVwiK1wiO3JldHVybiAwPnQmJih0PS10LG49XCItXCIpLG4rdSh+figxMCp0LzYpLDQpfSxYOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudW5peCgpfX07ZW4ubGVuZ3RoOyl6PWVuLnBvcCgpLHJuW3orXCJvXCJdPWUocm5bel0pO2Zvcig7c24ubGVuZ3RoOyl6PXNuLnBvcCgpLHJuW3orel09bihyblt6XSwyKTtmb3Iocm4uRERERD1uKHJuLkRERCwzKSxzLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKHQpe3ZhciBuLGU7Zm9yKGUgaW4gdCluPXRbZV0sXCJmdW5jdGlvblwiPT10eXBlb2Ygbj90aGlzW2VdPW46dGhpc1tcIl9cIitlXT1ufSxfbW9udGhzOlwiSmFudWFyeV9GZWJydWFyeV9NYXJjaF9BcHJpbF9NYXlfSnVuZV9KdWx5X0F1Z3VzdF9TZXB0ZW1iZXJfT2N0b2Jlcl9Ob3ZlbWJlcl9EZWNlbWJlclwiLnNwbGl0KFwiX1wiKSxtb250aHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX21vbnRoc1t0Lm1vbnRoKCldfSxfbW9udGhzU2hvcnQ6XCJKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlY1wiLnNwbGl0KFwiX1wiKSxtb250aHNTaG9ydDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRbdC5tb250aCgpXX0sbW9udGhzUGFyc2U6ZnVuY3Rpb24odCl7dmFyIG4sZSxzO2Zvcih0aGlzLl9tb250aHNQYXJzZXx8KHRoaXMuX21vbnRoc1BhcnNlPVtdKSxuPTA7MTI+bjtuKyspaWYodGhpcy5fbW9udGhzUGFyc2Vbbl18fChlPU8oWzJlMyxuXSkscz1cIl5cIit0aGlzLm1vbnRocyhlLFwiXCIpK1wifF5cIit0aGlzLm1vbnRoc1Nob3J0KGUsXCJcIiksdGhpcy5fbW9udGhzUGFyc2Vbbl09UmVnRXhwKHMucmVwbGFjZShcIi5cIixcIlwiKSxcImlcIikpLHRoaXMuX21vbnRoc1BhcnNlW25dLnRlc3QodCkpcmV0dXJuIG59LF93ZWVrZGF5czpcIlN1bmRheV9Nb25kYXlfVHVlc2RheV9XZWRuZXNkYXlfVGh1cnNkYXlfRnJpZGF5X1NhdHVyZGF5XCIuc3BsaXQoXCJfXCIpLHdlZWtkYXlzOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl93ZWVrZGF5c1t0LmRheSgpXX0sX3dlZWtkYXlzU2hvcnQ6XCJTdW5fTW9uX1R1ZV9XZWRfVGh1X0ZyaV9TYXRcIi5zcGxpdChcIl9cIiksd2Vla2RheXNTaG9ydDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fd2Vla2RheXNTaG9ydFt0LmRheSgpXX0sX3dlZWtkYXlzTWluOlwiU3VfTW9fVHVfV2VfVGhfRnJfU2FcIi5zcGxpdChcIl9cIiksd2Vla2RheXNNaW46ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluW3QuZGF5KCldfSxfbG9uZ0RhdGVGb3JtYXQ6e0xUOlwiaDptbSBBXCIsTDpcIk1NL0REL1lZWVlcIixMTDpcIk1NTU0gRCBZWVlZXCIsTExMOlwiTU1NTSBEIFlZWVkgTFRcIixMTExMOlwiZGRkZCwgTU1NTSBEIFlZWVkgTFRcIn0sbG9uZ0RhdGVGb3JtYXQ6ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5fbG9uZ0RhdGVGb3JtYXRbdF07cmV0dXJuIW4mJnRoaXMuX2xvbmdEYXRlRm9ybWF0W3QudG9VcHBlckNhc2UoKV0mJihuPXRoaXMuX2xvbmdEYXRlRm9ybWF0W3QudG9VcHBlckNhc2UoKV0ucmVwbGFjZSgvTU1NTXxNTXxERHxkZGRkL2csZnVuY3Rpb24odCl7cmV0dXJuIHQuc2xpY2UoMSl9KSx0aGlzLl9sb25nRGF0ZUZvcm1hdFt0XT1uKSxufSxtZXJpZGllbTpmdW5jdGlvbih0LG4sZSl7cmV0dXJuIHQ+MTE/ZT9cInBtXCI6XCJQTVwiOmU/XCJhbVwiOlwiQU1cIn0sX2NhbGVuZGFyOntzYW1lRGF5OlwiW1RvZGF5IGF0XSBMVFwiLG5leHREYXk6XCJbVG9tb3Jyb3cgYXRdIExUXCIsbmV4dFdlZWs6XCJkZGRkIFthdF0gTFRcIixsYXN0RGF5OlwiW1llc3RlcmRheSBhdF0gTFRcIixsYXN0V2VlazpcIltMYXN0XSBkZGRkIFthdF0gTFRcIixzYW1lRWxzZTpcIkxcIn0sY2FsZW5kYXI6ZnVuY3Rpb24odCxuKXt2YXIgZT10aGlzLl9jYWxlbmRhclt0XTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UuYXBwbHkobik6ZX0sX3JlbGF0aXZlVGltZTp7ZnV0dXJlOlwiaW4gJXNcIixwYXN0OlwiJXMgYWdvXCIsczpcImEgZmV3IHNlY29uZHNcIixtOlwiYSBtaW51dGVcIixtbTpcIiVkIG1pbnV0ZXNcIixoOlwiYW4gaG91clwiLGhoOlwiJWQgaG91cnNcIixkOlwiYSBkYXlcIixkZDpcIiVkIGRheXNcIixNOlwiYSBtb250aFwiLE1NOlwiJWQgbW9udGhzXCIseTpcImEgeWVhclwiLHl5OlwiJWQgeWVhcnNcIn0scmVsYXRpdmVUaW1lOmZ1bmN0aW9uKHQsbixlLHMpe3ZhciByPXRoaXMuX3JlbGF0aXZlVGltZVtlXTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3IodCxuLGUscyk6ci5yZXBsYWNlKC8lZC9pLHQpfSxwYXN0RnV0dXJlOmZ1bmN0aW9uKHQsbil7dmFyIGU9dGhpcy5fcmVsYXRpdmVUaW1lW3Q+MD9cImZ1dHVyZVwiOlwicGFzdFwiXTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2Uobik6ZS5yZXBsYWNlKC8lcy9pLG4pfSxvcmRpbmFsOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9vcmRpbmFsLnJlcGxhY2UoXCIlZFwiLHQpfSxfb3JkaW5hbDpcIiVkXCIscHJlcGFyc2U6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHBvc3Rmb3JtYXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHdlZWs6ZnVuY3Rpb24odCl7cmV0dXJuIFModCx0aGlzLl93ZWVrLmRvdyx0aGlzLl93ZWVrLmRveSl9LF93ZWVrOntkb3c6MCxkb3k6Nn19LE89ZnVuY3Rpb24odCxuLGUpe3JldHVybiBiKHtfaTp0LF9mOm4sX2w6ZSxfaXNVVEM6ITF9KX0sTy51dGM9ZnVuY3Rpb24odCxuLGUpe3JldHVybiBiKHtfdXNlVVRDOiEwLF9pc1VUQzohMCxfbDplLF9pOnQsX2Y6bn0pfSxPLnVuaXg9ZnVuY3Rpb24odCl7cmV0dXJuIE8oMWUzKnQpfSxPLmR1cmF0aW9uPWZ1bmN0aW9uKHQsbil7dmFyIGUscz1PLmlzRHVyYXRpb24odCkscj1cIm51bWJlclwiPT10eXBlb2YgdCxpPXM/dC5fZGF0YTpyP3t9OnQ7cmV0dXJuIHImJihuP2lbbl09dDppLm1pbGxpc2Vjb25kcz10KSxlPW5ldyBhKGkpLHMmJnQuaGFzT3duUHJvcGVydHkoXCJfbGFuZ1wiKSYmKGUuX2xhbmc9dC5fbGFuZyksZX0sTy52ZXJzaW9uPUMsTy5kZWZhdWx0Rm9ybWF0PUIsTy5sYW5nPWZ1bmN0aW9uKG4sZSl7cmV0dXJuIG4/KGU/ZihuLGUpOnhbbl18fGwobiksTy5kdXJhdGlvbi5mbi5fbGFuZz1PLmZuLl9sYW5nPWwobiksdCk6Ty5mbi5fbGFuZy5fYWJicn0sTy5sYW5nRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5fbGFuZyYmdC5fbGFuZy5fYWJiciYmKHQ9dC5fbGFuZy5fYWJiciksbCh0KX0sTy5pc01vbWVudD1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIHJ9LE8uaXNEdXJhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGF9LE8uZm49ci5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIE8odGhpcyl9LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4rdGhpcy5fZH0sdW5peDpmdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKCt0aGlzLl9kLzFlMyl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9ybWF0KFwiZGRkIE1NTSBERCBZWVlZIEhIOm1tOnNzIFtHTVRdWlpcIil9LHRvRGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kfSx0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm4gTyh0aGlzKS51dGMoKS5mb3JtYXQoXCJZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdXCIpfSx0b0FycmF5OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm5bdC55ZWFyKCksdC5tb250aCgpLHQuZGF0ZSgpLHQuaG91cnMoKSx0Lm1pbnV0ZXMoKSx0LnNlY29uZHMoKSx0Lm1pbGxpc2Vjb25kcygpXX0saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiBudWxsPT10aGlzLl9pc1ZhbGlkJiYodGhpcy5faXNWYWxpZD10aGlzLl9hPyFoKHRoaXMuX2EsKHRoaXMuX2lzVVRDP08udXRjKHRoaXMuX2EpOk8odGhpcy5fYSkpLnRvQXJyYXkoKSk6IWlzTmFOKHRoaXMuX2QuZ2V0VGltZSgpKSksISF0aGlzLl9pc1ZhbGlkfSx1dGM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNVVEM9ITAsdGhpc30sbG9jYWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNVVEM9ITEsdGhpc30sZm9ybWF0OmZ1bmN0aW9uKHQpe3ZhciBuPXkodGhpcyx0fHxPLmRlZmF1bHRGb3JtYXQpO3JldHVybiB0aGlzLmxhbmcoKS5wb3N0Zm9ybWF0KG4pfSxhZGQ6ZnVuY3Rpb24odCxuKXt2YXIgZTtyZXR1cm4gZT1cInN0cmluZ1wiPT10eXBlb2YgdD9PLmR1cmF0aW9uKCtuLHQpOk8uZHVyYXRpb24odCxuKSxkKHRoaXMsZSwxKSx0aGlzfSxzdWJ0cmFjdDpmdW5jdGlvbih0LG4pe3ZhciBlO3JldHVybiBlPVwic3RyaW5nXCI9PXR5cGVvZiB0P08uZHVyYXRpb24oK24sdCk6Ty5kdXJhdGlvbih0LG4pLGQodGhpcyxlLC0xKSx0aGlzfSxkaWZmOmZ1bmN0aW9uKHQsbixlKXt2YXIgcyxyLGE9dGhpcy5faXNVVEM/Tyh0KS51dGMoKTpPKHQpLmxvY2FsKCksaT02ZTQqKHRoaXMuem9uZSgpLWEuem9uZSgpKTtyZXR1cm4gbiYmKG49bi5yZXBsYWNlKC9zJC8sXCJcIikpLFwieWVhclwiPT09bnx8XCJtb250aFwiPT09bj8ocz00MzJlNSoodGhpcy5kYXlzSW5Nb250aCgpK2EuZGF5c0luTW9udGgoKSkscj0xMioodGhpcy55ZWFyKCktYS55ZWFyKCkpKyh0aGlzLm1vbnRoKCktYS5tb250aCgpKSxyKz0odGhpcy1PKHRoaXMpLnN0YXJ0T2YoXCJtb250aFwiKS0oYS1PKGEpLnN0YXJ0T2YoXCJtb250aFwiKSkpL3MsXCJ5ZWFyXCI9PT1uJiYoci89MTIpKToocz10aGlzLWEtaSxyPVwic2Vjb25kXCI9PT1uP3MvMWUzOlwibWludXRlXCI9PT1uP3MvNmU0OlwiaG91clwiPT09bj9zLzM2ZTU6XCJkYXlcIj09PW4/cy84NjRlNTpcIndlZWtcIj09PW4/cy82MDQ4ZTU6cyksZT9yOm8ocil9LGZyb206ZnVuY3Rpb24odCxuKXtyZXR1cm4gTy5kdXJhdGlvbih0aGlzLmRpZmYodCkpLmxhbmcodGhpcy5sYW5nKCkuX2FiYnIpLmh1bWFuaXplKCFuKX0sZnJvbU5vdzpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5mcm9tKE8oKSx0KX0sY2FsZW5kYXI6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmRpZmYoTygpLnN0YXJ0T2YoXCJkYXlcIiksXCJkYXlzXCIsITApLG49LTY+dD9cInNhbWVFbHNlXCI6LTE+dD9cImxhc3RXZWVrXCI6MD50P1wibGFzdERheVwiOjE+dD9cInNhbWVEYXlcIjoyPnQ/XCJuZXh0RGF5XCI6Nz50P1wibmV4dFdlZWtcIjpcInNhbWVFbHNlXCI7cmV0dXJuIHRoaXMuZm9ybWF0KHRoaXMubGFuZygpLmNhbGVuZGFyKG4sdGhpcykpfSxpc0xlYXBZZWFyOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy55ZWFyKCk7cmV0dXJuIDA9PT10JTQmJjAhPT10JTEwMHx8MD09PXQlNDAwfSxpc0RTVDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnpvbmUoKTxPKFt0aGlzLnllYXIoKV0pLnpvbmUoKXx8dGhpcy56b25lKCk8TyhbdGhpcy55ZWFyKCksNV0pLnpvbmUoKX0sZGF5OmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMuX2lzVVRDP3RoaXMuX2QuZ2V0VVRDRGF5KCk6dGhpcy5fZC5nZXREYXkoKTtyZXR1cm4gbnVsbD09dD9uOnRoaXMuYWRkKHtkOnQtbn0pfSxzdGFydE9mOmZ1bmN0aW9uKHQpe3N3aXRjaCh0PXQucmVwbGFjZSgvcyQvLFwiXCIpKXtjYXNlXCJ5ZWFyXCI6dGhpcy5tb250aCgwKTtjYXNlXCJtb250aFwiOnRoaXMuZGF0ZSgxKTtjYXNlXCJ3ZWVrXCI6Y2FzZVwiZGF5XCI6dGhpcy5ob3VycygwKTtjYXNlXCJob3VyXCI6dGhpcy5taW51dGVzKDApO2Nhc2VcIm1pbnV0ZVwiOnRoaXMuc2Vjb25kcygwKTtjYXNlXCJzZWNvbmRcIjp0aGlzLm1pbGxpc2Vjb25kcygwKX1yZXR1cm5cIndlZWtcIj09PXQmJnRoaXMuZGF5KDApLHRoaXN9LGVuZE9mOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN0YXJ0T2YodCkuYWRkKHQucmVwbGFjZSgvcz8kLyxcInNcIiksMSkuc3VidHJhY3QoXCJtc1wiLDEpfSxpc0FmdGVyOmZ1bmN0aW9uKG4sZSl7cmV0dXJuIGU9ZSE9PXQ/ZTpcIm1pbGxpc2Vjb25kXCIsK3RoaXMuY2xvbmUoKS5zdGFydE9mKGUpPitPKG4pLnN0YXJ0T2YoZSl9LGlzQmVmb3JlOmZ1bmN0aW9uKG4sZSl7cmV0dXJuIGU9ZSE9PXQ/ZTpcIm1pbGxpc2Vjb25kXCIsK3RoaXMuY2xvbmUoKS5zdGFydE9mKGUpPCtPKG4pLnN0YXJ0T2YoZSl9LGlzU2FtZTpmdW5jdGlvbihuLGUpe3JldHVybiBlPWUhPT10P2U6XCJtaWxsaXNlY29uZFwiLCt0aGlzLmNsb25lKCkuc3RhcnRPZihlKT09PStPKG4pLnN0YXJ0T2YoZSl9LHpvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNVVEM/MDp0aGlzLl9kLmdldFRpbWV6b25lT2Zmc2V0KCl9LGRheXNJbk1vbnRoOmZ1bmN0aW9uKCl7cmV0dXJuIE8udXRjKFt0aGlzLnllYXIoKSx0aGlzLm1vbnRoKCkrMSwwXSkuZGF0ZSgpfSxkYXlPZlllYXI6ZnVuY3Rpb24odCl7dmFyIG49VSgoTyh0aGlzKS5zdGFydE9mKFwiZGF5XCIpLU8odGhpcykuc3RhcnRPZihcInllYXJcIikpLzg2NGU1KSsxO3JldHVybiBudWxsPT10P246dGhpcy5hZGQoXCJkXCIsdC1uKX0saXNvV2VlazpmdW5jdGlvbih0KXt2YXIgbj1TKHRoaXMsMSw0KTtyZXR1cm4gbnVsbD09dD9uOnRoaXMuYWRkKFwiZFwiLDcqKHQtbikpfSx3ZWVrOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMubGFuZygpLndlZWsodGhpcyk7cmV0dXJuIG51bGw9PXQ/bjp0aGlzLmFkZChcImRcIiw3Kih0LW4pKX0sbGFuZzpmdW5jdGlvbihuKXtyZXR1cm4gbj09PXQ/dGhpcy5fbGFuZzoodGhpcy5fbGFuZz1sKG4pLHRoaXMpfX0sej0wO1EubGVuZ3RoPno7eisrKUYoUVt6XS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL3MkLyxcIlwiKSxRW3pdKTtGKFwieWVhclwiLFwiRnVsbFllYXJcIiksTy5mbi5kYXlzPU8uZm4uZGF5LE8uZm4ud2Vla3M9Ty5mbi53ZWVrLE8uZm4uaXNvV2Vla3M9Ty5mbi5pc29XZWVrLE8uZHVyYXRpb24uZm49YS5wcm90b3R5cGU9e3dlZWtzOmZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcy5kYXlzKCkvNyl9LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlsbGlzZWNvbmRzKzg2NGU1KnRoaXMuX2RheXMrMjU5MmU2KnRoaXMuX21vbnRoc30saHVtYW5pemU6ZnVuY3Rpb24odCl7dmFyIG49K3RoaXMsZT1rKG4sIXQsdGhpcy5sYW5nKCkpO3JldHVybiB0JiYoZT10aGlzLmxhbmcoKS5wYXN0RnV0dXJlKG4sZSkpLHRoaXMubGFuZygpLnBvc3Rmb3JtYXQoZSl9LGxhbmc6Ty5mbi5sYW5nfTtmb3IoeiBpbiB0bil0bi5oYXNPd25Qcm9wZXJ0eSh6KSYmKEgoeix0blt6XSksTCh6LnRvTG93ZXJDYXNlKCkpKTtIKFwiV2Vla3NcIiw2MDQ4ZTUpLE8ubGFuZyhcImVuXCIse29yZGluYWw6ZnVuY3Rpb24odCl7dmFyIG49dCUxMCxlPTE9PT1+fih0JTEwMC8xMCk/XCJ0aFwiOjE9PT1uP1wic3RcIjoyPT09bj9cIm5kXCI6Mz09PW4/XCJyZFwiOlwidGhcIjtyZXR1cm4gdCtlfX0pLFcmJihtb2R1bGUuZXhwb3J0cz1PKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgZW5kZXImJih0aGlzLm1vbWVudD1PKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQmJmRlZmluZShcIm1vbWVudFwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIE99KX0pLmNhbGwodGhpcyk7IiwiLyohXG4gKiBqUXVlcnkgQ29va2llIFBsdWdpblxuICogaHR0cHM6Ly9naXRodWIuY29tL2NhcmhhcnRsL2pxdWVyeS1jb29raWVcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSwgS2xhdXMgSGFydGxcbiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvR1BMLTIuMFxuICovXG4oZnVuY3Rpb24oJCkge1xuICAgICQuY29va2llID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSwgb3B0aW9ucykge1xuXG4gICAgICAgIC8vIGtleSBhbmQgYXQgbGVhc3QgdmFsdWUgZ2l2ZW4sIHNldCBjb29raWUuLi5cbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxICYmICghL09iamVjdC8udGVzdChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpKSB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBvcHRpb25zKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmV4cGlyZXMgPSAtMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmV4cGlyZXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRheXMgPSBvcHRpb25zLmV4cGlyZXMsIHQgPSBvcHRpb25zLmV4cGlyZXMgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgIHQuc2V0RGF0ZSh0LmdldERhdGUoKSArIGRheXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG5cbiAgICAgICAgICAgIHJldHVybiAoZG9jdW1lbnQuY29va2llID0gW1xuICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChrZXkpLCAnPScsIG9wdGlvbnMucmF3ID8gdmFsdWUgOiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZXhwaXJlcyA/ICc7IGV4cGlyZXM9JyArIG9wdGlvbnMuZXhwaXJlcy50b1VUQ1N0cmluZygpIDogJycsIC8vIHVzZSBleHBpcmVzIGF0dHJpYnV0ZSwgbWF4LWFnZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IElFXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5wYXRoICAgID8gJzsgcGF0aD0nICsgb3B0aW9ucy5wYXRoIDogJycsXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kb21haW4gID8gJzsgZG9tYWluPScgKyBvcHRpb25zLmRvbWFpbiA6ICcnLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc2VjdXJlICA/ICc7IHNlY3VyZScgOiAnJ1xuICAgICAgICAgICAgXS5qb2luKCcnKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBrZXkgYW5kIHBvc3NpYmx5IG9wdGlvbnMgZ2l2ZW4sIGdldCBjb29raWUuLi5cbiAgICAgICAgb3B0aW9ucyA9IHZhbHVlIHx8IHt9O1xuICAgICAgICB2YXIgZGVjb2RlID0gb3B0aW9ucy5yYXcgPyBmdW5jdGlvbihzKSB7IHJldHVybiBzOyB9IDogZGVjb2RlVVJJQ29tcG9uZW50O1xuXG4gICAgICAgIHZhciBwYWlycyA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCgnOyAnKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHBhaXI7IHBhaXIgPSBwYWlyc1tpXSAmJiBwYWlyc1tpXS5zcGxpdCgnPScpOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChkZWNvZGUocGFpclswXSkgPT09IGtleSkgcmV0dXJuIGRlY29kZShwYWlyWzFdIHx8ICcnKTsgLy8gSUUgc2F2ZXMgY29va2llcyB3aXRoIGVtcHR5IHN0cmluZyBhcyBcImM7IFwiLCBlLmcuIHdpdGhvdXQgXCI9XCIgYXMgb3Bwb3NlZCB0byBFT01CLCB0aHVzIHBhaXJbMV0gbWF5IGJlIHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG59KShqUXVlcnkpO1xuIiwiLyoqXG4qXG4qICBCYXNlNjQgZW5jb2RlIC8gZGVjb2RlXG4qICBodHRwOi8vd3d3LndlYnRvb2xraXQuaW5mby9cbipcbioqL1xuIFxudmFyIEJhc2U2NCA9IHtcbiBcblx0Ly8gcHJpdmF0ZSBwcm9wZXJ0eVxuXHRfa2V5U3RyIDogXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLFxuIFxuXHQvLyBwdWJsaWMgbWV0aG9kIGZvciBlbmNvZGluZ1xuXHRlbmNvZGUgOiBmdW5jdGlvbiAoaW5wdXQpIHtcblx0XHR2YXIgb3V0cHV0ID0gXCJcIjtcblx0XHR2YXIgY2hyMSwgY2hyMiwgY2hyMywgZW5jMSwgZW5jMiwgZW5jMywgZW5jNDtcblx0XHR2YXIgaSA9IDA7XG4gXG5cdFx0aW5wdXQgPSBCYXNlNjQuX3V0ZjhfZW5jb2RlKGlucHV0KTtcbiBcblx0XHR3aGlsZSAoaSA8IGlucHV0Lmxlbmd0aCkge1xuIFxuXHRcdFx0Y2hyMSA9IGlucHV0LmNoYXJDb2RlQXQoaSsrKTtcblx0XHRcdGNocjIgPSBpbnB1dC5jaGFyQ29kZUF0KGkrKyk7XG5cdFx0XHRjaHIzID0gaW5wdXQuY2hhckNvZGVBdChpKyspO1xuIFxuXHRcdFx0ZW5jMSA9IGNocjEgPj4gMjtcblx0XHRcdGVuYzIgPSAoKGNocjEgJiAzKSA8PCA0KSB8IChjaHIyID4+IDQpO1xuXHRcdFx0ZW5jMyA9ICgoY2hyMiAmIDE1KSA8PCAyKSB8IChjaHIzID4+IDYpO1xuXHRcdFx0ZW5jNCA9IGNocjMgJiA2MztcbiBcblx0XHRcdGlmIChpc05hTihjaHIyKSkge1xuXHRcdFx0XHRlbmMzID0gZW5jNCA9IDY0O1xuXHRcdFx0fSBlbHNlIGlmIChpc05hTihjaHIzKSkge1xuXHRcdFx0XHRlbmM0ID0gNjQ7XG5cdFx0XHR9XG4gXG5cdFx0XHRvdXRwdXQgPSBvdXRwdXQgK1xuXHRcdFx0dGhpcy5fa2V5U3RyLmNoYXJBdChlbmMxKSArIHRoaXMuX2tleVN0ci5jaGFyQXQoZW5jMikgK1xuXHRcdFx0dGhpcy5fa2V5U3RyLmNoYXJBdChlbmMzKSArIHRoaXMuX2tleVN0ci5jaGFyQXQoZW5jNCk7XG4gXG5cdFx0fVxuIFxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH0sXG4gXG5cdC8vIHB1YmxpYyBtZXRob2QgZm9yIGRlY29kaW5nXG5cdGRlY29kZSA6IGZ1bmN0aW9uIChpbnB1dCkge1xuXHRcdHZhciBvdXRwdXQgPSBcIlwiO1xuXHRcdHZhciBjaHIxLCBjaHIyLCBjaHIzO1xuXHRcdHZhciBlbmMxLCBlbmMyLCBlbmMzLCBlbmM0O1xuXHRcdHZhciBpID0gMDtcbiBcblx0XHRpbnB1dCA9IGlucHV0LnJlcGxhY2UoL1teQS1aYS16MC05XFwrXFwvXFw9XS9nLCBcIlwiKTtcbiBcblx0XHR3aGlsZSAoaSA8IGlucHV0Lmxlbmd0aCkge1xuIFxuXHRcdFx0ZW5jMSA9IHRoaXMuX2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcblx0XHRcdGVuYzIgPSB0aGlzLl9rZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk7XG5cdFx0XHRlbmMzID0gdGhpcy5fa2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpO1xuXHRcdFx0ZW5jNCA9IHRoaXMuX2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKTtcbiBcblx0XHRcdGNocjEgPSAoZW5jMSA8PCAyKSB8IChlbmMyID4+IDQpO1xuXHRcdFx0Y2hyMiA9ICgoZW5jMiAmIDE1KSA8PCA0KSB8IChlbmMzID4+IDIpO1xuXHRcdFx0Y2hyMyA9ICgoZW5jMyAmIDMpIDw8IDYpIHwgZW5jNDtcbiBcblx0XHRcdG91dHB1dCA9IG91dHB1dCArIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hyMSk7XG4gXG5cdFx0XHRpZiAoZW5jMyAhPSA2NCkge1xuXHRcdFx0XHRvdXRwdXQgPSBvdXRwdXQgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKGNocjIpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGVuYzQgIT0gNjQpIHtcblx0XHRcdFx0b3V0cHV0ID0gb3V0cHV0ICsgU3RyaW5nLmZyb21DaGFyQ29kZShjaHIzKTtcblx0XHRcdH1cbiBcblx0XHR9XG4gXG5cdFx0b3V0cHV0ID0gQmFzZTY0Ll91dGY4X2RlY29kZShvdXRwdXQpO1xuIFxuXHRcdHJldHVybiBvdXRwdXQ7XG4gXG5cdH0sXG4gXG5cdC8vIHByaXZhdGUgbWV0aG9kIGZvciBVVEYtOCBlbmNvZGluZ1xuXHRfdXRmOF9lbmNvZGUgOiBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpO1xuXHRcdHZhciB1dGZ0ZXh0ID0gXCJcIjtcbiBcblx0XHRmb3IgKHZhciBuID0gMDsgbiA8IHN0cmluZy5sZW5ndGg7IG4rKykge1xuIFxuXHRcdFx0dmFyIGMgPSBzdHJpbmcuY2hhckNvZGVBdChuKTtcbiBcblx0XHRcdGlmIChjIDwgMTI4KSB7XG5cdFx0XHRcdHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYoKGMgPiAxMjcpICYmIChjIDwgMjA0OCkpIHtcblx0XHRcdFx0dXRmdGV4dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjID4+IDYpIHwgMTkyKTtcblx0XHRcdFx0dXRmdGV4dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChjICYgNjMpIHwgMTI4KTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHR1dGZ0ZXh0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKGMgPj4gMTIpIHwgMjI0KTtcblx0XHRcdFx0dXRmdGV4dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYyA+PiA2KSAmIDYzKSB8IDEyOCk7XG5cdFx0XHRcdHV0ZnRleHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYyAmIDYzKSB8IDEyOCk7XG5cdFx0XHR9XG4gXG5cdFx0fVxuIFxuXHRcdHJldHVybiB1dGZ0ZXh0O1xuXHR9LFxuIFxuXHQvLyBwcml2YXRlIG1ldGhvZCBmb3IgVVRGLTggZGVjb2Rpbmdcblx0X3V0ZjhfZGVjb2RlIDogZnVuY3Rpb24gKHV0ZnRleHQpIHtcblx0XHR2YXIgc3RyaW5nID0gXCJcIjtcblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIGMgPSBjMSA9IGMyID0gMDtcbiBcblx0XHR3aGlsZSAoIGkgPCB1dGZ0ZXh0Lmxlbmd0aCApIHtcbiBcblx0XHRcdGMgPSB1dGZ0ZXh0LmNoYXJDb2RlQXQoaSk7XG4gXG5cdFx0XHRpZiAoYyA8IDEyOCkge1xuXHRcdFx0XHRzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcblx0XHRcdFx0aSsrO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZigoYyA+IDE5MSkgJiYgKGMgPCAyMjQpKSB7XG5cdFx0XHRcdGMyID0gdXRmdGV4dC5jaGFyQ29kZUF0KGkrMSk7XG5cdFx0XHRcdHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYyAmIDMxKSA8PCA2KSB8IChjMiAmIDYzKSk7XG5cdFx0XHRcdGkgKz0gMjtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRjMiA9IHV0ZnRleHQuY2hhckNvZGVBdChpKzEpO1xuXHRcdFx0XHRjMyA9IHV0ZnRleHQuY2hhckNvZGVBdChpKzIpO1xuXHRcdFx0XHRzdHJpbmcgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMgJiAxNSkgPDwgMTIpIHwgKChjMiAmIDYzKSA8PCA2KSB8IChjMyAmIDYzKSk7XG5cdFx0XHRcdGkgKz0gMztcblx0XHRcdH1cbiBcblx0XHR9XG4gXG5cdFx0cmV0dXJuIHN0cmluZztcblx0fVxuIFxufSIsIi8qXHJcbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2VjdXJlIEhhc2ggQWxnb3JpdGhtLCBTSEEtMSwgYXMgZGVmaW5lZFxyXG4gKiBpbiBGSVBTIFBVQiAxODAtMVxyXG4gKiBWZXJzaW9uIDIuMWEgQ29weXJpZ2h0IFBhdWwgSm9obnN0b24gMjAwMCAtIDIwMDIuXHJcbiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXRcclxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXHJcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBkZXRhaWxzLlxyXG4gKi9cclxuXHJcbi8qXHJcbiAqIENvbmZpZ3VyYWJsZSB2YXJpYWJsZXMuIFlvdSBtYXkgbmVlZCB0byB0d2VhayB0aGVzZSB0byBiZSBjb21wYXRpYmxlIHdpdGhcclxuICogdGhlIHNlcnZlci1zaWRlLCBidXQgdGhlIGRlZmF1bHRzIHdvcmsgaW4gbW9zdCBjYXNlcy5cclxuICovXHJcbnZhciBoZXhjYXNlID0gMDsgIC8qIGhleCBvdXRwdXQgZm9ybWF0LiAwIC0gbG93ZXJjYXNlOyAxIC0gdXBwZXJjYXNlICAgICAgICAqL1xyXG52YXIgYjY0cGFkICA9IFwiPVwiOyAvKiBiYXNlLTY0IHBhZCBjaGFyYWN0ZXIuIFwiPVwiIGZvciBzdHJpY3QgUkZDIGNvbXBsaWFuY2UgICAqL1xyXG52YXIgY2hyc3ogICA9IDg7ICAvKiBiaXRzIHBlciBpbnB1dCBjaGFyYWN0ZXIuIDggLSBBU0NJSTsgMTYgLSBVbmljb2RlICAgICAgKi9cclxuXHJcbi8qXHJcbiAqIFRoZXNlIGFyZSB0aGUgZnVuY3Rpb25zIHlvdSdsbCB1c3VhbGx5IHdhbnQgdG8gY2FsbFxyXG4gKiBUaGV5IHRha2Ugc3RyaW5nIGFyZ3VtZW50cyBhbmQgcmV0dXJuIGVpdGhlciBoZXggb3IgYmFzZS02NCBlbmNvZGVkIHN0cmluZ3NcclxuICovXHJcbmZ1bmN0aW9uIGhleF9zaGExKHMpe3JldHVybiBiaW5iMmhleChjb3JlX3NoYTEoc3RyMmJpbmIocykscy5sZW5ndGggKiBjaHJzeikpO31cclxuZnVuY3Rpb24gYjY0X3NoYTEocyl7cmV0dXJuIGJpbmIyYjY0KGNvcmVfc2hhMShzdHIyYmluYihzKSxzLmxlbmd0aCAqIGNocnN6KSk7fVxyXG5mdW5jdGlvbiBzdHJfc2hhMShzKXtyZXR1cm4gYmluYjJzdHIoY29yZV9zaGExKHN0cjJiaW5iKHMpLHMubGVuZ3RoICogY2hyc3opKTt9XHJcbmZ1bmN0aW9uIGhleF9obWFjX3NoYTEoa2V5LCBkYXRhKXsgcmV0dXJuIGJpbmIyaGV4KGNvcmVfaG1hY19zaGExKGtleSwgZGF0YSkpO31cclxuZnVuY3Rpb24gYjY0X2htYWNfc2hhMShrZXksIGRhdGEpeyByZXR1cm4gYmluYjJiNjQoY29yZV9obWFjX3NoYTEoa2V5LCBkYXRhKSk7fVxyXG5mdW5jdGlvbiBzdHJfaG1hY19zaGExKGtleSwgZGF0YSl7IHJldHVybiBiaW5iMnN0cihjb3JlX2htYWNfc2hhMShrZXksIGRhdGEpKTt9XHJcblxyXG4vKlxyXG4gKiBQZXJmb3JtIGEgc2ltcGxlIHNlbGYtdGVzdCB0byBzZWUgaWYgdGhlIFZNIGlzIHdvcmtpbmdcclxuICovXHJcbmZ1bmN0aW9uIHNoYTFfdm1fdGVzdCgpXHJcbntcclxuICByZXR1cm4gaGV4X3NoYTEoXCJhYmNcIikgPT0gXCJhOTk5M2UzNjQ3MDY4MTZhYmEzZTI1NzE3ODUwYzI2YzljZDBkODlkXCI7XHJcbn1cclxuXHJcbi8qXHJcbiAqIENhbGN1bGF0ZSB0aGUgU0hBLTEgb2YgYW4gYXJyYXkgb2YgYmlnLWVuZGlhbiB3b3JkcywgYW5kIGEgYml0IGxlbmd0aFxyXG4gKi9cclxuZnVuY3Rpb24gY29yZV9zaGExKHgsIGxlbilcclxue1xyXG4gIC8qIGFwcGVuZCBwYWRkaW5nICovXHJcbiAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCAoMjQgLSBsZW4gJSAzMik7XHJcbiAgeFsoKGxlbiArIDY0ID4+IDkpIDw8IDQpICsgMTVdID0gbGVuO1xyXG5cclxuICB2YXIgdyA9IEFycmF5KDgwKTtcclxuICB2YXIgYSA9ICAxNzMyNTg0MTkzO1xyXG4gIHZhciBiID0gLTI3MTczMzg3OTtcclxuICB2YXIgYyA9IC0xNzMyNTg0MTk0O1xyXG4gIHZhciBkID0gIDI3MTczMzg3ODtcclxuICB2YXIgZSA9IC0xMDA5NTg5Nzc2O1xyXG5cclxuICBmb3IodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMTYpXHJcbiAge1xyXG4gICAgdmFyIG9sZGEgPSBhO1xyXG4gICAgdmFyIG9sZGIgPSBiO1xyXG4gICAgdmFyIG9sZGMgPSBjO1xyXG4gICAgdmFyIG9sZGQgPSBkO1xyXG4gICAgdmFyIG9sZGUgPSBlO1xyXG5cclxuICAgIGZvcih2YXIgaiA9IDA7IGogPCA4MDsgaisrKVxyXG4gICAge1xyXG4gICAgICBpZihqIDwgMTYpIHdbal0gPSB4W2kgKyBqXTtcclxuICAgICAgZWxzZSB3W2pdID0gcm9sKHdbai0zXSBeIHdbai04XSBeIHdbai0xNF0gXiB3W2otMTZdLCAxKTtcclxuICAgICAgdmFyIHQgPSBzYWZlX2FkZChzYWZlX2FkZChyb2woYSwgNSksIHNoYTFfZnQoaiwgYiwgYywgZCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHNhZmVfYWRkKHNhZmVfYWRkKGUsIHdbal0pLCBzaGExX2t0KGopKSk7XHJcbiAgICAgIGUgPSBkO1xyXG4gICAgICBkID0gYztcclxuICAgICAgYyA9IHJvbChiLCAzMCk7XHJcbiAgICAgIGIgPSBhO1xyXG4gICAgICBhID0gdDtcclxuICAgIH1cclxuXHJcbiAgICBhID0gc2FmZV9hZGQoYSwgb2xkYSk7XHJcbiAgICBiID0gc2FmZV9hZGQoYiwgb2xkYik7XHJcbiAgICBjID0gc2FmZV9hZGQoYywgb2xkYyk7XHJcbiAgICBkID0gc2FmZV9hZGQoZCwgb2xkZCk7XHJcbiAgICBlID0gc2FmZV9hZGQoZSwgb2xkZSk7XHJcbiAgfVxyXG4gIHJldHVybiBBcnJheShhLCBiLCBjLCBkLCBlKTtcclxuXHJcbn1cclxuXHJcbi8qXHJcbiAqIFBlcmZvcm0gdGhlIGFwcHJvcHJpYXRlIHRyaXBsZXQgY29tYmluYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBjdXJyZW50XHJcbiAqIGl0ZXJhdGlvblxyXG4gKi9cclxuZnVuY3Rpb24gc2hhMV9mdCh0LCBiLCBjLCBkKVxyXG57XHJcbiAgaWYodCA8IDIwKSByZXR1cm4gKGIgJiBjKSB8ICgofmIpICYgZCk7XHJcbiAgaWYodCA8IDQwKSByZXR1cm4gYiBeIGMgXiBkO1xyXG4gIGlmKHQgPCA2MCkgcmV0dXJuIChiICYgYykgfCAoYiAmIGQpIHwgKGMgJiBkKTtcclxuICByZXR1cm4gYiBeIGMgXiBkO1xyXG59XHJcblxyXG4vKlxyXG4gKiBEZXRlcm1pbmUgdGhlIGFwcHJvcHJpYXRlIGFkZGl0aXZlIGNvbnN0YW50IGZvciB0aGUgY3VycmVudCBpdGVyYXRpb25cclxuICovXHJcbmZ1bmN0aW9uIHNoYTFfa3QodClcclxue1xyXG4gIHJldHVybiAodCA8IDIwKSA/ICAxNTE4NTAwMjQ5IDogKHQgPCA0MCkgPyAgMTg1OTc3NTM5MyA6XHJcbiAgICAgICAgICh0IDwgNjApID8gLTE4OTQwMDc1ODggOiAtODk5NDk3NTE0O1xyXG59XHJcblxyXG4vKlxyXG4gKiBDYWxjdWxhdGUgdGhlIEhNQUMtU0hBMSBvZiBhIGtleSBhbmQgc29tZSBkYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3JlX2htYWNfc2hhMShrZXksIGRhdGEpXHJcbntcclxuICB2YXIgYmtleSA9IHN0cjJiaW5iKGtleSk7XHJcbiAgaWYoYmtleS5sZW5ndGggPiAxNikgYmtleSA9IGNvcmVfc2hhMShia2V5LCBrZXkubGVuZ3RoICogY2hyc3opO1xyXG5cclxuICB2YXIgaXBhZCA9IEFycmF5KDE2KSwgb3BhZCA9IEFycmF5KDE2KTtcclxuICBmb3IodmFyIGkgPSAwOyBpIDwgMTY7IGkrKylcclxuICB7XHJcbiAgICBpcGFkW2ldID0gYmtleVtpXSBeIDB4MzYzNjM2MzY7XHJcbiAgICBvcGFkW2ldID0gYmtleVtpXSBeIDB4NUM1QzVDNUM7XHJcbiAgfVxyXG5cclxuICB2YXIgaGFzaCA9IGNvcmVfc2hhMShpcGFkLmNvbmNhdChzdHIyYmluYihkYXRhKSksIDUxMiArIGRhdGEubGVuZ3RoICogY2hyc3opO1xyXG4gIHJldHVybiBjb3JlX3NoYTEob3BhZC5jb25jYXQoaGFzaCksIDUxMiArIDE2MCk7XHJcbn1cclxuXHJcbi8qXHJcbiAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHlcclxuICogdG8gd29yayBhcm91bmQgYnVncyBpbiBzb21lIEpTIGludGVycHJldGVycy5cclxuICovXHJcbmZ1bmN0aW9uIHNhZmVfYWRkKHgsIHkpXHJcbntcclxuICB2YXIgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpO1xyXG4gIHZhciBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcclxuICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcclxufVxyXG5cclxuLypcclxuICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxyXG4gKi9cclxuZnVuY3Rpb24gcm9sKG51bSwgY250KVxyXG57XHJcbiAgcmV0dXJuIChudW0gPDwgY250KSB8IChudW0gPj4+ICgzMiAtIGNudCkpO1xyXG59XHJcblxyXG4vKlxyXG4gKiBDb252ZXJ0IGFuIDgtYml0IG9yIDE2LWJpdCBzdHJpbmcgdG8gYW4gYXJyYXkgb2YgYmlnLWVuZGlhbiB3b3Jkc1xyXG4gKiBJbiA4LWJpdCBmdW5jdGlvbiwgY2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGktYnl0ZSBzaWxlbnRseSBpZ25vcmVkLlxyXG4gKi9cclxuZnVuY3Rpb24gc3RyMmJpbmIoc3RyKVxyXG57XHJcbiAgdmFyIGJpbiA9IEFycmF5KCk7XHJcbiAgdmFyIG1hc2sgPSAoMSA8PCBjaHJzeikgLSAxO1xyXG4gIGZvcih2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoICogY2hyc3o7IGkgKz0gY2hyc3opXHJcbiAgICBiaW5baT4+NV0gfD0gKHN0ci5jaGFyQ29kZUF0KGkgLyBjaHJzeikgJiBtYXNrKSA8PCAoMzIgLSBjaHJzeiAtIGklMzIpO1xyXG4gIHJldHVybiBiaW47XHJcbn1cclxuXHJcbi8qXHJcbiAqIENvbnZlcnQgYW4gYXJyYXkgb2YgYmlnLWVuZGlhbiB3b3JkcyB0byBhIHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gYmluYjJzdHIoYmluKVxyXG57XHJcbiAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgdmFyIG1hc2sgPSAoMSA8PCBjaHJzeikgLSAxO1xyXG4gIGZvcih2YXIgaSA9IDA7IGkgPCBiaW4ubGVuZ3RoICogMzI7IGkgKz0gY2hyc3opXHJcbiAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoYmluW2k+PjVdID4+PiAoMzIgLSBjaHJzeiAtIGklMzIpKSAmIG1hc2spO1xyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuXHJcbi8qXHJcbiAqIENvbnZlcnQgYW4gYXJyYXkgb2YgYmlnLWVuZGlhbiB3b3JkcyB0byBhIGhleCBzdHJpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBiaW5iMmhleChiaW5hcnJheSlcclxue1xyXG4gIHZhciBoZXhfdGFiID0gaGV4Y2FzZSA/IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiIDogXCIwMTIzNDU2Nzg5YWJjZGVmXCI7XHJcbiAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgZm9yKHZhciBpID0gMDsgaSA8IGJpbmFycmF5Lmxlbmd0aCAqIDQ7IGkrKylcclxuICB7XHJcbiAgICBzdHIgKz0gaGV4X3RhYi5jaGFyQXQoKGJpbmFycmF5W2k+PjJdID4+ICgoMyAtIGklNCkqOCs0KSkgJiAweEYpICtcclxuICAgICAgICAgICBoZXhfdGFiLmNoYXJBdCgoYmluYXJyYXlbaT4+Ml0gPj4gKCgzIC0gaSU0KSo4ICApKSAmIDB4Rik7XHJcbiAgfVxyXG4gIHJldHVybiBzdHI7XHJcbn1cclxuXHJcbi8qXHJcbiAqIENvbnZlcnQgYW4gYXJyYXkgb2YgYmlnLWVuZGlhbiB3b3JkcyB0byBhIGJhc2UtNjQgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBiaW5iMmI2NChiaW5hcnJheSlcclxue1xyXG4gIHZhciB0YWIgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcclxuICB2YXIgc3RyID0gXCJcIjtcclxuICBmb3IodmFyIGkgPSAwOyBpIDwgYmluYXJyYXkubGVuZ3RoICogNDsgaSArPSAzKVxyXG4gIHtcclxuICAgIHZhciB0cmlwbGV0ID0gKCgoYmluYXJyYXlbaSAgID4+IDJdID4+IDggKiAoMyAtICBpICAgJTQpKSAmIDB4RkYpIDw8IDE2KVxyXG4gICAgICAgICAgICAgICAgfCAoKChiaW5hcnJheVtpKzEgPj4gMl0gPj4gOCAqICgzIC0gKGkrMSklNCkpICYgMHhGRikgPDwgOCApXHJcbiAgICAgICAgICAgICAgICB8ICAoKGJpbmFycmF5W2krMiA+PiAyXSA+PiA4ICogKDMgLSAoaSsyKSU0KSkgJiAweEZGKTtcclxuICAgIGZvcih2YXIgaiA9IDA7IGogPCA0OyBqKyspXHJcbiAgICB7XHJcbiAgICAgIGlmKGkgKiA4ICsgaiAqIDYgPiBiaW5hcnJheS5sZW5ndGggKiAzMikgc3RyICs9IGI2NHBhZDtcclxuICAgICAgZWxzZSBzdHIgKz0gdGFiLmNoYXJBdCgodHJpcGxldCA+PiA2KigzLWopKSAmIDB4M0YpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gc3RyO1xyXG59XHJcbiIsIiFmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7cmV0dXJuXCJNYXJrZG93bi5ta19ibG9jayggXCIrdW5ldmFsKHRoaXMudG9TdHJpbmcoKSkrXCIsIFwiK3VuZXZhbCh0aGlzLnRyYWlsaW5nKStcIiwgXCIrdW5ldmFsKHRoaXMubGluZU51bWJlcikrXCIgKVwifWZ1bmN0aW9uIGMoKXt2YXIgYT1yZXF1aXJlKFwidXRpbFwiKTtyZXR1cm5cIk1hcmtkb3duLm1rX2Jsb2NrKCBcIithLmluc3BlY3QodGhpcy50b1N0cmluZygpKStcIiwgXCIrYS5pbnNwZWN0KHRoaXMudHJhaWxpbmcpK1wiLCBcIithLmluc3BlY3QodGhpcy5saW5lTnVtYmVyKStcIiApXCJ9ZnVuY3Rpb24gZChhKXtmb3IodmFyIGI9MCxjPS0xOy0xIT09KGM9YS5pbmRleE9mKFwiXFxuXCIsYysxKSk7KWIrKztyZXR1cm4gYn1mdW5jdGlvbiBlKGEpe3JldHVybiBhLnJlcGxhY2UoLyYvZyxcIiZhbXA7XCIpLnJlcGxhY2UoLzwvZyxcIiZsdDtcIikucmVwbGFjZSgvPi9nLFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLFwiJnF1b3Q7XCIpLnJlcGxhY2UoLycvZyxcIiYjMzk7XCIpfWZ1bmN0aW9uIGYoYSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpcmV0dXJuIGUoYSk7dmFyIGI9YS5zaGlmdCgpLGM9e30sZD1bXTtmb3IoIWEubGVuZ3RofHxcIm9iamVjdFwiIT10eXBlb2YgYVswXXx8YVswXWluc3RhbmNlb2YgQXJyYXl8fChjPWEuc2hpZnQoKSk7YS5sZW5ndGg7KWQucHVzaChmKGEuc2hpZnQoKSkpO3ZhciBnPVwiXCI7Zm9yKHZhciBoIGluIGMpZys9XCIgXCIraCsnPVwiJytlKGNbaF0pKydcIic7cmV0dXJuXCJpbWdcIj09PWJ8fFwiYnJcIj09PWJ8fFwiaHJcIj09PWI/XCI8XCIrYitnK1wiLz5cIjpcIjxcIitiK2crXCI+XCIrZC5qb2luKFwiXCIpK1wiPC9cIitiK1wiPlwifWZ1bmN0aW9uIGcoYSxiLGMpe3ZhciBkO2M9Y3x8e307dmFyIGU9YS5zbGljZSgwKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjLnByZXByb2Nlc3NUcmVlTm9kZSYmKGU9Yy5wcmVwcm9jZXNzVHJlZU5vZGUoZSxiKSk7dmFyIGY9byhlKTtpZihmKXtlWzFdPXt9O2ZvcihkIGluIGYpZVsxXVtkXT1mW2RdO2Y9ZVsxXX1pZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZTtzd2l0Y2goZVswXSl7Y2FzZVwiaGVhZGVyXCI6ZVswXT1cImhcIitlWzFdLmxldmVsLGRlbGV0ZSBlWzFdLmxldmVsO2JyZWFrO2Nhc2VcImJ1bGxldGxpc3RcIjplWzBdPVwidWxcIjticmVhaztjYXNlXCJudW1iZXJsaXN0XCI6ZVswXT1cIm9sXCI7YnJlYWs7Y2FzZVwibGlzdGl0ZW1cIjplWzBdPVwibGlcIjticmVhaztjYXNlXCJwYXJhXCI6ZVswXT1cInBcIjticmVhaztjYXNlXCJtYXJrZG93blwiOmVbMF09XCJodG1sXCIsZiYmZGVsZXRlIGYucmVmZXJlbmNlczticmVhaztjYXNlXCJjb2RlX2Jsb2NrXCI6ZVswXT1cInByZVwiLGQ9Zj8yOjE7dmFyIGg9W1wiY29kZVwiXTtoLnB1c2guYXBwbHkoaCxlLnNwbGljZShkLGUubGVuZ3RoLWQpKSxlW2RdPWg7YnJlYWs7Y2FzZVwiaW5saW5lY29kZVwiOmVbMF09XCJjb2RlXCI7YnJlYWs7Y2FzZVwiaW1nXCI6ZVsxXS5zcmM9ZVsxXS5ocmVmLGRlbGV0ZSBlWzFdLmhyZWY7YnJlYWs7Y2FzZVwibGluZWJyZWFrXCI6ZVswXT1cImJyXCI7YnJlYWs7Y2FzZVwibGlua1wiOmVbMF09XCJhXCI7YnJlYWs7Y2FzZVwibGlua19yZWZcIjplWzBdPVwiYVwiO3ZhciBpPWJbZi5yZWZdO2lmKCFpKXJldHVybiBmLm9yaWdpbmFsO2RlbGV0ZSBmLnJlZixmLmhyZWY9aS5ocmVmLGkudGl0bGUmJihmLnRpdGxlPWkudGl0bGUpLGRlbGV0ZSBmLm9yaWdpbmFsO2JyZWFrO2Nhc2VcImltZ19yZWZcIjplWzBdPVwiaW1nXCI7dmFyIGk9YltmLnJlZl07aWYoIWkpcmV0dXJuIGYub3JpZ2luYWw7ZGVsZXRlIGYucmVmLGYuc3JjPWkuaHJlZixpLnRpdGxlJiYoZi50aXRsZT1pLnRpdGxlKSxkZWxldGUgZi5vcmlnaW5hbH1pZihkPTEsZil7Zm9yKHZhciBqIGluIGVbMV0pe2Q9MjticmVha30xPT09ZCYmZS5zcGxpY2UoZCwxKX1mb3IoO2Q8ZS5sZW5ndGg7KytkKWVbZF09ZyhlW2RdLGIsYyk7cmV0dXJuIGV9ZnVuY3Rpb24gaChhKXtmb3IodmFyIGI9byhhKT8yOjE7YjxhLmxlbmd0aDspXCJzdHJpbmdcIj09dHlwZW9mIGFbYl0/YisxPGEubGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2YgYVtiKzFdP2FbYl0rPWEuc3BsaWNlKGIrMSwxKVswXTorK2I6KGgoYVtiXSksKytiKX1mdW5jdGlvbiBpKGEsYil7ZnVuY3Rpb24gYyhhKXt0aGlzLmxlbl9hZnRlcj1hLHRoaXMubmFtZT1cImNsb3NlX1wiK2J9dmFyIGQ9YStcIl9zdGF0ZVwiLGU9XCJzdHJvbmdcIj09PWE/XCJlbV9zdGF0ZVwiOlwic3Ryb25nX3N0YXRlXCI7cmV0dXJuIGZ1bmN0aW9uKGYpe2lmKHRoaXNbZF1bMF09PT1iKXJldHVybiB0aGlzW2RdLnNoaWZ0KCksW2YubGVuZ3RoLG5ldyBjKGYubGVuZ3RoLWIubGVuZ3RoKV07dmFyIGc9dGhpc1tlXS5zbGljZSgpLGg9dGhpc1tkXS5zbGljZSgpO3RoaXNbZF0udW5zaGlmdChiKTt2YXIgaT10aGlzLnByb2Nlc3NJbmxpbmUoZi5zdWJzdHIoYi5sZW5ndGgpKSxqPWlbaS5sZW5ndGgtMV07aWYodGhpc1tkXS5zaGlmdCgpLGogaW5zdGFuY2VvZiBjKXtpLnBvcCgpO3ZhciBrPWYubGVuZ3RoLWoubGVuX2FmdGVyO3JldHVybltrLFthXS5jb25jYXQoaSldfXJldHVybiB0aGlzW2VdPWcsdGhpc1tkXT1oLFtiLmxlbmd0aCxiXX19ZnVuY3Rpb24gaihhKXtmb3IodmFyIGI9YS5zcGxpdChcIlwiKSxjPVtcIlwiXSxkPSExO2IubGVuZ3RoOyl7dmFyIGU9Yi5zaGlmdCgpO3N3aXRjaChlKXtjYXNlXCIgXCI6ZD9jW2MubGVuZ3RoLTFdKz1lOmMucHVzaChcIlwiKTticmVhaztjYXNlXCInXCI6Y2FzZSdcIic6ZD0hZDticmVhaztjYXNlXCJcXFxcXCI6ZT1iLnNoaWZ0KCk7ZGVmYXVsdDpjW2MubGVuZ3RoLTFdKz1lfX1yZXR1cm4gY312YXIgaz17fTtrLm1rX2Jsb2NrPWZ1bmN0aW9uKGEsZCxlKXsxPT09YXJndW1lbnRzLmxlbmd0aCYmKGQ9XCJcXG5cXG5cIik7dmFyIGY9bmV3IFN0cmluZyhhKTtyZXR1cm4gZi50cmFpbGluZz1kLGYuaW5zcGVjdD1jLGYudG9Tb3VyY2U9Yix2b2lkIDAhPT1lJiYoZi5saW5lTnVtYmVyPWUpLGZ9O3ZhciBsPWsuaXNBcnJheT1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9O2suZm9yRWFjaD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaD9mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGEuZm9yRWFjaChiLGMpfTpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspYi5jYWxsKGN8fGEsYVtkXSxkLGEpfSxrLmlzRW1wdHk9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpaWYoaGFzT3duUHJvcGVydHkuY2FsbChhLGIpKXJldHVybiExO3JldHVybiEwfSxrLmV4dHJhY3RfYXR0cj1mdW5jdGlvbihhKXtyZXR1cm4gbChhKSYmYS5sZW5ndGg+MSYmXCJvYmplY3RcIj09dHlwZW9mIGFbMV0mJiFsKGFbMV0pP2FbMV06dm9pZCAwfTt2YXIgbT1mdW5jdGlvbihhKXtzd2l0Y2godHlwZW9mIGEpe2Nhc2VcInVuZGVmaW5lZFwiOnRoaXMuZGlhbGVjdD1tLmRpYWxlY3RzLkdydWJlcjticmVhaztjYXNlXCJvYmplY3RcIjp0aGlzLmRpYWxlY3Q9YTticmVhaztkZWZhdWx0OmlmKCEoYSBpbiBtLmRpYWxlY3RzKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIE1hcmtkb3duIGRpYWxlY3QgJ1wiK1N0cmluZyhhKStcIidcIik7dGhpcy5kaWFsZWN0PW0uZGlhbGVjdHNbYV19dGhpcy5lbV9zdGF0ZT1bXSx0aGlzLnN0cm9uZ19zdGF0ZT1bXSx0aGlzLmRlYnVnX2luZGVudD1cIlwifTttLmRpYWxlY3RzPXt9O3ZhciBuPW0ubWtfYmxvY2s9ay5ta19ibG9jayxsPWsuaXNBcnJheTttLnBhcnNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG0oYik7cmV0dXJuIGMudG9UcmVlKGEpfSxtLnByb3RvdHlwZS5zcGxpdF9ibG9ja3M9ZnVuY3Rpb24oYSl7YT1hLnJlcGxhY2UoLyhcXHJcXG58XFxufFxccikvZyxcIlxcblwiKTt2YXIgYixjPS8oW1xcc1xcU10rPykoJHxcXG4jfFxcbig/OlxccypcXG58JCkrKS9nLGU9W10sZj0xO2ZvcihudWxsIT09KGI9L14oXFxzKlxcbikvLmV4ZWMoYSkpJiYoZis9ZChiWzBdKSxjLmxhc3RJbmRleD1iWzBdLmxlbmd0aCk7bnVsbCE9PShiPWMuZXhlYyhhKSk7KVwiXFxuI1wiPT09YlsyXSYmKGJbMl09XCJcXG5cIixjLmxhc3RJbmRleC0tKSxlLnB1c2gobihiWzFdLGJbMl0sZikpLGYrPWQoYlswXSk7cmV0dXJuIGV9LG0ucHJvdG90eXBlLnByb2Nlc3NCbG9jaz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZGlhbGVjdC5ibG9jayxkPWMuX19vcmRlcl9fO2lmKFwiX19jYWxsX19cImluIGMpcmV0dXJuIGMuX19jYWxsX18uY2FsbCh0aGlzLGEsYik7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWNbZFtlXV0uY2FsbCh0aGlzLGEsYik7aWYoZilyZXR1cm4oIWwoZil8fGYubGVuZ3RoPjAmJiFsKGZbMF0pKSYmdGhpcy5kZWJ1ZyhkW2VdLFwiZGlkbid0IHJldHVybiBhIHByb3BlciBhcnJheVwiKSxmfXJldHVybltdfSxtLnByb3RvdHlwZS5wcm9jZXNzSW5saW5lPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRpYWxlY3QuaW5saW5lLl9fY2FsbF9fLmNhbGwodGhpcyxTdHJpbmcoYSkpfSxtLnByb3RvdHlwZS50b1RyZWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hIGluc3RhbmNlb2YgQXJyYXk/YTp0aGlzLnNwbGl0X2Jsb2NrcyhhKSxkPXRoaXMudHJlZTt0cnl7Zm9yKHRoaXMudHJlZT1ifHx0aGlzLnRyZWV8fFtcIm1hcmtkb3duXCJdO2MubGVuZ3RoOyl7dmFyIGU9dGhpcy5wcm9jZXNzQmxvY2soYy5zaGlmdCgpLGMpO2UubGVuZ3RoJiZ0aGlzLnRyZWUucHVzaC5hcHBseSh0aGlzLnRyZWUsZSl9cmV0dXJuIHRoaXMudHJlZX1maW5hbGx5e2ImJih0aGlzLnRyZWU9ZCl9fSxtLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe3ZhciBhPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7YS51bnNoaWZ0KHRoaXMuZGVidWdfaW5kZW50KSxcInVuZGVmaW5lZFwiIT10eXBlb2YgcHJpbnQmJnByaW50LmFwcGx5KHByaW50LGEpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZS5sb2cmJmNvbnNvbGUubG9nLmFwcGx5KG51bGwsYSl9LG0ucHJvdG90eXBlLmxvb3BfcmVfb3Zlcl9ibG9jaz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkLGU9Yi52YWx1ZU9mKCk7ZS5sZW5ndGgmJm51bGwhPT0oZD1hLmV4ZWMoZSkpOyllPWUuc3Vic3RyKGRbMF0ubGVuZ3RoKSxjLmNhbGwodGhpcyxkKTtyZXR1cm4gZX0sbS5idWlsZEJsb2NrT3JkZXI9ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpXCJfX29yZGVyX19cIiE9PWMmJlwiX19jYWxsX19cIiE9PWMmJmIucHVzaChjKTthLl9fb3JkZXJfXz1ifSxtLmJ1aWxkSW5saW5lUGF0dGVybnM9ZnVuY3Rpb24oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpaWYoIWMubWF0Y2goL15fXy4qX18kLykpe3ZhciBkPWMucmVwbGFjZSgvKFtcXFxcLiorP3woKVxcW1xcXXt9XSkvZyxcIlxcXFwkMVwiKS5yZXBsYWNlKC9cXG4vLFwiXFxcXG5cIik7Yi5wdXNoKDE9PT1jLmxlbmd0aD9kOlwiKD86XCIrZCtcIilcIil9Yj1iLmpvaW4oXCJ8XCIpLGEuX19wYXR0ZXJuc19fPWI7dmFyIGU9YS5fX2NhbGxfXzthLl9fY2FsbF9fPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIHZvaWQgMCE9PWM/ZS5jYWxsKHRoaXMsYSxjKTplLmNhbGwodGhpcyxhLGIpfX07dmFyIG89ay5leHRyYWN0X2F0dHI7bS5yZW5kZXJKc29uTUw9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9LGIucm9vdD1iLnJvb3R8fCExO3ZhciBjPVtdO2lmKGIucm9vdCljLnB1c2goZihhKSk7ZWxzZSBmb3IoYS5zaGlmdCgpLCFhLmxlbmd0aHx8XCJvYmplY3RcIiE9dHlwZW9mIGFbMF18fGFbMF1pbnN0YW5jZW9mIEFycmF5fHxhLnNoaWZ0KCk7YS5sZW5ndGg7KWMucHVzaChmKGEuc2hpZnQoKSkpO3JldHVybiBjLmpvaW4oXCJcXG5cXG5cIil9LG0udG9IVE1MVHJlZT1mdW5jdGlvbihhLGIsYyl7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPXRoaXMucGFyc2UoYSxiKSk7dmFyIGQ9byhhKSxlPXt9O2QmJmQucmVmZXJlbmNlcyYmKGU9ZC5yZWZlcmVuY2VzKTt2YXIgZj1nKGEsZSxjKTtyZXR1cm4gaChmKSxmfSxtLnRvSFRNTD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy50b0hUTUxUcmVlKGEsYixjKTtyZXR1cm4gdGhpcy5yZW5kZXJKc29uTUwoZCl9O3ZhciBwPXt9O3AuaW5saW5lX3VudGlsX2NoYXI9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkPVtdOzspe2lmKGEuY2hhckF0KGMpPT09YilyZXR1cm4gYysrLFtjLGRdO2lmKGM+PWEubGVuZ3RoKXJldHVybiBudWxsO3ZhciBlPXRoaXMuZGlhbGVjdC5pbmxpbmUuX19vbmVFbGVtZW50X18uY2FsbCh0aGlzLGEuc3Vic3RyKGMpKTtjKz1lWzBdLGQucHVzaC5hcHBseShkLGUuc2xpY2UoMSkpfX0scC5zdWJjbGFzc0RpYWxlY3Q9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe31mdW5jdGlvbiBjKCl7fXJldHVybiBiLnByb3RvdHlwZT1hLmJsb2NrLGMucHJvdG90eXBlPWEuaW5saW5lLHtibG9jazpuZXcgYixpbmxpbmU6bmV3IGN9fTt2YXIgcT1rLmZvckVhY2gsbz1rLmV4dHJhY3RfYXR0cixuPWsubWtfYmxvY2sscj1rLmlzRW1wdHkscz1wLmlubGluZV91bnRpbF9jaGFyLHQ9e2Jsb2NrOnthdHhIZWFkZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLm1hdGNoKC9eKCN7MSw2fSlcXHMqKC4qPylcXHMqIypcXHMqKD86XFxufCQpLyk7aWYoIWMpcmV0dXJuIHZvaWQgMDt2YXIgZD1bXCJoZWFkZXJcIix7bGV2ZWw6Y1sxXS5sZW5ndGh9XTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoZCx0aGlzLnByb2Nlc3NJbmxpbmUoY1syXSkpLGNbMF0ubGVuZ3RoPGEubGVuZ3RoJiZiLnVuc2hpZnQobihhLnN1YnN0cihjWzBdLmxlbmd0aCksYS50cmFpbGluZyxhLmxpbmVOdW1iZXIrMikpLFtkXX0sc2V0ZXh0SGVhZGVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5tYXRjaCgvXiguKilcXG4oWy09XSlcXDJcXDIrKD86XFxufCQpLyk7aWYoIWMpcmV0dXJuIHZvaWQgMDt2YXIgZD1cIj1cIj09PWNbMl0/MToyLGU9W1wiaGVhZGVyXCIse2xldmVsOmR9LGNbMV1dO3JldHVybiBjWzBdLmxlbmd0aDxhLmxlbmd0aCYmYi51bnNoaWZ0KG4oYS5zdWJzdHIoY1swXS5sZW5ndGgpLGEudHJhaWxpbmcsYS5saW5lTnVtYmVyKzIpKSxbZV19LGNvZGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPS9eKD86IHswLDN9XFx0fCB7NH0pKC4qKVxcbj8vO2lmKCFhLm1hdGNoKGQpKXJldHVybiB2b2lkIDA7YTpmb3IoOzspe3ZhciBlPXRoaXMubG9vcF9yZV9vdmVyX2Jsb2NrKGQsYS52YWx1ZU9mKCksZnVuY3Rpb24oYSl7Yy5wdXNoKGFbMV0pfSk7aWYoZS5sZW5ndGgpe2IudW5zaGlmdChuKGUsYS50cmFpbGluZykpO2JyZWFrIGF9aWYoIWIubGVuZ3RoKWJyZWFrIGE7aWYoIWJbMF0ubWF0Y2goZCkpYnJlYWsgYTtjLnB1c2goYS50cmFpbGluZy5yZXBsYWNlKC9bXlxcbl0vZyxcIlwiKS5zdWJzdHJpbmcoMikpLGE9Yi5zaGlmdCgpfXJldHVybltbXCJjb2RlX2Jsb2NrXCIsYy5qb2luKFwiXFxuXCIpXV19LGhvcml6UnVsZTpmdW5jdGlvbihhLGIpe3ZhciBjPWEubWF0Y2goL14oPzooW1xcc1xcU10qPylcXG4pP1sgXFx0XSooWy1fKl0pKD86WyBcXHRdKlxcMil7Mix9WyBcXHRdKig/OlxcbihbXFxzXFxTXSopKT8kLyk7aWYoIWMpcmV0dXJuIHZvaWQgMDt2YXIgZD1bW1wiaHJcIl1dO2lmKGNbMV0pe3ZhciBlPW4oY1sxXSxcIlwiLGEubGluZU51bWJlcik7ZC51bnNoaWZ0LmFwcGx5KGQsdGhpcy50b1RyZWUoZSxbXSkpfXJldHVybiBjWzNdJiZiLnVuc2hpZnQobihjWzNdLGEudHJhaWxpbmcsYS5saW5lTnVtYmVyKzEpKSxkfSxsaXN0czpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIG5ldyBSZWdFeHAoXCIoPzpeKFwiK2krXCJ7MCxcIithK1wifSB7MCwzfSkoXCIrZitcIilcXFxccyspfFwiK1wiKF5cIitpK1wiezAsXCIrKGEtMSkrXCJ9WyBdezAsNH0pXCIpfWZ1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvIHswLDN9XFx0L2csXCIgICAgXCIpfWZ1bmN0aW9uIGMoYSxiLGMsZCl7aWYoYilyZXR1cm4gYS5wdXNoKFtcInBhcmFcIl0uY29uY2F0KGMpKSx2b2lkIDA7dmFyIGU9YVthLmxlbmd0aC0xXWluc3RhbmNlb2YgQXJyYXkmJlwicGFyYVwiPT09YVthLmxlbmd0aC0xXVswXT9hW2EubGVuZ3RoLTFdOmE7ZCYmYS5sZW5ndGg+MSYmYy51bnNoaWZ0KGQpO2Zvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgZz1jW2ZdLGg9XCJzdHJpbmdcIj09dHlwZW9mIGc7aCYmZS5sZW5ndGg+MSYmXCJzdHJpbmdcIj09dHlwZW9mIGVbZS5sZW5ndGgtMV0/ZVtlLmxlbmd0aC0xXSs9ZzplLnB1c2goZyl9fWZ1bmN0aW9uIGQoYSxiKXtmb3IodmFyIGM9bmV3IFJlZ0V4cChcIl4oXCIraStcIntcIithK1wifS4qP1xcXFxuPykqJFwiKSxkPW5ldyBSZWdFeHAoXCJeXCIraStcIntcIithK1wifVwiLFwiZ21cIiksZT1bXTtiLmxlbmd0aD4wJiZjLmV4ZWMoYlswXSk7KXt2YXIgZj1iLnNoaWZ0KCksZz1mLnJlcGxhY2UoZCxcIlwiKTtlLnB1c2gobihnLGYudHJhaWxpbmcsZi5saW5lTnVtYmVyKSl9cmV0dXJuIGV9ZnVuY3Rpb24gZShhLGIsYyl7dmFyIGQ9YS5saXN0LGU9ZFtkLmxlbmd0aC0xXTtpZighKGVbMV1pbnN0YW5jZW9mIEFycmF5JiZcInBhcmFcIj09PWVbMV1bMF0pKWlmKGIrMT09PWMubGVuZ3RoKWUucHVzaChbXCJwYXJhXCJdLmNvbmNhdChlLnNwbGljZSgxLGUubGVuZ3RoLTEpKSk7ZWxzZXt2YXIgZj1lLnBvcCgpO2UucHVzaChbXCJwYXJhXCJdLmNvbmNhdChlLnNwbGljZSgxLGUubGVuZ3RoLTEpKSxmKX19dmFyIGY9XCJbKistXXxcXFxcZCtcXFxcLlwiLGc9L1sqKy1dLyxoPW5ldyBSZWdFeHAoXCJeKCB7MCwzfSkoXCIrZitcIilbIFx0XStcIiksaT1cIig/OiB7MCwzfVxcXFx0fCB7NH0pXCI7cmV0dXJuIGZ1bmN0aW9uKGYsaSl7ZnVuY3Rpb24gaihhKXt2YXIgYj1nLmV4ZWMoYVsyXSk/W1wiYnVsbGV0bGlzdFwiXTpbXCJudW1iZXJsaXN0XCJdO3JldHVybiBuLnB1c2goe2xpc3Q6YixpbmRlbnQ6YVsxXX0pLGJ9dmFyIGs9Zi5tYXRjaChoKTtpZighaylyZXR1cm4gdm9pZCAwO2Zvcih2YXIgbCxtLG49W10sbz1qKGspLHA9ITEscj1bblswXS5saXN0XTs7KXtmb3IodmFyIHM9Zi5zcGxpdCgvKD89XFxuKS8pLHQ9XCJcIix1PVwiXCIsdj0wO3Y8cy5sZW5ndGg7disrKXt1PVwiXCI7dmFyIHc9c1t2XS5yZXBsYWNlKC9eXFxuLyxmdW5jdGlvbihhKXtyZXR1cm4gdT1hLFwiXCJ9KSx4PWEobi5sZW5ndGgpO2lmKGs9dy5tYXRjaCh4KSx2b2lkIDAhPT1rWzFdKXt0Lmxlbmd0aCYmKGMobCxwLHRoaXMucHJvY2Vzc0lubGluZSh0KSx1KSxwPSExLHQ9XCJcIiksa1sxXT1iKGtbMV0pO3ZhciB5PU1hdGguZmxvb3Ioa1sxXS5sZW5ndGgvNCkrMTtpZih5Pm4ubGVuZ3RoKW89aihrKSxsLnB1c2gobyksbD1vWzFdPVtcImxpc3RpdGVtXCJdO2Vsc2V7dmFyIHo9ITE7Zm9yKG09MDttPG4ubGVuZ3RoO20rKylpZihuW21dLmluZGVudD09PWtbMV0pe289blttXS5saXN0LG4uc3BsaWNlKG0rMSxuLmxlbmd0aC0obSsxKSksej0hMDticmVha316fHwoeSsrLHk8PW4ubGVuZ3RoPyhuLnNwbGljZSh5LG4ubGVuZ3RoLXkpLG89blt5LTFdLmxpc3QpOihvPWooayksbC5wdXNoKG8pKSksbD1bXCJsaXN0aXRlbVwiXSxvLnB1c2gobCl9dT1cIlwifXcubGVuZ3RoPmtbMF0ubGVuZ3RoJiYodCs9dSt3LnN1YnN0cihrWzBdLmxlbmd0aCkpfXQubGVuZ3RoJiYoYyhsLHAsdGhpcy5wcm9jZXNzSW5saW5lKHQpLHUpLHA9ITEsdD1cIlwiKTt2YXIgQT1kKG4ubGVuZ3RoLGkpO0EubGVuZ3RoPjAmJihxKG4sZSx0aGlzKSxsLnB1c2guYXBwbHkobCx0aGlzLnRvVHJlZShBLFtdKSkpO3ZhciBCPWlbMF0mJmlbMF0udmFsdWVPZigpfHxcIlwiO2lmKCFCLm1hdGNoKGgpJiYhQi5tYXRjaCgvXiAvKSlicmVhaztmPWkuc2hpZnQoKTt2YXIgQz10aGlzLmRpYWxlY3QuYmxvY2suaG9yaXpSdWxlKGYsaSk7aWYoQyl7ci5wdXNoLmFwcGx5KHIsQyk7YnJlYWt9cShuLGUsdGhpcykscD0hMH1yZXR1cm4gcn19KCksYmxvY2txdW90ZTpmdW5jdGlvbihhLGIpe2lmKCFhLm1hdGNoKC9ePi9tKSlyZXR1cm4gdm9pZCAwO3ZhciBjPVtdO2lmKFwiPlwiIT09YVswXSl7Zm9yKHZhciBkPWEuc3BsaXQoL1xcbi8pLGU9W10sZj1hLmxpbmVOdW1iZXI7ZC5sZW5ndGgmJlwiPlwiIT09ZFswXVswXTspZS5wdXNoKGQuc2hpZnQoKSksZisrO3ZhciBnPW4oZS5qb2luKFwiXFxuXCIpLFwiXFxuXCIsYS5saW5lTnVtYmVyKTtjLnB1c2guYXBwbHkoYyx0aGlzLnByb2Nlc3NCbG9jayhnLFtdKSksYT1uKGQuam9pbihcIlxcblwiKSxhLnRyYWlsaW5nLGYpfWZvcig7Yi5sZW5ndGgmJlwiPlwiPT09YlswXVswXTspe3ZhciBoPWIuc2hpZnQoKTthPW4oYSthLnRyYWlsaW5nK2gsaC50cmFpbGluZyxhLmxpbmVOdW1iZXIpfXZhciBpPWEucmVwbGFjZSgvXj4gPy9nbSxcIlwiKSxqPSh0aGlzLnRyZWUsdGhpcy50b1RyZWUoaSxbXCJibG9ja3F1b3RlXCJdKSksaz1vKGopO3JldHVybiBrJiZrLnJlZmVyZW5jZXMmJihkZWxldGUgay5yZWZlcmVuY2VzLHIoaykmJmouc3BsaWNlKDEsMSkpLGMucHVzaChqKSxjfSxyZWZlcmVuY2VEZWZuOmZ1bmN0aW9uKGEsYil7dmFyIGM9L15cXHMqXFxbKC4qPylcXF06XFxzKihcXFMrKSg/OlxccysoPzooWydcIl0pKC4qPylcXDN8XFwoKC4qPylcXCkpKT9cXG4/LztpZighYS5tYXRjaChjKSlyZXR1cm4gdm9pZCAwO28odGhpcy50cmVlKXx8dGhpcy50cmVlLnNwbGljZSgxLDAse30pO3ZhciBkPW8odGhpcy50cmVlKTt2b2lkIDA9PT1kLnJlZmVyZW5jZXMmJihkLnJlZmVyZW5jZXM9e30pO3ZhciBlPXRoaXMubG9vcF9yZV9vdmVyX2Jsb2NrKGMsYSxmdW5jdGlvbihhKXthWzJdJiZcIjxcIj09PWFbMl1bMF0mJlwiPlwiPT09YVsyXVthWzJdLmxlbmd0aC0xXSYmKGFbMl09YVsyXS5zdWJzdHJpbmcoMSxhWzJdLmxlbmd0aC0xKSk7dmFyIGI9ZC5yZWZlcmVuY2VzW2FbMV0udG9Mb3dlckNhc2UoKV09e2hyZWY6YVsyXX07dm9pZCAwIT09YVs0XT9iLnRpdGxlPWFbNF06dm9pZCAwIT09YVs1XSYmKGIudGl0bGU9YVs1XSl9KTtyZXR1cm4gZS5sZW5ndGgmJmIudW5zaGlmdChuKGUsYS50cmFpbGluZykpLFtdfSxwYXJhOmZ1bmN0aW9uKGEpe3JldHVybltbXCJwYXJhXCJdLmNvbmNhdCh0aGlzLnByb2Nlc3NJbmxpbmUoYSkpXX19LGlubGluZTp7X19vbmVFbGVtZW50X186ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGU7Yj1ifHx0aGlzLmRpYWxlY3QuaW5saW5lLl9fcGF0dGVybnNfXzt2YXIgZj1uZXcgUmVnRXhwKFwiKFtcXFxcc1xcXFxTXSo/KShcIisoYi5zb3VyY2V8fGIpK1wiKVwiKTtpZihkPWYuZXhlYyhhKSwhZClyZXR1cm5bYS5sZW5ndGgsYV07aWYoZFsxXSlyZXR1cm5bZFsxXS5sZW5ndGgsZFsxXV07dmFyIGU7cmV0dXJuIGRbMl1pbiB0aGlzLmRpYWxlY3QuaW5saW5lJiYoZT10aGlzLmRpYWxlY3QuaW5saW5lW2RbMl1dLmNhbGwodGhpcyxhLnN1YnN0cihkLmluZGV4KSxkLGN8fFtdKSksZT1lfHxbZFsyXS5sZW5ndGgsZFsyXV19LF9fY2FsbF9fOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmXCJzdHJpbmdcIj09dHlwZW9mIGVbZS5sZW5ndGgtMV0/ZVtlLmxlbmd0aC0xXSs9YTplLnB1c2goYSl9Zm9yKHZhciBkLGU9W107YS5sZW5ndGg+MDspZD10aGlzLmRpYWxlY3QuaW5saW5lLl9fb25lRWxlbWVudF9fLmNhbGwodGhpcyxhLGIsZSksYT1hLnN1YnN0cihkLnNoaWZ0KCkpLHEoZCxjKTtyZXR1cm4gZX0sXCJdXCI6ZnVuY3Rpb24oKXt9LFwifVwiOmZ1bmN0aW9uKCl7fSxfX2VzY2FwZV9fOi9eXFxcXFtcXFxcYFxcKl97fVxcW1xcXSgpI1xcKy4hXFwtXS8sXCJcXFxcXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZGlhbGVjdC5pbmxpbmUuX19lc2NhcGVfXy5leGVjKGEpP1syLGEuY2hhckF0KDEpXTpbMSxcIlxcXFxcIl19LFwiIVtcIjpmdW5jdGlvbihhKXt2YXIgYj1hLm1hdGNoKC9eIVxcWyguKj8pXFxdWyBcXHRdKlxcKFsgXFx0XSooW15cIildKj8pKD86WyBcXHRdKyhbXCInXSkoLio/KVxcMyk/WyBcXHRdKlxcKS8pO2lmKGIpe2JbMl0mJlwiPFwiPT09YlsyXVswXSYmXCI+XCI9PT1iWzJdW2JbMl0ubGVuZ3RoLTFdJiYoYlsyXT1iWzJdLnN1YnN0cmluZygxLGJbMl0ubGVuZ3RoLTEpKSxiWzJdPXRoaXMuZGlhbGVjdC5pbmxpbmUuX19jYWxsX18uY2FsbCh0aGlzLGJbMl0sL1xcXFwvKVswXTt2YXIgYz17YWx0OmJbMV0saHJlZjpiWzJdfHxcIlwifTtyZXR1cm4gdm9pZCAwIT09Yls0XSYmKGMudGl0bGU9Yls0XSksW2JbMF0ubGVuZ3RoLFtcImltZ1wiLGNdXX1yZXR1cm4gYj1hLm1hdGNoKC9eIVxcWyguKj8pXFxdWyBcXHRdKlxcWyguKj8pXFxdLyksYj9bYlswXS5sZW5ndGgsW1wiaW1nX3JlZlwiLHthbHQ6YlsxXSxyZWY6YlsyXS50b0xvd2VyQ2FzZSgpLG9yaWdpbmFsOmJbMF19XV06WzIsXCIhW1wiXX0sXCJbXCI6ZnVuY3Rpb24gdihhKXt2YXIgYj1TdHJpbmcoYSksYz1zLmNhbGwodGhpcyxhLnN1YnN0cigxKSxcIl1cIik7aWYoIWMpcmV0dXJuWzEsXCJbXCJdO3ZhciB2LGQsZT0xK2NbMF0sZj1jWzFdO2E9YS5zdWJzdHIoZSk7dmFyIGc9YS5tYXRjaCgvXlxccypcXChbIFxcdF0qKFteXCInXSopKD86WyBcXHRdKyhbXCInXSkoLio/KVxcMik/WyBcXHRdKlxcKS8pO2lmKGcpe3ZhciBoPWdbMV07aWYoZSs9Z1swXS5sZW5ndGgsaCYmXCI8XCI9PT1oWzBdJiZcIj5cIj09PWhbaC5sZW5ndGgtMV0mJihoPWguc3Vic3RyaW5nKDEsaC5sZW5ndGgtMSkpLCFnWzNdKWZvcih2YXIgaT0xLGo9MDtqPGgubGVuZ3RoO2orKylzd2l0Y2goaFtqXSl7Y2FzZVwiKFwiOmkrKzticmVhaztjYXNlXCIpXCI6MD09PS0taSYmKGUtPWgubGVuZ3RoLWosaD1oLnN1YnN0cmluZygwLGopKX1yZXR1cm4gaD10aGlzLmRpYWxlY3QuaW5saW5lLl9fY2FsbF9fLmNhbGwodGhpcyxoLC9cXFxcLylbMF0sZD17aHJlZjpofHxcIlwifSx2b2lkIDAhPT1nWzNdJiYoZC50aXRsZT1nWzNdKSx2PVtcImxpbmtcIixkXS5jb25jYXQoZiksW2Usdl19cmV0dXJuIGc9YS5tYXRjaCgvXlxccypcXFsoLio/KVxcXS8pLGc/KGUrPWdbMF0ubGVuZ3RoLGQ9e3JlZjooZ1sxXXx8U3RyaW5nKGYpKS50b0xvd2VyQ2FzZSgpLG9yaWdpbmFsOmIuc3Vic3RyKDAsZSl9LHY9W1wibGlua19yZWZcIixkXS5jb25jYXQoZiksW2Usdl0pOjE9PT1mLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGZbMF0/KGQ9e3JlZjpmWzBdLnRvTG93ZXJDYXNlKCksb3JpZ2luYWw6Yi5zdWJzdHIoMCxlKX0sdj1bXCJsaW5rX3JlZlwiLGQsZlswXV0sW2Usdl0pOlsxLFwiW1wiXX0sXCI8XCI6ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuIG51bGwhPT0oYj1hLm1hdGNoKC9ePCg/OigoaHR0cHM/fGZ0cHxtYWlsdG8pOltePl0rKXwoLio/QC4qP1xcLlthLXpBLVpdKykpPi8pKT9iWzNdP1tiWzBdLmxlbmd0aCxbXCJsaW5rXCIse2hyZWY6XCJtYWlsdG86XCIrYlszXX0sYlszXV1dOlwibWFpbHRvXCI9PT1iWzJdP1tiWzBdLmxlbmd0aCxbXCJsaW5rXCIse2hyZWY6YlsxXX0sYlsxXS5zdWJzdHIoXCJtYWlsdG86XCIubGVuZ3RoKV1dOltiWzBdLmxlbmd0aCxbXCJsaW5rXCIse2hyZWY6YlsxXX0sYlsxXV1dOlsxLFwiPFwiXX0sXCJgXCI6ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaCgvKGArKSgoW1xcc1xcU10qPylcXDEpLyk7cmV0dXJuIGImJmJbMl0/W2JbMV0ubGVuZ3RoK2JbMl0ubGVuZ3RoLFtcImlubGluZWNvZGVcIixiWzNdXV06WzEsXCJgXCJdfSxcIiAgXFxuXCI6ZnVuY3Rpb24oKXtyZXR1cm5bMyxbXCJsaW5lYnJlYWtcIl1dfX19O3QuaW5saW5lW1wiKipcIl09aShcInN0cm9uZ1wiLFwiKipcIiksdC5pbmxpbmUuX189aShcInN0cm9uZ1wiLFwiX19cIiksdC5pbmxpbmVbXCIqXCJdPWkoXCJlbVwiLFwiKlwiKSx0LmlubGluZS5fPWkoXCJlbVwiLFwiX1wiKSxtLmRpYWxlY3RzLkdydWJlcj10LG0uYnVpbGRCbG9ja09yZGVyKG0uZGlhbGVjdHMuR3J1YmVyLmJsb2NrKSxtLmJ1aWxkSW5saW5lUGF0dGVybnMobS5kaWFsZWN0cy5HcnViZXIuaW5saW5lKTt2YXIgdT1wLnN1YmNsYXNzRGlhbGVjdCh0KSxvPWsuZXh0cmFjdF9hdHRyLHE9ay5mb3JFYWNoO3UucHJvY2Vzc01ldGFIYXNoPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1qKGEpLGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKWlmKC9eIy8udGVzdChiW2RdKSljLmlkPWJbZF0uc3Vic3RyaW5nKDEpO2Vsc2UgaWYoL15cXC4vLnRlc3QoYltkXSkpY1tcImNsYXNzXCJdPWNbXCJjbGFzc1wiXT9jW1wiY2xhc3NcIl0rYltkXS5yZXBsYWNlKC8uLyxcIiBcIik6YltkXS5zdWJzdHJpbmcoMSk7ZWxzZSBpZigvXFw9Ly50ZXN0KGJbZF0pKXt2YXIgZT1iW2RdLnNwbGl0KC9cXD0vKTtjW2VbMF1dPWVbMV19cmV0dXJuIGN9LHUuYmxvY2suZG9jdW1lbnRfbWV0YT1mdW5jdGlvbihhKXtpZihhLmxpbmVOdW1iZXI+MSlyZXR1cm4gdm9pZCAwO2lmKCFhLm1hdGNoKC9eKD86XFx3KzouKlxcbikqXFx3KzouKiQvKSlyZXR1cm4gdm9pZCAwO28odGhpcy50cmVlKXx8dGhpcy50cmVlLnNwbGljZSgxLDAse30pO3ZhciBiPWEuc3BsaXQoL1xcbi8pO2Zvcih2YXIgYyBpbiBiKXt2YXIgZD1iW2NdLm1hdGNoKC8oXFx3Kyk6XFxzKiguKikkLyksZT1kWzFdLnRvTG93ZXJDYXNlKCksZj1kWzJdO3RoaXMudHJlZVsxXVtlXT1mfXJldHVybltdfSx1LmJsb2NrLmJsb2NrX21ldGE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5tYXRjaCgvKF58XFxuKSB7MCwzfVxcezpcXHMqKCg/OlxcXFxcXH18W15cXH1dKSopXFxzKlxcfSQvKTtpZighYilyZXR1cm4gdm9pZCAwO3ZhciBjLGQ9dGhpcy5kaWFsZWN0LnByb2Nlc3NNZXRhSGFzaChiWzJdKTtpZihcIlwiPT09YlsxXSl7dmFyIGU9dGhpcy50cmVlW3RoaXMudHJlZS5sZW5ndGgtMV07aWYoYz1vKGUpLFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiB2b2lkIDA7Y3x8KGM9e30sZS5zcGxpY2UoMSwwLGMpKTtmb3IodmFyIGYgaW4gZCljW2ZdPWRbZl07cmV0dXJuW119dmFyIGc9YS5yZXBsYWNlKC9cXG4uKiQvLFwiXCIpLGg9dGhpcy5wcm9jZXNzQmxvY2soZyxbXSk7Yz1vKGhbMF0pLGN8fChjPXt9LGhbMF0uc3BsaWNlKDEsMCxjKSk7Zm9yKHZhciBmIGluIGQpY1tmXT1kW2ZdO3JldHVybiBofSx1LmJsb2NrLmRlZmluaXRpb25fbGlzdD1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZT0vXigoPzpbXlxcczpdLipcXG4pKyk6XFxzKyhbXFxzXFxTXSspJC8sZj1bXCJkbFwiXTtpZighKGQ9YS5tYXRjaChlKSkpcmV0dXJuIHZvaWQgMDtmb3IodmFyIGc9W2FdO2IubGVuZ3RoJiZlLmV4ZWMoYlswXSk7KWcucHVzaChiLnNoaWZ0KCkpO2Zvcih2YXIgaD0wO2g8Zy5sZW5ndGg7KytoKXt2YXIgZD1nW2hdLm1hdGNoKGUpLGk9ZFsxXS5yZXBsYWNlKC9cXG4kLyxcIlwiKS5zcGxpdCgvXFxuLyksaj1kWzJdLnNwbGl0KC9cXG46XFxzKy8pO2ZvcihjPTA7YzxpLmxlbmd0aDsrK2MpZi5wdXNoKFtcImR0XCIsaVtjXV0pO2ZvcihjPTA7YzxqLmxlbmd0aDsrK2MpZi5wdXNoKFtcImRkXCJdLmNvbmNhdCh0aGlzLnByb2Nlc3NJbmxpbmUoaltjXS5yZXBsYWNlKC8oXFxuKVxccysvLFwiJDFcIikpKSl9cmV0dXJuW2ZdfSx1LmJsb2NrLnRhYmxlPWZ1bmN0aW9uIHcoYSl7dmFyIGIsYyxkPWZ1bmN0aW9uKGEsYil7Yj1ifHxcIlxcXFxzXCIsYi5tYXRjaCgvXltcXFxcfFxcW1xcXXt9PyouK14kXSQvKSYmKGI9XCJcXFxcXCIrYik7Zm9yKHZhciBjLGQ9W10sZT1uZXcgUmVnRXhwKFwiXigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFwiK2IrXCJdKSopXCIrYitcIiguKilcIik7Yz1hLm1hdGNoKGUpOylkLnB1c2goY1sxXSksYT1jWzJdO3JldHVybiBkLnB1c2goYSksZH0sZT0vXiB7MCwzfVxcfCguKylcXG4gezAsM31cXHxcXHMqKFtcXC06XStbXFwtfCA6XSopXFxuKCg/OlxccypcXHwuKig/OlxcbnwkKSkqKSg/PVxcbnwkKS8sZj0vXiB7MCwzfShcXFMoPzpcXFxcLnxbXlxcXFx8XSkqXFx8LiopXFxuIHswLDN9KFtcXC06XStcXHMqXFx8W1xcLXwgOl0qKVxcbigoPzooPzpcXFxcLnxbXlxcXFx8XSkqXFx8LiooPzpcXG58JCkpKikoPz1cXG58JCkvO2lmKGM9YS5tYXRjaChlKSljWzNdPWNbM10ucmVwbGFjZSgvXlxccypcXHwvZ20sXCJcIik7ZWxzZSBpZighKGM9YS5tYXRjaChmKSkpcmV0dXJuIHZvaWQgMDt2YXIgdz1bXCJ0YWJsZVwiLFtcInRoZWFkXCIsW1widHJcIl1dLFtcInRib2R5XCJdXTtjWzJdPWNbMl0ucmVwbGFjZSgvXFx8XFxzKiQvLFwiXCIpLnNwbGl0KFwifFwiKTt2YXIgZz1bXTtmb3IocShjWzJdLGZ1bmN0aW9uKGEpe2EubWF0Y2goL15cXHMqLSs6XFxzKiQvKT9nLnB1c2goe2FsaWduOlwicmlnaHRcIn0pOmEubWF0Y2goL15cXHMqOi0rXFxzKiQvKT9nLnB1c2goe2FsaWduOlwibGVmdFwifSk6YS5tYXRjaCgvXlxccyo6LSs6XFxzKiQvKT9nLnB1c2goe2FsaWduOlwiY2VudGVyXCJ9KTpnLnB1c2goe30pfSksY1sxXT1kKGNbMV0ucmVwbGFjZSgvXFx8XFxzKiQvLFwiXCIpLFwifFwiKSxiPTA7YjxjWzFdLmxlbmd0aDtiKyspd1sxXVsxXS5wdXNoKFtcInRoXCIsZ1tiXXx8e31dLmNvbmNhdCh0aGlzLnByb2Nlc3NJbmxpbmUoY1sxXVtiXS50cmltKCkpKSk7cmV0dXJuIHEoY1szXS5yZXBsYWNlKC9cXHxcXHMqJC9nbSxcIlwiKS5zcGxpdChcIlxcblwiKSxmdW5jdGlvbihhKXt2YXIgYz1bXCJ0clwiXTtmb3IoYT1kKGEsXCJ8XCIpLGI9MDtiPGEubGVuZ3RoO2IrKyljLnB1c2goW1widGRcIixnW2JdfHx7fV0uY29uY2F0KHRoaXMucHJvY2Vzc0lubGluZShhW2JdLnRyaW0oKSkpKTt3WzJdLnB1c2goYyl9LHRoaXMpLFt3XX0sdS5pbmxpbmVbXCJ7OlwiXT1mdW5jdGlvbihhLGIsYyl7aWYoIWMubGVuZ3RoKXJldHVyblsyLFwiezpcIl07dmFyIGQ9Y1tjLmxlbmd0aC0xXTtpZihcInN0cmluZ1wiPT10eXBlb2YgZClyZXR1cm5bMixcIns6XCJdO3ZhciBlPWEubWF0Y2goL15cXHs6XFxzKigoPzpcXFxcXFx9fFteXFx9XSkqKVxccypcXH0vKTtpZighZSlyZXR1cm5bMixcIns6XCJdO3ZhciBmPXRoaXMuZGlhbGVjdC5wcm9jZXNzTWV0YUhhc2goZVsxXSksZz1vKGQpO2d8fChnPXt9LGQuc3BsaWNlKDEsMCxnKSk7Zm9yKHZhciBoIGluIGYpZ1toXT1mW2hdO3JldHVybltlWzBdLmxlbmd0aCxcIlwiXX0sbS5kaWFsZWN0cy5NYXJ1a3U9dSxtLmRpYWxlY3RzLk1hcnVrdS5pbmxpbmUuX19lc2NhcGVfXz0vXlxcXFxbXFxcXGBcXCpfe31cXFtcXF0oKSNcXCsuIVxcLXw6XS8sbS5idWlsZEJsb2NrT3JkZXIobS5kaWFsZWN0cy5NYXJ1a3UuYmxvY2spLG0uYnVpbGRJbmxpbmVQYXR0ZXJucyhtLmRpYWxlY3RzLk1hcnVrdS5pbmxpbmUpLGEuTWFya2Rvd249bSxhLnBhcnNlPW0ucGFyc2UsYS50b0hUTUw9bS50b0hUTUwsYS50b0hUTUxUcmVlPW0udG9IVE1MVHJlZSxhLnJlbmRlckpzb25NTD1tLnJlbmRlckpzb25NTH0oZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93Lm1hcmtkb3duPXt9LHdpbmRvdy5tYXJrZG93bn0oKSk7IiwiLy8gRW5hYmxlcyB3YWl0aW5nIGZvciBhY2N1cmFjeVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2d3aWxzb24vZ2V0QWNjdXJhdGVDdXJyZW50UG9zaXRpb25cblxuLy8gQWJvcnQgaWYgaW4gcGhhbnRvbWpzIGJyb3dzZXJcbmlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24gIT0gbnVsbCkge1xuXG4gIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRBY2N1cmF0ZUN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChnZW9sb2NhdGlvblN1Y2Nlc3MsIGdlb2xvY2F0aW9uRXJyb3IsIGdlb3Byb2dyZXNzLCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdENoZWNrZWRQb3NpdGlvbixcbiAgICAgICAgICBsb2NhdGlvbkV2ZW50Q291bnQgPSAwLFxuICAgICAgICAgIHRpbWVySUQ7XG5cbiAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hJRCAhPSBudWxsKVxuICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hJRClcblxuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgIHZhciBjaGVja0xvY2F0aW9uID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgICAgbGFzdENoZWNrZWRQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICAgIGxvY2F0aW9uRXZlbnRDb3VudCA9IGxvY2F0aW9uRXZlbnRDb3VudCArIDE7XG4gICAgICAgICAgLy8gV2UgaWdub3JlIHRoZSBmaXJzdCBldmVudCB1bmxlc3MgaXQncyB0aGUgb25seSBvbmUgcmVjZWl2ZWQgYmVjYXVzZSBzb21lIGRldmljZXMgc2VlbSB0byBzZW5kIGEgY2FjaGVkXG4gICAgICAgICAgLy8gbG9jYXRpb24gZXZlbiB3aGVuIG1heGFpbXVtQWdlIGlzIHNldCB0byB6ZXJvXG4gICAgICAgICAgaWYgKChwb3NpdGlvbi5jb29yZHMuYWNjdXJhY3kgPD0gb3B0aW9ucy5kZXNpcmVkQWNjdXJhY3kpICYmIChsb2NhdGlvbkV2ZW50Q291bnQgPiAxKSkge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJRCk7XG4gICAgICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaElEKTtcbiAgICAgICAgICAgICAgZm91bmRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZ2VvcHJvZ3Jlc3MocG9zaXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHZhciBzdG9wVHJ5aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaElEKTtcbiAgICAgICAgICBmb3VuZFBvc2l0aW9uKGxhc3RDaGVja2VkUG9zaXRpb24pO1xuICAgICAgfTtcblxuICAgICAgdmFyIG9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJRCk7XG4gICAgICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2gobmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoSUQpO1xuICAgICAgICAgIGdlb2xvY2F0aW9uRXJyb3IoZXJyb3IpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGZvdW5kUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgICAgICBnZW9sb2NhdGlvblN1Y2Nlc3MocG9zaXRpb24pO1xuICAgICAgfTtcblxuICAgICAgaWYgKCFvcHRpb25zLm1heFdhaXQpICAgICAgICAgICAgb3B0aW9ucy5tYXhXYWl0ID0gMTAwMDA7IC8vIERlZmF1bHQgMTAgc2Vjb25kc1xuICAgICAgaWYgKCFvcHRpb25zLmRlc2lyZWRBY2N1cmFjeSkgICAgb3B0aW9ucy5kZXNpcmVkQWNjdXJhY3kgPSAyMDsgLy8gRGVmYXVsdCAyMCBtZXRlcnNcbiAgICAgIGlmICghb3B0aW9ucy50aW1lb3V0KSAgICAgICAgICAgIG9wdGlvbnMudGltZW91dCA9IG9wdGlvbnMubWF4V2FpdDsgLy8gRGVmYXVsdCB0byBtYXhXYWl0XG5cbiAgICAgIG9wdGlvbnMubWF4aW11bUFnZSA9IDA7IC8vIEZvcmNlIGN1cnJlbnQgbG9jYXRpb25zIG9ubHlcbiAgICAgIG9wdGlvbnMuZW5hYmxlSGlnaEFjY3VyYWN5ID0gdHJ1ZTsgLy8gRm9yY2UgaGlnaCBhY2N1cmFjeSAob3RoZXJ3aXNlLCB3aHkgYXJlIHlvdSB1c2luZyB0aGlzIGZ1bmN0aW9uPylcblxuICAgICAgbmF2aWdhdG9yLmdlb2xvY2F0aW9uLndhdGNoSUQgPSBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihjaGVja0xvY2F0aW9uLCBvbkVycm9yLCBvcHRpb25zKTtcbiAgICAgIHRpbWVySUQgPSBzZXRUaW1lb3V0KHN0b3BUcnlpbmcsIG9wdGlvbnMubWF4V2FpdCk7IC8vIFNldCBhIHRpbWVvdXQgdGhhdCB3aWxsIGFiYW5kb24gdGhlIGxvY2F0aW9uIGxvb3BcbiAgfTtcbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==